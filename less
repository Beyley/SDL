commit 3cf614b1a5e491cf503b0e3cad16aa605dfbfeff
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Wed May 31 22:09:38 2023 -0700

    SDL_audio + loadso + full working android support

commit 40d5251b4de102dc0548e37feaa67b66e4b638c2
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Wed May 31 18:26:48 2023 -0700

    WIP android target

commit 4204f686bad6eeb20f312e68269d69a208e61615
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Tue May 23 23:21:12 2023 -0700

    Specify lib as *std.Build.CompileStep
    this makes zls happy

commit 94d5758f49913b7cf98126176ff7bb609e435689
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 20:06:23 2023 -0700

    macos: haptic+joystick fixes

commit 04c47a127e1411e2bc79d4df9fbdd34a4bde40a3
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 19:45:10 2023 -0700

    Dont build windows main + windows haptic

commit ff9617c223b7ba3354754c66c2ba53e62a798f1a
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 19:17:18 2023 -0700

    Handle haptic implementations, fixes musl build

commit dcd085af449240d7ce2f815bc39d84a6bf18ab5d
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 18:59:47 2023 -0700

    Dont always defined DISABLED on linux builds
    
    This `minimal` file broke musl builds

commit 745f64acb117a0607b0e894d8fbd49e72bb6c349
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 18:48:17 2023 -0700

    Revert "Ditch SDL build configs, was causing problems"
    
    This reverts commit fa448553443da1af55eb4e1bbb409c858fcf0109.

commit fa448553443da1af55eb4e1bbb409c858fcf0109
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 18:32:16 2023 -0700

    Ditch SDL build configs, was causing problems

commit 78a90fbcaddc3645203c9a0b6d6b75da85fd635d
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 18:31:08 2023 -0700

    Properly set defines for thread implementation

commit 327d86e52b34a33a1509dc6faee46739b50c182d
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Mon May 8 17:33:01 2023 -0700

    Add codepath to use custom user linux sdk

commit 4b0aa7524615aa1c4a35b9a12e9190ec571b55e7
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Sun May 7 00:20:40 2023 -0700

    Properly define SDL_TIMER_* and cross compile to macos
    
    If you provide the right system-sdk in the path, it will grab it and link against it, allowing cross compilation from linux -> macos

commit 23a2dc64bb9ef40c4fe5c8e222bebe6a2ff50978
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Thu Apr 27 18:37:35 2023 -0700

    locale subsystem

commit 96d2ab3bb5ba2551d2575066d54b90f7e35f7374
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Thu Apr 27 18:24:10 2023 -0700

    timer subsystem

commit 003732db5c3728ede4ab0cd34e8bf98ccb3c31b2
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Thu Apr 27 18:06:58 2023 -0700

    Begin the work abstracting out the subsystem building
    
    before this commit we hardcoded all subsystems based on platform
    now some subsystems can be toggled in a more modular manner

commit fa8d4220decac3c87897a8fc0c93158123a9308d
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Thu Apr 27 18:05:40 2023 -0700

    Patches to x11 and wayland to fix compile errors

commit 1684bb2ba1f5ffdaaba48f83fd7fdbc6a61c598e
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Thu Apr 27 18:05:00 2023 -0700

    Add wayland protocols and associated header files

commit dfe138184cd97d6e33654cbb878187c251146c3b
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Fri Apr 21 16:41:43 2023 -0700

    Make cflags apply to generic and add more linux files
    
    This gets SDL much further in initializing on linux
    
    This also required a few patches over the original source code
    Maybe caused by a bug in the zig compiler? maybe not?

commit de7cb410f62c4139aaebe52a6e4508364ae8c905
Author: Beyley Thomas <ep1cm1n10n123@gmail.com>
Date:   Fri Apr 21 15:25:49 2023 -0700

    Add linux build support and shared lib support

commit aef95740310154ebd491bc35e0fdcd118b16ade0
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Apr 17 13:03:03 2023 -0700

    update to latest build.zig API

commit 73c38318443a98b80d7cd0cd1e18a190a85e842f
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Feb 26 22:13:14 2023 -0800

    support macos

commit d20f7fb7cbdc85dce55932a005b947da1b9f1409
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:55:03 2023 -0700

    fix undefined symbol errors when building for windows

commit 2c79fd8fd04f1e5045cbe5978943b0aea7593110
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:53:28 2023 -0700

    patch: disable windows.gaming.input.h for now

commit 1527b98bfccc0bcd70c01eef1a94b998c7b0a144
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:52:54 2023 -0700

    patch: check _WIN32 instead of _MSC_VER

commit e6e6b3f7160dc7349dce7d0ba73fdfd802ee2ff8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:23:11 2023 -0700

    nice try, dynapi

commit e1e91bade53dec792a15d3d4c9d4f0b4aea7eccf
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:14:20 2023 -0700

    add a build.zig script
    
    It produces a static library when targeting Windows, at least.

commit 3a2ea1056c33bd378c6d0bf24d3c9280b4da4d44
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:13:44 2023 -0700

    remove SDL_config.h.in
    
    we will rely on the equivalent file SDL_config.h.cmake instead.

commit 618ffc034b6e64e2597270a71edf52401dc08e3e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 15:13:27 2023 -0700

    patch SDL_gl.h to work with mingw-w64

commit e1231ed846a2cdfd7f70a1b711216ebd2b9fb75f
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 14:17:30 2023 -0700

    update readme

commit ff9294a02ccf538c2146b57067c19850f26ca426
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 14:15:18 2023 -0700

    delete unnecessary files

commit 6e8de27a345f85a71e9db2fd3aaa41bcb3143c32
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 25 14:12:18 2023 -0700

    revert source files to release-2.26.3

commit f18b5656f6f859e4d4e096d290afd9fae884a5b8
Author: Torge Matthies <openglfreak@googlemail.com>
Date:   Thu Feb 16 19:11:43 2023 +0100

    x11: Fix duplicate Xinput2 event reception
    
    Passing True for owner_events in the XGrabPointer call makes all
    XI_RawMotion events appear in the queue twice, with the only difference
    between them being the value of XGenericEventCookie::cookie. These have
    always been filtered out by a check in the XI_RawMotion handler,
    however with a mouse that polls at more than 1 kHz frequency, there
    also exist legitimate events that appear indistinguishable from these
    duplicated events. These must not be filtered out, otherwise the
    pointer may move at an inconsistent speed, appearing like a bad pointer
    acceleration implementation.
    
    Change owner_events to False in the XGrabPointer and remove the
    duplicate event detection code to fix this.
    
    Signed-off-by: Torge Matthies <openglfreak@googlemail.com>

commit d73f2d76a050e8ae21ab0ab50e330a82c716656f
Author: David Carlier <devnexen@gmail.com>
Date:   Fri Feb 24 15:10:57 2023 +0000

    Haiku modernizing a bit the C++ code with C++11 heuristics
    with BApplication

commit 2897de9efc926b34d3fd96a58f9a94580ffdb421
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 24 18:04:54 2023 -0800

    Clear the undefined position state when the window is placed
    
    This allows the window to be recreated in the same location if needed, for example if recreated because of switching to OpenGL rendering.

commit 4d9d343662496fd28e312a406f19150106566f8b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 24 17:49:45 2023 -0800

    Added handling for undefined window position on X11

commit 3bfd59660833ee09344b9408aaaa082d509ca54a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 24 17:06:47 2023 -0800

    Added handling for undefined window position on Windows

commit 5b0351a672701e28c3bfb17d44a458b82e8a4175
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 24 14:26:05 2023 -0500

    wikiheaders: Fix wikilinks inside code sections a little. Not perfect yet.

commit daffe02b117ccd484763eadc716e4d4453c89868
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 24 09:20:38 2023 -0800

    Fixed relative mouse motion over remote desktop
    
    Setting the cursor clip area to a single pixel prevents the relative mouse motion remote desktop warping from working, so the mouse is never recentered.

commit 0598ecc150841b22256aabe66068868d906cafcd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 24 11:49:41 2023 -0500

    Sync wiki -> headers.

commit d748a454a86d6250b724fe94066eb98fbf4eea05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 24 11:45:43 2023 -0500

    wikiheaders: fixed see-also conversion

commit 5ff49955ab71121ffbc49eb6a7be69707cbd90f3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 24 10:21:32 2023 -0500

    wikibridge: Fixes for manpage generation from Markdown format.

commit f2a277414f9c22e199cb126a3f2fc27e89ebe5bd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Feb 24 12:14:32 2023 +0100

    raspberry: SDL_DisplayMode's w/h members have been renamed to screen_w/screen_h
    
    Found by running the coccinelle script on SDL's source tree.

commit 936a51d5cc50afd76e291acd36bcb95513ce8919
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 23 19:53:53 2023 -0500

    wikiheaders: Work to make the wiki exist primarily in Markdown format.
    
    This adds a means to mass-convert the whole wiki to Markdown as a one-time
    operation, and then some fixes to make --copy-to-headers correctly deal with
    Markdown-formatted wiki pages.

commit 2eb4ab5bb0f1a1fa2f9d363d7f99470f2b62fccc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Feb 23 23:55:56 2023 +0300

    SDL_revision.h: added missing newline at end of file.

commit 516e48515e32f74aa98a3df4cbdb23b9c477f2f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 23 12:24:15 2023 -0800

    Changed the VID/PID used for the Backbone One controller on iOS

commit 05ac1f8d5a9aebc5a569852b6b2b15167dc85d7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 23 11:58:14 2023 -0800

    Print the full information for all joysticks that are connected

commit 59bf1c2853d5b06295c939099f6cf5f1611f70b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 23 11:57:48 2023 -0800

    Added support for the Backbone One PlayStation Edition

commit b2d913883c39e0a53e55eb9286d7e442d565554e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 23 09:14:53 2023 -0800

    Fixed view frame from flipping back and forth between landscape and portrait on iOS

commit e8fd7f74bd6ddc91843194481b60688b4a2bfb50
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 22 12:02:25 2023 -0500

    windows: Track the window display ID locally
    
    Track the current window display ID locally so as not to depend on specific behavior of the video layer, which may change the value at times when it isn't expected.

commit 9f1a7bb94cd22f7fce000b44056577b434d932a9
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 22 11:38:30 2023 -0500

    wayland: Track the window display ID locally
    
    Track the current window display ID locally so as not to depend on specific behavior of the video layer, which may change the value at times when it isn't expected.

commit d9fadb8b474c1632d42f31b4169cedacabb6715b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 21 11:14:26 2023 -0500

    video: Update the current display when moving a window programmatically
    
    When moving a window programmatically, the move event will be deduplicated due to the window x and y coordinates already being updated, so the window's current display ID needs to be explicitly updated.

commit e8076b78ef6daf9e6d223fd463fb58819e72fed2
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 21 00:14:49 2023 -0500

    video: Move fullscreen windows via SDL_UpdateFullscreenMode()
    
    Update the target display ID and use SDL_UpdateFullscreenMode() when moving a fullscreen window to handle the case where the target display has an existing fullscreen window.

commit c2f8a478d84b2652493371a9e4a639e976ad5f73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 22:27:01 2023 -0800

    Don't set a logical presentation mode by default
    
    SDL3 applications are DPI aware by default, and can set the logical presentation mode as appropriate.

commit bff307c4b24961cc43a500a9d498181a73a0066d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 21:52:56 2023 -0800

    Fixed warning building on iOS

commit 6c9e199f7303878fc12c738f73bd24c063ecb0d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 21:51:51 2023 -0800

    Use bridged pointers to Objective C objects in C structures
    
    Fixes https://github.com/libsdl-org/SDL/issues/7244

commit 0fe1e9f3a76c1d7934b0bbeb30cc60d6e5ee159d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 16:43:43 2023 -0800

    Cleaned up SDL_migration.cocci, removing old SDL3 names

commit 9eb19d2bf2848f57f61dd684ae61a9b967ec73fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 15:34:44 2023 -0800

    SDL_CheckWindowDisplayChanged() is a static function

commit 756921a04968c0e5edeed4c6d22388ae9681ac9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 15:33:47 2023 -0800

    Fixed float conversion warning

commit a758f87f6f4aecc03366853ade5f7ed52f8cd31b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 22 15:32:49 2023 -0800

    Fixed compile error on Android when assert is defined as SDL_assert

commit a2f8cf8fc0c6f4fe8a904284060f61f19f129efa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Feb 22 10:30:56 2023 +0300

    fix MSVC build failures in CI after commit 1e5e8e2f

commit 87a83787a3a0a9922b02b35ba809d9da86930fc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 21 15:31:32 2023 -0800

    De-duplicate Google Stadia controllers on macOS

commit 4aeec9d8c2ad2fa0465999ecb4fd5c20734f1b27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 21 15:05:57 2023 -0800

    Rumbling the Google Stadia Controller over Bluetooth works on Linux and macOS

commit 021a7cfa13c20d518ebfb6e96c3305150256983b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 21 12:47:33 2023 -0800

    Fixed the packet size for Xbox One controllers

commit 1e5e8e2fda3796e76e6f7b1c39683925a3e9fed9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 21 12:56:02 2023 -0500

    resampler: Work at double precision on x86-64 machines.
    
    We get audio artifacts if we don't work at the higher precision, but
    this is painful on CPUs that have to use a software fallback for this,
    so for now (that is, until we have a better solution), get better output
    on amd64 chips, where the cost is less painful.

commit 357bc8ca5c8fd25916fa51be1b70110e54106928
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 21 12:53:45 2023 -0500

    resampler: correctly save off left padding.
    
    I don't know if we ever actually hit this in practice, but if this isn't
    replacing the whole buffer, it needs to slide the end of the existing padding
    over to the start before adding in the new data.

commit 1a15d506a69d5d73a53728c569ef84a69db51833
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 18:24:52 2023 -0800

    Removed duplicated conditional

commit 02cea5fca107991774792c431efc96319ef2d060
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 17:14:18 2023 -0800

    Fixed rumble caps for the Nintendo Joy-Con controllers

commit 4994654d4f2d5c96a0faa972ebbb6c653f939d56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 15:14:20 2023 -0800

    Added support for the Razer Wolverine V2 controllers

commit e8091b89830c3b9bb19eff76463a6e2525f05fa5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 10:40:54 2023 -0800

    cocoa/gles: do not unload EGL when context is destroyed

commit 93861e1de00a76080fa6ed756a6bd9c764b3ec07
Author: Marc-André Lureau <marcandre.lureau@redhat.com>
Date:   Thu Feb 16 18:47:36 2023 +0400

    windows/gles: do not unload EGL when context is destroyed
    
    It's legitimate to have multiple contexts.
    
    Signed-off-by: Marc-André Lureau <marcandre.lureau@redhat.com>

commit 654965a6286ccb3ef861310d0cff578788641091
Author: Marc-André Lureau <marcandre.lureau@redhat.com>
Date:   Thu Feb 16 18:47:16 2023 +0400

    windows/gles: correct indentation
    
    Signed-off-by: Marc-André Lureau <marcandre.lureau@redhat.com>

commit 5d3cf61e8bb0072a4cba43ba63e5f9080d468f7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 10:38:13 2023 -0800

    Don't call SDL_GetDisplayIndex(0) when creating or positioning a window
    
    Fixes https://github.com/libsdl-org/SDL/issues/7354

commit f1202fccdc2c8a011f21556d0066b445c9a9a1f6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Feb 20 00:43:53 2023 +0100

    cmake: create SDL3::SDL3-shared for VC and Xcode devel package

commit 213fbd01c5488ba8846bf7ec41865252c5ee4681
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 17:40:07 2023 +0100

    SDL_endian.h: improve doxygen documentation

commit 549cedfa88cf93b69f8ffb4dd2c1ef097d3eb25c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 18:32:06 2023 +0100

    include: add \brief to includes

commit 0625695898fbb051299cf0118e22ec27b198f767
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 02:51:02 2023 +0100

    docs: Fix doxyfile

commit efdc92802fa800f8b4655c347ac2a3028b83917d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 04:48:24 2023 +0100

    Fix -Wunused-function warning when configuring with -DSDL_X11_XINPUT2=OFF

commit 0e2866f846b00ec1e6308a9ec822d03965ed0bba
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 19:13:59 2023 +0100

    Fix -Wunused-variable warning when configuring with -DSDL_X11_XRANDR=OFF

commit cfadb4c106b734f55dc99a182afa3e5856c94d0a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 19:13:37 2023 +0100

    Fix -Wunused-variable warning when configuring with -DSDL_X11_XSHAPE=OFF

commit ced02319a6bd001c1c2ce85a48887efe3a7b79d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 19 09:57:35 2023 -0800

    Fixed typo (thanks @Iniquitatis!)

commit 0123d6311d5c0059d617324426ef7eef8d577d9b
Author: Lauri Kasanen <cand@gmx.com>
Date:   Sun Feb 19 16:04:47 2023 +0200

    Fix GetGlobalMouseState when xi2 is not available at runtime

commit 24d419c09ff4de4715f0263e611dada34df28e29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 19 09:54:47 2023 -0800

    Updated documentation for SDL3_DYNAMIC_API
    
    Fixes https://github.com/libsdl-org/SDL/issues/7347

commit 964a877eb350cd2bff4f8bb3802b228754c544e1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 11 23:51:28 2023 +0300

    SDL_x11dyn.h: include XInput2.h also for Xfixes
    
    Fixes https://github.com/libsdl-org/SDL/issues/7343

commit 18f38bef03d012f4369a869090716fd51d34bf02
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 18 18:36:06 2023 +0100

    Remove include/SDL3/SDL_name.h

commit a67ae8eed57f4545c739e6eb3a4b8c1169d3afbc
Author: Le Philousophe <lephilousophe@users.noreply.github.com>
Date:   Sat Feb 18 18:21:09 2023 +0100

    Fix window size in X11 when window manager refuses to resize

commit b5a7bd72df78c2ef944c8b4d5b791cc20bee88e4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 18 11:29:10 2023 +0300

    minor tidy-up.

commit c88becc87a4208d699c7e1b823076c7793d8076e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Feb 18 08:12:01 2023 +0100

    Fix kmsdrm build

commit a2251d1093bdbfb88c06fe7270edd4cafd521927
Author: Alexandros Koutroulis <icyd3mon@gmail.com>
Date:   Sat Feb 18 02:17:27 2023 +0200

    SDL_SetWindowIcon now reports errors. (#7081)

commit dc138ee3d4d3f9a0128a541c02172a8faedbb746
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 16 23:30:20 2023 +0100

    cmake: SDL3-shared target will always be a shared target

commit 6ae1578691ac3f17b06c1772fb564cdc58c63335
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Feb 17 18:47:10 2023 +0100

    ci: cache PVR_PSP2 and gl4es4vita

commit eede2066fbcc342e96592fbbbfe94b2420feb524
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 17 11:29:27 2023 -0800

    Added other names for the DragonRise Inc. Wired Wheel (thanks @felimwhiteley!)

commit 39e6d4a8915a4d8709cdd358cb0cf1c1e36df4c0
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Feb 17 09:24:07 2023 -0500

    Set the window width and height when moving

commit 630c23ce17dd127e995b58388a2f9bd7534a1119
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 17:28:56 2023 -0800

    You can move fullscreen desktop windows between displays using SDL_SetWindowPosition()

commit 64b88115ec5af8c4b2e9a989b6e0f6319bb196eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 17:28:35 2023 -0800

    SDL_SetWindowFullscreen() now takes a boolean value

commit 6c04c6f090ad978191ea00cb3b81fd5f1f489b71
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 16:59:15 2023 -0800

    Fixed SDL_SetWindowSize() and SDL_SetWindowPosition()
    
    The backend code expected window->x,y,w,h to be set when updating size and position

commit d3b7308ee7bcda38e93e45d39fa0cc63e3d1e207
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 16 20:56:51 2023 +0100

    ci: install pkg-config on Macos runner

commit 4d8a50912becbe8296ad7faa4dfc39f7ce05f51b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 16 20:29:36 2023 +0100

    cmake: no shared SDL libraries for riscos

commit e203046a5c88d2b451550e07dc32de1f99fc7640
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 16 20:15:59 2023 +0100

    cmake+ci: build shared and static libraries on ci

commit bde4c738bb647c2e0b4161c9ea280fa1621c9e34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 08:52:28 2023 -0800

    Don't build SDL as a static library by default
    
    Linking with SDL dynamically allows end users to update SDL with bug fixes and new controller support and is recommended. This change makes it so SDL is dynamic by default and developers can build SDL themselves with a static option if that's something they need.

commit ece8a7bb8e2dae9cb53115980cea9ef1213a0160
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 09:50:04 2023 -0800

    Hold the joystick lock while opening the HID device on non-Android platforms
    
    On Windows the main thread can be enumerating DirectInput devices while the Windows.Gaming.Input thread is calling back with a new controller available, and in this case HIDAPI_IsDevicePresent() returned false since the controller initialization hadn't completed yet, creating a duplicate controller.
    
    Fixes https://github.com/libsdl-org/SDL/issues/7304

commit 96722a5809ee3fa400a26aa7c3587ed83c8b9aff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 16 08:57:53 2023 -0800

    Ubuntu 18.04 doesn't have a new enough version of Wayland for SDL, so update documentation appropriately
    
    Reference https://github.com/libsdl-org/SDL/issues/7271

commit 03e69fbc0ca5cf8ca4c982240e4f1d0ac0d48f24
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 15 22:38:57 2023 +0100

    Fix potential de-referencing null pointer in SDL_EVDEV_kbd_keycode()

commit b44d3699b13d6e4c2ea30eb0831807304ee2c1c2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 15 21:29:01 2023 +0100

    Fixed most small problems reported by cppcheck for src/core PR #7307  (from @kevin2kevin2)

commit bcd97b36d23d08226e98a995eafd3d6aa35401b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 15 13:53:57 2023 -0800

    Fixed Steam Runtime sandbox detection
    
    Fixes hotplug issues on Steam Deck for Proton and native games

commit 4187c6c08c2f0a6c84ea274c95c10ac7fdc5147a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Feb 12 15:48:59 2023 -0500

    video: Select the closest mode for the target refresh rate accounting for small variations
    
    Use the delta of the target refresh rate and the refresh rate of the mode to select the closest matching display mode, as the actual closest mode may have a slightly lower rate than the target by a small fraction of a hz (e.g 59.98 vs 60.0).

commit 3f5ef7dd422057edbcf3e736107e34be4b75d9ba
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 11 15:03:45 2023 -0500

    video: Handle moving exclusive fullscreen windows between displays
    
    Desktops can move windows, even exclusive fullscreen windows, from one display to another. To handle this, windows now hold two fullscreen modes: the desired mode, which is considered mutable only to the application, and the current mode. When a fullscreen request is made, the current mode is initially set to the desired mode for the initial fullscreen transition. If an exclusive fullscreen window is moved to a new display, the new display is checked to see if it has a mode compatible with the desired mode. If it does, the compatible mode is used so the windows will have the same properties on the new display. If no compatible mode is found, the window becomes desktop fullscreen. This occurs whenever the window is moved to ensure that an attempt will always be made to use the application's requested mode, if possible.
    
    Exiting and reentering fullscreen results in the desired mode being restored on the display specified by it.

commit 1f46986d33f907d217f2170118a7accda8fc0f7c
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Tue Feb 14 22:05:00 2023 -0700

    testwm.c: show all modes of all displays in the on-screen list (#7323)
    
    * testwm.c: show all modes of all displays in the on-screen list
    
    To allow testing https://github.com/libsdl-org/SDL/pull/7317

commit beb6a2afdc74a00f07ec230297c2675920a7bf79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 14 18:02:12 2023 -0800

    Map the Android MENU button back to the SDL MENU key
    
    Thanks to @AntTheAlchemist for the investigation!
    
    Fixes https://github.com/libsdl-org/SDL/issues/7318

commit 5925cd4ef377a2211fd057ef6fa9f41141999cb7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 14 17:51:16 2023 -0800

    Fixed handling simple mode PS4 reports
    
    Fixes https://github.com/libsdl-org/SDL/issues/7270

commit 284ae917341b547fcab1967d45af20566637867c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 13 17:50:29 2023 -0800

    Include SDL_events.h for SDL_ConvertEventToRenderCoordinates()

commit b39b7025fd97c2dd85cedb7fe2db2d7f1de88914
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 13 13:11:43 2023 -0800

    SDL_GL_GetDrawableSize, SDL_Metal_GetDrawableSize, and SDL_Vulkan_GetDrawableSize can be replaced with SDL_GetWindowSizeInPixels

commit c6792f78df9807cd30b95365df40c0524a5f122c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 13 21:47:14 2023 +0300

    look for clock_gettime() in libc first, then in librt if not found.

commit 9370f9ca85d83972b4a7c175a0c69a58cd1acee6
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Feb 12 16:23:53 2023 -0500

    wayland: Deduplicate calls to position fullscreen windows already on the correct output

commit 272010b612bf57d931dcc38b412904f99ff9be44
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 13 11:56:10 2023 +0300

    cmake: really fix detection of pthread_setname_np() on Apple platforms.

commit f7f61af12bfa5c2c21d39730612c173fe2bdf6dd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 13 11:55:40 2023 +0300

    cmake: fix detection of pthread_setname_np() on Apple platforms.

commit 93ed3148baf8bc9c5f016a2de7ece2e842cc29d3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Feb 13 09:40:44 2023 +0100

    Fixed bug #7302 - Memory 'leak' in SDL_SetMouseSystemScale()

commit 236d26b480f0475e93cbb1965c68dfb35df3c23b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Feb 13 05:14:40 2023 +0100

    cmake: add `-F <SDL3-framework-parent-folder>` compile option in CMakeLists.txt

commit d0b39890d29b40193d33b23364d49ec132add335
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Feb 13 04:55:26 2023 +0100

    cmake: include_guard() is not needed

commit eea4711110af2158c7ea6a01fae01ed825f78fca
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 20:41:59 2023 +0100

    gendynapi.py: add option to check doc formating (eg \param \returns \since)

commit 81c94a165caed2a47d36ec55f53152dec38d6926
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 20:39:22 2023 +0100

    Add \since docs where missing and resets some to 3.0.0
    - remove a \returns

commit 3d93b07d5b741a5e2a3029b71ab12ca03fae680e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 10:17:18 2023 +0100

    Documentation \param fixes

commit 49e47b523a327a8d26951738bf22953d60598ff2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 10:09:42 2023 +0100

    Update `\returns` to the generic form

commit 612584277c20712c9debb1520cd623373601833c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 09:54:07 2023 +0100

    Fix build documentation

commit e9af964cf4bb76a002f94e21be25ebfb1b040f87
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 09:49:55 2023 +0100

    More `\param` added for SDL function in stdinc.h

commit 43c08170afe93d1b23d41870466353760b761ff4
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 12 09:40:39 2023 +0100

    Add missing '\param' documentation

commit ce366facaaa2cf13e5178c73d3af18788b0313d2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Feb 10 22:26:35 2023 +0100

    Add missing \returns, change "return" to "returns" to have same naming

commit b728de788e4de24baaa720cea287a5707662e24f
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Feb 11 21:10:26 2023 +0100

    Fixed audio

commit 4a6f3cf47e27947f9b63421c329f4658da512537
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Feb 10 10:56:57 2023 -0500

    x11: Set the window position when entering fullscreen
    
    Set the window position when entering fullscreen as both real Xorg and XWayland need this in order for the window to be on the correct display.

commit d6a19c8cc6fbc93a20711cac1ec289eec6de199d
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Feb 10 10:54:39 2023 -0500

     video: Use the explicit fullscreen display for a window unless the window was moved
    
     When an exclusive fullscreen display is specified, it overrides any positioning, including from driver specific functions. Allows for the proper placement of fullscreen windows on macOS and Windows when the floating window is on a display that differs from the one specified by the exclusive fullscreen mode.
    
     A specific position-only function has been split out for use when a window has been moved.

commit 68e2f230662a0b3f2ce7c0085f781f1652901af3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 17:18:02 2023 -0800

    Sorted controller list

commit 76552e4780a57f24ec1cd77fb942b7cabe1219d8
Author: Alfredo Escobar <70735090+alfredo-escobar@users.noreply.github.com>
Date:   Mon Jan 30 16:08:52 2023 -0300

    Add Hori Pokken Tournament DX Pro Pad

commit e4face7c1d41698067b9afdd8c7f0a8f76774da2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 16:46:21 2023 -0800

    Fixed the share button on the ThrustMaster eSwap PRO Controller Xbox

commit b55bb027239cd14558e806df60c9f77152fc281a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 09:08:12 2023 -0800

    Constrain the mouse position before it's used to generate mouse deltas
    
    Also clamp the mouse position to the maximum of *max and the last mouse position
    
    Fixes https://github.com/libsdl-org/SDL/issues/7221#issuecomment-1426054481

commit 144390f8fcd98d2064d8cb474e4fc761325611c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 06:48:54 2023 -0800

    Fixed renaming suggestion for SDL_WINDOWEVENT_CLOSE

commit 13d9e41c3f2e6d2dce1e86a6466ec57a1dce6b30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 06:38:14 2023 -0800

    SDL_WINDOWEVENT_SIZE_CHANGED was renamed SDL_EVENT_WINDOW_PIXEL_SIZE_CHANGED

commit 69a679647671b262e6b3c725caa883232d87f1a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 06:30:48 2023 -0800

    Note that the coordinates in SDL_GetDisplayForPoint() and SDL_GetDisplayForRect() are screen coordinates

commit 449b2289c895d4f10a5206497ff3e3ba34e47632
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 06:24:16 2023 -0800

    Remove renaming for SDL_GetDisplayDPI()

commit 7c4ec1867b682d58077be5b5f5299f5165014ee9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Feb 10 10:59:57 2023 +0100

    Remove some vim config lines

commit 26f27a9e5a384cf14108e8c89f5c81e935a18829
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 22:03:57 2023 +0100

    Update README-migration

commit 32d30944a1db6be8729f85cc02420f0855a39741
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 21:18:43 2023 +0100

     SDL_GetNumTouchFingers(): 0 is a valid value. negative is automatically an error

commit a2f3711c80b2a3f2474031cb3a7cecc2b3c262e6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 20:44:46 2023 +0100

    SDL_AndroidGetExternalStorageState(): return 0 on success, and fills *state with flags

commit a8e89f2567b9069c919f9b21996e0a46cd4bb679
Author: Bruce Mitchener <bruce.mitchener@gmail.com>
Date:   Fri Feb 10 13:51:16 2023 +0700

    emscripten: Update deprecated calls to EM_ASM*.
    
    `EM_ASM_` and `EM_ASM_INT_V` are calls that have been deprecated
    for a long time.
    
    Since the return value isn't used for the call to `EM_ASM_`, it
    can be replaced with `EM_ASM`.
    
    `EM_ASM_INT_V` is now (for the last few years) `EM_ASM_INT`.

commit b9773be3b3c5c4347c7a6c86904186ef1f57aaaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 18:29:47 2023 -0800

    Don't clamp mouse coordinates until they're fully outside the containing area
    
    A window 1920x1080 pixels wide at 125% scaling will have a width and height of 1536x864, but at pixel (1919,1079) the mouse coordinate will be (1535.2,863.2), which is within the bounds of 1536x864, but larger than (1535,863).

commit 5b77ad54c41608ae95597c141fbebeaa95563446
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 17:49:35 2023 -0800

    Fixed order and constness of parameters to SDL_ConvertAudioSamples()

commit fa599c75489f71f3fd6cf997b0558b106680bb4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 17:31:44 2023 -0800

    Fixed SDL_GetRendererOutputSize renaming

commit e65e2c8ed7a849e6502d2c98f8e822c409968e20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 17:25:57 2023 -0800

    SDL_CloseJoystick() should return void, not int

commit 9ff15e5382926440517fad2f465f4e879d5e96f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 17:23:17 2023 -0800

    Don't change M_PI in application code, that's not an SDL symbol

commit ff82341ce933895714a0956805a98d36f3ab6e9b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 4 23:20:03 2023 +0100

    cmake: allow find_package from build directory (requires CMake 3.26)

commit b8adf90aa3aa03e9a32b281767746e9b8503dcea
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jan 26 00:43:39 2023 +0100

    cmake: check again for unknown documentation commands

commit cc0fa00049df61b5b8abb0995ecb9c76ef5d2979
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jan 26 00:39:59 2023 +0100

    cmake: include directories of (generated) dependencies as SYSTEM

commit a9650d440a862b86dc5722a402b06bf2bbbec527
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 12:05:46 2023 -0800

    Fixed MFI controller being opened while HIDAPI controller was being opened
    
    This was the callstack:
        frame #3: 0x00000001004e1930 libSDL3.1.0.0.dylib`IOS_AddJoystickDevice(controller=0x0000600003b0c000, accelerometer=SDL_FALSE) at SDL_mfijoystick.m:528:14
        frame #4: 0x00000001004e1a54 libSDL3.1.0.0.dylib`__IOS_JoystickInit_block_invoke(.block_descriptor=0x0000000100547760, note=@"GCControllerDidConnectNotification") at SDL_mfijoystick.m:673:45
        frame #5: 0x000000018601e578 CoreFoundation`__CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 128
        frame #6: 0x00000001860bc074 CoreFoundation`___CFXRegistrationPost_block_invoke + 88
        frame #7: 0x00000001860bbfbc CoreFoundation`_CFXRegistrationPost + 440
        frame #8: 0x0000000185fefbac CoreFoundation`_CFXNotificationPost + 708
        frame #9: 0x0000000186edc72c Foundation`-[NSNotificationCenter postNotificationName:object:userInfo:] + 88
        frame #10: 0x000000019b054a18 GameController`__60-[_GCControllerManagerAppClient _onqueue_publishController:]_block_invoke + 156
        frame #11: 0x0000000185dc19dc libdispatch.dylib`_dispatch_call_block_and_release + 32
        frame #12: 0x0000000185dc3504 libdispatch.dylib`_dispatch_client_callout + 20
        frame #13: 0x0000000185dd1d1c libdispatch.dylib`_dispatch_main_queue_drain + 928
        frame #14: 0x0000000185dd196c libdispatch.dylib`_dispatch_main_queue_callback_4CF + 44
        frame #15: 0x000000018606ad6c CoreFoundation`__CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 16
        frame #16: 0x00000001860287ec CoreFoundation`__CFRunLoopRun + 2036
        frame #17: 0x00000001860278a4 CoreFoundation`CFRunLoopRunSpecific + 612
        frame #18: 0x00000001003b1194 libSDL3.1.0.0.dylib`process_pending_events at hid.c:509:9
        frame #19: 0x00000001003aebe8 libSDL3.1.0.0.dylib`PLATFORM_hid_open_path(path="USB_054c_05c4_0x11a104290", bExclusive=0) at hid.c:823:2
        frame #20: 0x00000001003b051c libSDL3.1.0.0.dylib`SDL_hid_open_path_REAL(path="USB_054c_05c4_0x11a104290", bExclusive=0) at SDL_hidapi.c:1419:19
        frame #21: 0x00000001004dabdc libSDL3.1.0.0.dylib`HIDAPI_SetupDeviceDriver(device=0x0000600003518000, removed=0x000000016fdfee3c) at SDL_hidapijoystick.c:399:19
        frame #22: 0x00000001004da890 libSDL3.1.0.0.dylib`HIDAPI_AddDevice(info=0x000060000212c2d0, num_children=0, children=0x0000000000000000) at SDL_hidapijoystick.c:843:5
        frame #23: 0x00000001004d9148 libSDL3.1.0.0.dylib`HIDAPI_UpdateDeviceList at SDL_hidapijoystick.c:1000:21
        frame #24: 0x00000001004d9940 libSDL3.1.0.0.dylib`HIDAPI_JoystickDetect at SDL_hidapijoystick.c:1205:13
        frame #25: 0x00000001003bc6d8 libSDL3.1.0.0.dylib`SDL_UpdateJoysticks_REAL at SDL_joystick.c:1703:9
        frame #26: 0x00000001003a13a8 libSDL3.1.0.0.dylib`SDL_PumpEventsInternal(push_sentinel=SDL_FALSE) at SDL_events.c:855:9
        frame #27: 0x00000001003a1340 libSDL3.1.0.0.dylib`SDL_PumpEvents_REAL at SDL_events.c:879:5
        frame #28: 0x000000010038b380 libSDL3.1.0.0.dylib`SDL_PumpEvents at SDL_dynapi_procs.h:572:1
        frame #29: 0x0000000100004524 testgamepad`loop + 40
        frame #30: 0x00000001000063d8 testgamepad`main + 2140

commit ae91dcbcf4832ddd9806cbaa7a9fdfc305485561
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Feb 9 22:50:00 2023 +0300

    fix dynapi after commit dc74a67a

commit dc74a67a57e4b5ef767201f7ff166af7bf871f21
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 20:16:41 2023 +0100

    SDL_UnlockTexture: change from 'int' to 'void'

commit cee245b6a94a3096aad189b550b48e74f9b1fe06
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 15:34:43 2023 +0100

    SDL_*SceenSaver(): change return value to int. // add SDL_Unsupported() errors

commit e2e5e670bf40a1b0d9ef11caa1183811ccefc498
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 9 16:53:47 2023 +0100

    Remove returns int from Destroy/Close/Unlock functions

commit 3bd737d44c229d20700541c30f06073ddc6ef50a
Author: Linus Probert <linus.probert@gmail.com>
Date:   Wed Feb 8 20:43:52 2023 +0100

    Add error returns to void functions that can fail/set errors.
    
    This takes care of the last set of void functions that could
    potentially be shifted to instead return an int indicating success and
    setting an error in case of an error.

commit b305d9e3c07acdf823a695b19b0aef9290e654e5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 8 21:22:01 2023 +0100

    Change return type from void to int for audio function. Eventually set invalid parameter error.

commit 824b9b0a58b39305c94de0ac37a7fcca634d6d55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 8 15:07:13 2023 -0800

    Removed SDL_GetDisplayDPI()
    
    This function wasn't consistently correct across platforms and devices.
    
    If you want the UI scale factor, you can use display_scale in the structure returned by SDL_GetDesktopDisplayMode(). If you need an approximate DPI, you can multiply this value times 160 on iPhone and Android, and 96 on other platforms.

commit b7c6fec10a152e47f8fa18350134188b75e9df0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 8 14:22:39 2023 -0800

    Make sure we synchronously re-enable USB reporting mode for Switch controllers (thanks @SortaCore!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/3450

commit 50575ed2233b9924198e10c9a261c10323d9089e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 8 14:16:24 2023 -0800

    Note the Google Stadia controller doesn't support rumble over Bluetooth

commit 00e02de77b615d5faf94af709760fd0f2e749a39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 8 14:16:21 2023 -0800

    Fixed mis-detecting the share button on the Xbox controller over NDIS

commit d1c72bb0bc54fba41ba89930a3ed98f8767be724
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 8 14:16:17 2023 -0800

    Dynamically update the serial number if it isn't available at first
    
    This happens for Xbox One controllers using newer firmware connected over NDIS

commit c5c94a6be6bfaccec9c41f6326bd4be6b2db8aea
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Feb 6 20:24:12 2023 +0100

    Change return type from void to int, for functions that set an error
    (SDL_SetError(), SDL_OutOfMemory(), SDL_Unsupported(), SDL_InvalidParam())
    
    Update prototype to forward errors to generic layer, for the functions:
    MoveCursor, WarpMouse, GL_DeleteContext, GetDisplayModes.
    
    Check invalid parameter in SDL_SetTextInputRect() generic layer.

commit 6c37d5b57f79eb008be25f71af9dff73f5e7daa0
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 7 11:41:23 2023 -0500

    x11: Cast the dot clock value to 64-bit when calculating the refresh rate
    
    The Xrandr dot clock value is declared as an unsigned long and the result when multiplying by 100 can overflow on a 32-bit system. Explicitly cast it to Sint64 to ensure that no overflow will occur.

commit 20a4e31a12ea2f7f472dcf3d57baff315ae2b81b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 7 09:47:17 2023 -0800

    Re-added the internal hint SDL_BORDERLESS_WINDOWED_STYLE
    
    sdl2-compat should set this to "0"

commit fa8fba3812a03bb08a9eeaefc82aa140baa47bbb
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Oct 25 23:26:42 2022 -0400

    Add clang-tidy config and CMake/CI support.

commit 5fded632d6fa532ac25e76ad9a676c9ea726dd02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 20:14:12 2023 -0800

    Added support for the Turtle Beach REACT-R and Recon Xbox controllers

commit d6033718488f915c294aacc7d8e9cb3f2be0bc82
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Feb 6 19:25:19 2023 -0500

    video: Try to get the display for fullscreen windows via the window position
    
    Attempt to retrieve the display for fullscreen windows using the window position so that the correct display ID is returned if an exclusive fullscreen window is moved to another display.

commit a357021800b4af2b850476bcd87be5648923b847
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 15:47:16 2023 -0800

    Use GNU sed if available
    
    Fixes update-copyright.sh on macOS, which doesn't support the -b option.

commit 0208a0eeb37fe0fc9e7f7b0c49cde90d4a22f244
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 13:28:00 2023 -0800

    Added support for the Logitech ChillStream

commit 7f3036c3538e72ed24b808505ebb4252315ec9a5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 7 00:22:37 2023 +0300

    make sure to not enable SDL_PASSED_BEGINTHREAD_ENDTHREAD for WinRT

commit b82a8b76b1fff19a45b61c9e5c6e4347ad2f9e64
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 7 00:22:20 2023 +0300

    windows/SDL_systhread.c: remove some dead code.

commit 22bafe8729778e6b4e5fc3085425c96354e61a53
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 11:23:53 2023 -0800

    Removed debug code accidentally committed

commit f8b41919dac0fb95553f910d02faafc6d7205692
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 11:22:00 2023 -0800

    Fixed warning running a command queue without any vertex operations

commit 375bde8a4fc6a5ca413dea13c3e47de1bae974a8
Author: Linus Probert <linus.probert@gmail.com>
Date:   Mon Feb 6 17:53:52 2023 +0100

    [SDL3] Cleanup void functions (#7253)
    
    Some functions that do call SDL_SetError but return void changed to instead return non-zero in case of errors.

commit 9d8f98c73597ef314ceca67c876a1e3d0616b977
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 6 08:51:58 2023 -0800

    Don't change presentation modes when resizing the logical target
    
    Fixes https://github.com/libsdl-org/SDL/issues/7251

commit 6f0acca8bd9fb66fb521e11b5bbefd570fc8280b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Feb 6 11:41:01 2023 +0100

    Return the SDL_SetError value

commit a077cc8e4d8b9b4d1a2c35288faaeae574544d8d
Author: Sean Ridenour <kewlpc@gmail.com>
Date:   Sun Feb 5 18:58:33 2023 -0700

    [SDL3] macOS SetCursor performance fix (fixes #7151) (#7249)
    
    * Setting the same mouse cursor twice is a no-op
    
    * Cocoa: Call [NSCursor set] to change mouse cursor
    
    The previous way, changing the mouse cursor was handled by invalidating
    the mouse cursor rectangles and then recreating them (with the new
    cursor) the next event loop. This is extremely slow; sometimes it can
    take over a millisecond! With [NSCursor set] it happens instantly and
    very quick performance-wise.
    
    The downside is that it sets the cursor for the whole screen, so we
    have some guards in place to change it to the system cursor if
    the mouse moves outside the window or the window loses focus.
    
    * Cocoa: Remove unneeded resetCursorRects: function

commit fbe0352764985af3f1795d118d3ca08d43d320b8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 5 20:29:33 2023 +0100

    SDL_DestroyRenderer: drop all commands first
    and don't queue new command from SDL_DestroyTexture() (memory leak)

commit e1d79b418ce8ccb503fba0d53f4aa72a9c2ca627
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Feb 5 20:45:02 2023 +0300

    fix build error due to -Wshadow

commit 653f2c4ba3537bf28d2957d8e0a70f3048f92463
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 5 09:08:33 2023 -0800

    Made the render tests less verbose in the successful case

commit ec1b42557f6bc1b1f2325e39b891de709f45de20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 5 08:35:40 2023 -0800

    Fixed memory leak at shutdown (thanks @1bsyl!)
    
    Clean up the textures first, as destroying the current render target will queue viewport and clip rectangle commands

commit 5d1006657a24cb643c70fd662309ba7405678426
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 5 17:46:59 2023 +0100

    SDL_migration.cocci: remove metavariable warning

commit 6f06e4bc80aebbc72b42b11ecfd602535a0d213b
Author: Leonardo Brondani Schenkel <leonardo@schenkel.net>
Date:   Wed Jan 4 13:46:01 2023 +0100

    Add Linux mapping for 8BitDo Pro 2 Wired Controller for Xbox
    
    Without these mappings, this controller "kinda" works out of the box:
    - `SDL_GameControllerMapping()` works because it will notice "Xbox" in
      the name and use the default XInput mappings
    - `SDL_GameControllerMappingForGUID()` will not find any mapping
    
    lsusb:
    ```
    ID 2dc8:2000 8BitDo 8BitDo Pro 2 Wired Controller for Xbox
    ```
    
    In Linux this controller is supported by two drivers:
    - `xpad` (built-in to the kernel), exposes the controller name from the
      USB descriptor and the GUID starts with 03 (0x03 = BUS_USB)
    - `xone` (https://github.com/medusalix/xone), exposes a virtual
      controller which is always named "Microsoft X-Box One pad" and the
      GUID starts with 06 (0x06 = BUS_VIRTUAL)
    
    This commit adds the 2 GUIDs from both drivers so mappings will always
    be found and the real controller name will always be reported.
    
    (cherry picked from commit 4266cf8504c08b17ef55be11c27f2fc7a17b6edf)

commit 1c03ddefc320ec9969d5f81c2c3cb988d94a8b4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 5 08:43:26 2023 -0800

    Sorted controller list

commit d563f38a0d77161e68ec89e4c2dd3fb3e3107777
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 5 08:28:26 2023 -0800

    Note that the renderer will by default scale from window coordinates to pixels

commit 52cd9fcbb074771804f443e7a9b2e9436485fe83
Author: Antonis Geralis <43617260+planetis-m@users.noreply.github.com>
Date:   Sun Feb 5 10:35:53 2023 +0200

    Added Elecom 8button gamepad

commit 85143c28b5e2f62f16ae6f6433dcf406cc12a6b2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Feb 5 09:36:45 2023 +0100

    SDL_migration.cocci: fix syntax

commit 4a16d8d00e73f3cd6d4ca85091eeef0d72c0a779
Merge: 02fbf2cf9 b2d8a1a58
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 4 11:42:43 2023 -0500

    Merge pull request #7238 from Kontrabant/wayland_fix_portrait
    
    wayland: Transform mode values for native portrait displays

commit b2d8a1a58cbf62a0fc080554e6dfd3f2a6ebbd99
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 4 10:59:17 2023 -0500

    wayland: Transform mode values for native portrait displays
    
    Portrait displays may have native, physical resolutions that are taller than wide. Reverse the mode dimensions when dealing with these displays as well as those rotated via software means.

commit 02fbf2cf991bf8310d1a6400abaf05ff5ffff52c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 4 10:02:10 2023 +0300

    replaced line comments in public header.

commit 2a83093b36008080654bbaa1fa89d0d37c5d0a3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 3 15:45:43 2023 -0800

    Use a reasonable upper bound on the number of pixels we'll try to draw when traversing a line
    
    Fixes https://github.com/libsdl-org/SDL/issues/6116

commit d6fdb842b066f3c10adf189f334d0254204799fc
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Feb 4 02:44:10 2023 +0100

    include: add comment documenting the change(s) to SDL_opengl_glext.h

commit 4dea13e02fbfd2ac9eeb0a5cbb35cf5d1d53f549
Author: Alynne <alviscera@gmail.com>
Date:   Mon Jan 30 01:46:03 2023 -0500

    Adds Stadia BT mapping

commit a34a84ba98201ae026023f0d4bea4ab2d0123d36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 3 14:55:32 2023 -0800

    Rename int versions of the SDL2 render functions (#7235)
    
    This makes it clear what the new versions are, and in the case of SDL_RenderDrawPoint() and SDL_RenderDrawLine(), the coccinelle script actually does the (float) casts for you.

commit 14a4ce8b59c3fd24ba91fcfa772af03e12e069f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 3 13:23:02 2023 -0800

    Fixed SDL_ScaleMode values for consistency

commit e5edce8e751835ff1cdc6efeb1c117b22a7570ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 3 13:14:48 2023 -0800

    Fixed permissions on src/render/SDL_render.c (#7232)

commit cb6b8b0132cdabe1e6ab6f76854ddfe0074c02a0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Feb 3 22:08:42 2023 +0100

    Simplify flags testing (#7220)

commit dcd17f547324a143d66d79e3b586577a7da558ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 3 12:25:46 2023 -0800

    Renderer logical size is now implemented as a render target
    
    This fixes rounding errors with coordinate scaling and gives more flexibility in the presentation, as well as making it easy to maintain device independent resolution as windows move between different pixel density displays.
    
    By default when a renderer is created, it will match the window size so window coordinates and render coordinates are 1-1.
    
    Mouse and touch events are no longer filtered to change their coordinates, instead you can call SDL_ConvertEventToRenderCoordinates() to explicitly map event coordinates into the rendering viewport.
    
    SDL_RenderWindowToLogical() and SDL_RenderLogicalToWindow() have been renamed SDL_RenderCoordinatesFromWindow() and SDL_RenderCoordinatesToWindow() and take floating point coordinates in both directions.
    
    The viewport, clipping state, and scale for render targets are now persistent and will remain set whenever they are active.

commit 93fc72a4050673891a199b5b95e8cc395817840b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Feb 3 20:58:02 2023 +0100

    opengl: make SDL_opengl_glext.h's include compatible with macos
    
    - Mesa defines __gl_glext_h_
    - Apple defines __glext_h_

commit 0bf91e16b7e11ee04f040142ebe1a5a0263b469d
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Feb 3 11:07:31 2023 -0500

    wayland: Fix non-floating libdecor window sizing

commit 9f21bed7293d5cb8cf992052417faced56238e1a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 3 17:40:40 2023 +0300

    dynapi: cast GetProcAddress() result to void*

commit e7ea47a1b4ab6a9896544ebb72961404045bb45c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 3 17:40:40 2023 +0300

    add version check to SDL_MALLOC macro (for correctness)

commit 7d439b87b0d12e08579d4e6c424efdd55fbab0ca
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 1 18:37:34 2023 -0500

    video: Don't switch display modes when emulating mode changes
    
    SDL uses window minimization to determine fullscreen window visibility and hide windows before changing the video mode back to the desktop. Wayland, however, does not have the concept of a minimized window and doesn't set the minimized flag (minimization can be requested, but what actually happens to the window is implementation dependent, and if a window is minimized via a desktop shortcut or decoration control, the application is not notified of any state changes). Make the video core mode setting a no-op so that the Wayland backend can handle reporting the display dimensions using its own internal logic.

commit 7def1438c340d779642ba21052ffe263f7a491d9
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 1 11:18:03 2023 -0500

    wayland: Refactor for video core changes
    
    Accommodate the new video core changes.
    
    The new video core changes allow for some window geometry calculation refactoring that simplify the system:
    
    - Removal of helper functions
    - Eliminate some discrepancies between the libdecor and xdg-toplevel paths
    - No need to short-circuit the video core window size event deduplication check
    - Exclusive fullscreen windows will always end up on the correct output, even when fullscreen is initiated from the compositor
    - Better handling of cases where the desktop is scaled, but does not expose the viewport protocol
    - Return the display bounds for the emulated mode if an exclusive fullscreen window has focus
    - Fixed cases where changing display properties during runtime wouldn't update the display mode lists
    - General cleanup

commit 47cdb532f191a0788804db4806b90abe7ec28a1f
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Feb 2 13:43:43 2023 -0500

    video: Don't rely on memcpy undefined behavior
    
    The C specification states that passing a size of 0 to functions like memcpy is valid, but even if the size is 0 and the function is essentially a no-op, the result when passing any invalid pointers is considered undefined behavior. Don't rely on undefined behavior when copying the display or mode lists.

commit 166afebcad4533e1db0e42a2401d24218208c52d
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 1 20:18:00 2023 -0500

    video: Update self-referential pointers when reallocating the display list
    
    The display list can contain self-referential pointers if the current mode pointer points to the desktop mode or a fullscreen mode array element, and reallocating the display or fullscreen mode lists without updating the current mode pointer in these cases can leave them pointing to freed memory or garbage data. Manually copy the list items and update the self-referential pointers if necessary.

commit 673bc5764942e3f645f1ff7d64f3d6a2059e3cdb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 2 08:39:54 2023 -0800

    Don't accept official mappings for controllers that aren't unique
    
    For example, the DragonRise Inc. Generic USB Joystick
    See https://github.com/gabomdq/SDL_GameControllerDB/issues/202 for details

commit 917607c335a87edcb3870b8504247609bea3c04d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 2 08:38:22 2023 -0800

    Fixed sort_controllers.py and resorted game controller database

commit d29e1f363239b45aedf5f81683fbb6cf52029bc2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 1 23:09:53 2023 -0800

    Added gamepad mappings for the Xin-Mo Dual Arcade Fightstick

commit baca26d72701655157c2a1ab678c2d5af0830d53
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Wed Feb 1 18:56:33 2023 -0400

    macOS: fix initial Metal drawable size in certain multi-display setups

commit 98ae54ccc098e3ae19f7a41aec8c43cbefb8e094
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 1 18:41:39 2023 -0500

    video: Set the ID of fullscreen modes when adding a display
    
    When adding a display, traverse the list of added fullscreen modes and ensure the display ID is set to its final, valid value, or the modes added before calling SDL_AddVideoDisplay() will have an invalid display ID.

commit d8f0715385db2462a581fdac0c7727de6239acaf
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 2 00:36:46 2023 +0100

    Revert "Remove unused SDL_GetCPUName"
    
    This reverts commit 4e6ab13d6f4825212b3ff1cbe47738617d1474f7.

commit 78be9eaf3835e4671882950e35bbb654fb74c826
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 2 00:28:44 2023 +0100

    Revert "Add testcpuinfo.c"
    
    This reverts commit 5888b008b1af17f6a0ea5f3c0c793e44dfd9c767.

commit 69aede6c9e285718ec23a51a448143a7472d0122
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 2 00:26:26 2023 +0100

    Add missing _ in SDL_EVENT_LOCALECHANGED and SSDL_EVENT_TEXTEDITING_EXT

commit 08bcee85703e69e7b079ac53c0078a9ac6eb1c96
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Feb 2 00:21:53 2023 +0100

    test: don't use wiki urls for documentation comments
    
    Also make consistent use of \ as documentation escape character.

commit bff449eb24d4a211e8419d3a48a7eef8404ee521
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 23:49:27 2023 +0100

    testcpuinfo.c needs SDL3/SDL_main.h

commit 5888b008b1af17f6a0ea5f3c0c793e44dfd9c767
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 23:34:37 2023 +0100

    Add testcpuinfo.c

commit 4e6ab13d6f4825212b3ff1cbe47738617d1474f7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 23:17:15 2023 +0100

    Remove unused SDL_GetCPUName

commit 177a6f38e0745d08768c6d363ef081be5dccbcd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 1 11:45:31 2023 -0800

    Only minimize the window for an assert if it's in exclusive fullscreen mode

commit ac75fe932449de9147708f1580e6d142eda855f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 1 11:30:28 2023 -0800

    Folded SDL_WINDOW_FULLSCREEN_EXCLUSIVE and SDL_WINDOW_FULLSCREEN_DESKTOP into a single SDL_WINDOW_FULLSCREEN flag
    
    The fullscreen video mode used by the window can be used to determine whether it's in exclusive fullscreen or fullscreen desktop mode.

commit 14338ab459b43754ddfa89748b1b5289d98f2c05
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 23:35:56 2023 -0800

    Removed display mode flags
    
    They weren't really adding any value and added complexity to the API

commit 9ff105548934cda2fd5f5510c3201eabe498b5b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 1 09:20:14 2023 -0800

    Workaround for Visual Studio 2019 const warning
    
    Visual Studio 2022, gcc, and clang all agree that "const SDL_DisplayMode **" is a non-const pointer to const data, but Visual Studio 2019 warns about this, so we'll just add a cast to the SDL_free() call for now.
    
    Apparently this was a legitimate bug that has been recently fixed:
    https://stackoverflow.com/questions/10403713/why-does-visual-c-warn-on-implicit-cast-from-const-void-to-void-in-c-but

commit 6b137579eaa4ff47c936e72ced73939bc69daa62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 21:23:14 2023 -0800

    Windows default to fullscreen desktop mode if they don't pick an explicit video mode
    
    Rather than iterating over display modes using an index, there is a new function SDL_GetFullscreenDisplayModes() to get the list of available fullscreen modes on a display.
    {
        SDL_DisplayID display = SDL_GetPrimaryDisplay();
        int num_modes = 0;
        SDL_DisplayMode **modes = SDL_GetFullscreenDisplayModes(display, &num_modes);
        if (modes) {
            for (i = 0; i < num_modes; ++i) {
                SDL_DisplayMode *mode = modes[i];
                SDL_Log("Display %" SDL_PRIu32 " mode %d:  %dx%d@%gHz, %d%% scale\n",
                        display, i, mode->pixel_w, mode->pixel_h, mode->refresh_rate, (int)(mode->display_scale * 100.0f));
            }
            SDL_free(modes);
        }
    }
    
    SDL_GetDesktopDisplayMode() and SDL_GetCurrentDisplayMode() return pointers to display modes rather than filling in application memory.
    
    Windows now have an explicit fullscreen mode that is set, using SDL_SetWindowFullscreenMode(). The fullscreen mode for a window can be queried with SDL_GetWindowFullscreenMode(), which returns a pointer to the mode, or NULL if the window will be fullscreen desktop. SDL_SetWindowFullscreen() just takes a boolean value, setting the correct fullscreen state based on the selected mode.

commit 048df6260c1c78863234945e556e9247c55ac31a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 20:14:48 2023 +0100

    Remove disabled self test main functions in src/SDL_error.c

commit 4af93990a90dc0b5d293a01b1a2869734db75981
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 20:13:34 2023 +0100

    Remove disabled self test main functions

commit e73151f544f7d72d269c01c538944d60239719a9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 20:04:47 2023 +0100

    ci: don't upload test directory for ps2 workflow separately

commit 2afee88c81493c5b9fdaabca91ec7ed9f71b811f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Feb 1 19:43:11 2023 +0100

    ci+haiku: ignore return code of sv force-restart

commit d58693928db28c2e3519a4891c694319941de76b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Jan 31 12:34:38 2023 -0500

    video: Return the display ID when the window is fully enclosed
    
    If the window was fully enclosed, GetDisplayForRect() would return the index of the display ID in the array instead of the display ID itself. Return the display ID itself.

commit c5f570b30b1ba2073593b153c365b3f2c36b2095
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 10:04:51 2023 -0800

    Make sure count is 0 in out of memory conditions
    
    This prevents a crash if the caller assumes that they can always dereference the returned pointer if there is a non-zero count.

commit 47deebe23fe08be99a297f35fdcb4289c969adc1
Author: Vladyslav Serhiienko <vlad.serhiienko@gmail.com>
Date:   Mon Jan 30 22:59:48 2023 -0800

    Fixes for Android builds

commit 0a3d038ff7cb54f3f9959074bf1ed2cfd912bc0c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 31 05:26:02 2023 +0100

    cmake: fix installed SDL3::SDL3_test + test on ci

commit 72f40cb1f569e4543d0af46380326e4c708b0d50
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 30 18:47:04 2023 +0100

    ci: restart VM after installing haiku dependencies

commit 25b723cc8252f22f361c630d8cec827b9dab9b2f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 30 19:13:40 2023 +0100

    cmake: detect Emscripten architecture as emscripten

commit 53d434fd24266540910975e862aae3d898462cab
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 29 06:12:40 2023 +0100

    cmake: add CPack support for creating binary archives

commit 64c97906c9ee07926175f12a85075a1e0a5539b6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 24 05:30:24 2023 +0100

    ci: fail CMake configuration on warning

commit 23c2c15a7036913eb22bf83d39a19fe74310ff69
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 22 00:01:52 2023 +0100

    cmake: capitalize SDL3::Headers target

commit d45f0a0566d4815df363d14071defe9c133aed44
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 21 01:13:58 2023 +0100

    ci: upload artifacts for main workflow

commit 32e7921f9805bbd90671c4b6579a5565078b26b1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 21 01:57:10 2023 +0100

    cmake: by default, link tests to SDL3.dll on Windows

commit 13c294eec38b288570b1ad5a59681f1d7e6cc1f4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 21 01:08:32 2023 +0100

    cmake: add support for creating Apple frameworks with CMake

commit 93c25e650c6190aa5b2f221cdaa33ae13cfe34f1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 21 00:55:44 2023 +0100

    cmake: create SDL3::headers for include path + no exported CMake variables

commit 5690dfb65b95682b7ee93f1d9e48d5eeba51e53e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 21 00:40:03 2023 +0100

    cmake: don't install Android.mk files for Android

commit 09e2f83e17bc4716d01ff09753670a7c0945b9a8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jan 18 18:05:54 2023 +0100

    cmake: no more SDL3_* cache variables

commit 19d162281cf045655f15952e6e92e07d96ac524b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 15:06:45 2023 +0100

    cmake: detect cpu architecture in SDL_DetectCPUArchitecture
    
    Stop looking for arch, when one is found

commit 9cf34908a174d8b81e0b2e0bfee86dd7db83dfb7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 14:11:54 2023 +0100

    cmake: pass VERSION to project() +  don't use SDL_VERSION

commit 3aa456dead6f7433e3fcde8882093f11ee615afe
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 13:41:54 2023 +0100

    cmake: remove MSCOS_RPATH related FIXME
    
    The Macos CI does not show any warnings, so assume it's fixed

commit 7c085862e1b021ea90e71da2604843e7eed60fbf
Author: Bruno Sanches <bcsanches@gmail.com>
Date:   Mon Jan 30 09:33:08 2023 -0300

    SDL_Video.h - audio driver
    
    I believe you intend to say "video driver", not audio driver

commit d66f27376e48abfaf25384074dc74f0829badc2e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 30 10:36:48 2023 +0100

    Prevent setting an error "invalid display" when the parameter displayID hasn't been set.

commit b07f8e987b62dbdad9be4e275579cf0b58ca8be9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 29 21:57:30 2023 -0800

    Fixed checking the return values of SDL_AddBasicVideoDisplay() and SDL_AddVideoDisplay()
    
    Also fixed Wayland and Windows usage of SDL_DelVideoDisplay()
    
    https://github.com/libsdl-org/SDL/issues/7192

commit 1ffc09c6e6703c42ab5e2afcf69e4fab2a4b391b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 29 21:37:51 2023 -0800

    Changed SDL_EVENT_WINDOW_PIXEL_SIZE_CHANGED to be the same value as SDL_EVENT_WINDOW_SIZE_CHANGED so SDL2 applications continue to work as expected.

commit de766fdcd78521de8bca1b462d153957ce99b848
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 29 21:35:45 2023 -0800

    Fixed Haiku build

commit 87af6c001956e6c2ec6a141c45e4b186b1da9e27
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jan 30 03:26:14 2023 +0000

    Sync SDL3 wiki -> header

commit 22c69bccdf18d6c5c0990de9bc89e5e76d3a7c50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 29 13:30:55 2023 -0800

    Displays are now referenced by instance ID instead of index

commit 758c0dd6d824cc6d3ea3d1a6726f724e8b3530b6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 30 04:06:08 2023 +0100

    Rename mouse BUTTON(DOWN|UP) event to BUTTON_(DOWN|UP)

commit 413376cdb3488f54cf5d8f42c5a9a58c8e91c05a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 29 14:54:24 2023 +0100

    migration: replace SDL_DisplayMode w and h by screen_w and screen_h

commit e22f5ed7d348cebae0473231f01d9c13cb0bce96
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Jan 29 12:45:48 2023 -0500

    wayland: Check that all required dynamic symbols have been successfully resolved at init time
    
    Ensure that all hard dependencies are resolved when dynamically loading the libraries required for the Wayland backend and fail gracefully if a required module was not initialized successfully.

commit 90795291e42805a3b376e711573d3b7479ac9a23
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Sat Jan 28 22:43:03 2023 -0400

    Remove SDL_GL/Metal/Vulkan_GetDrawableSize().
    
    SDL_GetWindowSizeInPixels supersedes those functions.

commit 0d0a34f79fedc4d50bb70cc5fa928b94352277d8
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Sun Jan 29 11:37:58 2023 -0400

    iOS: fix the desktop display mode's display scale property.

commit a67b441a10a466858aa70d055cea0ad2a3ee7cfd
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Jan 28 21:13:19 2023 -0500

    wayland: Send a pixel sized change event when the drawable size changes

commit 4667d65f774a5ef3cfee2d4b11ef37bf4ef046c3
Author: Aaron Barany <akb825@gmail.com>
Date:   Sat Jan 28 16:05:11 2023 -0800

    Fixes for building on Mac with OpenGL disabled.

commit df7639f1006ae58da6ec197b79ad5aa57b73402d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 15:27:20 2023 -0800

    Call SDL_OnWindow* handlers after the event has been delivered
    
    This guarantees that events which trigger other events will happen in dependency order, instead of being reversed.

commit 432af82a88c6483b311c07b18199d5cf022790da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 15:24:18 2023 -0800

    Don't deliver window events while it's being destroyed

commit bf4095359c5f071cf0d0d5bd32fa8d900d3ef290
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 15:22:16 2023 -0800

    Removed duplicated window size events, and added SDL_EVENT_WINDOW_PIXEL_SIZE_CHANGED

commit af0ec13fc325110edc85d4241422558e31f36d70
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Sat Jan 28 17:09:24 2023 -0400

    iOS: fix display modes to have accurate pixel sizes and screen scales.

commit 8814bedc3b60e1c9222ae6cc3fa813738d0900db
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Jan 28 18:57:14 2023 +0000

    Sync SDL3 wiki -> header

commit 31f464153d121ec9484ce3d10b1afd77a17eb563
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 09:55:27 2023 -0800

    SDL_WINDOW_INPUT_GRABBED has been renamed SDL_WINDOW_MOUSE_GRABBED

commit e83c54f2712bcbc461d7193e844c4358b2f4be09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 09:52:31 2023 -0800

    SDL_WINDOW_FULLSCREEN and SDL_WINDOW_FULLSCREEN_DESKTOP are now distinct flags

commit 67037f064bed7906515bbf0629394c7066fe9f73
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Fri Jan 27 21:45:19 2023 -0400

    macOS: remove obsolete 10.7 and 10.8-specific code.

commit d293145ec9425c4758fb2ed5cf3ce70f549fbc69
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Fri Jan 27 22:30:03 2023 -0400

    macOS: include @1x display modes with the same point-size as @2x modes
    
    Previously they were discarded because SDL didn't expose enough information for apps to differentiate between a low-dpi and high-dpi mode which had the same size in DPI-scaled points. Now the information is available in SDL_DisplayMode.
    
    Fixes #3025.

commit ba74e76e56f9b2a6f0af70fc672ebd6a26c24fe1
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 26 22:29:38 2023 -0500

    wayland: Correct mode values to use pixels instead of screen units
    
    Fixes the Wayland backend to report the desktop mode dimensions in pixels instead of screen units, adjusts enumerated fullscreen resolutions to use the correct pixel values and scaling, and changes some nomenclature to reflect the terminology used in the new DPI system.

commit 0229091f370edf070bfb71a703a724f11b2702b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 14:24:06 2023 -0800

    Fixed build

commit 24fec13ac19a7ae1c885caf70f9dbddd49bf4a9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 10:46:51 2023 -0800

    Add full high DPI information to SDL_DisplayMode
    
    SDL_DisplayMode now includes the pixel size, the screen size and the relationship between the two. For example, a 4K display at 200% scale could have a pixel size of 3840x2160, a screen size of 1920x1080, and a display scale of 2.0.

commit b23d20cd4defc61872af25e2292a7d3692b8c084
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 27 10:15:08 2023 +0100

    Android: display_mode scale: cast to do a float division

commit fc5f363ff745bab3b114b73760f4656041f0e950
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 26 22:07:34 2023 -0500

    video: Send the new fullscreen size in screen coordinates
    
    After successfully entering fullscreen, send the new fullscreen window dimensions in screen coordinates, not pixels, to avoid a unit mismatch.

commit c2d79cb41100188f72dbdb19b7de528c89255940
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 16:10:13 2023 -0800

    Verify that clear ignores the viewport and test a logical size that isn't the same aspect ratio as the window

commit d9b53399fed5631d9c8fc9700d595c0a3aa34e3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 14:49:23 2023 -0800

    Added an SDL render logical size test

commit c708ddd66fcf68431e241e5f75b18419aa7bfc84
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 13:58:38 2023 -0800

    Added a SDL render viewport test

commit 1c83c1fadd473345e5026e409bb76b4e95768bf0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 12:08:43 2023 -0800

    Fixed build warnings in Xcode

commit b5e6d0eba9cdb4886318e5b6adee93252071ae67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 12:08:23 2023 -0800

    Added testautomation to the Xcode project

commit 56120a132dd8bb0019eef69761d1ca34ec6e2673
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 26 15:17:38 2023 -0500

    wayland: Remove duplicate code
    
    Remove some duplicate code that was left behind when rearranging things during the new high-DPI support work.

commit 077725d0e3df165cd9be1d1d933316adf8e7a0c3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 26 14:50:52 2023 -0500

    wikiheaders: Fixed SDL2 wiki link.

commit 5f8b53820ac2dd2cd8b77640bc7d57dc0577642a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 26 10:19:58 2023 -0500

    wikiheaders: Link to the SDL2 wiki in the preamble.
    
    Fixes #6568.

commit 726d6f94225c96d1764de5a43c105aba085b7a7d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 26 10:19:23 2023 -0500

    wikiheaders: Allow markdown in the wikipreamble string.
    
    Reference Issue #6568.

commit b2cfcbdb64456168a5ecd7451ff37c8f67d77b80
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Jan 25 21:49:18 2023 -0500

    wayland: Support new high-DPI system
    
    - Adds support for scaled fullscreen modes
    - General cleanup of scale factor setting and usage

commit b462027c5317fe518160c9b01c4739b84426a1f0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 26 22:05:47 2023 +0300

    SDL_test_common.c: minor warning fix (SDL_AudioDeviceID is unsigned)

commit 364db52ca3d6517d6a7d9805952777f3e35ed6d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 26 10:23:57 2023 -0800

    Moved testautomation data out of SDL_test library

commit 742e35618014af51292fcdc1ab861108bf373cc0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 26 18:15:20 2023 +0300

    test/loopwavequeue.c: minor warning fix (SDL_AudioDeviceID is unsigned)

commit be2afeec841fd89bb4645390fd7fc1a14182fc83
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 26 18:01:10 2023 +0300

    SDL_loadso.h: add missing SDLCALL to SDL_LoadFunction()

commit 54540a82a09c0cc512b0e651ba4fa4d41011334e
Author: Jiří Malák <malak.jiri@gmail.com>
Date:   Thu Jan 26 15:00:02 2023 +0100

    SDL_atomic.h: Update SDL_CPUPauseInstruction for Watcom. (#7157)
    
    Appropriate CPU directive can be used in #pragma aux so that it is not
    necessary to hardcode instruction bytes.
    
    (cherry picked from commit 507fc462db1ede9f3ca2c581809a7f1492ac1ff5)

commit 6895e1700f78735bda8cdf5156e05954f44907e0
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Jan 25 21:59:21 2023 -0500

    video: Ensure that the closest returned video mode match always has a valid scale value

commit 597031135337056dc804d805e1a93eaab7bb8d87
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 14:45:51 2023 -0800

    Fixed build using clang-cl on Windows

commit 3bf86c0eca0607f160decaacf2905c26df584fcb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 26 01:32:32 2023 +0300

    cmake: addititonal check for visibility attributes.
    
    makes sure to detect unsupported configurations especially with new gcc
    versions.

commit 13087405e03ee177fb07922856d9193e916568ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 14:25:13 2023 -0800

    Fixed clang documentation warnings
    
    Don't warn about \threadsafety, which was added as custom documentation for SDL functions
    
    Also removed -Wdocumentation-unknown-command, since that triggers on the e-mail addresses in the generated wayland protocol headers.

commit 4ec3a5ac27a808ad91eb680cd96a4506b29c4b97
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jan 25 22:27:47 2023 +0100

    cmake: only add <LANG>_VISIBILITY_PRESET properties when compiler supports -fvisibility=

commit a37f2aed7e9b53a7e09a6f619344ca6afdc63881
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 10:22:43 2023 -0800

    Hook up Android_ScreenDensity to convert pixels to screen coordinates on Android
    
    Fixes https://github.com/libsdl-org/SDL/issues/7149

commit 9bbc402b810d0dc3f03ea96c0cabb003ebe2d37c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 10:20:44 2023 -0800

    Take the display scale into account in SDL_GetWindowSizeInPixels()

commit 162e40c9821295664bc8eed7942c58638b552016
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 10:17:54 2023 -0800

    Use densityDpi instead of density to more closely match what the UI scale is

commit 6dc135413a2b16921664af8c304ec95a32826eeb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 10:16:24 2023 -0800

    Create a static SDL_test library on Android

commit 330ad800143e26fdeda2a5fe52689920c560d019
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jan 25 22:02:31 2023 +0100

    cocci: fix game pad event types

commit 79cca812cb9bce9cf3815f9ecba871f4ec58d32f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 25 13:15:34 2023 -0500

    include: make SDL_RenderPresent thread safety notes less verbose.
    
    Reference Issue #7140.

commit 43e3daace3e6024108e282809ae7823313b70ab9
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Jan 25 18:02:19 2023 +0000

    Sync SDL3 wiki -> header

commit 197340ea1cad956fc15fc2cadd04b37a60702d9c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 25 12:58:29 2023 -0500

    Sync wiki -> headers.

commit 01cba48d18f9002e5aae66d4b009f5f0195dc8d7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 22:13:25 2023 -0500

    wikiheaders: Add a `\threadsafety` tag to document threading details.
    
    Reference Issue #7140.

commit 73dc327c84a0e0c5506364d0e38f242bf2171f01
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jan 25 14:55:50 2023 +0100

    Android get the display Density

commit 6a27188023832f666c81ec340738a5f73e01e50d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 03:36:35 2023 -0800

    SDL_DisplayMode now represents physical pixels and has added a display scaling factor
    
    Work in progress on https://github.com/libsdl-org/SDL/issues/7134

commit a1e101e8983ec1fc6a80340298253c050301bd89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 03:03:41 2023 -0800

    Fixed formatting for Haiku cc files

commit 62402527360b38abde6a072eaf3c3be97197156a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 01:28:37 2023 -0800

    Updated documentation with the SDL_WINDOW_ALLOW_HIGHDPI flag removal

commit 4696c9556be690667e1783eb385bfa9267dda035
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 25 01:23:17 2023 -0800

    SDL 3.0 is going to be high DPI aware and officially separates screen… (#7145)
    
    * SDL 3.0 is going to be high DPI aware and officially separates screen coordinates from client pixel area
    
    The public APIs to disable high DPI support have been removed
    
    Work in progress on https://github.com/libsdl-org/SDL/issues/7134

commit 78cc95e34e661b8183f8ce33dcba0590ab8c7339
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jan 25 08:35:55 2023 +0100

    Rename internal GetDisplayDPI to GetDisplayPhysicalDPI

commit 724d92fd65862777c401a0a5b398a38a082d0618
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jan 25 08:32:16 2023 +0100

    Rename SDL_GetDisplayDPI to SDL_GetDisplayPhysicalDPI
    to avoid confusion with logical DPI

commit d496d187c5a4a5b535fa35b38eb4fa1b439801d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 24 22:49:33 2023 -0800

    Document that the pitch value may be zero for surfaces that will be filled in by the application later.
    
    Also verify that the pitch isn't zero for surfaces with valid pixels
    
    Fixes https://github.com/libsdl-org/SDL/issues/7143

commit e3bada6fbd173874adf5195a9b66fe44d27b4257
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 19:42:03 2023 -0500

    wikiheaders: We never updated the config when we moved to include/SDL3.  :O

commit ecffa93f396a395c2bc2973201f1678618f44173
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 22 20:36:59 2023 +0100

    ci: test vita piglet/pvr gles support
    
    ci: configure gl4es4vita
    
    ci: test gles on pib AND pvr

commit edf8db0466e04e62e6ed7a728cd912db22b6cd50
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 24 04:53:59 2023 +0100

    cmake: removed unused code

commit 5f995579e94da4e08ef34571eec4266c2b8e4310
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 24 03:57:48 2023 +0100

    vita: add missing static libraries for using gles with pib

commit bb3a60bce5494ddf544d5d342884b3a5466461bd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 23 03:04:35 2023 +0100

    cmake: move include(sdlfind.cmake) to main cmake script

commit 3e3debf9de9ae581aea94f687483f6d8cd352535
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 24 23:52:48 2023 +0100

    vita: allow GLES support without GL support

commit 3cb819ac48cf96a7ffc5156153fa3eb2f266cd38
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 22 21:02:35 2023 +0100

    vita: fix PVR_PSP2 (GLES) + gl4es4fita (GL)

commit ec3234ea2195bcac57278b190b588f919a1d3b45
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 23 20:18:48 2023 +0100

    editorconfig: trim trailing spaces from yml's

commit 14eb8db152171f2f7bf5b517f62b39e856dc6b14
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 24 14:01:01 2023 -0800

    Fixed build

commit a06a593aa670e7182f1e7cdc9da5fc181bc2b61a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 24 13:47:30 2023 -0800

    Renamed SDL_GetGamepadNumTouchpads and SDL_GetGamepadNumTouchpadFingers to match the new convention

commit fcf5b99068328da4dd0718208376a7e75a11025d
Author: Jesse Chounard <jessechounard@gmail.com>
Date:   Tue Jan 24 13:30:15 2023 -0600

    Update vsproj search paths (libsdl-org/SDL#7139)

commit 58e8cf599c7ef0c7fcc51f065f588b9f54187499
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 24 20:05:50 2023 +0300

    README-migration.md:  fix SDL_WINDOWEVENT_CLOSE renamed name.
    
    SDL_EVENT_WINDOW_CLOSE_REQUESTED, not SDL_EVENT_WINDOW_CLOSE.

commit 052b14eb654a18ed899325b03bc53fd1c62cde33
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 23 08:24:49 2023 +0100

    Add SDL_ConvertAudioSamples() helper function

commit 7b50bae52456430f199a89c99535d65dd9c297ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 23 17:54:09 2023 -0800

    Renamed SDL events for clarity
    
    Fixes https://github.com/libsdl-org/SDL/issues/6877

commit 74697bc35188d276dcae3c46d7ac10ffa982ab2f
Author: Lokathor <zefria@gmail.com>
Date:   Mon Jan 23 23:04:43 2023 -0700

    group init flag defines into an enum (#7137)

commit d020dd89ba953b547077ab92a7879121fd900990
Author: ds-sloth <72112344+ds-sloth@users.noreply.github.com>
Date:   Sun Jan 22 17:16:13 2023 -0500

    Support MIN/MAX blend on opengles2

commit b6646f4de5656e948ad3ffd0e290a33c8e092595
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 23 05:33:56 2023 -0800

    Use nanosecond timestamp for sensors (thanks @1bsyl!)

commit 34bb0735d830e99b3f7bff68a3277986ebce7df1
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Jan 22 15:10:22 2023 -0500

    video: Don't resize moved fullscreen windows if the display mode switch failed
    
    If an exclusive fullscreen window is moved between displays, SDL_UpdateFullscrrenMode can kick the window out of fullscreen if the display onto which it was moved doesn't have a matching video mode. Check the return code and clear the fullscreen flag and skip the resize if the window is no longer fullscreen.

commit 8f8746cc1bcb7c681ae0ed9003d85fe7a4790520
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Jan 22 15:06:30 2023 -0500

    video: Return an error on failure to set the video mode
    
    If SDL_UpdateFullscreenMode() fails to find a matching mode for the window, it will restore the window to its previous state, but still returns a success code of 0. Return an error code of -1 if no matching display mode can be found.

commit b379c910d4009fb72944494c8b18d368b176a19a
Author: David Carlier <devnexen@gmail.com>
Date:   Sun Jan 22 21:01:22 2023 +0000

    SDL_CPUPauseInstruction RISCV-64 version proposal.

commit 38697e832a7754037a81341fd539e173ec37af00
Author: ds-sloth <72112344+ds-sloth@users.noreply.github.com>
Date:   Sun Jan 22 12:27:52 2023 -0500

    Support MIN/MAX blend on OpenGL + ES

commit b1f365374b71d1d456394588039f30363b59d51b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 22 21:51:40 2023 +0100

    Add code snipped to migrate from AudioCVT interface

commit cb01b35c4e9e44809bd98f753dd35d8b490daf16
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 22 21:49:27 2023 +0100

    testresample.c: use SDL_DestroyAudioStream()

commit 0770c55e8d286c764300f30aed7064c06ce966f5
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 22 20:14:35 2023 +0100

    cocci: remove SDL_INIT_NOPARACHUTE

commit 967ebd78e662025915eaa30b81d90ec037ec0834
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 22 20:04:40 2023 +0100

    cocci: also fix up SDL_CreateRenderer calls with non-default render indices

commit 9c8642ded9d8df04bb663c77caf59b57c8a3bc02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 22 09:14:12 2023 -0800

    Removed SDL_INIT_NOPARACHUTE
    
    Fixes https://github.com/libsdl-org/SDL/issues/7121

commit e4fdf42097fc7f62a8ae6da90e028c71250e8cd7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:49:04 2023 +0100

    Update README-migration.md

commit bd793b6d7557a80e9c3a7b694004e64aaaea74e5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:45:48 2023 +0100

    Update testresample.c

commit 6ad51558d4dcc08d611d46021603d934fa55e2dd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:45:34 2023 +0100

    Update testaudiostream_audio.c

commit 64bc0a16121faa43c7a677a65c73f1dfcd743b12
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:45:02 2023 +0100

    Remove AudioCVT interface in favor of SDL_AudioStream

commit 9211c0b639ad32865efa4980d07fc24f3f4a1577
Author: raphasamp <123300172+raphasamp@users.noreply.github.com>
Date:   Sun Jan 22 08:09:24 2023 -0300

    Update SDL_vitagles_pvr.c
    
    This was broken unintentionally during #6545.

commit fb1191875823be560aefdcc8fed418fc5b5c8268
Author: PARTY MAN X <4970541+PARTYMANX@users.noreply.github.com>
Date:   Sat Jan 21 19:37:22 2023 -0600

    Blacklist Konami Amusement Controllers From HIDAPI.
    
    Fixes issue #7118 by adding all Konami Amusement controllers to the
    blacklist.  Additionally, the blacklist is changed to exclude a whole
    vendor when the PID 0x0000 is used.
    
    (cherry picked from commit a44b6461050760a84cd4c0807aff78a363f9cec8)

commit bd1115fa33d3f55ffdbaa173016da760dbb7585f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 20 17:06:49 2023 -0800

    Make sure subsystems are noted as initialized during initialization
    
    This fixes issues with SDL_WasInit(X) returning false if called from an event filter during initialization

commit c4db0725e4cf5eb6ec5239e6f03346958e88b9cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 20 09:31:22 2023 -0800

    Enable paddles on the Xbox Elite controller when connected over USB

commit 5d5d39b19079d45498855f6d28fbdbaba00d53c0
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 19 14:02:09 2023 -0500

    video: Don't resize moved, fullscreen windows when mode switching is being emulated
    
    When a driver is emulating mode changes, the display bounds are always the native desktop size, not those of the video mode being emulated. This can result in incorrectly setting the size of fullscreen Wayland windows. Don't resize fullscreen windows to the display dimensions when mode switching is emulated.
    
    Renames the quirk flag from VIDEO_DEVICE_QUIRK_DISABLE_DISPLAY_MODE_SWITCHING to VIDEO_DEVICE_QUIRK_MODE_SWITCHING_EMULATED to better reflect its purpose.

commit 5ba9e0736626cee5e100781e5a83d2a44514def3
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 19 13:04:18 2023 -0500

    wayland: Remove fullscreen window moving code
    
    SDL now handles moving fullscreen windows on move events in the video core, so Wayland doesn't have to do it manually anymore.

commit 6c06f5ce93c55fe0f5779d5aeb68bec1bd935455
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Thu Jan 19 21:12:51 2023 +0100

    wayland: Set `APPLICATION` scancode name to `Menu`
    
    This mimics the behavior of the other platforms.

commit 14695a714f18729ebcf5f699f236d29513a17f31
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 19 08:04:40 2023 -0800

    Set the default priority level of SDL_LOG_CATEGORY_ERROR to SDL_LOG_PRIORITY_ERROR
    
    This way SDL_LogError() will show errors by default.
    
    Fixes https://github.com/libsdl-org/SDL/issues/7105

commit 4becca4fc9b0c0e3c3d1e159b473dc65080aa7b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 19 07:42:04 2023 -0800

    Clarify that SDL_GetJoystickFromInstanceID() and SDL_GetGamepadFromInstanceID() return NULL if the associated device hasn't been opened yet.
    
    Fixes https://github.com/libsdl-org/SDL/issues/7100

commit c8dfc6b4757470bbb5b3678ee9a37bf8c9a74267
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 19 07:43:01 2023 -0800

    Fixing window being incorrect size when using win+shift+arrow to move new big picture mode between displays
    
    *When changing the display of a window, if it's a fullscreen window, resize it to the size of the new display
    
    CR: @saml

commit 423a82cd4b65cf72668551093bfdf58d49bce9ce
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Jan 16 13:39:26 2023 -0500

    wayland: Enforce or override libdecor minimum window size
    
    libdecor plugins can change the min/max window size values internally to enforce a minimum window size, and errors and crashes can result if the window size is below the internal limit.
    
    On versions of libdecor >= 0.1.1, the minimum width and height can be queried and the minimum required window size will be enforced. The application requested window size is still respected, however, the actual window may be slightly larger than the drawable area to accommodate the required libdecor minimum size.
    
    On version 0.1.0 of libdecor, which lacks the function to retrieve the minimum size, the internal limits are overridden before committing a frame, so that the internal limits always match the window size as a workaround, even if the window is technically smaller than the plugin would normally allow.

commit 9b861d2ea4fbae0718a0c1ac37397ed5ba2a5b67
Author: Fabian Greffrath <fabian@greffrath.com>
Date:   Mon Jan 16 15:17:26 2023 +0100

    add support for libsamplerate's "linear" resampling mode
    
    Fixes #6998
    
    (cherry picked from commit 8efa1f8fc60e0a2961ce3bad9293c048301d25ba)

commit 80f51eeb1fc2d4637ade4dc9020623649ed38562
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 10:50:52 2023 +0100

    testautomation: add an option to list all test suites and tests

commit 69253c542ab6ea396de535085095adf1ffcbdd3b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 10:28:16 2023 +0100

    SDL_test_harness: fix memory leak when generated seed

commit 1a47cf54485663a03457557103bc6b801de9cdef
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 10:04:22 2023 +0100

    Revert "gen_audio_resampler_filter: Use SDL_PI_F"
    
    This reverts commit 41221777baf3b4fc0ef1eafafb0160be8b6c5426.

commit 41221777baf3b4fc0ef1eafafb0160be8b6c5426
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:23:16 2023 +0100

    gen_audio_resampler_filter: Use SDL_PI_F

commit 4156e6f52edd3bb53c74b50dc443430ea9d4f20c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 16 09:21:24 2023 +0100

    SDL_CreateAudioStream: check for invalid parameters

commit 08963dc18338a98d2d476161e29310f13b31f824
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Thu Jan 12 00:17:58 2023 -0700

    testdrawchessboard.c: draw a diagonal line for visually checking highdpi functionality
    
    Also enable dpi awareness

commit 67c91353e01f6f2c0cc80c17eeddbad6def7cb01
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Wed Jan 11 19:45:01 2023 -0700

    Handle DPI scaling in SDL_GetWindowSurface
    
    Fixes DPI awareness of testdrawchessboard (previously, the surface was
    being created in points instead of pixels, resulting in the demo app
    only drawing in a corner of the screen on High-DPI displays)
    
    *_CreateWindowFramebuffer()/*_UpdateWindowFramebuffer(): are updated
    to use SDL_GetWindowSizeInPixels instead of SDL_GetWindowSize() or
    window->w/window->h.
    
    Most of the _CreateWindowFramebuffer backends are untested except
    for Windows.
    
    Fixes #7047

commit 6d11515873f75b290298a3e6be0d6f1dc733f30e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 15 20:01:58 2023 +0100

    cmake: make sdl3.pc relocatable

commit 0a1479d58c4f617ffcb84a6977f57d8ddc703662
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 15 17:39:07 2023 +0100

    cmake: fix sdl3.pc for Nintendo 3DS + add to test matrix

commit fc72ee5775f8eea7be7a88378c1f06e37e277211
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 14 15:25:22 2023 +0100

    haiku: cast pointer to SDL_FunctionPointer

commit 8238a128c3d3a5aef96142ad87f91f4cbe0cb2a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 16:37:56 2023 -0800

    Fixed build on Steam Link hardware

commit decbbb049927d555e43f5fa9af3f0d270d8e09ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:59 2023 -0800

    Updated API for SDL_JoystickID sign change

commit bf53183c8bf5b2d01d015f4bcab3e4ca1acdadb4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:57 2023 -0800

    Fixed building on Raspberry Pi

commit 0ed4589ed269dd01df0dfd31a076d6949da5e593
Merge: 3db5ea6b8 0785f272f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:17 2023 -0800

    Merge commit '0785f272fd9eb9c2cb366b074b09417aeea3f3c6' into main

commit 3db5ea6b80c8d9c3d3172e1e519915d1002c94e2
Merge: e9406686e a3ae26ddd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:15 2023 -0800

    Merge commit 'a3ae26ddd0a34ee3f5f39311dbdf420b24d95939' into main

commit e9406686eefaaa7868eca15e1b457a0dd184cb5d
Merge: 0475d6563 67ddb4c5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:12 2023 -0800

    Merge commit '67ddb4c5a21564edb228c51fc3c8d77aafdca618' into main

commit 0475d65635894cab04e6705913730280c14c654f
Merge: 9a7d6b0e4 40f0744b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:10 2023 -0800

    Merge commit '40f0744b73603630d78a50c3c0026aa0aed64069' into main

commit 9a7d6b0e40148b73d67a40983771765e08830894
Merge: f6d1fe9d0 3d67b8d02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:08 2023 -0800

    Merge commit '3d67b8d026f396af72dc0ac0d59e61449a8198c9' into main

commit f6d1fe9d0e3a2242d1daa93e1f2ddd4c418bc3d5
Merge: bfa3c0e97 b60084eb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:06 2023 -0800

    Merge commit 'b60084eb0b8ca4e96d2c927e4667801236f14c74' into main

commit bfa3c0e972813ff7ffaa9c97f37446484de4c53e
Merge: 27059107c 180afcdf3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:04 2023 -0800

    Merge commit '180afcdf3998e5175b744d3f2d87147802809450' into main

commit 27059107c589b60bf4ef01b79e2c4b0153bf3231
Merge: 76e0d6a57 c9647b4ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 14:20:02 2023 -0800

    Merge commit 'c9647b4ad00ad01ba3262b74548d7e8be934ed15' into main

commit 0785f272fd9eb9c2cb366b074b09417aeea3f3c6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jan 13 19:31:18 2023 +0100

    Add type argument to non-dynamic LOAD_LIBUSB_SYMBOL macro
    
    It should not need a cast.

commit a3ae26ddd0a34ee3f5f39311dbdf420b24d95939
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jan 13 19:01:36 2023 +0100

    cmake: convert spaces in PTHREAD_CFLAGS to ';'

commit 67ddb4c5a21564edb228c51fc3c8d77aafdca618
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 10:00:16 2023 -0800

    Fixed PS2 build

commit 40f0744b73603630d78a50c3c0026aa0aed64069
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Jan 13 16:30:20 2023 +0100

    Use filesystem drivers

commit 3d67b8d026f396af72dc0ac0d59e61449a8198c9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jan 13 18:40:49 2023 +0100

    cmake: convert spaces in USB_CFLAGS to ';'

commit b60084eb0b8ca4e96d2c927e4667801236f14c74
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jan 13 18:33:51 2023 +0100

    cmake: don't quote INOTIFY_INCLUDE_DIRS

commit 180afcdf3998e5175b744d3f2d87147802809450
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 12 20:44:16 2023 -0500

    Revert "wayland: Don't try to restore non-resizable windows"
    
    This reverts commit e35c3872dc6a8f7741baba8b786b202cef7503ac.

commit c9647b4ad00ad01ba3262b74548d7e8be934ed15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 17:25:15 2023 -0800

    Use the symbolic names of the audio and video driver hints

commit 76e0d6a5770ba9a7a208658b835568dcd23b4220
Merge: ef9a2593e 23beef4fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:58 2023 -0800

    Merge commit '23beef4fc7e0d218e02ebbcd363adae63254c54d' into main

commit ef9a2593ee7372eaa3b0210c6430e73c21cf133b
Merge: 7d454a442 cfe2050c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:56 2023 -0800

    Merge commit 'cfe2050c042ca9bd1cdb76092dabcbe5f2cc44df' into main

commit 7d454a44202aaedf40217b8ac1e011db966c2c7f
Merge: 4fc01c7a6 7c16fe6d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:54 2023 -0800

    Merge commit '7c16fe6d69c487c1148dd0dab6c4fd820bc69ec7' into main

commit 4fc01c7a664649a3773b19feb96ea893d8faac3f
Merge: d3d14ff61 7516bd349
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:52 2023 -0800

    Merge commit '7516bd349c81fc113d6474dee3271dfe8439e27c' into main

commit d3d14ff61dc44b9e515d42eebb4df13e37335821
Merge: c9ea82334 0da24479d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:49 2023 -0800

    Merge commit '0da24479da05f5410a8583efce7194c074f0522d' into main

commit c9ea82334585e984215f2a91d79cef3b2821368e
Merge: 72408ebc2 99ec05e2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:47 2023 -0800

    Merge commit '99ec05e2b8c517fa23adb657a66609890f335dc2' into main

commit 72408ebc2a5f41dfede0eaef18e2fa3cee9c978f
Merge: d11fb8368 e35c3872d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:45 2023 -0800

    Merge commit 'e35c3872dc6a8f7741baba8b786b202cef7503ac' into main

commit d11fb83680d291a7a357d75804dccafac29ef4ee
Merge: 746efe459 50f2eb7d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:43 2023 -0800

    Merge commit '50f2eb7d41fbba7c82630e55ead4ecf9c32f4c69' into main

commit 746efe45979142fed5182c68e93ba9e6ccf61705
Merge: c02056a0b 8e4a39b41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:41 2023 -0800

    Merge commit '8e4a39b41cf6ca9da29977a17b975f106e257593' into main

commit c02056a0b6e8fea9988f705b3bce2dd25eb45af0
Merge: d1694472e 5f39dd8a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 16:21:39 2023 -0800

    Merge commit '5f39dd8a2f5418c47354f5a46c2106a16c8875c4' into main

commit 23beef4fc7e0d218e02ebbcd363adae63254c54d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:55:52 2023 -0800

    We no longer need explicit SDL_ENABLE_SYSWM_* while building SDL

commit cfe2050c042ca9bd1cdb76092dabcbe5f2cc44df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:55:02 2023 -0800

    Default to enable/disable SDL_syswm subsystems based on enabled video drivers while building SDL

commit 7c16fe6d69c487c1148dd0dab6c4fd820bc69ec7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:54:06 2023 -0800

    Default to use the built-in EGL definitions

commit 7516bd349c81fc113d6474dee3271dfe8439e27c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:53:02 2023 -0800

    Move SDL_internal.h to be first in the file, after the copyright

commit 0da24479da05f5410a8583efce7194c074f0522d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:51:52 2023 -0800

    Fixed building Vivante video driver

commit 99ec05e2b8c517fa23adb657a66609890f335dc2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 15:49:21 2023 -0800

    Cast the return value of SDL_LoadFunction() to the type of the function being loaded

commit e35c3872dc6a8f7741baba8b786b202cef7503ac
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 12 16:32:04 2023 -0500

    wayland: Don't try to restore non-resizable windows
    
    Libdecor can crash if attempting to un-maximize a window that was not set as resizable.

commit 50f2eb7d41fbba7c82630e55ead4ecf9c32f4c69
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jan 12 15:36:35 2023 -0500

    wayland: Perform a round trip when maximizing and restoring windows
    
    Perform a round trip when maximizing and restoring windows so the changes have already taken effect when the associated functions return.

commit 8e4a39b41cf6ca9da29977a17b975f106e257593
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 13:23:49 2023 -0800

    Rename the xcFramework target to SDL.xcframework so it's clear when being embedded in other projects

commit 5f39dd8a2f5418c47354f5a46c2106a16c8875c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 13:08:33 2023 -0800

    Always run xcFramework and disk image creation builds when requested

commit d1694472e292ad4e32864924ef4ebc473ae57da2
Merge: 986ecec43 6dc50a78f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:41 2023 -0800

    Merge commit '6dc50a78fc4cd53b68892135c61cb130c1253277' into main

commit 986ecec4363ad0e6dd8c1816900c66b7aae87e0a
Merge: 31b73d822 1e8443f54
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:39 2023 -0800

    Merge commit '1e8443f54e4ec729ce4a003e1636219702fb1de5' into main

commit 31b73d822fed52577981bdfa9d5350969a1511ea
Merge: fb7d8c549 9eaea7d66
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:37 2023 -0800

    Merge commit '9eaea7d6614c00c865c8059a161631a2668adf12' into main

commit fb7d8c5493d79a45dbb01c7344304ddab71fef96
Merge: b71c3b7f6 57e78f4cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:35 2023 -0800

    Merge commit '57e78f4cf53b0fc84900a047120263c3c71e721c' into main

commit b71c3b7f6774aaeceb65db0690bf7fdf738adaa0
Merge: d120fd360 1bf1c866f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:32 2023 -0800

    Merge commit '1bf1c866fe60adba0a78e2ee24d464ede9d0369d' into main

commit d120fd3607942b2ea4b7892fcc61c277908bfaf5
Merge: da2c0242c 3b2e9d98d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:30 2023 -0800

    Merge commit '3b2e9d98dfee969e10553648f57a9adfe7dc297d' into main

commit da2c0242cc2a9e69bd0e1308b3c157a56c72fde6
Merge: 8f4ab749e 2ec9a2020
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:28 2023 -0800

    Merge commit '2ec9a20204ef9b1c590e64d865b31f9f213cbd8a' into main

commit 8f4ab749eca60f3ca40f36d446e305c566dc6961
Merge: fdd1a7f97 8bdc25f4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:26 2023 -0800

    Merge commit '8bdc25f4e4529c1faf92f9586a62956501e75300' into main

commit fdd1a7f970e5f0ab8dfc65538d71603bac1abccb
Merge: 65aacde71 ed1bdf32e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:24 2023 -0800

    Merge commit 'ed1bdf32ee5ad5f0ca503718d4b4563e7889a1a0' into main

commit 65aacde711855af090fa0d42dd9e937b19f1fa24
Merge: e9ce6bb54 9b0c660a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:22 2023 -0800

    Merge commit '9b0c660a033cce0d14ee4efc647ec1d01b60b6e1' into main

commit e9ce6bb54679f1fc2f8c13066cd81f399459e171
Merge: 74d0935e5 21e4be5a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:20 2023 -0800

    Merge commit '21e4be5a275bdfe629982313de7f3cca08a425a8' into main

commit 74d0935e58d33e06e1354875978d4ad302f96fa4
Merge: 38f8b7ff8 efa294550
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:18 2023 -0800

    Merge commit 'efa2945502abb069ab8b1ba8a6ba253fa32b80cd' into main

commit 38f8b7ff875020166f906d4c17c86042f246b647
Merge: ad5c4d415 439c0b023
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:50:15 2023 -0800

    Merge commit '439c0b023680a1cf18661336471ff405131de661' into main

commit 6dc50a78fc4cd53b68892135c61cb130c1253277
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 12:44:53 2023 -0800

    Fixed window never being shown on iOS

commit 1e8443f54e4ec729ce4a003e1636219702fb1de5
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jan 12 21:12:54 2023 +0100

    cmake: only use $<COMPILE_LANGUAGE:OBJC> when CMAKE_OBJC_COMPILER is defined

commit 9eaea7d6614c00c865c8059a161631a2668adf12
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 20:51:01 2023 +0100

    SDL_migration.cocci: simplify multiplicaction / division by 1

commit 57e78f4cf53b0fc84900a047120263c3c71e721c
Author: happyharryh <happyharryh@sina.com>
Date:   Tue Jan 10 20:36:13 2023 +0800

    Fixed the hat_map to avoid segmentation fault

commit 1bf1c866fe60adba0a78e2ee24d464ede9d0369d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 12 06:53:07 2023 -0800

    Handle new SDL_rwops error codes in SDL_LoadFile_RW()
    
    Thanks @BeWorld2018!

commit 3b2e9d98dfee969e10553648f57a9adfe7dc297d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 15:00:31 2023 +0100

    SDL_migration.cocci: migrate audio api 1.2

commit 2ec9a20204ef9b1c590e64d865b31f9f213cbd8a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 12 14:01:32 2023 +0300

    SDL_dynapi.c: add extern "C" guards, just in case..

commit 8bdc25f4e4529c1faf92f9586a62956501e75300
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 11:55:55 2023 +0100

    SDL_migration.cocci:  set events

commit ed1bdf32ee5ad5f0ca503718d4b4563e7889a1a0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 11:38:59 2023 +0100

    SDL_migration.cocci: more gamepad migration

commit 9b0c660a033cce0d14ee4efc647ec1d01b60b6e1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 11:06:36 2023 +0100

    SDL_migration: various name changes, and function removed

commit 21e4be5a275bdfe629982313de7f3cca08a425a8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 10:41:40 2023 +0100

    SDL_migration: add RW read/write

commit efa2945502abb069ab8b1ba8a6ba253fa32b80cd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 09:57:59 2023 +0100

    SDL_migration.cocci: add SIMD Alloc / Free

commit 439c0b023680a1cf18661336471ff405131de661
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 12 09:44:20 2023 +0100

    Add vulkan migration

commit ad5c4d415d4e4a7201c73b1ea13115b30b513558
Merge: b963ab56a 050507c33
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:25 2023 -0800

    Merge commit '050507c333b0dfecb3e08604ec7ff12d5c410935' into main

commit b963ab56a8d543144cb24b2f582cb3a7350be47a
Merge: b7c73b67a 67d517907
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:23 2023 -0800

    Merge commit '67d517907bf8662395edf88c2137b8b0bc74d9e8' into main

commit b7c73b67a2c93b624e66ca98e74834da4b99c4fa
Merge: 126f4a999 0ad22cfe3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:21 2023 -0800

    Merge commit '0ad22cfe37955727272333844bb80294e307007a' into main

commit 126f4a9994bb23c981fab4565197e5e57988439e
Merge: a43f0180b 7f610cd96
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:17 2023 -0800

    Merge commit '7f610cd96946f39c89ab9f46e505944c1ced769b' into main

commit a43f0180b3d91774cd439f29f2b45a9aaae2b843
Merge: ab977a569 555183257
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:15 2023 -0800

    Merge commit '555183257db81b59be532cbe3252adbbd823d1d6' into main

commit ab977a56964bd462058523895a92d4aead7730e0
Merge: 653c65cd2 d0aaf74ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:13 2023 -0800

    Merge commit 'd0aaf74ec0e413cc51e32febd14d59c0c4dc5b39' into main

commit 653c65cd298846cb04e45755aeab578d2a3880d4
Merge: 80a954240 84cd7214b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:11 2023 -0800

    Merge commit '84cd7214bdc766beffbbef79ff9df3127fb95a8d' into main

commit 80a9542405d349055b6f73bce736f381e0eaba29
Merge: 1ea973d5d 30516fd3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:09 2023 -0800

    Merge commit '30516fd3a69a508e883afa59ef7a88e13b93a24c' into main

commit 1ea973d5d23035f0a8b97b54866cd746c2e0103a
Merge: 21b121b6d f046788a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:07 2023 -0800

    Merge commit 'f046788a5a76302da79e921222dfb544bc6c9bee' into main

commit 21b121b6dfbeaba8cd1845bbcec423a6d1b5ec6c
Merge: ff36830ea 85924687f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:04 2023 -0800

    Merge commit '85924687fd5d53a58f5e3cf7bf3479b0c0587674' into main

commit ff36830ead06578099aa233d837b3774c59b5e5e
Merge: 2597dc015 0621a6735
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 22:16:02 2023 -0800

    Merge commit '0621a673502e56a24caa129051270b4a55363ad9' into main

commit 050507c333b0dfecb3e08604ec7ff12d5c410935
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 16:48:34 2023 -0800

    Fail the xcFramework build if the archive didn't succeed

commit 67d517907bf8662395edf88c2137b8b0bc74d9e8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jan 12 00:24:20 2023 +0100

    log: fix unused-variable warning when configuring SDL with -DSDL_LIBC=OFF

commit 0ad22cfe37955727272333844bb80294e307007a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 15:11:29 2023 -0800

    Fixed version validation

commit 7f610cd96946f39c89ab9f46e505944c1ced769b
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Jan 11 23:26:22 2023 +0100

    Using UV instead of STQ

commit 555183257db81b59be532cbe3252adbbd823d1d6
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Jan 10 23:12:25 2023 +0100

    Remove dummy flag

commit d0aaf74ec0e413cc51e32febd14d59c0c4dc5b39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 11 14:40:21 2023 -0800

    Added an xcframework target to cover all supported Apple platforms
    
    This is also used to create the release disk image

commit 84cd7214bdc766beffbbef79ff9df3127fb95a8d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jan 11 23:26:53 2023 +0100

    SDL_migration.cocci / rename_api.py: handle migration of enum/structure
    and fix previous one in SDL_migration.cocci.

commit 30516fd3a69a508e883afa59ef7a88e13b93a24c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 11 21:56:50 2023 +0300

    joystick/vita: add some sanity check to SDL_GetJoystickInstanceID result
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/7051

commit f046788a5a76302da79e921222dfb544bc6c9bee
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 11 21:56:50 2023 +0300

    joystick/vita: fix index value use returned by SDL_GetJoystickInstanceID
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/7051

commit 85924687fd5d53a58f5e3cf7bf3479b0c0587674
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 11 21:56:50 2023 +0300

    fix SDL_GetSensorInstanceID() return code upon failure.
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/7051

commit 0621a673502e56a24caa129051270b4a55363ad9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 11 21:56:50 2023 +0300

    fix SDL_GetJoystickInstanceID() return code upon failure
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/7051

commit 2597dc0157955930cd61c7bf833a24139b343eb4
Merge: d7e9e5b3b 21a1508ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:26:13 2023 -0800

    Merge commit '21a1508cebe897d141be13711c580fcb9e082ef2' into main

commit d7e9e5b3b1b958e95165f02bf5b0a114b1855598
Merge: 429ac8826 0ead89747
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:26:11 2023 -0800

    Merge commit '0ead89747ade602c8162e1bef7087dac6c04ad82' into main

commit 429ac882661957868497732cf5de02aedb6ea88e
Merge: fa494fbf5 9c7aed74b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:26:09 2023 -0800

    Merge commit '9c7aed74ba70e73b429316c4ace7bc9e99103c08' into main

commit fa494fbf5fef7803d8765deea727e81f33c7a672
Merge: a73e5d8f8 95faeab96
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:26:07 2023 -0800

    Merge commit '95faeab96c803d5e18a1864326916c051273e003' into main

commit 21a1508cebe897d141be13711c580fcb9e082ef2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:15:21 2023 -0800

    Re-add JNI_OnLoad to the symbols list so Android symbols are resolved properly

commit 0ead89747ade602c8162e1bef7087dac6c04ad82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 21:05:38 2023 -0800

    Fixed filename comment in SDL_intrin.h

commit 9c7aed74ba70e73b429316c4ace7bc9e99103c08
Author: Wohlstand <admin@wohlnet.ru>
Date:   Wed Jan 11 05:42:59 2023 +0300

    SDLAudioManager.java: Fixed the support for Android older than API 23
    
    (cherry picked from commit b425036808b3776da596dd103f598242652b51fb)

commit 95faeab96c803d5e18a1864326916c051273e003
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 18:07:40 2023 -0800

    SDL_GetNumJoysticks() and SDL_GetNumSensors() are no longer in the API

commit a73e5d8f8d8bba2b5e78ff9025796b0a6f1d2fc2
Merge: aaa8cd02a 237086c91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 16:27:02 2023 -0800

    Merge commit '237086c91702e77d3b2882f4baf0c75f6a1b711e' into main

commit aaa8cd02a1c82e2d5604bcae50f919bd9b4e5042
Merge: 4efad4015 dc280c17a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 16:26:59 2023 -0800

    Merge commit 'dc280c17a03d9acf0ff0e850662351c822c2eda6' into main

commit 4efad4015742007c7a8f853b0af6ee147595db69
Merge: 769985a9e 9f721d492
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 16:26:57 2023 -0800

    Merge commit '9f721d492a19ed92f099602c450576935eb00b46' into main

commit 237086c91702e77d3b2882f4baf0c75f6a1b711e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 15:51:14 2023 -0800

    Fixed Xcode 14.2 warnings

commit dc280c17a03d9acf0ff0e850662351c822c2eda6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 15:50:35 2023 -0800

    Moved SDL_intrin.h back into the public headers for application use

commit 9f721d492a19ed92f099602c450576935eb00b46
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 15:25:48 2023 -0800

    Catch SDL_opengles2.h in rename_headers.py

commit 769985a9e1716b7c37780ad0094cfc15970e4fb1
Merge: dcb283dce 69b94145d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:19:08 2023 -0800

    Merge commit '69b94145d32e67c9c2187caab183f6ee8680064c' into main

commit dcb283dce15a89f3c6e0a56f52594109a4b4280f
Merge: b4fac46b8 c4b471bd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:19:05 2023 -0800

    Merge commit 'c4b471bd1314933fd726ef987d96c92c68033f99' into main

commit b4fac46b8ad2086051c3bf61973ebadec58714ba
Merge: 41ef6ef81 ecc48b882
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:19:03 2023 -0800

    Merge commit 'ecc48b882df9b819fb4079184bbf2b0c11a0523f' into main

commit 41ef6ef81050ee94f126b6905c07e142e9dd2ac4
Merge: 1a18e9b7c 5066fcde6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:19:01 2023 -0800

    Merge commit '5066fcde69919926e3f178fb1a01e0cc66aa8b14' into main

commit 1a18e9b7c2bf370684eec855420e9bc8f3d4cf95
Merge: d401e1ed2 413af2f5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:59 2023 -0800

    Merge commit '413af2f5f166649a4f12419c9125837381f3547c' into main

commit d401e1ed2f004f7bf07fcc13b6ea6b190b764466
Merge: 5ac57b20c 38b35a341
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:57 2023 -0800

    Merge commit '38b35a3414910df342a9aa0050002ebbc6ffcc5b' into main

commit 5ac57b20cb67891fb7ec7cd8ea9eefd7837513c8
Merge: 3cf76e258 56522034d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:55 2023 -0800

    Merge commit '56522034db321676fd2d665d27e5aeac0c2383f9' into main

commit 3cf76e258147fec42e84268fd2c81b857f02aace
Merge: a26f810dd 9fa55d9ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:53 2023 -0800

    Merge commit '9fa55d9cabc93532cd5cf44105ec589a4db1d097' into main

commit a26f810dd88a5d2d406aa787deb7332a7f9ee493
Merge: 45950b476 2aa9569b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:51 2023 -0800

    Merge commit '2aa9569b3e3dacce9338fb6964c953217d02ff65' into main

commit 45950b476d187f9361a26ad2475b238c0f41f3fa
Merge: 89d8b0372 9597c482f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:49 2023 -0800

    Merge commit '9597c482facce811f1f96eee346c12e8f41b2abd' into main

commit 89d8b0372da2429c1df1d2a34458b67a17b4a8e1
Merge: d44c86e44 a486d0e2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:46 2023 -0800

    Merge commit 'a486d0e2b2985141bb1e1e9945cfc32890bfa6cd' into main

commit d44c86e443891bd675c9ffd6ccb50bfa9050854f
Merge: f890f9728 049e6ff40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:44 2023 -0800

    Merge commit '049e6ff4085cdfbb311d08afc8699e1dcffffab0' into main

commit f890f97286ac19a884dccff921194aba508a1b03
Merge: def4d03c3 837416ef8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:42 2023 -0800

    Merge commit '837416ef8508c2abda02da8b8c2fe4d1a877e78a' into main

commit def4d03c3f513c02c748e23746f76739212f9beb
Merge: bec108a25 aa7fdd662
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:40 2023 -0800

    Merge commit 'aa7fdd6624645d152c498372b600d5a309293be4' into main

commit bec108a2540c6cce82de6cff92f887e3b6bdf692
Merge: db1ff457d 0ab99ffb2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:38 2023 -0800

    Merge commit '0ab99ffb2a9a887a2db30d29e917638d90a96747' into main

commit db1ff457d0deb540360a149e2c3e1b34ac4f4d9e
Merge: 435417486 f85ef6fc3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:36 2023 -0800

    Merge commit 'f85ef6fc3cc51e641231db478783725e0ea86937' into main

commit 43541748657af6a3d1d9655c89e2a91a5c23a2ee
Merge: 053c37789 5ed00d34a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:34 2023 -0800

    Merge commit '5ed00d34aa248c3af60ba26a0a74866a15bdb704' into main

commit 053c377893fe3ce405c0979572082b87521c7c60
Merge: 40b45970e e9b86eebf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:32 2023 -0800

    Merge commit 'e9b86eebf3018dd3653af53fc47cb772ab85059f' into main

commit 40b45970ef486b82842563bfbb552284bfb7d561
Merge: 7da95766b 7275b2b35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:29 2023 -0800

    Merge commit '7275b2b3522cde90841b239bc61e4494f142d514' into main

commit 7da95766b525052e31c687fcac89da9b5add7cb8
Merge: bd98f8fef 5feebcdce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:27 2023 -0800

    Merge commit '5feebcdce0252f6af7c21c2aa7525134c09b5002' into main

commit bd98f8fef4a620fd95f30cf2c03c647c6ad91227
Merge: f092f5982 fde78d12f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:23 2023 -0800

    Merge commit 'fde78d12f247a776b52b007479e5274d4bd4e3fe' into main

commit f092f5982c4ea802b211eb3bd64d1c388702b3ec
Merge: f393f6510 78ccadd5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:21 2023 -0800

    Merge commit '78ccadd5a22bd60c015598fa0abad92705d5ea0f' into main

commit f393f651043bf71fa94cbc5e8b3ec9e6fb8fadbf
Merge: b61a819e0 504bce518
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:19 2023 -0800

    Merge commit '504bce5187830c082cb8803fe9447b4fb45fcccc' into main

commit b61a819e0c47a47d392a4f4458a6deeac17732a2
Merge: 56ad16fb7 c663e6d56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:17 2023 -0800

    Merge commit 'c663e6d568a1bcb096df3ff072f1b9306980ab73' into main

commit 56ad16fb7b57787371e62f6681d597c663f7ec23
Merge: 81c3343d0 dbd4b88ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:15 2023 -0800

    Merge commit 'dbd4b88abce852bb11d850333f28c66681cb5530' into main

commit 81c3343d04826467e2ac4d538df358375575c83f
Merge: 8cd08097d 40833d252
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:12 2023 -0800

    Merge commit '40833d25262552fe96dec5acd3870d79f08f1456' into main

commit 8cd08097d9dafe5b4f7fb608b32f1b83fced6bcc
Merge: 60cff229c 59308cb3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:10 2023 -0800

    Merge commit '59308cb3e99c104692b55156883cd89c2aa84699' into main

commit 60cff229c8dae5e0a016b671f24f6f2a40c307cd
Merge: 2c5b384dc 62297e7da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:08 2023 -0800

    Merge commit '62297e7da506e767de678c8aab4efdfd2fc38c89' into main

commit 2c5b384dceef36da54b1ff4a283f600768e782f4
Merge: 85d6fb280 607ddd0e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:06 2023 -0800

    Merge commit '607ddd0e101d6b0867036e5c48b0f854d553edce' into main

commit 85d6fb280ab9f1dee8573030d8945f7ff4760c5a
Merge: 50af65a7d 4798c3619
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 10:18:04 2023 -0800

    Merge commit '4798c36197d403fbb97cd4853fa109d1b0b77d62' into main

commit 69b94145d32e67c9c2187caab183f6ee8680064c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 07:53:38 2023 -0800

    Updated documentation for SDL_migration.cocci
    
    Especially note that this can be installed and run in WSL on Windows

commit c4b471bd1314933fd726ef987d96c92c68033f99
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 10 16:43:15 2023 +0100

    Ensure training new line in cocci files

commit ecc48b882df9b819fb4079184bbf2b0c11a0523f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jan 10 16:11:22 2023 +0100

    migration: change 2nd arg of SDL_CreateRenderer to NULL if it was -1

commit 5066fcde69919926e3f178fb1a01e0cc66aa8b14
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 10 15:25:00 2023 +0100

    Add SDL_migration.cocci for SDL2 to 3 migration (#7042)
    
    * Add SDL_migration.cocci for SDL2 to 3 migration

commit 413af2f5f166649a4f12419c9125837381f3547c
Author: Elad Lahav <elahav@qnx.com>
Date:   Tue Jan 10 09:06:36 2023 -0500

    Addressed comments

commit 38b35a3414910df342a9aa0050002ebbc6ffcc5b
Author: Elad Lahav <elahav@qnx.com>
Date:   Tue Jan 10 07:02:00 2023 -0500

    Allow the use of posix_spawn() instead of vfork/execlp()

commit 56522034db321676fd2d665d27e5aeac0c2383f9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 18:30:23 2023 -0800

    Fixed building with Visual Studio 2010

commit 9fa55d9cabc93532cd5cf44105ec589a4db1d097
Author: Narr the Reg <juangerman-13@hotmail.com>
Date:   Mon Jan 9 17:42:17 2023 -0600

    hidapi: switch: Add user calibration support

commit 2aa9569b3e3dacce9338fb6964c953217d02ff65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 17:42:16 2023 -0800

    Replaced SDL_SIMDAlloc(), SDL_SIMDRealloc(), and SDL_SIMDFree() with SDL_aligned_alloc() and SDL_aligned_free()
    
    Fixes https://github.com/libsdl-org/SDL/issues/5641

commit 9597c482facce811f1f96eee346c12e8f41b2abd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Dec 2 20:07:36 2022 +0100

    ci: add haiku to ci matrix

commit a486d0e2b2985141bb1e1e9945cfc32890bfa6cd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 18:35:48 2023 +0100

    ci: rename *.yaml -> *.yaml

commit 049e6ff4085cdfbb311d08afc8699e1dcffffab0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 20:09:27 2023 +0100

    cmake: haiku uses CXX code, so enable it in C-only project

commit 837416ef8508c2abda02da8b8c2fe4d1a877e78a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 18:02:40 2023 +0100

    cmake: command-line option ‘-Wdeclaration-after-statement’ is valid for C/ObjC but not for C++

commit aa7fdd6624645d152c498372b600d5a309293be4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 16:58:25 2023 +0100

    haiku: remove unused variable in SDL_BApp.h

commit 0ab99ffb2a9a887a2db30d29e917638d90a96747
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Dec 17 00:05:55 2022 +0100

    cmake: add SDL_TESTS_TIMEOUT_MULTIPLIER to account for slower machines

commit f85ef6fc3cc51e641231db478783725e0ea86937
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Dec 2 22:18:46 2022 +0100

    haiku: fix use of SDL_ConvertSurfaceFormat

commit 5ed00d34aa248c3af60ba26a0a74866a15bdb704
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 15:59:39 2023 -0800

    Document that condition variable mutexes can't be locked recursively.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5497

commit e9b86eebf3018dd3653af53fc47cb772ab85059f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 14:55:12 2023 -0800

    Functions which return function pointers now return SDL_FunctionPointer instead of void*
    
    This fixes the clang warning "Cast between pointer-to-function and pointer-to-object is an extension"
    
    You can define SDL_FUNCTION_POINTER_IS_VOID_POINTER in your project to restore the previous behavior.
    
    Fixes https://github.com/libsdl-org/SDL/issues/2866

commit 7275b2b3522cde90841b239bc61e4494f142d514
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 9 21:59:50 2023 +0100

    SDL_GetTicks64: entry added in SDL_ENABLE_OLD_NAMES

commit 5feebcdce0252f6af7c21c2aa7525134c09b5002
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 12:09:30 2023 -0800

    SDL_AddHintCallback() now returns a standard int result instead of void
    
    Fixes https://github.com/libsdl-org/SDL/issues/7035

commit fde78d12f247a776b52b007479e5274d4bd4e3fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:41:41 2023 -0800

    Updated copyright for 2023

commit 78ccadd5a22bd60c015598fa0abad92705d5ea0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:38:36 2023 -0800

    Speed up processing of update-copyright.sh

commit 504bce5187830c082cb8803fe9447b4fb45fcccc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:16:10 2023 -0800

    Set SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS for the virtual joystick test

commit c663e6d568a1bcb096df3ff072f1b9306980ab73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:05:40 2023 -0800

    Revert "Always allow controller events for virtual joysticks regardless of focus state"
    
    This reverts commit d94f2a9ee56abcbe84a95da91eb3a3319cb4d022.
    
    Rather than changing behavior, we'll set SDL_JOYSTICK_ALLOW_BACKGROUND_EVENTS in the joystick tests

commit dbd4b88abce852bb11d850333f28c66681cb5530
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:04:05 2023 -0800

    Generally removed generally

commit 40833d25262552fe96dec5acd3870d79f08f1456
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 09:01:41 2023 -0800

    Documented thread starvation issue raised in https://github.com/libsdl-org/SDL/pull/7023

commit 59308cb3e99c104692b55156883cd89c2aa84699
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 08:40:11 2023 -0800

    SDL_platform_defines.h is already included in SDL_platform.h

commit 62297e7da506e767de678c8aab4efdfd2fc38c89
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jan 9 15:44:38 2023 +0100

    cmake: avoid string(SUBSTRING) on short strings
    
    CMake 3.1 and older throws an error when the input string is too short

commit 607ddd0e101d6b0867036e5c48b0f854d553edce
Merge: 50af65a7d 4798c3619
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 9 13:44:53 2023 +0100

    Merge pull request #7033 from 1bsyl/br_oldname_gettick64
    
    Add oldname entry: GetTicks64() is renamed GetTicks()

commit 4798c36197d403fbb97cd4853fa109d1b0b77d62
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 9 13:43:39 2023 +0100

    Add oldname entry: GetTicks64() is renamed GetTicks()

commit 50af65a7ddf65fd685dc0e2658016f950360c473
Author: yuanhecai <yuanhecai@loongson.cn>
Date:   Mon Jan 9 15:52:07 2023 +0800

    Fix loongarch64 support
    
    HAS_LSX/LASX is modified as HAVE_LSX/LASX.

commit 0d8c22acd216748b6d8bef75bd5adc6fb8f7accc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 9 01:30:37 2023 +0300

    cmake (CheckPTHREAD): remove _GNU_SOURCE define after bug #7026 fix

commit a486eeccf48a3799b33e1b51d6c7e64fdff3edd6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Jan 7 15:59:18 2023 +0100

    Remove one test that contains call of SDL_Quit() / SDL_Init() because it
    conficts with the initializaion of test common.
    (before it used SDL_VideoInit SDL_VideoQuit which weren't perturbated by SDL_Quit())

commit f91a7475490aceb7cb190894bab89896a2f462e3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 8 00:40:09 2023 +0100

    include: SDL_dynapi.h depends on platform defines

commit d94f2a9ee56abcbe84a95da91eb3a3319cb4d022
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 10:47:58 2023 -0800

    Always allow controller events for virtual joysticks regardless of focus state
    
    Refrence https://github.com/libsdl-org/SDL/pull/7024

commit 61f76efb850080c32b5f8dffd90868fcf5baa23e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 8 18:45:59 2023 +0100

    cmake: do all compile tests with -D_GNU_SOURCE=1

commit ac99db9fc8d528a79abb98a5641e0fd94aa20a9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 09:32:31 2023 -0800

    Fixed infinite loop shutting down WGI controllers
    
    We are guaranteed that the lock will be held during shutdown, so if we are in InvokeRemoved(), it's because we're shutting down controllers and need to remove them from our internal list.
    
    Fixes https://github.com/libsdl-org/SDL/issues/7016

commit f53d797cca0ac903db44236eb62ef2e05573e022
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 20 18:47:17 2022 +0200

    cmake: generate git hash using GetRevisionDescription CMake module
    
    This allows the build system (ninja/make/VS) to detect whether the current
    checkout git commit has changed. If so, SDL_revision.h will be updated.

commit d4f7b0aa0e2f64d4fffc3061b02902895b177595
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 8 19:41:32 2023 +0300

    cmake: added missing INTERFACE to target_compile_definitions

commit 9ffeae7b58e24591a29c87aecc2b6922e191f916
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 07:59:14 2023 -0800

    Added a migration note for SDL_Vulkan_GetInstanceExtensions()

commit a2b2464b46c62b87e669d88268c7a31439eb676d
Author: Hunter Kvalevog <91440203+hkva@users.noreply.github.com>
Date:   Sat Jan 7 11:17:16 2023 -0600

    SDL_Vulkan_GetInstanceExtensions: Require Vulkan
    
    Document that this function will fail if the user doesn't call
    SDL_Vulkan_LoadLibrary (either explicitly or via SDL_CreateWindow)
    beforehand.

commit 09533679677ff3d62331a0fefa2a78638d92a724
Author: Hunter Kvalevog <91440203+hkva@users.noreply.github.com>
Date:   Sat Jan 7 10:51:58 2023 -0600

    SDL_Vulkan_GetInstanceExtensions: Remove window
    
    Remove the unused `window` parameter from
    SDL_Vulkan_GetInstanceExtensions, which is never used by any of the
    backends.

commit c8286fc9a29b4e8606e5d7fc0db1b051913a9bc0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Jan 8 01:28:12 2023 +0100

    testevdev: cannot test evdev capabilities without linux input
    
    Configure with "-DSDL_LIBC=OFF" to get this configuration.

commit 1d60030e8443b0e62639b7c27e781a7c714e884f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 22:25:09 2023 +0100

    cmake: add -Wformat when checking -Wformat-extra-args
    
    The need for -Wformat when using -Wformat-extra-args was observed for
    the msys2 mingw64 gcc toolchain.

commit e85e11b21107f9349dd4496a889aaabf9b06ec1f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 20:38:33 2023 +0100

    cmake: avoid adding full path to SDL_EXTRA_LIBS
    
    This avoids placing e.g. -l/path/to/libX11.so in sdl3.pc when configuring with -DSDL_X11_SHARED=OFF

commit dfcd8d583508a29a9bbf878ad53fc95afc3fc4ff
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 19:40:23 2023 +0100

    cmake: remove unused function 'listtostrrev'

commit 77025417ddda9649b26e5fd5d15b1ec77d003241
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 18:57:56 2023 +0100

    cmake: add SDL_ prefix to EXTRA_LIBS/EXTRA_LDFLAGS

commit bffbfa572c418b0a849738ffe2cbf37dd0f0826c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 18:32:58 2023 +0100

    cmake: rename SDL_STATIC_LIBS -> SDL_PC_STATIC_LIBS

commit 2f1860cfc6feb368f01a6fbf7f4c5958a5ea77ef
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 18:17:55 2023 +0100

    cmake: add sdl-shared-build-options target to collect SDL shared library flags

commit 0003559adf590c2f41ebd76bdd0f5fc61ef07597
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 18:08:46 2023 +0100

    cmake: handle macos current and compatibility version through VERSION/SOVERSION properties

commit 053c37583c486b16cde757f0719c4b9299b4ef8c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 17:45:58 2023 +0100

    cmake: avoid modifying CMAKE_C_FLAGS

commit 8fc445c7303b9615de1b651e5b2600148596a007
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:58:42 2023 +0100

    cmake: SDL3 does not need -lmingw32 anymore because SDL_main has gone

commit 562a8209d8d84e3cb3a4afe0fdbd4f94d0649f91
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:57:28 2023 +0100

    cmake: HAVE_LINUX_VERSION_H is unused

commit 5555284a70ec747ee82a79a1cc3a3bd85ecadd55
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:55:32 2023 +0100

    cmake: use target_compile_options to use -idirafter for khronos headers

commit 4d9ee735fd09ae74988beb71cc7c35c9b117a228
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:25:17 2023 +0100

    cmake: SIZEOF_VOIDP, LIBNAME and LIBTYPE are not used

commit 0a4420e02f95d46e744c4e8b39b99430d6f7762c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:24:11 2023 +0100

    cmake: rename cmake variables to include _PC_ as they are meant for pkgconfig file

commit 373a6464c82c844426889e230b428a62a8136d0a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 16:15:28 2023 +0100

    cmake: collect cflags in sdl-build-options and sdl-global-options

commit fb80608ffffa09bd2004733212f18b8b7c92a05b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 15:06:21 2023 +0100

    cmake: use cmake <LANG>_VISIBILITY_PRESET property to pass -fvisibility=hidden

commit 87af5cfc9fca61eacf2297474d0215a3821194a3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 15:00:30 2023 +0100

    cmake: HAVE_GCC_PREFERRED_STACK_BOUNDARY is not used anymore

commit d73b9fec1e18a059ecdd013065116c29844dfdaa
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 14:07:19 2023 +0100

    cmake: target_compile_definitions does not need -D prefix

commit 1277c7784dc6e046fd5c18bd0679ab4bcaec6f82
Merge: ec14487e1 51ae7cc35
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 8 13:44:49 2023 +0100

    Merge pull request #7022 from 1bsyl/br_test_mouse
    
    Fix testautomation_mouse:

commit 51ae7cc35cfe2d9102f54237f8c3b6b06969e221
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 8 13:28:10 2023 +0100

    Fix testautomation_mouse:
    FLT_MIN is positive and very small. we want -FLT_MAX here.

commit ec14487e1deb6881906f53ff1a43f6317df2f884
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jan 7 23:46:52 2023 +0100

    unix/SDL_systimer.c: add ';' to statement

commit cbe01319e0bff87b5d2104e12e9b15ea4ebe43b6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Jan 7 18:56:50 2023 +0100

    Fix testautomation_pixels using really invalid pixel format

commit 76e1c7c509c37397868ef25b2ab5a2fc670cad93
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Jan 7 16:48:51 2023 +0100

    Fix testautomation_pixels:
    we can create all pixel format, including SDL_PIXELFORMAT_UNKNOWN (as before).

commit 7f0801377b995e9b8e461737c28e14d6fb7043a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 7 08:28:07 2023 -0800

    Separate wmain() and main() implementations
    
    Fixes https://github.com/libsdl-org/SDL/issues/7010

commit ca541789eaaf480f19667def4a3bd1e504f1e598
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 7 14:25:04 2023 +0300

    cmake: check for math library functions even in the absence of libm
    
    (Reference issue: https://github.com/libsdl-org/SDL/issues/7011)

commit 5ea06f487dcc59180f00e9bc65c5aaad63058c49
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 7 14:25:04 2023 +0300

    cmake: fix detection of library functions when -Werror is enabled.
    
    (Reference issue: https://github.com/libsdl-org/SDL/issues/7011)

commit 0f9b923ff495f21e6a0bb1de1acd32b1c3d65236
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 7 14:25:04 2023 +0300

    cmake: fix detection of math library functions.
    
    Fixes https://github.com/libsdl-org/SDL/issues/7011

commit 5a2a91cb0568238726d723b529ecdd5fa5b03782
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 16:24:20 2023 -0800

    Fixed compile warnings with unused parameters

commit 13ab10031790f9aec74f8501be1f34e99abf6e5c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 6 13:27:53 2023 +0100

    Fixed bug #6990: fix computation of alpha in BlitRGBtoRGBPixelAlphaMMX
    backport from SDL2 branch

commit 5dd07a577388505c9b51ab3c8cd6e6e1b7365486
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 12:10:21 2023 -0800

    The alloc_size attribute isn't supported in clang 3.x

commit 6b5855e990f1ad7604b21bfb9c71dbf6c05f0bbc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 09:53:18 2023 -0800

    Removed SDL_REVISION_NUMBER

commit 93e2903ac550b9f0ac034af4174658c1f5ffbc04
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 6 13:59:45 2023 +0100

    Add SDL_PlayAudioDevice() to play audio. Remove pause_on param from SDL_PauseAudioDevice()

commit 26be384801536b91bd9127db2700b3beb5b51688
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 22:53:40 2023 -0800

    SDL_syswm.h provides the platform specific types by default again
    
    You can enable and disable subsystems with SDL_ENABLE_SYSWM_*/SDL_DISABLE_SYSWM_* and you can disable the type forward declarations with SDL_DISABLE_SYSWM_*_TYPES

commit 230ad2a201463e91b0a347eeb90b75936a7a8334
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Dec 30 11:04:08 2022 -0500

    wayland: Handle modifier keys internally
    
    Modifier keys on Wayland can be remapped, latched/locked, and defer the system modifier state changes to key release events instead of key press events, which the default SDL modifier handling code doesn't deal with correctly. Track and set the modifier keys internally to deal with the plethora of various combinations that the system key modifiers can be in and correctly reflect the actual system state to SDL applications.

commit d2917918c099240e1610668f75b7c3d26f0b8819
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Dec 30 10:06:00 2022 -0500

    events: Add function to send keystrokes and not update the modifier state
    
    Add SDL_SendKeyboardKeyIgnoreModifiers() function and repurpose the source parameter for the SDL_SendKeyboardKeyInternal() function to use as a generic set of keyboard flags.

commit 59ad6793b9ec900352cc3d756d6f3062a3ccb525
Author: Matt Durgavich <mattdurgavich@gmail.com>
Date:   Thu Jan 5 11:54:27 2023 -0500

    Fix For issue #6948 (#6991)
    
    MessageBoxes attached to a window in macOS should use modal APIs and not
    use a poll/sleep pattern on the main thread. Sleeping the main thread
    makes the NSWindow message loop sluggish and interferes with external
    applications that need to send messages to that window, such as
    VoiceOver.

commit 2d7f8d7d51214b981d216e631f20ee1e74e7e8f8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 5 09:57:14 2023 +0100

    Remove legacy SDL_Audio functions that acts on device id == 1

commit bb34441474486f64f69c97bddd54f39adaea73ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 00:48:44 2023 -0800

    Provide a better real-world example of the SDL_RWread() API change

commit 228d9ae7915ec2c841605aedfaa627c441626740
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 23:50:08 2023 -0800

    rename_headers.py covers begin_code.h/close_code.h

commit c93f2f06c99245da0b6ae13350109b42613c27cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 23:47:01 2023 -0800

    Updated release_checklist.md for SDL 3.0

commit 51a80d03ceee5ebb59003e2da9cef45256b17d34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 22:29:16 2023 -0800

    Be really explicit about needing to check for negative error codes with SDL_RWread()

commit 5a4283134542d4bdb3d968a836387a750ce80517
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Wed Jan 4 18:47:16 2023 +0100

    wayland: Fallback to default cursor if chosen one wasn't found

commit 0bbf6cc3791b031f62e93b82a93e5c392356bc80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 16:22:40 2023 -0800

    Test text rendering APIs take floating point coordinates

commit 0901657278dbc8a2d50807443b6c18b8970ecb3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 15:41:35 2023 -0800

    Document renamed API functions in SDL_keyboard.h

commit 1dc119c316e96b78c3f77719609e098bd825cab3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 14:53:29 2023 -0800

    Removed functions from SDL_oldnames.h that are no longer in the API

commit 4f978456a806e8e3c8e5bc8f0d2692650652c65e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 14:32:37 2023 -0800

    Renamed SDL_GAMEPADDEVICEREMAPPED to SDL_GAMEPADREMAPPED

commit 28b22e3f9ba1ad0f43e8d2a713fe05e3e5299964
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 14:03:12 2023 -0800

    Removed functions from SDL_oldnames.h that are no longer in the API

commit eddaf870f5b57bbdb7f1cf08bacc4f997806d9a7
Author: Deve <deveee@gmail.com>
Date:   Wed Jan 4 22:11:01 2023 +0100

    Avoid textinput events when pasting from clipboard on iOS.
    
    I handle command+C and command+V shortcuts for copy/paste from clipboard using
    SDL_GetClipboardText/SDL_SetClipboardText. But on iOS command+V shortcut is
    also handled by system, so that I also get textinput event with that clipboard
    text. And thus the application gets this clipboard text twice (from
    SDL_GetClipboardText and from textinput event).
    
    I assume that intended behavior is that command+V shouldn't generate textinput
    events. At least as far as I know ctrl+V on other platforms does nothing. This
    commit disables paste action for UITextField, so that textinput event isn't
    generated anymore.

commit c823f26f184e6e92f9f5ec3187a9533e5f3b5683
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 13:51:40 2023 -0800

    Revert "Removed public joystick locking API"
    
    This reverts commit a515f51ac0001d9173dfc5bb338c536ec1eb14bc.
    
    We still need joystick locking to protect the gamepad mappings

commit 566a559beb6a3a9b622f23ab875798b814abcd09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 13:51:00 2023 -0800

    Fixed parsing symbols from SDL_oldnames.h

commit e76c1d74bcdadb8575a598143cc340e5f06b2c4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 11:20:38 2023 -0800

    Added a python script to rename SDL2 headers to SDL3 headers

commit 6084d60c66892c04e632afd7b5c863cfc256a9ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 11:18:18 2023 -0800

    Removed QtCreator entries from .gitignore
    
    We don't use QtCreator in the SDL project, and it matches the build-scripts directory

commit 406c8b79fe767b48da5a2d420eb5227db7cee899
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 10:40:30 2023 -0800

    rename_symbols: only write new file if contents have changed
    
    Also don't stop for other exceptions, just print them and keep going

commit 6863f0b2d89a73c20d685f40c23ecac1fca7d1ec
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jan 4 10:27:28 2023 +0100

    Add SDL_WindowID type for SDL_Window id

commit 86c63761404b0170546d9e7c6d4f2bbdcc9ce53f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 08:46:58 2023 -0800

    Fixed integral constant overflow

commit 5fab64f8621499bed20dfc90251226c61f4b2760
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 16:26:08 2023 -0800

    Fixed documentation errors in testautomation_render.c

commit 6cfe4f2ba818df83cfc984debe4ebb257bf861c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 16:10:14 2023 -0800

    Fixed documentation errors in testautomation_math.c

commit aaaf7423ac4afa5164f29b023135cbd33f3c439a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 16:16:59 2023 -0800

    Fixed build

commit 39852241efd3f15f58a5d9fb83212bc75f9342d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:50:11 2023 -0800

    Added -Wdocumentation to CMake clang build

commit 32c077216c284c88639ad60b79f94017937d7e3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:59:35 2023 -0800

    Fixed warnings

commit 95e5417d2e8cd678df17f8c37e84f0c9cc09b73b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:39:11 2023 -0800

    Fixed documentation warnings

commit 49af0d1b8946fb21eb14a6a0ece9bb51a9a9db20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:35:18 2023 -0800

    Fixed build

commit 0357390fc2dcc7c772ac3041c1148882f6fe2137
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:23:38 2023 -0800

    Added support for the ThrustMaster eSwap PRO Controller Xbox

commit e85839cd5694a79f69ac16f48a5d845cdc62f809
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:12:47 2023 -0800

    Fixed line wrapping for HID packet dump

commit dacdb1c310d97ca3c3e6492cae0611f86b281b34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 15:12:18 2023 -0800

    Added support for the ThrustMaster eSwap PRO Controller Xbox

commit 71f3bf90edce26083056215124e65881f6c6ad26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 12:47:40 2023 -0800

    Improved handling of binding buttons and axes

commit 1d956c2817376c775f0deaed0f7962c4486059f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 10:28:18 2023 -0800

    Rename SDL2 tests for SDL3

commit 86658f2ca7a22116ba26856555fc2500a7b9b560
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jan 3 16:35:51 2023 +0100

    Wayland / Drag and Drop: find the current window

commit 9c1a9ecb4b1a6edea1f097bf49917c6272a434a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 11:19:32 2022 -0800

    Removed non-float versions of SDL render API drawing functions
    
    This simplifies the API and removes a level of API translation between the int variants of the functions and the float implementation
    
    Fixes https://github.com/libsdl-org/SDL/issues/6656

commit bf76fc6b05d9adad82e09e76119171a55f954ed3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 1 23:05:25 2023 +0100

    Fixed bug #6816 - SDL_RenderSetVSync doesn't disable vsync for software renderer

commit 38b138cd0ab3a83b248ecb3e5a18e4329586eddb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 21:57:42 2023 -0800

    Fixed rounding of floating point values in snprintf

commit 72f0056961b0df4b6c6a09aa7f0092644a1af823
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 16:24:15 2023 -0800

    Simulate NTSC timings for Windows desktop display modes

commit b06e310c08d2e949ea82d4a588409c34a755cfee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 16:04:08 2023 -0800

    Fixed spinning rendering too fast

commit e3c1749f5b15d83ad84d38e856a5d7351cae491d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 15:47:19 2023 -0800

    The refresh rate in SDL_DisplayMode is now a float

commit 851b0e16beacb5dcf322d5af2d0df569cf306395
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 2 20:21:02 2023 +0100

    Add SDL_GetRenderVSync (see #6495) (#6965)

commit 023f067903e6d6642dfafed6ea166e805e9857d0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 2 19:15:05 2023 +0100

    Update GL_GetSwapInterval for backends (#6963)

commit d764de77d475f7d61395ce3924062935080b2eb7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 09:09:02 2023 -0800

    Include SDL_audio.h for SDL_AudioDeviceID definition
    
    Fixes https://github.com/libsdl-org/SDL/issues/6971

commit fa5475ba9f02db9f58497ac03ab93b5f0a26175d
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Jan 2 10:18:42 2023 +0100

    Fix joystick instance id check

commit ea6f0ae683d1c18a2af87a8ce45cd581b799c6ab
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Jan 2 10:20:44 2023 +0100

    Fix use after free in SDL_GetGamepads

commit 5cf55c4f285d9d8c8c7e5a23fea90f36d2a50c2e
Merge: 9148c89d2 721ece7ba
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 2 17:46:12 2023 +0100

    Merge pull request #6969 from meyraud705/meyraud705-yuv_leak
    
    Fix memory leak in SDL_SW_CreateYUVTexture

commit 721ece7ba041e7977bf906e5d21c38c44996a38c
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Jan 2 10:22:44 2023 +0100

    Fix memory leak in SDL_SW_CreateYUVTexture

commit 9148c89d231ce5b6d6d7520e4d1e5c24fd09594e
Merge: 8a1353394 4408e9f95
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 2 09:44:42 2023 +0100

    Merge pull request #6964 from 1bsyl/br_android_orientation_bug
    
    Br android orientation bug

commit 4408e9f957ff75f4282659a9a6b228e8632ae941
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 1 18:47:13 2023 +0100

    Android: orientation, check for exact match to "Portrait". (see #6959)
    (Portrait is also contained in PortraitUpsideDown)

commit c4982955b2640a2421288bd09000330a356ff5ec
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 1 18:41:55 2023 +0100

    Android: inverse LandscapeLeft and LandscapeRight (see #6959)
    
    LandscapeLeft has now been set to ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE and LandscapeRight to ActivityInfo.SCREEN_ORIENTATION_REVERSE_LANDSCAPE in order to reflect the docs: https://wiki.libsdl.org/SDL2/SDL_HINT_ORIENTATIONS

commit 8a135339490675891f192657b5479c0dc7ad9f66
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 1 17:20:41 2023 +0100

    Handle error return value for SDL_GetSwapInterval

commit a515f51ac0001d9173dfc5bb338c536ec1eb14bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 09:17:02 2022 -0800

    Removed public joystick locking API
    
    All joystick functions are thread-safe and you can now get an atomic list of joysticks with SDL_GetJoysticks()
    
    Fixes https://github.com/libsdl-org/SDL/issues/6956

commit 87c8e2b942108555f36a3ae951de9557a5b41da0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 31 01:12:10 2022 -0500

    README-migration: Added backticks to avoid markdown highlighting.

commit 321c30db57a9e73893b912ac693d46a9e7aa04d5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 31 08:00:00 2022 +0300

    windows: more HANDLE -> HMODULE changes.

commit 929da2c28e647aea064b9c88e820d1d62f10f808
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 30 11:11:10 2022 +0300

    SDL_dynapi.c: LoadLibraryA() returns HMODULE.

commit 324c0b76a0111f0955063ac657617708208963ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 23:07:30 2022 -0800

    Removed SDL_HasGamepads(), SDL_HasJoysticks(), and SDL_HasSensors()
    
    Also cleaned up logic for whether we need to poll for events:
    - We need to periodically poll for joysticks to handle hotplug.
    - We need to frequently poll for joysticks and sensors when they're open so their state can be updated

commit 7f23d71b6afe92555fd535e875b05ef37f0aa6d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 21:39:08 2022 -0800

    Added SDL_modf() and SDL_modff()
    
    This function is useful for accumulating relative mouse motion if you want to only handle whole pixel movement.
    e.g.
    static float dx_frac, dy_frac;
    float dx, dy;
    
    /* Accumulate new motion with previous sub-pixel motion */
    dx = event.motion.xrel + dx_frac;
    dy = event.motion.yrel + dy_frac;
    
    /* Split the integral and fractional motion, dx and dy will contain whole pixel deltas */
    dx_frac = SDL_modff(dx, &dx);
    dy_frac = SDL_modff(dy, &dy);
    if (dx != 0.0f || dy != 0.0f) {
        ...
    }

commit ead4f122e41cf3cc1af1719778da1070cee1d797
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 20:42:07 2022 -0800

    Added basic support for %g snprintf format specifier

commit cefbeb582f4b41f5e4e0eca0ae6d7b652c92e1d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 19:31:12 2022 -0800

    Mouse coordinates are floating point
    
    You can get sub-pixel mouse coordinates and motion depending on the platform and display scaling.
    
    Fixes https://github.com/libsdl-org/SDL/issues/2999

commit 8c3239dee50f06a959b7e772570c716a757315ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 22:10:35 2022 -0800

    Fixed documentation warning

commit ac8a04154128e53f48ad5f2a00e0c03e6f5cf716
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Fri Dec 30 06:16:22 2022 +0100

    SDL_main for Win32: Get rid of console_*main, add wWinMain()
    
    I don't think there's any point in console_*main() for non-MSVC - I think
    it can't be called anyway now that SDL_main is header-only.
    So I renamed those functions to main() and wmain() and made them MSVC-only
    
    For reference, MinGW (at least the version I tested) supports both main()
    and WinMain(), no matter if compiled with -mconsole or -mwindows (it seems
    to prefer main() over WinMain() if both are available, in both cases).
    But when building with -municode, it needs wmain() or wWinMain(), so
    that case is now handled with wWinMain()

commit 98678b5d8ded1f9100d3de9e409362a372ebef7b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 15:07:59 2022 -0800

    SDL API renaming: SDL_Alloc*/SDL_Free* -> SDL_Create*/SDL_Destroy*
    
    Fixes https://github.com/libsdl-org/SDL/issues/6945

commit e1bd5bd071d066e7009261f96c896423f6fd8fd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 14:52:28 2022 -0800

    Fixed keyboard scancode mapping for parenthesis
    
    (thanks to @meyraud705 for tracking down the root cause!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/6787
    Closes https://github.com/libsdl-org/SDL/pull/6937

commit 1b90107fdb8cc71d2c9e63ae2e48a58b01845421
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 14:50:55 2022 -0800

    Spell out "Float" in function names

commit d7d3c22dbfb2b929192d6bc30dcb31b96e8fa794
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 29 22:58:16 2022 +0100

    Remove more reserved identifiers  (#6925)

commit ce412c2c71ab25577973fae842ff98c1779f31b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 29 10:44:35 2022 -0800

    Consistency cleanup for README-migration.md

commit 138f632b59f3a8f3089bb0e583420a0dab778f33
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 29 13:34:53 2022 -0500

    include: Add a comment about reserving a bit for sdl2-compat.

commit 7150d6b05adb92e47343a0ab9a0e70d4f9e2cc16
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Dec 29 10:05:24 2022 +0100

    cmake: add SDL3 to include path
    This reverts parts of 9f2ca87

commit 88630b85f5c0671f80eb326bfa268f60d3e57a71
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 29 16:27:42 2022 +0100

    SDL_GL_SwapWindow() returns an error code

commit abd051f89ed0ccc745ddb3e43dec46145a595642
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 19:55:54 2022 -0800

    Re-sorted SDL 3.0 API list

commit 80890f3aaeb0c69b91b5a186eeebad6892c392bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 19:40:31 2022 -0800

    SDL API renaming: SDL_render.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6883

commit ea0c2f55bedea0a940cb35a0b5842c76c30815ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 19:34:01 2022 -0800

    SDL API renaming: *Is* functions
    
    Feedback from @icculus:
    "IsTablet" uses "is" as a form of "to be" ...like, the actual question is of its nature.
    
    The rest is just a superfluous word in the question and it flows as better English with if (RectEmpty) than if (IsRectEmpty)
    
    Fixes https://github.com/libsdl-org/SDL/issues/6932

commit 66351fd4ba6b862c26d325a5286f37d523303a27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 17:06:38 2022 -0800

    Replace tri-state functions SDL_EventState(), SDL_GetJoystickEventState(), SDL_GetGamepadEventState(), SDL_ShowCursor()
    
    `SDL_QUERY`, `SDL_IGNORE`, `SDL_ENABLE`, and `SDL_DISABLE` have been removed.
    
    SDL_EventState() has been replaced with SDL_SetEventEnabled()
    SDL_GetEventState() has been replaced with SDL_EventEnabled()
    SDL_GameControllerEventState has been replaced with SDL_SetGamepadEventsEnabled() and SDL_GamepadEventsEnabled()
    SDL_JoystickEventState has been replaced with SDL_SetJoystickEventsEnabled() and SDL_JoystickEventsEnabled()
    
    SDL_ShowCursor() has been split into three functions: SDL_ShowCursor(), SDL_HideCursor(), and SDL_CursorVisible()
    
    Fixes https://github.com/libsdl-org/SDL/issues/6929

commit 9b8208c195d11d54cb53e55d5588c8e5a0c52351
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 16:28:21 2022 -0800

    Updated add_symbol_to_oldnames

commit 61232de1ab457fae370c9cff2f79b3002b219e4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 14:29:46 2022 -0800

    Sort the initial SDL 3.0 symbols

commit 71eb78e7900c1c3b4a80b1d5b43d748700cf18b7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Dec 28 23:18:00 2022 +0100

    X11: fix removing SDL_WINDOW_HIDDEN flags (thanks @zturtleman)

commit e4e7a8baff634739134792dad49553bc6a078a3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 13:38:41 2022 -0800

    Reset the dynamic API for SDL 3.0

commit 58763b608b060380a6ba03568c88d815193e4c9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 13:06:46 2022 -0800

    Cancel current CI actions when a PR is updated

commit 16092f58bbc1ac99121b23a8d4a03a36c3e12f25
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 18:10:06 2022 -0800

    Updated gamepad, joystick, sensor APIs, removing device indices
    
    Instead of indexing into an internal list of devices which requires locking, we return a list of device IDs which can then be queried individually.
    
    Reference: https://github.com/libsdl-org/SDL/issues/6889

commit e40a96155fc488feaeeeb79f947eb43399faa481
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 28 12:51:36 2022 -0800

    Fixed getting the VID/PID of a virtual joystick

commit 639a744ac4ef835d1e2e92834e5df640196997ed
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Dec 28 20:22:11 2022 +0100

    Update README-migration

commit aa46ff8f4ba0126d501c2b3e05fce15fec54e8c1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Dec 28 20:17:55 2022 +0100

    Remove SDL_WINDOW_SHOW flag, as redundant with SDL_WINDOW_HIDDEN

commit 59a70d568d43ecfb0a1e291874a4409fec9a3a87
Author: Zack Middleton <zack@cloemail.com>
Date:   Sat Dec 17 23:13:25 2022 -0600

    Rename SDL_main_impl.h include guard to match the filename

commit e512809246265828d4b33b5e21a362478e3db6ce
Author: Zack Middleton <zack@cloemail.com>
Date:   Sat Dec 17 23:12:48 2022 -0600

    Fixup PS2/PSP SDL_RunApp()
    
    Make PS2/PSP use the mainFunction argument for SDL_RunApp().
    
    Make PSP SDL_RunApp() return the value from mainFunction().
    
    Make PS2 SDL_RunApp() call SDL_SetMainReady() like all other
    SDL_RunApp() functions. (It doesn't affect anything for PS2 as
    SDL_MAIN_NEEDED isn't defined.)

commit 87a24ba76528aece79450cb6ffc598cc81d47396
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 16:50:18 2022 -0800

    The minimal Makefile doesn't really build for any platform

commit 1d80082e8e08ed66294371818f03f32aa5072dcd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 16:48:55 2022 -0800

    Removed old iOS demos

commit 36d4395c97e73f8a67d8c984830beb609d3c5439
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 15:05:51 2022 -0800

    SDL API renaming: internal functions

commit 25336d053a3a5c236010c52b332bfe87cefc5de0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 21:02:05 2022 +0100

    Remove underscore for _SDL_iconv_t
    And change the name, not to have the same for pointer and data

commit 07808d6a03ed3a02af481f28c3794bcf2e6fc54e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 27 21:31:12 2022 +0100

    Remove underscore in guard header defines (#6922)

commit cdbd1be8c6f2a72538dd4e8e5edd982299bc4651
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 12:30:37 2022 -0800

    Allow SDL_oldnames.h to be completely disabled

commit 3db9112ef4cbb936b11f941f8a98c1704e37e140
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 12:14:43 2022 -0800

    Make sure we match the same way when adding a mapping and looking up a mapping
    
    Fixes https://github.com/libsdl-org/SDL/issues/6898

commit 04f2820e073053a15961ec6340a7b741b1c42de5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 20:19:59 2022 +0100

    Remove underscore for some SDL_ builtin function/macros

commit 81cd84f456cba4a59d3030caed105cf8bcc77ede
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 20:14:50 2022 +0100

    Remove reserved underscore SDL_joystick

commit ab2d0079823fe28a60128487f257c7143b597ba2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 11:31:54 2022 -0800

    More gamepad renaming

commit 58aecf0a5409a7c85300197631d5292ade2d253d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 11:01:11 2022 -0800

    SDL API renaming: SDL_rect.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6887

commit a28d1d59be68fcf6909bdd6ad8f273760a8d27d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:42:45 2022 -0800

    More gamepad renaming

commit 701e9652352e5ba8306d69be766e10a5f8f0760e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:35:53 2022 -0800

    Removed leading underscore in structure names
    
    Fixes https://github.com/libsdl-org/SDL/issues/6856
    Closes https://github.com/libsdl-org/SDL/pull/6914
    Closes https://github.com/libsdl-org/SDL/pull/6915
    Closes https://github.com/libsdl-org/SDL/pull/6916
    Closes https://github.com/libsdl-org/SDL/pull/6917
    Closes https://github.com/libsdl-org/SDL/pull/6918
    Closes https://github.com/libsdl-org/SDL/pull/6919

commit 960e9044b3620b1b9e8fa6732f65b3af300ff348
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:28:43 2022 -0800

    Fixed test code after gamepad event rename

commit ad8a6d2b05c3656f76dea63cac519972456f3dcb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:23:28 2022 -0800

    Split SDL gamepad internal functions into SDL_gamepad_c.h

commit 15b464747fe1a9644960314edbaa5c901cd55dae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:06:45 2022 -0800

    WhatsNew.txt should be new features in SDL 3.0
    
    docs/README-migration.md will cover API changes and removals since SDL 2.0

commit 5baed331f1dc9bc180d9730c0083d4395bb75f30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 10:00:10 2022 -0800

    Don't add symbol renaming to WhatsNew.txt

commit 84725c00d8c3e88b22227cb6b8849d74fa89344c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 09:56:16 2022 -0800

    Make sure we update the cmake test programs as well

commit 659abc721aa47115c55183424cec660fcdc056e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 09:46:24 2022 -0800

    SDL API renaming: SDL_gamecontroller.h
    
    SDL_gamecontroller.h has been renamed SDL_gamepad.h, and all APIs have been renamed to match.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6885

commit ab0c5cf07d3404beed0b135724e9c201b66c897a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 17:25:31 2022 +0100

    Fix compilation

commit 59467ff063755efa71abc31180729385b0be29b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 07:31:27 2022 -0800

    Make it easier to mass rename symbols in the SDL API

commit c6969df4d79b9da1115df5cacae398ba70685d30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 06:38:34 2022 -0800

    SDL API renaming: SDL_video.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6880

commit cc0296c934bac9c8fe4ebf53e0bc2cc67be22a5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 06:36:39 2022 -0800

    SDL API renaming: SDL_surface.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6884

commit 2db699f48ea5e41a103ac0d569e0ee461f33a81b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 06:23:39 2022 -0800

    SDL API renaming: SDL_sensor.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6888

commit 0d54115235e7a8c9a7fa301919c3b9584eea2ebc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 06:21:13 2022 -0800

    SDL API renaming: SDL_render.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6883

commit 083e436a1adbe15871c03f270cbbc233e8c7e4a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 06:08:13 2022 -0800

    SDL API renaming: SDL_pixels.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6886

commit 3d063d7295879272fd8f3d737ecd0c5e9c382384
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 14:53:10 2022 +0100

    More renaming SDL_FreeWAV() to SDL_Free()

commit fc478c1bc0d31167e0ad6b31b143160d48bc45cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 05:50:46 2022 -0800

    SDL API renaming: SDL_joystick.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6881

commit aa0053141bfc60e4940ca2724dbd94639dd4fc7b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 27 14:42:48 2022 +0100

    Remove SDL_VideoInit / Quit. Prefer SDL_SubSytemInit / Quit (#6913)

commit 713ba2e31a8ce5d8d11dfd0ba580b00a0d3ccd8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 05:32:55 2022 -0800

    SDL API renaming: SDL_audio.h
    
    Fixes https://github.com/libsdl-org/SDL/issues/6879

commit 9625fb28326655fe2d18fe583b835779c2492d95
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 05:28:18 2022 -0800

    Documentation cleanup

commit 47170d288ef56c0dbb19591c59e22e7052f3e434
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 27 14:22:22 2022 +0100

    Don't export SDL_AudioInit/Quit, use SDL_InitSubsystem instead (#6912)
    
    * Don't export SDL_AudioInit/Quit, use SDL_InitSubsystem instead
    
    * Update README
    
    Co-authored-by: Sam Lantinga <slouken@libsdl.org>

commit 3fb0c8b54a0af705d1450af292355bccff4e5b3a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 27 13:22:43 2022 +0100

    Remove/Rename SDL_FreeWAV() to SDL_free()

commit 29ba5f5d6426f36ee84304dc8a0e111416450aab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 27 00:10:00 2022 +0300

    SDL_thread.h: fix beginthread param of SDL_CreateThreadWithStackSize for win32

commit 5410d361f755f7b0ad7650a38a0e6c0021506a71
Author: Vincent Hamm <vincent.hamm@gmail.com>
Date:   Mon Dec 26 10:57:29 2022 -0800

    Fix SDL_CreateThreadWithStackSize not passing staacksize with win32 static api
    
    (cherry picked from commit 68073c627684ba35c113d0e128af15b5191b42d6)

commit 63724c113b63ce5ba82f7c3370ce3cf3e2c5a358
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 11:17:23 2022 -0800

    Removed the vi format comments from the source
    
    Vim users can use the [editorconfig plugin](https://github.com/editorconfig/editorconfig-vim) to automatically set tab spacing for the SDL coding style.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6903

commit 7c67213cefd0404232ef758a1dc33751e717a3f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 10:34:07 2022 -0800

    editorconfig: remove trailing whitespace in source code

commit 00f05dcf49602889733262fc810386592ff51736
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 10:24:25 2022 -0800

    render: only enable clipping when the rectangle is valid
    
    Fixes https://github.com/libsdl-org/SDL/issues/6896

commit cc49f1e279b7ef0edf30d8eeaee9e05fd079bf82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 09:49:36 2022 -0800

    Fixed crash if mutex functions are used before any mutex has been created

commit d31776b17aaea3a75565e85c9d19a15d4af979bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 24 09:00:41 2022 -0800

    Also rename the internal function symbol when renaming API functions

commit 12e0e6d130a037e94ca2693eb54b8a8e9fc389f5
Author: avafinger <alex.mobigo@gmail.com>
Date:   Sun Dec 25 21:44:40 2022 -0300

    SDL3 with Hardware Acceleration for ROCKCHIP platform (mali blob)

commit 074a2b0f30284f5eb425b8a6bc980c737f230a12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 24 08:39:29 2022 -0800

    Cleaned up .gitignore, removing autotools files
    
    This also removes various names for build directories. We're not going to add everyone's random build directory name, if you want git to appear clean you can build in the build subdirectory or out of tree.

commit a2dab02a31eae0f37e5517b24a8bc8f73ec1f2f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 24 08:27:26 2022 -0800

    Only define platform compatibility symbols on the platform they represent
    
    Fixes https://github.com/libsdl-org/SDL/issues/6892

commit abdfa809dbeb4b328247af5e1e1cf6c758733ce7
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Dec 23 20:52:46 2022 -0500

    Prepend key modifier enum values with 'SDL_'

commit b7ac14f2bdc8cbf71178a965181c4158399ffdaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 20:33:09 2022 -0800

    Ignore __pycache__ directory

commit 32fad06a935a50cf148a1b88bfedbb302064717b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 20:32:12 2022 -0800

    Catch the iOS demos when renaming API functions

commit fd0631fd3549ac3f43725dc327d11bbdbb138e9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 15:58:15 2022 -0800

    Added documentation for rename_symbols.py

commit 759f98085a633cb8264f5fcc851865318455f028
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 15:08:30 2022 -0800

    Used rename_api.py to add previously renamed symbols to SDL_oldnames.h

commit c309a92034b6839ae328ca49b7bc3570583be3c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 15:07:21 2022 -0800

    Added rename_symbols.py to mass rename symbols in an SDL2 codebase

commit 0967a32fc60682d897368347914adae2a1a720c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 13:15:19 2022 -0800

    Added a --code-only option to rename.py
    
    Also added support for renaming macros and structures

commit b5a92406ebd6398e334c88303c2e6c83d3a3f806
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 16:45:43 2022 -0800

    Added infrastructure for renaming API functions
    
    You can rename APIs using rename.py and all the code and documentation will be updated, and entries will be added to WhatsNew.txt and docs/README-migration.md.
    e.g.
    rename.py SDL_foo.h function SDL_CreateFoo SDL_FooCreate
    
    SDL_oldnames.h is included in the SDL header, and if you define SDL_ENABLE_OLD_NAMES, will redefine the old API functions to call the new ones, and if not, will define them as a symbol letting you what the new API function is.

commit 08c45eb37e228b2e7f82ae47048cd36cd16c7561
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 16:07:47 2022 -0800

    Added placeholder in the patch notes for renamed functions

commit 1cf2b566af39752fa4d92efc2fedbe39b5432b79
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 22 01:24:59 2022 -0500

    cpu: Removed 3DNow! support and SDL_Has3DNow().
    
    Reference Issue #6636.

commit 0187209f461b84d22fc49a03369506e06448f47f
Author: João Henrique <johnnyonflame@hotmail.com>
Date:   Fri Dec 23 09:52:45 2022 -0300

    kmsdrm: Fix wrong check on KMSDRM_CreateWindow.
    
    A previous cleanup commit inverted a statement that checked the return value of
    a KMSDRM_CreateSurfaces call during KMSDRM_CreateWindow, which causes the video
    backend to always fail despite success.
    
    This commit restores the intended behavior.
    
    Fixes: 3c501b963dd8 ("Clang-Tidy fixes (#6725)").

commit 126c60cb45444fba2ef0eb45d834593629d723a6
Author: meyraud705 <meyraud705@gmail.com>
Date:   Fri Dec 23 10:16:11 2022 +0100

    Add "SDL_" prefix to RW_SEEK macros

commit 1a80fbaae4592aca529d11213bbb2d3f2dd3fced
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 15:23:26 2022 -0800

    Moved the header sections into alphabetical order in README-migration.md

commit 6649309c83e8ff561e4902069d7d61e233df8ab3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 12:04:42 2022 -0800

    Converted default_cursor.h from ANSI to UTF-8

commit cc7b6f9e4968a361c1cc646dc29b42bf68ca6672
Author: Rudolf-Walter Kiss-Szakacs <rudolf.wg@gmail.com>
Date:   Fri Dec 2 07:22:31 2022 +0200

    Add SDL_HINT_WINDOWS_ENABLE_MENU_MNEMONICS.
    
    (cherry picked from commit 232ed540dbf3924543ab1a084a43f2e70f4b31a9)

commit 927c4d4aa45d79d6e0235a8f85b41f77c39d135b
Author: Shawn Hoffman <godisgovernment@gmail.com>
Date:   Thu Dec 22 00:12:03 2022 -0800

    fix string literal constness warnings
    
    # Conflicts:
    #       src/video/winrt/SDL_winrtvideo.cpp

commit 7a5a1b16cee62e33ba5567926497f917ead4adb7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 22 11:47:54 2022 -0500

    events: Make sure new display events don't overlap with sdl2-compat.
    
    Reference PR #6867.

commit 31976323474e6399fb9b62c15bd6b0b7bb49fbae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 22 11:38:59 2022 -0500

    include: Renamed begin_code.h and close_code.h to have SDL_ prefixes.
    
    Fixes #6864.

commit 909b513c3354d5489ac0ddfc9358135544d79789
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 07:20:48 2022 -0800

    Made SDL_WINDOWEVENT_* and SDL_DISPLAYEVENT_* first class event types
    
    Fixes https://github.com/libsdl-org/SDL/issues/6772

commit 4676d1d31e7927be8c7e5cfca17f0eff70717acc
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Dec 22 02:27:38 2022 +0100

    android: register all methods using JNI_OnLoad

commit c9887c5c7206b71fc9067eb20fa49340ba4459b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 22 01:05:10 2022 -0500

    include: Split out functions in SDL.h to SDL_init.h.
    
    SDL.h now exists solely as a header that includes everything else, instead
    of one that forces you to include everything else when you just want the
    declaration for SDL_Init().
    
    Fixes #6840.

commit 182806e39f9a84b15a0c39360dfa11c1c9bd7d95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 21 13:11:57 2022 -0500

    docs: Updated migration notes for SDL_RWops.

commit 3b8548cdcfa7605aa26d4ed3ad60e24f6b4bec02
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Dec 21 14:51:59 2022 +0100

    android: fix java fingerprint fo nativeAddJoystick

commit 9e6952ed8c1444dcd7f325d24a172844e9896a62
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Dec 21 10:21:33 2022 +0100

    android: fix android-prefab.sh for SDL3

commit 19d4d64cfe8ed2534e391fe00f9bba1c4729e2f8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Dec 21 10:20:59 2022 +0100

    cmake: disable precompiled header for SDL_spinlock.c when targeting Android
    
    This fixes the following error:
    error: PCH file was compiled for the target 'thumbv7-none-linux-android16' but the current translation unit is being compiled for target 'armv7-none-linux-android16'

commit 9421828e7ef45a6e87e9d30f0977e788f4569af3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Dec 21 09:59:20 2022 +0100

    gendynapi.py: add android native symbols to SDL_dynapi.sym

commit 063cb606598d2233f4471a7f16617aadf037df12
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Dec 21 09:02:03 2022 +0100

    gendynapi.py: use pathlib + uppercase global variables

commit 19039b6ca4b57c4bb803389fb0849e3a015663f3
Author: Caleb Cornett <caleb.cornett@outlook.com>
Date:   Tue Dec 20 23:01:27 2022 -0500

    Fix GDK OpenGL build error

commit 3ebfb1546947883dc1cda0805df61933a027a678
Author: Caleb Cornett <caleb.cornett@outlook.com>
Date:   Mon Dec 19 17:22:23 2022 -0500

    gdk: Add support for building with OpenGL on Xbox

commit de871dc5f72214a3822963c896a5f024a9c053fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 19 09:55:53 2022 -0800

    Sorted headers in Xcode project
    
    This lets us more easily see when one is missing

commit 0d172ccb40d76b1e72b29ceec26c7ef4af5fe586
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 19 09:45:43 2022 -0800

    Fixed marking SDL headers as public in the Xcode project
    
    Fixes https://github.com/libsdl-org/SDL/issues/6851

commit 8f9227e4be2df8f6cf3d7c62fd1b2c8904da53dc
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Dec 18 21:48:24 2022 +0100

    cmake: use CMakePushCheckState to handle check states

commit fab33545faf19135cc4a1a151fd654c18161f2e9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Dec 18 03:40:22 2022 +0100

    cmake: remove outdated fixme

commit fe8291e09a2405eedf85a265a05a61ecf6d8ab9e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Dec 18 03:35:13 2022 +0100

    cmake: only install SDL_test*.h headers when building SDL_test library

commit d53cd7161abe967d89837d9d1bfaed8b527cc48e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Dec 18 03:24:41 2022 +0100

    sdlwiki: SDL_version.h moved to include/SDL3

commit 653893f1886c398f60bc8cc57850ee4a6188a1b7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Dec 18 02:24:42 2022 +0100

    cmake: declutter root + remove obsolete variables

commit 39a7abad7ad1b9c7145fa63f663aa89f55dec712
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Dec 17 03:49:46 2022 +0100

    cmake: lowercase all macros

commit 289b024715d473d3558fb5d908337fb71096823c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Aug 22 04:11:39 2022 +0200

    cmake: add function to print dict list

commit a787b1c0b7dfe2d21564d9c93eb6e1dd73cfb780
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Aug 22 02:45:55 2022 +0200

    cmake: LINKER_LANGUAGE is a target property, not a cmake variable
    
    LINKER_LANGUAGE needs to be used as following:
    Usage
    
      cmake [options] <path-to-source>
      cmake [options] <path-to-existing-build>
      cmake [options] -S <path-to-source> -B <path-to-build>
    
    Specify a source directory to (re-)generate a build system for it in the
    current working directory.  Specify an existing build directory to
    re-generate its build system.
    
    Run 'cmake --help' for more information.
    
    Haiku does not not this property explicitly set because CMake knows .cc files are c++

commit 69812678cfb88c64bcdd540eef19b8c8e5467b28
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Dec 16 23:51:39 2022 +0100

    cmake: cache cmake config installation folder in SDL_INSTALL_CMAKEDIR_ROOT
    
    Make sure SDLx is not part of the cached variable such that it can be re-used by SDL2 and SDL3

commit 88784ba547b92d6d6c46ab90434c95c33dd1e0bb
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Dec 16 23:47:28 2022 +0100

    .editorconfig: remove autotools files + trim whitespace from cmake files

commit 83b29f9ce1fe6caa06769544c3b5f6c10ea97a0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 19 09:14:04 2022 -0800

    Don't send Razer devices the Sony third-party query feature report
    
    Some of them lock up or reset, and the vast majority of devices are not actually game controllers.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6733

commit 94a0e5ea8de2965d4e65c235b328205402007914
Author: Maido <v3rm0n@users.noreply.github.com>
Date:   Mon Dec 19 17:02:10 2022 +0200

    Android active driver check (#6850)
    
    Check if a driver is active before attempting to handle the devices.
    Otherwise an assertion will fail.

commit 5bf8bc2241c76ea86bbd79dcdc26b6d42da6bb89
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 18 16:55:59 2022 +0100

    Android JAVA DetectDevices: 'is_capture' is inverted (#6845)
    
    * Android JAVA DetectDevices: 'is_capture' is inversed
    * Android Audio: adding audio device. also inverted capture, from jni side

commit 7fc8533b628ab9e66c3602040043887f50d308a4
Author: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>
Date:   Sun Dec 18 13:10:15 2022 +0200

    Use alias types for which members of event structs instead of plain types (#6841)
    
    Signed-off-by: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>
    
    Signed-off-by: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>

commit 186687bda9730d195e06c8f7c7e9af139687b21e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 18 12:07:38 2022 +0100

    Android: make Detect devices common between aaudio and android driver. (#6828)
    
    remove VLA, dynamic alloc, check max length get using GetIntArrayRegion

commit 78725dc0cd8502a91d2565af44ff9e6e65f0f30d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 17 23:52:04 2022 -0500

    include: Fixed a C++-style single line comment.
    
    Reference Issue #6838.

commit d927befcd71f8d1463ede1e846cc5ddc79b149cf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 17 13:06:44 2022 -0500

    docs: Just adjusting some link text.

commit 7b25f044760b7b3042e5f4b0d96137cd1045b370
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 17 13:04:28 2022 -0500

    README-migration.md: Point to the SDL_gesture repository.

commit 3b5780ba0a5d9d755ef47f5c40936a88bf15a0cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 15 11:20:29 2022 -0500

    README-migration.md: Updated stdio RWops example code for new API.

commit d305bc6d5565a675ccdc58ac432bd6978ccc3030
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 17 07:09:24 2022 -0800

    Fixed order of operations problem when tearing down the window
    
    Make sure the window framebuffer is cleaned up before shutting down OpenGL, as it might be implemented using an OpenGL texture.
    
    Fixes this call stack:
    ```
    (gdb) p _this
    $1 = (SDL_VideoDevice *) 0x42e360
    (gdb) p _this->egl_data
    $2 = (struct SDL_EGL_VideoData *) 0x0
    ```

commit b678a9802435152324e0603055e4bb190d0ae526
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 17 06:58:02 2022 -0800

    Fixed compiler warning
    
    ```
     ./src/thread/pthread/SDL_syssem.c:140:12: warning: variable 'retval' is used uninitialized whenever 'while' loop exits because its condition is false [-Wsometimes-uninitialized]
        while (sem_trywait(&sem->sem) != 0) {
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
    ./src/thread/pthread/SDL_syssem.c:149:12: note: uninitialized use occurs here
        return retval;
               ^~~~~~
    ./src/thread/pthread/SDL_syssem.c:140:12: note: remove the condition if it is always true
        while (sem_trywait(&sem->sem) != 0) {
    ```
    
    This was a legitimate bug, thank you clang!
    
    Fixes https://github.com/libsdl-org/SDL/issues/6830

commit 9c9e6e3aa3757d4e8deb8b56843c86ce6bedfa68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 17 06:51:02 2022 -0800

    Fixed compiler warning
    
    ```
     ./src/joystick/SDL_joystick.c:105:12: warning: no previous extern declaration for non-static variable 'SDL_joystick_lock' [-Wmissing-variable-declarations]
    SDL_mutex *SDL_joystick_lock = NULL; /* This needs to support recursive locks */
               ^
    ./src/joystick/SDL_joystick.c:105:1: note: declare 'static' if the variable is not intended to be used outside of this translation unit
    SDL_mutex *SDL_joystick_lock = NULL; /* This needs to support recursive locks */
    ^
    ```
    1 warning generated.
    
    (cherry picked from commit 3b0cd441584ada86c4456afb4e8b3edaf2173073)

commit dce254653495dd2a037ce9e9eee49b4847d0ced8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 16 16:42:06 2022 +0100

    Revert wrong comment in SDL_surface.h for SDL3 (see #6824)

commit abf5cc520334bee08180f5b3283dc9f9f0534a2a
Author: Maido <v3rm0n@users.noreply.github.com>
Date:   Fri Dec 16 17:38:57 2022 +0200

    Android audio device selection (#6824)
    
    Make it possible to select a specific audio device for Android

commit b461d9e18346c38a9a45cb3e3a8c33a52a92b3fd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 16 10:24:19 2022 +0100

    testautomation_rwops: update test because of change in SDL_RWwrite.
    when it's not possible to write to memory ( mem_writeconst ), error code is -1 (see #6818)

commit 6570febd47585658f0a012f10fb1176552dea29b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 15 18:00:51 2022 -0800

    Sorted PS4 controllers, note that the NACON Wireless Controller for PS4 actually reports as an XInput device
    
    (cherry picked from commit a53382e460f43873ce5362460af6a47a528a6425)

commit 0da118ce458e2676079c772b364bac94bf468d09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 15 17:58:29 2022 -0800

    Note that the NACON Daija Arcade Stick is an arcade stick
    
    (cherry picked from commit e99b9ca9c0c4c5a03d0a9088bee623218ac840a5)

commit 5a45d2e58bafa13a7a44019601a20fdf3e8d4972
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 15 10:53:44 2022 -0800

    Updated Xcode project for SDL_main as a header-only library

commit ab554c8392491b9b6320ad7e8800685c37bfa700
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 23:27:58 2022 +0100

    Update doc/README-* for header-only SDL_main

commit c3bf253b099d86e62cc2b0d199e58f635313b5b5
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 23:27:42 2022 +0100

    Remove SDL3_main from build systems, remove most of src/main/*
    
    XCode is still missing, and src/main/winrt/SDL3-WinRTResource*
    still need to find a new home

commit 63d3fb469dd4f8eb236854706c08969e6f0874ef
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 21:41:05 2022 +0100

    Move src/main/haiku/ to src/core/
    
    turns out that this wasn't even built as a static libSDLmain,
    but as part of the (possibly dynamic) libSDL3

commit 989a8ca90ed8ae55c9df10999d57a091d0e56618
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 19:22:17 2022 +0100

    Port PSP SDL_main to header-only + SDL_RunApp()

commit b1b3bd654d73f86abe1f015255f04af8cf9974e7
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 19:15:09 2022 +0100

    Port PS2 SDL_main to header-only + SDL_RunApp()

commit 544f2c79824e67b83a619ea1e301ef899fe5b6f4
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 18:30:05 2022 +0100

    Port ngage to header-only SDL_main + SDL_RunApp()
    
    For some reason, ngage doesn't seem to be handled in any of the
    build systems, so I couldn't add SDL_ngage_runapp.cpp to any buildscript

commit 7bfc41db3c1a53bcd0d05c00920b816270077e0b
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Thu Dec 15 06:01:34 2022 +0100

    Unify all the SDL_*RunApp() functions into just SDL_RunApp()
    
    makes the SDL_main code shorter
    
    Also added a generic SDL_RunApp() implementation for platforms that
    don't really need it.
    
    Some platforms (that use SDL_main but haven't been ported yet) are
    still missing, but are added in the following commits.

commit 1de559248e2f3f0a9520ee4d86d4753b0e00abc8
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 04:38:06 2022 +0100

    PortNintendo 3DS SDL_main to header-only + SDL_N3DSRunApp()
    
    and move the #undef main and #define main SDL_main to the start/end of
    SDL_main_impl.h instead of repeating it in every platform implementation
    
    Thanks to SDL_N3DSRunApp we don't need the #include <3ds.h> in
    SDL_main_impl.h - that caused conflicts with testthread.c, because both
    have (different) ThreadFunc typedefs.

commit 2aee3e654ddd0f1c272ff249cd5bc2fcc3f3bdf6
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Thu Dec 15 05:59:27 2022 +0100

    Remove SDL_main from VS Solutions in VisualC/ and VisualC-GDK/
    
    and update README-visualc.md and README-gdk.md accordingly
    
    Also moved src/main/windows/version.rc to src/core/windows/
    and adjusted VS solutions, CMakeLists.txt and versioning scripts
    in build-scripts/ accordingly.
    
    This will eventually allow us to remove all of src/main/
    
    # Conflicts:
    #       VisualC/tests/testgesture/testgesture.vcxproj

commit 28b93451dca95246d8538566381e52b31e525337
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Mon Dec 12 01:22:43 2022 +0100

    Make WinRT's SDL_main header-only
    
    As the implementation requires C++, the user will have to include
    SDL_main.h in a C++ source file (that needs to be compiled with /ZW).
    It's ok to keep the standard main() implementation in plain C and use
    an otherwise empty C++ source file for the SDL_main implementation part,
    if both source files #include <SDL3/SDL_main.h>
    
    Including SDL_main.h in a C source file will print a message at
    compilation (when building for WinRT or possibly other not yet implemented
    platforms that require C++ for main), to remind the user of also
    including it in a .cpp source file. This message/warning can be disabled
    with #define SDL_MAIN_NOIMPL before including SDL_main.h in the C file.
    When including it in a .cpp file, there will be a compiler error with
    helpful message if it's not compiled with /ZW
    
    For this I renamend _SDL_MAIN_NOIMPL to SDL_MAIN_NOIMPL, because now it's
    not for internal use only anymore, but also useful for users (that want
    their main() function in a different file than the SDL_main implementation)
    
    Add a project for the testdraw2.c test to the WinRT solution to at least
    get some minimal testing on WinRT.
    I won't add all tests because it's a lot of manual clicking per test,
    but this should be better than nothing :)

commit 8e0693c982c40e282da864b6fc7af51cdf855926
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Dec 11 05:08:15 2022 +0100

    Make iOS/tvOS (uikit) SDL_main header-only
    
    Also adjusted iOS demo's includes to <SDL3/..> and explicit SDL_main.h
    
    untested, I don't have Xcode (or a Mac, for that matter)
    
    The xcode projects (for both Xcode-iOS/ and Xcode/) will probably
    have to be adjusted for the SDL_main changes to work, but now at least
    the iOS demo source should work as is :)

commit 28ecbbf0b544dab1a38e6e169ccf0b6961e6912d
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Dec 11 04:45:38 2022 +0100

    Make GDK's SDL_main header-only

commit 2d0eaea1ccca94b62c53f4a7d8d7a515d7cd5a5e
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Dec 4 07:50:57 2022 +0100

    Add missing SDL_main.h includes to remaining libSDLmain implementations
    
    this should hopefully make the automated builds work again
    
    (this commit can probably be removed once all affected platforms are
    converted to header-only SDL_main)

commit 22e22ba1964c6ff8effc0e71c5672d620f725ab5
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Thu Dec 15 05:58:20 2022 +0100

    Add SDL_main.h includes to tests
    
    .. including cmake/test/*.c, whatever that does
    
    (this is needed now because SDL.h doesn't include SDL_main.h anymore)

commit ca2fe7be1a68d12a5ffb91f0db73019971bb9f96
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Dec 4 03:29:22 2022 +0100

    Implement SDL_main as header-only lib for Win32
    
    (remaining platforms will follow)
    
    SDL_main.h is *not* included by SDL.h anymore, users are supposed to
    include it directly now, usually only in the file they implement main() in.
    If they need the header elsewhere or don't want SDL_main to implement
    main() (but only call SDL_SetMainReady() or whatever), they
    can #define SDL_MAIN_HANDLED first, same as before.
    For SDL-internal usage, I added _SDL_MAIN_NOIMPL, which *also* skips the
    implementation and `#define main SDL_main`, but still defines
    SDL_MAIN_AVAILABLE and SDL_MAIN_NEEDED in SDL_main.h, as before.
    
    To make the implementaion in the header shorter and avoid including windows.h,
    I moved most of the Win32 SDL_main code into SDL3.dll via SDL_Win32RunApp(),
    so the header-only part is just the different main functions calling
    SDL_Win32RunApp(SDL_main, NULL)
    
    Note that I changed changed the return value and type of OutOfMemory()
    to return -1 instead of FALSE, so main() (or WinMain() or whatever)
    returns -1 instead of 0 in case of an out-of-memory error
    
    Compared to original Win32 SDL_main, I tweaked the part of the
    implementation in SDL_main_impl.h a bit to avoid linker warnings
    and conflicts with stuff from windows.h:
    
    - replaced windows.h with own define of WINAPI
      and typedef-ing HINSTANCE and LPSTR.
      This prevents conflicts between all the generically-named #defines and
      types in windows.h and user code (like DrawState in some SDL tests)
    - only using one of main() or wmain() gets rid of a MSVC linker error
      ("warning LNK4067: ambiguous entry point")
      If this still causes problems, we might try getting rid of wmain(),
      seemed to me like MSVC can use regular main() in UNICODE mode as well
    - simplified the UNICODE logic for that - while this is not exactly
      equivalent to the old, it should make sense and Works For Me

commit ffaf451558039dd1f357f34b4ec81b8b1e888e83
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 15 14:26:18 2022 +0100

    testime.c: fix wrong {} in switch

commit ff3f4236f2d523e4498ec17a4fb4f6d4a97441e1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 15 14:22:11 2022 +0100

    testime.c: add valid cast, since the variable as been tested non negative before

commit 48955cce0e5f4cd3bf2ab3afb460a123ceeaf7c6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 15 14:19:02 2022 +0100

    test/testime.c: put back size_t

commit deba9f4b8b9533be441cb9bc72a02c998137efb7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 15 14:11:08 2022 +0100

    testime.c: fix various warnings + test error code from SDL_RWread, changing bytesRead to Sint64 (thanks Ozkan) see #6818

commit 1e6d4649c0ed69d8f6182d6f33825eae700cb915
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 15 10:06:15 2022 +0100

     fixed build rwops (#6818)
    
    * Fixed build

commit c63703129407e8bbd7d48f29836f7038c514b501
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 15 00:16:02 2022 -0500

    rwops: Fixed another Windows build failure.

commit 4075748e41bee51352eb728e1341f22706e39a62
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 15 00:09:12 2022 -0500

    rwops: Removed unused variable in Windows-specific code.

commit e35730ac546b9934aab41a7cddbcd4cceb77705d
Author: Brian Kirkpatrick <code@tythos.net>
Date:   Wed Dec 14 19:23:18 2022 -0800

    fixed const error when compiling for mutated total_need value in SDL_rwops.c

commit 83559503c47e863237899990a58e2b71d3e57e0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 14 23:24:56 2022 -0500

    test: patched to compile.

commit 980208b814f39f6c173f9546a843a30bd8c3d8ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 14 14:24:58 2022 -0800

    Fixed crash in SDL_PrivateGameControllerRefreshMapping()
    
    (cherry picked from commit 7a9966af9d7f4817b72d28a5af38751b0968d1ca)

commit 72c1f73bc5227bf9e9c213dc1f1a4f6f826d0107
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 14 15:42:54 2022 -0500

    rwops: Make read and write work like POSIX, not stdio.
    
    This simplifies some things, clarifies some things, and also allows
    for the possibility of RWops that offer non-blocking i/o (although
    none of the current built-in ones do, intentionally, we could add this
    later if we choose, or people could provide things like network socket
    RWops implementations now, etc.
    
    Fixes #6729.

commit e9a9afadedbbe6e621e20b53c12f72bf197731a7
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Dec 14 11:38:14 2022 -0500

    wayland: Look up pressed keys via keycodes instead of scancodes on keyboard entry
    
    On window focus, look up the pressed modifier keys via keycodes instead of scancodes to handle the case of remapped keys, as xkb remapping changes the associated keycode, not the scancode.

commit 3a940ba8eecc5d4d897d84046a60622300b6a406
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 14 09:59:56 2022 -0800

    Updated gendynapi.py to handle thread-safety annotations

commit 5c29b58e954dddd7beba22a7df3efbc8d410abc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 13 14:03:40 2022 -0800

    Added support for clang thread-safety analysis
    
    The annotations have been added to SDL_mutex.h and have been made public so applications can enable this for their own code.
    
    Clang assumes that locking and unlocking can't fail, but SDL has the concept of a NULL mutex, so the mutex functions have been changed not to report errors if a mutex hasn't been initialized. We do have mutexes that might be accessed when they are NULL, notably in the event system, so this is an important change.
    
    This commit cleans up a bunch of rare race conditions in the joystick and game controller code so now everything should be completely protected by the joystick lock.
    
    To test this, change the compiler to "clang -Wthread-safety -Werror=thread-safety -DSDL_THREAD_SAFETY_ANALYSIS"

commit 02493579b5e4c4d9d482ba6df4c4058303bb3f3e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 14 17:41:35 2022 +0100

    DBus: add a reference to the connection
    
    Fixed bug #6712

commit e0ee9fa80c4bd8ea7f061830ce81cdc4c06f4a7c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 14 09:47:15 2022 +0100

    Fix build (#6808)

commit 5a2d0b69c89e4e11ef5cf113cac7fe8170e66aca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 13 23:26:49 2022 -0500

    render: Remove SDL_GetRenderDriverInfo and change SDL_CreateRenderer.
    
    Fixes #6625.

commit 1230a8fde8bb8d693b6ad08ff2d4a3e8968fe7d9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 14 00:50:20 2022 +0300

    fix (hopefully) MSVC builds after gesture removal.

commit a76053352c7d04a711260c3417f664c6da7a13f3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 13 14:54:37 2022 -0500

    gesture: Removed the gesture API from SDL3.
    
    Fixes #6758.

commit 07fa2769b8dd929e026a3db3af6a742abcaf0d77
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Dec 13 12:02:47 2022 +0000

    cmake: Fix detection of ALSA::ALSA for static linking
    
    This was still conditional on whether SDL2::SDL2-static exists, but
    it's now SDL3 that matters.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/6801
    Fixes: 9eb4d1f "cmake: use FindALSA.cmake to find ALSA libraries"
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 45ebdfb1dcf78f49496a9249cc1cb35037f75c9f
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Dec 13 12:18:54 2022 +0000

    emscripten: Replace a stray reference to SDL2 with SDL3
    
    Entirely untested, but I'm fairly sure this is what was intended.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 4a46a9e372479605d003d1d2b4d0cbd583d4e18f
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Dec 13 12:20:35 2022 +0000

    .gitignore: Replace all SDL2 with SDL3
    
    Some of these are probably unnecessary now that Autotools (with its
    optional in-tree builds) has been deleted in favour of CMake (with
    mandatory out-of-tree builds), but let's be consistent.
    
    Spotted while doing a `git grep` for other bugs of the same form as #6801.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 650e16a8245f3fb5056fc7f6b398fb88244b3477
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 12 20:26:17 2022 -0800

    Detect display change when fullscreen desktop windows move displays
    
    This happens when using Win+Alt+Left/Right on a resizable fullscreen desktop window on Windows

commit a506d798d8e1c530400919b9b9cd9d7d404576d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 12 18:00:57 2022 -0800

    Don't try to open the Razer Huntsman Elite keyboard as a controller
    
    (cherry picked from commit 817454cfe6db826f6cf6688952e28ee07b27a89a)

commit 12486e144be0e7a37abd87b8bf90547a992ff66b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 12 16:07:48 2022 -0500

    wasapi: Fixed incorrect assertions.
    
    Fixes #6795.

commit 90a964f132c63b07cf85e5687041d214fdea60f6
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Dec 5 15:33:01 2022 -0500

    wayland: Set xdg surface geometry
    
    It was previously thought that these function calls were unnecessary as the initial bug and reproduction case that necessitated their addition seemed to be fixed, but apparently there are still cases where this needs to be set explicitly. Set the xdg surface geometry at creation time and when the window size changes.
    
    Partially reverts #6361.  This is not needed in the libdecor path, as libdecor calls this for the content surface internally.

commit 618340bf990512247ed29a1beb38606e371d60e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 12 10:54:29 2022 -0800

    Added support for the STRIKEPAD PS4 Grip Add-on to the HIDAPI driver

commit 9eb4d1f020bdc43e32375942120214eee5d70fee
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Dec 12 00:18:06 2022 +0100

    cmake: use FindALSA.cmake to find ALSA libraries
    
    Co-authored-by: nfarid <54642193+nfarid@users.noreply.github.com>

commit 053ce39d67d13658f035e6ddfcae5dd1175021df
Author: Pierre Wendling <50808272+FtZPetruska@users.noreply.github.com>
Date:   Sun Dec 11 14:27:16 2022 -0500

    N3DS: Semaphore fixes. (#6776)
    
    * N3DS: Make Sem waits cooperative friendly.
    
    The 3DS has a cooperative threading model. Sleeping after TryWait and
    WaitTimeout avoid starving other threads. It inccurs a runtime penalty,
    but it's better than having to hard reset your console to recover from
    a deadlock.

commit bb6abd7b038555d4d909ffc9d2ff2ddad88a8907
Author: Kelly Gravelyn <kelly@kellyrenee.me>
Date:   Fri Dec 9 13:49:26 2022 -0800

    Remove OutDir and IntDir from GDK projects

commit e5a470d0d36f8e84a8fd50b402cf71118f6ae4b7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 10 17:54:16 2022 +0100

    Update DYNAPI SDL_WinRTRunApp() prototype which was wrong (see #6783)

commit 3d190ebcb4a0084e49fd3473baf8a49f6dc1506f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 10 17:45:56 2022 +0100

    SDL_dynapi_procs: fixed SDL_UIKitRunApp prototype (see #6783)

commit a38ea6bad2eb697bf3f078572a69d20b99b26995
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 10 17:21:51 2022 +0100

    SDL_assert: remove old define for obsolete naming

commit f906c52ee68c3942b07a67656fef2cb0c9f44d4a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 10 17:19:00 2022 +0100

    SDL_assert: remove old naming convention (see #6783)

commit 2905b6d65a14fd9a091daabb6ea5c29454027273
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 10 17:15:14 2022 +0100

    SDL_dynapi_procs: update wrong naming conventions with SDL_AssertState/Data (see #6783)

commit 16f8dfcef944019ce4474061aa06c2a1997e601e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 9 22:07:22 2022 -0500

    docs: Note that you don't need to free SDL_GetDefaultCursor's results.
    
    Reference Issue #6777.

commit 99baebf5eb2fa37b01b0da51caaa0f2f5ac27bcd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:42:01 2022 +0100

    SDL_dynapi_procs.h: one more space (for diff purpose)

commit b7008e461473e24459d6dc90cb6ee188a6d055f1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:36:34 2022 +0100

    SDL_dynapi_procs: remove extra ' '

commit cce1341b5b107d5aaa2c3f52ab26e65f2693a6e4
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:34:13 2022 +0100

    gendynapi.py: don't generate parameter for '...' - corrected

commit f442d0a0ef598e55bad6fe4cad2ce9f5ebe1ba90
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:33:14 2022 +0100

    Revert "gendynapi.py: don't generate parameter for '...'"
    
    This reverts commit ea8c7df91bdf1bd8f442a0359adecbed3581ab3f.

commit ea8c7df91bdf1bd8f442a0359adecbed3581ab3f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:22:44 2022 +0100

    gendynapi.py: don't generate parameter for '...'

commit 5f89987d7f6d4c0f97ac1b186e14fba174ea4ce1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 20:09:17 2022 +0100

    Fixed extra 'space' (see #6783 Thanks @sezero !)

commit 3736005fc451b5e219c903d6bf120c965a42f78f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 10:13:18 2022 -0800

    Added test event logging for SDL_WINDOWEVENT_ICCPROF_CHANGED and SDL_WINDOWEVENT_DISPLAY_CHANGED

commit b116dd8eb84a2882275071e050df7ebaae99b0a9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 9 09:27:19 2022 +0100

    gendynapi.py: add comment for OS-specific API (Thanks @DanielGibson!)

commit cfa493c97feb4124bfdaf9ab1046d4a42c7b679b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 23:13:13 2022 -0800

    Use the current timestamp for keyboard hook events
    
    Fixes https://github.com/libsdl-org/SDL/issues/6771

commit 5bc80abe0d669a8a87111825be91d28e2169ac3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 17:03:29 2022 -0800

    Added logging for SDL_DISPLAYEVENT_MOVED
    
    (cherry picked from commit be3b1cff0bc2e3e28ae53beb3cc97ab42e8447ab)

commit 7d1bf0a9fe9fff557f010a4b0b70d9e7a1f7bfc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 17:01:18 2022 -0800

    Make sure the display list is up to date for window placement
    
    (cherry picked from commit ab479b49611e8f34573509cfece7e159faa922d6)

commit a4a80360f5fcabe5360498b1fb3909bc6b8f7e00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 12:46:13 2022 -0800

    Added SDL_DISPLAYEVENT_MOVED to detect when display positioning changes
    
    (cherry picked from commit 264da8c127f8bf8930fa62f106763855efbf2a93)

commit 98fa97de91b79b842779de6d12428bcad9b881f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 12:43:23 2022 -0800

    Fixed memory leak when removing existing displays
    
    (cherry picked from commit cfc7cac3c9f33fada3d3da1ba974f33ddb4ddfc5)

commit 653e484da17d773f40bff94121a23a3b38f47a0a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Dec 8 10:56:55 2022 -0500

    wayland: Handle the Num Lock and Caps Lock modifiers via modifier events
    
    Num Lock and Caps Lock always need to be explicitly handled by the modifier handler function, or they won't be correctly set if active at application startup, or if the lock state is changed while the application lacks focus since a key press for these keys will never be received.  In these cases, the internal SDL modifier state can end up the inverse of the actual modifier state.

commit e93769d2c9d213a178775ca6f8ae7584de780351
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 8 10:16:30 2022 +0100

    Extract the name of a callback paramter

commit 67a4094eea3de8353cd9122e5d9e1a8ff1c64e9d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Dec 7 23:16:10 2022 +0100

    Rewrite + gendynapi into python

commit c265fb74b045fcaf6310f116c212d27c3e1104e9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 8 10:40:01 2022 +0100

    Renamed AUDIODRIVER and VIDEODRIVER hint/env to AUDIO_DRIVER and VIDEO_DRIVER

commit 7ca0d15d64edd29f4ad6aae9bdd45e7d3c0c3123
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 8 00:08:51 2022 -0500

    events: Changed SDL_GetEventState from a macro to a function.
    
    Fixes #6773.

commit 9a6bcca6b8db999217f157dab8c44bf27b0a8eb4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 14:53:33 2022 -0800

    Use the correct name for the DualSense controllers

commit 9339085593dc20b1f003f26b3c40615cf04504b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 14:25:53 2022 -0800

    Added support for the DualSense Edge paddles

commit ea714956b6e6851a279d1334309dd17b6d73cadc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 14:17:58 2022 -0800

    Clarified where the paddle locations are

commit a71ac0eb0665075cf9c17ed2b71d0195f3a157d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 07:39:40 2022 -0800

    Revert "Add window title to app_ids for different"
    
    This reverts commit 39eab4bf44472790dddf02490ac260f810c30c9a.
    
    From @Kontrabant:
    Making windows use the window title as the app ID by default doesn't seem like the right direction. The app ID is used by window managers to group windows from the same application together for switching between with alt-tilde and such functionality, and giving each window it's own app ID would break this.

commit 30bb8f616d937bb23f15830f3979d0cbe7ccb1fe
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Dec 5 18:50:22 2022 -0500

    wayland: Pass through event timestamps of 0
    
    Always pass through event timestamps of 0 so the current time will be used for the event.

commit 39eab4bf44472790dddf02490ac260f810c30c9a
Author: Lei.Huang <leihuang@amd.com>
Date:   Mon Dec 5 10:28:31 2022 +0800

    Add window title to app_ids for different
    
    "app_ids" can be used for multiple windows
    
    Signed-off-by: Lei.Huang <leihuang@amd.com>

commit e8b1dfef9b6e581cdf1e219600b106ab9c84db25
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 13:33:04 2022 -0800

    Fixed centering the D-pad on some joysticks
    
    Fixes https://github.com/libsdl-org/SDL/issues/6767

commit fcafe40948fe308cc9552df5a3d625ee2725de5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 12:47:48 2022 -0800

    Removed balls from the joystick API
    
    They were only used by one joystick decades ago, so removing them for SDL3
    
    Fixes https://github.com/libsdl-org/SDL/issues/6766

commit 75f1eb92168e0a3253555de847d8e683e5a642f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 10:40:16 2022 -0800

    Don't assume evdev events and SDL_GetTicks() use the same time source
    
    The evdev events are in the same time base as gettimeofday(), but SDL_GetTicks() might be using clock_gettime()

commit 57d34f2e109b6b221be55e6b169fe93581d732b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 10:17:38 2022 -0800

    Make sure we never get a zero tick_start value

commit c468d93760496a779b57799b74682f705c623f4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 10:11:22 2022 -0800

    Removed unnecessary conversion from nanoseconds to milliseconds in SDL_GetTicks()

commit 82b01035d1d2d4134355095f4130ba2de317690e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 09:42:22 2022 -0800

    Reduce the chance of overflow when calculating nanosecond time
    
    Fixes https://github.com/libsdl-org/SDL/issues/6762

commit ed6d4016165a5f890bb1e4946e95e8126c519339
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 5 20:29:56 2022 +0300

    gendynapi.pl: fix "Use of uninitialized value $7" after commit 0f9482e.
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/6740.

commit af5bda5ef33c7ce4eca8880cb949bc704bce7da5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Dec 5 15:20:48 2022 +0100

    Fix warnings 'macro argument should be enclosed in parentheses'

commit 8cafde5ecc402f62a3fa1efe9c94b4f12ae6f4f4
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Dec 4 11:45:19 2022 -0500

    wayland: Add high-resolution event timestamp support
    
    Add the protocol for high-resolution timestamp events and subscribe to them if available.
    
    Event timestamps are now handled natively in nanoseconds as much as possible to avoid error-prone conversions.
    
    Variables have been appended with _ms or _ns where appropriate, to avoid ambiguity.

commit 4a22ee72779243ce2ca5f090c208a4cdc5625a93
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 5 00:35:20 2022 +0300

    tests: avoid redefinition warnings for MSVC _CRT_???_NO_DEPRECATE macros

commit 38de07d9e485ecdba995acaf0219b31a56b74000
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 10:02:22 2022 -0800

    Cancel current CI actions when a PR is updated

commit 39e39f335e46d277d09455f5e4cd6cbfe0d755ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 09:50:06 2022 -0800

    Only cancel previous builds when iterating on pull requests

commit d6327a00fb46d538d8d4001644b820a07116ba79
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 4 20:50:20 2022 +0300

    re-applied the SDL_NewAudioStream deconstification, including to its definition
    
    we should keep this to SDL3 only.

commit d3ba6529e62a7d73fd8061ea0c597ec3de362a21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 09:39:55 2022 -0800

    Fixed windows build

commit ee0e9e979cd90fa64d9c94da1fdd878f476bd12a
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Nov 26 17:12:42 2022 +0000

    Move intrinsic includes into a private header

commit b4da4ed95a00ccca16fe1fef38ac2d61328514be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 09:21:14 2022 -0800

    Removed SDL_SensorGetDataWithTimestamp() and SDL_GameControllerGetSensorDataWithTimestamp()
    
    If you care about timestamps you'll also want to catch all of the sensor events instead of just polling the current state. For example, Nintendo Switch controllers generate 3 sensor events with distinct values for each polling interval.

commit b8760a3ffe809321f4a2db128c06b227eba52bd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 08:31:19 2022 -0800

    The `timestamp_us` member of the sensor events has been renamed `sensor_timestamp` and now represents nanoseconds.

commit 73f4aeee6a2affe2777acf513a745142ec81ebf6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 3 11:15:50 2022 -0800

    Pass the event timestamp for joystick events
    
    This allows the application to get more fine grained information about controller event timing, and group events that happened together.

commit f32cdfa096bd49864f2d6923b1e18c5aa667c4b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 09:28:03 2022 -0800

    Fixed presentation reset calculation (thanks @zturtleman!)

commit f9ad84fd5de9eb84d41bc25c3971e5838f1948ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 4 09:06:06 2022 -0800

    Cancel current CI actions when a PR is updated
    
    This should help get build feedback more quickly when someone is iterating on a PR

commit 25e62193f45938a6c69ab0d527f8d3eacd7c9fff
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 4 12:56:50 2022 +0300

    just revert the const removal from SDL_NewAudioStream in commit d0bbfdb

commit 202eaeea11b428030d66c30ef9574c73c270b85d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 4 12:50:04 2022 +0300

    replace windows timeapi.h with mmsystem.h for better compatibility.

commit 36a43eac009b7bc7e1ead7d11b17b20052ef8fe8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 4 12:47:20 2022 +0300

    apply const removal changes from SDL_NewAudioStream to dynapi side too.

commit 1f40b9de96bd141321fa679880b27c1cd4a9a6d1
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Dec 3 14:01:19 2022 -0500

    wayland: Pass event timestamps to SDL
    
    SDL events support system timestamps now, so pass them through.

commit 4ffa7f868d830e808a40bb987a0d6b1264283eec
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 3 21:22:14 2022 +0100

    Fixed bug libsdl-org#6745 - Check for overflow in SDL_CalculateYUVSize  (#6747)
    
    Fixed bug #6745 - Check for overflow in SDL_CalculateYUVSize

commit 5650046f931e9b1d7d7f4a1867e6e1ed75a5e7c5
Author: Max Bachmann <kontakt@maxbachmann.de>
Date:   Sat Dec 3 09:45:04 2022 +0100

    Detect Logitech PRO Racing Wheel as wheel

commit 021d0b7300a90e98a41f6d82865b52f6cea36a9c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 3 13:36:09 2022 +0100

    Fix wrong clang-tidy modification. This is an integer division. Thanks @meyraud705 (see PR #6725)

commit 0f9482ebc31529d68de774aaebb8be2cdf7e846f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 3 00:33:50 2022 +0300

    reran gendynapi.pl to add SDL_GetTicksNS / SDL_DelayNS to SDL_dynapi.sym

commit 1a890808a461bde2435cdf6ad75d077b417718ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 13:11:04 2022 -0800

    Fixed build

commit 1878674477e2b6d4e743319ab5f7dfb4f6d90c8e
Author: Jan Engelhardt <jengelh@inai.de>
Date:   Thu Nov 24 20:58:10 2022 +0100

    build: add symbol versioning for SDL
    
    If a program built against one version of SDL is run in an
    environment where there is an earlier version of the SDL .so library
    installed, the result varies depending on platform configuration; in
    the best case, it won't start at all, at worst it aborts in the
    middle of the user doing "something important" (systems implementing
    lazy symbol resolution). verdefs on the other hand are always checked
    on startup.
    
    The dependency information present in programs and shared libraries
    is not only of value to the dynamic linker, but also to a
    distribution's package management. If the dynamic linker is able to
    tell that a program is not runnable per the above, a package manager
    is able to come to the same conclusion — and block the installation
    of a nonfunctional program+library ensemble.
    
    Because there are a lot more symbols than there are libraries (I am
    going to throw in "10^4 to 1 or worse"), package managers generally
    do not evaluate symbols, but only e.g. the SONAME, NEEDED and VERNEED
    fields/blocks. Because the SONAME is the same between two SDL
    versions like 2.0.24, and 2.0.26, everything rests on having verdefs.
    
    This patch proposes the addition of verdefs.

commit 92cd2c0a740375f2069abd12420c5a3c88101add
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Dec 2 21:53:48 2022 +0100

    Enable creation of yuv SDL_Surfaces (#6735)

commit 0a3262e819edc695a764702e8127bbd1b09944ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 09:03:13 2022 -0800

    Pass the OS event timestamp for keyboard, mouse, and touch events where possible
    
    Currently implemented for Windows and Apple platforms

commit 1f4cc733a148782ae339c27cfd568ee609d151ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 08:29:46 2022 -0800

    Removed the nanosecond versions of event and thread primitive waits from the public API
    
    It's not clear applications need this level of precision yet, so let's leave these private for now.

commit e2432bbd3b8d1b59519133ec51ef06ff70d67cff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 02:29:25 2022 -0800

    How did PS2 build without a condition variable implementation?

commit 8121bbd083b5a568709305270b554f2add3ba4a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 01:17:17 2022 -0800

    Convert ticks to 64-bit, added nanosecond precision to the API
    
    Fixes https://github.com/libsdl-org/SDL/issues/5512
    Fixes https://github.com/libsdl-org/SDL/issues/6731

commit 764b899a13bac99a96767bd452dbdf3b48080f8e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 2 21:11:33 2022 +0100

    Fix Conditional jump or move depends on uninitialised value(s)
    eg ./testsprite2 --trackmem

commit 4713db1484c5519967b7e1dc2a00ee0b36853428
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 00:43:01 2022 -0800

    Commented out syntax that causes Visual Studio 2019 to complain on every edit

commit a3d7dd24646298e27c0a95f3c5f8beaac03f4c9e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 2 06:23:30 2022 +0300

    SDL_sysfilesystem.c (SDL_GetBasePath): fixed the solaris code path.
    
    Reference issue: https://github.com/libsdl-org/SDL/pull/6681

commit ab916e8a61e8db6638c54a8d8155325bca277f29
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 2 03:32:00 2022 +0300

    fixed corrupted (zero-sized) SDL3-WinRTResource_BlankCursor.cur.
    
    (copied from SDL2 branch with renaming.)

commit bb8adf74e0d85a3894777117f45229e358a3c260
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 2 03:01:02 2022 +0300

    cmake/sdlchecks.cmake: make it diff smaller against SDL2

commit 378b1c286a9c3206e827a47f0147384e92c4c2b2
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Dec 1 18:03:36 2022 -0500

    Fix formatting on Wayland and Pipewire function signatures
    
    Fixes the formatting on some function signatures that clang-format missed.

commit ab1f4172e39b9021b73ddff6e73339670c3f94c3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 1 23:53:37 2022 +0100

    Remove SDL_GL_CONTEXT_EGL #6657 (#6683)

commit 7237c5649994d2b2c2b364c3b116a6db80ea671d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 14:43:34 2022 -0800

    Detect the G923 (Xbox style) and PXN V900 (PS3 mode) as wheels

commit 3c501b963dd8f0605a6ce7978882df39ba76f9cd
Author: Pierre Wendling <50808272+FtZPetruska@users.noreply.github.com>
Date:   Thu Dec 1 16:07:03 2022 -0500

    Clang-Tidy fixes (#6725)

commit c2ce44beadee9c9172863c307a416785bcd39caf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 12:52:48 2022 -0800

    More cleanup for #6619

commit 11ef4df2073fc4ba7e3c043d9d9ca7e5a4ed0f86
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 30 23:40:34 2022 +0100

    cmake: rely on targets from the main cmake script

commit 14ffaba399211fbea0bbfcd881473c4205d812aa
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 30 23:39:54 2022 +0100

    cmake: build with rpath's, they are removed on install
    
    This allows to build and run tests (on Linux) linked against the shared library

commit 1dce3f9265d456d81e2bbb3395589537c4954309
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 30 23:38:50 2022 +0100

    ci: RISCOS is a bool

commit 88b41c47fa7d5a6695c2e88491c37f3cc71ea580
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 30 23:38:25 2022 +0100

    ci: do verbose PSP build

commit a463aca0d1353be3fa45e09429b378cd28eb5a59
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 08:53:14 2022 -0800

    Simplified SDL_CreateRGBSurface* functions

commit 1e7e25626b197030eb74b92db64ff99625fcda31
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 08:34:41 2022 -0800

    Use SDL_PIXELFORMAT_RGB565, which is the most common 16-bit format

commit a01759f8f0f3e5eab952631dd14188c7ece149f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 08:32:57 2022 -0800

    Fixed 16-bit RGBA masks

commit c30b2063e0e57a577dc33d546da50fd6e7e42428
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 08:26:32 2022 -0800

    Clarified the migration path for SDL_CreateSurface()

commit 932f61348d6ed278fa8ce1599dc7c8347ee68680
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 1 17:04:02 2022 +0100

     Remove mask versions of SDL_CreateRGBSurface* #6701  (#6711)
    
    * Rename SDL_CreateRGBSurface{,From} to SDL_CreateSurface{,From}, which now takes a format parameter

commit 778b8926b4808f0642a331ed84a9e8e19899b6db
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 1 09:39:08 2022 +0100

    Small format changed (using clang-format 15.0.2-1)

commit 45025799b75f544251f4a853e1c3f206243f0109
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 1 03:11:00 2022 +0300

    restore SDL_malloc.c original formatting.

commit b3b94cf36b8797a6b495ea2578d9e47b94755406
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Wed Nov 30 20:40:49 2022 -0400

    Fix xcode project after opengles renderer removal

commit 36c5d5cc654bed2fadd4ade16232108dcd5a0669
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 17:03:29 2022 -0800

    Added support for the Logitech Cordless Precision PS3 controller

commit 4f9c2b3e2eddbbbd2cfd106df0ae5ed7bef2c4d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 16:42:00 2022 -0800

    Added support for the HORIPAD Pro for Xbox Series X

commit e2df0a9d5a68e00b7b02887f9d20db0f34c6d5fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 16:37:20 2022 -0800

    Re-enabled support for third party PS3 controllers

commit 27e8eb4ca8c98425311ddd7c057e309c730825f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 15:39:10 2022 -0800

    Fixed Victrix FS Pro V2 controller hang on reboot
    
    (cherry picked from commit 9e997cc787856d101656109e296c7fb481b1d934)

commit f8c3528c55d4f35510e1c1f7b546424a7a0bb21c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 14:37:34 2022 -0800

    Fixed crash if GetRectDisplayIndex() is called before SDL_VideoInit()
    
    (cherry picked from commit d87048fd5a7dff55c4cb205dd29e527c9cc51225)

commit 1e2dfdb01961e5178eb5eff4a8eb867c211b96d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 13:21:49 2022 -0800

    Removed the OpenGL ES 1.0 2D render implementation
    
    In SDL3 we plan to make more use of shaders in the 2D render API, and this minimizes the number of platforms we have to consider for new features. OpenGL ES 2.0 or newer is supported on all modern iOS and Android devices.

commit 5750bcb174300011b91d1de20edb288fcca70f8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 12:51:59 2022 -0800

    Update for SDL3 coding style (#6717)
    
    I updated .clang-format and ran clang-format 14 over the src and test directories to standardize the code base.
    
    In general I let clang-format have it's way, and added markup to prevent formatting of code that would break or be completely unreadable if formatted.
    
    The script I ran for the src directory is added as build-scripts/clang-format-src.sh
    
    This fixes:
    #6592
    #6593
    #6594

commit 14b902faca5efd4141e73b2b0755f650213d9596
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 30 11:33:32 2022 +0300

    begin_code.h: add gcc version checks to the alloc_size attributes.

commit 4b6390261b61bb16fab2c4f5b97b65f8d8fb62ab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 30 11:33:32 2022 +0300

    begin_code.h: remove obsolete __SYMBIAN32__ handling for DECLSPEC.

commit c5790359fda97c47ef68a1b213bf993cfbc441a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 18:34:15 2022 -0800

    Added precompiled header support for Visual Studio and Xcode (#6710)
    
    Fixes https://github.com/libsdl-org/SDL/issues/6704

commit 6ca7212b75d44129a0e109ac1e3928860872ecf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 18:03:47 2022 -0800

    Fixed unreachable code warning

commit a52327f6b8e60ce63c40e930d11221fb8860ecfb
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 22:21:11 2022 +0200

    cmake: add support for precompiled headers

commit e26e893daf968d01b88974cb70fad6a2d2c7bb3c
Author: Anonymous Maarten <madebr@users.noreply.github.com>
Date:   Tue Nov 29 22:43:46 2022 +0100

    test: build + fix test/testgles2_sdf.c

commit f9f7db4e086036bd8ef3bce0f303e9057ee63040
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Oct 9 12:28:43 2022 -0400

    video: Prefer Wayland over X11 (take 2!)

commit 6d2b74db6629b5ac2584f0dc7c3ee674a1287266
Author: David Edmundson <kde@davidedmundson.co.uk>
Date:   Mon Jul 11 19:28:37 2022 +0100

    Support wayland fractional scale protocol
    
    The new protocol adds support for more native communication of
    fractional scaling.
    
    Everything in the wayland backend already existed only our fractional
    scale was calculated implicitly through a combination of output size
    guesswork for fullscreen windows.
    
    This new protocol makes that explicit, providing a more robust solution
    and a solution for non-fullscreen surfaces. The fallback code is still
    left in place for now whilst compositors gain support.

commit 71d5f510c639de72271bac8f260fe15838023419
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 11:57:19 2022 -0800

    Fixed dylib generation on macOS
    
    We just build libSDL3.dylib instead of libSDL3.0.0.0.dylib with symlinks
    
    Fixed the compatiblity vs current version, e.g.
    
    SDL 3.20.87
        @rpath/libSDL3.0.dylib (compatibility version 2001.0.0, current version 2001.87.0)
    
    SDL 3.21.5
        @rpath/libSDL3.dylib (compatibility version 2106.0.0, current version 2106.0.0)

commit 6f20d990ad6048bd36dfbd78850ca245234b488d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 29 20:36:46 2022 +0100

    cmake: swap VERSION and SOVERSION

commit ba19d3c048cb8ce2fdfbd8cd0a2bfb3715cc4089
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 29 20:15:28 2022 +0100

    cmake: remove SDL_CMAKE_DEBUG_POSTFIX option
    
    Use CMAKE_DEBUG_POSTFIX instead

commit 2d89c4680fe38dbcdc301194430664135d890bbd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 29 20:14:00 2022 +0100

    cmake: simplify .so and .dylib versioning

commit a3225ae6de9a0b107ccf0791283e5a9d38b6c41f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 29 14:13:02 2022 -0500

    dynapi: Abstract out the environment variable name.

commit cf0cb44df88a4293805fdc926880155d58a46bea
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 29 18:43:36 2022 +0100

    video: fix error messages
    - do not overwrite error message set by SDL_InitFormat (SDL_AllocFormat)
    - set proper error message (Cocoa_Metal_CreateView)
    - protect against allocation failure (UIKit_Metal_CreateView)

commit 7e7a8e76a58bb0a91a16e0e64a4e1aa84e9b1278
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 29 17:48:45 2022 +0100

    cmake: move platform detection to cmake/sdl/paltform.cmake for re-use by SDL2-compat

commit e2060de714481ed58b6a2e781f7439090003a7b4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 29 17:47:30 2022 +0100

    cmake: use target_link_libraries to pass -Wl,--undefined=WinMain

commit fc4fc5295fa7b3c4eb1a1c73711d9b30504d129d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Nov 29 18:40:09 2022 +0100

    Remove depth field from SDL_CreateRGBSurfaceWithFormat and SDL_Create… (#6685)
    
    * Remove depth field from SDL_CreateRGBSurfaceWithFormat and SDL_CreateRGBSurfaceWithFormatFrom
    * Removed unused 'flags' parameter from SDL_CreateRGBSurface and SDL_CreateRGBSurfaceWithFormat
    * Removed unused 'flags' parameter from SDL_ConvertSurface and SDL_ConvertSurfaceFormat

commit 6873082c3450fc762e96405000de91e6ceae67a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 09:26:29 2022 -0800

    Fixed building on Windows with SDL_VIDEO=OFF
    
    Fixes https://github.com/libsdl-org/SDL/issues/6562

commit 8901297437ed9ced67e6029a1d525e8052275b7c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 29 08:56:32 2022 +0300

    SDL_test_md5.h: fix MD5UINT4 type to be really 32 bits.

commit f077c691930f70a2e826eb40cbd0e35a7465a4af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 08:50:51 2022 -0800

    Fixed bug #6698 - VISA: wrong check sceKernelPollSema

commit 461a38ff1af1d749426c8e2c6f2a56e2b31c1a45
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 29 17:30:03 2022 +0100

    thread: code style

commit 38c281fbc09fd6622f85a7c7fb63a02895ff717f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 29 16:14:23 2022 +0100

    Fixed bug #6698 - VISA: wrong check sceKernelPollSema

commit f6db1aba664079e63df44cbb6e6925a088b8f3a8
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 29 09:46:20 2022 +0100

    thread: return -1 from SDL_SemWaitTimeout if semaphore is NULL

commit 6875e1c262ae968a4fb52b367cf6912d9c76d4c9
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 29 11:18:30 2022 +0100

    thread: fix inconsistent return values
    - SDL_CreateMutex returns NULL when the creation fails (ngage)
    - SDL_SemValue returns 0 when the semaphore is NULL (n3ds)

commit b5076ef5e31baff85f7a6abe2326625bcc5c7d7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 23:10:02 2022 -0800

    Added support for the Xbox Elite controller paddles with firmware version 5.13+

commit dbaeb2b9e90e52cade4b23fd4d1157a92f43aa74
Author: Vasily Khoruzhick <anarsoul@gmail.com>
Date:   Mon Nov 28 17:01:16 2022 -0800

    Add support for the 8BitDo Ultimate Wireless 2.4GHz Controller in DirectInput mode
    
    Generated using controller map

commit 04399e1fc26669dc4e0979143deb7cecaa59a807
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 14:48:32 2022 -0800

    Added support for the 8BitDo Ultimate Wired Controller in DirectInput mode, including the misc button and paddles

commit 5efca283d3041f17f386d5b60d4fce7ef776de07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 13:47:30 2022 -0800

    Add 8BitDo to the list of Xbox 360 third party vendors
    
    Allows detection of the 8BitDo Ultimate Wired Controller

commit 9593c8b29dfa9525853675a52f589a877481d92b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 27 10:07:44 2022 -0800

    Added a note to direct people to README-migration.md

commit c2432f8d0d569e5d90a2e22ce3207cd183293b33
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 09:54:09 2022 -0800

    Rename SDLmain to SDL_main and SDLtest to SDL_test for consistency with other SDL libraries

commit b4ebb3b5684dfc1cab8131ce41e4f1bcc14ce5c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 09:32:39 2022 -0800

    Windows borderless windows interact better with the window manager
    
    This behavior more closely matches other platform where the window is borderless but still interacts with the window manager (e.g. task bar shows above it, it can be resized to fit within usable desktop area, etc.)
    
    If you want a borderless window the size of the desktop that looks like a fullscreen window, then you should use the SDL_WINDOW_FULLSCREEN_DESKTOP flag.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6659

commit a08f5170692f8a43234fd524826e1f032e40c8b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 08:53:48 2022 -0800

    Removed unused SDL_ArrayOrder enumeration values
    
    Fixes https://github.com/libsdl-org/SDL/issues/6658

commit 62f4fc6f356a9cc10df82578b96a02867589d750
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 09:06:44 2022 -0800

    Be explicit that we support the MSB variants of the 1bpp and 4bpp surface formats
    
    Fixes https://github.com/libsdl-org/SDL/issues/6242

commit 4f5e9fd5bda0d58c2907f75fa4ea0c92c3a2525f
Author: Samuel Venable <samuelvenable@hotmail.com>
Date:   Sun Nov 27 21:19:41 2022 -0500

    [skip ci] Solaris getexecname() returns argv[0]
    
    `argv[0]`/`getexexname()` are not always absolute paths by default and can be modified to anything the developer wants them to be.
    
    Consider using `readSymLink("/proc/self/path/a.out")` instead and `getexecname()` as the fallback, since the symlink will always be the correct absolute path (unless /proc is ot mounted, but it is by default on Solaris and Illumos platforms).

commit f3c466ec1ea5a312f606d1a91e92996c64a567c5
Author: Markus Mittendrein <maxmitti@maxmitti.tk>
Date:   Sun Nov 27 22:46:54 2022 +0100

    SDL_ResampleAudio: Fix float accumulation error
    
    While 78f97108f9dad22db6708f28322561eb9828fc36 reduced the accumulation error, it was still big enough to cause distortions.
    Fixes #6196.
    
    (cherry picked from commit 8145212103264b04c20cdb50b430f3c99b44e9b4)

commit 3acd1ad25fbcfb5204acbe23da3dd34826b87a96
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 03:18:27 2022 +0100

    cmake: only MSVC understands -nodefaultlib:MSVCRT

commit 5151cbf4d194fe9a2ddc19807ca9d37a47c8061b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 02:05:22 2022 +0100

    cmake: check essential headers even when building with SDL_LIBC=OFF

commit 9d7e4a7d6e94123f07b8e3136b5fa940c2dd3317
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 01:56:22 2022 +0100

    cmake: don't cache HAVE_xxx variables for checking libc features

commit b2e428626b228c18ab5eeb5a7c8c19a7a1c7f347
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 01:53:16 2022 +0100

    cmake: disable system iconv by default on Windows
    
    This is a different default then current CMake and autotools, but matches the released SDLx.dll's.

commit 27707755c1cf6e335c1eacabe905c3a337136fa3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 01:45:13 2022 +0100

    cmake: use SDL_LIBC_DEFAULT for default SDL_LIBC value

commit 3fad16cc2bcfc3616b17c39e1a8d038d573c9381
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 02:11:32 2022 +0100

    cmake: use SDL_CPU_X86 to enable MMX/SSE on x86

commit 21f8e3ce04251d49dc75ede33ef6f18faba84862
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 00:12:02 2022 +0100

    cmake: use CMakePushCheckState while testing ARM NEON support

commit 46d85fd5a4076198b5a1bcaac6d0e81962a10cda
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 23:22:17 2022 +0100

    cmake: don't cache HAVE_3DNOW value

commit 82360b3175163b2ad65ebd0bccd7e003cd763cd3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 23:07:23 2022 +0100

    cmake: don't cache HAVE_SSE value

commit 375456a3a040e0a9a95a8a640589ef37637f2d17
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 23:06:38 2022 +0100

    cmake: use SDL_ASSEMBLY_DEFAULT for default SDL_ASSEMBLY value

commit 9f2ca87504173e550960422561d20ebcca4672c7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Nov 27 18:36:54 2022 +0100

    build: don't add SDL3 subfolder to include path for external projects

commit 2af4f74e1cc822c14ae03a387c76ad24d3a6326f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 27 13:19:44 2022 -0800

    Remove sdl3.m4 and sdl3-config, and document pkg-config as the recommended replacement
    
    Fixes https://github.com/libsdl-org/SDL/issues/6639

commit 0fdabf9595e8b86ba6f7e4d4c3eafa2c934652d0
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Sun Nov 27 13:25:31 2022 -0400

    Update WhatsNew.txt with removed hints.

commit 6a2200823c66e53bd3cda4a25f0206b834392652
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Nov 27 17:38:43 2022 +0100

    Cleanup add brace (#6545)
    
    * Add braces after if conditions
    
    * More add braces after if conditions
    
    * Add braces after while() conditions
    
    * Fix compilation because of macro being modified
    
    * Add braces to for loop
    
    * Add braces after if/goto
    
    * Move comments up
    
    * Remove extra () in the 'return ...;' statements
    
    * More remove extra () in the 'return ...;' statements
    
    * More remove extra () in the 'return ...;' statements after merge
    
    * Fix inconsistent patterns are xxx == NULL vs !xxx
    
    * More "{}" for "if() break;"  and "if() continue;"
    
    * More "{}" after if() short statement
    
    * More "{}" after "if () return;" statement
    
    * More fix inconsistent patterns are xxx == NULL vs !xxx
    
    * Revert some modificaion on SDL_RLEaccel.c
    
    * SDL_RLEaccel: no short statement
    
    * Cleanup 'if' where the bracket is in a new line
    
    * Cleanup 'while' where the bracket is in a new line
    
    * Cleanup 'for' where the bracket is in a new line
    
    * Cleanup 'else' where the bracket is in a new line

commit 4958dafdc31c6a6d602e1e14e167309034855c79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 27 08:27:00 2022 -0800

    Update comments to refer SDL_GetWindowSizeInPixels (thanks @NoelFB!)
    
    Many SDL Window comments referenced SDL_GL_GetDrawableSize but not the new SDL_GetWindowSizeInPixels.
    
    Closes https://github.com/libsdl-org/SDL/pull/6666

commit 80a9397459cdbb15b7b0e403aec002ff68db5be9
Author: Sasha Szpakowski <slime73@gmail.com>
Date:   Sat Nov 26 23:03:06 2022 -0400

    Remove SDL_HINT_IDLE_TIMER_DISABLED.
    
    SDL_DisableScreenSaver can be used instead. Fixes #6660.

commit 0a48abc860b436387c94e90c13fd0db25772e356
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 20:43:38 2022 -0800

    Switch header convention from `#include "SDL.h"` to `#include <SDL3/SDLh>`
    
    I ran this script in the include directory:
    ```sh
    sed -i '' -e 's,#include "\(SDL.*\)",#include <SDL3/\1>,' *.h
    ```
    
    I ran this script in the src directory:
    ```sh
    for i in ../include/SDL3/SDL*.h
    do hdr=$(basename $i)
       if [ x"$(echo $hdr | egrep 'SDL_main|SDL_name|SDL_test|SDL_syswm|SDL_opengl|SDL_egl|SDL_vulkan')" != x ]; then
            find . -type f -exec sed -i '' -e 's,#include "\('$hdr'\)",#include <SDL3/\1>,' {} \;
        else
            find . -type f -exec sed -i '' -e '/#include "'$hdr'"/d' {} \;
        fi
    done
    ```
    
    Fixes https://github.com/libsdl-org/SDL/issues/6575

commit 9a64aa6f95298bf459f8b9dca583df7064956cd9
Author: Joshua Root <jmr@macports.org>
Date:   Sun Nov 27 11:27:19 2022 +1100

    Fix build with Xcode < 7
    
    The _Nullable attribute is not available in older versions.

commit 1fa80ca52973957f70bb11509ac0f0302723ab15
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Nov 26 23:34:59 2022 +0100

    cmake: testevdev needs build include headers

commit e4b97c42b36b2b4970e14ae4394f055367884d7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 12:25:31 2022 -0800

    cmake: avoid copy of headers by moving generated headers to include/build_config (thanks @madebr!)
    
    Shove all build system generated headers in include/build_config.
    Doing this, cmake does not need to copy the headers anymore.
    This was done for external projects vendoring SDL.
    
    See https://github.com/libsdl-org/SDL/issues/6641#issuecomment-1328092535

commit 9c8369e097b229997875c0aeb4dc9cfdcde0e2b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 13:09:50 2022 -0800

    Temporary hack to address performance issues in https://github.com/libsdl-org/SDL/issues/6581#issuecomment-1327987916 (thanks @icculus!)

commit bb5568ac4f592f866a412f6c359fa17d6e3ac7b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 12:52:23 2022 -0800

    Fixed HAVE_SIGNAL_SUPPORT typo in commit 63f307fe1fa662dbf2ffb2d2194d2d8b3191257d (thanks @sezero!)

commit a268c841e3b57e8dd4d6e873ac77e4dc5f703bdd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 12:51:20 2022 -0800

    Remove references to STDC_HEADERS (thanks @sezero!)

commit 581f1ca5c8bac933ceebd315d8b94e5f7a3e0430
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 11:18:24 2022 -0800

    We should only mark functions as inline if necessary for performance

commit fa5adcafd52303fde86c64094462303404259d75
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 26 13:57:12 2022 -0500

    cocoa: Patched to compile on macOS SDK < 10.10.
    
    Fixes #6586.

commit 141bc251988dd84e542392ec80c9be6b469f083b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 26 20:11:20 2022 +0300

    SDL_rwops.c: reduce ifdefs, and mark SDL_RWFromFP() as SDL_INLINE.

commit 80c1ddbe970081421c8051d9fa4fc15ce969d67b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 26 09:48:34 2022 -0500

    dynapi: Bumped dynapi version to 2, so SDL2 libs don't conflict.

commit ce9f3173cd7f2777cf08738bca60d5a5bcb3e21c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 05:25:57 2022 -0800

    Only use memset_pattern4() if we have string.h on Apple platforms

commit bde808cd87a465c9b384e7f669fb5a3c6218eefb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 05:18:26 2022 -0800

    Fixed some warnings when building on Linux with -DSDL_LIBC=OFF

commit e9014ee76939eb9e51168c9df8c0bdf15df1c6e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 05:01:03 2022 -0800

    Fixed evdev using standard C functions instead of SDL functions

commit 45cbee81df60067b23c3a2fd34d0db27d3319ee5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 04:58:55 2022 -0800

    Fixed kmsdrm using standard C functions instead of SDL functions

commit 63f307fe1fa662dbf2ffb2d2194d2d8b3191257d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 01:41:46 2022 -0800

    Remove SDL_config.h from the public headers
    
    The SDL headers are no longer dependent on the build configuration.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6643 and https://github.com/libsdl-org/SDL/issues/6641

commit bc5677db95f32294a1e2c20f1b4146df02309ac7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 17:28:51 2022 -0800

    Fixed tvOS build, which is both __IOS__ and __TVOS__

commit 6786dc481d932710a70481efd8990fbbaf68ab26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 17:16:34 2022 -0800

    Xcode expects SUPPORTED_PLATFORMS to be "macosx" (thanks @MaddTheSane!)

commit 8b5a7ccc7689c60f9d664ace4abc459790d99d2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 17:12:51 2022 -0800

    HAVE_OPENGL is defined by CMake on macOS

commit b6b29fd071bd5c1fc1672dfa4f7d09cdd9015af1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 16:07:09 2022 -0800

    Updated Metal shaders

commit d9e62f37fb858914c8f2d72239e49966b6e7fc70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 16:05:03 2022 -0800

    Fixed build

commit 5cfd26d0b964a5d12137d816c7376ba4117b56e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 16:03:29 2022 -0800

    Removed obsolete android-project-ant

commit 4be6b7c0472f48bb2b997a59557a0c6ba979c7d1
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Nov 26 00:01:17 2022 +0000

    Sync SDL3 wiki -> header

commit cc1f9eb983a056bd4fd19dc4b8699c8b5d1cce77
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 16:00:06 2022 -0800

    Use Apple's nomenclature for macOS and iOS
    
    Fixes https://github.com/libsdl-org/SDL/issues/6621

commit 5fb3eb9475399026dce68d35b3d4b63fa476fcf1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 13:09:04 2022 -0800

    Update docs/README-porting.md
    
    Co-authored-by: Cameron Cawley <ccawley2011@gmail.com>

commit 597e6a685b86023917fa459494dd9244683adec1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 13:08:50 2022 -0800

    Update docs/README-macos.md
    
    Co-authored-by: Cameron Cawley <ccawley2011@gmail.com>

commit 7661725b48f3720ba82fd889fc7f857d93b11f00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 13:08:40 2022 -0800

    Update docs/README-riscos.md
    
    Co-authored-by: Cameron Cawley <ccawley2011@gmail.com>

commit c7b5ff81e6c8d6bcb168799513aa1c197d2f09a1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 05:01:49 2022 +0100

    ci: no more need for autoconf and make

commit cc0a31d09b73dcc47cd6eafeb5bd16317580539e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 02:43:24 2022 +0300

    INSTALL.txt: s/mingw64/mingw-w64/

commit aa2107a698582e0ff835280fde3d8c457982618a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 24 11:05:53 2022 -0800

    Fixed install instructions

commit 9c49c5724146729b5480d2a967083e63447ddbaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 24 11:04:05 2022 -0800

    Updated INSTALL.txt with instructions for building with mingw64

commit 6d103303e79adfe6c030a4cd6886d7551a940220
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 24 10:38:18 2022 -0800

    Added toolchain files for cross-compiling to Windows

commit bdb416e4f3d58a76592ccb14ad0083f2d4977ece
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 18:08:59 2022 +0100

    docs: remove references to configure build systems from documentation

commit 1c0d26e55c5149bb264a450c9549fa3249849b17
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 17:42:57 2022 +0100

    Remove autotools-specific sdl3-config-*.cmake files

commit 716821ca671792dfa3adf8e223e9d7e0354100ad
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 17:42:36 2022 +0100

    autotools: remove SDL3.spec.in

commit 7b21eaddce4fb80f94e7ac54744edc9cdb733c36
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 24 17:50:00 2022 +0300

    remove autotools build system
    
    - TODO: update INSTALL.txt to replace the autotools configure
            instructions with cmake.
    - TODO: update make build system to provide an equivalent to
            autotools' `make dist` ?
    - TODO: update / revise github actions, replace autotools-only
            ones with cmake (e.g.: vmactions.yml for FreeBSD.)
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/6571

commit 873ec097ea9d09d6fb8e50602e6d5d27fd5ff5b3
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Nov 25 16:37:57 2022 -0500

    x11: Remove deprecated/defunct X11 hints
    
    SDL_HINT_VIDEO_X11_FORCE_EGL was deprecated in favor of the more general SDL_HINT_VIDEO_FORCE_EGL, and Xinerama and Xvidmode support was previously removed from SDL, rendering their associated hints nonfunctional.

commit 346eeba2104ea23a033b5929171409e9b78fc975
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 13:36:14 2022 -0800

    Removed SDL_GetRevisionNumber()
    
    Fixes https://github.com/libsdl-org/SDL/issues/6620

commit ac8fbb70401e863fbe42b6f9903f8a80b2d95ecb
Author: slime <slime73@gmail.com>
Date:   Fri Nov 25 16:57:07 2022 -0400

    Remove SDL_CalculateGammaRamp.

commit 52f4cc843d56456ca4b2bca9b9a97ebbec6394c4
Author: slime <slime73@gmail.com>
Date:   Thu Nov 24 22:42:57 2022 -0400

    Remove SDL_SetWindowBrightness and SDL_SetWindowGammaRamp.

commit d14530ea82eafa7093370a7b5b2a8e83a50b1830
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 13:12:58 2022 -0800

    Removed check for _HAVE_STDINT_H
    
    Fixes https://github.com/libsdl-org/SDL/issues/6619

commit 95b071203399497e67e374807af741f4ef315efb
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 04:48:38 2022 +0100

    cmake: don't create libSDL3.so symbolic link at install time

commit 7ef38beb7ef8a04528693fdc5f04411492f8421a
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 23 16:33:38 2022 +0000

    build: Simplify library name
    
    We want the library to come out as libSDL3.so.0 on Unix, or something
    similar on other platforms. There's no need to have libSDL3-3.0.so.0,
    because next time we intentionally break the API it should become libSDL4
    anyway.
    
    Partially implements #5626.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 4574c16178c39078a90b73b1585cdc50b37edc79
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 02:18:16 2022 +0100

    cmake: test for lsx and lasx intrinsics for loongarch

commit d1f423d9dbcda88f2db016b07b4a897f8352dc04
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 01:27:44 2022 +0100

    cmake: make all assembly options depend on SDL_ASSEMBLY and architecture

commit d0e14008b5ce7ab0da440335df0eb3f7b8f85f31
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 02:57:00 2022 +0100

    cmake: find libudev library so it gets priority

commit 1bbff6596ca6a1ed8f2c86ac45f198d253d7d9c8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 02:39:50 2022 +0100

    cmake: add support for some BSD's wscons input

commit ab8df9096c3abc765b06b50ce38783bda9c11dae
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 23:20:00 2022 +0300

    fix copy/paste typo in previous commit.

commit f3fe8ea7ad07917bc2938ee3a421ef8be8e0824e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 23:15:02 2022 +0300

    fix CI windows errors again (because of unused stdio reader callbacks.)

commit a8faac1b8b625f7f873d0fadae75fe3fee0909aa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 23:04:04 2022 +0300

    fixed SDL_config_windows.h (was broken by 1e4cd682)

commit de0cca91d4abf8fb61032ba624d1a2c0936b73b9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 22:55:30 2022 +0300

    fix CI windows errors because of SDL_RWFromFP()

commit 25e9449a41414714ac7586b5909b9c30dba622bd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 22:40:37 2022 +0300

    fix SDL_PI_D (L suffix is for long double, not double.)

commit 1e4cd682b3ff051e079bf4901c11528198e739e1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 22:35:40 2022 +0300

    removed M_PI detection from cmake, removed HAVE_M_PI from config files.
    
    (didn't touch autofoo side for it so as not to break PR/6605)

commit 0b8309da0cd9d199bc3243b1a94bce62510b6ad6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 25 22:35:24 2022 +0300

    renamed SDL PI constants to SDL_PI_D and SDL_PI_F.

commit 199423612ce63f0988842fb163e705f66352fa11
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 10:57:12 2022 -0800

    Updated test programs with SDL_M_PI*

commit 05139f4a2ea1d4f848cd66769eb12e7a9098ad1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 10:46:26 2022 -0800

    Removed SDL_RWFromFP from the public API
    
    This will blow up if the SDL library and the application have a different C runtime, which can easily happen on Windows.

commit 670f1df46924423a86eb49ea5487b3051d050bc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 10:33:37 2022 -0800

    Removed SDL_stdinc.h dependency on HAVE_M_PI, added SDL_M_PIl (double) and SDL_M_PIf (float) instead

commit 8733927e359ab728f8eff19c6ec06c115be4c5d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 10:06:36 2022 -0800

    Remove SDL_stdinc.h dependency on HAVE_ALLOCA
    
    Assume alloca() is available on all modern systems

commit fa3814ddf1512ff756f11f31d3d59e2f8e75218d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 25 09:55:42 2022 -0800

    Removed SDL_rwops.h dependency on stdio.h

commit 34d538bd135f9bda0797480b25012375d795038f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 05:07:32 2022 +0100

    ci: fix typo in arguments of cmake
    
    (aargh, sorry)

commit 18ef9dcf61694e415a8981d58c0706a887243a1d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 04:52:52 2022 +0100

    ci: fix arguments for FreeBSD CMake
    
    (sorry)

commit ecd36c8f07b19421cb24b5f50be9ba4a3b3bd588
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 04:31:25 2022 +0100

    cmake: fix typo's in last commit

commit c9b8559af557fac3961f0cc5080c59881c60095f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Nov 25 03:15:23 2022 +0100

    cmake: use option to pass extra check options instead of hardcoding them

commit b4fc66525c4fa000a4459d4e2522635c2f94aaba
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 20:05:19 2022 +0100

    ci: use CMake for building SDL on FreeBSD

commit c069ff15866281964381e7c4a1beb46923208ff9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 22:38:29 2022 +0100

    cmake: add /usr/local/include to check include directories

commit cd13600944950cf1e11243e0cf013001a82ddcdf
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 22:38:13 2022 +0100

    cmake: don't reset check state after pushing state

commit 67f31a19a8eb06ee80bccb9ec8cc8c34aa635b3d
Author: Michael Fitzmayer <mail@michael-fitzmayer.de>
Date:   Thu Nov 24 21:53:17 2022 +0100

    Add bitdraw.h, remove non-working stub class

commit 622f64dff2bb8d65df9116d1c4a6bd64ce94104b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Nov 24 20:39:55 2022 +0100

    cmake: add X11 include dir to check dirs

commit 4f780c731946c4663ae8bba6aaf3e9011b7cbc71
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Nov 24 16:07:03 2022 +0100

    SDL_mfijoystick.m: remove VLA, so that projects can be built with error on vla

commit f73f23a35cc944bafb5d922223dde2b1fc435d62
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 24 17:00:32 2022 +0300

    added missing FGREP to Makefile.in. fixed syntax. regenerated configure.

commit 836eb224428aca3bdab2a6bf56d347262e475b15
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Nov 23 23:11:25 2022 -0500

    wayland: Fix build when not using the shared Wayland libraries
    
    Explicitly include the Wayland protocol headers when statically linking against the Wayland libraries or older system headers might be used instead of the local versions.

commit 3e7952ce8a0affd325c802755cae5fd843b86d99
Author: Sam James <sam@gentoo.org>
Date:   Thu Nov 24 05:21:21 2022 +0000

    Avoid use of deprecated egrep/fgrep
    
    GNU grep 3.8 emits a deprecation warning on use of egrep/fgrep.
    
    Signed-off-by: Sam James <sam@gentoo.org>

commit 239423e205496997a387b4f265b1cdaf5acd18cb
Author: Joshua Root <jmr@macports.org>
Date:   Thu Nov 24 11:06:37 2022 +1100

    vulkan_metal.h: Make compatible with ObjC ARC
    
    Fixes #6598

commit f47169fcba8a27bb0740b6b4993989ff9262c21f
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Nov 23 18:11:50 2022 -0500

    wayland: Fix libdecor_dispatch signature
    
    The function returns an int, not a bool.

commit 003fd11de848ab74a1e0ded4dee73e8839d83f40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 23 14:34:21 2022 -0800

    Regenerated dynamic API after SDL_syswm.h update

commit d9efb7e3deba6fadde7dee663800ee6155e1a0ef
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Nov 23 22:07:15 2022 +0000

    Sync SDL3 wiki -> header

commit b0840eb32e67861cfc803dc7eecae39008b4f783
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 23 13:33:48 2022 -0800

    Updated SDL_syswm.h for SDL 3.0
    
    * The header is no longer dependent on SDL build configuration
    * The structures are versioned separately from the rest of SDL
    * SDL_GetWindowWMInfo() now returns a standard result code and is passed the version expected by the application
    * Updated WhatsNew.txt and docs/README-migration.md with the first API changes in SDL 3.0

commit 53ca1f77029289a58f1a9963a00b637b903f494d
Author: Joshua Root <jmr@macports.org>
Date:   Thu Nov 24 07:37:36 2022 +1100

    SDL_mfijoystick.m: fix build with Xcode < 9
    
    Fixes #6601.

commit f8cebeea599ae65f36d388257a9d9a8ed8ada576
Author: Joshua Root <jmr@macports.org>
Date:   Sun Aug 28 00:52:19 2022 +1000

    Check build-time SDK in LoadMainMenuNibIfAvailable
    
    Fixes building against OS X 10.7 SDK.

commit d2910904fb4062c313636c7595e971f1bf248075
Author: Joshua Root <jmr@macports.org>
Date:   Thu Nov 24 06:32:49 2022 +1100

    SDL_cocoaopengl.h: ensure CVDisplayLinkRef is defined
    
    The typedef seems to be pulled in coincidentally with newer SDKs, but
    older ones need to import the header explicitly.

commit dcad4460662551fb8799f2e27a73228db29d98a7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 23 23:04:25 2022 +0300

    fix dynapi after SDL_GDKSuspendComplete addition.

commit 459be25ef906a39100bc57ff1163157249049eab
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Nov 23 19:59:15 2022 +0000

    Sync SDL3 wiki -> header

commit d5ff71d685516fa4da69d449760cd5bc8a83185e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 23 11:55:02 2022 -0800

    Updated dynamic API after https://github.com/libsdl-org/SDL/commit/040a17a50f1b500c7a1e07c6bc6e1d6eff5dbe76

commit 896e200d945227ace529e8c492f35fefab3dee96
Author: Ciro Mondueri <ciro@mondueri.com>
Date:   Wed Nov 23 16:41:14 2022 -0300

    adds GDK suspend/resume basic handling (#6596)
    
    (cherry picked from commit f6144dfe03fc5e76e0e22242b67891fd97053787)

commit a5b0583b7cdfc235399a32681fc5767f47c3b533
Author: ZX_Huang <415266418@qq.com>
Date:   Thu Nov 24 03:28:34 2022 +0800

    Add mouse test cases (#6563)
    
    * Add mouse test cases
    
    * fix SDL_GetGlobalMouseState result type
    
    * fix other platforms compile error

commit 13ea5f7a793a2386bafae3f59cec7fce0c6a3000
Author: pionere <pionere@freemail.hu>
Date:   Sat Nov 19 08:34:42 2022 +0100

    autotools: Detect SDL_JOYSTICK_MFI for macOS + Weak link with CoreHaptics
    
    Only enable MFI if we also have CoreHaptics to ensure rumble works. See:
     - cmake: Detect SDL_JOYSTICK_MFI for macOS (bc409163a81e5f440399926774202dd2da3e37c3)
     - cmake: Weak link with CoreHaptics (401f485490c68d91b8444f23f61b08e162ef04fb)

commit 450f184f7d883476123471585e5abc670b086a67
Author: pionere <pionere@freemail.hu>
Date:   Sat Nov 19 08:13:12 2022 +0100

    use SDL_InvalidParamError in the thread 'classes'

commit 61188d4972b53dc9b4112c4d64f87819a317380d
Author: Joshua T. Fisher <playmer@gmail.com>
Date:   Wed Nov 23 11:13:33 2022 -0800

    Allow Foreign Windows to call SDL_Vulkan_CreateSurface on MacOS (#6436)

commit 4ee4e49e4904d7472360188343744652167a150d
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Oct 15 12:36:07 2022 +0100

    Select the best pixel formats for use in the software renderer

commit 712457ec286a4eeb453d649c89da7f52deb432db
Merge: 675f77718 3983c98ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 14:03:35 2022 -0500

    Merge pull request #6321 from Daft-Freak/no-ie
    
    Delete emscripten CanvasPixelArray (IE10/11) support

commit 675f77718c1161ebc4fd0a72bc7625baf7607cc7
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Nov 23 19:03:15 2022 +0000

    Sync SDL3 wiki -> header

commit 040a17a50f1b500c7a1e07c6bc6e1d6eff5dbe76
Merge: 84781a7b6 dcd9e2196
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 14:02:15 2022 -0500

    Merge pull request #6317 from tycho/wip/angle-egl
    
    EGL: fixes for better ANGLE support

commit dcd9e219666fae8bf581eac15052d6c0f8f82d7f
Merge: 3d8a7e4c1 84781a7b6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 14:01:17 2022 -0500

    Merge branch 'main' into wip/angle-egl

commit 84781a7b6f3e8fd0335b331946bc237a7fed00ad
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed Nov 23 18:55:34 2022 +0000

    Disable the offscreen video driver if EGL is unavailable (#6234)

commit 3983c98ece0cd9a90599205ecaed040639dd768c
Merge: 90e7d05c3 a94d2e929
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 13:46:27 2022 -0500

    Merge branch 'main' into no-ie

commit a94d2e929dac288a2cebc9bad7329518bde5a4a7
Author: Rémy Tassoux <contact@rt2.fr>
Date:   Wed Oct 5 00:29:21 2022 +0200

    Prevent the delay conversion result from being truncated to 32bits

commit 7d5ffbdab7f40fa3da56800fa237d5c9b898982e
Author: Rémy Tassoux <contact@rt2.fr>
Date:   Thu Sep 15 16:17:03 2022 +0200

    Use CREATE_WAITABLE_TIMER_HIGH_RESOLUTION flag in SDL_Delay on Windows 10 version 1803 and later

commit 6d5526f3a56cec406d81b7d46ec39fd7c3b36ac1
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Nov 23 18:43:14 2022 +0000

    Sync SDL3 wiki -> header

commit a635a485bcd926a128ffc4b78cb82105bc351360
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 23 10:41:43 2022 -0800

    Re-added WinRT support until we're sure that it's no longer being used

commit d5572559a5016d8068706de4614496a19f8970d4
Author: David Carlier <devnexen@gmail.com>
Date:   Sun Sep 4 16:21:20 2022 +0100

    disable VS

commit 975ffaea77bb57fd3b144046a675ac6beb6464dc
Author: David Carlier <devnexen@gmail.com>
Date:   Sun Sep 4 15:38:53 2022 +0100

    alloc api having new attributes for micro optimisations.
    
    - SDL_MALLOC when the pointer returned is not aliased.
    - SDL_ALLOC_SIZE* to gives hint about the size.

commit a5e9d9bd7ef195e27565a3e5743579eb0891b9f8
Merge: a05b2fbee c2f26087c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 13:23:15 2022 -0500

    Merge pull request #6142 from Daft-Freak/em-webgl-selector-hint
    
    emscripten: use webgl APIs directly and add canvas selector hint

commit c2f26087c83085dc8de1b41e97eebaca9ccc810d
Merge: d75fb0995 a05b2fbee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 13:22:23 2022 -0500

    Merge branch 'main' into em-webgl-selector-hint

commit a05b2fbeee2f4742e7ac731bf428d5de0943df0d
Author: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>
Date:   Sat Aug 20 18:31:57 2022 +0300

    Use alias types for `which` members of event structs instead of plain types
    
    Signed-off-by: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>

commit b9e45ae0bb64b529e1bc53050d1780cd6e210275
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 23 19:18:26 2022 +0100

    ci: correctly print install tree of CMake install

commit 8f991d75769af028455d08fb0126eefdaa7e793e
Author: Susko3 <Susko3@protonmail.com>
Date:   Sun Jul 17 16:54:07 2022 +0200

    Define `TOUCHEVENTF_PEN` if not defined

commit 42796c56a95e8db3ad0e8257e3015211c6df6c36
Author: Susko3 <Susko3@protonmail.com>
Date:   Sun Jul 17 16:01:03 2022 +0200

    Differentiate between Windows Ink (pen) and regular touch input

commit 34231f5ba0f47050fe2c6d50d0810903c262c7f1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 23 18:50:02 2022 +0300

    reverted opengles removal.

commit 7767e0c5f90a3f9fdfd1843f4ed369b6c423459e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 23 08:47:14 2022 +0300

    SDL_config_windows.h: fixed misplaced #endif
    
    was introduced by commit 8d6fda48103caf25288f0ba67364851c7472ef09

commit 5db60670babd649e3b835aa261818361a65748c6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 23 07:47:00 2022 +0300

    removed linkage to OpenGLES framework

commit 016b75731192ada9209dac92e3bbfe9fd513693c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 23 06:50:20 2022 +0300

    reverted jack audio backend removal.

commit 8a16761cb54ab7f1d78048d44165c32332113043
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Nov 22 23:21:29 2022 +0000

    Sync SDL3 wiki -> header

commit 4c39dd5c72ad4fb42e6b1c6db230fe6e8b4f9041
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 22 18:12:08 2022 -0500

    Testing the wiki, disregard this commit.

commit 290bd8b910a6c0571639387f6f28e6e4dbdbc22d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Nov 22 22:40:14 2022 +0000

    Sync SDL wiki -> header

commit 8b18b0902734f55a33aae49182d89787e47c878f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 22 17:39:38 2022 -0500

    fnsince.pl: Make this work with SDL3.

commit ecc4b8773c982d721a0e0d5cd5403012c9e26d34
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Nov 22 17:12:56 2022 -0500

    wasapi: Removed WinRT PrivateAudioData members

commit 57458588ee905f2a0c22e7567517de2a200e2780
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Nov 22 16:46:12 2022 -0500

    wasapi: Merge wasapi_win32.c into wasapi.c

commit f4864656d944fc98db965c782cf19c3635c6faac
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 23:50:00 2022 +0300

    removed WinRT-specific hints.

commit dc2a3e06e9218cd269f077c34d7adf709de133e0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 23:36:24 2022 +0300

    removed WinRT support.

commit bd5d26071a9308cf931e2e3f9d46fd85be0a0a14
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 22:14:14 2022 +0300

    removed testgles.c remnants.

commit 4d60056a981ee1bc3a372640ecdd8c093d6bb9a9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 22 19:22:14 2022 +0100

    VC: Remove all references to SDL_winmm.[hc]

commit 7df102d220ff4dc46988de2efb88ecdfbca7cf87
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 22:04:10 2022 +0300

    reverted sndio backend removal.

commit 3b318f981e61debdb5efea67ea09e453b6ea9e6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 10:56:44 2022 -0800

    Removed G29 from controller_type.c
    
    We don't want the G29 to show up as a gamepad, Steam will create a virtual Xbox controller for it, which breaks racing games.
    
    (cherry picked from commit dce6ed56d72b436f15c044b05097ddebbc166701)

commit 189f71efb36da8a1c4b4c581023908a4162fa56e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 10:53:28 2022 -0800

    Revert "Added Linux mappings for the Logitech G29 in PS3 and PS4 modes"
    
    This reverts commit 33a68f575f484723aa326f8a2d96f2b8a084da4a.
    
    We don't want the G29 to show up as a gamepad, Steam will create a virtual Xbox controller for it, which breaks racing games.
    
    (cherry picked from commit e3d430b83eb7c754c789fb23184feb745c2b99a8)

commit b33000448e8e21fcc5ae9c262618293e54d69ae9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 22 13:48:45 2022 -0500

    .wikiheaders-options: Add a warning that SDL3 is WIP.

commit 30b1ab2addc48cb753c87c68d6fe6602831f88a2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 21:48:40 2022 +0300

    removed opengles.

commit e581c5d000a7e1160627185d3b0211d0b1022dd5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:53:04 2022 +0300

    removed SDL_VIDEO_DRIVER_MIR remnants.

commit be6853b6f17dab0c21c326b272353974c24cfe14
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:51:50 2022 +0300

    removed WinCE readmes.

commit 3cccaeba6cdb6633bc8d4fcbf5a747527b4ad890
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:51:07 2022 +0300

    removed jack audio remnants.

commit 94f19d974ddedf8b133caf719f25322d1c0df50c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 22 12:48:33 2022 -0500

    .wikiheader-options: Whoops, this isn't SDL_mixer.  :)

commit 3aea865cdf4c0802ba045bc095bb6084302c0186
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:45:45 2022 +0300

    removed directfb support.

commit 47c37a8e9d3128af922a4f37ae0e98c6f9067850
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 22 18:35:49 2022 +0100

    android.mk: LOCAL_EXPORT_C_INCLUDES does not need to add include subfolder

commit 0c1f9118a7896fb6bc40533fbff7acc93b1981e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 09:29:09 2022 -0800

    Removed version updates/checks for Makefile.os2 and Makefile.w32

commit e95819fae21ebf26e2740b9b99156c33c2bb6557
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 09:18:05 2022 -0800

    Update SDL info and Xcode marketing version with version update scripts

commit eae9c79c21c7658abe0e1acae43029041df27d98
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:26:24 2022 +0300

    SDL_syswm.h: removed SDL_SYSWM_MIR

commit 5cedc2f1fffbe098a786d909205461612583f404
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:23:40 2022 +0300

    removed QNX support.

commit b6604a456fb701388d3db4319b069db7e8194b86
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:11:50 2022 +0300

    regenerated configure.

commit e89a1f9157a938b0184c3a530134e3dec351c582
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 20:10:47 2022 +0300

    removed NaCL support.

commit cdb54ad21e5eeaf271ad01c74a888c44841199e7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 19:51:56 2022 +0300

    removed arts, esd, fusionsound, nas, paudio, sndio, sunaudio, winmm audio backends.

commit 05e2c8f2ce020c9c891f21e245a6607360fe5c75
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Nov 22 12:12:17 2022 +0000

    Update README-riscos.md to reflect that atomic functions have been fixed

commit 68b30d24e0d4581f7e61c0b1dc8bc6e8b0594d01
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 22 10:48:23 2022 +0100

    cmake: get rid of the duplicated _USE_MATH_DEFINES
    - define _USE_MATH_DEFINES in SDL_stdinc.h only
    - define _USE_MATH_DEFINES if not defined already

commit ed8637f437d5b52fd1d62669279f382fe2879683
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 08:28:56 2022 -0800

    Fixed typo

commit 8d6fda48103caf25288f0ba67364851c7472ef09
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 19:18:47 2022 +0300

    removed os2 support & support for building SDL with watcom.

commit 01d137592cf47863176638ade668ef6a218c3053
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 07:56:43 2022 -0800

    Updated SDL_VERSIONNUM macro for new SDL version convention
    
    Fixes https://github.com/libsdl-org/SDL/issues/6578

commit 63243eb3a535bc8e943e4568faa63dd947f7aef4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 18:50:00 2022 +0300

    removed pandora support

commit d8864ea11de4804b49b5a7bbb573c0aa919dc0d8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 22 18:47:03 2022 +0300

    removed visualtest

commit ea21628045860c6f4b39b411d0a43ae32f51ccc7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 22 06:36:19 2022 +0100

    ci: replace references to SDL2 with SDL3

commit 1b9c4c5ca1d166a88fed14d5026574f072c03571
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Nov 22 04:30:16 2022 +0000

    Sync SDL wiki -> header

commit 2c4159b99adf72c428347a7dea6e704314b5b6f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 21 20:28:58 2022 -0800

    First pass at changing SDL 2.0 to SDL 3.0

commit 0bfeed061b10ea7dd37c88d9bae1824bad760f3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 21 16:15:58 2022 -0800

    Updated to version 2.26.0 for release

commit d167cd67159eac93aaa892c5b124c6c53718d408
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 21 09:02:10 2022 -0800

    Added the Gunfighter Mk.III ‘Space Combat Edition’ as a flight stick

commit 8b20b568b0104cf1695a5a35c5e24110fe34d4c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 21 07:41:35 2022 -0800

    Don't report battery level for disconnected batteries
    
    Fixes https://github.com/libsdl-org/SDL/issues/6536

commit 8ae46a49ea52839e0fe96b03ab183fe3ad99863b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 21 06:57:02 2022 -0800

    Save the version in VERSION.txt instead of VERSION
    
    Fixes https://github.com/libsdl-org/SDL/issues/6558

commit 802c624ab38494c3e27093af528710b6da28d12f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 14:37:05 2022 -0800

    Strip trailing newline when reading the VERSION file

commit 3bc4bad8fb2b0be328f1c00628867a81a089aa2f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 20 23:50:10 2022 +0300

    add missing strcasestr checks to cmake and autotools build systems,
    
    and update config files.

commit fe396e306effb170b1abd093111d3f5c5338ae4b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Nov 19 11:28:31 2022 -0500

    wayland: Use the cached window size when switching from non-floating to floating window state
    
    When changing the window state from non-floating to floating (e.g. leaving fullscreen), libdecor can send bogus content sizes that are +/- the height of the window title bar and start 'walking' the window height in one direction or the other with every transition.
    
    The floating window size is known, so use the cached value instead of the size reported by libdecor when restoring the floating state.

commit 509939b1b63e16c21094f550a4627be6a8bf0d72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 18:20:53 2022 -0800

    Disable the third party PS3 HIDAPI driver by default, the L3/R3 buttons are unknown

commit ff99e56d3af276f8fa199d57a64cc863d9c9f798
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 12:54:55 2022 -0800

    Fixed KMSDRM window creation failing if OpenGL libraries are not available, but GLES 2.0 libraries are

commit da9ba3a2a1536017e4ce1ee0f4276578d1ce6e29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 12:17:27 2022 -0800

    If a CRTC doesn't have a mode configured, use the preferred or largest mode as the default mode
    
    Fixes https://github.com/libsdl-org/SDL/issues/6421

commit ea4ea27a59ddc0adab4d3d0bb6fbe8fa425f5a21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 11:14:14 2022 -0800

    Don't trigger an error if we try to delete a touch device after shutting down the touch system
    
    This can happen on Raspberry Pi if the display system fails to initialize.

commit 81479d8784d0e1a61eafb3a444dd3865ad762fb2
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Nov 18 21:08:36 2022 +0800

    wayland: keyboard: Cache text input parameters.
    
    Some applications (and embarrassingly, testime is one of them) call
    SDL_StartTextInput() or SDL_SetTextInputRect() every frame. On KDE/KWin
    with fcitx5, this causes there to be several preedit events every frame
    (particularly given some of the workarounds in Wayland_StartTextInput),
    which slows testime down to an unusable crawl.
    
    Instead, make SDL_StartTextInput() a no-op if text input is already
    enabled, and cache the input rect, only changing it when the new rect is
    actually different.
    
    With these changes, we only get preedit events (and hence
    SDL_TEXTEDITING events) when the preedit string actually changes. This
    matches the behaviour under XWayland, and works very smoothly.

commit 6dc96aa7455d00a3556618a4a459851424ae5d44
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 18 18:02:10 2022 +0300

    SDL_UDEV_DelCallback: return early if _this is NULL
    
    Fixes https://github.com/libsdl-org/SDL/issues/6548

commit 16824865c234f3fec9af4fded0f89cb1f147d014
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Nov 18 11:01:21 2022 +0100

    Cleanup of SDL_SetError that already return -1 value

commit 3e70553c48032f6bf4b6acfa61e4ef87d563c1a1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Nov 18 11:06:49 2022 +0100

    Unneed test before calling SDL_FreeSurface

commit 9209942949a2a7c2b117c22cf970e58bf587e109
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 06:53:13 2022 -0800

    Revert "sdl2-config.in: Deprecate sdl2-config"
    
    This reverts commit e0d904e90b15c7be45210e51b8969d3beab71437.
    
    SDL 3 will have the recommended path forward, we don't need to nag in SDL 2.

commit 769ae185d608b72d70c8caa54deeede7ddcdf7b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 18 06:52:12 2022 -0800

    Revert "sdl2.m4: Deprecate AM_PATH_SDL2 in favour of PKG_CHECK_MODULES"
    
    This reverts commit a66cb8cf216536b4e5e35c98c3f114d1787131b1.
    
    SDL 3 will have the recommended path forward, we don't need to nag in SDL 2.

commit 78ea6af2cddfa050a394ff9030d0ddd631099848
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 17 09:01:35 2022 -0800

    Updated to version 2.25.1 for release candidate

commit 1f87e9e24eba5e2443b2ed677462a70b6605482e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 17 09:00:27 2022 -0800

    Updated patch notes for 2.26 release

commit 71f2864b3a24e144eaf4ae6e86eee0dd5e9f89b1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 14:55:49 2022 +0100

    Fix usage of sizeof() in test/testgles*.c files

commit 89572af6a8b7e01559e5eefe730b74c3da9d3285
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 11:43:46 2022 +0100

    Fixed bug #6537 - AIX: use PAUDIO_WaitDevice

commit cd0d5a5fc58a195f15c02a96f67fd55c4a60974b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 11:23:15 2022 +0100

    Don't compare pointer against '0', but NULL

commit ddad901c0ddd107757353a0ffe097d3af7118ca1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 10:43:45 2022 +0100

    Remove unneeded semicolon

commit 60c6cd554d910b997150c63b2e626ed9c4e40d00
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 09:34:27 2022 +0100

    Fixed bug #6533 - PS2_JoystickUpdate: some invalid condition

commit b7358e47d57f921e09d1db55371b3111ee2b7bff
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 17 09:18:49 2022 +0100

    Don't compare pointer against '0', but NULL

commit 77bcd269beccdd281789673313c4bb677e70bb12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 16 22:23:16 2022 -0800

    Allow creating an empty surface with pitch 0
    
    This fixes Maelstrom, which creates an empty staging surface and then uses it for transfer to texture

commit a1702d463ce85d064ea679272b5a02c0a9304a3a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 23:39:41 2022 -0500

    ibus: Try to use org.freedesktop.portal.IBus first if available.
    
    This should fix apps that want ibus support inside sandboxed environments
    like FlatPak or Snaps.
    
    Fixes #4706.

commit bb0b8adacc7a082d1a530f9ac912771cb1c09a97
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 22:02:21 2022 -0500

    mac: Fix handling of deprecated symbol.
    
    This needs to check what our deployment target is, not what SDK
    is available, since this is a linker symbol and not an enum
    value or whatever.
    
    Also removed a copy/paste error that mentioned CoreAudio in
    the haptic subsystem.
    
    Fixes #6534.

commit 913e403f2aa5a23beee878b6b13f7603b884c18a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 16 18:03:29 2022 -0800

    Fixed error message when trying to create an OpenGLES2 renderer on macOS
    
    Testing: testsprite2 --renderer opengles2
    
    OpenGLES2 isn't available by default, and we want to see the error "Could not load EGL library"

commit fcc994e132a9fa83eb0e2cd385d7fd98a25f0dd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 16 17:39:55 2022 -0800

    ensure that SDL2 does not set conflicting window flags (thanks @pionere!)

commit 4192d1a1c71dc70f9ebc69d3280253437ccefbde
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Nov 16 21:56:19 2022 +0100

    Fix compilation. It needs to be casted to 'int' type

commit ce5da5d579dd4a27dd7eb19ce4edb07d49bc058f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Nov 16 21:47:43 2022 +0100

    Don't compare pointer against '0', but NULL

commit 1d7966df150eac7e5bfc98c84d5ce0327f33dccc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Nov 16 21:27:16 2022 +0100

    Remove un-needed check for NULL pointer. They were previously checked just before.

commit 8ea96f365fe08be8f0048fbba585b9edf64b2bb3
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Nov 16 11:32:31 2022 -0500

    events: Remove X and XKB keysym constants and headers
    
    The XKB_KEY_* and XK_* macros resolve to the same constant values, so use the raw values and note what keys they correspond to in the comments, as is done for the other keysym values in this file.
    
    This completely eliminates the need for any X or XKB system headers along with the if/else defines.

commit 20af698b021b157aa4054d6f23b999b9d0d58dba
Author: chalonverse <sanjay12@gmail.com>
Date:   Wed Nov 16 11:31:35 2022 -0800

    GDK: Updated MicrosoftGame.config files to use placeholder identifiers from the GDK project template rather than using Microsoft sample identifiers

commit 389ffab733b9e875125313e68ad66be9734223ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 12:53:48 2022 -0500

    Code style fixes, etc.
    
    Reference PR #6345.

commit ec58a817ef66efc23d7d6e964844317673b23ead
Author: ulatekh <ulatekh@yahoo.com>
Date:   Wed Oct 5 19:26:09 2022 -0700

    Fixes made in response to running a static code analyzer under MS Windows.
    
    Most of these are probably harmless, but the changes to SDL_immdevice.c and SDL_pixels.c appear to have fixed genuine bugs.
    
    SDL_audiocvt.c: By separating the calculation of the divisor, I got rid of the suspicion that dividing a double by an integer led to loss of precision.
    SDL_immdevice.c: Added a missing test, one that could have otherwise led to dereferencing a null pointer.
    SDL_events.c, SDL_gamecontroller.c, SDL_joystick.c, SDL_malloc.c, SDL_video.c: Made it clear the return values weren't used.
    SDL_hidapi_shield.c: The size is zero, so nothing bad would have happened, but the SDL_memset() was still being given an address outside of the array's range.
    SDL_dinputjoystick.c: Initialize local data, just in case IDirectInputDevice8_GetProperty() isn't guaranteed to write to it.
    SDL_render_sw.c: drawstate.viewport could be null (as seen on line 691).
    SDL.c: SDL_MostSignificantBitIndex32() could return -1, though I don't know if you want to cope with that (what I did) or SDL_assert() that it can't happen.
    SDL_hints.c: Replaced boolean tests on pointer values with comparisons to NULL.
    SDL_pixels.c: Looks like the switch is genuinely missing a break!
    SDL_rect_impl.h: The MacOS static checker pointed out issues with the X comparisons that were handled by assertions; I added assertions for the Y comparisons.
    SDL_yuv.c, SDL_windowskeyboard.c, SDL_windowswindow.c: Checked error-result returns.

commit 7ebdae5dc977b9605ae196bfafa9336b316c739a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 11:45:41 2022 -0500

    cocoa: Fix OpenGL deprecation warning.

commit 7c760f7f79f65cc628fc43db9d507f051475a43f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 11:32:08 2022 -0500

    cocoa: Update CVDisplayLink timing when screen changes.
    
    This handles both the window moving to a new display and
    changing the current display's refresh rate in System
    Preferences
    
    Reference Issue #4918.

commit 1fd66cc890a4cc16d23e34982f6600d403e7a74f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 10:15:21 2022 -0500

    Revert "cocoa: Backed out CVDisplayLink code for macOS vsync."
    
    This reverts commit 04b50f6c6bef67b744b192c78775771b51ff2141.
    
    It turns out OpenGL vsync has broken again in macOS 12, so
    we're reintroducing our CVDisplayLink code to deal with it,
    again.
    
    Reference Issue #4918.

commit 9d67686a5b9ceec998e65f63ab60f29687cbc340
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 10:08:40 2022 -0500

    haptic: Deal with deprecated macOS symbol.

commit 6801d676c0ce09e168195ec024e0d7033138b73f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 09:52:33 2022 -0500

    Revert "pulseaudio: Only use PA_STREAM_ADJUST_LATENCY if buffer isn't super small."
    
    This reverts commit d8b1ef42aee52dad4ac3de69795ca2e8d2fd7704.
    
    This turned out to be unnecessary (it was a problem on the user's system,
    not an SDL bug).
    
    Reference Issue #6121.

commit 81fd45f723be5ba7765901ee0d794c6b21ac2dd8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Nov 16 15:13:04 2022 +0100

    ci: Disable emscripten build time tests

commit 55534e277ef81a917f6b78b680faac7b498e89c8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 15:39:13 2022 +0100

    cmake: add time out to tests to avoid ci timeouts

commit 2e47016b01a77c33134a330089fcf2d41838b162
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 15:28:57 2022 +0100

    ci: use Ninja generator in hop of accelerating the build

commit 819b0143e3b576c0dda39a31d1d560446dc88e76
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 10:42:57 2022 +0100

    cmake: enable SDL_TEST by default for emscripten

commit a22fcf77fd9729504ba7ab26198a3707b7d72780
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:40:19 2022 +0100

    cmake: older emscripten releases have a broken FindOpenGL.cmake
    
    This is fixed since 3.1.10: https://github.com/emscripten-core/emscripten/commit/485a7b4d6f84d4bc3b594ff81d39b6b143c8d598#diff-034f4d123f23ec5493d0fbf28cba1c36e404a991f286c8d031a22799e4e8b0e5

commit d8884b845ecad6985b0551d3bd2d4295a6d0c42a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:10:46 2022 +0100

    emscripten: fix warnings in tests

commit a71e558d85ddd2fe0d20ca18a1c1c54955485ca7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:09:52 2022 +0100

    cmake: testshader needs -sLEGACY_GL_EMULATION on Emscripten

commit 55384db8a628b4c3958004977257c9ee9112a17d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:09:29 2022 +0100

    cmake: emscripten has libunwind.h, libunwind.a has missing symbols

commit 6e46090a303ffc2d4c9b830304df13a05eb1e58b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:08:38 2022 +0100

    cmake: check ALL headers inside the look (including sys/types.h)

commit 500bac0b1350f6bec536ddcaf1da0d8149b33c6a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 13:06:39 2022 +0100

    cmake: include FIndPkgConfig.cmake through find_package

commit cfa76973ff446b3f9a9909be90a140edf3566e42
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 11:33:39 2022 +0100

    cmake: FindOpenGL.cmake shipped by emscripten does not have OpenGL::GL

commit 76e3cf384021a986007c653a56f31bb89ca7fb27
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 11:04:45 2022 +0100

    cmake: use custom add_sdl_test_executable macro to add test

commit 903301c6aaabd87f9b7cb1c03c323387d25b4eee
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Nov 16 02:04:59 2022 -0500

    wayland: Always use integer scaling for cursors.
    
    Cursors don't get fractionally scaled, so always scale system cursor sizes to the next whole integer.

commit d8b1ef42aee52dad4ac3de69795ca2e8d2fd7704
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 15 22:18:51 2022 -0500

    pulseaudio: Only use PA_STREAM_ADJUST_LATENCY if buffer isn't super small.
    
    Fixes #6121.

commit 06492c598158cf825a18aececaf7511d7fd04f48
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 16 00:20:28 2022 +0300

    CI, MSVC: update to use microsoft/setup-msbuild v1.1.3.
    
    Fixes github deprecation warnings

commit 02ab7f37458c34b67bbb87b7650e73ab51c01a64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 12:57:07 2022 -0800

    Fixed release build using clang on Windows

commit 98f93d0aa18328c9290779ef5e995e9c691c52fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 11:39:06 2022 -0800

    Fixed building without xkbcommon support

commit 615901dbfee8867ff1eb71f788dd041703b694ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 11:19:08 2022 -0800

    Removed unnecessary header
    
    The xkbcommon-keysyms.h header isn't available on some older systems,
    and we don't actually need it for this code.

commit c855184765840c13cb7a3351c616eada10e921f6
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Nov 4 12:41:46 2022 -0400

    wayland: Handle virtual keyboards that don't fit the X mapping
    
    SDL is built around the concept of keyboards having a fixed layout with scancodes that correspond to physical keys no matter what linguistic layout is used. Virtual keyboards don't have this concept and can present an arbitrary layout of keys with arbitrary scancodes and names, which don't fit the SDL model. When one of these keyboards is encountered, it requires special handling: use the keysym of the pressed keys to derive their ANSI keyboard scancode equivalents for control keys and ASCII characters. All other characters are passed through as text events only.

commit d1858eb124293ace5783a5e1a6788df7c57c02a8
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Nov 4 12:33:45 2022 -0400

    events: Add a helper function to get the default keycode for a scancode
    
    Add a helper function to get the keycode for a scancode from the default lookup table. Unlike SDL_GetKeyFromScancode(), this is not affected by the set keymap.

commit 0e446c54bd487f29ed624619fc45728c3767ff10
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Nov 4 12:27:36 2022 -0400

    events: Factor out the xkb keysym to scancode conversion from the X11 driver

commit 44d7b8b91d6c22247188cc926716f54106cb91b9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 15 13:57:01 2022 -0500

    egl: Check for a NULL pointer in SDL_EGL_GetProcAddress.
    
    This happens on kmsdrm if you try to GetProcAddress before creating
    a window.
    
    Fixes #5399.

commit f3cc99fb9342337c75ecf16250f80f54f4a4c8b5
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Nov 15 13:56:44 2022 -0500

    x11: Minor style fixes for recent OSK changes

commit e6c4db816085d2cb84e7d44562a3cd10cabe62a5
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 15 19:22:42 2022 +0100

    The SDL2::SDL2 target in SDL2.framework needs to see the SDL2 include folder
    
    SDL.h includes other files through SDL2/SDL_xxx.h

commit 70656b133c89c614422130b6c7e0a52cdccc6d4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 10:18:41 2022 -0800

    Don't recreate the window when creating a Metal renderer on an OpenGL window.
    
    It turns out that we can safely create a Metal view on an existing window, and that avoids issues with the window being recreated with the wrong orientation in iOS 16.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6289

commit a71ad40ac3646b33c47bfd6b2f62478b82e0f25d
Author: Pierre Wendling <50808272+FtZPetruska@users.noreply.github.com>
Date:   Tue Nov 15 13:04:22 2022 -0500

    CMake: Add option to use Ccache.

commit 5e61f245ab5e5dd178a35001b37bab1f6292ffd7
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Nov 15 05:25:16 2022 +0000

    Sync SDL wiki -> header

commit 80ff20f6fe15fdba95fb1c49cfdc855a12e6eea1
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 23:56:20 2022 -0500

    N3DS: Set keyboard focus to newly created windows.
    
    This fixes polling issues with Joystick subsystem where
    `SDL_PrivateJoystickShouldIgnoreEvent` would always return true, thus
    ignoring all inputs.

commit 491d0bcc3ca152158653f656957a5e78471436a7
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 17:38:42 2022 -0500

    N3DS: Refactor N3DS_FileOpen.

commit dcfa127fd4c553db20f3e53cad9dfa7916a19b84
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 17:34:22 2022 -0500

    N3DS: Document the SDL_GetBasePath behaviour.

commit de5fa89b509a155d962b01de5b36955b5ba0df09
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 16:56:51 2022 -0500

    N3DS: Prepend PrefPath with `sdmc:`.

commit 7d536d52406c87c0102afed2d620d6b07cc1ca00
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 16:16:21 2022 -0500

    N3DS: Put `SDL_Log.txt` in the proper directory.
    
    The homebrew "user" directory should be `/3ds/`.
    To avoid ambiguity, `sdmc:` is specified.

commit bf4f9aaa636863555a6edd7a611a3fb4191cd1c7
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 16:11:58 2022 -0500

    N3DS: Use designated initialiser for drivers.
    
    Just a sanity check that the functions are actually mapped correctly.

commit d080e3bf3a581035d4d078f52803fc60b2504817
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Nov 14 17:56:48 2022 -0500

    Silence `-Wmaybe-uninitialized` warnings in tests.

commit a40b7cde10e434f861ae5683a4619efbad6210b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 14 13:03:52 2022 -0800

    Workaround for views being in portrait instead of landscape mode on iOS 16
    
    Fixes https://github.com/libsdl-org/SDL/issues/6289

commit 9f784b1887fea886efb03ea65416eb956ba79bf1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 14 10:58:59 2022 -0800

    The iOS and tvOS demos link SDL statically, not as a framework

commit b886f4c6c97f3d37d65f65afdb6bd68148fd4de6
Author: pionere <pionere@freemail.hu>
Date:   Mon Nov 14 17:35:28 2022 +0100

    events: eliminate redundant code in SDL_SendEditingText

commit dad8df3ed1e6397e6ad97215921322f5ed6a70b4
Author: pionere <pionere@freemail.hu>
Date:   Mon Nov 14 08:20:31 2022 +0100

    video: check graphics flags the same way in SDL_RecreateWindow as in SDL_CreateWindow
    - single check to validate the graphics flags
    - check it before tearing down the window

commit eef4d3c86a653f91b7221c80809ba8ab56f94cf1
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Nov 13 16:56:04 2022 -0500

    wayland: Clamp wl_seat version on older versions of libwayland
    
    Clamp the wl_seat max version to 5 if being built against a version of libwayland below 1.21.0, or containers that bundle newer versions of SDL with older versions of libwayland can break if the compositor advertises support for a protocol version above 5.

commit 674989261d1f3c7efd36a1cfdfc0efbc1cca6949
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 11:09:20 2022 -0800

    Fixed warning
    
    Fixes https://github.com/libsdl-org/SDL/issues/5842

commit 1b0277da61551c7fef1a09ad359024dfaaebd81a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 11:08:37 2022 -0800

    Move SDL_mslibc.c into the source file list

commit c4b9f621649d4e2ddb05e7f396e43e2d9e0402cc
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Nov 13 12:45:13 2022 -0500

    x11: Add support for the Steam Deck on-screen keyboard

commit 5f2a1231ddd1e08a9d03e28a3471f20b8e161547
Author: pionere <pionere@freemail.hu>
Date:   Sun Nov 13 08:00:03 2022 +0100

    video: check graphics flags the same way as the type flags

commit 22354b414276872f50218a9596d10fd2f4d0ad82
Author: pionere <pionere@freemail.hu>
Date:   Sat Nov 12 08:29:15 2022 +0100

    video: simplify window-type check in SDL_CreateWindow

commit 85aa9b8b6f3457e3fcc687cff1afc62ab102aa4e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 11 13:47:36 2022 -0500

    wasapi: Favor the system resampler again, for now.
    
    Reference Issue #5538.

commit 9f8b68a2785563031473011379878bb63ed5d3a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 10:24:17 2022 -0800

    Fixed building without linux/input.h
    
    https://github.com/libsdl-org/SDL/issues/6169

commit b7e65a81f1b0638c084d3c4195a7b88fb7175b6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 08:57:07 2022 -0800

    Fixed incorrect WGI controller state when the application loses focus
    
    Recenter the controller elements when WGI stops reporting valid state
    
    Fixes https://github.com/libsdl-org/SDL/issues/5261

commit 875e9b35d70d88b2de3fdb7b57e4fecd8f35d39a
Author: Michael Fitzmayer <mail@michael-fitzmayer.de>
Date:   Wed Oct 26 15:19:28 2022 +0200

    N-Gage: additional cleanup

commit afbafc2aef9f06847d234997a4e7f81000d39d3d
Author: Michael Fitzmayer <mfitzmayer@jetter.de>
Date:   Fri Oct 21 08:11:48 2022 +0200

    Remove redundant dependency to bitdraw.h, minor cleanup

commit d09edcbcac13e10676eedced42bd5b71948820a3
Author: pionere <pionere@freemail.hu>
Date:   Fri Nov 11 12:10:27 2022 +0100

    video: sync Metal_CreateView with GL_CreateContext and Vulkan_CreateSurface
    no need to check if _this->Metal_CreateView, since it is already checked in Re(create)Window

commit b71d9274291d38df68254b236448e3933a8c4eb3
Author: pionere <pionere@freemail.hu>
Date:   Fri Nov 11 12:09:15 2022 +0100

    video: add NOT_AN_OPENGL_WINDOW define (similar to NOT_A_VULKAN_WINDOW)

commit 36c6ed4b6f2622222d0515204700dfbc78c7df0f
Author: pionere <pionere@freemail.hu>
Date:   Fri Nov 11 08:33:55 2022 +0100

    video: add SDL_DllNotSupported
    - add SDL_DllNotSupported and use it to sync the behavior of SDL_GL_LoadLibrary with SDL_Vulkan_LoadLibrary

commit dd44cacbd66b27ecff2842b092331f06eca9b04f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 11 12:51:30 2022 +0300

    remove duplicated SDL_hidapi_steam.c additions to watcom makefiles.

commit 0dfc829a6b75b5a3c4c1d49fb943b622c12d67bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 19:16:53 2022 -0800

    Added simple BLE Steam Controller support on all platforms
    
    This is still disabled by default via the hint SDL_HINT_JOYSTICK_HIDAPI_STEAM

commit 3d8a7e4c15bb8e1340157b73831266c9e79ff12d
Author: Steven Noonan <steven@uplinklabs.net>
Date:   Fri Apr 9 07:44:38 2021 -0700

    cocoa: implement GL_GetDrawableSize for OpenGL ES

commit e8fbb02d160ff1ef461f27ec62925284a1ed7a48
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Sun Sep 11 12:30:18 2022 -0700

    windows: support forcing EGL for GL desktop
    
    This will theoretically support ANGLE's GL desktop frontend whenever it
    becomes fully implemented and enabled in the future.

commit 085a276d6c53392dcf1467723e881d78e94e8a5e
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 22:41:06 2022 -0700

    egl: implement callbacks for defining custom EGL attributes
    
    Depending on the underlying EGL library, it may be desirable to
    conditionally set some specific EGL attributes depending on available
    extensions and other application state.
    
    SDL's EGL usage makes this a little bit complicated because:
    
    - there are multiple functions used to set up a working EGL context
    - some of these functions take different types of EGL attributes
      (EGLAttrib vs EGLint)
    - the EGL extension list before creating an EGLDisplay differs from the
      extension list after (i.e. display vs client extensions)
    - all of the above happens in a single SDL_CreateWindow call
    
    This leaves no place for the application to discover what EGL extensions
    are available and provide custom attribute lists.
    
    Until now, if a developer wants to add a custom EGL attribute for
    eglGetPlatformDisplay, eglCreateWindowSurface or eglCreateContext, they
    needed to patch SDL itself. This is very undesirable, since such
    developers would have to disable the SDL dynapi in order to maintain
    compatibility with their needs.
    
    This patch implements some callbacks which developers can use to
    dynamically generate custom EGL attributes for SDL to use during
    SDL_CreateWindow.

commit 0644042eb8781781a56ff2430740ef654c3b67f1
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 19:44:35 2022 -0700

    egl: implement public functions to obtain internal EGL handles
    
    These functions allow applications to call EGL functions against the SDL
    EGL context. For example, applications can use an EGL API loader via
    SDL_EGL_GetCurrentDisplay and SDL_EGL_GetProcAddress, and can call
    functions such as eglQuerySurface against the internal EGLSurface and
    EGLDisplay.

commit eacf6dc15e85dec1dca181a4ef981819af0a040e
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 22:53:25 2022 -0700

    egl: fix function prototype for eglGetPlatformDisplay
    
    The EGL 1.5 specification says that eglGetPlatformDisplay (unlike
    eglGetPlatformDisplayExt) takes an EGLAttrib* rather than EGLint* for
    the attribute list.

commit fb1a5812096af54742410e5381648e0cd4f6976e
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 21:29:30 2022 -0700

    egl: add hint to disable eglGetDisplay fallback when eglGetPlatformDisplay fails
    
    This fallback is undesirable when using ANGLE, because it will end up
    using some default configuration (e.g. on Windows it defaults to the
    D3D11 backend).

commit c608cf6222937ec339b2002a26f72a7abb773ebc
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 20:29:41 2022 -0700

    egl: implement SDL_GL_EGL_PLATFORM attribute
    
    This implements a new SDL_GL_EGL_PLATFORM attribute to set the
    "platform" argument for SDL_EGL_LoadLibrary on Windows, macOS, and
    Linux. I've limited it to those three operating systems because that's
    what I've been able to test against.

commit aed980526c1c9e794cc4b839072dace087ad3b95
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 20:22:52 2022 -0700

    SDL_video: defer destroying window until GL/EGL/Vulkan unloaded

commit 5a7c20b945da35dcb0fc8baf659f12a409ac9804
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 19:35:41 2022 -0700

    hints: replace SDL_HINT_VIDEO_X11_FORCE_EGL with platform-agnostic SDL_HINT_VIDEO_FORCE_EGL
    
    This adds support for forcing the use of EGL on Windows and MacOS. The
    SDL_HINT_VIDEO_X11_FORCE_EGL hint is retained for backwards
    compatibility but is now deprecated.

commit f430ef5ddcd84ac0bb6c20308480df410931ac73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 17:27:48 2022 -0800

    Don't change the window position when creating it on iOS, it is already placed on the correct display

commit 7c05ea0a0ef075527fd745215d5d8a77f667bc21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 13:35:40 2022 -0800

    Added mappings for the GameSir T3 and T4 Pro controllers

commit 404cb27677b4d6f953a55d181508b5f690df0993
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 13:28:03 2022 -0800

    Added macOS mappings for the Nintendo Switch Pro Controller over Bluetooth

commit 29cafa9c94e4db6dadfae43aece9fb2edcac121b
Author: pionere <pionere@freemail.hu>
Date:   Thu Nov 10 08:23:16 2022 +0100

    add SDL_ContextNotSupported and validate flags in SDL_RecreateWindow similar to SDL_CreateWindow

commit 1008cc8e5f129f3bc78b982ce8f37f404d69e743
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 9 12:55:27 2022 -0500

    video: Add some braces to match SDL coding style.

commit ac3349faafd80b2df91dcfb591b03506a9610e6e
Author: pionere <pionere@freemail.hu>
Date:   Wed Nov 9 09:11:04 2022 +0100

    solve FIXMEs in SDL_video.c

commit e5c599f8c692e94c96072131b559d8d3b8a6b04b
Author: pionere <pionere@freemail.hu>
Date:   Wed Nov 9 09:02:23 2022 +0100

    fix SOLARIS_ATOMICS
    - use 'sizeless' int types (int uses 32-bit even if _LP64 is set)

commit b095df7f5cc0f32f8b90cca10e509204ec742ae0
Author: pionere <pionere@freemail.hu>
Date:   Tue Nov 8 08:39:43 2022 +0100

    simplify MSC_ATOMICS
    - use _Interlocked(Compare)ExchangePointer in case of _M_IX86 as well
    - improve assertions:
      1. add assertions to SDL_AtomicAdd/SDL_AtomicSet and SDL_AtomicCAS
      2. use sizeof(a->value) instead of sizeof(int)

commit 3dc88da0222c9ee3156b87c5213a4a9e400e6883
Author: meyraud705 <meyraud705@gmail.com>
Date:   Tue Nov 8 13:27:56 2022 +0100

    Fix Dualshock 4 rumble stopping too early
    
    Dualshock 4 controller only rumbles for 5 seconds maximum. Resend
    rumble command every 2 seconds to make long rumble work.

commit 6432f45a1cfcac5fa782a8c200cecf295c7b9665
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 8 10:27:21 2022 -0800

    Don't treat the Nintendo IMU as a separate game controller on Linux

commit 2e3b4f3fd77cb167038a4d113dca60a5c96bfe75
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 8 07:50:51 2022 -0800

    Don't send rumble to the Amazon Luna controller on macOS
    
    Sending rumble to the Amazon Luna controller on macOS gets there, but IOHIDDeviceSetReport() blocks for a long time and eventually fails.
    
    This appears to be a bug in the macOS Bluetooth stack, ref rdar://99265496

commit 02bc359b6454acac743693962eaf506ccf863a82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 7 19:31:18 2022 -0800

    Shorten "Bensussen Deutsch & Associates,Inc.(BDA)" to "BDA" for controller names

commit b0dc6709b9735d22b2713a7b76e5bc0892a0e5df
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 7 14:26:48 2022 -0500

    coreaudio: Don't use deprecated kAudioObjectPropertyElementMaster symbol.
    
    Fixes #6449.

commit db01016dd6c07c861a8ba286ae0664af34f7f35f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 7 21:15:30 2022 +0300

    revert replace AM_PATH_SDL2 usage with corresponding PKG_CHECK_MODULES.
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/6494 .

commit e873d6098186f7733e5dd157d9c529f8b0b6f6d4
Author: pionere <pionere@freemail.hu>
Date:   Mon Nov 7 10:02:06 2022 +0100

    fix handling of SDL_EventQ.active
    - SDL_EventQ.active is a bool variable -> do not use SDL_AtomicGet/Set, it does not help in any way
    - protect SDL_EventQ.active with SDL_EventQ.lock
    - set SDL_EventQ.active to FALSE by default

commit eb670742f5b096114c1c281a462ecbd216777c3e
Author: pionere <pionere@freemail.hu>
Date:   Mon Nov 7 09:05:32 2022 +0100

    better SDL_AtomicGet(Ptr) implementation

commit 64c93f7804196e74e365570a01f25bfd2c0199b4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 6 23:51:04 2022 +0300

    replace AM_PATH_SDL2 usage with corresponding PKG_CHECK_MODULES.

commit 5dc93451d27f351b26151c0dedb1c06d404ea66d
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Nov 6 20:49:37 2022 +0100

    JANITORIAL : Correct some more spelling mistakes (#6489)

commit c2675d74c52188938073c6e0c4a3f594c6e0b424
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 10:52:20 2022 -0800

    Revert "cocoa: Discard the IME Candidate Window immediately when Escape is pressed"
    
    This reverts commit 0d76e2a8a1a8e6a2801123587c2205a288d49406, as it introduced other issues:
    https://github.com/libsdl-org/SDL/pull/6486#issuecomment-1304684865

commit f2ce7c5fb25278af9b229efa55e94230a4ca0d51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 08:23:08 2022 -0800

    Added the G29 as a PlayStation controller

commit 9d1dbd2ad86805c316cf4f2ee8ab2b361be18f4d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 01:16:52 2022 -0800

    Added note about trigger rumble availability across third-party Xbox One controllers

commit e7a56323ab78c3bd7cbe967b07ba5f8d4457230a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 01:43:05 2022 -0700

    Make sure we wait after sending the rumble packet when initializing the PowerA Xbox One Mini Wired Controller

commit 6875e62af3c11249c4519fa7021003e19fb26c85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 01:15:20 2022 -0700

    Make sure we don't send Xbox controllers rumble so quickly that it overwhelms the firmware
    
    Fixes https://github.com/libsdl-org/SDL/issues/6435

commit 38af459dd9ea05c014aab71418ab8747bb773dd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 01:15:19 2022 -0700

    Fixed potential clobbering of packets of different types using SDL_HIDAPI_SendRumble()

commit e45cb5b1e264bbc36531a232f4c7efde42b8a605
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 01:15:18 2022 -0700

    Fixed initializing the PowerA Xbox One Mini Wired Controller

commit 0d76e2a8a1a8e6a2801123587c2205a288d49406
Author: Edward Li <vk.edward.li@gmail.com>
Date:   Sun Nov 6 04:59:02 2022 +0800

    cocoa: Discard the IME Candidate Window immediately when Escape is pressed

commit 15a9890919448cb463ab27f0e69be950be11ea87
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 16:44:52 2022 -0700

    Added SDL_HINT_HIDAPI_IGNORE_DEVICES to specify devices that should be ignored in SDL_hid_enumerate()

commit 297ecb706d89a78448ebd07f813ebbfa94aae556
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 15:58:30 2022 -0700

    Added SDL_strcasestr() for a case insensitive version of SDL_strstr()

commit a4626dea8dc48813dd5219f2430022be6b9c7825
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 14:24:41 2022 -0700

    Fixed initializing the PDP Xbox One and Victrix Gambit controllers

commit 7e11b09b3b0761e8d0234ee0f51081ff8dab8d57
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 13:50:37 2022 -0700

    The PowerA Xbox One Mini Wired Controller works with the HIDAPI driver now

commit a2d66b6a914163aacb2fa252b7d631cb07094859
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 13:12:10 2022 -0700

    SDL_GameControllerMapping() should return the string for the actual mapping that was used when opening a gamecontroller, rather than do a GUID match again
    
    Also don't match against the zero guid if that happens to be in the mapping list for some reason

commit f3bf543e2a140dba0de4fa34361a5324ad36748c
Author: Stefan Sperling <stsp@stsp.name>
Date:   Sat Nov 5 15:21:29 2022 +0000

    recognize game controllers connected via raphnet technologies WUSBMote v2.2
    
    This is a USB adapter for controllers shipped with Nintendo's NES-mini and
    SNES-mini consoles.
    Tested with both NES and SNES controllers, buttons map as expected on both.

commit 24cdebe464342e83743eaa613efacab4ef136c58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 10:34:08 2022 -0700

    Added the hint SDL_HINT_JOYSTICK_HIDAPI_XBOX_ONE_HOME_LED to control the brightness of the Xbox button LED on the Xbox One controller

commit 78f97108f9dad22db6708f28322561eb9828fc36
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 5 10:38:33 2022 -0400

    audio: Avoid accumulation errors in resampler.
    
    Fixes #6391.

commit 689218ebf54ba6e37102ff3cea7d239d16aa3ad7
Author: David Edmundson <kde@davidedmundson.co.uk>
Date:   Fri Nov 4 12:07:20 2022 +0000

    Fix wayland reconnection paths
    
    Most of this code is disabled out for now.
    
    - For mouse cursors we have a wl_surface for both system and custom
    cursors which needs recreating.
     - The other patch is about nullification after deletions

commit 33a68f575f484723aa326f8a2d96f2b8a084da4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 3 16:02:58 2022 -0700

    Added Linux mappings for the Logitech G29 in PS3 and PS4 modes

commit c70e67590049380875d018b1f29f181837594dbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 3 12:37:54 2022 -0700

    Wait a bit for devices to initialize before trying to enumerate and open them.
    
    This works around udev event nodes arriving before hidraw nodes and the controller being opened twice - once using the Linux driver and once by the HIDAPI driver.
    
    This also fixes a kernel panic on Steam Link hardware due to trying to open the hidraw device node too early.
    
    A delay of 10 ms seems to be a good value, tested on Steam Link hardware.

commit 084fa4c3fac87785dec3142c23f4a171a6bae4a1
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Tue Nov 1 10:55:17 2022 +0100

    cocoa: Reset IME when sending composed text
    
    This will send an empty `TEXTEDITING` event that is used to signal the
    end of the composition.

commit 61297f703a20c50f046a03ff9130215cce9581dd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Oct 29 03:20:30 2022 +0200

    cmake: on Apple, check for presence of an OBJC compiler

commit 04bcc910e914b75fcebebf11c3b09d065673af8a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Oct 29 03:14:54 2022 +0200

    cmake: don't do enable_language(OBJC)
    
    When SDL is included as a subproject, the following error might appear:
    ```
    CMake Error: Error required internal CMake variable not set, cmake may not be built correctly.
    Missing variable is:
    CMAKE_OBJC_COMPILE_OBJECT
    ```
    
    This is probably because the master project does not see certain OBJC related variables

commit b50e42935455f15baae7440e3270557d53711fab
Author: Luca Lolli <920858+dashandslash@users.noreply.github.com>
Date:   Wed Sep 7 12:21:56 2022 +0200

    Fix compilation for .m files extension

commit 4c704ecfdd814f3ab4613b374f4b70ffed997662
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Nov 1 16:33:21 2022 +0100

    cmake: use SDL2-static as static library output name when prefix/static == ""/".lib"
    
    Apparently, some clang@Windows compilers do this.

commit 70a41f9bc200f6358ec225545243e8a24eccbeb7
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Tue Nov 1 09:59:16 2022 +0100

    wayland: Read `window` data only if `window` is valid

commit b75d318776c6db59935bd85e71e7bd36101806f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 31 13:33:53 2022 -0700

    Sometimes the HID open doesn't succeed immediately after being notified about the device
    
    Tested on Steam Link hardware with the Nintendo Switch Pro controller, which will occasionally take 2 attempts to open.

commit 27ee8c8e14300054d03b4e53ac789df0e57d3c77
Author: Jasper Hugunin <jasper@hugunin.net>
Date:   Fri Oct 28 22:35:16 2022 -0700

    Fix mismatch between Init and Quit
    
    Init says that audio implies events (line 195), Quit was missing the implication.

commit 33a430056f15fa5e75ee11f3d7917b4fd2f81c1a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Oct 31 12:23:51 2022 -0400

    wayland: Don't modify the mouse capture flag in relative mode
    
    If relative mouse mode is explicitly enabled, don't modify the capture flag on button events or the window might report having lost mouse focus if a button is pressed while moving the cursor.

commit a66cb8cf216536b4e5e35c98c3f114d1787131b1
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Oct 31 11:44:32 2022 +0000

    sdl2.m4: Deprecate AM_PATH_SDL2 in favour of PKG_CHECK_MODULES
    
    AM_PATH_SDL2 doesn't add much beyond PKG_CHECK_MODULES, and having a
    special m4 macro for every library that you might depend on scales
    poorly.
    
    The macro does add special support for macOS frameworks, but that feature
    was broken for around 6 years without anyone noticing (#6141), and is
    likely to be only rarely useful according to comments on #6141.
    
    Resolves: #6140
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit e0d904e90b15c7be45210e51b8969d3beab71437
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Oct 31 12:05:36 2022 +0000

    sdl2-config.in: Deprecate sdl2-config
    
    Library-specific foo-config scripts duplicate very similar logic across
    various different projects, and tend to break cross-compiling, multilib
    (gcc -m32), Debian/Ubuntu multiarch and so on by only being able to have
    one sdl2-config at a time as the first one in the PATH.
    
    The direct replacement is pkg-config(1) or a compatible reimplementation
    like pkgconf(1), which relies on each library installing declarative
    metadata, like SDL's sdl2.pc (available since at least 2.0.0) and
    centralizes the logic into the pkg-config/pkgconf tool.
    
    Most uses of `sdl2-config --foo` can be replaced by something similar
    to `${PKG_CONFIG:-pkg-config} --foo sdl2`. Instead of adding a custom
    sdl2-config to the PATH or using its --prefix or --exec-prefix options,
    users of a custom installation prefix can use any of pkg-config's
    non-SDL-specific ways to influence the result, for example setting
    PKG_CONFIG_PATH, PKG_CONFIG_SYSROOT_DIR or PKG_CONFIG_LIBDIR environment
    variables, or setting the PKG_CONFIG environment variable to point to
    a wrapper script.
    
    For Autotools specifically, the replacement for AM_PATH_SDL2 (which
    will be officially deprecated in a subsequent commit) is
    PKG_CHECK_MODULES.
    
    CMake has its own semi-declarative mechanism for dependency discovery,
    "config packages", and the SDL build already installs a config
    package. There's a good example of using a config package to discover
    SDL in `cmake/test/`.
    
    Meson natively supports pkg-config, and already uses it in preference
    to sdl2-config.
    
    Other build systems can run pkg-config instead of sdl2-config,
    preferably checking the PKG_CONFIG environment variable first.
    https://github.com/ioquake/ioq3 is a good example of a project doing
    this correctly.
    
    Helps: #6140, #3516
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 678ef7977ffdcd5e91d4b85abd6e12ce6b5ce891
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:53:34 2022 +0100

    SDL_KMSDRMOPENGLES.H: Correct spelling mistakes
    
    begining -> beginning
    beggining -> beginning

commit 8b9c82e140e81cb9cca6e7bd16dd65b8cb76fca3
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:50:36 2022 +0100

    SDL_RENDER_PSP.C: Correct spelling mistakes
    
    wether -> whether

commit 3369b0163f2a62e88b04e45d6ce78328bdf76611
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:43:04 2022 +0100

    SDL_PS2_MAIN.C: Correct spelling mistake
    
    untill -> until

commit d7a46a16e9bdfef73d20667474bfdfe6e42f4c8b
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:37:23 2022 +0100

    SDL_SYSLOADSO.c: Correct spelling mistake
    
    publically -> publicly

commit 6a881302ad351f1d9d3bce2b638c7c63eaed637a
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:35:59 2022 +0100

    SDL_IBUS.H: Correct spelling mistake
    
    recieve -> receive

commit 61f3662c9578c82e624601e8a477c5ded94d4f91
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:34:47 2022 +0100

    SDL_QSA_AUDIO.C: Correct spelling mistake
    
    occured -> occurred

commit 57973cd3797bb934748e6742c11bbf5a44c8517b
Author: Hubert Maier <raziel-@users.noreply.github.com>
Date:   Sun Oct 30 08:30:49 2022 +0100

    SDL_HINTS.H: Correct spelling mistake
    
    noticable -> noticeable

commit 571ff1a3a96f03a3c1e2e01479077c5d61eadfa0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Oct 30 00:19:09 2022 -0400

    wayland: Prepare cursor implementation for reconnect support
    
    Co-authored-by: David Edmundson <kde@davidedmundson.co.uk>

commit 9c8b1fd8b69717e5978105c6733e6c6a87ed40c1
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Oct 29 22:34:05 2022 -0400

    wayland: Cleanup work to aid reconnect support
    
    Co-authored-by: David Edmundson <kde@davidedmundson.co.uk>

commit f6b1e028ab46bae7667db240d2238cd59f3a9d76
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 29 10:42:48 2022 -0700

    Allow vendor matching for hid_enumerate() on all backends

commit c360ca9928b07214b108b48a2440cd01a7ad0875
Author: 许兴逸 <853974536@qq.com>
Date:   Sat Oct 29 16:55:10 2022 +0800

    Add UWP-ARM64 Support.

commit 4556074e183a9a6249a98c7c2b01687f227178a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 29 09:35:07 2022 -0700

    Re-set the maximize state if we were maximized while fullscreen

commit ab06a307dce89be8526e2716d0b0819e86b46f73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 29 09:21:17 2022 -0700

    Don't report windows being maximized when fullscreen on X11
    
    This is a functional state for some window managers (tested using stock Ubuntu 22.04.1), and removing that state, e.g. using SDL_RestoreWindow(), results in a window centered and floating, and not visually covering the rest of the desktop.

commit b9e1d1b4de713c031353ec300113bd776961625c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 9 19:49:34 2022 -0400

    events: Rename SDL_SendKeyboardKeyComplete to SDL_SendKeyboardKeyAndKeycode.+

commit 92215481146f9225a458e9a09abb85a33b52d9ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 9 19:33:52 2022 -0400

    emscripten: Make an attempt at correct keyboard scancode/keycodes.
    
    This uses a newer browser API to get physical scancodes, but still
    uses the (deprecated) event field that we were already using for
    scancodes, but for keycodes instead now, which appears to be more
    accurate.
    
    Since keyboard layout isn't (generally) available to web apps, this
    adds an internal interface to send key events with both scancode
    and keycode to SDL's internals, instead of sending just scancodes and
    expecting SDL to use its own keymap to generate keycodes.
    
    Future work in this area would be to use the keyboard layout APIs
    on browsers that support them, which would allow us to use SDL's
    usual keymap code and not rely on a deprecated browser API, but
    until we get there, this patch gives significantly more correct
    results than we would have before.
    
    Fixes #2098.

commit 0ddec7e4211010ece8f5dc7fd4f96db480b95bb7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 28 16:07:30 2022 -0400

    docs: Add notes about Emscripten audio quirks.
    
    Fixes #6385.

commit a8f019b1f0d225e637c12b43a390bd257e2511a9
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Oct 28 00:52:06 2022 +0200

    Using ST and removing warnings

commit f2ebedae92eb11b71375e203189ad510b30a65df
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Thu Oct 27 00:35:20 2022 +0200

    adding texture function

commit 5de01eb0aa5d8c6a03cbb643551f7eb918e465cb
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Oct 22 00:22:34 2022 +0200

    Make render to use new functions

commit f500c1476634d07ab9c532ad78d1dab2a93c7869
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 28 08:39:02 2022 -0700

    Fixed DirectFB build

commit 9e8d2f3948139d71fd29cd69e42733e9c5a24582
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 27 13:54:53 2022 -0400

    video: Don't use texture framebuffer on Windows Subsystem for Linux.
    
    Reference Issue #6333.

commit 4223e6ac7a1de27b24d63b955ac9e183a79dbb34
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Oct 26 13:14:50 2022 -0400

    wayland: Early-out sooner when requesting fullscreen on a popup
    
    Exit the fullscreen sequence sooner if it is requested that a popup window be fullscreen.
    
    The surface commit formerly in this path is irrelevant and can be removed as previous changes made it so that SetFullscreen() is no longer called from anywhere except Wayland_SetWindowFullscreen().

commit 11a24a34e3e4dc72d573b87a6300acddb6ea4099
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Oct 26 22:30:06 2022 +0000

    Sync SDL wiki -> header

commit 41d38c0f64a4d7da0b2d1e9d2711c30bc136a180
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 26 09:43:04 2022 -0400

    shape: More robust handling of failure cases in CreateShaper.

commit c8d20f96ba966c8624c973da44214524b764c929
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 25 23:13:34 2022 -0400

    shape: Free platform-specific shaped window data.
    
    Fixes #2128.

commit 30c2dac78718f68d6365aec3849c99c7eb805916
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Oct 25 20:00:38 2022 -0400

    wayland: Remove duplicate #include statement

commit 25d0473aadd99ac454039444e2ed2c343466ac6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 16:14:26 2022 -0700

    Removed Razer Onza Tournament Edition mapping
    
    The controller can use either hat or buttons for the D-Pad, depending on what Linux driver is in use. The automatic mapping in LINUX_JoystickGetGamepadMapping() will do the right thing based on the exposed capability bits.
    
    I'm sure this is the case for other controllers as well, so we might be removing more mappings over time.

commit e837debc2551af5f158a34a0bd584801e2deb0c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 16:13:50 2022 -0700

    Bindings should have a trailing comma, so the CRC can be appended

commit b6cf889af45c31b650428e4dbe476daf21be3c9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 15:09:43 2022 -0700

    Use ScreenCount() instead of SDL_GetNumVideoDisplays()
    
    The limitation appears to be specific to multi-screen setups

commit c74ea994a55f59df8191ccf3968ea269ba2680e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 13:11:41 2022 -0700

    Added support for the Razer Raiju Tournament Edition controller in Bluetooth mode

commit 72f6e216dc5e633e29759b661a17af06d9aefbc6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 12:25:57 2022 -0700

    Disabled debug logging

commit e3f5744db42fe66453fb780a8d2412846849f45b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 12:14:00 2022 -0700

    Don't use XIWarpPointer() on multi-display configurations

commit 393acf6362be872eafa4d4c769f1d54eeaa5322c
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Oct 25 18:07:13 2022 +0000

    Sync SDL wiki -> header

commit 98dfc9296a35194da4aa8cdd187285f6b60159e8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 25 14:03:32 2022 -0400

    build-scripts/fnsince.pl: Deal with new point-release system.
    
    This ignores 2.x.1 (etc) releases, which prevents it from thinking
    the next official non-point-release version is 2.26.1, when it
    should be 2.26.0, because it saw the "latest" release is 2.24.1.
    
    This fixes the wiki ending up with imaginary version numbers for
    the "this function is available since SDL 2.x.y" sections.
    
    Fixes #6343.

commit 5fbf8f6cf03eca6eb1305d27d85c2cf7181b1dd8
Author: Alynne <alviscera@gmail.com>
Date:   Tue Oct 25 12:37:17 2022 -0400

    Adds DualSense Edge

commit da478d1f664bb3d5959d6e354431023d7ad91c2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 10:30:56 2022 -0700

    Fixed build

commit a6018ae57fb26140777f43c13a6599d710183c86
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 25 10:23:51 2022 -0700

    Added support for the NVIDIA SHIELD controller v1.03 to the HIDAPI driver

commit 20beed302923ad20af1d91d1bf889aed8b1a0139
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 25 14:56:32 2022 +0300

    SDL_EGL_GetProcAddress: remove unnecessary underscore-prepended search.
    
    Closes https://github.com/libsdl-org/SDL/issues/6236.

commit 053b5f85f164dd2f730a6500096a666001dc9d5b
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 20:18:03 2022 -0700

    SDL_windowsevents: minimize white screen flash on window creation
    
    Clear the window to black on the initial window draw, to avoid a really
    obnoxious white flash. This doesn't always eliminate it, but it
    definitely minimizes it.

commit b6e7c743db663713df85bdadc83dbcd9de61c274
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 20:21:03 2022 -0700

    SDL_cpuinfo: define __ARM_ARCH=8 for _M_ARM64
    
    Microsoft's compiler doesn't define __ARM_ARCH, but we have several
    places that use it.

commit d2300516c3998277c993fd4ac336fbb4ba71641a
Author: Steven Noonan <steven@uplinklabs.net>
Date:   Wed Sep 7 06:49:02 2022 -0700

    cocoa: set sRGB colorspace on nswindow
    
    This makes the colorspace match across different graphics APIs. By
    default, OpenGL was getting a much more saturated colorspace (maybe
    Display P3?) and it was looking very different from the rendering done
    by Metal or MoltenVK.

commit 019e9d4c929535531d12a1bb6b6f18dff3c211bd
Author: Steven Noonan <steven@uplinklabs.net>
Date:   Thu Aug 25 23:15:58 2022 -0700

    SDL_cocoavideo.m: add missing SDL_cocoaopengles.h include

commit dd72f3f03d207b23d9a7a2845950f49ded5a825f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 24 10:37:43 2022 -0700

    Added comment for #endif

commit 3d35c085858faab705a75c3065ff151619d2ce28
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Sun Oct 2 17:30:03 2022 -0700

    fix a few 'unused but set variable' and 'unused function' warnings

commit f4d1f5ed54aecbbccf20e4967b14f965196b7694
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:36 2022 -0700

    SDL-HIDPS4: fix PS4 Slim controller over BT - it sends the same input report as the it does over USB, but with a larger packet size
    
    CR: saml

commit 5bd13dec19c29adb50be96e8cdda0900c3964e32
Merge: e6742d05f 8db3a3387
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:22 2022 -0700

    Merge commit '8db3a33872cfbefcdfb059beea92338a7873f89e' into main

commit e6742d05f1d60f26fdecc2a0d015d68fce0a2b6c
Merge: 5373ad6ff 413500ab6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:20 2022 -0700

    Merge commit '413500ab69d9ac288a73946073d4414376ca17d2' into main

commit 5373ad6ffbc0c73812326a3d5dc7df33894b348e
Merge: 7acab5045 2ebaafa6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:18 2022 -0700

    Merge commit '2ebaafa6c9334071b664b15d045656250690dd96' into main

commit 7acab50453662fcf75e0eb2f4174b5d77ac2ddb9
Merge: f07673a12 c3b13346e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:15 2022 -0700

    Merge commit 'c3b13346e0a2200f1521cf064b9a602c8196e6a6' into main

commit f07673a12ee6b49cfd1f30934f035a4d8c5d51ea
Merge: d41fb3c48 d4d99e8c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:13 2022 -0700

    Merge commit 'd4d99e8c29da350379c991a8360d544d2c9eaa32' into main

commit d41fb3c480b594d8313a729b9cfc9471cacefc59
Merge: 9c7b9e08b cfd5d8eb2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:11 2022 -0700

    Merge commit 'cfd5d8eb29c8958de3333632a96032d3481816e5' into main

commit 9c7b9e08b3feb35bae75299f27ac0cf215374117
Merge: 869635090 4ca5ea5b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:09 2022 -0700

    Merge commit '4ca5ea5b7e8333b2cde1b7cdddf167c67cc3f23c' into main

commit 8696350903889d7fdc1b08d68864ca58ac8cf3fa
Merge: e45ef5a6c 2dc788cb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:07 2022 -0700

    Merge commit '2dc788cb9ffa83a2840e62f5ad2d0a7055cfcb19' into main

commit e45ef5a6c0b20349abd7c62b43d378ff460e9172
Merge: 491d59497 5b8f830e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:05 2022 -0700

    Merge commit '5b8f830e342b296d255969bbaec5a1a3522f1083' into main

commit 491d5949761b312181f76daa1dedd920f4aeacda
Merge: 26c9620a6 0e1d19cf6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:03 2022 -0700

    Merge commit '0e1d19cf680fc51635b3c52a9afa33fe03881bb5' into main

commit 26c9620a63b16a07d32f2415711515201d3825f6
Merge: e738cf80d a905a7869
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:35:01 2022 -0700

    Merge commit 'a905a7869f18332579ff06ba3f7f3777708a3007' into main

commit e738cf80dc6373e798ffe66c183c0752cfa9be84
Merge: da4c97250 65a38a401
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:59 2022 -0700

    Merge commit '65a38a4015e54add093bdb3fbd2ad1cdc1770c72' into main

commit da4c97250a4a7772a099dad92341dcd9516e7eea
Merge: b3ba8f406 3f1b5efcc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:57 2022 -0700

    Merge commit '3f1b5efccaa727745b335b546a42bd650694ca08' into main

commit b3ba8f40655ce2ac579b3ccd9f81a5cb8817af07
Merge: 2d3e21ab0 3d415bc5d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:55 2022 -0700

    Merge commit '3d415bc5d61e625189ccca6348ff1b70c469e45c' into main

commit 2d3e21ab0ecf8b8771cd00568971b6d93d27c543
Merge: 8047ece18 f37db957f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:52 2022 -0700

    Merge commit 'f37db957f8c5d9de53bdd58b2a95a2da0937307d' into main

commit 8047ece180a2c2f5d83f66e1a6dba9b6256602b9
Merge: ef62b767f 5ed091c12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:50 2022 -0700

    Merge commit '5ed091c12d4edefb366d78217b72cb75b563bfcd' into main

commit ef62b767f92b46546738b28d1efdec09725547eb
Merge: e5fe52219 0823b5973
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:48 2022 -0700

    Merge commit '0823b5973a28ebad2ca6d34058c12602bc8a69f0' into main

commit e5fe522194cb3c8eaaa81517282093c8bbff8130
Merge: 57a98aa5e 4264c0b67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:46 2022 -0700

    Merge commit '4264c0b67469896fced5ba8ac4c0e75acbb13ff1' into main

commit 57a98aa5e3fd9966ad117f14d1900077e9d34a85
Merge: b5712c1be 96361fc47
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:44 2022 -0700

    Merge commit '96361fc476a9f0a91ac021133bb44e6d97b16f11' into main

commit b5712c1bea874cef0210cbc596bbd7d6d0e56bc5
Merge: 0d5fb2a0c 11d53c84a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:42 2022 -0700

    Merge commit '11d53c84a7663d5a5861f3672990ca4b32376e3e' into main

commit 0d5fb2a0c2908808e570035713382468610b106f
Merge: be3dc1acb 94ac8ae08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:40 2022 -0700

    Merge commit '94ac8ae08b19210efedd0e73b0c60010fb9308a0' into main

commit be3dc1acb581775428ced0a5b2f92241b300a0a2
Merge: 3bc84aceb c6e896197
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:38 2022 -0700

    Merge commit 'c6e89619794ed6307f9efb0b242a2cdb605e1dc3' into main

commit 3bc84acebc0082b2a00855a267cc3aa4b07f44d2
Merge: f20c2759f d542f43b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:36 2022 -0700

    Merge commit 'd542f43b2aa23966913c08e4973793150e8073d0' into main

commit f20c2759f933c3212f41220d39880e063afb1a0e
Merge: 284df27b5 f28cf2b0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:34 2022 -0700

    Merge commit 'f28cf2b0d3fa6b4b9c692b0aa04f2875a09e0dfa' into main

commit 284df27b5a56ed64f5b1993b20b25d5cbae7000d
Merge: 5b6d36fd9 e7ab581d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 23 16:34:32 2022 -0700

    Merge commit 'e7ab581d796aa83f7d028ea4249fdc66600df173' into main

commit 8db3a33872cfbefcdfb059beea92338a7873f89e
Author: Thomas Cashman <thomas.cashman@viridiansoftware.com>
Date:   Sun Oct 23 15:45:20 2022 +0100

    #6433 Fix WINRT_IsScreenKeyboardShown on Xbox

commit 413500ab69d9ac288a73946073d4414376ca17d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 22 09:37:34 2022 -0700

    Replaced mouseWheelGesture with GCMouse support on iOS (thanks @russelltg!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/6411

commit 2ebaafa6c9334071b664b15d045656250690dd96
Author: Deve <deveee@gmail.com>
Date:   Tue Oct 18 21:02:49 2022 +0200

    Use translationInView for mouse wheel event

commit c3b13346e0a2200f1521cf064b9a602c8196e6a6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Oct 21 18:32:53 2022 +0200

    On x86, pass -nodefaultlib to linker when wanting to avoid the C library

commit d4d99e8c29da350379c991a8360d544d2c9eaa32
Author: Simon McVittie <smcv@collabora.com>
Date:   Fri Oct 21 12:19:59 2022 +0100

    workflows: Check we can screen-scrape the SDL_REVISION from Linux builds
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit cfd5d8eb29c8958de3333632a96032d3481816e5
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Oct 20 20:38:57 2022 +0100

    build: Regenerate ./configure
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 4ca5ea5b7e8333b2cde1b7cdddf167c67cc3f23c
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Oct 20 20:02:21 2022 +0100

    build: Add a mechanism to mark builds with vendor info
    
    Downstream distributors can use this to mark a version with their
    preferred version information, like a Linux distribution package version
    or the Steam revision it was built to be bundled into, or just to mark
    it with the vendor it was built by or the environment it's intended to
    be used in.
    
    For instance, in Debian I'd use this by configuring with:
    
        --enable-vendor-info="${DEB_VENDOR} ${DEB_VERSION}"
    
    to get a SDL_REVISION like:
    
        release-2.24.1-0-ga1d1946dc (Debian 2.24.1+dfsg-2)
    
    which gives a Debian user enough information to track down the patches
    and build-time configuration that were used for package revision 2.
    
    In Autotools and CMake, this is a configure-time option like any other,
    and will go into both SDL_REVISION (via SDL_revision.h) and
    SDL_GetRevision().
    
    In other build systems (MSVC, Xcode, etc.), defining the
    SDL_VENDOR_INFO macro will get it into the output of SDL_GetRevision(),
    although not SDL_REVISION.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/6418
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 2dc788cb9ffa83a2840e62f5ad2d0a7055cfcb19
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Oct 20 19:54:24 2022 +0100

    build: Expand version info in SDL_REVISION and SDL_GetRevision()
    
    Instead of using a URL and git sha1, this uses `git describe` to
    describe the version relative to the nearest previous git tag, which
    gives a better indication of whether this is a release, a prerelease,
    a slightly patched prerelease, or a long way after the last release
    during active development.
    
    This serves two purposes: it makes those APIs more informative, and it
    also puts this information into the binary in a form that is easy to
    screen-scrape using strings(1). For instance, if the bundled version of
    SDL in a game has this, we can see at a glance what version it is.
    
    It's also shorter than using the web address of the origin git
    repository and the full git commit sha1.
    
    Also write the computed version into a file ./VERSION in `make dist`
    tarballs, so that when we build from a tarball on a system that doesn't
    have git available, we still get the version details.
    
    For the Perforce code path in showrev.sh, output the version number
    followed by the Perforce revision, in a format reminiscent of
    `git describe` (with p instead of g to indicate Perforce).
    
    For the code path with no VCS available at all, put a suffix on the
    version number to indicate that this is just a guess (we can't know
    whether this SDL version is actually a git snapshot or has been
    patched locally or similar).
    
    Resolves: https://github.com/libsdl-org/SDL/issues/6418
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 5b8f830e342b296d255969bbaec5a1a3522f1083
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 22 09:24:28 2022 -0700

    Virtual joysticks don't need initial axis jitter protection
    
    Fixes https://github.com/libsdl-org/SDL/issues/6426

commit 0e1d19cf680fc51635b3c52a9afa33fe03881bb5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 22 18:56:40 2022 +0300

    fix build errors resulting from -Wmisleading-indentation

commit a905a7869f18332579ff06ba3f7f3777708a3007
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 22 08:50:18 2022 -0700

    Clear the previous bitmap when calculating a new window shape
    
    Fixes https://github.com/libsdl-org/SDL/issues/6428

commit 65a38a4015e54add093bdb3fbd2ad1cdc1770c72
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 22 14:28:10 2022 +0300

    hidapi, libusb: remove os/2 symbol load hack after os/2 loadso updates

commit 3f1b5efccaa727745b335b546a42bd650694ca08
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 22 14:28:10 2022 +0300

    os2 loadso improvements:
    
    - SDL_LoadObject: upon failure, strip the .dll extension and retry,
      but only if module name has no path.
    - SDL_LoadFunction: upon failure, retry with an underscore prepended,
      e.g. for gcc-built dlls.

commit 3d415bc5d61e625189ccca6348ff1b70c469e45c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 22 11:56:56 2022 +0300

    loadso, dlsym, SDL_LoadFunction: cleanup the underscored name path.
    
    - strlcpy was passed a wrong buffer length parameter. has worked so
      far by luck.
    - use memcpy instead of strlcpy for simplicity.
    - 'append' has been a typo: should be 'prepend'.

commit f37db957f8c5d9de53bdd58b2a95a2da0937307d
Author: Brad Smith <brad@comstyle.com>
Date:   Fri Oct 21 04:49:15 2022 -0400

    Use -lpthread on OpenBSD

commit 5ed091c12d4edefb366d78217b72cb75b563bfcd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Oct 21 15:32:05 2022 +0200

    cmake: fix reporting of SDL_TESTS

commit 0823b5973a28ebad2ca6d34058c12602bc8a69f0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Oct 21 15:31:43 2022 +0200

    cmake: fix finding wayland-libdecor
    
    It was broken in 11d53c84a7663d5a5861f3672990ca4b32376e3e

commit 4264c0b67469896fced5ba8ac4c0e75acbb13ff1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 21 11:21:40 2022 +0300

    os2: fix error message for SDL_LoadObject()

commit 96361fc476a9f0a91ac021133bb44e6d97b16f11
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Oct 4 21:17:10 2022 +0200

    cmake: create and install sdl2.pc for MSVC & WATCOM

commit 11d53c84a7663d5a5861f3672990ca4b32376e3e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 20 01:11:39 2022 +0200

    cmake: use pkg-config's library dirs as hint for finding a shared library

commit 94ac8ae08b19210efedd0e73b0c60010fb9308a0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 20 13:29:35 2022 +0200

    cmake: else() does not need an argument

commit c6e89619794ed6307f9efb0b242a2cdb605e1dc3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 19 08:05:47 2022 -0700

    Define _USE_MATH_DEFINES for Visual Studio (thanks @pionere!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/3790

commit d542f43b2aa23966913c08e4973793150e8073d0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 19 16:03:43 2022 +0200

    cmake: add SDL_INSTALL_CMAKEDIR cache variable to override location of cmake config files

commit f28cf2b0d3fa6b4b9c692b0aa04f2875a09e0dfa
Author: Brad Smith <brad@comstyle.com>
Date:   Wed Oct 19 02:28:36 2022 -0400

    Also remove the OpenBSD comment about OSS

commit e7ab581d796aa83f7d028ea4249fdc66600df173
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 19 09:14:16 2022 -0400

    coreaudio: Dispose of AudioQueue before waiting on the thread.
    
    Otherwise the thread might block for a long time (more than 10 seconds!).
    It's not clear to me why this happens, or why its safe to do this with a
    resource that's still in use, but we have, until recently, always
    disposed of the AudioQueue first, so changing back is probably okay.
    
    Also changed the disposal to allow in-flight buffers to reach hardware;
    otherwise you lose the last little bit of audio that's already been queued
    but not played, which you can hear clearly in the loopwave test program.
    
    Fixes #6377.

commit 5b6d36fd9f5895cc95a35ac681c8a90c8bb2ccfb
Merge: 764e7c4f4 aefc6b5bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:53 2022 -0700

    Merge commit 'aefc6b5bb57cd3aadc6964e26f2caac1d1c5f624' into main

commit 764e7c4f4ba5e8e3443ac4445ea03ca0880be516
Merge: 8b6f72654 965ba1e09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:51 2022 -0700

    Merge commit '965ba1e09712fc57968d87c1cf60c541529fbd20' into main

commit 8b6f7265465e21b7ac7e3884dae754b9f3f65184
Merge: 86695af48 dfbb93dd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:48 2022 -0700

    Merge commit 'dfbb93dd0c4bcdea2a3edc0e3cb0f5dae153d16e' into main

commit 86695af4832df1a1b6efb16b1f58b4bb77886dc6
Merge: 8f7577d70 e8a4c23ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:46 2022 -0700

    Merge commit 'e8a4c23ce560dad786922e8d51496da2687e1723' into main

commit 8f7577d70aedbe531f27dbf74b90f5461bb506f2
Merge: ac68c34f7 790fa3156
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:44 2022 -0700

    Merge commit '790fa3156cfee847a7c0b34986de0cd7fdd7438f' into main

commit ac68c34f762c47488a696493a021245cc9e89dc0
Merge: 66226f652 3ec4c9b3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:42 2022 -0700

    Merge commit '3ec4c9b3b9a29f17482ad2e130d6b14d79c5cb97' into main

commit 66226f652056848fff4249af97837fc260d2c5b1
Merge: 428b5ae54 3d99d3102
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 09:21:40 2022 -0700

    Merge commit '3d99d31026bb69e208ac82c30c67e62ca1333141' into main

commit aefc6b5bb57cd3aadc6964e26f2caac1d1c5f624
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 08:40:03 2022 -0700

    Renamed variables, index is the singular of indices

commit 965ba1e09712fc57968d87c1cf60c541529fbd20
Author: GNQG <my.t.gnq+dev@gmail.com>
Date:   Tue Oct 18 19:03:19 2022 +0900

    fix SDL_SendEditingText when long composition text is enabled and strlen(text) == SDL_TEXTEDITINGEVENT_TEXT_SIZE

commit dfbb93dd0c4bcdea2a3edc0e3cb0f5dae153d16e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 11:31:30 2022 +0200

    SDL_Renderer / GLES2: add specific list of indice to render rect (see #6401)

commit e8a4c23ce560dad786922e8d51496da2687e1723
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 10:45:01 2022 +0200

    Revert commit 790fa3156cfee847a7c0b34986de0cd7fdd7438f.
    SDL_BLENDMODE_INVALID case is probably used for custom blendmode

commit 790fa3156cfee847a7c0b34986de0cd7fdd7438f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 10:41:10 2022 +0200

    Fix warning: enumeration value 'SDL_BLENDMODE_INVALID' not explicitly handled in switch

commit 3ec4c9b3b9a29f17482ad2e130d6b14d79c5cb97
Merge: 3d99d3102 428b5ae54
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 10:37:22 2022 +0200

    Merge remote-tracking branch 'refs/remotes/origin/main'

commit 3d99d31026bb69e208ac82c30c67e62ca1333141
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 10:34:56 2022 +0200

    Fixed bug #6401 - back-end can choose the order the triangles when rendering rects, attempt to fix small glitch rendering.

commit 428b5ae5464d567881c383edeb2d1e5712b18ffd
Author: Wouter Wijsman <wouter@gridscale.io>
Date:   Tue Oct 18 10:34:51 2022 +0200

    PSP: Reorder extra imports

commit 285cbf6fdd9f329a604bd289e5faa4f6884807b0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 18 10:04:06 2022 +0200

    Revert commit 485bb3565b6da24620e4eedde837fbfbc5cee6d2.
    "Fixed bug #6401 - change the order of triangles when using RenderCopy, RenderCopyEx and RenderFillRect"
    because the glitch reappears on other backend

commit 0bc852ce5354d29beb9a77957ba7e82ced37bd61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 17:43:06 2022 -0700

    Revert "Disable the RAWINPUT joystick driver by default"
    
    Disabling RAWINPUT on Windows 10 causes these issues:
    * All Xbox controllers are named "XInput Controller".
    * Trigger rumble no longer works.
    * "XInput Controllers" are now also listed as separate haptic devices

commit 7e1088167a7cf47ca920667743e84cacb82af481
Author: Deve <deveee@gmail.com>
Date:   Tue Oct 18 01:07:54 2022 +0200

    Fixed command modifier on macOS

commit cdf312c83d741922ca178b029d11d6176743e3ba
Author: Deve <deveee@gmail.com>
Date:   Tue Oct 18 00:48:55 2022 +0200

    Fixed mouse warp after resizing window on macOS.

commit 7c7cd2a605a0ad84184d323d6f10d79255aac3a9
Author: David Jacewicz <david.jacewicz@protonmail.com>
Date:   Mon Oct 17 14:04:29 2022 -0400

    Fix issue #6037 (incorrect modifier flags on Wayland)

commit 3903f4c88ac4abfa5720ed0f329e5281643612de
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Oct 17 21:59:38 2022 +0200

    PSP: Use vramalloc instead of conflicting valloc function
    
    The libpspvram library was offering a function with conflicted with valloc. This has been renamed now, so SDL2 had to be updated for it.

commit 333935ff3f8fa71193076e72da2cbcd6e56adcd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 11:10:53 2022 -0700

    Make sure we completely unlock joysticks when opening HIDAPI devices
    
    Also lock the joysticks when adding and removing Android joysticks

commit 47ba997f06e4eb0c291c0bbe6d9672d1436a1f88
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 07:39:52 2022 -0700

    Disable the RAWINPUT joystick driver by default
    
    It's only needed to support more than 4 Xbox controllers, and adds significant complexity to the joystick processing, and we regularly get bugs from people who aren't using an SDL window who need to turn on SDL_HINT_JOYSTICK_THREAD.

commit 5025f2403393d70ee54d83cc583287b4c4f74e84
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 07:32:44 2022 -0700

    Don't use RAWINPUT joystick driver on Windows XP
    
    Fixes https://github.com/libsdl-org/SDL/issues/6400

commit f4e3af15a1f6ebc80db3948866d28c8bb6ef6433
Author: Brad Smith <brad@comstyle.com>
Date:   Mon Oct 17 07:23:40 2022 -0400

    Simplify OSS test by removing OpenBSD specific location of the soundcard.h header
    
    OpenBSD has long since stopped using OSS. Remove checking for OpenBSD specific header.

commit 485bb3565b6da24620e4eedde837fbfbc5cee6d2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 17 13:30:30 2022 +0200

    Fixed bug #6401 - change the order of triangles when using RenderCopy, RenderCopyEx and RenderFillRect

commit 70dfd6dd1a89f753c47bf5db06fa843a60af5169
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 16 09:05:13 2022 -0700

    Added mapping for Xbox Series X controller
    
    Fixes https://github.com/libsdl-org/SDL/issues/6296

commit ed412c138520e515adb161fa37932bc54fca4768
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Oct 15 14:05:35 2022 -0400

    wayland: Cleanup event source comments, headers, and error reporting
    
    Replace instances of fprintf(stderr, ...) with SDL_SetError(), replace C++ comments with C style, use a uniform format for multi-line comments, and remove unused headers as poll and select aren't used in this file (the SDL function which calls them is used instead).

commit 22461383c69f750cd1f66769f88c9893d5466368
Author: Daniel Bomar <dbdaniel42@gmail.com>
Date:   Sat Oct 15 15:54:12 2022 -0500

    SDL_audiocvt: Respct the SDL_HINT_AUDIO_RESAMPLING_MODE hint
    
    This implements using libsamplerate for the SDL_AudioCVT API.
    This library was already being used for audio streams when this hint is
    set.

commit e8fdb861ef39a35094f07ad4b81245f5933bd7a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 15 10:02:39 2022 -0700

    Removed redundant masking when loading the IMU calibration

commit a6573f94abd0a74cefca600c770f525180a76534
Author: happyharryh <happyharryh@sina.com>
Date:   Sun Oct 16 00:23:25 2022 +0800

    Fix bugs in IMU calibration loading for Nintendo Controllers

commit 620476865363e6dc5c0e7d126243a2427911043a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Oct 13 16:24:13 2022 -0400

    wayland: Don't block on libdecor_dispatch()
    
    libdecor_dispatch() needs to be called, as libdecor plugins might do some required internal processing within, however care must be taken to avoid double-blocking in the case of a timeout, which can occur if libdecor_dispatch() and the SDL event processing both work on the main Wayland queue. Additionally, assumptions that libdecor will always dispatch the main queue or not process zero-length queues (can occur if a wait is interrupted by the application queueing an event) should not be made, as this behavior is outside the control of SDL and can change.
    
    SDL handles polling for Wayland events and then calls libdecor to do its internal processing and dispatch. If libdecor operates on the main queue, it will dispatch the queued events and the additional wl_display_dispatch_pending() call will be a NOP. If a libdecor plugin uses its own, separate queue, then the wl_display_dispatch_pending() call will ensure that the main queue is always dispatched.

commit e89389ba0e6d498f6130eb1d7c84a350d0799669
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Oct 14 20:41:10 2022 -0400

    wayland: Use MAP_PRIVATE when mapping the keyboard keymap file descriptor
    
    Per the Wayland spec, this must be mapped with MAP_PRIVATE in version 7 of the protocol and higher.

commit 5129a07707d6e0c1528cb6092859272e70b3d734
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 14:35:52 2022 -0700

    Steam Controller support defaults off, as documented in SDL_hints.h

commit 6af17369ca773155bd7f39b8801725c4a6d52e4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 10:36:24 2022 -0700

    Added mapping for Qanba Drone on Linux without HIDAPI

commit 93b7196763e3447a7f95a05d459ece7ad7738d04
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 10:32:03 2022 -0700

    Only update the battery level if we're on Bluetooth
    
    Fixes battery level dropping to empty with the Qanba Drone Arcade Stick.
    
    It looks like we might also be able to skip the check for all third party controllers, but I think this is the right thing to do for Sony controllers as well.

commit 120a957d07506f4cc2885c16b4407091915361fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 09:57:02 2022 -0700

    Added support for the Qanba Drone Arcade Stick

commit 6bb0c2a5c2513b38981a5751da56417a40f7620f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 06:33:38 2022 -0700

    Added documentation for some scancodes

commit 91ff88451bb01104eda608bca855f0d14cd2d7cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 23:56:17 2022 -0700

    Disable "The key you just pressed is not recognized by SDL." message by default

commit 139192140c8737b5b4abd1a08b9cf918a653e854
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 23:23:55 2022 -0700

    Fixed reported cases of "Keyboard layout unknown" messages
    
    In all cases they were using SDL_SCANCODE_TABLE_XFREE86_2 with some keycodes remapped or fewer than expected keycodes. This adds a sanity check that catches all of them and gives them the right scancode table.

commit 2c1923859ab959f63981726cc60c30535815e4b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 22:50:57 2022 -0700

    Don't remove entries from an existing scancode keymap
    
    If we can't find the X11 keysym, it's likely that either the keysym is NoSymbol, in which case we won't hit it anyway, or it's been mapped to a character, in which case the existing mapping is correct for the scancode and the character will be reflected in the keycode mapping.

commit 99f2a503941f69bc7ec15791fddf1dc42bc158a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 22:40:24 2022 -0700

    X11 scancode mapping cleanup
    
    * Consolidated scancode mapping tables into a single location for all backends
    * Verified that the xfree86_scancode_table2 is largely identical to the Linux scancode table
    * Updated the Linux scancode table with the latest kernel keycodes (still unmapped)
    * Route X11 keysym -> scancode mapping through the linux scancode table (which a few hand-written exceptions), which will allow mappings to automatically get picked up as they are added in the Linux scancode table
    * Disabled verbose reporting of missing keysym mappings, we have enough data for now

commit f5afb7d11ae06a0118c6ec4b06715c27e0aef4a9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Oct 13 18:44:15 2022 -0500

    directfb: Fix return type of DirectFB_RenderPresent()

commit fc73386f458ef9deef6f49312aee0c317e02c220
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 21:44:50 2022 -0700

    Fixed the mapping from raw joystick values to the expected [SDL_JOYSTICK_AXIS_MIN, SDL_JOYSTICK_AXIS_MAX] range. (thanks Tas!)
    
    The original code mapped incorrectly from [min, max] to [-32768, 32512], the upper bound being SDL_JOYSTICK_AXIS_MAX - 255 instead of SDL_JOYSTICK_AXIS_MAX.

commit eea9f638e26aba97e6731600cdfb411a8ca27c87
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed Oct 12 18:51:59 2022 -0400

    CI: Update to actions/checkout@v3.

commit 7d230af51d5e9f735a6e5534cb9a9fbc01a7f026
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Oct 12 12:41:30 2022 +0100

    testevdev: Explain why the test data is encoded the way it is
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 81dee3194990351148c6e2ccd9bb3b4a7bed3079
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Oct 12 12:36:41 2022 +0100

    testevdev: Add a static assertion for supported sizeof(long)
    
    If this assertion fails on some platform (unlikely), we will need a
    third implementation for SwapLongLE().
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 5b9608e08c67088a3d20790b93fd93625d573476
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Oct 11 23:35:33 2022 -0400

    Remove D3D9 workarounds for Watcom.
    
    The linked PRs have been merged since May.

commit 2d7816e3586af54a27387b16f24ffde165913abc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 12 09:59:31 2022 -0400

    dynapi: Disable support for API call logging by default.
    
    We can manually enable it if necessary, but it bloats the library to
    leave it on just in case.
    
    Fixes #6381.

commit f69e004d01e0077f16dd220a847f00799ca347fc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Oct 12 13:58:41 2022 +0200

    Android default to dynamic API disabled (see #6381)

commit f6ff87788a91d85209ee54f998c4086015f0c070
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Oct 12 13:55:14 2022 +0200

    Android default to dynamic API disabled (see #6381)

commit 6836273d14734ade8938ea6834a9cb8db4a37650
Author: Desour <vorunbekannt75@web.de>
Date:   Wed Oct 12 00:17:50 2022 +0200

    Use XIWarpPointer if compiled with xinput2
    
    Co-authored-by: Andrei E <andreien@proton.me>

commit fb32effd15a52097de985558a14e3851681d0ae1
Author: Helge Deller <deller@gmx.de>
Date:   Sun Oct 9 12:13:23 2022 +0200

    testevdev: Fix detection of word size
    
    The check for whether to use a 32- or 64-bit swap for an array of long
    values always took the 64-bit path, because <limits.h> wasn't included
    and therefore ULONG_MAX wasn't defined. Turn this into a runtime check,
    which a reasonable compiler will optimize into a constant.
    
    This fixes testevdev failures on 32-bit big-endian platforms such as hppa
    and older powerpc. Little-endian and/or 64-bit platforms are unaffected.
    
    [smcv: Added commit message]
    Bug-Debian: https://bugs.debian.org/1021310
    Co-authored-by: Simon McVittie <smcv@collabora.com>

commit e710440f588fd1265b8daca7c764bf1ac800bece
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Oct 11 11:23:16 2022 -0400

    Vita: Fix typo in CI CMake command.

commit be2cb0006644cb17cafca449f2d69c989e18ed2f
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Oct 11 11:16:52 2022 -0400

    wayland: Check for the input handle before checking the keyboard handle

commit df1bd07dee4e167bec5ac8b606461f2007bc7b10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 11 07:25:27 2022 -0700

    d3d12: actually execute the pending commands before processing resize
    
    This makes sure all the resources are in the expected state
    
    Fix the D3D12 case in https://github.com/libsdl-org/SDL/issues/6376

commit 0b88e609bc5b0cdb4218d02c8a03403b067fffa8
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Oct 11 07:40:35 2022 -0400

    wayland: Raise wl_seat maximum version to 8
    
    Version 8 is required for supporting axis_value120 high-resolution scroll events.

commit 41c718edcaf7a3f7efc9705c76b986f475153632
Author: zhailiangliang <zhailiangliang@loongson.cn>
Date:   Tue Oct 11 10:07:32 2022 +0800

    Fix memory leak in PSP_CreateTexture

commit 6f224e4d9f224bbbef36213eb8cecbc6dc5ca061
Author: happyharryh <happyharryh@sina.com>
Date:   Tue Oct 11 10:44:20 2022 +0800

    Made timestamp_us of sensor events increase monotonically for Nintendo controllers

commit 4227a0b4f330027ab96e35b0832a396b56d45566
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:44:48 2022 -0400

    Vita: Turn on `SDL_WERROR` in CI.

commit e99b05d6c4bd0fde3e82c6b666ebae4f755c3386
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:36:21 2022 -0400

    Vita: Install bash in CI.
    
    The wrapper `arm-vita-eabi-pkg-config` fails without it with the error:
    `env: can't execute 'bash': No such file or directory`

commit fefd48eb9eec12f6e573a8ef79e07920d9e6c6a6
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:30:05 2022 -0400

    PS2: Turn on `SDL_WERROR` in CI.

commit 8117bfe5d1bba5ad22e2133326ff0ef696026c2f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:29:31 2022 -0400

    PS2: Ignore warnings from toolchain headers.
    
    The `gsInline.h` header creates `Wdeclaration-after-statement` warnings.

commit 04727946096e5845011c22bffee4c5b20074bc73
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:04:15 2022 -0400

    PSP: Turn on `SDL_WERROR` in CI.

commit 5ddac7e026083db407112fb360a595b00d157344
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:04:02 2022 -0400

    PSP: Fix type mismatch warnings.

commit c1317175b4c85aade561dbb20cc6248e363d339a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:02:17 2022 -0400

    PSP: Fix `Wformat` warnings.

commit 669532d52916d072e099fa7d952e0edb57fba15f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 22:01:49 2022 -0400

    PSP: Remove dead code.
    
    Fixes unused variable warning.

commit 17322e2be649eefaf6a02e2fcaefc444722ccfbb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 10 13:07:52 2022 -0400

    dynapi: Optionally log every call into the SDL API.
    
    This will only log things going through dynapi, which means it won't
    do anything if dynapi is disabled for a given build, but also things
    that call the `*_REAL` version of an API won't log either (which is
    to say, if an internal piece of SDL calls a public API, it won't log
    it, but if an application calls that same entry point, it will).
    
    Since this just inserts a different function pointer, unless you
    explicitly request this at runtime, it won't add any overhead, and,
    of course, the entire thing can be turned off with a single #define
    so it doesn't even add extra unused code to the shared library if
    the kill switch is flipped.

commit 4507083503021c2ddbaa38aa7808938c6a91b7e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 09:39:55 2022 -0700

    Fixed build

commit 680d0f043a8a3defec3ad7a2c8f64e0c6d6c636c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 09:26:49 2022 -0700

    Added support for undefined or centered position for shaped windows
    
    Fixes https://github.com/libsdl-org/SDL/issues/6359

commit b737833d3cc6934a071c9ed0b2c50e8aa45e11db
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 11:07:03 2022 -0400

    N3DS: Turn on SDL_WERROR in CI.

commit 6784d84c9dec5177b26f71ea6cd7ebb396a195af
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 01:31:14 2022 -0400

    N3DS: Fix `-Wformat` warnings in tests.
    
    All warnings were about invalid specifiers. Since U/Sint32 is a long,
    using `%d` emits a -Wformat warning.

commit 43a2b0b1e5637409f93a5763e6704f87012def07
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Oct 10 00:00:52 2022 -0400

    N3DS: Use macro to correct axis.
    
    Using `(value * SDL max) / 3DS max` allows for marginally better
    accuracy compared to `value * (SDL max / 3DS max)`.

commit 49c25b1dafc207498a79ffba16ce46ae7680c3e1
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Oct 9 23:49:00 2022 -0400

    N3DS: Fix PrivateSensorUpdate call.
    
    A new timestamp parameter was added in 2c51874.

commit cb1972b3ba37fa7930764e462bc64fb20a4a9112
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Sep 20 23:07:04 2022 -0400

    N3DS: ZL and ZR should be considered as triggers.
    
    Previously they were considered as clicking stick.

commit 86a8714feab1a93be67da1eae8a406f9e158bf0f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Sep 20 23:04:20 2022 -0400

    N3DS: Refactor joystick module to avoid globals.

commit 392f3882d03c7cb7c920b43bb7f94a206d77f737
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Sep 20 22:45:24 2022 -0400

    N3DS: Use SDL_Sensor instead of Joystick sensors.

commit 27557b62b6940f3280de323bb0fb23dd8c3498f6
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Sep 20 19:53:45 2022 -0400

    N3DS: Prefix timer sources with `N3DS_`.

commit efc93e68514851475beb700bf8d250e11bb32117
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 15:17:08 2022 -0400

    N3DS: Don't set `num_display` by hand.
    
    Doing so creates 2 empty displays at the beginning of the list.

commit c7c0e81c1ccfd63d3d3bbc59c95f8c489b4e6f2a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 14:01:36 2022 -0400

    N3DS: Update README.

commit 83ec6062af5434d1f0fc5bf9eca9a5403f4e003f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 13:46:09 2022 -0400

    N3DS: Move gfxInit and hidInit from main to video.

commit 266014faa74fb33cc2dd3a8e7c5c536097d66c9e
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 13:38:26 2022 -0400

    N3DS: Use SDL_Touch instead of the Joystick touch.

commit f9785702a687b2f1b726517209c2360996d8f460
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 13:22:07 2022 -0400

    N3DS: Deduce screen from window's display.
    
    This removes the need for a dedicated window creation flag.

commit 46a13ad97a3ef552c0e5cdde7bf9f94970d4198e
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 12:35:32 2022 -0400

    N3DS: NEON is likely not supported.

commit af2bc2ed0e3a2c131f40aaec8acfc43a0ec759d5
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 10:52:35 2022 -0400

    N3DS: Use osSetSpeedupEnable instead of PTMSYSM.

commit 03bbbcd85e503d7f142abf8981330dc993ebe6ac
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 09:06:36 2022 -0400

    N3DS: Use CreateJoystickGUIDForName.

commit 2b2693ae9008df5d212e268d3241cef7cb5bfe48
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun Sep 18 08:49:56 2022 -0400

    N3DS: Use asprintf instead of snprintf.

commit 655275378d22acbef4685d8992a5c7b370bab4fa
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Mar 30 04:32:39 2021 -0400

    N3DS port (squashed)
    
    A dedicated renderer using Citro3D would likely allow for better
    much better graphical performances.

commit 61b5360e17107c13749eba8be83f31695e5632cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 08:27:42 2022 -0700

    Only check to see if the ICC profile changes when the display changes or we gain focus
    
    Fixes https://github.com/libsdl-org/SDL/issues/6366

commit 6ffc45b0ed6340a828aa29b632c1a81fe06f950b
Author: Aaron Barany <akb825@gmail.com>
Date:   Sun Oct 9 17:22:31 2022 -0700

    Removed "undefined" argument for Apple platforms.
    
    This is incompatible with enabling bitcode, such as with iOS builds. The
    default value for "undefined" is "error" so this option should be
    redundant.

commit ec1137dfbd90972319ee1432057e75c8ea88ced1
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 9 15:19:47 2022 -0500

    cmake: Apply CETCOMPAT fix from ef988fe1 to tests

commit f99fc3268e84a89650f3808558f811cb623fc8d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 9 11:42:39 2022 -0700

    d3d12: fixed window resize handling
    
    Fixes https://github.com/libsdl-org/SDL/issues/6355

commit 490c20f93f85a4e4275bdf96bcb8ffd7f266590c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 9 09:57:55 2022 -0700

    d3d12: reset the vertex buffer size when it is released

commit efdb390caa1b3f9b0cd8370d7ce0eb4301b8055c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 9 09:11:33 2022 -0700

    Disable the HIDAPI Wii driver by default as it doesn't work with the dolphinbar

commit 6391ad970c6b54e706f38e78182701b034ae77ef
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Oct 9 11:11:55 2022 -0400

    wayland: Factor out common libdecor frame commit code
    
    The pattern of:
     libdecor_state_new()
     libdecor_frame_commit()
     libdecor_state_free()
    
     was used in several places. Factor it out into a common function.

commit b0a9396b00e42fa68fceb6e986e43611b3b3b5fa
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Oct 9 11:06:20 2022 -0400

    wayland: Remove XDG surface geometry calls
    
    These were needed to fix some buggy behavior regarding committing old buffer sizes when entering fullscreen that has since been corrected. Remove them.

commit b91ddbc3e2cd7e798750c3d99bbcc93ec98b1a8b
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Sun Oct 9 06:15:18 2022 +0200

    wayland: null-terminate drop data

commit 9df1af352f4c8bbd07b1fb046a7696412935be14
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Oct 9 15:44:07 2022 +0000

    Sync SDL wiki -> header

commit d0220395294b63fc542e1cfac68289a77a09fb86
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 9 12:01:02 2022 +0300

    testhaptic: fix watcom "&array may not produce intended result" warning

commit 151c23415eec9761b0c5612bbccbd3e2641b5b4d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 05:27:37 2022 +0200

    ci: Add SDL_WERROR to a few configurations

commit eb8eb621b1bbde49be4fc7b5bef7942adf052746
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 22:49:17 2022 +0200

    SDL_x11modes: fix -Wunused-variable

commit 01498d3acf8a9b4c5b5ccb66b54d8975d1cb848b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 03:19:28 2022 +0200

    SDL_render_psp.c: fix -Wshadow
    
    Emitted by PSP's gcc

commit 4298e79887875b487b85e08ce65ebc25fa087497
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:55:30 2022 +0200

    SDL_offscreenframebuffer.c: fix format '%d' expecting int instead of Uint32
    
    Emitted by Nintendo 3DS's gcc (fix is same as used by ngage)

commit b8a4b8d1cdccc8c8210f546de320e33971ade260
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:51:50 2022 +0200

    testautomation_mouse: fix format '%i' expecting 'int' instead of 'Uint32'
    
    Emitted by Nintendo 3DS's gcc

commit b51a88a95c27823cccdc02d96d7bc05ce912bd8d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:23:57 2022 +0200

    SDL_malloc.c: fix variable 'used' set but not used
    
    Emitted by clang-cl

commit 5c150ddc2f2a95af6ca78a2c91376e03fd6a97e3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:21:49 2022 +0200

    SDL_mslibc.c: fix unknown pragma ignored [-Wunknown-pragmas]
    
    Emitted by clang-cl

commit 37beabd11c5999e38632151850fd564cc199261e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:16:07 2022 +0200

    SDL_mslib.c: clang-cl does not support `/GL-`

commit 85fd40fafdccb027dcc0d9fbec61c6fe12b941ff
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 02:04:24 2022 +0200

    Fix -Wunused-const-variable warning when using clang-cl

commit 7ae5d8d406713782be4c3c5d4d0c0cb0754c7fbc
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:15:49 2022 +0200

    testmessage: fix conversion from `intptr_t` to `Uint32`
    
    Emitted by MSVC

commit 02b200ef08628673b1865793d4126beedfea1b0e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:14:28 2022 +0200

    testoffscreen: fix '<': signed/unsigned mismatch
    
    Emitted by MSVC

commit 7a7980fafaa3a447c7ba64f7a014d4d0e2f3e755
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:12:42 2022 +0200

    testnative: fix conversion from `time_t` to `unsigned int`
    
    Emitted by MSVC

commit 8770689525a3788bfd6b8ecae2207b00e3f71e23
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:12:18 2022 +0200

    testmouse: add explicit int-cast to avoid warning about converting `float` to `int`
    
    Emitted by MSVC

commit 3c251ec41e7b2847efc846a31d4a01fd20d0bf99
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:10:22 2022 +0200

    testintersections: fix conversion from `time_t` to `unsigned int`
    
    Emitted by MSVC

commit b771d9beeccf47ee1d8d0d9f7b2c1577b5830a38
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:09:32 2022 +0200

    tests: avoid MSVC preaching about unsafe functions

commit ebae142aa48a3b28ee331e656168f70a4471cbce
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:05:59 2022 +0200

    testhaptic: fix conversion from `size_t` to `int`
    
    Emitted by MSVC

commit 18c776e155c7da7d2ce8e36c9687bb66db033493
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:02:17 2022 +0200

    testspriteminimal: fix conversion from `time_t` to `unsigned int`
    
    Emitted by MSVC

commit f3389f13efe72b887400290ccd3b69905dc564ab
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 01:00:58 2022 +0200

    testgeometry: fix conversion from 'double' to 'float', possible loss of data
    
    emitted by MSVC

commit 2105c7f6edde487d5e2281d1c4efede963490d96
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 00:58:26 2022 +0200

    SDL_thread.c: fix unused function SDL_FreeErrBuf when building without thread support (emscripten)

commit 07225d2e26a279f7bc54e3c37c02d9e299c7a0ff
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 00:55:37 2022 +0200

    cmake: fix check for -marm
    
    This fixes the following warning:
    clang: warning: argument unused during compilation: '-marm' [-Wunused-command-line-argument]

commit 45da133999d5946cbb5eabc20dfa55b0aef41e77
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 00:39:47 2022 +0200

    cmake: don't error on apple when using deprecated declarations

commit 274ec025819a24eeaa13cca2b4869fbdef1dc876
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 00:31:00 2022 +0200

    testautomation: avoid format related warnings by using a few pragma's
    
    ci: enable -Werror to a few platforms

commit d04fa0ef7665aad63b687b324a76fad3be485e4d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 00:30:11 2022 +0200

    controllermap: use enum to avoid '-Wmaybe-uninitialized'
    
    Emitted by MinGW:
    
    In function 'WatchJoystick',
        inlined from 'SDL_main' at D:/a/SDL/SDL/test/controllermap.c:802:9:
    D:/a/SDL/SDL/test/controllermap.c:437:9: warning: 'marker' may be used uninitialized [-Wmaybe-uninitialized]
      437 |         SDL_SetTextureAlphaMod(marker, alpha);
          |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    D:/a/SDL/SDL/test/controllermap.c: In function 'SDL_main':
    D:/a/SDL/SDL/test/controllermap.c:355:71: note: 'marker' was declared here
      355 |     SDL_Texture *background_front, *background_back, *button, *axis, *marker;

commit a905db9d65dac2b72b794ef417d56e5dea5a152c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 23:59:01 2022 +0200

    testcustomcursor: fix Wswitch warning by casting the arg to an int

commit bb527678a32fa815588c6d32c51e9347e484b202
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 23:56:27 2022 +0200

    testgamecontroller: fix -Wshadow warning by renaming global axis+button textures

commit 57c886551f650f1e602ed06c1f6a6ec04b80c1f7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 23:55:59 2022 +0200

    automation_main.c: fix -Wformat-zero-length warning due to SDL_SetError("")

commit be5f55c47e0ce8bf0f6f6dc95269b22b93fa7b8a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Oct 7 00:17:25 2022 +0200

    watcom: add ENABLE_WERROR option to makefiles

commit 335c6724980119efda901ede64137d72905981be
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 19:17:18 2022 +0200

    autotools: add --enable-werror option

commit 77822ed1664a4e58915826001c401e8cadafb995
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 15:14:08 2022 +0200

    cmake: add SDL_WERROR to conditionally enable/disable -Werror

commit 1064fdee8c071faad48c6a26289161fec5da02b5
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 05:04:51 2022 +0200

    cmake: append to COMPILE_FLAGS property

commit 68e20501d6e5bf9ebba04fd2a159c86a5424c38a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Oct 6 23:41:13 2022 +0200

    autotools: by default, disable x11 on MacOS/iOS

commit b18c361b0fe28e30e3bea459b5c10c58c71dbb85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 8 13:18:00 2022 -0700

    Updated variable name for mouse coordinates in mouse wheel events

commit 4f318c904a3d19b4d292675d6969319dffdc0d42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 8 12:01:42 2022 -0700

    Add cursor position to mouse wheel event (thanks @meyraud705!)
    
    Fixes https://github.com/libsdl-org/SDL/pull/6351

commit 5490505a2ba633146d4c41538fde300830cf3d39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 8 09:41:10 2022 -0700

    Added a note to update the website after a stable release

commit 17b43b0fdd38733889edd8124b96285b1eae0e74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 8 09:32:09 2022 -0700

    Don't try to create a semaphore for the mutex implementation if threads are disabled
    
    Fixes https://github.com/libsdl-org/SDL/issues/6344

commit 33050fea3997c7d0c1cf709fa5a70f5462e35ad9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 11:29:49 2022 -0700

    Only open HID devices that might have a HIDAPI driver available
    
    This prevents an OS prompt for every connected device when running on Android

commit 31991ab85185309a46b7a62e11ade196e1c86ad5
Author: Kamil Ševeček <kamil@sevecek.net>
Date:   Fri Oct 7 15:45:28 2022 +0200

    Fix \sa to a valid function in SDL_metal.h.

commit 484d5fd6cfaf7abdd6d20b9838bbdac8c97bba2d
Author: Nicolas Cian <ncian@gopro.com>
Date:   Wed Oct 5 13:19:38 2022 +0200

    audio open: ensure 2 devices don't get the same id

commit 5ec1cef6b5c2d58c3cb90959de5d4ed979611d3e
Author: Brad Smith <brad@comstyle.com>
Date:   Thu Oct 6 22:43:33 2022 -0400

    Further fixes for the sndio CMake detection

commit e714d4d72437fb76a7d2d1b3e5e745032c840e54
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 7 05:24:20 2022 +0300

    regenerated configure script.

commit f48823181b5c62c5c7c49e9ec6f0b1e9637c04b8
Author: Brad Smith <brad@comstyle.com>
Date:   Thu Sep 29 20:31:20 2022 -0400

    Use the pkg-config file when checking for sndio.

commit fc720321b32ff59ed9852a2cc5f133f3959b2b97
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 18:23:07 2022 -0700

    Fix rare deadlock when opening a HID controller on Android
    
    Fixes https://github.com/libsdl-org/SDL/issues/6347

commit 689409fd976f987e477ec85d4517dd4a5aea4600
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 17:34:24 2022 -0700

    Fixed the start button on the Nimbus+ controller on tvOS
    
    Also updated mappings for Nintendo Switch controllers on tvOS, to reflect the lack of guide/menu button availability

commit b4aba10154f901fc36af0fb94742201c21ce7f74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 12:10:46 2022 -0700

    Reverted game controller buttons from interacting with message box dialogs
    
    These would only work for non-HIDAPI controllers, and other controller input would leak past the dialog, both of which would be confusing.

commit 893c87b27bb90cfd3038a611e400273fe8cb9cb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 12:10:45 2022 -0700

    Fixed game controller buttons being unresponsive when the on-screen keyboard is up
    
    Also mapped controller A and B buttons to interact with messagebox dialogs

commit 914a65e0982f9049b517a181f5956338e2bf1ed1
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Oct 6 12:39:36 2022 -0400

    wayland: Don't unset min/max values when entering fullscreen via a compositor event
    
    If the compositor is entering fullscreen and hasn't removed any constraints itself, it's already too late at this point.  Remove the unnecessary call.
    
    Restoring the limits when exiting fullscreen is still required, though, as they may have been removed when entering fullscreen via an SDL request.

commit 69cf5fb0e1532dff4efa274e566c0cf9bed8a553
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Oct 4 13:09:35 2022 -0400

    wayland: Remove surface type helpers
    
    These were remnants of a time before the surface type was explicitly stored, so they can be removed per the TODO note.

commit c2b0c41c0af0b5fbc589dfc0469e0b0c0e4f564a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Oct 4 12:59:26 2022 -0400

    wayland: Set/unset the opaque regions on surfaces when transparency is toggled
    
    Caches the SDL_HINT_VIDEO_EGL_ALLOW_TRANSPARENCY hint at init time and registers a callback, which is fired when the hint is changed during runtime and toggles the opaque region for existing surfaces.

commit ea5958009cc2eb660952f018a6fdb1e335b8b062
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Oct 3 18:31:15 2022 -0400

    wayland: Set the damage buffer size when supported
    
    The preferred method for setting the damage region on compositor protocol versions 4 and above is to use wl_surface.damage_buffer. Use this when available and only fall back to wl_surface.damage on older versions.
    
    Bumps the highest supported version of wl_compositor to version 4.

commit a8cb7bbe2fd7ab230c7fdb9d98a7af6c1f9f6c4a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Oct 1 11:31:26 2022 -0400

    wayland: Add dedupe logic to window geometry configuration
    
    Adds deduplication logic to ConfigureWindowGeometry() to avoid setting redundant backbuffer, viewport and surface opaque region dimensions. State is now only set when the window and/or backbuffer dimensions change.
    
    This repurposes the viewport rect to always hold the actual size of the window, which can differ from the SDL size if things are being scaled. The SDL_Rect was removed in favor of two ints, as the x/y members of the struct were never used, so they just wasted space.
    
    Since the internal variables always have the true window size, the width/height getter functions are no longer required and can be removed.

commit f687cbd4c6277b27d342d71a694dbcb8d1275703
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 09:00:57 2022 -0700

    Clarified that GNU sort isn't required, we just need the -V option to be supported

commit 8c587636dc0ae5d708c7b3ef86ca2bdabe3be311
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 08:25:54 2022 -0700

    GNU sort isn't available on older macOS and some BSD systems
    
    Don't prevent building entirely, just warn that we won't be able to find dynamic libraries in this case.
    
    Fixes https://github.com/libsdl-org/SDL/pull/6338

commit e3b2830f9949ecb9bb745b97c8e42df6a1879942
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 1 11:11:10 2022 +0300

    updated VS project file

commit d2160c29d139083c8c9ef0ab041c8bfa977d62a9
Author: slime <slime73@gmail.com>
Date:   Wed Oct 5 21:42:26 2022 -0300

    iOS: implement SDL_GetWindowSizeInPixels.

commit fa7ffa4e8870bc572b6e09ae7f56444d971467ec
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 6 03:37:50 2022 +0300

    change the iconv configuration option names to be more verbose.

commit 4ca86dae2fca96e99d7bfa574e48904c30fc28e3
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Oct 5 23:26:14 2022 +0000

    Sync SDL wiki -> header

commit ddc3de602e9249a7c75ed031a63dc574dfde8727
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 5 16:24:05 2022 -0700

    Added mapping for PS5 controller over Bluetooth on Android 12
    
    Tested on Pixel 3a

commit 81afb3e30358bb9f815fd4998d2067d8f9da04f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 5 16:18:09 2022 -0700

    Need to swap endianness when extracting the CRC from game controller mappings

commit 294ccba0a23b37fffef62189423444f93732e565
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 5 23:56:56 2022 +0300

    better wording for --enable-iconv description

commit 92c71ae385d9770e7ac3db4c9a072151e923012d
Author: Andrey Filipenkov <decapitator@ukr.net>
Date:   Wed Oct 5 21:59:08 2022 +0300

    [iOS] respect initial status bar configuration when displaying the launch storyboard

commit 5b13136471e36872741b35dca70ec6f6f0401a7a
Author: Andrey Filipenkov <decapitator@ukr.net>
Date:   Sat Aug 6 10:48:53 2022 +0300

    [UIKit] handle app lifecycle events in a custom object instead of AppDelegate
    
    removes the need to call SDL counterparts manually when custom AppDelegate is used

commit c9f60cce40c02b2f69bb4674ca66e5679310841f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 17:12:08 2022 +0200

    cmake+autotools: add option to enable/disable iconv

commit e41942e8140566d76284bea61130de8e125a17d0
Author: daniel <danielclarke@wearepopgun.com>
Date:   Wed Oct 5 13:36:25 2022 +1000

    fix compilation error SDL_coreaudio mixing declarations and code

commit d0657fde30a265f353e3528db7c683aeb98ee315
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Oct 5 02:15:22 2022 +0200

    cmake: Use DWARF 4 debug information when building using mingw
    
    See f18fae4c689a68bd50ce34d6b9c1f014c2f220a2

commit f18fae4c689a68bd50ce34d6b9c1f014c2f220a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 16:46:29 2022 -0700

    Use DWARF 4 debug information when building using mingw
    
    See this bug for more information:
    https://gcc.gnu.org/bugzilla/show_bug.cgi?id=101377
    
    Fixes https://github.com/libsdl-org/SDL/issues/6139

commit cbb1cf0c930602c4e0001fc1768f070334141fd9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Oct 4 21:15:09 2022 +0200

    cmake+xcode: only create SDL2::SDL2main target when it does not exist again

commit fdef96e2331700247a4caff0db576aa669c30188
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 4 12:08:09 2022 +0200

    Android: remove "nativeSetComposingText" since it's not used anymore
    (and it may fail registering at init if code is cleaned with proguard)

commit eac3d6d3c003405af2cd12591c1750d742124ee3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 4 10:46:42 2022 +0200

    SDL_video.c: fix variable 'i' may be uninitialized when used here "_this->name = bootstrap[i]->name;"

commit ad29875ee692deb9a3517f4d470bde4a83ff76ad
Author: David Gow <david@ingeniumdigital.com>
Date:   Mon Apr 18 17:03:05 2022 +0800

    Wayland: Emulate mouse warp using relative mouse mode
    
    Several games (including Source and GoldSrc games, and Bioshock
    Infinite) attempt to "fake" relative mouse mode by repeatedly warping
    the cursor to the centre of the screen. Since mouse warping is not
    supported under Wayland, the viewport ends up "stuck" in a rectangular
    area.
    
    Detect this case (mouse warp while the cursor is not visible), and
    enable relative mouse mode, which tracks the cursor position
    independently, and so can Warp successfully.
    
    This is behind the SDL_HINT_VIDEO_WAYLAND_EMULATE_MOUSE_WARP hint, which
    is enabled by default, unless the application enables relative mouse
    mode itself using SDL_SetRelativeMouseMode(SDL_TRUE).
    
    Note that there is a behavoural difference, in that relative mouse mode
    typically doesn't take mouse accelleration into account, but the
    repeated-warping technique does, so mouse movement can seem very slow
    with this (unless the game has its own mouse accelleration option, such
    as in Portal 2).

commit 9e3c4b9f328bb3738ee8a8ec20055d7191702164
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 3 17:50:01 2022 -0700

    Use the correct platform defines

commit 5291e5cb7649e0128b9d7274090e8b0b6cd6a745
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 3 17:36:17 2022 -0700

    Added version checking to SDLActivity.java
    
    Make sure the SDL java and C code match when updating SDL in a game.
    Right now we're assuming that we only have to make sure release versions match. We can extend the version string with an interface version if we need more fine grained sanity checking.
    
    Fixes https://github.com/libsdl-org/SDL/issues/1540

commit 3607f8316fb1624e08205a51b00acb6a5a779779
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 3 11:00:50 2022 -0700

    Find out if a controller is wireless using WGI (thanks @DJm00n!)
    
    Confirmed using an Xbox Series X controller over USB and Bluetooth
    
    Fixes https://github.com/libsdl-org/SDL/issues/6322

commit 321ca1091df9219fa0abab31f992a40141ae0e57
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 3 12:00:38 2022 -0400

    opengles2: Texture names are GLuint, not GLenum.

commit 01c5554f0e7d6ac18c8f85a84f35ffcf410f030c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 3 11:57:10 2022 -0400

    opengles2: SDL_GL_BindTexture() should bind all YUV textures.
    
    This matches what the non-GLES OpenGL renderer does.
    
    Fixes #6070.

commit f8f562dace406d48ca754dae5a95e2880cba492b
Author: slime <slime73@gmail.com>
Date:   Sun Oct 2 22:55:49 2022 -0300

    iOS: remove dead pre-iOS 8 codepaths.
    
    SDL hasn't supported those older iOS versions for a little while now.

commit bbeacd72c438f7de499bbe2b778ab970b76b375e
Author: slime <slime73@gmail.com>
Date:   Sun Oct 2 22:57:03 2022 -0300

    Fix some credit comments.

commit cf331ef3f981e7d6c42f81d70dc5b453aae44989
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 17:25:36 2022 -0700

    Fixed build

commit 34b28002d9a2a2ae55710815bb1dcb0dc7870908
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Oct 3 00:20:15 2022 +0000

    Sync SDL wiki -> header

commit 64ea6cefafb006799dedca0f11e937158ce60045
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 17:17:31 2022 -0700

    SDL_ResetHint() no longer clears the callbacks associated with a hint
    
    Also added SDL_ResetHints() to reset all callbacks, and clarified that SDL_ClearHints() is just used for cleanup at shutdown.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6313

commit 19ecb64e0dfea5616798f77d8262715f0d722038
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 10:18:57 2022 -0700

    Fixed build

commit bd6afc2317b8f825c259b1593cda31a9f592408f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 10:15:39 2022 -0700

    Fixed sensor axes in vertical mode

commit b4c25f57141c42e7d6022b5ca65f547f344a1b29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 09:51:05 2022 -0700

    Remapped the side button and trigger as paddles for the mini-gamepad mode of the Joy-Cons
    
    This is the only case where the mapping differs between right and left Joy-Cons in mini-gamepad mode. The left Joy-Con will have the left paddles and the right Joy-Con will have the right paddles. This facilitates co-op gameplay with individual actions while still using the normal mini-gamepad mode.
    
    The paddles are used for this because conceptually they are more awkward to hit than the normal controls and they are in roughly the correct hand position.

commit f58a6506a12ce7b086592fbf356710c5ca4e180c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 09:50:27 2022 -0700

    Added paddle mapping for combined Joy-Cons

commit 37dfa2629b9871f9b45d365dae4e723b6a37a9dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 09:36:50 2022 -0700

    Added paddle mapping for combined Joy-Cons

commit a00565b8ba13fd46c6708b68091ec6ad9cdd891c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 09:08:39 2022 -0700

    Fixed displaying more than 18 buttons

commit 6c8bf3af4c57776cd8463bf7c2ee3058204fa99d
Author: Happy Harry <36951436+happyharryh@users.noreply.github.com>
Date:   Mon Oct 3 00:19:34 2022 +0800

    Add vertical mode for Nintendo Joy-Con (#6303)
    
    * Added support for vertical mode for Joy-Con controllers
    * Added the hint SDL_HINT_JOYSTICK_HIDAPI_VERTICAL_JOY_CONS for switching to this mode
    * Added support for SL/SR buttons in combined/vertical mode and L/ZL/R/ZR buttons in mini-gamepad mode

commit 0672dc8d8f6e22789351136a8addc730080797f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 2 08:48:38 2022 -0700

    Fixed combined Joy-Cons after https://github.com/libsdl-org/SDL/commit/aa2e2f4843567cfe4e6f2f4ffa3f0b74dd98f1ba (thanks @happyharryh!)

commit bac54b3d267d50bd5092ead26ea2064270a2fabc
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 17:45:36 2022 +0200

    Android: add script for building prefab archive

commit 5e654a4bf28f30795f10727df7bec133dde8dfc0
Author: Aaron Barany <akb825@gmail.com>
Date:   Sat Oct 1 16:10:46 2022 -0700

    Fixed Mac compile errors when OpenGL is disabled.

commit c29629a5efa1b460a2058cffb007610854872fe9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 1 04:25:40 2022 +0300

    fix permissions of Android.mk

commit 6acc7a5622a6962538907dc144ebfc4fedc1124d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 30 17:45:08 2022 -0700

    Mark the editbox as multi-line so the return key is always visible
    
    Fixes https://github.com/libsdl-org/SDL/issues/6170

commit 257cacab183b312bbe60bd7967eee44a3ad7be85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 30 17:25:58 2022 -0700

    Android text input now works like iOS, where you get text in progress and then backspaces and new text if autocomplete changes it or the IME commits it.

commit 28572702bfc77f799ccb5eddd3ae5982f402f042
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 30 17:25:57 2022 -0700

    Properly backspace over text that was entered when autocorrect updates text with the iPhone on-screen keyboard

commit e6640ef2d46a1baa34b4d893df661d17f0070b76
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 30 14:53:07 2022 -0400

    coreaudio: Possibly fixed another shutdown race condition.
    
    Reference Issue #6159.

commit 7567c4cb00d66818779466deed7721a470a50d3b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 30 21:51:11 2022 +0300

    revert executable permissions from Android.mk

commit 82e341bc9e914e753fe7842834d37b16aebc4ad5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 30 11:40:29 2022 -0700

    Android: use real editable text and mimic the edit operations to generate key events
    
    This fixes issues where the IME and the output would get out of sync

commit 1b895912a217e80aa8e2ac1c6377a018579d1c0a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 30 14:23:36 2022 -0400

    docs: Note the lowest supported Emscripten version.
    
    Reference Issue #6304.

commit cfab203f91239a039be49a953242ad07db032b6d
Author: Sam Clegg <sbc@chromium.org>
Date:   Thu Sep 29 07:36:14 2022 -0700

    emscripten: Remove use of EM_ASM from SDL_timer code.
    
    Instead use the native emscripten timer API.
    
    See https://github.com/emscripten-core/emscripten/issues/17941

commit 90e7d05c3b44ff2212574e853c9d12dad332d66e
Author: Charlie Birks <charlie@daftgames.net>
Date:   Fri Sep 30 16:33:10 2022 +0100

    emscripten: drop CanvasPixelArray support from cursor

commit 0c6d5b3ac8b05786128f211d9ec7dd981f34ddb4
Author: Charlie Birks <charlie@daftgames.net>
Date:   Fri Sep 30 16:28:57 2022 +0100

    emscripten: drop CanvasPixelArray support from framebuffer

commit a97d2e695855bf4e747d9943203e100ccebed5a6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 30 10:47:13 2022 -0400

    GitHub Actions: bump Emscripten version used to build to 2.0.31.
    
    Reference PR #6304.

commit 1b52145bad7e5a464a8b617c324ee64829ccac06
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 29 20:51:24 2022 +0300

    Makefile.w32: no need for the description field, we have a *.res already

commit 0d6c4ff6229159cd567eb1d04cab60340f923e7d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Sep 29 11:36:07 2022 -0400

    testaudioinfo: Initialize deviceName unconditionally

commit 1ea1a90edb23266b606984596506f826ade66a2d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Sep 29 10:41:40 2022 -0400

    testaudioinfo: Also test SDL_GetAudioDeviceSpec

commit 40893821f2b9e9826ec12e7c879cfb2d14ac5068
Author: Jarod Hillman <jarod.hillman@icloud.com>
Date:   Thu Sep 29 10:33:07 2022 -0400

    coreaudio: Add support for SDL_GetDefaultAudioInfo (#6277)
    
    Co-authored-by: Ethan Lee <flibitijibibo@gmail.com>
    Co-authored-by: Ozkan Sezer <sezeroz@gmail.com>

commit 69bbe4ce7dde521aca82db398fdc599016e8f030
Author: zll <zll@loongson-pc>
Date:   Thu Sep 29 15:50:50 2022 +0800

    Fix memory leak in VITA_GXM_CreateRenderer

commit e17f0c283c55607ead718e328291a246abe66160
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Sep 27 10:59:28 2022 -0400

    wayland: Call the Wayland hide/show functions directly when changing decoration modes
    
    Calling SDL_HideWindow() to destroy the window is a NOP if the SDL_WINDOW_SHOWN flag was never set. Bypass it and call the Wayland-specific function directly to ensure that the window is always destroyed before switching from server-side to client-side decorations, even if it hasn't been shown yet.
    
    Likewise, call Wayland_ShowWindow() directly when the window isn't explicitly hidden to ensure that it is always recreated since the SDL_WINDOW_SHOWN flag won't be cleared, which, when set, renders SDL_ShowWindow() a NOP.

commit 8bcbdc706c44ec2a36c2c94ec45be49c8b8373e5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 28 17:40:10 2022 +0300

    hidapi, libusb: backport read_thread indefinite loop fix from mainstream
    
    Mainstream commit:
    https://github.com/libusb/hidapi/commit/5ce9051e2f2e65013485bc4c83897610df82f3c9

commit 379d4780559690a9836444aeb5637f60953947be
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Wed Sep 28 10:25:24 2022 +0200

    dbus: guard against uninitialized D-Bus
    
    Before calling any D-Bus related methods we should first ensure that
    they
    were correctly loaded.
    
    In the event where `LoadDBUSLibrary()` was not able to load the D-Bus
    library, we should just return early, signalling with SDL_FALSE that we
    were unable to inhibit the Screensaver.
    
    Helps: https://github.com/ValveSoftware/steam-for-linux/issues/8815
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit 57b5c9107e0c729b89e46cce2baa109a80642109
Author: Eric Curtin <ecurtin@redhat.com>
Date:   Wed Sep 28 12:38:32 2022 +0100

    kmsdrm: only negative devindex's are not allowed
    
    ad874536 removed an unnecessary limit as we *can* have a devindex
    greater than 99, this error message does not reflect the support for
    values greater than 99.

commit 508cc225a7178f6a21800805cfa485b9c13a81b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 28 10:17:39 2022 -0400

    Update README.md

commit f648c000bd381c791f689d3bf73949f09baeaff7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 28 09:37:21 2022 -0400

    build: Fixed some references to renamed test-versioning.sh

commit f6565c329b3f587b76271aa7f4bf72f0acaea643
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 28 09:27:45 2022 -0400

    coreaudio: Remove redundant variable.

commit 411582c710097dbc31b7b3e47ab0eb8cc5568b8c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 28 09:22:17 2022 -0400

    coreaudio: Don't crash on shutdown in a race condition.
    
    Fixed #6159.

commit d843d61cc1173227561023240e315733a288fdd5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 28 09:09:21 2022 -0400

    Moved test/versioning.sh to build-scripts/test-versioning.sh
    
    Reference Issue #6171.

commit 4471d22eb60e76af8611b86dcceebf2edf11cf4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 01:10:23 2022 -0700

    Updated iOS demos Xcode project

commit 13c443f2241b13d29e1697de3d2ac261a686d3f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 01:10:10 2022 -0700

    Removed obsolete search path setting

commit 26997bc153b25411806f92efe0c7ea529e6d6fc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 00:52:39 2022 -0700

    Removed unused framework entries from the Xcode project

commit 229315b014529d48ec7b067741283dedddb1c0b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 00:06:06 2022 -0700

    Updated SDL Xcode test project to build for iOS and tvOS
    
    Tested with Xcode 14.0.1

commit bb74af1e1123c38fd0b39024b4f44c06fe5e2b70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 00:01:54 2022 -0700

    Allow including SDL_uikit_main.c in Apple multi-platform builds
    
    This file just won't do anything on macOS

commit 3a6b4835f8a8cf2b987734f89b589fe320555c3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 27 22:28:28 2022 -0700

    Updated macOS Xcode test programs

commit 8e14647759da0fbe90b32a798f55c58a406f1a69
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 27 22:03:26 2022 -0400

    build-scripts: Added update-version.sh
    
    Fixes #6171.

commit a2c57573567035be56ff1d2e446856aaf9ccd0c8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 1 10:47:24 2022 -0400

    video: check for "software" with SDL_HINT_FRAMEBUFFER_ACCELERATION.
    
    We check for this value elsewhere but not in SDL_CreateWindowFramebuffer.

commit d76f0cc753c15168400e308ae72aeb64124008f0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jun 18 12:54:18 2022 +0200

    Android.mk: Build android SDL2.so with `-Wl,--no-undefined`

commit 70214ed3edba941cc0c0aadf0f435dc36fd29d08
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 17 02:58:45 2022 +0200

    cmake: append to CMAKE_MODULE_PATH instead of overwriting

commit a193a03d81ea0748983d4eeb12d2704a6e818264
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 17:33:49 2022 +0200

    cmake: add -Wno-declaration-after-statement to cpu-features.c alone

commit 7becbd7d4297c99708e984757e8fcd2233cbe1a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 27 12:58:16 2022 -0700

    Add joystick locking for controller notifications on iOS/tvOS
    
    Fixes https://github.com/libsdl-org/SDL/issues/6288

commit 18eb319adcba169c73bff27a13abe8a7ea08b0ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 27 12:34:03 2022 -0700

    Added sensor timestamp for Nintendo Switch controllers

commit 5e3a40309e8e968d1d9c484dfb8e0bfbc80bcda6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 27 11:36:01 2022 -0700

    Added sensor timestamp for Steam Controllers

commit 57b20e7b9e35225ffd0aa6439d28a9fb51b2c75f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 27 14:23:42 2022 -0400

    cocoa: Fix new windows setting SDL_WINDOW_BORDERLESS flag incorrectly.
    
    Fixes #6172.

commit 77c7836c26654d789989d451e9f5fda589845be9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 27 20:21:24 2022 +0300

    fix vita build failure after commit 2c518747b

commit 36e76701435125d5eadf6d024e2d947e0f46b7d3
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Sep 27 16:57:17 2022 +0000

    Sync SDL wiki -> header

commit 2c518747b9cf45c1b94c570c19912e04476e8eed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 27 09:56:02 2022 -0700

    Added microsecond timestamp to sensor values for PS4 and PS5 controllers using the HIDAPI driver

commit d71df6448b04d756555d9d9d285ba4c36b7e9f61
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Sep 27 10:21:15 2022 +0200

    Fixed bug #6287 - SDL_FillRect failed for SDL_Surface with BitsPerPixel == 4

commit 1e1be0b954d5d4cb62da38655f229fe2781ded41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 23:00:58 2022 -0700

    Updated logic to match between PS4/PS5/Switch controllers

commit 8c40a6b0c74a92754bc3918e35e40072dcc5cc92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 22:47:21 2022 -0700

    Drop PS5 Bluetooth reports that fail CRC check

commit db075ff3ba74343aed64ad0be27e1479ef93ed48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 22:45:01 2022 -0700

    Removed unused variable

commit 2ccdd0667a6e181fd7f2cbfc3895c208e35fa6c8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 22:32:57 2022 -0700

    Handle DS4 dongle controller connection and disconnection
    
    We also drop Bluetooth packets that fail the CRC check, as recommended by Sony

commit 653e433c08eaf48648211bca5f4148db10fa8b19
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 03:15:04 2022 +0200

    cmake: only add -Wl,--undefined=WinMain when building an executable

commit 18046b9aa3dabcc9bdc8d90c47c0721b25e032a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 20:53:50 2022 -0700

    Fixed crash with a NULL serial number

commit 67fa6a935f05799a471a42601d9be19fc21f4c1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 20:49:26 2022 -0700

    Don't wait a long time for zombie Bluetooth controllers
    
    If a Nintendo Switch Pro controller is turned off, it will leave the controller connected in Windows, but not responding to reports. Don't wait a really long time trying to get information from a controller in this state.

commit 67db8a9103030ee1a3a54053381b4074ffe0c099
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 20:41:51 2022 -0700

    Wait for input before reconnecting a Bluetooth device
    
    On Windows, the Bluetooth device can remain in a connected state if the controller just shut down. It won't return any errors, but it also won't generate any input reports in this state, so wait until we know for sure that the Bluetooth controller is sending data before letting the application know it's available.

commit 71fb91f7e43c5f046a037bf5ca59214d93fe2d51
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Sep 26 21:38:09 2022 -0500

    evdev: Fix build with libudev and joystick subsystem disabled

commit 2cc91761375faea39901672951ce3746ea562e76
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 18:52:26 2022 -0700

    Removed debug logging

commit 2c98c8af01cf5903bac1ae155adee049e1dacf87
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 18:39:18 2022 -0700

    Use better default values for Switch controller calibration

commit a205c5e26cbac402c73eb52bf7e42a7d478d156a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 18:18:16 2022 -0700

    Use separate extents for simple and advanced reports

commit 2f9c9b5f80e0a19d7b7dabc4504f08c0ebd65140
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 02:30:43 2022 +0200

    cmake: make sure check_* uses 2 different variables for clock_gettime

commit 81d3266766e6b87fa8c27e508e6606b442956300
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 01:59:37 2022 +0200

    cmake: make sure check_* uses 2 different variables in CheckX11

commit a9524ffa9d0dbe4b5bb9f2a857033ab6c2296336
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 01:52:28 2022 +0200

    cmake: make sure check_c_source_compiles uses 2 different variables in CheckOSS

commit bfecd78159436d89c88788e09ef2e84f709a1855
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Sep 27 01:08:04 2022 +0200

    cmake: use check_symbol_exists to check dlopen + need for dl library

commit 4e375996d3c935e78fe7f83fd12cc529d7b0eb80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 17:06:18 2022 -0700

    Added a hint to return the version in the old format
    
    Workaround for https://github.com/libsdl-org/SDL/issues/6177 for games that can't be updated.

commit b7fddb4c0ea2a7d4fcf512ca2ddfd82afd13d6a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 14:39:51 2022 -0700

    Minor tweaks

commit 39adcc0a6bfadaa6c6b4f02a6238a19365a0887f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 14:20:34 2022 -0700

    Prefer USB input over Bluetooth for PS5/PS5/Switch controllers
    
    Nintendo Switch controllers will automatically turn off Bluetooth when connected over USB, but this takes care of that a little more quickly.
    
    PS4 and PS5 controllers will happily send reports over both Bluetooth and USB, so we'll prefer USB if connected and switch back to Bluetooth if USB is disconnected.

commit 17d7d03adf6aeb090f5689e6aa0f31d690a3e39f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 26 08:12:35 2022 -0700

    Added detection of the joystick type for third party PS4 and PS5 controllers

commit 6b75a592a49a9c864c88078f8aebaba7ca22b852
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 24 20:01:04 2022 +0300

    autotools: revised and silenced esound detection a bit.

commit 3a6b7c9c69323bc976db2c1b798db0bc3d0d73b7
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Sep 24 16:55:10 2022 +0100

    testiconv: Print the total number of errors at the end

commit 8d2cb1555e4a81778f5022b3e6844f2643501e79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 16:56:24 2022 -0700

    Added an entry for the ZEROPLUS P4 Wired Gamepad

commit cb063db64f8195b9192f86f12ece2b9762d0d7b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 16:52:37 2022 -0700

    Moved XInputPS4 controllers into the PS4 controller section

commit 5b3b7e6e7c69df020118307f40ddd189aec680c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 16:46:36 2022 -0700

    Separated PS4/PS5 effects support into individual capabilities

commit 33619aa2e9749251b161f62e310611063754751b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 16:38:15 2022 -0700

    Added support for the ZEROPLUS P4 Wired Gamepad to the HIDAPI driver

commit e888c99fa6d6fb343254ad424ad05652757114c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 16:26:41 2022 -0700

    Fixed the entry for the Nacon PS4 Compact Controller

commit 4ea64fee9feefca1b132127e557c4e37cb774b1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 15:28:32 2022 -0700

    Fixed manufacturer/product name deduplication for the Razer Raiju Tournament Edition controller

commit 56b91ea72069763512bd2128d3b1c485de3c581a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 15:27:40 2022 -0700

    Fixed feature detection for the Razer Raiju Tournament Edition controller

commit f6c9b06562009d184d953d6207f4bcd7c659c989
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 23 23:56:04 2022 +0300

    cmake: output libSDL2-2.0.0.dylib like autotools, not libSDL2-2.0.dylib.
    
    libSDL2-2.0.dylib is now installed as a symlink to libSDL2-2.0.0.dylib :
    
    $ ls -l *.dylib
    -rwxr-xr-x. 1 ozkan ozkan 1755488 Sep 23 23:53 libSDL2-2.0.0.dylib
    lrwxrwxrwx. 1 ozkan ozkan      19 Sep 23 23:53 libSDL2-2.0.dylib -> libSDL2-2.0.0.dylib
    lrwxrwxrwx. 1 ozkan ozkan      17 Sep 23 23:53 libSDL2.dylib -> libSDL2-2.0.dylib
    
    Reference issue: https://github.com/libsdl-org/sdl12-compat/issues/217

commit 4a06cc0f75af431d1eb05e4d5cbbdd34bdc1e1fc
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Sep 22 13:03:09 2022 -0400

    wayland: Apply modifier changes to the text of repeated keys
    
    The text component of a repeated keystroke is initially set when a key is first pressed and the cached value remains static until the repeated key is released and another repeatable key is pressed. If the state of a modifier such as shift or capslock is changed while a key is being repeated, the text emitted will not have the modifier applied to it until the repeated key is released and pressed again.
    
    Update the text to be repeated by a key if a modifier is changed while a key is actively being repeated.

commit 467c82c77113ed4d77325d0b961a1f5bb7ac9c60
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Sep 23 12:31:40 2022 -0400

    wayland: Add mappings for the Escape and NumLock keys
    
    The XKB keysym to SDL keycode mappings were missing for the Escape and NumLock keys, which prevented them from being remapped. Add them to the table so that the remapping of these keys will work.

commit 34f928abb77220c51f3100cf4539a356de9c9a29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 09:26:18 2022 -0700

    Generate the correct name for ASTRO Gaming controllers
    
    Manufacturer "ASTRO Gaming" and product "ASTRO C40" turns into "ASTRO C40"

commit 6ddef7c2345807548bfa098c3d4b8212330fe803
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 09:20:27 2022 -0700

    Generate the correct name for Qanba and Mad Catz controllers

commit c2ae2ccc3258b6e75d943e00def6fc22cc5ff0b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 09:10:51 2022 -0700

    Added feature support for the Razer Raiju to the HIDAPI driver

commit 5ea9886bcfabe2a421684d53917ff22f7f1bbcec
Author: UnknownShadow200 <unknownshadow200@gmail.com>
Date:   Fri Sep 23 13:19:22 2022 +1000

    haiku: Fix when screen color depth was 24 bits, SDL_GetWindowSurface would always fail with 'Unknown pixel format' error
    
    Note that returning SDL_PIXELFORMAT_BGR24 instead of SDL_PIXELFORMAT_RGB24 seems necessary, otherwise when running with SDL_ACCELERATION=0, the red and blue channels of the window appeared swapped.
    Note that when running with acceleration enabled, red and blue channel swapping does not happen regardless of whether SDL_PIXEL_FORMAT_RGB24 or SDL_PIXEL_FORMAT_BGR24 is returned.
    
    For good measure, I also tested running with acceleration disabled in both 15 and 16 bit color depths, but red and blue channel swapping did not occur

commit 51fefd1c35746258ab427a18e731d15d9df7c339
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 02:39:35 2022 -0700

    Added support for third party PS3 controllers to the HIDAPI driver

commit 5b4c10fc7bee682146f926750c11aeb7ea7e5c65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 02:36:53 2022 -0700

    Return true from IsSupportedDevice if it's a device that we _might_ support
    
    This forces an update of the device list so we have the correct state when we check to see whether a device is being handled by HIDAPI

commit 1d34a5249d03db9dbc288b9362a2b51bfe57927b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 00:38:23 2022 -0700

    Fixed shadowed variable warning

commit 010d3e6442cb8cb54139af6b6fd6c1629b670e4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 00:36:46 2022 -0700

    Fixed function prototype mismatch

commit b7940c29cc756dd3126dd796727950cd35392249
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 23 00:15:40 2022 -0700

    Allow HIDAPI controllers to override the default joystick type

commit 899a1e7cbab8ed2b7500d18f52cce12369671621
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 23:54:26 2022 -0700

    Skip PS4/PS5 probe message if we already know it's a supported controller

commit fa2063fb44d42d4894fbab55d62ff8c09186b47a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 23:42:25 2022 -0700

    Improved detection of third party PS4 and PS5 controllers

commit 7312b93d3202b77d5e00a9f282fa815cb7d994b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 22:50:28 2022 -0700

    Fixed crash if a game controller is disconnected while the connect message is in flight

commit aa2e2f4843567cfe4e6f2f4ffa3f0b74dd98f1ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 18:22:17 2022 -0700

    Make sure HID devices can be opened before making them available to the application
    
    This prevents a number of issues where devices are enumerated but not actually able to be opened, like https://github.com/libsdl-org/SDL/issues/5781.
    
    We currently leave the devices open, allowing us to more easily do controller feature detection, protocol negotiation, detect dropped Bluetooth connections, etc. with the expectation that the application is likely to open the controllers shortly.

commit 2857e3c74898c2a58d9314d4cfbbcf96a64aa27e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 15:53:32 2022 -0700

    Added an entry for the Mad Catz FightStick TE 2+ PS3

commit 6812f1b5d7d1e75d26d52982d6e8a4865a5c14b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 15:16:34 2022 -0700

    Fixed the entry for the HORI Fighting Commander 4 in PS4 mode

commit 99e85cc27b3141d26b785efe1c180402b0f1a063
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 10:10:20 2022 -0700

    Accidentally reverted https://github.com/libsdl-org/SDL/commit/172865ff137532123ec06177119be163ba1811f5

commit 6cbdc666509e7a9fb581cf2fcb6c348e20eae6ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 09:05:06 2022 -0700

    Fixed use of uninitialized 'size' variable (thanks @ozkan!)

commit 0c4594ac72eadd9be29b5612cf5d23046a7694f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 22 06:45:46 2022 -0700

    Improved PS4 and PS5 third-party controller feature detection

commit 399cb2f0de2dc840bddba71133a7b54a5ae69ac8
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Sep 21 13:20:39 2022 -0400

    wayland: Only clear the key repeat flag when the repeated key is released
    
    If multiple keys were simultaneously depressed and one was being repeated, the repeat flag was being cleared when any of the pressed keys were released, even if the released key wasn't the one being repeated.
    
    This tracks the key currently being repeated and only clears the repeat flag when the particular key being repeated is released.

commit eb25f6c912de0d03f3ea4f1f587451a48d36a813
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 21 14:22:38 2022 -0700

    Fixed Xbox platform name, courtesy of @walbourn

commit 098a7a043ebe24d158ce21eb015118ba14f15347
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 21 10:37:02 2022 +0300

    add missing quotes to the fallback CHECK_OBJC_SOURCE_COMPILES macro
    
    Closes:  https://github.com/libsdl-org/SDL/issues/6268 .

commit 00b67f55727bc0944c3266e2b875440da132ce4b
Author: zhailiangliang <zhailiangliang@loongson.cn>
Date:   Wed Sep 21 10:30:38 2022 +0800

    Fix potential memory leak in GLES_CreateTexture

commit 301912a5b96121b4cd40102b741f1921ca8cc598
Author: past-due <30942300+past-due@users.noreply.github.com>
Date:   Sun Sep 18 21:25:55 2022 -0400

    Fix: Use WIN_ClientPointToSDL for converting additional mouse coordinates

commit 08a331847b3fa241fda67b2160ec715179472100
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Sep 18 21:40:15 2022 +0300

    Vita: fix controls on PSTV with opened IME

commit db225dec413c1b637edd61b915f5f066a3dd38d0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 20 20:03:20 2022 +0300

    autotools: stop using AC_FUNC_MEMCMP and AC_FUNC_STRTOD
    
    Closes:  https://github.com/libsdl-org/SDL/issues/6266 .

commit dc2a682a821fa6b67236b117c6061642721d9967
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 20 09:22:43 2022 -0700

    Use the right kind of 0

commit 24619306015859c21df14194c0310884e2ab1508
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 20 09:16:10 2022 -0700

    Fixed build on RISC OS

commit 887ae0c6eb9a10ee8f76a1465f5788077e650639
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 20 18:20:00 2022 +0300

    fix build failure after commit 2a8d00634ddf if strtod isn't available.

commit 2a8d00634ddf4ece71c11ec664996ed8ea05205b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 20 07:25:49 2022 -0700

    Fixed scanning a negative number as an unsigned value
    
    e.g. sscanf("-1", "%zu", &v)
    
    Thanks to @sezero for the test case

commit 3f5c46663ece98872badf50e5743fcbfc7e07d1b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 20 11:56:40 2022 +0300

    SDL_vsscanf: fix an uninitialized warning

commit 216e3f10bb18022049235c7c82c38d5b4d8dbd4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 19 15:42:11 2022 -0700

    Implemented size_t format specifiers for SDL_snprintf() and SDL_sscanf()
    
    Fixes https://github.com/libsdl-org/SDL/issues/6264

commit c70ffc2a3574a4ad5ccb43f654ebce1c9b25b140
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 19 15:34:17 2022 -0700

    Added size_t format specifier test coverage for SDL_snprintf and SDL_sscanf

commit 101306edcfbf71e41f8c325136cc9abe34a318b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 19 14:37:10 2022 -0700

    Do case insensitive matching on test cases

commit 3b20e0ecef9623cac2fba60b9113be1d9ef5f255
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Sep 19 02:38:36 2022 +0200

    cmake: only add -Wl,--undefined=WinMain when building an executable

commit c83329481760b9f587e2cf3482e8590339852db9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Sep 18 17:33:04 2022 +0300

    tests, watcom:  silence lots of W202 warnings from new vulkan headers.

commit 8598f05b473be7ed6b41c72c3ad690d003e2ef8c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Sep 17 21:45:08 2022 +0100

    Support loading 2bpp .bmp files

commit 1f7a7fd9319e39f3b662a610dbce4f7e8c33affa
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Sep 17 21:30:40 2022 +0100

    haiku: Combine HAIKU_ColorSpaceToBitsPerPixel and HAIKU_BPPToSDLPxFormat

commit dd51787e07a307fb0aa82f0ac36086690b4aeb89
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 8 15:53:25 2022 +0100

    Fix SDL_PIXELFORMAT_INDEX1LSB test case

commit 43fc6d593f9dd2bc81ee866a94956ec39c58c3bc
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 8 15:53:54 2022 +0100

    Fix incorrect return value in X11_GetPixelFormatFromVisualInfo

commit 202dfea5022b4eb997b74632a18a32b65f70f9b1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Sep 17 14:12:13 2022 +0300

    Vita: drop memory defines

commit 7115ceb7756b4707781acea03fcf366b4f0e21f6
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Sep 17 11:52:19 2022 +0300

    Vita: restore sceClibMemcmp

commit 2e9f5b5989c5140f47ce3ada603c1ae32d555f01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 15:41:35 2022 -0700

    Added support for the HORI Fighting Commander OCTA (Xbox Series X and PS versions)

commit 5fba31f6fba62e3c3199444865da9f6d460e2fc9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 17 00:51:00 2022 +0300

    SDL_HasPrimarySelectionText: fix -Wunreachable-code-return warning.

commit efe01faa8e6597392aacae946e140d84ad8fae4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 10:08:31 2022 -0700

    Replaced Blit4to4CopyAlpha() with optimized SDL_BlitCopy()
    
    Fixes https://github.com/libsdl-org/SDL/issues/6241

commit c0baa6bf5e31347716fdb5927c1583d5d48e2023
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 16 20:03:50 2022 +0300

    move SDL_windowstaskdialog.h contents into SDL_windowsmessagebox.c
    
    Silences clang -Wpragma warnings:
    
    D:/a/SDL/SDL/src/video/windows/SDL_windowstaskdialog.h:21:10: warning: the current #pragma pack alignment value is modified in the included file [-Wpragma-pack]
    #include <pshpack1.h>
             ^
    D:/a/_temp/msys64/clang64/include/pshpack1.h:7:9: note: previous '#pragma pack' directive that modifies alignment is here
    #pragma pack(push,1)
            ^
    
    In file included from D:/a/SDL/SDL/src/video/windows/SDL_windowsmessagebox.c:35:
    
    D:/a/SDL/SDL/src/video/windows/SDL_windowstaskdialog.h:156:10: warning: the current #pragma pack alignment value is modified in the included file [-Wpragma-pack]
    
    #include <poppack.h>
    
             ^
    
    note: previous '#pragma pack' directive that modifies alignment is here
    
    2 warnings generated.
    
    Closes: https://github.com/libsdl-org/SDL/issues/6240

commit 82b40f097b0263837292763c36d4b6a6423e1548
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 09:55:20 2022 -0700

    Fixed runaway CPU usage in the metal renderer when the window is minimized

commit 5892ed4373791ce229d2f4d8bf1203da43be29db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 09:44:39 2022 -0700

    Fixed Xcode warnings on macOS

commit 910d499c549f8673230f28b54a625cacb5341b89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 09:19:20 2022 -0700

    Fixed comment typo

commit 172865ff137532123ec06177119be163ba1811f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 09:16:18 2022 -0700

    Don't enumerate HID devices on macOS if we don't have input monitoring permissions
    
    Unfortunately the only way to detect this is to actually try opening a device, so we wait until the application tries, and then stop enumerating afterwards.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5781

commit eb046958da719ad8c142cc96eda2c244e5b2522e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 08:19:45 2022 -0700

    Fixed build warning

commit 8fc133ac2c4f4ef5ff57185f23cd50f79e548fe1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 08:18:42 2022 -0700

    Updated Xcode project with new offscreen video driver files

commit e2753e19e8b09a5f2bfa7b7ce493e7e022dedba4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 08:02:14 2022 -0700

    Calculate simulated vsync interval based on display refresh rate

commit 208964f038210c6076a6916315420b05ff9435a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 07:05:55 2022 -0700

    Reset the simulated vsync presentation timeline if it's been too long since the last present

commit 1663cb41961baa288ac7400286eef3df90b31295
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 06:30:19 2022 -0700

    Reset simulated presentation timeline when vsync status changes

commit d744aafb0587f8a4917287df8d2e891871e0b324
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 01:00:12 2022 -0700

    Added support for simulated vsync in the renderer
    
    This kicks in if the platform doesn't support vsync directly, or if the present fails for some reason (e.g. minimized on some platforms)
    
    Fixes https://github.com/libsdl-org/SDL/issues/5134

commit 339f7a2f6b7e81023d7247b4d89e0622cf597d98
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 16 17:28:20 2022 +0300

    SDL_windows.h: guard WIN32_LEAN_AND_MEAN and STRICT macro defines.
    
    also define them as 1, instead of empty.
    Reference issue: https://github.com/libsdl-org/SDL/issues/6239

commit c23fb235c8ed9eda0949e4b63de4ac7048dc236b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 16 17:20:56 2022 +0300

    SDL_render_d3d12.c: Fix uninitialized warning for CreateEventExFunc

commit d86cb8ec9ef83e48f99c644d127373cf60a67046
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 16 17:05:02 2022 +0300

    SDL_offscreenwindow.c: swap include order of SDL_egl_c.h/SDL_sysvideo.h
    
    Fixes redefinition warnings from windows builds.
    Reference issue: https://github.com/libsdl-org/SDL/issues/6239

commit 5bc85d67880a3bc8f67a9a451eca41f99a47de92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 06:15:45 2022 -0700

    Only advertise the SDL_PIXELFORMAT_EXTERNAL_OES format if we can build the shader for it

commit 6de15ffcd6a5885faf82c94127524673dab9169f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 12:04:08 2022 -0700

    Fixed building offscreen video driver without EGL support
    
    Also did miscellaneous style cleanup for consistency with other code

commit cc9638f2f7b97d04181fb60f79ed03595e9d1d62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 11:08:00 2022 -0700

    Regenerated configure

commit 37effc77001e54b89348066e4e673e6bc2f9c14a
Author: quyykk <quyykk@protonmail.com>
Date:   Thu Sep 15 19:39:35 2022 +0200

    Build the offscreen video driver by default.

commit 2970710b5dbdcf2f2fa674c29ada6e458e2c4149
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 07:41:29 2022 -0700

    Pretty print shaders for debugging purposes

commit bc57d3e35ce0067a1098ef72857351fcf93469b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 06:57:41 2022 -0700

    Fixed OpenGL ES shader compilation on Linux

commit 8a15a738f33f4cf1684d01e8b777e8b58fe393a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 06:21:19 2022 -0700

    Fixed uninitialized variable warning

commit 61201e06efc279749d5542a79a5fb80bd5d8b989
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 06:17:49 2022 -0700

    Removed obsolete extension definitions
    
    Fixes https://github.com/libsdl-org/SDL/issues/6231

commit 6dec78ed11b0cf2a1a182e1de2ff36a3608947a5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 15 11:55:04 2022 +0300

    fix permissions of SDL_opengl_glext.h

commit 2e24708af2c855266e5c123995d36111b42228b7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 15 11:23:50 2022 +0300

    Makefile.w32: silence lots of W202 warnings from new vulkan headers

commit c49faabb6db6c50b1df9f72d8271519e3171539e
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Sep 14 16:29:16 2022 +0000

    Sync SDL wiki -> header

commit ac5b9bc4ee560e6280044803aee5f651d2e39048
Author: DS <vorunbekannt75@web.de>
Date:   Wed Sep 14 18:28:35 2022 +0200

    Add support for X11 primary selection (#6132)
    
    X11 has a so-called primary selection, which you can use by marking text and middle-clicking elsewhere to copy the marked text.
    
    There are 3 new API functions in `SDL_clipboard.h`, which work exactly like their clipboard equivalents.
    
    ## Test Instructions
    
    * Run the tests (just a copy of the clipboard tests): `$ ./test/testautomation --filter Clipboard`
    * Build and run this small application:
    <details>
    ```C
    #include <SDL.h>
    #include <unistd.h>
    #include <stdbool.h>
    #include <stdio.h>
    #include <stdlib.h>
    #include <time.h>
    
    void print_error(const char *where)
    {
            const char *errstr = SDL_GetError();
            if (errstr == NULL || errstr[0] == '\0')
                    return;
            fprintf(stderr, "SDL Error after '%s': %s\n", where, errstr);
            SDL_ClearError();
    }
    
    int main()
    {
            char text_buf[256];
    
            srand(time(NULL));
    
            SDL_Init(SDL_INIT_VIDEO);
            print_error("SDL_INIT()");
            SDL_Window *window = SDL_CreateWindow("Primary Selection Test", SDL_WINDOWPOS_UNDEFINED,
                            SDL_WINDOWPOS_UNDEFINED, 400, 400, SDL_WINDOW_SHOWN);
            print_error("SDL_CreateWindow()");
            SDL_Renderer *renderer = SDL_CreateRenderer(window, -1, SDL_RENDERER_ACCELERATED);
            print_error("SDL_CreateRenderer()");
    
            bool quit = false;
            unsigned int do_render = 0;
            while (!quit) {
                    SDL_Event event;
                    while (SDL_PollEvent(&event)) {
                            print_error("SDL_PollEvent()");
                            switch (event.type) {
                            case SDL_QUIT: {
                                    quit = true;
                                    break;
                            } case SDL_KEYDOWN: {
                                    switch (event.key.keysym.sym) {
                                    case SDLK_ESCAPE:
                                    case SDLK_q:
                                            quit = true;
                                            break;
                                    case SDLK_c:
                                            snprintf(text_buf, sizeof(text_buf), "foo%d", rand());
                                            SDL_SetClipboardText(text_buf);
                                            print_error("SDL_SetClipboardText()");
                                            printf("clipboard: set_to=\"%s\"\n", text_buf);
                                            break;
                                    case SDLK_v: {
                                            printf("clipboard: has=%d, ", SDL_HasClipboardText());
                                            print_error("SDL_HasClipboardText()");
                                            char *text = SDL_GetClipboardText();
                                            print_error("SDL_GetClipboardText()");
                                            printf("text=\"%s\"\n", text);
                                            SDL_free(text);
                                            break;
                                    } case SDLK_d:
                                            snprintf(text_buf, sizeof(text_buf), "bar%d", rand());
                                            SDL_SetPrimarySelectionText(text_buf);
                                            print_error("SDL_SetPrimarySelectionText()");
                                            printf("primselec: set_to=\"%s\"\n", text_buf);
                                            break;
                                    case SDLK_f: {
                                            printf("primselec: has=%d, ", SDL_HasPrimarySelectionText());
                                            print_error("SDL_HasPrimarySelectionText()");
                                            char *text = SDL_GetPrimarySelectionText();
                                            print_error("SDL_GetPrimarySelectionText()");
                                            printf("text=\"%s\"\n", text);
                                            SDL_free(text);
                                            break;
                                    } default:
                                            break;
                                    }
                                    break;
                            } default: {
                                    break;
                            }}
                    }
                    // create less noise with WAYLAND_DEBUG=1
                    if (do_render == 0) {
                            SDL_RenderPresent(renderer);
                            print_error("SDL_RenderPresent()");
                    }
                    do_render += 1;
                    usleep(12000);
            }
    
            SDL_DestroyRenderer(renderer);
            SDL_DestroyWindow(window);
            SDL_Quit();
            print_error("quit");
            return 0;
    }
    ```
    </details>
    
    * Use c,v,d,f to get and set the clipboard and primary selection.
    * Mark text and middle-click also in other applications.
    * For wayland under x:
      * `$ mutter --wayland --no-x11 --nested`
      * `$ XDG_SESSION_TYPE=wayland SDL_VIDEODRIVER=wayland ./<path_to_test_appl_binary>`

commit 72fe6cc8f1cde65bdcec7c5f4b86fc54a2aa5bd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 14 09:14:47 2022 -0700

    Updated to the latest version of OpenGL and Vulkan headers from the Khronos registry
    
    Fixes https://github.com/libsdl-org/SDL/issues/6193

commit b5102a551ba5fa9be806b6988ea32328edff2583
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 14 08:03:46 2022 -0700

    Fixed OpenGLES shaders failing after renderer has been created
    
    Cache all the shaders up front, so we can verify that they won't silently fail at runtime.
    
    If compiling the fragment shaders with the precision hint fails, try again without specifying precision.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6166
    Fixes https://github.com/libsdl-org/SDL/issues/6174

commit 228b9fb5178405138775db55b28a6b6e787d8ce0
Author: xeonmc <77922942+xeonmc@users.noreply.github.com>
Date:   Wed Sep 14 03:43:16 2022 +0800

    Update SDL_windowswindow.c (#6225)
    
    Clip rectangle set to int(left+width/2) , int(top+height/2) , int(left+width/2)+1 , int(top+height/2)+1
    a 1x1 box
    On even-valued resolution, cursor is stable at bottom-right central pixel
    On odd-valued resolution, cursor is stable at exact central pixel.
    this is the desired behaviour

commit 929d5b80c6df9624214ffe688bf019dfbd55977f
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Sep 12 22:39:44 2022 -0400

    wayland: Use the backbuffer size for determining if a resize event is required
    
    In some cases, a backbuffer size update may not be accompanied by a resize event if the window size and/or scale were updated before the new backbuffer size was recomputed. Instead of the scale, use the old/new backbuffer sizes to determine if a resize event is required so that a backbuffer size change will always be followed by a resize event.

commit 4f1b408a7243f9b458ec736d122850d35f44fc58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 12 18:19:02 2022 -0700

    Fixed button mapping for PS5 controllers

commit eb0bf2c29d7ee1fbe0334eec3912306577ec2d3e
Author: Rinnegatamante <rinnegatamante@gmail.com>
Date:   Mon Sep 12 21:52:39 2022 +0200

    vita: Drop memcmp redirect to sceClibMemcmp.

commit 5b2884cb0203cc63bf9753f8b55ea4c6c6f19cfb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 12 20:28:00 2022 +0300

    apply commit d0a3570300812bc81888e7a7eadb9311621dc9a7 to cmake side too.

commit d936499670e4ec46c6f92633b129ab25b2208e75
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 12 20:20:04 2022 +0300

    regenerated configure script.

commit d0a3570300812bc81888e7a7eadb9311621dc9a7
Author: Sam James <sam@gentoo.org>
Date:   Mon Sep 12 18:02:21 2022 +0100

    configure.ac: fix configure tests broken with Clang 15 (implicit function declarations)
    
    Clang 15 makes implicit function declarations fatal by default which
    leads to some configure tests silently failing/returning
    the wrong result.
    
    Signed-off-by: Sam James <sam@gentoo.org>

commit 7f415ce5879ad607b33e644e4b9e34ededfa51b2
Author: Amir <amkad87@gmail.com>
Date:   Mon Sep 12 20:09:00 2022 +0400

    android: fix some compiler warnings

commit 6dfd7a17e1d9ea94015bb0fda4c570f8b20781bd
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Sep 10 15:53:11 2022 +0200

    cmake: forward HAVE_LIBUSB to HAVE_HIDAPI_LIBUSB

commit c3495ec6eaaaf9f0d3250a9d39356154b869251c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Sep 10 14:11:19 2022 +0200

    Fix value of SDL_HIDAPI_DISABLED

commit 19b13aab98ef02c93ed356af639d1e4ed0254906
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Sep 10 13:41:29 2022 +0200

    cmake: mark hidapi as disabled when not found

commit edfb00c25e77434c871ad3582aa971a4f203ba44
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Sep 9 14:26:44 2022 -0400

    wayland: Only commit on move if the display was changed
    
    Only commit on a move event if the display was changed for a fullscreen window and the compositor has returned bad dimensions.

commit 97a5e744497ff7cc93edc5119d67cad3ee86dd57
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Sep 6 17:08:27 2022 -0400

    wayland: Remove duplicate code
    
    Wayland_SetWindowSize() can be simplified with the common CommitWindowGeometry() function.

commit 78f843f741f50904df0964e6d3da2ed94981b57b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Sep 6 13:19:23 2022 -0400

    wayland: Remove unnecessary function parameter
    
    SetFullscreen() is never called in a case where the commit parameter is false anymore, so the parameter is unnecessary.

commit 69e4c770f3dfb82e36d48adfd0684dbd6d12f677
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Sep 4 12:18:38 2022 -0400

    video: Make the mode switching function a NOP if mode switching is disabled
    
    Instead of wrapping individual calls to SDL_SetDisplayModeForDisplay(), just check the flag in the function itself and make it a NOP that cannot fail if the flag is set. Silences some errant "SDL video driver doesn't support changing display mode" log errors.

commit 768b6728bdd56f6d9e1e96d05beb330d0a6f4572
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Sep 4 23:39:05 2022 -0400

    wayland: Compare against the old scale when resizing
    
    Compare against the old scale instead of the new or the conditional will always be true.

commit 07aea476bacbf9f4ab557d83b535a38ba0868927
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Sep 3 13:30:49 2022 -0400

    wayland: Ignore content sizes from libdecor when hiding a window
    
    When hiding a window, libdecor can report bogus content region sizes that are +/- the height of the title bar. Ignore any size values from libdecor when hiding a window, or the size may be incorrect when restored.

commit 6de12b4a0dc78f9c0dbbad60a717de2f7fcdeb47
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Sep 6 13:30:19 2022 -0400

    wayland: Update the internal state when the compositor moves a fullscreen window
    
    The compositor can arbitrarily move windows between displays, including fullscreen windows. Update the internal state when a fullscreen window is moved so the internal SDL state accurately reflects the window location, and resize the window to fit the new display.
    
    This also fixes an edge case where the compositor can make a window fullscreen on a different display than SDL thinks it will be on (usually when a window is made fullscreen by the compositor while straddling multiple displays), which can result in the window being incorrectly sized.

commit a7d345958d06567f34d11b6c8ddf504157b22ba4
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Sep 3 13:11:29 2022 -0400

    wayland: Trigger a commit on fullscreen update
    
    If additional fullscreen requests are received when the window is already fullscreen, it is typically due to the fullscreen flags or emulated video mode being changed. A commit must be explicitly triggered or the requested changes won't take effect until some other event, such as a resize or focus change, causes the changes to be committed.

commit 707b561f971b3c0c935b64400ae1661ae8772ce6
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Sep 3 12:37:02 2022 -0400

    wayland: Enable compositor fullscreen toggling
    
    The compositor can toggle the fullscreen state (via a hotkey or otherwise), so the internal SDL state must be updated accordingly when it does.
    
    When toggling fullscreen via the compositor, SDL will attempt to use the last fullscreen flag explicitly set. If no flag was previously set, SDL_WINDOW_FULLSCREEN will be used if a window video mode was set, otherwise SDL_WINDOW_FULLSCREEN_DESKTOP will be used. If the previous flag was SDL_WINDOW_FULLSCREEN and the window video mode was cleared, it will revert to SDL_WINDOW_FULLSCREEN_DESKTOP.

commit 31979e2d98d383b5742e8e5ea5022901859d0feb
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Sep 2 18:41:21 2022 -0400

    wayland: Add missing static qualifiers

commit 1c88a0522f3d364fa46de052221aa47300d8e9cd
Author: Taiko2k <captain.gxj@gmail.com>
Date:   Fri Sep 9 16:03:17 2022 +1200

    Update Wayland cursors to match X11 cursors

commit 9f4baeea53b39ef20869a7ccd7d0b8fddba52726
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 20:08:20 2022 -0700

    Clean up thread local storage when quitting SDL
    
    SDL_Quit() should be the last SDL API that you call before exiting your application, and is intended to clean up all internal state.
    
    If real-life applications are relying on thread-local storage after SDL_Quit() we could potentially add a hint to control this behavior.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6200

commit a3900a751e18630f05ce6164c351ade6331548b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 13:59:25 2022 -0700

    Lock joysticks when removing a controller on the WGI thread

commit 12413ab31fce61d436ab9ce18d6a2b964e39d945
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 13:33:04 2022 -0700

    Lock joysticks while attaching a virtual one

commit 787cd580eeefcde30026e29e842eb3e6b236087c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 8 23:00:04 2022 +0300

    silence unused function warning for SDL_endswith() on non-linux.

commit 4071573241f7515c574aa47daeae59f5dfaea2e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 11:50:56 2022 -0700

    Don't try to second guess DS4Windows, let it remap things as expected.
    
    DS4Windows can create both emulated Xbox and emulated PS4 controllers, and we don't know which the user has it doing, so don't try to second guess it, just let it do it's thing. Users should follow the remapping software recommendations on when to enable/disable it for various situations.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6167

commit a0f169603d6fa94bebf4bb963904e1c89333af25
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 09:53:24 2022 -0700

    Fixed the CRC in the mappings for PS2, PSP, and Vita controllers

commit 90a480a1001fdec2d4258f56d688fe9049e171e3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Sep 8 05:44:39 2022 +0200

    Fixed bug #6199 - Broken clip behaviour on a render target (metal)

commit 0ad8d9d2923fbc78211dbc933cf8a239a60417ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 15:31:24 2022 -0700

    SDL_IsXInputDevice() shouldn't return true if XInput isn't enabled

commit d93f9a778b978328a6fcb568c8edad051cccae1b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 12:33:43 2022 -0700

    The new Wii Remote shares the same VID/PID as the Wii U Pro controller

commit f398d8a42422c049d77c744658f1cd2bb011ed4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 11:53:13 2022 -0700

    Note that the Logitech Extreme 3D is a flight stick

commit 0a05b281f235819c36d6c2bc13e313a8e5ea09c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 11:51:16 2022 -0700

    Make sure we hold the joystick lock when updating the device state while opening it

commit d4e0d27c1c21e364d21be3af681f02b05f362345
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 02:02:04 2022 -0700

    Added Wii Remote controller mappings for Linux

commit a7fde3f835a14d354b48b56850d51a02e9755ef0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 01:58:42 2022 -0700

    Allow mapping a controller other than the first one

commit 42cf6d6c56faaa0a4f8876f92b7254176030833e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 01:41:11 2022 -0700

    Don't treat the Wii extension controls as a separate game controller on Linux

commit 87f8b6ff0f89ae572056301b1361a5db9be8b4cb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 01:21:01 2022 -0700

    Don't mess with the state of the Motion Plus extension on Linux

commit c28da4892af928ab0196274115204741a2991c9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 00:52:40 2022 -0700

    Fixed build

commit 638452ecf721d7799d765c9b03d7b594cbbcdd80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 00:44:13 2022 -0700

    Assert that continuous reporting is enabled, so input timeout is a reliable way of detecting Bluetooth connection problems.

commit 8dfe0e4beb3db8bd4cf70ddcbc162cd794b1e72d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 00:41:29 2022 -0700

    Removed checks not needed for the Wii U Pro Controller

commit 4018f35ef2787a3a177f28ec5100510e41691e8a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 7 00:00:27 2022 -0700

    Added left and right sensors for Nintendo Joy-Con and Wii controllers

commit 30f55a5d59342e04eb8a2301955097a911be6f45
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 6 23:33:55 2022 -0700

    Added initial support for the Wii Motion Plus extension
    
    This adds a gyro sensor to the Wii controller, and is enabled in standalone and nunchuk mode

commit 29f4a5ba0eba7bd543739520433a14cab79a3684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 6 15:55:27 2022 -0700

    Add GLES2 shader prologue infrastructure. (by @eloj)
    
    There is supposedly an OpenGL ES2 target that does not support precision specifiers. However, the existing logic to detect this is currently broken in two ways:
    
    1) There's a typo of the `#ifdef` as `#if`.
    2) Checking for `GL_FRAGMENT_PRECISION_HIGH` can not be the correct way to detect this platform. Other targets, including some desktops, will also not have this defined (for various reasons).
    
    Because some of the shader code is missing precision specifiers, and because a default is ONLY provided if `GL_FRAGMENT_PRECISION_HIGH` is set, these other targets break.
    
    Instead of 'hard-coding' the prologue string into shaders in the C source, use our ability to provide a list of strings to `glShaderSource` instead, leaving the determination to run-time.
    
    This commit closes https://github.com/libsdl-org/SDL/pull/6182

commit 4fd6bba2570c755e95e342e61a3e6d03225f6fae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 6 12:29:42 2022 -0700

    Refactored for similarity to surrounding code

commit 5ffede35d94e2ba513114996447df9484e195ac6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 6 19:56:29 2022 +0300

    Fix https://github.com/libsdl-org/SDL/issues/6191

commit 10e1ef00e29479f3ac0ba4d0bf3e0083fca8b2a0
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Sep 6 11:21:57 2022 +0100

    Fix compatibility with Windows XP

commit 911524da45ee2ae44c7c200fdc15c6da7566c3eb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 6 03:15:02 2022 +0300

    fix DYLIB version inconsistencies and test failures after #6188.

commit d1fea10c0f6981b24663dcb68214a440bdc6f45f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 16:08:15 2022 -0700

    Added support for the accelerometer in the Wii Remote

commit a61b823da82e7560378770d9fffeaf9cac2a8646
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 14:31:25 2022 -0700

    Added support for the Wii Remote with the Classic Controller Pro extension
    
    Also changed event order to: buttons, triggers, axes, for consistency with other drivers

commit a0f143fc9379254d7908daf370db0fc6de82c628
Author: tjpadula <tjpadula@earthlink.net>
Date:   Mon Sep 5 13:10:15 2022 -0700

    Add build target to Xcode project to create an xcframework for iOS (#6188)

commit 8a08d62ff701d64d7f40bcea08c01c004e2851e4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Sep 5 21:53:50 2022 +0200

    cmake: fix location of SDL2::SDL2test imported library

commit 181265ba711807c4c7f33db9f7fb2ac5c463bb42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 11:36:20 2022 -0700

    Removed unused variable

commit 23be3ccc2f517e53b3fd8d257e85480f6edb7f33
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 11:25:10 2022 -0700

    Note that we should regenerate configure before running test/versioning.sh

commit acf397b4df6af692c88cb848f3e84d40c9f463bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 11:21:13 2022 -0700

    Actually, DYLIB_COMPATIBILITY_VERSION shouldn't be updated for a stable point release
    
    @smcv

commit 612a86ebad52e97987e45dcc3305d7e8db3a0569
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 5 20:47:00 2022 +0300

    HIDAPI_DriverPS3_UpdateEffects: kill bad use of & operator on effects[]

commit b00e1b1b62451dbdd9815add0474bcd51469a799
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 10:01:28 2022 -0700

    Added support for a ShanWan PS2 -> PS3 USB converter to the HIDAPI driver

commit fd93f817baebdec5fd454402d42244d0c28ecb2e
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Sep 4 17:50:29 2022 +0100

    Assume that stdint.h is available on Windows with compilers other than MSVC <= 2008

commit ef988fe184d9719c56b333ec2b0ff126e8657301
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 08:58:49 2022 -0700

    Only use CETCOMPAT on x86/x64 platforms
    
    Fixes https://github.com/libsdl-org/SDL/issues/6173

commit cf040f888232003621cca52dc11d45c8947e41f1
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Sep 5 16:27:25 2022 +0100

    testmouse: Allow drawing rectangles as well as lines

commit a932581775bdc382f630fede1623b010a585a934
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Sep 5 16:37:34 2022 +0100

    testplatform: Add LSX and LASX checks

commit 5cac6c7eb611140f07b36f6956fce65e0fc9ba70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 08:48:16 2022 -0700

    Note that the Xcode DYLIB_COMPATIBILITY_VERSION should always match DYLIB_CURRENT_VERSION
    
    CMake doesn't need any special handling

commit 4e98ba612b455016aa6d2b084bcb463ba9530b1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 5 08:28:06 2022 -0700

    Set DYLIB_COMPATIBILITY_VERSION to DYLIB_CURRENT_VERSION to match autotools
    
    Autotools sets both versions to the same value, so Xcode and CMake need to match for the libraries to be compatible between the different builds.
    
    See these for details:
    https://github.com/libsdl-org/sdl12-compat/pull/207
    https://github.com/libsdl-org/SDL/issues/2934
    https://stackoverflow.com/questions/67055770/usage-of-current-version-and-compatibility-version-on-macos

commit cbc0d9facccca7f041146728421becb6ae83c251
Author: Érico Porto <ericoporto2008@gmail.com>
Date:   Sat Sep 3 21:22:26 2022 -0300

    test/versioning.sh also tests configure

commit 03485db0a30f0a42b08f398efa58e7ef51e75d0a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Sep 3 23:40:14 2022 +0200

    Android: understand HAL_PIXEL_FORMAT_BGR_565 as a returned value from ANativeWindow_getFormat() (see #6016)

commit 1b4e08b89ec7be7a63d47f8fef30aeab7e7d21ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 17:04:30 2022 -0700

    Added an entry for the Hori Fighting Stick mini 4 kai
    
    This is a PS3/PS4 arcade stick which becomes an Xbox 360 controller on PC

commit 6bcf2c152156989e419f76c3f2d716bdcf5c546d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 15:06:49 2022 -0700

    Fixed spinning at a very high framerate

commit 47f2373dc13b66c48bf4024fcdab53cd0bdd59bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 16:52:55 2022 -0700

    Added locking for Android joystick events

commit e8f6b7503aec01a6010c5f1b26e57e81ada8734a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 15:06:13 2022 -0700

    Added mappings for the ASUS ROG Kunai 3 Gamepad

commit 5770e87cb22137c81c883534bd129ea03106a137
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 13:57:59 2022 -0700

    Fixed regression handling touchpad input with PS5 controllers using the original shipping firmware

commit 253f6a913d232e536e092756732f41b78175d862
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 11:49:06 2022 -0700

    Variable renaming for consistency

commit 5002624e8a299620f3f05657180f1e1a8fa94a3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 11:41:19 2022 -0700

    Fixed crash when extension controllers are hotplugged

commit 7df571ffc63dfe5f6610b70f7cfa7cc2419d06bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 11:37:16 2022 -0700

    HIDAPI_DumpPacket() takes a const memory pointer

commit b6d23d21db888c119e669a966ddc4ee3f947bc28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 11:21:51 2022 -0700

    Fixed interactions with the Linux Wiimote driver

commit 0c984360d1d6155f6f5255dffd749a80c43d17b9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 2 20:02:56 2022 +0300

    SDL_hidapi_wii.c: fix a -Wshadow warning

commit b6b3fb00231ca6bea9b424218625e11c17c9c03c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 09:59:32 2022 -0700

    This was intended to be Uint8

commit 5be157b3a2198d4d647a36508e2fa51b51b16d1c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 2 19:33:40 2022 +0300

    SDL_hidapi_wii.c: fix -Wpointer-sign warnings

commit 54356f41a9ab271b52939b852fe7aff9fb7e002e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 09:03:44 2022 -0700

    Wii: fixed trigger axis reporting for the Wii U Pro Controller

commit a35642fa3e63ff8d23e54a3eb9bdd20328acc588
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 08:58:21 2022 -0700

    Wii: don't bother reading the extension type for the Wii U Pro controller, we already know what it is

commit c3ecb9d099738e4e9e8bc09583e9debfb91018c5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 08:48:36 2022 -0700

    Wii: re-request the status if we get a communication error

commit 0c24b46e9ffc26d734bc7872c8938ccef7315ef8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 2 18:55:00 2022 +0300

    SDL_hidapi_wii.c: fix build in c89 mode.

commit 9874fc4e6a2a56af98544663d05e1dc047f541a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 08:47:15 2022 -0700

    Reconnect as a different controller if the Wii extension hardware changes

commit 5f3cb54972f7fc6d5b292bcfa733046c50a516d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 2 08:28:28 2022 -0700

    Updated Wii support with @tellowkrinkle's changes in https://github.com/tellowkrinkle/SDL/commit/2f288e9d5bf596756f92b6c3c983b79dc783eac6

commit 785d784a9308e395f1617bc14f39d5b2f3639159
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 22:30:05 2022 -0700

    Set the output value for ParseExtensionResponse() in all return cases

commit 046aaa2d211b289725f1ce187b1ff3f088e28bca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 21:37:26 2022 -0700

    Use auto calibration for the Wii Nunchuk thumbstick axis values

commit 8381e008ea7a49441e281f5c4192f9fad88579ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 21:13:16 2022 -0700

    Handle hotplugging of Wii controller extensions

commit 396411c09093660fead7999827e9f0db5ea2bc0e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 20:27:34 2022 -0700

    Added mapping for the Wii Nunchuk extension

commit e19b36d871345f0e452ea414a2b92e122765091a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 19:29:20 2022 -0700

    Initial support for the Wii Remote with Nunchuk extension

commit c887cb02aff071a1698c20e732d26e3e8948d295
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 16:23:32 2022 -0700

    Added the hint SDL_HINT_JOYSTICK_HIDAPI_WII_PLAYER_LED to control whether the player LED should be lit on the Nintendo Wii controllers
    
    Also fixed the Y axes on the Wii U Pro controller, and various formatting cleanup

commit 0ffaf5b871c8cfd895368538eb2e59a122aa89ba
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 2 02:04:20 2022 +0300

    SDL_hidapi_wii.c: fix build in c89 mode and builds using watcom compiler

commit 397672edfea14b1cf3b330280f84e84e8cc31d1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 15:31:03 2022 -0700

    Added SDL_hidapi_wii.c to the Xcode project

commit c72e14e8f496363d76d3ba1743ec54391b7e30e2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 15:29:01 2022 -0700

    Added initial support for Wii controllers (thanks @tellowkrinkle!)

commit 284769633864df4b1395f164dc16d03163973a63
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 1 22:55:00 2022 +0300

    hidapi: really fix dynamic / non-dynamic libusb loading.

commit 9d77945d366fb29320929254cba79c279e36e167
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 1 21:56:50 2022 +0300

    fixed linkage libusb not dynamicaly loaded after commit 3f89d1704d
    
    build/.libs/SDL_hidapi.o: In function `SDL_EnableGameCubeAdaptors':
    src/hidapi/SDL_hidapi.c:1593: undefined reference to `libusb_init'
    src/hidapi/SDL_hidapi.c:1594: undefined reference to `libusb_get_device_list'
    src/hidapi/SDL_hidapi.c:1596: undefined reference to `libusb_get_device_descriptor'
    src/hidapi/SDL_hidapi.c:1604: undefined reference to `libusb_open'
    src/hidapi/SDL_hidapi.c:1608: undefined reference to `libusb_kernel_driver_active'
    src/hidapi/SDL_hidapi.c:1614: undefined reference to `libusb_claim_interface'
    src/hidapi/SDL_hidapi.c:1623: undefined reference to `libusb_close'
    src/hidapi/SDL_hidapi.c:1626: undefined reference to `libusb_free_device_list'
    src/hidapi/SDL_hidapi.c:1628: undefined reference to `libusb_exit'
    src/hidapi/SDL_hidapi.c:1609: undefined reference to `libusb_detach_kernel_driver'
    src/hidapi/SDL_hidapi.c:1620: undefined reference to `libusb_attach_kernel_driver'
    src/hidapi/SDL_hidapi.c:1615: undefined reference to `libusb_control_transfer'
    src/hidapi/SDL_hidapi.c:1616: undefined reference to `libusb_release_interface'
    build/.libs/SDL_hidapi.o: In function `SDL_hid_init_REAL':
    src/hidapi/SDL_hidapi.c:1086: undefined reference to `libusb_init'
    src/hidapi/SDL_hidapi.c:1087: undefined reference to `libusb_exit'
    src/hidapi/SDL_hidapi.c:1088: undefined reference to `libusb_get_device_list'
    src/hidapi/SDL_hidapi.c:1089: undefined reference to `libusb_free_device_list'
    src/hidapi/SDL_hidapi.c:1090: undefined reference to `libusb_get_device_descriptor'
    src/hidapi/SDL_hidapi.c:1091: undefined reference to `libusb_get_active_config_descriptor'
    src/hidapi/SDL_hidapi.c:1092: undefined reference to `libusb_get_config_descriptor'
    src/hidapi/SDL_hidapi.c:1093: undefined reference to `libusb_free_config_descriptor'
    src/hidapi/SDL_hidapi.c:1094: undefined reference to `libusb_get_bus_number'
    src/hidapi/SDL_hidapi.c:1095: undefined reference to `libusb_get_device_address'
    src/hidapi/SDL_hidapi.c:1096: undefined reference to `libusb_open'
    src/hidapi/SDL_hidapi.c:1097: undefined reference to `libusb_close'
    src/hidapi/SDL_hidapi.c:1098: undefined reference to `libusb_claim_interface'
    src/hidapi/SDL_hidapi.c:1099: undefined reference to `libusb_release_interface'
    src/hidapi/SDL_hidapi.c:1100: undefined reference to `libusb_kernel_driver_active'
    src/hidapi/SDL_hidapi.c:1101: undefined reference to `libusb_detach_kernel_driver'
    src/hidapi/SDL_hidapi.c:1102: undefined reference to `libusb_attach_kernel_driver'
    src/hidapi/SDL_hidapi.c:1103: undefined reference to `libusb_set_interface_alt_setting'
    src/hidapi/SDL_hidapi.c:1104: undefined reference to `libusb_alloc_transfer'
    src/hidapi/SDL_hidapi.c:1105: undefined reference to `libusb_submit_transfer'
    src/hidapi/SDL_hidapi.c:1106: undefined reference to `libusb_cancel_transfer'
    src/hidapi/SDL_hidapi.c:1107: undefined reference to `libusb_free_transfer'
    src/hidapi/SDL_hidapi.c:1108: undefined reference to `libusb_control_transfer'
    src/hidapi/SDL_hidapi.c:1109: undefined reference to `libusb_interrupt_transfer'
    src/hidapi/SDL_hidapi.c:1110: undefined reference to `libusb_handle_events'
    src/hidapi/SDL_hidapi.c:1111: undefined reference to `libusb_handle_events_completed'
    collect2: ld returned 1 exit status

commit 5767dc710ef1b375ce622495d408afbc8ad8af34
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 1 21:56:50 2022 +0300

    regenerated configure script after commit 3f89d1704

commit 4ebf34857ad4706e9c5a7577aed6682fff778138
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 1 21:56:50 2022 +0300

    updated os2 config file after commit 3f89d1704d

commit 3f89d1704d84f20253e0c86a8af2aebdca6f5409
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 11:30:02 2022 -0700

    Fixed building with libusb not dynamicaly loaded

commit 7708bf0f8a4c2fd765f5b7e9dff2b0ad993c3ee8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 08:18:58 2022 -0700

    Try matching game controller mappings on CRC and version and fall back to no CRC and no version, in that order.
    
    We do exact match when adding mappings, but loose matching everywhere else we look up a mapping for a GUID.

commit 6c2c01e0d1f7bc8c161dda26d983bd270ce0d176
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 31 15:04:12 2022 -0700

    Fixed documentation to match function parameter

commit 7861f924ea576e212d353512d3c150c1e1f524b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 31 13:34:43 2022 -0700

    Removed debug print statements

commit 62f2379e4cb0237dbc8c699dcac1eef0ad896fe9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 31 13:24:23 2022 -0700

    Try up to 20 times to read the controller type
    
    It takes a while for Joy-Cons to initialize when plugged in via the Nintendo Joy-Con Charging Grip.

commit e5f161bda41f9dc9536f7643a25d1c5410ed4c47
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 19:12:22 2022 -0700

    Restored accidentally removed code to guess XInput device

commit 973a677a2da148c168c426a1eaf064e885bc2dda
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Aug 31 02:32:28 2022 +0300

    SDL_xinputjoystick.c: commented out GuessXInputDevice()
    
    Not used since commit 277b033e78235d6ffad7525a1fb9acfef3a43433.

commit 42d09a8f42e3fbac7171d065199667b182da3fb4
Author: Shawn Hoffman <godisgovernment@gmail.com>
Date:   Tue Aug 30 13:54:32 2022 -0700

    wgi: refcount the delegate objects

commit ca915b1884f8c38c5e53010703d0567db7f2358a
Author: Shawn Hoffman <godisgovernment@gmail.com>
Date:   Tue Aug 30 13:54:58 2022 -0700

    WGI_JoystickUpdate: bounds-check array sizes

commit cdaafcec0d39b8567009e4b3e1ca1e532f06df9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 14:56:11 2022 -0700

    The Kinvoca Joy-Cons are handled by the Joy-Con driver, not the Switch Pro driver.

commit b2c3237b751b93eacc1de8dc847f29de15d2fc32
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 14:14:38 2022 -0700

    Added support for the Kinvoca Joy-Cons
    
    These report their VID/PID as a Nintendo Switch Pro controller, but they are actually left/right Joy-Cons. We'll fix up the joystick GUID so applications can handle them appropriately.

commit 92d3fc4883b8ea814fa14450157f6b75e01e40b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 12:58:38 2022 -0700

    Fixed deadlock when shutting down the Windows joystick system

commit 371735e95bbeb1bc54020fbb2eade216d381755b
Author: Brad Smith <brad@comstyle.com>
Date:   Tue Aug 30 15:45:16 2022 -0400

    Silence unused variable warning
    
    SDL_x11dyn.c:123:17: warning: unused variable 'i' [-Wunused-variable]
                int i;
                    ^

commit 0e4baf1c4eb3d18b248f1b5b28ed0864026b7872
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 12:39:23 2022 -0700

    Don't crash if SDL functions are passed a closed joystick or gamecontroller

commit 675d90c7082afc30d8ada3f59aaa7862f282b5a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 12:09:07 2022 -0700

    Revert "wgi: refcount the delegate objects"
    
    This reverts commit ff233fe3060e51706937a7b366438403bce774a4.
    
    This doesn't compile cleanly with Visual Studio and I don't want to introduce any subtle issues because we're passing the wrong types of pointers to WGI functions.

commit 3fe6768cafd19cec709ac51678278ca36a08104e
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Aug 30 18:47:15 2022 +0000

    Sync SDL wiki -> header

commit 40bd4feedcca779a4600743c27a786b436edc8f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 30 11:42:13 2022 -0700

    Revamped joystick locking
    
    This makes the joystick locking more robust by holding the lock while updating joysticks.
    
    The lock should be held when calling any SDL joystick function on a different thread than the one calling SDL_PumpEvents() and SDL_JoystickUpdate().
    
    It is now possible to hold the lock while reinitializing the joystick subsystem, however any open joysticks will become invalid and potentially cause crashes if used afterwards.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6063

commit ff233fe3060e51706937a7b366438403bce774a4
Author: Shawn Hoffman <godisgovernment@gmail.com>
Date:   Sun Aug 28 22:20:58 2022 -0700

    wgi: refcount the delegate objects
    assert if calls become unbalanced.

commit f1e4685806f3badcc77a1db856cafd7e63643ce6
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Aug 26 17:58:59 2022 +0200

    Adding specific SDL_Hint for the dynamic VSYNC

commit 2f08bf2313eae7e339e7a814aba9080479429994
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 29 22:15:35 2022 -0700

    Added the share button to the Linux mapping for the third party Nintendo Switch Pro controllers

commit 803924b2233458e4a2a7d24530e2208940ca278b
Author: Gleb Mazovetskiy <glex.spb@gmail.com>
Date:   Tue Aug 30 00:50:44 2022 +0100

    CMake: Make SDL_SHARED/STATIC/TEST options
    
    This makes it easier to set these options when SDL is used as a subprojects.
    Since CMake v3.13+, one can simply `set(SDL_TEST OFF)` before include the SDL2 subproject because options do not override existing variables. (https://cmake.org/cmake/help/latest/policy/CMP0077.html#policy:CMP0077)
    This is also true for `set(CACHE)` commands but only in CMake v3.21+ (https://cmake.org/cmake/help/latest/policy/CMP0126.html).

commit b2ac758f6173c6b0bced935c082f63d0e448d227
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 29 17:33:00 2022 -0700

    Added support for the Hori Fighting Stick Alpha to the HIDAPI driver

commit 3c78ba570b2115eb906001f418a4e7e6ab9f6e55
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Mon Aug 29 11:08:24 2022 +0200

    dbus: Use xdg-desktop-portal Inhibit when running under Flatpak or Snap
    
    In order to inhibit the screen saver, SDL currently uses
    `org.freedesktop.ScreenSaver.Inhibit()` and, as a fallback, a protocol
    specific method for X11 or Wayland.
    
    Accessing `org.freedesktop.ScreenSaver` is usually not allowed when
    inside a sandbox like Flatpak, unless the permission has been explicitly
    granted to the application.
    
    Another issue is that the Wayland protocol "Idle inhibit" is relatively
    new and not yet widely adopted. For example Mutter still doesn't support
    it.
    
    For those reasons, when running under Flatpak or Snap, we should try to
    inhibit the screen saver by using xdg-desktop-portal instead. This
    should give us an higher chance of success.
    
    Fixes: https://github.com/libsdl-org/SDL/issues/6075
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit e8cb4da71f6b23fdb0714b891ef3a31b94f0424c
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Fri Aug 26 12:28:33 2022 +0200

    Add utility function to detect if SDL is inside a sandbox
    
    Refactor the previous sandbox check in a standalone function that also
    includes Snap support.
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit a3ce700dedab201e52d2bcc20124d1502b078e7e
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Thu Aug 25 16:18:45 2022 +0200

    dbus: Add generic internal function to send messages with reply
    
    SDL_DBus_CallWithBasicReply() allows us to send a DBus message and get
    its result, if it is a basic type, e.g. integer or string.
    
    With this function we avoid duplicating code.
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit 1153aaae0dfbee9c33d3f62c2b28dca52c7222ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 29 00:15:56 2022 -0700

    Fixed compiling with USB_GET_DEVICEINFO on DragonFly BSD
    
    Although the ioctl() currently fails on this platform...

commit 57cbec1095182a07472d2302bd3ae66e76535636
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 23:18:40 2022 -0700

    Added controller mappings for Xbox 360, PS4, and PS5 controllers on OpenBSD
    
    Removed the axis flipping hack for Xbox controllers which would actually apply to any controller with a full 16-bit range.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6143

commit 0b8b321f9e91c9aea6bce4a3e2a2da427fb92698
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 23:01:30 2022 -0700

    Allow the product version to be different when trying to find a controller mapping
    
    This is in the hope that revving the product version doesn't change the mapping, which is the case for some devices. In cases where it does, we just need to provide a mapping for each version of the product.

commit 761b9d1e496588e3ec440444a828e52a80980633
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 22:33:17 2022 -0700

    Use the HID usage for the button as the button number

commit a9d3935a84595907fae0c585ebf08f89d7611f84
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 18:17:50 2022 -0700

    Improved code to get the name and guid for joysticks on OpenBSD and NetBSD
    
    Also dynamically allocate joysticks to reduce static memory usage

commit 32700294e27ffb97b188d8a401e90ed1494e50f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 17:56:11 2022 -0700

    Don't crash if SDL_CreateJoystickGUID() is passed a NULL name

commit bac8df4abdccd82f4409bae1fe2ae4d3a6f74055
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 17:55:49 2022 -0700

    Fixed memory leak when out of memory

commit ffbad3617c6139740adc112323a699a87dd47c92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 16:21:05 2022 -0700

    Use the correct type for the device_instance

commit 4a800ae149c1716186cc1ba9bdf171209affb5e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 16:11:12 2022 -0700

    Created a consolidated define enabling BSD gameport joystick support

commit 42f90c6292b59906bd6ec5e6bd38bb9140e9243b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 16:01:03 2022 -0700

    Removed unused path variable

commit b7c1fbf9f0174d43bff9a9a55437577eb9a3a222
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Aug 28 17:38:02 2022 -0500

    WGI: Fix a couple of reference leaks

commit 0db1813049e48af05cdebff209fcb18dbc458f57
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 28 07:27:01 2022 -0700

    Applied OpenBSD patch
    
    http://cvsweb.openbsd.org/cgi-bin/cvsweb/~checkout~/ports/devel/sdl2/patches/patch-src_joystick_bsd_SDL_bsdjoystick_c?rev=1.5&content-type=text/plain&hideattic=1

commit b8af865f18032e09dfc23e587e310baca90dbc80
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sun Aug 28 13:02:57 2022 +0200

    Fix candidate list size for Windows IME
    
    Adjust candidate count so list is not draw bigger that needed. This also fix potential uninitialised read of variable `candsize[i]` if `vertical` is false.

commit 644a4e5b31f0a444137ddf6c62ffeabe184ed6e3
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Aug 28 02:01:12 2022 +0000

    Sync SDL wiki -> header

commit 3cbfd75d0fb00c8816d2a2523a0be0a86757aff3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 27 18:55:55 2022 -0700

    Re-added the CRC to the joystick guid
    
    This is now used as a crc field in the mapping rather than directly in mapping guids, for better mapping compatibility between versions of SDL.
    
    Added SDL_GetJoystickGUIDInfo() to get device information encoded in a joystick GUID, so that mapping programs can clear the CRC from the GUID when generating mappings.
    
    sort_controllers.py has been updated to extract the CRC from mappings created by older mapping programs and convert it into the new crc field. It will also take the CRC into account when checking for duplicate mappings.
    
    Also regenerated the GUIDs for the PS2/PSP/Vita controller mappings, fixing https://github.com/libsdl-org/SDL/issues/6151

commit b9e3cae572fc05cacdc1cea6bdf8a516f919ca8f
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Aug 26 16:58:21 2022 +0200

    Add more valid configurations to PS2 audio driver

commit d7fae33967e5cf4419e0dcc7e7d124d7d179c778
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 27 15:18:22 2022 -0700

    Regenerated configure

commit 732e1530e3ef48c225295e81fe84ed282eef3a39
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Aug 25 14:44:43 2022 +0100

    autotools: Require GNU sort
    
    find_lib() uses sort -V, which is a GNU extension. Users of non-GNU
    operating systems should either install GNU coreutils (assumed to
    provide a gsort executable), or use the CMake build system.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/6106
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit b188a916ff87da3a1a3a71660e64468271ad8848
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 27 09:46:28 2022 -0700

    Fixed uhid device name for non-OpenBSD platforms

commit 3f93ec470a6306475172118975857e7432654fed
Author: Brad Smith <brad@comstyle.com>
Date:   Fri Aug 26 20:52:56 2022 -0400

    Add support for OpenBSD's ujoy(4)

commit 9a01eac57d30fabc61b8525618449f10f86a71d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 26 13:45:05 2022 -0700

    Temporarily disable joystick GUID CRCs

commit 3d516b841a5c643e049804c72c9193229535fb30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 26 09:12:56 2022 -0700

    Fixed macOS framework detection in sdl2.m4
    
    Fixes https://github.com/libsdl-org/SDL/issues/6141

commit d75fb0995dcf533bbc03bdac1c7d41caad678d68
Author: Charlie Birks <charlie@daft.games>
Date:   Sat Feb 26 14:52:08 2022 +0000

    emscripten: Add a hint for specifying the canvas selector
    
    Now that we're not going through EGL, this is easy

commit b5aedaad5923edd88ca33e6dab4b86503e8cb0f3
Author: Charlie Birks <charlie@daftgames.net>
Date:   Sun Apr 8 16:54:29 2018 +0100

    emscripten: Modify UpdateWindowFramebuffer
    
    To work with multiple canvases

commit 539efc1bbaec197cb0d6663824fd29fd71060785
Author: Charlie Birks <charlie@daft.games>
Date:   Sat Feb 26 12:24:32 2022 +0000

    emscripten: Return an error for webgl context limitations

commit eebbf3457ccb7ebca9a83cd77e8673a5f822e772
Author: Charlie Birks <charlie@daft.games>
Date:   Fri Feb 25 17:19:25 2022 +0000

    emscripten: Use emscripten_webgl_ API directly

commit f6c2c22d38afbbfbb1c5b7caab29f3302a57e9f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 25 22:25:25 2022 -0700

    Don't try to use the charging port for the PowerA wireless controller as an input device

commit f1aa84341519d1a96e912dbbc4bd5b96b57a6152
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 25 21:51:20 2022 -0700

    Don't report rumble capability for Nintendo Online controllers

commit 9ce9c2530ae79f93f0db18066182dbee71207a09
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Aug 25 18:41:32 2022 -0700

    SDL_windowsmodes: fix WIN_GetDisplayNameVista source identifier number
    
    This was getting the wrong monitor's name because the source identifier
    was not being included in the DisplayConfigGetDeviceInfo request.

commit 32c4996c04a7214a85cce2476547a5532ff95faf
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 26 02:38:54 2022 +0200

    cmake: add SDL_IBUS option to enable/disable DBUS + test sys/inotify.h

commit c8b56ee5e695b50287ffccc36e6c9fb4340aa9b1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 26 02:37:57 2022 +0200

    cmake: add SDL_DBUS option to enable/disable DBUS

commit 032ff64041f1418da24afb1da42af8d2e6a69e9f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 26 02:37:17 2022 +0200

    cmake: OpenIndiana announces SunOS, which is the former name of Solaris

commit ce227aa69ee75a29dce779618849699215fc28da
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 26 01:57:09 2022 +0200

    wayland: fix build with SDL_WAYLAND_SHARED=OFF/--enable-wayland-shared=no

commit 711846c1f4be660f106b1bc1ccbe8e5b824c30d7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 26 01:56:20 2022 +0200

    cmake: fix build with SDL_WAYLAND_SHARED=OFF

commit 679582e702bef0ccd743f07dab860ebce8912856
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 25 11:07:20 2022 -0700

    Fixed crash if there are no devices available

commit 111626f4cf0c3ab9ad4a2ab80d4b5a9e67ff4a4a
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Aug 25 17:17:12 2022 +0000

    Sync SDL wiki -> header

commit e4b85091fd0eea25a149af2dd3c2a24f99128baa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 25 10:15:45 2022 -0700

    Document the range of trigger axes for virtual joysticks
    
    Fixes https://github.com/libsdl-org/SDL/issues/6130

commit 40b24992730a18bdca2a19fea235bb01c822cdbc
Author: DomGries <stfx@hotmail.de>
Date:   Thu Aug 25 10:03:33 2022 +0200

    Fix building with SDL_DISABLE_WINDOWS_IME
    
    Regression of https://github.com/libsdl-org/SDL/commit/f317d619ccd22e60cebf1b09d716d3985359c981#diff-bff8f3e638d51e86cb6f0f42e2c527549d649951b7aa5ec4a539e865a5b57027R398

commit babaa7d2bdc2b7a8a915ce3a58b022b8fe7c2614
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 16:10:47 2022 -0700

    Fixed PS3 accelerometer values on little endian systems

commit d1e9015639190342313a3df91ecca3a872ebf7b9
Author: Julio C. Rocha <dev@rocha.red>
Date:   Wed Aug 24 15:14:48 2022 -0700

    Update .gitignore

commit 05983fb8eeb454059e22187b151f62bd37aaa9ab
Author: Julio C. Rocha <dev@rocha.red>
Date:   Wed Aug 24 15:03:12 2022 -0700

    Add Mayflash PC043 adapter

commit e7332cd81490f45e208be3c994686e43a048135b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 15:28:56 2022 -0700

    Fixed zero CRC matching in the controller mapping database

commit a4f84803c4e2517312d11ee55d5ae2b4145c71e5
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Aug 24 20:42:08 2022 +0200

    Disable fileXio and patch fio

commit e6864d17b6519b70bb7c6c627832902b50d0e472
Author: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>
Date:   Wed Aug 24 15:47:08 2022 +0300

    Update minimal required Android SDK version
    
    Signed-off-by: Yevhen Babiichuk (DustDFG) <dfgdust@gmail.com>

commit 2ceea46061ee5aa8fbfd909cdf622df12d397968
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Aug 21 14:15:06 2022 -0500

    cmake: Enable CET compatibility for x86/x64 targets using VS 16.7+

commit 00452e47fa022314b4c21af2d4e5b63a53f89b8f
Author: Noel Berry <thenberry@gmail.com>
Date:   Wed Aug 24 11:25:13 2022 -0700

    Adding SDL_GetWindowSizeInPixels for window size in pixels (#6112)

commit 70c781c803838f3542e71ed4b6240282fd727ed5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 10:25:56 2022 -0700

    Fixed build warning because of redefining string functions

commit 5f79cd160017ed4a5902bf9224075be2cb433b6a
Author: antonino <antomani103@gmail.com>
Date:   Wed Aug 24 18:50:02 2022 +0200

    Fixed spacing

commit dd68eb5c01fe0ac7bb69d334d3790ac30e36b42a
Author: antonino <antomani103@gmail.com>
Date:   Wed Aug 24 17:57:52 2022 +0200

    free drm prop before returning

commit 970344719a958460aadd73342a2b0524981a59f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 09:39:01 2022 -0700

    Fixed the Nintendo Switch Pro mappings on iOS/tvOS

commit 1fc7f681187f80ccd6b9625214b47db665cd9aaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 06:38:36 2022 -0700

    Document that it's not possible to use the HIDAPI driver for PS3 controllers on Windows

commit 5eb0f4328d45bafe9c5de4f9441f4ad3274ad8a1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Aug 24 04:14:52 2022 +0200

    cmake: always create SDL2::SDL2main target in autotools' cmake config script

commit dc2ef31c29e7235369e0468bcbc9af15d7ff50b8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Aug 24 04:12:58 2022 +0200

    cmake: create SDL2::SDL2main target in Apple framework official release

commit 645b0f6abf7c6f034f13d44d5e10ca739bf009b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 01:30:29 2022 -0700

    Enable HIDAPI PS3 support by default on macOS

commit 3ed8e219a501e5b2727fdd651f8ee62438d785e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 01:25:14 2022 -0700

    Fixed building HIDAPI libusb support on Windows

commit 3d62ebdbf6876e02c27c8454b6256f43c4bf6341
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 24 00:34:30 2022 -0700

    Fixed HIDAPI PS3 support on macOS

commit 6ac6accd339b175403eebc8ac58a13984f81206a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 23:05:11 2022 -0700

    Added SDL_hidapi_ps3.c to the Xcode project

commit aaee6e242c6309e33ac67c70ed96183beef6a75c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 22:56:32 2022 -0700

    Added missing file

commit 7cfef177c197afbaddaaf3638f868215a1243c04
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 22:53:43 2022 -0700

    Added SDL_hidapi_ps3.c to the Windows projects

commit b6f96b69aad62dc4538b8ca4ba5906017108cb55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 22:45:37 2022 -0700

    Initial HIDAPI driver support for the PS3 controller

commit 50c5d23f7d1b5b15e5ecc3dce72fa6a35b68f960
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 07:42:48 2022 -0700

    Round coordinates so very small floating point values don't turn into 0x80000000
    
    e.g. SDL_RenderDrawLineF(renderer, -1e20, -1e20, 10, 10);
    
    Fixes https://github.com/libsdl-org/SDL/issues/6116

commit b6a3d76225b7c4d7d2ef11dd576fce6daa56dbce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 23 07:24:21 2022 -0700

    Look up mappings by GUID in two passes: first with CRC, second without

commit 4df64027fcce85cd2d0655636604afc8e2fb457a
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Tue Aug 23 13:53:43 2022 +0200

    .editorconfig: Use correct path for wayland-protocols
    
    The Wayland protocol XML files are stored in the root directory of SDL
    and not in `src`.
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit 277b033e78235d6ffad7525a1fb9acfef3a43433
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 19:28:21 2022 -0700

    Refactor joystick GUID creation

commit aae566e1965021bec3317e3e76bd59126a656e0c
Author: antonino <antomani103@gmail.com>
Date:   Tue Aug 23 02:26:29 2022 +0200

    Use SDL_bool

commit e3ea9b5b7c15da16940dc77b9082552c8ddd5570
Author: antonino <antomani103@gmail.com>
Date:   Tue Aug 23 00:37:43 2022 +0200

    restore vrr state on exit

commit 450e9857cc0ce1e9bda6cc68a8b7e9a9a3f9a869
Author: antonino <antomani103@gmail.com>
Date:   Mon Aug 22 17:58:41 2022 +0200

    Use SDL_TRUE and SDL_FALSE

commit 605b50fcd9fe578388fa058e33650c837e1cfca5
Author: antonino <antomani103@gmail.com>
Date:   Mon Aug 22 17:49:49 2022 +0200

    kmsdrm: added missing checks

commit c1e087394020a8cb9d2a04a1eabbcc23a6a5b20d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 16:46:55 2022 -0700

    Added the CRC of the joystick name to the GUID
    
    This will make it possible to have mappings for different controllers
    that have the same VID/PID. This happens frequently with some generic
    controller boards that have been reused in many products.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6004

commit 20715fa0142b137d704f31b1aeebcce7a24f7aee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 17:09:42 2022 -0700

    Fixed build errors

commit 92b3c53c92971e685254fd89f89ce6bde8cea60e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 16:25:25 2022 -0700

    Added a hint SDL_HINT_MOUSE_RELATIVE_SYSTEM_SCALE to control whether to use system mouse acceleration on raw relative motion.
    
    This is currently only implemented on Windows, and "Enhanced pointer
    precision" mode is not quite correct.

commit 3ce3594e385508b4b61c7870779c2ad66e1887fa
Author: yurii levchenko <yurii.levchenko@murka.com>
Date:   Tue Aug 23 00:25:29 2022 +0300

    Split SDLSurface to public class
    Add SDLActivity method createSDLSurface

commit d166f5ef7643ad2a2ec92beb5fbf1e0eae79db13
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 14:10:54 2022 -0700

    Fixed uninitialized variable warning

commit b2819e43a75de81837544c54d87ae9bc7c18cb43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 13:10:57 2022 -0700

    Send SDL_CONTROLLERDEVICEREMOVED for all joysticks because we don't know after the fact whether it was a game controller.
    
    Fixes https://github.com/libsdl-org/SDL/issues/2092

commit 0e61c106f5649d355de3a851fdbf9280509435b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 22 12:49:41 2022 -0700

    Don't calculate relative mouse motion if we don't have a valid position
    
    Fixes https://github.com/libsdl-org/SDL/issues/1928

commit b204db1e6b120bd28ab4f55590949912293a79b8
Author: slime <slime73@gmail.com>
Date:   Sun Aug 21 18:06:11 2022 -0300

    cocoa: change Shape data to use ObjC objects instead of C structs.
    
    Fixes #6089

commit 057086e389a78c600c0862ea331aa9b834ffbb43
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Jul 15 13:44:49 2022 -0400

    wayland: Add high resolution scroll wheel support
    
    Update the Wayland core protocol spec file and add support for the new axis_value120 event to handle high resolution scroll wheels.
    
    The axis_value120 replaces the axis_discrete event, which is no longer sent as of version 8 of the protocol.  Note that unlike the axis_discrete event, no mention in the spec is made regarding how many axis_value120 events may occur per-axis per-frame, so the values are accumulated and committed when the pointer frame event occurs.

commit d731ad769d510ef9cd66f44dd2ebf7f67e21963c
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Jul 15 10:44:38 2022 -0400

    wayland: Fix include order when building with libdecor
    
    The libdecor header internally includes wayland-client.h, which pulls in the wayland-client-protocol.h file from the system include path and overrides the local one generated from the included Wayland protocol spec files. Move the Wayland protocol header inclusion above the libdecor header inclusion to ensure that the locally generated protocol header is used instead.

commit 4ca7b378c5b831a82f1f0fa132939e8a3b6ac59a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 21 11:35:14 2022 -0400

    x11: Specify windowed dimensions when creating fullscreen windows.
    
    This lets the window manager adjust the window correctly if it ever
    leaves fullscreen mode.
    
    Fixes #5725.

commit a7066c527aa18364088bdfed0d1c44603f53cb78
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Aug 21 14:05:04 2022 +0000

    Sync SDL wiki -> header

commit 996eb2edb345587804d95d8577e7800b2fb50600
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sun Aug 21 04:03:32 2022 +0200

    cmake: add library directories & pthread to imported targets of sdl2-config.cmake
    
    This fixes linking to SDL2::SDL2-static on systems where external libraries such as X11 are not in a standard location.
    Pthread also needs special care.

commit 8fb1b50a9eed9be7254a1200e5f4ab5f147dc2e8
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Aug 20 17:50:04 2022 +0000

    Sync SDL wiki -> header

commit ffab1396462f88fe4ef67ce4d1ac0feb05036ab2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 19 17:28:31 2022 -0700

    Fixed minimized window detection when handling WM_WINDOWPOSCHANGED
    
    When minimizing a window, we get this sequence of events:
    WM_WINDOWPOSCHANGING
    WM_GETMINMAXINFO
    WM_NCCALCSIZE
    WM_WINDOWPOSCHANGED - IsIconic() is true
    WM_MOVE
    WM_SIZE - SDL sees minimized state here
    
    When restoring a window, we get this sequence of events:
    WM_WINDOWPOSCHANGING
    WM_GETMINMAXINFO
    WM_NCCALCSIZE
    WM_NCPAINT
    WM_ERASEBKGND
    WM_WINDOWPOSCHANGED - IsIconic() is false
    WM_MOVE
    WM_SIZE - SDL sees restored state here
    
    On Windows 10 a minimized window has a non-empty client rect, so we were delivering a minimized size before SDL knows that the window is minimized, and then ignoring the restored size when handling the restore message.
    
    The fix is to use IsIconic() which returns the correct window state when WM_WINDOWPOSCHANGED is actually delivered.

commit a204ef50bbf20b77083c0a14124e673efc3a53c6
Author: Oleg Derevenetz <oleg-derevenetz@yandex.ru>
Date:   Fri Aug 19 22:16:04 2022 +0300

    Use __ARM_ARCH instead of __ARM_ARCH__

commit 5a3adbfdb22e6f3d9d8260356ad9a7e44f8ae829
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 19 11:11:25 2022 -0700

    Added the hint SDL_HINT_JOYSTICK_HIDAPI_XBOX_360_PLAYER_LED to control whether the player LED is set on Xbox 360 controllers

commit 52b6899a6b558595d0510bc6544d80b1d9220a82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 19 11:11:23 2022 -0700

    Added hints for more fine grained control over HIDAPI Xbox controller support

commit bf327b52bd9e8b202b4c81f929f5c78afbf1a5d2
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Aug 19 19:01:04 2022 +0200

    autotools: run ./autogen.sh

commit 2b93f6e148d8ac5b5ef69619dbe489182652e5ea
Author: Luke Street <luke@street.dev>
Date:   Fri May 20 09:55:06 2022 -0700

    cocoa/uikit: Use VK_EXT_metal_surface in Vulkan_GetInstanceExtensions
    
    Replaces VK_MVK_macos_surface and VK_MVK_ios_surface

commit 029a9b2fa11157a7beca5635d3b7f743cf417138
Author: Luke Street <luke@street.dev>
Date:   Thu May 19 12:57:35 2022 -0700

    cocoa/uikit: Support VK_EXT_metal_surface
    
    Uses VK_EXT_metal_surface (vkCreateMetalSurfaceEXT)
    when possible, otherwise falls back to the obsoleted
    VK_MVK_macos_surface and VK_MVK_ios_surface.
    
    Fixes #3906

commit ad874536a4be9b602a0b2bc1f95a21e4a06e1876
Author: antonino <antomani103@gmail.com>
Date:   Wed Aug 17 14:56:18 2022 +0200

    kmsdrm: enable vrr on displays that support it

commit 6e9c14e550417057737831884e21fdd70d11e081
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 19 09:38:42 2022 -0700

    Updated to version 2.25.0 for development

commit 8c9beb0c873f6ca5efbd88f1ad2648bfc793b2ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 19 08:44:09 2022 -0700

    Updated to version Updated to version 2.24.0 for release

commit 6e007c36e703e03f5bbf1c0314f208664f4e98b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 18 19:05:55 2022 -0700

    Add null termination to Wayland_data_source_get_data() if requested
    
    Fixes https://github.com/libsdl-org/SDL/issues/6083

commit 948dbe7d3f8a393e49010038f0c6cac089ac2599
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 18 16:24:20 2022 -0700

    Don't include the null terminator in Wayland clipboard text
    
    Fixes https://github.com/libsdl-org/SDL/issues/6083

commit f6b81125b340e00129978f2c9eebfba6a4d25692
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 18 16:05:22 2022 -0700

    Always define SDL_COMPILE_TIME_ASSERT as static_assert() in C++
    
    Apparently some versions of gcc will define __STDC_VERSION__ even when compiling in C++ mode.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6078

commit 3bae2d57da6dd768040d3a8c4fb0f707bf26d665
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Aug 18 12:39:47 2022 -0400

    wayland: Set the libdecor app ID after visibility calls
    
    Set the frame app ID after toggling visibility or the name displayed in window manager task switchers may not display correctly.

commit 51be30f3cd29682cd94fcbfbe18eeac492095a05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 17 21:37:32 2022 -0400

    emscripten-buildbot.sh: force `-s USE_SDL=0`
    
    This avoids using Emscripten-provided SDL headers from its own
    sysroot instead of the headers in our own include directory!
    
    Reference https://github.com/emscripten-core/emscripten/discussions/17647

commit 8acb4e45b3ab55842d4214ce1726afdfae51eb28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 17 14:25:30 2022 -0700

    Fixed interactions between mouse capture and grab on X11
    
    Fixes https://github.com/libsdl-org/SDL/issues/6072

commit 7da74eb5be9511d472c72e4ed17e9ffa84f53fbc
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Aug 17 14:59:23 2022 -0400

    wayland: Never commit with an undefined window title
    
    If libdecor performs a commit with the frame title being undefined, a crash can occur within the library or its plugins. Always ensure that the title is set to a valid string to avoid this.

commit 99e9156ff59825f093da11b93c92e2f562752d04
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Aug 16 19:50:59 2022 -0500

    testgles2: Fix typo in help text

commit 09b6956dcc4f5d9ca06765fd34d11639bcf96988
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Aug 16 15:08:10 2022 +0100

    opengl: Support NV12 textures on GPUs with only 2 texture units

commit 2fcd8f889caaefb5f7922da00268c863a1178d26
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Aug 16 14:19:26 2022 +0100

    Handle SDL_PIXELFORMAT_EXTERNAL_OES in SDL_GetPixelFormatName()

commit 222f1a2693d1371409a71e8adf3c0c0d57f83020
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Aug 15 22:51:15 2022 -0500

    testgles2: Add --threaded option to use a render thread per window
    
    This is helpful for reproducing bugs like #6056

commit 9670d2bb9ed19e3720c58378fe3eadab1ea0c40e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 15 17:27:33 2022 -0700

    Make sure we hold the joystick lock when disconnecting a HIDAPI joystick
    
    This prevents crashes when calling SDL joystick API functions from a different thread while disconnection is happening.
    
    See https://github.com/libsdl-org/SDL/issues/6063 for a more thorough review of joystick locking.

commit 26948f01a3979840886428f21d7948f1a21a4a0a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 15 20:09:09 2022 -0400

    cocoa: Make SDL_MinimizeWindow() work with borderless windows.
    
    Fixes #6046.

commit 650612fdcb74d99589a5ebbd12081922b4b94a3c
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Aug 13 16:54:27 2022 -0400

    wayland: Eliminate excessive calls to SetFullscreen
    
    Eliminate excessive calls to SetFullscreen by removing the calls in the libdecor and xdg-toplevel config callbacks.
    
    These calls were being made there in case something explicitly called the window minimization function from within SDL, which unsets fullscreen, and as minimizing a window in Wayland is just a suggestion to the compositor and doesn't actually change the window state or communicate anything back to the application, it was necessary to call SetFullscreen in every call to the config functions just in case something minimized a window via SDL_MinimizeWindow() and later needed to restore it.  GNOME in particular had issues when fullscreen set/unset operations were being hammered, leading to overlapping acks and commits when switching to fullscreen.
    
    With the new video system flag to disable unsetting fullscreen when minimizing a window, these calls in the configuration functions are no longer needed and can be removed. This significantly reduces calls to the SetFullscreen() function, reverts #6044 while fixing the issue, and fixes a similar problem when hiding and showing a window initially created with fullscreen flags.

commit cc9cc2028dd06a43dca0910a66b348dd83e2a6e3
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Aug 13 16:43:15 2022 -0400

    video: Add video device quirk flags and apply them to the video subsystem
    
    Add quirk flags to the video device struct and add flags to allow video backend drivers to disable mode switching and disable unsetting the fullscreen mode when minimizing a window. As certain platforms can have multiple video backends compiled in at once, #ifdefs, as used by other platforms, aren't suitable as different backends on the same platform may not need the same quirks.
    
    This replaces the formerly dedicated 'disable_display_mode_switching' boolean as additional quirks are needed by the Wayland backend.  Helper functions have also been added to simplify reading the flag states.

commit 0cc8dfdb58b60e1ffc285025b7f1ed884a378601
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 15 07:44:56 2022 -0700

    Added SDL_system.h for the declaration of SDL_iPhoneSetAnimationCallback() and SDL_iPhoneSetEventPump()

commit c6c688ab0184234f3ea8240be80df405fdda5b9a
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sun Aug 14 14:55:32 2022 +0200

    Add SDL_JOYBATTERYUPDATED event to SDL_JoystickEventState()

commit b72cf207fb20eb36e1f9880ec22c9b5d27babe4e
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Aug 14 09:41:42 2022 -0400

    core: linux: Don't cache the RealtimeKit D-Bus connection
    
    If the D-Bus subsystem is shutdown and restarted mid-execution, the cached connection will be invalid. Fetch it each time that it is used to ensure that the connection is always from the current context.

commit 7d5ccae22d2237fd42cbdc09c72620be0ac4892b
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Aug 14 12:15:55 2022 +0200

    Fix memory leak when destroying texture

commit 5b4b4fa1ff34a5d4bc07f7b42e309b90af2ace42
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Aug 14 12:01:56 2022 +0200

    Decrease audio thread priority when created

commit cf134235d74f98d1d0fe972edf96cf10bd7fefd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 13 08:23:40 2022 -0700

    Removed line wrapping in patch notes

commit cb46e1b3f06a08d57b4ccd83127d1ec3139e1c0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 20:51:44 2022 -0700

    Removed unused variable

commit 67cb3874eff7d98a806ae2f757b35b82cbac9e68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 20:51:28 2022 -0700

    Fixed potential uninitialized variable usage

commit 74bdb2115db1feda4a24b572e80412d6c6a15f9d
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Aug 12 22:01:12 2022 -0400

    wayland: Don't roundtrip in ShowWindow unless restoring a hidden window
    
    Don't call the roundtrip in ShowWindow unless restoring a previously hidden window.  This fixes a regression in GNOME when creating a window with the fullscreen flag set, as the fullscreen window will be positioned down the screen by the height of the top bar if the window is made fullscreen on the primary display and the roundtrip is called when initially displaying the window.

commit 3046d55d0e9058d47df1abf41fea1e51c1cd7fd5
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Aug 12 22:02:26 2022 -0500

    cocoa: Return an error if GetWindowDisplayIndex() is called too early
    
    SDL_CreateWindow() may call GetWindowDisplayIndex() to compute the position
    of a new window that the caller has requested to be placed on a certain
    display. Since we haven't fully constructed the window yet, our driverdata
    will be nil and we will fail to get the NSScreen (which is fine). However,
    we need to return an error (not 0, which is a valid display index) for
    SDL_GetWindowDisplayIndex() to know to figure out the display index itself.
    
    Fixes positioning new windows on secondary displays when using
    SDL_WINDOWPOS_CENTERED_DISPLAY() and SDL_WINDOWPOS_UNDEFINED_DISPLAY().

commit f1416ef2ba4186fc74d159372de2fc15a64f79c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 20:27:22 2022 -0700

    Updated to version 2.23.2 for release candidate

commit 08d17f47b3325a03f77acf730b6c37e75c047989
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 20:26:23 2022 -0700

    Removed unused variable

commit be0cf257fe5ba68afb1ef328ab47527a060adad7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 18:13:42 2022 -0700

    Only force the resize event in the DPI changed case
    
    OpenGL windows don't actually get the WM_WINDOWPOSCHANGED event in the SetWindowPos() call in WIN_SetWindowFullscreen(), so setting the window size to zero never gets reset and we're stuck with a zero sized window.
    
    Instead, just force the resize event in WM_DPICHANGED handling, where we know we need it. If we end up needing to force it in WIN_SetWindowFullscreen(), just set a flag in the window data and respond to that in WM_WINDOWPOSCHANGED, but that's a fairly risky behavior change as suddenly all applications would start getting SDL_WINDOWEVENT_SIZE_CHANGED when going fullscreen, and they may respond to that in expensive and potentially disruptive ways.
    
    For later we'll probably create a DPI changed event and respond to that in the renderer instead of this window size changed hack.
    
    This fixes https://github.com/libsdl-org/SDL/issues/6033 @ericwa

commit b880709e9c30cf26c7ba85ac4446b937c3f98410
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 12 18:11:27 2022 -0700

    Added libusb hack for Gamesir-G3w which needs the same adjustment as the Hori controllers

commit 1b08cd20b37e0605e9b7601c147b8d1709283f99
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Aug 12 18:55:05 2022 -0500

    wayland: Add roundtrip in SetWindowFullscreen() to get new size
    
    The video core assumes that window->w/h will be updated before returning
    from SetWindowFullscreen(). This is needed to generate a resize event
    with the correct window size when exiting fullscreen.
    
    The roundtrip allows us to receive the configure callback that informs
    us of the new window size before returning.
    
    Fixes #6043

commit 780b031b1b453bcd9d635d0bb51e938b5109ac43
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Aug 12 16:39:39 2022 -0500

    wayland: Avoid duplicate resize events when entering fullscreen

commit a28f426acbdbb9c301f47fc3960cc9d510dada08
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Aug 12 16:13:24 2022 -0400

    render: Only update size/scale/viewport when moving to a new display, rather than all window movement.
    
    We really only care about DPI changes here, so this both reduces work and also avoids weird cases where viewport state can be corrupted by trivial window events. This doesn't _completely_ get rid of the issue but this is somewhat intentional, since apps will definitely want to do a full reset when changing displays anyhow (otherwise DPI/adapter changes will screw things up, and that's out of our control as long as both window size and drawable size are exposed at the same time.
    
    Note that OpenGL still captures window events because of weird platform-specific issues like macOS and viewport stretching!
    
    Fixes #5949

commit cfbeb438c102c6fa8291a015af743d8b248e56ef
Author: Your Name <you@example.com>
Date:   Fri Aug 12 21:05:37 2022 +0800

    fix a bug if XINPUTGETBATTERYINFORMATION is nullptr

commit f42291ce68c78c8dd26c63671d3a4e1c6ae2c914
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 16:13:14 2022 -0700

    Don't change mouse capture based on touch events
    
    Fixes https://github.com/libsdl-org/SDL/issues/5652

commit bf925b9ecd11fc9a57f3abf1e16e3ca91f97a5c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 14:41:48 2022 -0700

    Fixed build

commit 24f97dd700a883437c1bdc375988cfc7163b262e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 14:39:49 2022 -0700

    Added an SDL error to SDL_GameControllerMapping* functions

commit 9f30d4981e8a48720f49887fdded30da8e0d452b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 14:27:08 2022 -0700

    Added note about CRC algorithm compatibility

commit f35bbe0c3fbb31a0e4cf4310de7d8d9f71ab8219
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Aug 11 21:11:11 2022 +0000

    Sync SDL wiki -> header

commit 3861c557da1494e91f33e328ba29ad5d25246e1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 13:58:39 2022 -0700

    Added the hint SDL_HINT_MOUSE_RELATIVE_WARP_MOTION
    
    This hint controls whether mouse warping generates motion events in relative mode, and defaults off.
    
    Fixes https://github.com/libsdl-org/SDL/issues/6034
    Fixes https://github.com/libsdl-org/SDL/issues/5741

commit c2db429f9395b42254070ddbd726ec5036671d85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 13:20:17 2022 -0700

    Added SDL_crc16.c to the Xcode project

commit e69838e7451d78cc32818732eb4524ec4cda5755
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 11 20:11:32 2022 +0300

    add SDL_crc16.c to msvc and watcom builds

commit b4c4dd84c22d251b115327cf1ec0b79c4f7d197d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 09:52:58 2022 -0700

    Added SDL_crc16() to be used in joystick GUIDs after 2.24.0

commit a1e34b5e35bd6db929ec2faf932a988f63cd11b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 11 08:52:51 2022 -0700

    Don't send a resize event when the window is resized to the dock icon
    
    Partially addresses https://github.com/libsdl-org/SDL/issues/6033

commit 879af7b5c82c4d77a767a280e4c003db2ac64144
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 10 14:01:23 2022 -0700

    Fixed mapping for paired Joy-Con controllers on iOS

commit 5f682e77cb87d0e7494849eb3b517252a87b4ed4
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Wed Aug 10 20:01:15 2022 +0200

    wayland: Remove freed display from `SDL_WaylandOutputData->output_list`

commit aaec244cfd460c0d8c910f503f3fd8e0b4b8af82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 10 09:04:17 2022 -0700

    Don't run the stdio automated tests if libc isn't available

commit e49321cec5806c05b6b67404052f953f3e0f2987
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 10 08:20:54 2022 -0700

    Fixed double-free in combined HIDAPI controller code

commit 6ecfc4069799ccc1274dc1a6014c7ed02748fd09
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Aug 10 15:02:11 2022 +0000

    Sync SDL wiki -> header

commit d4192850c1efdb24064fbf0057978ff91947cf56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 10 07:59:12 2022 -0700

    Added SDL_ResetHint() to reset a hint to the default value
    
    Resolves question of how to clear an override hint raised by @pionere in https://github.com/libsdl-org/SDL/pull/5309

commit 3119d58ff536424c361892a0aa76f95731ea0fbc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 10:48:23 2022 -0400

    cocoa: Change the new sync_dispatch hint to async_dispatch.
    
    This is so the default is safer.

commit c6c0a8394e459ed511540cdb2594b2858f6f6f50
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 09:54:49 2022 -0400

    windows: If a display's friendly name is blank, try the generic name.
    
    Fixes #6031.

commit 9ff498e78e4d83d3ef45260db3c753d033666f0c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 10 06:00:30 2022 -0700

    Make HIDAPI_JoystickOpen() more robust against internal logic errors
    
    Fixes https://github.com/libsdl-org/SDL/issues/6030

commit bdc7f958fda50305744dcefdccac29373da97d01
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 00:41:25 2022 -0400

    cocoa: Added hint to treat MacBook trackpads as touch devices, not mice.
    
    Fixes #5511.

commit 73d8d02629cee294fa01e4dbf04b6ba6230cd07d
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Aug 9 22:36:59 2022 -0400

    Test: Fix Exp base case for Win32.
    
    Add epsilon to the check.

commit 8e782876bb979aae8c4395f703e3a00b1f8cff9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 21:30:11 2022 -0700

    Fixed spamming the controller with reset IMU commands when they are failing

commit eab27b904915a573ca789d7c7d31f2b018cd189f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 17:58:42 2022 -0700

    Make sure Switch controller initialization is synchronous and start the input timeout then

commit b4660e9d8b633da9ef7b6ba39c83c0f7832e9a7d
Author: Salman Ahmed <frenzibyte@gmail.com>
Date:   Wed Aug 10 03:40:00 2022 +0300

    macOS: Add hint for blocking thread on OpenGL context update dispatch (#5708)

commit 7eb13c21c6d5e769f7902ee773df2c1b0a806ff0
Author: pionere <pionere@freemail.hu>
Date:   Wed Aug 10 02:27:25 2022 +0200

    improve behavior of SDL_SetHint(WithPriority) (#5309)

commit 1db7d33dc4455990b1d157914beea6a0bad1ea92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 17:04:26 2022 -0700

    Recover from Bluetooth devices temporarily out of range

commit 6d012b2a5dc243f88eaf7d75f796300855a676dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 16:54:11 2022 -0700

    Better fix for rescanning devices after read failure

commit 483a010f0c598fc917c785f8f727aa830e8351c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 15:39:39 2022 -0700

    Fixed accidentally deadlocking the rumble thread with combined Joy-Cons
    
    Also added more accurate check for sensor data. At least one axis will always have acceleration because of gravity.

commit 5d63a3d43528a9da9972b35a6444f3c8fd0ce752
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 14:06:49 2022 -0700

    Re-enumerate devices if a read fails
    
    This allows combined Joy-Con devices to immediately separate if one of them is disconnected

commit da50f1bd3eb65adcc1fc673346d0c9b74f055543
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 14:05:43 2022 -0700

    Bluetooth devices can recover from over a second of dropped reports

commit 824f2d4650582c073742efb7a354db69c184820b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 13:41:58 2022 -0700

    Added a second hint SDL_HINT_JOYSTICK_HIDAPI_JOYCON_HOME_LED to control the Home button LED on Nintendo Joy-Con controllers separately from Nintendo Switch Pro controllers

commit 8aa6922fecc5657d97abb944d127282aaf99d3ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 13:25:52 2022 -0700

    Fixed detecting Bluetooth disconnection on Nintendo Switch controllers

commit 3a9295e14f9c53240bb1542e5f8a63fcc630e86b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 16:02:16 2022 -0400

    build-scripts: Removed winrtbuild.*, no longer used.
    
    WinRT/UWP is still supported, but you have to use the VS2019
    project files, now.
    
    Fixes #5639.

commit 53141a56b4520489ab64ad0ba2c49fbd1a456901
Author: Anonymous Maarten <madebr@users.noreply.github.com>
Date:   Tue Aug 9 22:05:03 2022 +0200

    Expand CMake documentation a bit (#5961)
    
    * cmake: remove duplicate check_required_components macro
    
    * Expand docs/README-cmake.md a bit
    
    * cmake: path needs `/` infix

commit a346c4bbefbb7b4994bc0d6effacb8bb88cf03d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 15:41:02 2022 -0400

    egl: Add support for SDL_GL_FLOATBUFFERS.
    
    Fixes #6001.

commit 201484ff6fa5f6216696e6a77c029352b2b97e65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 09:03:28 2022 -0700

    Don't duplicate the serial number twice if a child doesn't set one

commit d90c0d41ccee22ad5b2ad658c0513136b52ebe4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 09:00:29 2022 -0700

    Include the child serial numbers in the serial number for a HIDAPI combined device

commit 523bedac1a8a9c48b2cf33cdd181cbd718e538d5
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Aug 9 15:48:12 2022 +0000

    Sync SDL wiki -> header

commit aad2df7f0d140448c0bc729600dbcd54bffb976b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 08:47:49 2022 -0700

    Document passing -1 to clear the player index for a controller

commit 8695d982d262324c063ae8fd744116870cff8bda
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 10:09:54 2022 -0400

    README-winrt.md: Updates for newer build details.

commit b599205d0ca7d8bcbed47579caa1e0cebc7009a7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 09:50:55 2022 -0400

    x11: Don't look up xinput2 devices unless we're in relative mode.

commit 2dd7659884e84108603e9586d25961ededdc5cd8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 09:29:30 2022 -0400

    test: Fixed wrong arguments to SDL_SetWindowFullscreen.

commit 07b0ec539f46434ff89ec82e608e5421bcecf5f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 09:05:08 2022 -0400

    SDL_video.h: Added \since info to new APIs.

commit 55882e43c4442e9a1a7a7df9cc83849c6e5f232b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 00:19:02 2022 -0700

    Fixed invalid read when SDL_GameControllerSetPlayerIndex() is passed a negative player_index

commit df537a7c0e30124c7602f6dd8e5afcb10afba36f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 9 00:18:19 2022 -0700

    SDL_GameControllerSetPlayerIndex(gamecontroller, -1) means turn off the player LED if possible

commit 5545be85307deecf102772a8b943143b92ce7171
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 23:44:50 2022 -0700

    The player LED index wraps for PS5 controllers, like it does for other controller types

commit 593d20d9cc123dcce182c6682a5e2c64a6ac1ca4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 20:11:43 2022 -0700

    Removed debug logging

commit 6204ae5002ea2878cf4f35fb5c22b7ece35e7102
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 20:09:49 2022 -0700

    Restart the IMU if the controller stops sending gyro/accel data

commit 56c1481cab2a8595b8d4a1a6a1f015fd220a6049
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 8 20:33:44 2022 -0400

    cocoa: Don't mark fullscreen-desktop windows as non-resizable.
    
    Otherwise, we can't tile SDL apps in Spaces.
    
    Fixes #4883.

commit d58bec72a0d3bf5b892c1a082b5331b1ff047bd4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 17:19:12 2022 -0700

    Fixed Joy-Con gyro axes in mini-gamepad mode

commit 5aa438e80aabe3570c0ef807d9b22bcd9835ced6
Author: Shawn Hoffman <godisgovernment@gmail.com>
Date:   Mon Aug 8 14:52:19 2022 -0700

    WGI: fix interop with applications that have their own WGI code
    QI for Added/Removed events need to handle IAgileObject

commit ada55c690dc3a569da88b077d724966d0b1e9a6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 15:38:19 2022 -0700

    Fixed Joy-Con type detection for the Nintendo Joy-Con Charging Grip

commit a35cff634bd0f918537acaed6a22d6776d92c069
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 8 16:07:31 2022 -0400

    Sync wiki -> headers.
    
    (bridge got stuck, I'm just kicking it to get it working again, idk.)

commit a547c185ce1dd4739fb7b63a7fd35058e6651b79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 12:21:40 2022 -0700

    Fixed crash if uevent info isn't available

commit 7530bd74b3635c39cb8f0b3c9778da1f1709bde1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 11:26:55 2022 -0700

    Fix right, bottom computation in `SDL_GetClosestPointOnRect` which should be exclusive, not inclusive

commit 98bac00dcc2537d10b96f9ce71b59d3f8d4108d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 11:26:52 2022 -0700

    Add `SDL_GetPointDisplayIndex` and `SDL_GetRectDisplayIndex` and re-implement `SDL_GetWindowDisplayIndex` in terms of `SDL_GetRectDisplayIndex`
    
    - This allows looking up the display index for an arbitrary location rather than requiring an active window to do so.
    
    - This change also reimplements the fallback display lookup that found the display with center closest to the window's center to instead find the display rect edge
      closest to the window center (this was done in the almost identical display lookup used in SDL_windowsmodes.c, which now uses `SDL_GetPointDisplayIndex`). In
      practice this should almost never be hit as it requires the window's center to not be enclosed by any display rect.

commit 20f9a1b8a4ed0766e8135e41e855537f07774a72
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 8 17:23:43 2022 +0200

    Implement SetTextureScaleMode

commit 47ebf0087ae33162048e57721642fa4b3e37c4a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 08:35:56 2022 -0700

    Fixed shadow variable warning

commit d355ea9981358a1df335b1f7485ce94768bbf255
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 8 11:55:04 2022 +0200

    Add a way to avoid IOP reset

commit c5fe234d53a9955289bc1640c3e7d5f086e54656
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Aug 7 23:07:02 2022 +0200

    Improve SDL main adding usb drivers

commit 0a307628e6f345a7be97daeb7bc56d50d54e3bb6
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 8 13:14:48 2022 +0200

    Fix wrong mapping in some ps2 controller keys

commit 3f19e36d12c613d9947083f4f5254568d924ca9b
Author: Aaron Barany <akb825@gmail.com>
Date:   Sun Aug 7 20:55:27 2022 -0700

    Disable declaration-after-statement warning on Android
    
    External .c files are brought in that don't adhere to this requirement for
    pre-C99 code and causes the build to break with the latest NDK.
    
    Fixes #6019

commit 0bcbdfe2bd295d4a747bb0ec3ef88e61ac299724
Author: Adam Butcher <adam@jessamine.co.uk>
Date:   Thu Jun 23 16:10:41 2022 +0100

    video: dummy: Support evdev psuedo-device with no video.

commit 8f05b4f833895009154465e1489787395fef3f88
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 08:26:21 2022 -0700

    Fixed iOS/tvOS build

commit 878259722f60976ed5e9e74c2d311e8c15fe5da9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 08:22:20 2022 -0700

    Added SDL_GameControllerType enumeration for Nintendo Switch Joy-Con controllers

commit 4f19421ed8e24aef9075792a1c33f38b42f949f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 7 20:17:40 2022 -0700

    Fixed build

commit 29265d0738a0aa9752053e4525293cbf4210e1be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 7 18:49:30 2022 -0700

    Use SDL_GetStringBoolean() to parse the hint value

commit 8f5932dc2e3e5c4fadfd1d484b8fc5cd4e12639e
Author: Adam Butcher <adam@jessamine.co.uk>
Date:   Thu Jun 23 16:10:39 2022 +0100

    evdev: Support user-provided devices via SDL_EVDEV_DEVICES in non-udev mode.

commit f790fc4fc0a916ade6ade870a4e0222beff49b91
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Jul 26 14:37:35 2022 -0400

    Add contributing guidelines.

commit 198d62d813f352a57dd4d70d0591dc873e25a59b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 6 23:53:18 2022 -0700

    joystick: remove unused Xbox Controller Keyboard VID/PID.
    
    0x045e, 0x0b02 - is actually virtual keyboard that is generated by XboxGip drivers for Xbox One Controllers.
    
    Closes https://github.com/libsdl-org/SDL/pull/5121

commit 2909f6374368ad59d5055a2034f31b4e715f49bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 6 23:28:39 2022 -0700

    Revert "Enable bitcode by default for iOS and tvOS builds"
    
    This reverts commit 59963473efbe86e4b7ca292bc2d81ac90f872581.
    
    This fixes https://github.com/libsdl-org/SDL/issues/6015
    
    Starting with Xcode 14, bitcode is no longer required for watchOS and tvOS applications, and the App Store no longer accepts bitcode submissions from Xcode 14.
    
    Xcode no longer builds bitcode by default and generates a warning message if a project explicitly enables bitcode: “Building with bitcode is deprecated. Please update your project and/or target settings to disable bitcode.” The capability to build with bitcode will be removed in a future Xcode release. IPAs that contain bitcode will have the bitcode stripped before being submitted to the App Store. Debug symbols for past bitcode submissions remain available for download. (86118779)

commit dd2e3182116c9b0e07a157adb0ef286a49708fda
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Aug 6 12:31:06 2022 -0400

    wayland: Use libdecor visibility toggle for hiding/showing the window
    
    The current method of toggling the libdecor window visibility by destroying and recreating the frame results in a race where a use-after-free bug can manifest itself within libdecor when window visibility is toggled quickly. Instead, use the libdecor function for toggling visibility instead of destroying and recreating the frame every time.

commit fbb440d167af3a359c2a3bc9a05022b154a46781
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Aug 6 18:10:54 2022 +0200

    Invalidate texture in the UnlockTextureMethod

commit 52bf5b1de98fd0588ef4d9b4efd6860ce495a445
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 6 10:34:19 2022 -0700

    Added the hint SDL_HINT_JOYSTICK_HIDAPI_SWITCH_PLAYER_LED to control whether the player LED is set on Nintendo Switch controllers

commit f810dede16c31bebf825b67ad82894e794e5d87f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 6 09:50:13 2022 -0700

    Fixed comment so script processing works correctly

commit bdaf9a92a661debd6b31d82421ffdfa202b8ae72
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Aug 6 13:25:12 2022 +0000

    Sync SDL wiki -> header

commit f600364b8a575e03f140ab18eeabaeffb8f0b392
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 09:19:52 2022 -0400

    wayland: Mark window as MOUSE_CAPTURE while a mouse button is down.
    
    Wayland works like SDL's "auto capture" feature already, tracking the mouse
    globally only while a drag is occuring, and this is the only way to get mouse
    input outside the window.
    
    Setting this flag ourselves lets SDL_CaptureMouse() work in the most common
    use case without actually implementing CaptureMouse for the backend, including
    SDL's auto capture feature.
    
    Fixes #6010.

commit e2452ede6688f17251c1b3e418d3d57b15fab9d9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 09:19:10 2022 -0400

    include: Added documentation to SDL_CaptureMouse about auto-capture.

commit a6179e85c02bc65ff64553c046b16d2ef1a72ba9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 21:23:39 2022 -0400

    wayland: Don't double-free clipboard sources if ours gets cancelled.
    
    Fixes #6007.

commit 3da131c1c603a9c38e9c39984ced9d5b97d3eb4a
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Aug 5 21:07:54 2022 +0200

    Check if port if closed and open it again

commit 5858c7dfce80b0854b04475dde97996692ce9200
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 5 16:17:10 2022 -0700

    Fixed OpenGL ES Shaders for systems that don't understand precision keywords

commit 3685c64ed16e9e743b254e3163e48636af3dfb76
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Aug 5 16:16:31 2022 -0400

    wayland: Round trip after window show/hide operations.
    
    Perform a round trip after showing/hiding the window to avoid protocol errors when ShowWindow() is called immediately after HideWindow().

commit 17b329d199899da4bc328632f852e3c96f98c665
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jul 26 02:51:07 2022 +0200

    cmake: enable disabing hidapi

commit a4e6f3ca9d48c32bb674f9b5142a5b3d401496c0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jul 26 02:41:43 2022 +0200

    cmake: when there are alternatives, don't use libusb by default

commit d6a8b43cf79a47d0d6a45da236e1caf235bb6033
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 5 10:37:38 2022 -0700

    Added support for the HORIPAD FPS for Nintendo Switch

commit a2d3be904b219e4257fb11a8ecb51f5f9a9e60f7
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Aug 5 00:27:41 2022 +0200

    Implement create windows method

commit 4a9ceb7be915edc007e89642d37908657cadb397
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 4 11:33:36 2022 -0700

    The HORIPAD S uses the Xbox 360 protocol on all platforms and shows up as multiple styles of controller, depending on what model you have.

commit 28c01955bcf6daf8f953832c1d6576f6287739be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 4 10:46:37 2022 -0700

    Fixed button mapping for the HORIPAD S
    
    This controller actually comes in at least two flavors: a GameCube controller and an arcade pad, neither of which should have the face buttons remapped.

commit 40b7143180abf45da42ab617e7f50a0e71415a05
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 4 10:24:03 2022 -0700

    Fixed button mapping for the HORIPAD S controller
    
    This controller looks like a GameCube controller, is actually a Nintendo Switch controller, and shows up as an XInput device on Windows with the buttons already in the correct location.

commit 16e699a76155b8babb51e14d03b1c65eb6c589bb
Author: David Carlier <devnexen@gmail.com>
Date:   Mon Aug 1 07:59:04 2022 +0100

    Proposing exposing as public api the various arch dependent
    pause instructions so could be used in app infinite loops.
    A handful of games do already so we unify it in one place.

commit 43b90484c98963369b0220c61c8f52d7996e8236
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 4 00:40:38 2022 -0700

    Retry a little longer when writing to the Nintendo Joy-Con Charging Grip

commit 293d29b78a7de4fdff26f59682852b0dca4786a9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 4 10:11:02 2022 +0300

    SDL_x11xinput2.c: fix build for macOS

commit 5907db56f1535d1fafcb8c28591c8d0f7f880ebd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 4 02:11:21 2022 -0400

    x11: Attempt to deal with XInput2 devices with absolute coordinates.
    
    This is untested!
    
    Reference Issue #1836.

commit dfd2c574d7ced5ce4810a2fb6f52aebd6828bcf1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 22:27:43 2022 -0700

    Removed unused variable

commit a2b4f4406fa5cbdeeac1e6229f47e27aa5230a9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 22:27:42 2022 -0700

    The Nintendo Wii Remote Pro Controller respects the SDL_GAMECONTROLLER_USE_BUTTON_LABELS hint

commit c84dea0943abb390783a92cca6b0bcb76e856195
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 22:12:21 2022 -0700

    Fixed detecting the controller type of controllers over USB

commit ba297f12cd28554cb40748d5df76bdcb94117acb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 21:46:01 2022 -0700

    Use the Nintendo controller type to determine whether to always use button labels

commit 946f4777f6e947ff098da4d5e8a7e66d38a32528
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 21:33:38 2022 -0700

    Don't set Bluetooth controllers to wired power level

commit 57c3b2c95089600d4e1cdbbfb58ffd6ba84ca402
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 21:31:12 2022 -0700

    Don't rely on the device VID/PID to get the Nintendo controller type
    
    The Nintendo Online Sega Genesis controller reports the SNES VID/PID over Bluetooth. This is a more robust way of handling future controllers as well, so let's go with this instead.
    
    Also use full reports over Bluetooth, and don't report gyro for Nintendo Online classic controllers.

commit b6aadb16b9c2632748dae70bfe2f62c647e47bb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 20:38:33 2022 -0700

    Added k_eSwitchDeviceInfoControllerType_N64 to ESwitchDeviceInfoControllerType

commit bdfb32de3ca7622ea93afc8d434f657569dad58e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 20:30:58 2022 -0700

    Added some additional Nintendo controller types to ESwitchDeviceInfoControllerType

commit ea7fbf7947ac87f134569efc1af2661ba3455ff1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 19:39:37 2022 -0700

    Update in-flight SDL_CONTROLLERDEVICEADDED messages when a device is removed
    
    This fixes the application trying to open the wrong device index when a device is removed and another has just been added

commit 5d50fa52df747ae9d8b2e893dc6309d931bd4ba5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 19:39:36 2022 -0700

    Fixed timeout opening the Nintendo Joy-Con Charging Grip
    
    Sometimes opening the right Joy-Con takes a little longer for some reason

commit 29cdb2c9c921e085495b423479c9bf52ed9c5af0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 18:01:10 2022 -0700

    Added support for the Nintendo Switch Joy-Con Charging Grip

commit a8120104adc7a1cd05220ac98d1ffb28bda0babb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 13:53:49 2022 -0700

    The Nintendo Online classic controllers and Joy-Cons shouldn't show up as Switch Pro controllers

commit 6e1ee1d4a57f12863ee4e060eb8284f470d52293
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 13:51:25 2022 -0700

    sort the controller names

commit 8ab9dc8b2b9ca32483f5cb5741ddc72ef22ba89b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 13:18:00 2022 -0700

    Fixed crash if Joy-Cons are disabled while a combined Joy-Cons controller is open

commit bcdef4aaf93d5b2262b843f69204cad1518a650b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 3 13:07:47 2022 -0700

    Added separate hints for Nintendo Online classic controllers and Joy-Cons
    
    This allows them to be enabled/disabled separately from Switch Pro HIDAPI support

commit 60d1944e463da73f753661190d783961a9c5b764
Author: Shootfast <markboo99@gmail.com>
Date:   Wed Jul 6 20:12:30 2022 +0100

    SDL_video: Added SDL_GL_FLOATBUFFERS to allow Cocoa GL contexts to use EDR

commit 0b9868b02686f8256312821e4c6f0c7afd34270b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Aug 2 12:56:56 2022 -0400

    wayland: Use D-Bus to retrieve the cursor size and theme on GNOME
    
    GNOME exposes the cursor size and theme via the org.freedesktop.portal.Settings interface of the xdg-desktop portal, so query these values via D-Bus, if available.
    
    The XCURSOR_SIZE/XCURSOR_THEME envvars will be tried first, so as not to override any user specified sizes or themes, then D-Bus, then, failing that, it will fall back to default values.

commit 944111dbcfc60b83906024e98f53940c59322895
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Aug 2 18:47:39 2022 +0200

    Cleaning up video driver

commit 3f7dda8c72887e882134c33726ab0b00bee9dc22
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Aug 2 18:13:55 2022 +0200

    Remove deinit of video driver

commit 83c1179744749e5497617ea3565f0c3bc526607e
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 1 12:23:58 2022 +0200

    Adding SetViewPortCommand

commit a9f4cda3f96eab8d0a8efd74e2f6552560657598
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 1 12:13:28 2022 +0200

    Adding setcliprect command

commit fb1a205e70e7f3a1ae59c0f4f09b340fc4e8e7af
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 1 11:44:05 2022 +0200

    Implement blend modes

commit 075f9016fa0f0ba345ad11f6603df9944fdf3e29
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 1 11:43:50 2022 +0200

    Remove some unnecessary comments

commit ed301b123b1eacb07f9e107159d2f4b16b9544f9
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Aug 1 11:43:35 2022 +0200

    Updating supported format

commit 1d1965b6eef059660f011716ba701ee620b45fd5
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jul 18 12:34:17 2022 +0200

    Removing the BGR_888 from texture supported

commit f75c35c0718e6ed67df75fa13ae138bffbc78133
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Jul 12 23:01:28 2022 +0200

    Add invalidate texture when it changes

commit 5bb965be3d92e36b0532cc1f7411ded5be2083fa
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Fri Jul 8 15:47:33 2022 -0300

    Implement RenderLines

commit 0f0e5b44dcf5b5e5a34e90c268c1b3db0533065e
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Jul 8 17:47:19 2022 +0200

    Increase size of pool for gsKit events

commit f758cad81a2a825a0163bdcb7a91ad631ef2516a
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Jul 8 13:14:40 2022 +0200

    Remove non needed  FillRects function

commit 3cb124b98eb502d69d82ad0437bc729057b4ae35
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 15:00:15 2022 -0300

    Implement RenderPoints

commit df6ebc25620725f345d89424f251cd7599ab647f
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 14:10:37 2022 -0300

    Implement FillRect

commit a152e467b1ce1fdbc4c60dc2a67cfab915ff01a3
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 12:09:12 2022 -0300

    Fix "implicit declaration" with memalign

commit 33cbf9acbe0c8a059524634b6ad5b10a04b4b930
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 12:03:46 2022 -0300

    Fix some mixed declaration warnings

commit acf48f14ac1d27c64c4ff8b69aa6bb1d7c7136bb
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 11:37:20 2022 -0300

    Vertex pointer revision
    
    Now triangles are fully working

commit 726180445efceb8af60afd8cc4ad0acf9d4240dc
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 10:36:48 2022 -0300

    Add textured triangle prim

commit 2a70d492f008b15b924041f07886e56ab44dcfb9
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Thu Jul 7 16:42:42 2022 +0200

    Destroy texture properly

commit 7b0486d49008868945a77cdf476f001214147c53
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 09:33:36 2022 -0300

    Try triangles

commit d5305ee098d915b48a762cda6b1fc0321773583e
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 08:48:25 2022 -0300

    Do properly color assign

commit b48c74a3169da939ec37c462b4103b86ff2485c8
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jul 7 08:24:46 2022 -0300

    Add GeometryQueue

commit 3bfc8f554e4c223a840f61a1d63ae1215cc0e936
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jul 4 23:54:13 2022 +0200

    Removing some of the QueueCopy functions because they are legacy

commit be1219bd4ed39fc1fbbec2382c9f167030bf9f0b
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jul 4 23:35:25 2022 +0200

    Implement setDrawColor

commit f1699ce735e540322f23055e6b680991287d6bc2
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Thu Jun 23 23:45:04 2022 +0200

    Implementing Clear command and texture Update

commit c472b8dd455939ad107f9f3a85d470280d2d1648
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jul 4 13:23:06 2022 +0200

    Whole clean around render and video driver

commit cdf89fde915d7a69d9787e0d4c926aa505514aa3
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Mon Jul 4 04:09:55 2022 -0300

    Add triangle prim support
    
    Improve line support
    Add initial texture support

commit 88e64f9ae1b004c731ca39e4b54bdb21f291b799
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Jul 3 23:29:25 2022 +0200

    Add natively supported colors

commit 4564e8982590b9bcc5d586af65fe0c6ff0025d1e
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Jul 3 18:54:56 2022 +0200

    put files at the same line

commit 90e0e5c29d55d29b76f62eabbcb9f33a52f2438e
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jun 30 19:50:22 2022 -0300

    Add point, line and rect support

commit 147a71b97633f788014710799b430d92166e9f80
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jun 30 12:57:37 2022 -0300

    Finish dummy driver

commit 2660449c6cb33f405d5f3cf4329511a424198550
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Thu Jun 30 11:44:35 2022 -0300

    Add dummy driver

commit a81aa99298bd6ce792b804d8b9e3597691636961
Author: Daniel Santos <47725160+DanielSant0s@users.noreply.github.com>
Date:   Fri Jun 24 15:48:50 2022 -0300

    Add prim video support

commit 46f95a7a5fd8274e077e5e2bc2fad68f4e0704f5
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Jun 24 00:20:11 2022 +0200

    Create dummy PS2 Video driver

commit 75f34fc5bf1ac4ee6bcd76645bf4210eb15ae7a4
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Aug 2 14:52:12 2022 +0000

    Sync SDL wiki -> header

commit 307b0b78130252aa45d8951cf88b9b400c6eea9b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 10:50:51 2022 -0400

    video: Add a warning to the docs about using SDL_GetDisplayDPI.
    
    Fixes #5647.

commit f1390780ca8561b701222f2748000d8f80bbe99b
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Tue Aug 2 15:25:44 2022 +0200

    Fix use after free when removing Windows audio device

commit 59a104b8039c65a59210d51e2bd54a44d283fcbb
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Tue Aug 2 15:00:55 2022 +0200

    Do not pass NULL to memcpy
    
    ReadJoyConControllerType calls WriteSubcommandSync with pbuf=NULL

commit 42b23207566d24411fbd608ad877477cddb22bca
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Tue Aug 2 14:42:25 2022 +0200

    Fix memory leak of children for combined JoyCon

commit 602b7dd0f4a8291e847babfc38bae5a4bbdcc912
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 17:47:26 2022 -0700

    Made the window ICMProfile filename per-window
    
    The event no longer spams each time a window gets focus if there are windows on monitors with different color profiles.
    
    This also has the side effect that you no longer get a color profile event at window creation, which is consistent with other events that communicate state changes.

commit cb107bef58759468d715d919009bd2987954dade
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 14:23:50 2022 -0700

    Fixed crash if all displays have been disconnected
    
    Fixes https://github.com/libsdl-org/SDL/issues/5867

commit 12aa4d56537611b344cb38a19ae3401d0fb5a0cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 11:11:25 2022 -0700

    Added header needed for SDL_Delay()

commit aeb275149a453ca99ff3e5d4c39ff14888c98960
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 10:38:31 2022 -0700

    Poll DirectInput devices to get their initial state
    
    Fixes https://github.com/libsdl-org/SDL/issues/3816

commit 3a6cb7e7c50ba4b386d015bb4193d3d95a2444fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 10:28:29 2022 -0700

    Convert XLookupString Latin-1 text to UTF-8
    
    Fixes bug https://github.com/libsdl-org/SDL/issues/4699

commit 0cd5b08bfee49a40de8d41e8d16b356b43dbf612
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 09:43:15 2022 -0700

    Fixed infinite loop when SDL_SendKeyboardText() is passed invalid UTF-8 text

commit 954bbdf3aeb6212384372a003650f39416c82083
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 09:51:21 2022 -0700

    Allow emscripten platform to build without threads

commit e4cc076a792dc782135c45688e2d63b9805c824e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 09:15:44 2022 -0700

    Threads are used by many SDL subsystems and may not be disabled.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5095

commit 15bcf58d779fca8da37a7c3e8562af9d2503bbea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 1 08:14:40 2022 -0700

    Fixed memory leak in the Windows driver

commit cf63af8ae265c99e80ffc93e9930336c939524bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 31 22:10:45 2022 -0400

    events: Don't lose window RESIZED events during SIZED_CHANGED processing.
    
    Previously, calling SDL_SendWindowEvent for a SIZED_CHANGED event would
    filter the queue to remove RESIZED and SIZED_CHANGED events, so you don't
    overflow the queue with obsolete data, but any RESIZED events would be
    lost in this process.
    
    Now we note if there was a RESIZED pending and replace it with a new
    event using the same dimensions as the new SIZED_CHANGED event. This fixes
    cases where an app is only listening for RESIZED events and thus might
    lose important information in some cases.
    
    Fixes #5925.

commit 17f36c105c09181e3f00b0b9580884d83409a951
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 16:16:38 2022 -0500

    keyboard: Remove no-op calls to SDL_SetKeymap()

commit 9515fb2501a3ac7125501d5dd5f19aadcfcc7e8d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 16:10:10 2022 -0500

    keyboard: Use SDL_SetKeymap() to set the default keymap
    
    This ensures the AZERTY workaround is applied for backends that
    never call SDL_SetKeymap() themselves.

commit 8b438f7b51013a6494f385e26dd061e050a65f68
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 15:34:03 2022 -0500

    keyboard: Only send SDL_KEYMAPCHANGED when the keymap actually changes

commit a10c57dfe4de0f015caa8fed49eed70c1e71d6e1
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 14:18:33 2022 -0500

    evdev: Report touchpad events with the correct device type

commit 9a33c62e13eea76721ad57c74aa252358954789c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 14:06:59 2022 -0500

    evdev: Use SDL_bool for boolean types

commit f9d1f34b6ca5b9efa4d0eed6f6caba6823c9e395
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 13:10:43 2022 -0500

    evdev: Report a unique ID for each mouse device

commit 574db63c8e3ae602e265bf29f6fd8706e6b593c6
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 31 12:36:11 2022 -0500

    evdev: Batch mouse axis updates until SYN_REPORT
    
    This is necessary for consistent position reports with absolute mice
    and improves application performance with relative mice by cutting the
    number of reported mouse motion events roughly in half.

commit 7f42fb54adbb9fa86bbdbd09abac628ccfaef648
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 30 16:34:40 2022 -0700

    Applied DragonFly BSD patch
    
    https://github.com/DragonFlyBSD/DeltaPorts/blob/master/ports/devel/sdl20/dragonfly/patch-src_stdlib_SDL__malloc.c

commit ce5a23bd57f0393d39c48a3cffcb90c24bc56dae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 30 16:32:21 2022 -0700

    Applied DragonFly BSD patch
    
    https://raw.githubusercontent.com/DragonFlyBSD/DeltaPorts/master/ports/devel/sdl20/dragonfly/patch-include_SDL__endian.h

commit 6926ff3cd83c9fea544f1cc574df267b8a069a48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 30 16:30:32 2022 -0700

    Applied DragonFly BSD patch
    
    https://github.com/DragonFlyBSD/DeltaPorts/blob/master/ports/devel/sdl20/dragonfly/patch-configure

commit 21100006ad41876db53060dc754423e369cc5a9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 30 16:22:24 2022 -0700

    Don't conflict with usage of stdout as a stdio macro
    
    Patch inspired by http://cvsweb.netbsd.org/bsdweb.cgi/~checkout~/pkgsrc/devel/SDL2/patches/patch-src_video_wayland_SDL__waylandmessagebox.c?rev=1.1&content-type=text/plain

commit 6e9a606a8e36bfff3e8f83279016ffd5d1e9c628
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 30 21:08:07 2022 +0100

    Add more mingw-w64 build workflows

commit 3bdc10f842c3eba74b9837caa21339a68a19efbe
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 30 19:41:48 2022 +0100

    Update the list of required Ubuntu packages, and add Ubuntu 22.04 workflows

commit adb3e1a21d381cc1e62a12ae41cc7e5585c72a92
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 30 13:35:38 2022 +0100

    Add FreeBSD builds to GitHub Actions

commit 22f25b03d912db59c8d45992c37eb6365a9959aa
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Jul 24 13:22:39 2022 -0400

    core: linux: Favor xdg-desktop-portal for elevating thread priority
    
    Use the xdg-desktop-portal interface to RealtimeKit1, when available, to set realtime scheduling and elevated priority for threads.  This portal allows for the use of rtkit within containers such as Flatpak.  It will fall back to using RealtimeKit1 directly if the xdg-desktop-portal interface is too old or not available.

commit 2241bd669fcb96046390e2a08eeea5864a832b15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 29 20:37:38 2022 -0700

    Added a command line option `--info event_motion` to show mouse and finger motion events

commit 13e0c40ec26a44682e3524aea11a2a530547320c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 29 17:28:36 2022 -0700

    Added mapping for the 8BitDo Pro 2 controller in DirectInput mode over Bluetooth on Linux

commit 62c831661c046a550ff11e9d296106c1b3325007
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 29 17:14:55 2022 -0700

    Added mapping for the 8BitDo Pro 2 controller in DirectInput mode

commit 41c363f7d654e694d629b46d08349968e0cf857c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 29 16:27:23 2022 -0700

    Note that the PDP Versus Fighting Pad is an arcade fighting pad

commit 47265f377f559ec91805dbfdee355ce0ca416db3
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Jul 29 13:24:05 2022 +0000

    Sync SDL wiki -> header

commit 36dfbe5d66a487e92f5792ea0018fac02ec474e5
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 28 02:06:29 2022 +0200

    stdlib: exclude mslibc functions using SDL_STATIC_LIB macro

commit f8aa00d1980bdf05f49e7173af7c6646fb67ca0d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 28 16:30:02 2022 +0200

    cmake: add HAVE_STDDEF_H to SDL_config.h.cmake

commit 83f5bbdf25eafa38818a60d6a0cea90d90e25dc7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 28 14:08:20 2022 +0200

    cmake: define SDL_STATIC_LIB for static SDL2 library

commit bdd1d035b7680dd2861a4adfa05ad1d2aa2603d9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 28 02:38:04 2022 +0200

    cmake: Don't add /NODEFAULTLIB to link flags when building SDL-static

commit 181877ebeb036534347b782a9f44c636721a2d09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 21:54:34 2022 -0700

    Added SDL_hidapi_combined.c to the Xcode project

commit f3c1194c0fff0125b0527408d6a6d33c73b7515f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 21:50:41 2022 -0700

    Removed obsolete comment

commit aee179e46fdc087800c6da857b03b5538be0960d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 21:50:20 2022 -0700

    Removed debug output

commit d8fd78736b24e0e18338c8797d9effc18dbbc946
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 21:44:23 2022 -0700

    Added entry for the Nintendo Switch Joy-Con controller pair

commit 875b737c641c5e2aca14b58c5f779ff3d2e7c15e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 21:39:32 2022 -0700

    Added support for the Nintendo Online NES Controllers to the HIDAPI driver

commit 45c1cc81771123a3a3a632e945dd4fd7a428c92b
Author: Xiaofeng Wang <wasphin@gmail.com>
Date:   Fri Jul 29 11:30:17 2022 +0800

    Compatible with including as <SDL2/SDL.h>

commit ab967475c68cb7a2216f7c0cb57aa6b8935a15c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 19:38:38 2022 -0700

    Greatly improved Nintendo Joy-Con support using the HIDAPI driver
    
    * Added support for mini-gamepad mode for Joy-Con controllers, matching the mapping for hid-nintendo on Linux and iOS 16
    * Added the ability to merge left and right Joy-Con controllers into a single Pro-style controller
    * Added the hint SDL_HINT_JOYSTICK_HIDAPI_SWITCH_COMBINE_JOY_CONS to control this merging functionality
    * Removed the hint SDL_HINT_JOYSTICK_HIDAPI_JOY_CONS

commit dfed862a6642d9fbdf4663c9b2823cde5ac635c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 19:35:46 2022 -0700

    Fixed variable shadow warning

commit 2fa2f9ff77b744acc3a1be0323d798166996b467
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 28 19:22:27 2022 -0700

    Greatly improved Nintendo Joy-Con support using the HIDAPI driver
    
    * Added support for mini-gamepad mode for Joy-Con controllers, matching the mapping for hid-nintendo on Linux and iOS 16
    * Added the ability to merge left and right Joy-Con controllers into a single Pro-style controller
    * Added the hint SDL_HINT_JOYSTICK_HIDAPI_SWITCH_COMBINE_JOY_CONS to control this merging functionality
    * Removed the hint SDL_HINT_JOYSTICK_HIDAPI_JOY_CONS

commit def60ce6fe53de7250fcb3cb2f301fa93b004434
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 19:20:42 2022 -0700

    Fixed the name of the HIDAPI Joy-Con controller for consistency with other drivers

commit 0f1be9401f3d39368ab9572e4b8d962e0ea6072e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 17:32:51 2022 -0700

    Updated mapping for Joy-Con controllers using hid-nintendo
    
    This matches the mapping on iOS 16 and will match the HIDAPI
    implementation.

commit 756978a236b0650f354f0cedb15de605ea4cc066
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 16:17:32 2022 -0700

    Left and right single Joy-Con controllers are mapped as individual mini controllers

commit 4990bd0517808c92871df3981bd188066b1c6944
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 16:17:32 2022 -0700

    Added debug code to show available inputs on iOS/tvOS controllers

commit 65473ae36d094f07660d025b01b12b286edd1cfb
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 02:01:59 2022 +0200

    autoconf: use ax_compute_relative_paths

commit dbf79405416400cfeecc4b1d92eeda24421edd5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 10:31:24 2022 -0700

    Enable capturing raw Xinput2 touch events and use to flag global mouse state as dirty
    
    - Touch events may be translated to mouse movement events without the normal Xinput2 raw motion events
      being sent. Not all touch events will necessarily move the mouse but this ensures we update the global
      mouse state just in case.
    
    - Fix up some formatting
    
    CR: saml

commit 42165fe8d1423c4fa3232ce6952459653f69a3e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 27 12:12:03 2022 -0400

    kmsdrm: slightly better device index hint parsing.

commit 02c874717648f1dd919eca9c39a8b2b0ebc73657
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jul 27 15:05:41 2022 +0200

    math.h does not always provide M_PI
    
    This fixes the following error when building with SDL_LIBC:
    SDL\test\testautomation_math.c(1965): error C2065: 'M_PI': undeclared identifier

commit 5da85376b96effaa9f98840e88acaf3419174cb8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jul 26 21:47:52 2022 +0200

    stdlib: move all mslibc functions to SDL_mslibc.c
    
    This allows disabling LTO on them by only specifying a single file.

commit a169259f62b10cada614d77e204a7e03e640de39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 09:05:02 2022 -0700

    Actually we don't need to unlock to send k_eSwitchProprietaryCommandIDs_ForceUSB since we don't wait for reply

commit c51464d9d8b27d0ffae80793a2bdeb6590be6d72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 27 09:00:39 2022 -0700

    Put the Nintendo Switch Pro controller back into enhanced mode as needed
    
    Fixes https://github.com/libsdl-org/SDL/issues/3450

commit 5c70e45c537b66c379f265795630bb5ee607fd5b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 23:46:36 2022 +0200

    cmake: don't use result of 'find_library' for Android libraries

commit 430c39082f3333540d0f48a5ae1e65c1e41dd549
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 23:35:59 2022 +0200

    ci: test 'sdl2-config --static-libs' + 'pkg-config sdl2 --static' on ci

commit 4690689a4c0569fcfc79033ea4d12b2b431264e1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 23:06:52 2022 +0200

    cmake: on Apple, don't use find_library for frameworks + use EXTRA_LDFLAGS

commit 613ce7850e579b628361a2692e21e9aa33889b22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 26 13:34:27 2022 -0700

    Fixed interpreting SDL_KMSDRM_DEVICE_INDEX="" as index 0

commit 36d456797b16de05fc6d3e6c57891cb1b06d2d45
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Jul 26 15:42:01 2022 -0400

    CI: Fix CMake workflow.
    
    - Add quotes the OSX_ARCHITECTURES list.
    - Extract the flag in the matrix.

commit cc982ea7a716edb55eb2a46d3974f9ac0ab8e449
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 15:43:34 2022 -0400

    kmsdrm: let device indexes be > 2 digits.

commit c37c1f7ac3be293b63e266378926f0c6706fd393
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue Jul 26 15:24:38 2022 -0400

    CI: Make macOS universal build with CMake.

commit 1f276a5148250f655ef5631ff7331b40de04cedd
Author: diddily <diddily@gmail.com>
Date:   Tue Jul 26 13:30:59 2022 -0400

    Fix Main Thread Checker warning on macOS
    
    Cache off NSWindow's windowNumber in SDL_WindowData on setup and use that in `Cocoa_SendWakeupEvent` to prevent accessing windowNumber off the main  thread.

commit 31d38f2f308b2a42b1f806758ea5fea9377a0a02
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 15:14:37 2022 -0400

    WhatsNew.txt: Note that minimum macOS version is now 10.9.

commit 542a4da3d61575374d4d822cc3c7ad771bfc34d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 15:11:19 2022 -0400

    kmsdrm: check SDL_HINT_KMSDRM_DEVICE_INDEX hint in dri_getindex().
    
    Otherwise, it would work for Init but not Available.

commit 218c3dbb348e042e02072f950915662a6f345e94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 14:45:26 2022 -0400

    cocoa: Don't crash if moving a message box created before SDL_Init.
    
    Fixes #5928.

commit f789bc7d5f33911671f30438a5c4980a269cee38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 26 11:36:01 2022 -0700

    Updated minimum OS targets on Apple platforms to match supported platforms using Xcode 13

commit 8ff738f234bd0150639a4fd07e5a53d2d9068bd2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 12:40:47 2022 -0400

    audio: Report SDL_AUDIODEVICEREMOVED for unopened devices.
    
    Unopened devices, if removed, now send SDL_AUDIODEVICEREMOVED events with
    a `which` field set to zero. Apps can use this to decide if they need to
    refresh a list of devices being shown in an options menu, etc.
    
    It's safe to call SDL_CloseAudioDevice(0), so even if they try to clean
    up this bogus id, it should be safe.
    
    Fixes #5199.

commit 5d85c7d300e91d89431f5b12221cd1e5655aa33b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 26 00:19:16 2022 -0400

    kmsdrm: Added a hint to specify device index.
    
    Fixes #2811.

commit 20a76b0e3e73001603c265d0b8fe3b46d15d3ece
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 25 23:06:58 2022 -0400

    video: removed unused devindex argument from bootstrap's create method.

commit cbb3f4ca379097b98bc8a2bbe40cd539a3f93991
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 25 19:52:46 2022 -0700

    Add SDL_guid.h to the global SDL header

commit 12211df669c26ed820d08dc4930ccf3992e8bd10
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 10:44:26 2022 +0100

    hide SDL_GenerateAssertionReport in case SDL_ASSERT_LEVEL is 0
    otherwise SDL_PromptAssertion (and SDL_GenerateAssertionReport) can not be eliminated

commit a423848ea05b40bac1054f076f6c1577d13723aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 25 11:26:18 2022 -0700

    Allow floating point values for SDL_HINT_JOYSTICK_HIDAPI_SWITCH_HOME_LED
    
    This allows setting the brightness of the home LED on Nintendo Switch Pro controllers, in the range 0.0 - 1.0.
    
    This can be updated at runtime by setting the hint dynamically.
    
    Fixes https://github.com/libsdl-org/SDL/issues/3787

commit 1e492b2f6d6ee76f414047d5729d083dbc547d4f
Author: diddily <diddily@gmail.com>
Date:   Mon Jul 25 10:12:53 2022 -0400

    Improve behavior of SDL_events_need_periodic_poll() and SDL_events_need_polling()
    
    SDL_events_need_periodic_poll() and SDL_events_need_polling() are intended to allow the event loop to update joysticks and/or sensors if needed, however those systems only update when the SDL_update_joysticks and/or SDL_update_sensors variables are true. This change brings the behavior of these functions in line with if work will actually need to be performed.
    
    This change allows the hints for AUTO_UPDATE to influence the polling behavior of the event loop such that an app can choose to update joysticks/sensors itself and avoid the expense of constantly sleeping and waking the event loop. Additionally in makes these functions marginally faster in some situations by not searching the active events.

commit d9bda89fcec321e2dc99b5d0e5148ee710aa4d56
Author: diddily <diddily@gmail.com>
Date:   Mon Jul 25 10:03:36 2022 -0400

    Fix updating SDL_update_joysticks and SDL_update_sensors in response to hint changes
    
    Hint callbacks are called before the actual value in the hint is changed, so the functions SDL_AutoUpdateJoysticksChanged and SDL_AutoUpdateSensorsChanged were not actually properly updating their respective variables in repsonse to their auto update hint changing.
    
    Instead, we pull the new hint value out of the value passed into the callback and use that to update the variables. Assume true on a null value as that was the previous behavior and it matches with the default values of SDL_update_joysticks/SDL_update_sensors.

commit 0ec5bb4e6d28d9f7279b7660e3773d69e9545f44
Author: diddily <diddily@gmail.com>
Date:   Mon Jul 25 10:37:23 2022 -0400

    Add missing controller events to `SDL_GameControllerEventState()`
    
    Events to handle controller touchpads and sensors were added to the library but not added in `SDL_GameControllerEventState()`. This change adds the missing events.

commit f86ec47f86b1ee3bae2a2f81e00796db903c208c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jul 25 15:08:33 2022 +0200

    ci: don't use ANDROID_NDK_HOME environment variable in Android workflow

commit 4d66501736d3c283f34ff950f5f0e3d52b24f5e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 24 18:04:26 2022 -0700

    Fixed building with 10.9 SDK
    
    Fixes https://github.com/libsdl-org/SDL/issues/5954

commit 3ab1e303ec11294af827939a5db6d83a3fed47a2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 24 15:29:42 2022 -0500

    joystick: Refactor and fix a few bugs in Shield HIDAPI driver
    
    - CMD_CHARGE_STATE was checking the seqnum instead of the payload
    - Off-by-one error in size validation for command payload
    - Unused payload space was left uninitialized in output report

commit b8a55407400646892ead1b48936876074c28d971
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 24 15:19:02 2022 -0500

    testgamecontroller: Add battery reporting

commit 4d8bb89c469d4222b5f3f21c42c8d59678e2bb89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 24 11:50:14 2022 -0700

    Fixed mouse clip rect bounds on Windows
    
    Fixes https://github.com/libsdl-org/SDL/issues/5946

commit 6bcde52d8880565b907f3e80c317517514010c4a
Author: Dean Herbert <pe@ppy.sh>
Date:   Sun Jul 24 20:19:16 2022 +0900

    Further adjust implementation of `Cocoa_GetWindowDisplayIndex`
    
    As discussed in PR review, there may be an off-chance that the index
    returned doesn't match up with SDL's display indexing.
    
    This change ensures that the indices match and adds a safety check for
    off-screen windows.

commit ce8aae1419f88ccc8b9c0615f7ddbef65a9bbbf4
Author: Dean Herbert <pe@ppy.sh>
Date:   Wed Jul 13 15:01:55 2022 +0900

    Fix `Cocoa_GetWindowDisplayIndex` failing and causing a catastrophic crash
    
    With the introduction of this function, it is possible that for certain
    monitor and window configurations, creating an SDL window will cause a
    native crash.
    
    ```
    Crashed Thread:        0  Dispatch queue: com.apple.main-thread
    
    Exception Type:        EXC_BAD_ACCESS (SIGSEGV)
    Exception Codes:       KERN_INVALID_ADDRESS at 0x0000000000000050
    Exception Codes:       0x0000000000000001, 0x0000000000000050
    Exception Note:        EXC_CORPSE_NOTIFY
    
    Termination Reason:    Namespace SIGNAL, Code 11 Segmentation fault: 11
    Terminating Process:   exc handler [56627]
    
    VM Region Info: 0x50 is not in any region.  Bytes before following region: 140737486737328
          REGION TYPE                    START - END         [ VSIZE] PRT/MAX SHRMOD  REGION DETAIL
          UNUSED SPACE AT START
    --->
          VM_ALLOCATE              7fffffe75000-7fffffe76000 [    4K] r-x/r-x SM=ALI
    
    Thread 0 Crashed::  Dispatch queue: com.apple.main-thread
    0   libSDL2.dylib                            0x10247f665 SDL_UpdateFullscreenMode + 357
    1   libSDL2.dylib                            0x10247ec70 SDL_CreateWindow_REAL + 1504
    2   ???                                      0x111262de8 ???
    3   ???                                      0x110c39fff ???
    4   libcoreclr.dylib                         0x101fdf2a9 CallDescrWorkerInternal + 124
    ```
    
    Tracking thread from our end: https://github.com/ppy/osu-framework/issues/5190
    Regressed with: https://github.com/libsdl-org/SDL/pull/5573
    
    In testing, the window would not find a valid screen if created
    "hanging" off a primary display with a secondary display below it. In
    checking why this was the case, the `display_centre` was being
    calculated with a negative y origin, causing a final negative value
    falling outside all display bounds:
    
    ```
    SDL error log [debug]: display_centre.y = -1296 + 1296 / 2
    
    SDL error log [debug]: Display rect 0: 0 0 2560 1440
    SDL error log [debug]: Display rect 1: 2560 -625 1080 2560
    SDL error log [debug]: Display rect 2: 0 1440 1728 1296
    ```
    
    The method that was being used to find the current window using the frame
    origin/size seems unreliable, so I have opted to replace it with with a
    tried method (https://stackoverflow.com/a/40891902).
    
    Initial testing shows that this works with non-standard DPI screens, but
    further testing would be appreciated (cc @sezero / @misl6 from the
    original PR thread).

commit 041666e6c35c2710045f8994017d54e9251c5154
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sun Jul 24 05:45:59 2022 +0200

    video: wayland: Don't switch to libdecor path for borderless windows
    
    We actually request CSD mode with xdg-decoration for borderless
    windows, so we get what we wanted there and there's no point in going
    into fallback paths.

commit 405d1f6598f8460c6f1ab671fe5f13e9462ae883
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sun Jul 24 10:16:20 2022 +0200

    video: wayland: Roundtrip after falling back to libdecor in xdg-decoration handler
    
    Otherwise libdecor doesn't have a chance to acquire xdg-toplevel after
    libdecor_new before we attempt to use it in Wayland_ShowWindow.
    
    Fixes #5952

commit fc2497b109f6d38a0e55f9af92162b9a90b36fcf
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 18:05:35 2022 +0200

    Revert "cmake: don't add -mwindows to link flags in sdl2.pc"
    
    This reverts commit d211aaddc1edaad0e7d461d6837f3f1d2f9f4b41.

commit 2fdedd17be03678c89e65bc2bd0672b48f38c5e9
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 17:29:08 2022 +0200

    Revert 6fa7d62 and 856c99e5

commit 856c99e583fbbea9c419f1acbb060e2c2e8009de
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 15:51:21 2022 +0200

    android: target android-19 by default when building with build-scripts/androidbuildlibs.sh

commit 832754b9702dd5dd469d7b76dce5c31122b6df91
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 15:43:06 2022 +0200

    ci: install SDL when built as a subproject

commit 6fa7d62408024e8de64547e33bbc7fbf25ad59ec
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 15:31:35 2022 +0200

    ci: use android-ndk r25 (LTS) on CI

commit d211aaddc1edaad0e7d461d6837f3f1d2f9f4b41
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 15:29:39 2022 +0200

    cmake: don't add -mwindows to link flags in sdl2.pc

commit d63a699e015ca09f2fbab1d917de98f62f950e5d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jul 23 15:29:13 2022 +0200

    cmake: by default, disable install target when building SDL as a subproject

commit 8c51cae7849dbd86bb62f3ebd444a527e56e0c4d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jul 23 14:56:04 2022 +0300

    audio/aaudio, audio/openslES: fix -Wdeclaration-after-statement errors
    
    Fixes https://github.com/libsdl-org/SDL/issues/5950

commit 65647b341777e469efc9a3e05755eb89daed4ecc
Author: slime <slime73@gmail.com>
Date:   Fri Jul 22 22:07:52 2022 -0300

    SDL_Render: use high precision texcoords in ES2 shaders, when possible
    
    Fixes #5884

commit f9beef760a778cc74d48d17971b6ce0451979c2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 22 18:58:29 2022 -0700

    Added support for the Nintendo Switch Joy-Con Controllers on iOS and tvOS 16

commit aad7ef6eafc01fd90677118340dc33f2f7ba9726
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 22 10:58:34 2022 -0700

    Added support for the Nintendo Switch Pro Controller on iOS and tvOS 16

commit 59963473efbe86e4b7ca292bc2d81ac90f872581
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 22 10:58:32 2022 -0700

    Enable bitcode by default for iOS and tvOS builds

commit 20f51b1fd736c7031540007ad60262622d84c6d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 22 10:58:29 2022 -0700

    Fixed crash if debug text wasn't drawn during a session

commit 8cd515c32458702a274652b5e822ed52c08a948c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jul 22 20:37:28 2022 +0300

    better wording.

commit 41b89aec196a74022f9733216fa62c340eae0911
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Jul 22 12:23:44 2022 -0400

    video: Improve the SDL_WINDOW_ALLOW_HIGHDPI flag documentation
    
    Extend the SDL_WINDOW_ALLOW_HIGHDPI flag documentation to stress the importance of querying the window drawable size after every window event to avoid rendering issues in a mixed-DPI environment.

commit 0a1641635d4a378957b077dd45ecfdb63527be26
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jul 21 20:30:33 2022 +0300

    VIta: enable arm neon/simd optimisations

commit e5698d13940c088f2260fbeefcd1dc3767251385
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 21 18:38:12 2022 +0200

    cmake: allow cmake re-configuration after installation of x11 library
    
    check_include_path is not meant to be used to check for presence of a
    library. This is because a BOOL is cached.
    Avoid this caching by using find_file.
    `find_file` caches a patch instead of a bool and will always run when
    the result failed.

commit 192ae1e356949e012c2342da9cc5a28b010d7faa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 21 17:11:30 2022 +0300

    WhatsNew.txt: added line for the calling convention fixes.

commit 9ad3711a6b827f5d3923f31386507d6acc2429d6
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 21 15:19:19 2022 +0200

    cmake: only enable x11_xss/x11_xrandr/x11_xfixes when its lib is available

commit ac9e8691a23bf8089563f6927c3ef5d6fca0196c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 21 14:49:35 2022 +0200

    cmake: only build testnative when X11 is available

commit aa7a6c0ea662c5e48b21f320459efe9fd43ba3b4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 21 14:38:57 2022 +0200

    cmake: only enable x11_xcursor and x11_xinput when its library is available

commit 8f33de84621319a5504f2197854a2e5c03ae5dea
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jul 21 14:08:19 2022 +0200

    cmake: set CMP0054 policy to NEW

commit a33b5449ff242f6e7aaac9921a2843b2aa59e44b
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jul 20 19:11:42 2022 -0400

    WhatsNew.txt: Added audio channel support changes

commit f3008e4aabf76f3c3cf2c57d8f01990e779cf477
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jul 20 19:08:31 2022 -0400

    audio: 3- and 5-channel formats are now supported

commit 45c3b59d4b335433b241905f571423739a969cd9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 20 17:23:42 2022 -0400

    audio: Turn off DEBUG_CONFIG logging again.

commit bec721f08a583eb13705e99b18c98828a3b0036e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 20 17:22:41 2022 -0400

    audio: Fixed dst pointer on channel conversions that grow in-place.

commit 9f56c7cf026c51f11f53866defd1c1e9c6606c87
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 20 16:39:19 2022 -0400

    audio: Remove 5.1->X SIMD converters, add SSE mono->stereo.
    
    The 5.1 versions didn't use the new algorithm, and making that new
    algorithm work took so many permutes that it was significantly slower
    than just using the scalar versions.
    
    However, mono-to-stereo is an extremely common conversion, and it's
    trivial to accelerate it with plain SSE, so that was added!

commit b83ae9f24c46ee0415e036ad16610523fe601085
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 22:40:51 2022 -0400

    audio: Replaced some debug-printfs with debug-SDL_Logs.  :)

commit f73d07da5fdb0e0343d6e6f3a34a074f2363b953
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 22:13:31 2022 -0400

    audio: Headers said 5 channel is quad+center, but it's 4.1.

commit 49ec8db5f8ba9d386451487bb9e1698ab58346a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 22:04:49 2022 -0400

    audio: Generate the channel converter code from a program.

commit f06cc3e94533fb7c44096d1bf737ae78cb8ce5b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 22:03:56 2022 -0400

    audio: "SL" means "surround left" not "side left", etc.

commit 5a0c8198634ad1670f8d003e4f7f8a87cc3c6411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 22:03:02 2022 -0400

    audio: Add channel convert filter _after_ choosing an SIMD version.

commit fe16084075e95029a4112c4d5f3885cfdd428b86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 16:04:48 2022 -0400

    audio: LOG_DEBUG_CONVERT should use SDL_Log, not fprintf(stderr).

commit 257277903e23c3e4cb2565524b34f80b73ac20da
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 19 02:16:08 2022 -0400

    audio: first attempt at rewriting the channel converters.
    
    This is not ready for production use!

commit be3a945a8b9ff12e78f4b0d4634d38cc89d4c418
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 20 11:05:55 2022 -0700

    Added support for the 8BitDo Ultimate Wired Controller for Xbox

commit b700a326307512436eeadc2770e52159582da08f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 20 07:01:10 2022 +0300

    audio, pipewire: fix signatures of pw_get_library_version and pw_init.
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/5938

commit 6e210d37978b74071f78983c42ea8950317b8e0f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 20 07:01:10 2022 +0300

    audio, pipewire: pipewire_version_xx globals out of dynamic loading
    
    Fixes build with --disable-pipewire-shared
    Reference issue: https://github.com/libsdl-org/SDL/issues/5938

commit 78bad66773ed537de006b3981104d9f31a239b88
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Jul 16 22:12:08 2022 +0800

    video: wayland: Resize the window before sending the SDL_RESIZE event
    
    Currently, the SDL_WINDOWEVENT_RESIZED event is sent before the actual
    window is resized (and various internal state, such as the desired
    GL/Vulkan backbuffer size, are updated). This makes sense, as SDL will
    discard a no-op resize, which would be the case if we had resized before
    sending the event (indeed, there are existing hacks to prevent this).
    
    However, this means that SDL_{GL,Vulkan}_GetDrawableSize() will still
    use the old size in the SDL_WINDOWEVENT_RESIZED handler. In the case of
    SDL_Renderer, this means the drawable size it uses will be wrong, and
    the viewport will get "updated" to the old value.
    
    This then results in bug #5899.

commit 53e685168d97994b3d5a1cfd0278ae3338521615
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 18 07:31:23 2022 -0700

    Fixed declaration-after-statement warning

commit 6ad7fdecced4647a8e481259fcf229a1339d8dd2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 18 07:26:29 2022 -0700

    Fixed infinite loop for values bigger than 0x40000000
    
    Fixes https://github.com/libsdl-org/SDL/issues/5930

commit 986818143deb266d9a76b7bc59e63aa35a357797
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 18 07:20:58 2022 -0700

    Fixed missing imports in SDLActivity (thanks @guusw!)

commit 2be9301410ba8d0a05526c7431a4dac75478e71b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 18 07:18:56 2022 -0700

    Fixed comment (thanks @pionere!)

commit cef1514b01bc32f6a2778344d69e13011856576a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 17 09:07:04 2022 -0700

    Fixed some Xcode warnings

commit e3916993e20ff6efadec28255084f0a519c7a79a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 17 08:47:06 2022 -0700

    Added SDL_utils.c to the Xcode project

commit b299cb3d3c2bed0a9d14db8f12ff6515a16ef5aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 17 08:31:16 2022 -0700

    Added a utility function to calculate the next power of 2 for a value

commit 90b86b132af02d0a8b1d39103b04ebb667687fec
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Jul 17 10:35:09 2022 -0400

    audio: Handle non-power-of-two spec.samples when unsupported
    
    Fixes #3685

commit d21a18c65f27d87edb8e41734a46c76841b55f1b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 17 01:06:16 2022 -0500

    WhatsNew.txt: Add line for Shield HIDAPI driver

commit cdf9010a19512dc84f6770d3617b848f5848876f
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Jul 16 12:39:30 2022 -0400

    Added new audio features to WhatsNew.txt

commit a09d62e4d81522a04e5bd04346d1b22f02ade890
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 15 23:45:56 2022 -0400

    directsound: Remove redundant SubFormat copy

commit c5e408ae9837f6bef0c3ca0ed1ec65d4a75185e2
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 15 11:31:59 2022 -0400

    directsound: For channel counts > 2, generate a dwChannelMask for CreateSoundBuffer

commit fff34f630479f79cc58f0b3455969c3ddf32d5d0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 15 09:46:53 2022 -0400

    windows: SDL_IMMDevice needed more deinit code from the Win32 path.
    
    Fixes #5919

commit 37aecda2c1377d923a6dca8a161a7d31f2c327e4
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Jul 14 11:38:51 2022 -0400

    pipewire: Use PW_KEY_TARGET_OBJECT to specify stream connection nodes
    
    Pipewire 0.3.44 introduced PW_KEY_TARGET_OBJECT, which is to be used to specify target connection nodes for streams.  This parameter takes either a node path (PW_KEY_NODE_NAME) or serial number (PW_KEY_OBJECT_SERIAL) to specify a target node.  The former is used in this case since the path is already being retrieved and stored for other purposes.
    
    The target_id parameter in pw_stream_connect() is now deprecated and should always be PW_ID_ANY when PW_KEY_TARGET_OBJECT is used.

commit 2201d8025589c2657e1b02f56aa4d0d27163237d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 14 02:40:00 2022 +0300

    avoid -Werror=declaration-after-statement after last commit.

commit 24b3efd08d9ffb71e3937010c5f677aab454d414
Author: freebsd <freebsd@freebsd.fios-router.home>
Date:   Tue Jul 12 04:33:56 2022 +0000

    (OpenBSD) Exe Path: Use PWD instead of CWD and use CWD as fallback

commit 883409ea071b1243f0ad389f83c79e623d356797
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 13 11:26:42 2022 -0700

    Added support for the misc1 button on the Nintendo Switch Pro Controller
    when using hid_nintendo kernel driver

commit 9a4f200d44bfc20432f2581c8977561fd2af9151
Author: SuperSamus <40663462+SuperSamus@users.noreply.github.com>
Date:   Sat Jun 4 14:57:49 2022 +0200

    gamecontrollerdb: Linux, add mappings for hid-nintendo driver and more
    Taken from https://github.com/gabomdq/SDL_GameControllerDB/blob/master/gamecontrollerdb.txt

commit 7e2a99695858e5c6c744ae3075513958ee6eebf6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 13 08:57:40 2022 -0700

    Added a virtual joystick automated test
    
    Useful to verify https://github.com/libsdl-org/SDL/commit/4fa2653394150140c4d69cf66a78cd83e1175f99 on a big-endian system

commit 06c7d22653b7fe5d0aeb9739bcb9666f9f327192
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 12 18:53:53 2022 -0700

    Added mappings for the HORI Fighting Stick mini 4 on Linux and macOS

commit 27d8cbf026454cfc66563b772fb6c5014bce3ae0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 12 18:17:32 2022 -0700

    Added PowerA and Qanba vendors for Android USB device support

commit e24b971a340dbb1f713b3e98efaf1b05dfbedc7b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 12 17:53:03 2022 -0700

    Added support for the NVIDIA Shield controller guide button

commit c92ddddde60056ab87cb7f733444db33c88994b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 12 13:00:43 2022 -0700

    Sort libraries by version and pick the shortest symlink (thanks @jpalus!)
    
    Fixes https://github.com/libsdl-org/SDL_image/issues/289

commit b321eae51a64fece5e8978edab081c4dfea422f3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jul 11 19:43:25 2022 -0500

    joystick: Fix spurious battery empty events when opening a Shield controller

commit a0d8848baa3b67df732ddea5f5a5ee62592d69c5
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jul 11 19:37:25 2022 -0500

    joystick: Plumb SDL_JoystickSendEffect() for the Shield HIDAPI driver
    
    The effect data format consists of one command byte followed by zero or more
    payload bytes.

commit deca77c166d3a060e75465cba1e352167c7d571c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 11 15:55:14 2022 -0700

    Regenerated configure

commit d5b8cf72f47bda18403137fee7bd64cce30f5e4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 11 15:54:15 2022 -0700

    Revert "autotools: relax soname pattern for dynamic loading"
    
    This reverts commit 85536328272d754277febd010e82d89b04e68b6d.
    
    An issue with choosing the shortest one, is that it will prefer development libraries: libfoo.so is shorter then libfoo.so.0.6.

commit 36d8460c9e96962765fa6a5f3074ecf3c871c057
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Jul 11 16:59:23 2022 -0400

    pipewire: Dynamically allocate the buffer for node strings
    
    Calculate and allocate the buffer for the IO node name and path strings dynamically instead of using arbitrary sized static buffers.

commit 996cea31ee2297fa5954ee5d1cce93efc051d2fe
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Jul 11 15:15:48 2022 -0400

    pipewire: Update default audio devices during runtime
    
    Make the default device metadata node persist for the lifetime of the hotplug loop so the default source/sink devices will be updated if they change during runtime.

commit 60da11f0e28562170c62bacaec7181f586ef4980
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Jul 11 14:31:20 2022 -0400

    pipewire: Remove deprecated configuration key
    
    With Pipewire now requiring a minimum version 0.3.24, the PW_KEY_CONTEXT_PROFILE_MODULES value is no longer required for legacy compatability and can be safely removed.

commit 4fa2653394150140c4d69cf66a78cd83e1175f99
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jul 12 00:55:00 2022 +0300

    SDL_GetJoystickGUIDInfo: byte-swap vendor, product and version values.
    
    Reference issue: https://github.com/libsdl-org/SDL/issues/5907

commit b8f30c021bd4a96765b84744939eece23c432478
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jul 12 00:55:00 2022 +0300

    SDL_endian.h: check for __powerpc__ and __PPC__ in big endian decision.
    
    Also remove the _M_PPC check from there.
    Reference issue: https://github.com/libsdl-org/SDL/issues/5907

commit 5d09b63155b75f425ab3a5209a23f2cf1947236d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jul 11 17:35:11 2022 +0000

    Sync SDL wiki -> header

commit ecfbdce64b73cdb8c682b91e93bcfed1c0fc91b0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Jul 11 13:09:48 2022 -0400

    pipewire: Require version 0.3.24 or newer at runtime

commit 2f0816adb76ac1f2a99894b5d6aeb5665f2d00eb
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Jul 11 13:08:30 2022 -0400

    Add SDL_GetDefaultAudioInfo.
    
    This API is supported on pipewire, pulseaudio, wasapi, and directsound.
    
    Co-authored-by: Frank Praznik <frank.praznik@gmail.com>

commit 15d06180833da1270de809b90df8a80521b2c60d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Jul 11 01:06:57 2022 -0400

    SDL_IMMDevice: Fix a WASAPI-specific leak, clean up Add()

commit ae105ae1c718c98d2c7c078b4f1d09e149fc8249
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Jul 10 12:59:33 2022 -0400

    windows: Move IMMDevice work to common file, implement DirectSound enumeration support

commit 2373da5d94fe8b977e89786519090cfd556862dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 11 09:49:00 2022 -0700

    Exposed SDL_ResetKeyboard() as a public function
    
    This will be used by Source 2 titles to reset keyboard state before showing assertion dialogs

commit 739155c44c949277ee492ec576a7cbb116d017a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 11 08:55:49 2022 -0700

    We want to ship the CMake input file, not the generated file
    
    Fixes https://github.com/libsdl-org/SDL/issues/5905

commit 2c22d7204cd5c0e1c18f536c62e90acc258d3f83
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 11 08:44:49 2022 -0700

    Fixed typo in description

commit cd2dcf54afaa6d640abf8b83855f6c4b5cda457d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jul 10 21:10:00 2022 +0300

    regenerated configure script.

commit 85536328272d754277febd010e82d89b04e68b6d
Author: Jan Palus <jpalus@fastmail.com>
Date:   Sun Jul 10 18:02:46 2022 +0200

    autotools: relax soname pattern for dynamic loading
    
    SDL makes assumption that each dynamically loaded library must have
    SONAME matching pattern <libname>.so.<digit>+ hence it discards any file
    that has two (or more) digits after ".so". in practice however SONAME
    might be in the form of ie <libname>.so.<major>.<minor>.
    
    as a solution keep requirement for dynamically loaded files to be named
    <libname>.so.* but consider all the possibilities and prefer the shortest
    one.

commit 6e712d2440b348c822057353c27e709e8daa021a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jul 9 22:55:36 2022 -0500

    joystick: Add HIDAPI driver for NVIDIA SHIELD 2017 controller
    
    Basic input already works using the OS HID driver, but this enables
    force feedback and battery state reporting.

commit 3242265ff13d66750f6e946b8ab1be3538ae6879
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 10 12:22:47 2022 -0500

    joystick: Fix endianness issues in Xbox HIDAPI drivers

commit 2f216485288c78132a780eb7a87009c6734c8eeb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jul 8 20:56:40 2022 +0300

    SDL_os2video.c: silenced -Wempty-body warning, along with minor tidy-up.

commit 531647efbab119b56a08b87a2eb663dcc4cf82bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 8 09:45:37 2022 -0700

    Regenerated configure with latest autotools release

commit 4aad594a8be88361009b5f60dcb109b8d43a0eb3
Author: 285424336 <285424336@qq.com>
Date:   Fri Jul 8 16:17:46 2022 +0800

    Update SDL_qsa_audio.c
    
    Fix qnx platform compile error, change SDL_Bool to SDL_bool.

commit c0eada20198430109f5072d13b51cf4554a1dec3
Author: Eric Curtin <ericcurtin17@gmail.com>
Date:   Wed Jul 6 17:00:16 2022 +0100

    Fix assumption that DRI_DEVNAME begins at 0 (#5865)
    
    * Fix assumption that DRI_DEVNAME begins at 0
    
    The existing logic of the code was to count every possible entry in
    KMSDRM_DRI_PATH. After this a for loop would start trying to open
    filename0, filename1, filename2, etc. In recent Linux kernels (say
    5.18) with simpledrm, the lowest KMSDRM_DRI_DEVNAME is often
    /dev/dri/card1, rather than /dev/dri/card0, causing the code to fail
    once /dev/dri/card0 has failed to open. Running:
    
    modprobe foodrm && modprobe bardrm && rmmod foodrm
    
    before you try to run an application with SDL KMSDRM would have also
    made this fail.
    
    * Various changes from review
    
    - Removed newline and period from SDL error
    - Explicitely compare memcmp to zero (also changed to SDL_memcmp)
    - Changed memcpy to strncpy
    - Less aggressive line wrapping
    
    * Various changes from review
    
    - strncpy to SDL_strlcpy
    - removed size hardcodings for KMSDRM_DRI_PATHSIZE and
      KMSDRM_DRI_DEVNAMESIZE
    - made all KMSDRM_DRI defines, run-time variables to reduce bugs caused
      by these defines being more build-time on Linux and more run-rime on
      OpenBSD
    - renamed openbsd69orgreater variable to moderndri
    - altered comment from "if on OpenBSD" to add difference in 6.9
    
    * Various changes from review
    
    - Use max size of destination, rather than max size of source
    - Less hardcodings

commit adf3ce7c01002456dc567cf9bdb20f9166b4fb2c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:42:24 2022 -0700

    Don't drop mouse focus on WM_MOUSELEAVE if the mouse is in relative mode; mouse-level is not meaningful for that case.
    
    Do drop mouse focus when keyboard focus is lost if the mouse is in relative mode.

commit 0253a45029cd2e4b2817797f562941917d06ccfd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:42:20 2022 -0700

    Fix format specifiers for WPARAM/LPARAM values, they are UINT_PTR.

commit f5cbc440e34b8b9bcc618e1e63b5fe66a25226d6
Merge: 001969b32 ad0b91302
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:34 2022 -0700

    Merge commit 'ad0b91302d34336f8af8787fefeeddb553606ec6' into main

commit 001969b324c6fadd3b980878b4b5dba4ba915abd
Merge: b76393f1f 98411c0d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:32 2022 -0700

    Merge commit '98411c0d338933e75221cc9c25bf3d5b9ec977b9' into main

commit b76393f1fea04c8babf1e8b1d1ed43d40498cf4a
Merge: d16a7bb9d 6187edd41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:30 2022 -0700

    Merge commit '6187edd41e318f9c434ba178fb32a8ef2b07e5da' into main

commit d16a7bb9dc00f94c59c3103efe2d2385163db677
Merge: c36025322 fdb86b826
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:28 2022 -0700

    Merge commit 'fdb86b8266947e225f058b32ebb77fa949f6ae42' into main

commit c36025322f332b2e7ddce552dba2dc57e32bd6bc
Merge: 8db084d5e b085c1825
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:26 2022 -0700

    Merge commit 'b085c18251bc0298b1a78a621025978702ca07f7' into main

commit 8db084d5e7fc815d1d5dc0ae2b069e0ac1115591
Merge: 21437ad3f 51f75b8b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:24 2022 -0700

    Merge commit '51f75b8b309992252a1e18643e310f2774dec4ef' into main

commit 21437ad3f87d2e521f3c81e5de31a01f1f2301d0
Merge: 8d7ea151b fcb99d783
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:22 2022 -0700

    Merge commit 'fcb99d783090cc15bc04cdebe877ab36a3697e3d' into main

commit 8d7ea151b4685681a22da57d71e6053b1af569cb
Merge: b0c913978 85bbf8eec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:20 2022 -0700

    Merge commit '85bbf8eec9f5e422447807b6cabec8c9ec0859d9' into main

commit b0c91397836d32a3ee0592ac36286e8dad613e84
Merge: e09233cd2 643f9e56d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:19 2022 -0700

    Merge commit '643f9e56d03d8be9adf774c4931fe95742225006' into main

commit e09233cd2e0cc6c3f8d2e9decc9eb899dfa163ad
Merge: 922184028 7d7c5b803
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:17 2022 -0700

    Merge commit '7d7c5b803cecdb87673b824103e4c1c0b3e29fac' into main

commit 92218402800bbf073990ba8ecca04de244f8bfff
Merge: c218b55c6 2a25b69ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:15 2022 -0700

    Merge commit '2a25b69ba580ff63ede93f2b19fa1bca09dab484' into main

commit c218b55c67a2d24b405484c49ce5174799588c73
Merge: 89c393306 0a600b1df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:13 2022 -0700

    Merge commit '0a600b1df45558c16812995aa2c03f0b5f636afb' into main

commit 89c393306d004c2c5da5d2c1800d8dc884e1d25f
Merge: 23ff1c605 cd79e9c4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:11 2022 -0700

    Merge commit 'cd79e9c4e25ffd15010953b15ae8cbc25b7e7a90' into main

commit 23ff1c605a0959d4d61736b86abdc327871bc16a
Merge: 95405d962 f317d619c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:41:09 2022 -0700

    Merge commit 'f317d619ccd22e60cebf1b09d716d3985359c981' into main

commit 95405d9625416fcc5c62fe862d3b14399a8e2938
Merge: 4615494f9 0025621b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:44 2022 -0700

    Merge commit '0025621b8064f5c72561d5d7b7a1fbdde860c236' into main

commit 4615494f9d7faaaa0afc886371572c7dd62230f6
Merge: 85d6d83b6 391dd0d94
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:42 2022 -0700

    Merge commit '391dd0d94b625ae9f7edec2b7514a2f6ba9fb670' into main

commit 85d6d83b6c9b0c530c792c49df9f20bc43e01cff
Merge: a9a79ddfb 89624485c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:40 2022 -0700

    Merge commit '89624485ccffa9e9b9f1743d431034297daaf251' into main

commit a9a79ddfb18bdad55f2266579cf1079f889340d9
Merge: 91c7329ce e9d5060c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:38 2022 -0700

    Merge commit 'e9d5060c4c2df66e8d4ef4f748f80e8ef32fc233' into main

commit 91c7329ce19c450befb2b6148c669906426adc41
Merge: acc03716e 209f457ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:36 2022 -0700

    Merge commit '209f457ea4eed6a2a3816f42049a17101c049d9c' into main

commit acc03716ea09f77538f87aa0dc2558425ad7f01d
Merge: 6d3ce729a bdbf90e3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:35 2022 -0700

    Merge commit 'bdbf90e3fc27c123e699c03f54de3e35e51861dc' into main

commit 6d3ce729a669d500cd073b18207eb27c567767c3
Merge: 7ef298f7c 7ac5d616f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:33 2022 -0700

    Merge commit '7ac5d616f3732b4d98010331d2ae0a24f883092d' into main

commit 7ef298f7c7ec49b50a0b4412b47ab5a8da4c4671
Merge: 6b0e1adfe 37a517dc3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:31 2022 -0700

    Merge commit '37a517dc36b7ba8f703c82a408bef6e44e5786ba' into main

commit 6b0e1adfe9a4a4da503251dd1c9027c09ca47c83
Merge: fbc980030 78089e659
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:29 2022 -0700

    Merge commit '78089e6598240178b62d6720eec041cc698a5e7c' into main

commit fbc9800304ae44a7e16224e1a7e61c962a755c72
Merge: d514f2483 3e114872e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:27 2022 -0700

    Merge commit '3e114872e842879c048b2a7808f2cdbfeb2228fe' into main

commit d514f248394070162c660ace5f1fb8df976dd3e0
Merge: eaeaf55fc 4f7321979
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:25 2022 -0700

    Merge commit '4f732197947d39cf13b4e3de1811d9bcace3798c' into main

commit eaeaf55fc243a1f45ccbc784b4f55854b10adec8
Merge: b51330ab4 24251fb54
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 5 21:39:23 2022 -0700

    Merge commit '24251fb5442296b8066ccc7af6cda430bf2017db' into main

commit ad0b91302d34336f8af8787fefeeddb553606ec6
Author: Eddy Jansson <eddy@klopper.net>
Date:   Tue Jul 5 22:29:43 2022 +0200

    android: Add missing entries to SDL_category_prefixes table.
    
    Add static assert so this shouldn't happen in the future.
    
    Fixes #5883

commit 98411c0d338933e75221cc9c25bf3d5b9ec977b9
Author: Chris Mumford <cmumford@google.com>
Date:   Tue Jul 5 06:52:04 2022 -0700

    Added include: libkern/OSAtomic.h
    
    When building on macOS without gcc (e.g. clang) where HAVE_GCC_ATOMICS
    is not defined, `SDL_AtomicTryLock` will call
    `OSAtomicCompareAndSwap32Barrier` which is not yet declared.
    Including OSAtomic.h on OSX resolves this error/warning:
    
        SDL_spinlock.c:125:12: error: implicit declaration of function
          'OSAtomicCompareAndSwap32Barrier' is invalid in
          C99 [-Werror,-Wimplicit-function-declaration]
            return OSAtomicCompareAndSwap32Barrier(0, 1, lock);
    
    This was reported in issue #3885 but marked Invalid and closed - possibly
    because the default CMake build uses gcc instead of clang.

commit 6187edd41e318f9c434ba178fb32a8ef2b07e5da
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jul 4 23:57:05 2022 +0000

    Sync SDL wiki -> header

commit fdb86b8266947e225f058b32ebb77fa949f6ae42
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 4 12:48:32 2022 -0400

    x11: Don't try to use XInput2 multitouch if not supported.
    
    Fixes #5889.

commit b085c18251bc0298b1a78a621025978702ca07f7
Author: rohlem <rohlemF@gmail.com>
Date:   Mon Jul 4 16:38:05 2022 +0200

    make SDL_SetTextInputRect take a pointer to const
    
    The documentation doesn't state that the argument is ever modified,
    and no implementation does so currently.
    This is a non-breaking change to guarantee as much to callers.

commit 51f75b8b309992252a1e18643e310f2774dec4ef
Author: Dav999-v <dav999.tolp@gmail.com>
Date:   Mon Jul 4 16:42:46 2022 +0200

    Fix fallback implementations of SDL_strchr and SDL_strrchr for '\0'
    
    strchr and strrchr return a pointer to the first/last occurrence of a
    character in a string, or NULL if the character is not found. According
    to the C standard, the final null terminator is part of the string, and
    it should thus be possible to get a pointer to the final null with
    these functions. The fallback implementations of SDL_strchr and
    SDL_strrchr would always return NULL if trying to find '\0', and this
    commit fixes that.

commit fcb99d783090cc15bc04cdebe877ab36a3697e3d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jul 4 13:42:05 2022 +0000

    Sync SDL wiki -> header

commit 85bbf8eec9f5e422447807b6cabec8c9ec0859d9
Author: chalonverse <sanjay12@gmail.com>
Date:   Sun Jul 3 12:19:33 2022 -0700

    Fixed coment after #endif

commit 643f9e56d03d8be9adf774c4931fe95742225006
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Jul 3 16:20:26 2022 +0200

    Rename folder created in test_filesystem

commit 7d7c5b803cecdb87673b824103e4c1c0b3e29fac
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Jun 29 01:26:27 2022 +0200

    Improving mkdir creating parents folder

commit 2a25b69ba580ff63ede93f2b19fa1bca09dab484
Author: Anthony Heathcoat <aeheathc@example.com>
Date:   Sat Jul 2 20:50:51 2022 -0400

    Check if GNC is defined before checking its value to solve warns in msvc

commit 0a600b1df45558c16812995aa2c03f0b5f636afb
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 2 00:27:51 2022 +0100

    Merge testguid into testautomation (#5873)

commit cd79e9c4e25ffd15010953b15ae8cbc25b7e7a90
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 14:04:07 2022 -0700

    Removed comment text that looks like doxygen commands

commit f317d619ccd22e60cebf1b09d716d3985359c981
Author: chalonverse <sanjay12@gmail.com>
Date:   Fri Jul 1 13:59:14 2022 -0700

    Xbox GDKX support (#5869)
    
    * Xbox GDK support (14 squashed commits)
    
    * Added basic keyboard testing
    
    * Update readme
    
    * Code review fixes
    
    * Fixed issue where controller add/removal wasn't working (since the device notification events don't work on Xbox, have to use the joystick thread to poll XInput)

commit 0025621b8064f5c72561d5d7b7a1fbdde860c236
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Jul 1 19:59:06 2022 +0100

    Add a default URL in testurl

commit 391dd0d94b625ae9f7edec2b7514a2f6ba9fb670
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 13:35:41 2022 -0700

    Don't spin as quickly as possible in the checkkeys rendering loop

commit 89624485ccffa9e9b9f1743d431034297daaf251
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 13:32:56 2022 -0700

    Updated the test bitmap font to cover the Latin-1 character set
    
    Based on Marcel Sondaar's font8_8.asm, in the public domain

commit e9d5060c4c2df66e8d4ef4f748f80e8ef32fc233
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 12:56:47 2022 -0700

    checkkeys will now render text that is input
    
    Also added test functions for multi-line debug text display
    
    Currently this only supports ASCII, as the font doesn't have the correct Latin-1 characters

commit 209f457ea4eed6a2a3816f42049a17101c049d9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 10:13:19 2022 -0700

    Generate backspaces for the text we're going to replace when committing text

commit bdbf90e3fc27c123e699c03f54de3e35e51861dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 09:17:30 2022 -0700

    on-screen keyboard newline is reported as an Enter key

commit 7ac5d616f3732b4d98010331d2ae0a24f883092d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 1 08:58:08 2022 -0700

    Fixed backspace being delivered after committed text on Android 12
    
    Testing:
    Enter "hello ", followed by "?" - the events generated are:
    : commitText hello
    : Key pressed :  scancode 11 = H, keycode 0x00000068 = H  modifiers: (none)
    : Key released:  scancode 11 = H, keycode 0x00000068 = H  modifiers: (none)
    : Key pressed :  scancode 8 = E, keycode 0x00000065 = E  modifiers: (none)
    : Key released:  scancode 8 = E, keycode 0x00000065 = E  modifiers: (none)
    : Key pressed :  scancode 15 = L, keycode 0x0000006C = L  modifiers: (none)
    : Key released:  scancode 15 = L, keycode 0x0000006C = L  modifiers: (none)
    : Key pressed :  scancode 15 = L, keycode 0x0000006C = L  modifiers: (none)
    : Key released:  scancode 15 = L, keycode 0x0000006C = L  modifiers: (none)
    : Key pressed :  scancode 18 = O, keycode 0x0000006F = O  modifiers: (none)
    : Key released:  scancode 18 = O, keycode 0x0000006F = O  modifiers: (none)
    : Key pressed :  scancode 44 = Space, keycode 0x00000020 = Space  modifiers: (none)
    : Key released:  scancode 44 = Space, keycode 0x00000020 = Space  modifiers: (none)
    : INPUT Text (\x68\x65\x6c\x6c\x6f\x20): "hello "
    : finishComposingText
    : deleteSurroundingText 1 / 0
    : Key pressed :  scancode 42 = Backspace, keycode 0x00000008 = Backspace  modifiers: (none)
    : Key released:  scancode 42 = Backspace, keycode 0x00000008 = Backspace  modifiers: (none)
    : commitText ?
    : Key pressed :  scancode 225 = Left Shift, keycode 0x400000E1 = Left Shift  modifiers: LSHIFT
    : Key pressed :  scancode 56 = /, keycode 0x0000002F = /  modifiers: (none)
    : Key released:  scancode 56 = /, keycode 0x0000002F = /  modifiers: (none)
    : Key released:  scancode 225 = Left Shift, keycode 0x400000E1 = Left Shift  modifiers: (none)
    : INPUT Text (\x3f): "?"
    : setComposingText , at 1
    : EDIT Text (): ""
    
    Previously, the backspace would be delivered after the "?"

commit 37a517dc36b7ba8f703c82a408bef6e44e5786ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 18:10:01 2022 -0700

    Re-enable IME text input on Android
    
    In my testing, this results in text edit events followed by text input events. Any ASCII characters will generate scancode events based on a hypothetical US keyboard layout.
    
    Fixes https://github.com/libsdl-org/SDL/issues/3377

commit 78089e6598240178b62d6720eec041cc698a5e7c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Jul 1 13:08:31 2022 +0100

    Remove unused internal header SDL_sysevents.h

commit 3e114872e842879c048b2a7808f2cdbfeb2228fe
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jun 30 20:36:45 2022 -0500

    joystick: Fix redetection of HIDAPI joysticks after reinitializing
    
    The HIDAPI joystick driver doesn't properly reset the change counter
    it uses to track if re-enumeration is needed when the joystick
    subsystem is quit and then reinitialized.
    
    The first SDL_Init(SDL_INIT_JOYSTICK) will result in the expected
    HIDAPI joysticks appearing, but subsequent calls will result in no
    joysticks being enumerated until another HIDAPI joystick is added
    or removed from the system.

commit 4f732197947d39cf13b4e3de1811d9bcace3798c
Author: chalonverse <sanjay12@gmail.com>
Date:   Thu Jun 30 00:25:26 2022 -0700

    Fixed D3D12 renderer not working with batching, and got rid of the vertex buffer size limit

commit 24251fb5442296b8066ccc7af6cda430bf2017db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:40:45 2022 -0700

    Fixed checkkeys closing when tapping the screen on a phone

commit 0ad65277ce7ca025438694caf39f83b80d4eea4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:26:09 2022 -0700

    Refactored code to send scancodes for an ASCII on-screen keyboard key

commit b51330ab4be63ae8b38cfc16f12b5d3827f9a4db
Merge: 47c432492 0ad65277c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:57 2022 -0700

    Merge commit '0ad65277ce7ca025438694caf39f83b80d4eea4c' into main

commit 47c4324920b848428ecdc18ba0233a743210ea23
Merge: d54931e28 a054a5f7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:55 2022 -0700

    Merge commit 'a054a5f7f2dde31431cf890e421886faacdf5f54' into main

commit d54931e287bcdcec820ec344b52a6a1612470ebc
Merge: f0313044b 6a2e6c82a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:53 2022 -0700

    Merge commit '6a2e6c82a0764a00123447d93999ebe14d509aa8' into main

commit f0313044bd51a053c26a822e840b0dd603e09d01
Merge: 55840423a db7dfece1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:51 2022 -0700

    Merge commit 'db7dfece16565352224ac534d6975b85f12d962f' into main

commit 55840423aa5a4533c3915509709bbffd3d4d40d9
Merge: 11c6c8c06 43555bd1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:49 2022 -0700

    Merge commit '43555bd1a9f8188b6f83a7c7d45861a35df6a54b' into main

commit 11c6c8c06a17b6d65904b9e8cdf78c77f98c97d7
Merge: 3adf6bacd 1d1fb95a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:47 2022 -0700

    Merge commit '1d1fb95a61e6815ba08cd25ab954165a4d693e96' into main

commit 3adf6bacd3ebb4b194fb5e9e27f07b8a08a9252f
Merge: d3b2e62e8 f815580dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:45 2022 -0700

    Merge commit 'f815580dde2de9667af5ca8b43f9590f2fac1aab' into main

commit d3b2e62e801e623069fda22b406e1cfb81d67ff2
Merge: 302a863ad d4e6047e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:43 2022 -0700

    Merge commit 'd4e6047e3cc73698a0d6b3b4a2ce7b9b5e025b2f' into main

commit 302a863ad3ec148189285273fe2bec519d96394e
Merge: e022b12a4 7a02dcf3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:41 2022 -0700

    Merge commit '7a02dcf3e662d2a087908a8b378872aee8c83587' into main

commit e022b12a47d0d5c070e8a125fcd6eb6a2cd363a6
Merge: c2ba2e230 cddf095a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:39 2022 -0700

    Merge commit 'cddf095a16263734bef07cefbbac1a42bf70d171' into main

commit c2ba2e230ee9af58426906372c390b205b7772ff
Merge: ca18ab00a b6f1c9186
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:37 2022 -0700

    Merge commit 'b6f1c91862ae5b260f80cca2968cd9baefe41523' into main

commit ca18ab00a70642c8184ee18d67df69bd40c1d810
Merge: c75e780f8 cbd018747
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:35 2022 -0700

    Merge commit 'cbd01874759dad39718e1496d241c4ae5eceaff1' into main

commit c75e780f8fa25802ea965f9bff69cbae8c38ab90
Merge: 48f2d2f83 f25b4b277
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:33 2022 -0700

    Merge commit 'f25b4b27743d4b018393a3083e9d9061ab5ce07a' into main

commit 48f2d2f83282181f5e483ea80da5c02a0bfd145d
Merge: 241755f4f 6c536afdb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:31 2022 -0700

    Merge commit '6c536afdb7bdc9cece4152c7e1f9a18306976b46' into main

commit 241755f4f0b673937285f9d2c5b6276b95745916
Merge: 9bc2021c9 e4a808755
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:30 2022 -0700

    Merge commit 'e4a80875519617775184e9f6be5ede51772850fa' into main

commit 9bc2021c90ee74006e0a019d200aa23993cd0d87
Merge: d800f95dc 972391763
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:28 2022 -0700

    Merge commit '972391763790134796a353487faeadd451ccc046' into main

commit d800f95dca2e2790912c82b6257b6a6bd26f7b00
Merge: 2170301c0 0a9a0a79e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:26 2022 -0700

    Merge commit '0a9a0a79e0a40a2843c1f6d33f7fa45bb1042fc0' into main

commit 2170301c0b77617178f40f3b3c0db49fdd3c5ddb
Merge: 21196f423 3b191580c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:24 2022 -0700

    Merge commit '3b191580c392b7a2f7ee7c8a586020817dc7dc05' into main

commit 21196f4237b6579228ba417d51f5d72b40c012bb
Merge: b733e38c3 314bb5a1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:22 2022 -0700

    Merge commit '314bb5a1ed1a90276597b9aefef225a7c5027845' into main

commit b733e38c3ab8493d8572d7459f6225b6b48587ec
Merge: 3d10cc152 7fd46ec58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:20 2022 -0700

    Merge commit '7fd46ec581d45ec3fea3fcfe226bbc2ae824fc7c' into main

commit 3d10cc152ea2c5464d8932a4488110e53625eaf2
Merge: a4c1cf732 84d69da4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:18 2022 -0700

    Merge commit '84d69da4e173365ddfdfe0a77ac5bc79b25f1972' into main

commit a4c1cf732e76cc0032fdb10e62820280476ce728
Merge: cc3563c76 1f3ae7522
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:16 2022 -0700

    Merge commit '1f3ae75228e46d440e98bc13bbb8ffcfafcee920' into main

commit cc3563c76c5639c94df3db9b21dfd3f18e08f0e4
Merge: ebb191f34 b2f07d94d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:14 2022 -0700

    Merge commit 'b2f07d94d2627b57226543981c5210a3f7642f4e' into main

commit ebb191f34d31d3a61aa56e45e00fe6c8196b17bf
Merge: e9908d840 ebe4f47f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:12 2022 -0700

    Merge commit 'ebe4f47f2b2e97deed78faa6c3e90ff51cd499a4' into main

commit e9908d840b7fb71b903876161c5ec111872f46eb
Merge: af53db110 51c6488f9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:10 2022 -0700

    Merge commit '51c6488f97f98aa3d216092c01d9601008be0fbf' into main

commit af53db1105a3f8d7689aaa39960617c8ab6611ba
Merge: dab3ba1fc fa39f7355
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:08 2022 -0700

    Merge commit 'fa39f73552dc9dfd6a6a45aa499ac213f1907ef0' into main

commit dab3ba1fcaee2e65ffc87d5ed576c8fef94cfe40
Merge: 892518f8f 787dc260a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:06 2022 -0700

    Merge commit '787dc260a8a788a0d2319fe76f7756e0bc607e03' into main

commit 892518f8f7137eb240924a67fc5017911ed3687b
Merge: b85118f56 76f40e2b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:04 2022 -0700

    Merge commit '76f40e2b3b685b18a7f8db64bf425d3c87ddc896' into main

commit b85118f56574fbcce23c802d0586beb33f785e69
Merge: 43f55e6f0 ca3093631
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:03 2022 -0700

    Merge commit 'ca30936314e1867c143475ea278988f82af95155' into main

commit 43f55e6f0a54f165ca65ebbf5e71273d16cbf216
Merge: 02cbf8b70 118a2189f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:25:01 2022 -0700

    Merge commit '118a2189fb203dedc274848833b5431273cb1db5' into main

commit 02cbf8b702b611c5372b8e760f11eee526b93551
Merge: 808edbcdc bd4969613
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:59 2022 -0700

    Merge commit 'bd49696133eded6f441b20391b5bb4376b3834d8' into main

commit 808edbcdca56e4f030a98bbe6c6dc4b5866ff2b5
Merge: 88816d65d 6dcb2868b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:57 2022 -0700

    Merge commit '6dcb2868b03b21a4cfacf0d5804ee07cfde0a0c7' into main

commit 88816d65d5347cabc9543b57a6f2a034c592b8d3
Merge: 233e88f70 78a375165
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:55 2022 -0700

    Merge commit '78a37516593dbcedb2b0d1a5177f37c348dbb528' into main

commit 233e88f7072c9917812121ab47d21d88c764dc8c
Merge: 048da613a c61367c27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:53 2022 -0700

    Merge commit 'c61367c2731dca1e7ea0e881f69d96317c0aaaab' into main

commit 048da613a5d25104a6bec8ec951e479bde37eb75
Merge: 4ff3d844a 965c16453
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:51 2022 -0700

    Merge commit '965c16453785279d921b584c92f14bd0ef034730' into main

commit 4ff3d844ad1c2cec6918266d4e7760c22ffc7b4d
Merge: c01ad8e24 3617691fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:49 2022 -0700

    Merge commit '3617691fe0cb3b29ffcdeb5567d85126de91ba15' into main

commit c01ad8e24adddf77bdb0140c634c0d2ec35dd05a
Merge: 7d0ce0f71 b3159714d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:48 2022 -0700

    Merge commit 'b3159714dbb1afe1de9a32e86f9ed8e40ae543af' into main

commit 7d0ce0f7199658bd92b28b4771312616d378bef6
Merge: 327643676 de409d2a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:46 2022 -0700

    Merge commit 'de409d2a816745b3eb02e780bc7af070a2cc8449' into main

commit 3276436760da31a43540f65fcd15234f75dd59b3
Merge: ec1ad6b2e 2f321fb73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:44 2022 -0700

    Merge commit '2f321fb73c6408b368a20bb08bd08e6265e6ce38' into main

commit ec1ad6b2ef8d6ec71a4b7ccb36f52cffb4a08307
Merge: 6b1199267 3b0c86a36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:42 2022 -0700

    Merge commit '3b0c86a36fd97d4fddc8d025d0473a7a6c6de3ca' into main

commit 6b1199267849aeed54abd4c7cdb154c08f0ae58e
Merge: 3420751c4 5f4e9fb9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:40 2022 -0700

    Merge commit '5f4e9fb9b3b53897cb9ed43791e2180a942b3377' into main

commit 3420751c4f60f7de1964a7fe9225360d62b9c532
Merge: fe00c1945 485b1037b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:38 2022 -0700

    Merge commit '485b1037b061edb4e9768b6f3b08c35454a621ce' into main

commit fe00c19455fc9fd8bb646447a861141a018f7721
Merge: f716a9a27 3e1021239
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:36 2022 -0700

    Merge commit '3e1021239a29b377fec7af9b45cd49b5d42531ca' into main

commit f716a9a2711a8c7c87bf0cd885f3033116d17424
Merge: 2b41f497d 4ad4fe67c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 29 17:24:34 2022 -0700

    Merge commit '4ad4fe67c7f832ec6e8e8a5c04b030691753f39a' into main

commit a054a5f7f2dde31431cf890e421886faacdf5f54
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Jun 29 01:09:17 2022 +0200

    Improve SDL2 main, adding memory card and usb drivers

commit 6a2e6c82a0764a00123447d93999ebe14d509aa8
Author: Jade Macho <nuda1998@gmail.com>
Date:   Tue Jun 28 21:03:16 2022 +0200

    Add SDL_HINT_DIRECTINPUT_ENABLED (on by default)

commit db7dfece16565352224ac534d6975b85f12d962f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jun 28 23:09:28 2022 +0200

    cmake: fix name+location of SDL2.dll in configure generated SDL2::SDL2 target

commit 43555bd1a9f8188b6f83a7c7d45861a35df6a54b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 28 17:00:20 2022 +0300

    regenerated configure script

commit 1d1fb95a61e6815ba08cd25ab954165a4d693e96
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 28 06:21:45 2022 -0700

    Removed double va_end()

commit f815580dde2de9667af5ca8b43f9590f2fac1aab
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jun 28 13:09:38 2022 +0200

    Fix SIGSEV in SDL_error. Re-apply same pattern on this uncompiled code (see #5795)

commit d4e6047e3cc73698a0d6b3b4a2ce7b9b5e025b2f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jun 28 09:46:12 2022 +0200

    Fix SIGSEV in SDL_error (After removing the limit on the size of the SDL error message) (see #5795)

commit 7a02dcf3e662d2a087908a8b378872aee8c83587
Author: chalonverse <sanjay12@gmail.com>
Date:   Mon Jun 27 18:47:18 2022 -0700

    Add note to GDK docs about XCurl.dll

commit cddf095a16263734bef07cefbbac1a42bf70d171
Author: Sourcery AI <unknown>
Date:   Mon Jun 27 05:00:43 2022 +0000

    'Refactored by Sourcery'

commit b6f1c91862ae5b260f80cca2968cd9baefe41523
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 27 17:44:55 2022 -0700

    Fixed Watcom C build

commit cbd01874759dad39718e1496d241c4ae5eceaff1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 27 16:59:50 2022 -0700

    Removed the limit on the size of the SDL error message
    
    Also added SDL_GetOriginalMemoryFunctions()
    
    Fixes https://github.com/libsdl-org/SDL/issues/5795

commit f25b4b27743d4b018393a3083e9d9061ab5ce07a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Jun 27 16:57:21 2022 -0400

    Style: Flip `if` statement.

commit 6c536afdb7bdc9cece4152c7e1f9a18306976b46
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon Jun 27 15:43:17 2022 -0400

    Fix C89 declaration for macOS modules.
    
    Since Clang 14, `-Wdeclaration-after-statement` is enforced on every
    standard.

commit e4a80875519617775184e9f6be5ede51772850fa
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Jun 24 16:43:20 2022 +0200

    Initial Audio driver

commit 972391763790134796a353487faeadd451ccc046
Author: Brad Smith <brad@comstyle.com>
Date:   Sat Jun 25 23:33:53 2022 -0400

    Use proper header for OpenBSD PPC CPU detection

commit 0a9a0a79e0a40a2843c1f6d33f7fa45bb1042fc0
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jun 27 17:20:12 2022 +0000

    Sync SDL wiki -> header

commit 3b191580c392b7a2f7ee7c8a586020817dc7dc05
Author: chalonverse <sanjay12@gmail.com>
Date:   Mon Jun 27 17:19:39 2022 +0000

    Windows GDK Support (#5830)
    
    * Added GDK
    
    * Simplfied checks in SDL_config_wingdk.h
    
    * Added testgdk sample
    
    * Added GDK readme
    
    * Fixed error in merge of SDL_windows.h
    
    * Additional GDK fixes
    
    * OpenWatcom should not export _SDL_GDKGetTaskQueue
    
    * Formatting fixes
    
    * Moved initialization code into SDL_GDKRunApp

commit 314bb5a1ed1a90276597b9aefef225a7c5027845
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jun 27 14:45:14 2022 +0200

    Fixed bug #5850: Android EGL_BAD_ACCESS because of viewport command while turning the screen off/on.

commit 7fd46ec581d45ec3fea3fcfe226bbc2ae824fc7c
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Jun 18 17:40:53 2022 +0200

    Initial PS2_Joystick implementation

commit 84d69da4e173365ddfdfe0a77ac5bc79b25f1972
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Mar 20 19:42:06 2022 +0100

    Initial SDL_ps2_main implementation

commit 1f3ae75228e46d440e98bc13bbb8ffcfafcee920
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Jun 18 11:54:23 2022 +0200

    Add ps2_drivers dependency
    
    Fix CI

commit b2f07d94d2627b57226543981c5210a3f7642f4e
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Jun 26 15:53:13 2022 +0300

    Vita: create rendertarget color surface with same format as texture. Fixes #5844

commit ebe4f47f2b2e97deed78faa6c3e90ff51cd499a4
Author: unknown <sanjay12@gmail.com>
Date:   Sun Jun 26 19:04:25 2022 +0000

    Fixed __VA_ARGS__ in gcc when no args

commit 51c6488f97f98aa3d216092c01d9601008be0fbf
Author: unknown <sanjay12@gmail.com>
Date:   Sun Jun 26 18:47:34 2022 +0000

    Add support for SDL_render_d3d12.c to compile in C++ mode

commit fa39f73552dc9dfd6a6a45aa499ac213f1907ef0
Author: Anonymous Maarten <madebr@users.noreply.github.com>
Date:   Sun Jun 26 23:34:30 2022 +0200

    cmake: add generated files to a custom target (#5851)
    
    This way, headers are only generated once .

commit 787dc260a8a788a0d2319fe76f7756e0bc607e03
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jun 24 20:37:20 2022 +0300

    autotools: properly enable the version static assertions
    
    SDL doesn't use automake, therefore instead of AC_DEFINE_UNQUOTED
    manually add the defines to EXTRA_CFLAGS.

commit 76f40e2b3b685b18a7f8db64bf425d3c87ddc896
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 24 14:41:35 2022 +0200

    cmake: remove stray debug line

commit ca30936314e1867c143475ea278988f82af95155
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 24 14:41:06 2022 +0200

    cmake: check and use clock_gettime by default on android

commit 118a2189fb203dedc274848833b5431273cb1db5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 23 16:07:35 2022 -0400

    build-scripts/wikiheaders.pl: ignore the 'FrontPage' wiki pages.

commit bd49696133eded6f441b20391b5bb4376b3834d8
Author: hsdk123 <daegon.dhsk@outlook.com>
Date:   Thu Jun 23 08:18:44 2022 -0400

    cmake: use CMAKE_CURRENT_BINARY_DIR instead of CMAKE_BINARY_DIR (#5834)
    
    * Update install directory to match generated
    
    https://github.com/libsdl-org/SDL/blob/main/CMakeLists.txt#L3122
    Sets `SDL2Config.cmake` to `CMAKE_BINARY_DIR`, whereas the install file tries to find it from a different location.
    
    * cmake: use CMAKE_CURRENT_BINARY_DIR instead of CMAKE_BINARY_DIR
    
    * ci: test SDL included as a cmake subproject
    
    Co-authored-by: Anonymous Maarten <anonymous.maarten@gmail.com>

commit 6dcb2868b03b21a4cfacf0d5804ee07cfde0a0c7
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 19:53:58 2022 +0200

    cmake: avoid use of possible non-available XEXT_LIB

commit 78a37516593dbcedb2b0d1a5177f37c348dbb528
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 16:38:58 2022 +0200

    cmake+ci: fix+test sdl2-config + sdl2.pc for all supported platforms

commit c61367c2731dca1e7ea0e881f69d96317c0aaaab
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 04:14:52 2022 +0200

    cmake: do list(APPEND SDLMAIN_SOURCES)

commit 965c16453785279d921b584c92f14bd0ef034730
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 03:40:53 2022 +0200

    cmake: let cmake test script make use of the installed cmake scripts

commit 3617691fe0cb3b29ffcdeb5567d85126de91ba15
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 03:37:05 2022 +0200

    cmake: install Android.mk files for ndk-build
    
    This allows including SDL2 with ndk-build using
    NDK_MODULE_PATH + import-module
    
    An install tree looks like:
    ```
    `-- share
        |-- aclocal
        |   `-- sdl2.m4
        |-- licenses
        |   `-- SDL2
        |       `-- LICENSE.txt
        `-- ndk-modules
            |-- SDL2
            |   `-- Android.mk
            |-- SDL2-static
            |   `-- Android.mk
            |-- SDL2main
            |   `-- Android.mk
            `-- SDL2test
                `-- Android.mk
    ```
    
    The generated `/share/ndk-modules/SDL2/Android.mk` contains:
    ```
    LOCAL_PATH := $(call my-dir)
    _IMPORT_PREFIX := $(LOCAL_PATH)/../../..
    
    include $(CLEAR_VARS)
    LOCAL_MODULE := SDL2
    LOCAL_SRC_FILES := $(_IMPORT_PREFIX)/lib/libSDL2.so
    LOCAL_CPP_FEATURES := rtti exceptions
    LOCAL_EXPORT_C_INCLUDES := ${_IMPORT_PREFIX}/include\
    ${_IMPORT_PREFIX}/include/SDL2
    include $(PREBUILT_SHARED_LIBRARY)`
    ```

commit b3159714dbb1afe1de9a32e86f9ed8e40ae543af
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 03:30:34 2022 +0200

    cmake: set HAVE_STATIC_PIC for correct summary

commit de409d2a816745b3eb02e780bc7af070a2cc8449
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 03:28:30 2022 +0200

    cmake: remove spurious UNIX_SYS in dep_option

commit 2f321fb73c6408b368a20bb08bd08e6265e6ce38
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 03:27:52 2022 +0200

    cmake: disable UNIX_SYS by default for Android
    
    This force disables SDL_OSS, SDL_ALSA, SDL_JACK, SDL_ESD,
    SDL_PIPEWIRE, SDL_ARTS, SDL_NAS, SDL_SNDIO, SDL_LIBSAMPLERATE,
    SDL_RPATH, SDL_CLOCK_GETTIME and SDL_X11.

commit 3b0c86a36fd97d4fddc8d025d0473a7a6c6de3ca
Merge: 5f4e9fb9b 2b41f497d
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Thu Jun 23 01:14:56 2022 +0200

    Merge pull request #5835 from fjtrujy/psp/improveJoystickDriver
    
    [PSP] Improve Joystick driver

commit 5f4e9fb9b3b53897cb9ed43791e2180a942b3377
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jun 21 02:26:49 2022 +0200

    cmake: use add_custom_command to copy include files
    
    Otherwise, the make program would not rebuild when a header got changed

commit 485b1037b061edb4e9768b6f3b08c35454a621ce
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jun 21 01:30:50 2022 +0200

    cmake: copy all headers to the build directory and exclusively use that

commit 3e1021239a29b377fec7af9b45cd49b5d42531ca
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 20 20:51:12 2022 +0200

    cmake: also add the recently-added include folder to the public interface

commit 4ad4fe67c7f832ec6e8e8a5c04b030691753f39a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 20 20:47:21 2022 +0200

    cmake: install generated SDL_config.h
    
    The generated SDL_config.h recently changed location, so update the install.

commit 2b41f497db5f5f98ee4f355c9cadfea3b169f969
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Thu Nov 18 01:09:45 2021 +0100

    Improve Joystick removing semaphores

commit c3a5e4aa7b852715e826b5ac061a9dc85246f254
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Jun 22 00:54:03 2022 +0200

    Adding GetGamepadMapping to Vita Joystick driver

commit 7adb08a79a5decee03379363aff07aa1d350acb3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 22 01:37:00 2022 +0300

    fixed SDL_BlitMap typedef redefinition errors

commit 12b371ee0ffefcd27f3cc38679d7fe58ac8a8459
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 21 14:49:00 2022 -0400

    x11: Don't send diplay-add events for displays connected at init time.
    
    Reference Issue #4977.

commit c11bdeeb6975e00ecf7d7be0d13b47669a50abf9
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Jun 21 13:28:14 2022 -0400

    wayland: Round fractional backbuffer sizes halfway away from zero
    
    Use SDL_lroundf() to round fractional backbuffer sizes halfway away from zero, as this is the rounding method recommended by the forthcoming Wayland fractional scaling protocol.

commit ff735b3c0f6f8917a8c8491e357c41152296eadb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 20 18:29:52 2022 -0400

    SDL_Surface: don't implicitly declare struct SDL_BlitMap.
    
    It's just an opaque type, but it's more clear to have it typedef'd outside
    the containing struct.
    
    Fixes #5828.

commit d460000b4586ff1a10cf2f7cb4e922db3efb9400
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 20 19:29:13 2022 +0200

    cmake: use add_definitions for compatibility with cmake 3.0

commit 9914e87faaa01a0a63f46ba97837b13d66355128
Author: Pieter-Jan Briers <pieterjan.briers+git@gmail.com>
Date:   Mon Jun 20 12:53:10 2022 +0200

    Also send DPI change when expected resize.

commit af733c7a3269bfd8a65a1e7bdeea3e13934c0a75
Author: Pieter-Jan Briers <pieterjan.briers+git@gmail.com>
Date:   Mon Jun 20 02:26:40 2022 +0200

    Fix DPI-raised SDL_WINDOWEVENT_SIZE_CHANGED with event callback.
    
    Move the sending of this event down so stuff like calling SDL_GL_GetDrawableSize() from a callback reports the new size instead of the old one.

commit 2316e5682e90ecea4ba3caa95bfc81b562e9c7f7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 19 11:32:10 2022 +0300

    SDL_windows.h: match WINVER value to _WIN32_WINNT.

commit 22a29321e9af07380fd3759118113c39143af313
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 19 11:32:10 2022 +0300

    tweak _WIN32_WINNT value for shellscalingapi.h present but no d3d12

commit bdcdbfc7575cd26136165a16069932bb6f80415f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 19 11:04:24 2022 +0300

    Enable D3D12 detection when using mingw-w64 with cmake too
    
    c.f.: autotools commit 59fb7acbf7af9d64a2d5432bb6677585a0ddd50a

commit 48a232969d855ff031c8d02197b896d91479faeb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 19 00:15:03 2022 -0400

    wikiheaders: Strip `[[wiki hyperlink]]` from See Also fields.

commit abe38bca3ed512ecc6ccf899545acf4ee055fa7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 13:08:58 2022 -0700

    Support SDL_AUDIODRIVER set to "dsound", which was used by SDL 1.2
    
    Fixes https://github.com/libsdl-org/SDL/issues/5818

commit a8d41b3b4587aca7d1f967fe8bb862a4b8ebccd0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 18 21:51:32 2022 +0300

    check for shellscalingapi.h presence instead of WINVER >= 0x0603

commit 5f6d0abebe3b5bbd6426ccf1f9b77b88a7f94b41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 12:57:27 2022 -0700

    SDL_SendEditingText() has int parameters, so use that type for parameter calculation
    
    We might want to use ssize_t as @Guldoman suggested, but that's a larger internal API change, and still requires casting of the SDL_utf8strnlen() result.
    
    Fixes https://github.com/libsdl-org/SDL/pull/5821

commit 00b95e989b68ca057662263a18a4df576786555a
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sat Jun 18 16:59:35 2022 +0200

    Fix read of uninitialised variable
    
    If the condition (dbus->message_iter_get_arg_type(&sub) == DBUS_TYPE_STRING) is false, subtext is not initialised.

commit d51a8f530e39cc34cec623939487f47053462822
Author: Alex Richardson <arichardson@FreeBSD.org>
Date:   Sat Jun 18 14:25:11 2022 +0000

    cmake: freebsd: Fix -Wformat warning during tests build
    
    Without using <inttypes.h>, SDL_PRIx64 will expand to llx, but on 64-bit
    FreeBSD platforms (u)int64_t is `(usigned) long`:
    SDL_test_memory.c:261:77: error: format specifies type 'unsigned long long' but the argument has type 'Uint64' (aka 'unsigned long') [-Werror,-Wformat]
    
    This commit updates config_minimal.h to also assume presence of inttypes.h
    for everything except old MSVC.

commit 12f14bdbeba77b2fbff91b9c5c3da03c75c2c215
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 07:02:38 2022 -0700

    Fixed digit count in sscanf, e.g. "%1x"

commit 90658975147bb83e61cd51a2b448babfc399f03b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 06:53:05 2022 -0700

    Added test for digit count in sscanf, e.g. "%1x"

commit 28ecdc6bc79add5a16ed094e228102473f422998
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 06:52:46 2022 -0700

    No need to cast from char* to const char*

commit 53e307050b17d7bec9337a541bdc9ded28d410c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 18 06:52:16 2022 -0700

    List the available tests if the filter didn't match

commit e7ad511b4b752264225c1b421fb1fc672f938de8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jun 18 13:01:02 2022 +0200

    cmake: fix location of include dir for SDL2 VC sdk

commit eb7e29a8b2b6cda62d050396419b19b5d72e52cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 17 17:43:14 2022 -0700

    Fixed crash when the joystick product name isn't available

commit 83b766174c5ead353119d55067646d9dc3a547b2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 17 17:35:52 2022 -0400

    build-scripts/wikiheaders.pl: ignore "Category" wiki pages.

commit 20c622f090905be628acede1fc3e298818f2c986
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 17 14:39:50 2022 -0400

    build-scripts/wikiheaders.pl: Allow a wiki preamble.
    
    This is so we can have everything in SDL_net (etc) start with a
    "This is not part of the core SDL API" message.

commit adc6875870b7dec661c0165bcb689e45e6169722
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 17 10:22:28 2022 -0700

    Added SDL_copyp to avoid size mismatch when copying values (thanks @1bsyl!)
    
    Closes https://github.com/libsdl-org/SDL/pull/5811

commit b0e827fb65eaff7d48cac0f87978c96179811789
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 17 07:55:33 2022 -0700

    Enable improved rumble emulation on DualSense(tm) Wireless Controllers with firmware version 2.24 and newer

commit b19099d557191295a89f4ddf108c749e8b2bae8c
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu Jun 16 19:59:57 2022 +0200

    cmake: use find_package(SampleRate) to find samplerate + allow targets

commit 59fb7acbf7af9d64a2d5432bb6677585a0ddd50a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 15:46:53 2022 -0700

    Enable D3D12 detection when using mingw-64

commit 1eb247fa2e4b6082f49b02aacad7a0101fd39ee3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 15:44:18 2022 -0700

    Fixed building D3D12 renderer with latest mingw-64

commit b004133f080146678fe8668875434ab6bea1fd69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 12:49:17 2022 -0700

    Updated to version 2.23.1 for pre-release checkpoint

commit 68beedde9274ea25d7f8b3b565ec141f54a21c8e
Author: Wohlstand <admin@wohlnet.ru>
Date:   Thu Jun 16 22:16:11 2022 +0300

    SDLActivity.java: Compatibility fix for debugSource
    
    I did these fixes a while ago while debuggin my application, however, forgot to send them back.

commit 5c1b7f6ea7e4d9333afa62c71666b04ac9eaf196
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 12:42:45 2022 -0700

    Added instructions for updating Makefile.w32 for release

commit 5d5488ca719cd7be5d72df5a3d13997ad0ce9c3d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 12:41:31 2022 -0700

    Fixed test/versioning.sh on macOS

commit 269fc1bd79d8b0fda1a02e2420b3e3bb7993107b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 16 12:34:35 2022 -0700

    Added more details to WhatsNew.txt

commit a5949d7b035feb74228882c47ea37b9b29fbb87c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 23:00:28 2022 -0700

    Fixed crash on Windows
    
    These functions really are WINAPI

commit 16f55fbdb4597e3f6e0f19dfd85ab0c087d67f5b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 20:44:43 2022 -0700

    Separate the controller protocol from the controller style
    
    This allows us to handle controllers that use the Xbox protocol but look like Nintendo Switch or Playstation controllers, like the Qanba Dragon Arcade Stick in PC mode

commit 94f6080895a9500599b971cc4e57698fa0618837
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 15 23:25:36 2022 -0400

    wikiheaders.pl: changes to make this usable with external projects.

commit 017e2370058d6344366af13c8da8849572da2d5e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 17:32:46 2022 -0700

    Removed the Qanba Obsidian Arcade Joystick from the unknown controller list

commit a9cf313eefd41f45bad3e3ff0ba98f44423c8265
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 17:28:29 2022 -0700

    Added the Qanba Obsidian and Dragon Arcade Sticks to the arcade stick list

commit bfe81a0c054f263a0bda43727ee52639a0af9a9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 17:28:20 2022 -0700

    Added the name of the Qanba Obsidian Arcade Joystick in PC mode

commit a6a2cdbd7c3f0d1ecc38b9968e846ab4baea57ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 17:28:18 2022 -0700

    Added the name of the Qanba Dragon Arcade Joystick in PC mode

commit fc78d0ff39d14cbff4cb93d5de7e9c9ecb553e35
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Thu Jun 16 00:36:52 2022 +0200

    Fix Compilation CI

commit 6b03c1adf6b681dd3d258232f8ff087e00ebd29b
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 13 20:59:18 2022 +0200

    Add filesystem driver

commit 52f00833b0b38129b6d887617112d978e1d9ee29
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 13 20:58:18 2022 +0200

    Add Thread drivers

commit 217d3a6dabe74be6b9b17deaf29c61c107ac8224
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 13 20:35:27 2022 +0200

    Add systimer support

commit 7343ece806fca9b5240e03a73f7165c92bbe4ece
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 6 00:05:43 2022 +0200

    Define available PS2 RAM

commit e4409f673363e99a17f8c178c158b1ea6ea8b2b2
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 6 00:05:20 2022 +0200

    Include SDL_Log driver

commit f0a05ed476d7792e36b12fef96706101eef29791
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 6 00:04:56 2022 +0200

    Add some PS2 flags

commit 580416d3c8cf0a919b91cfc5ff95961239fb8d12
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 6 00:02:08 2022 +0200

    Initial CMake configuration

commit 273d9e46400994691e2f1b4d7b11b896d6acdd73
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Mon Jun 6 00:00:45 2022 +0200

    Fix atomic support for PS2

commit 161a316dfad29da806023807c7d8a5452190dfb5
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Jun 5 23:52:53 2022 +0200

    Add PS2 readme

commit 52f8d0357a6cb4ecf401ba6773223afed711d345
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sun Mar 20 18:51:37 2022 +0100

    Add PS2 CI config

commit 5b4f53bc0f52a06a5f949c5589fe61a482ac8c48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 14:26:47 2022 -0700

    Added SDL_memset.c and SDL_memcpy.c to Xcode project

commit cd8f57ee4ef42946b54a88a577583adeb7d096df
Author: Alex Richardson <arichardson@FreeBSD.org>
Date:   Sun May 29 10:38:56 2022 +0000

    cmake: freebsd: Don't REQUIRE libunwind.pc on FreeBSD
    
    FreeBSD includes the libunwind APIs in in the base system libgcc_s and
    does not install a .pc file for it.
    This change fixes the build on FreeBSD for me.

commit ae7446a9591299eef719f82403c568cd06e7388a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 20:48:54 2022 +0200

    stlib: Extract SDL_memcpy and SDL_memset to its own file respectively
    
    This is done such that we can disable LTO for these 2 functions when
    building with MSVC.
    
    This is due to a limitation of Link Time Code Generation (LTCG).
    Code generation might generate a new reference to memset after linking
    has started. The LTCG must make assumptions about where memset is
    defined which is normally the C runtime.

commit a5d338bd2deadcee722adf91a0ec6982e2b7bd6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 14:11:00 2022 -0700

    Added support for the Qanba Dragon Arcade Joystick (PS3) on macOS

commit 7d7c48302b9e976b9e7e939e59abe4740d3e05cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 14:10:22 2022 -0700

    Use python3 for sort_controllers.py

commit 72fea0ed6f693f8ce11ac541dd0ceb4d03ccaefe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 15 13:58:28 2022 -0700

    Added support for the Qanba Dragon Arcade Joystick

commit 6bd3e0b189457bb3e0c62e301a0eef650178eeaf
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed Jun 15 15:58:48 2022 -0400

    Test: Check sqrt and atan against the epsilon.
    
    On i686-linux, the `sqrt_regularCases` and `atan_limitCases` tests would
    fail as the result was not precise enough.

commit cee47a9ebe28819a16310866e9de246dca3b8644
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed Jun 15 14:36:13 2022 -0400

    Test: Use inexact helper for log10 regular cases.
    
    On ARMv6, the result is not precise enough for this function.

commit a52b8580f01fa10778d9965ae15235c14f2bcb2c
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 27 23:49:42 2022 -0400

    Test: Tidy up test descriptions and documentation.
    
    Test function documentation now lists the input(s) and expected output(s).
    Descriptions in TestCaseReference were updated.

commit 4d7f12f6bdcf724f0845a7421645973897aee129
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 25 01:28:03 2022 -0400

    Test: Add Atan2 tests to math suite.

commit 8ebe640a362fc6ce8c9b52a7694dea3ec1ce6453
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 25 00:41:06 2022 -0400

    Test: Change inexact tests to use an epsilon.
    
    Instead of using `trunc` to check the first ten digits, inexact test now
    relies on an epsilon defining an acceptable range for the expected
    result to be in.

commit 62fd6aad39344089522df9baeed8efefbc3eef5f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 23 20:12:28 2022 -0400

    Test: Add Atan tests to math suite.

commit 6a6e93bc293575c2f9afa85c73f946e6450e53bd
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat May 21 23:11:40 2022 -0400

    Test: Add +/-0.0 tests to Acos.

commit 6b4b6d8e59aa11deb2ecae112af5c1dcc07da93f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat May 21 23:01:50 2022 -0400

    Test: Add Asin tests to math suite.

commit 43f6983a2492f9b1aba0ec7df54a933ad555d4d1
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat May 21 21:51:48 2022 -0400

    Test: Add Acos tests to math suite.

commit 95f6edb9a5d1ef20c710ddd6fc0c249d3c2b4f20
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat May 21 20:07:14 2022 -0400

    Test: Refactor trigonometric tests into a helper.
    
    The precision test of these functions need a special helper, it can also
    be used for their arc functions down the line.

commit 3b9f47b85fbc356aae4a8c9bbe5c08db0afece46
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 20 21:45:31 2022 -0400

    Test: Remove early return in pow test.

commit 6be430c7f7dbff362a0082242c710a42067b3d67
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 16 20:54:59 2022 -0400

    Test: Add Tan tests to math suite.

commit af79b46f9e2df35ed728e785e353d80c2e127d6a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 16 20:34:07 2022 -0400

    Test: Add Sin tests to math suite.

commit b06eda55e902723c5df3566272b4666df9d9a68f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 16 20:02:24 2022 -0400

    Test: Fix math suite build on Win32.
    
    The cosine precision test now uses an array of double and the result
    gets truncated instead of casted to signed int64.

commit adb445eafb67cbcefc0bb88fc363c17ebfa01754
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 16 18:29:08 2022 -0400

    Test: Add Cos tests to math suite.

commit a864180cf35f0d7ad61b5fa6df26c67b539cf392
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 19:36:30 2022 -0400

    Test: Add float header for FLT_RADIX definition.

commit 7a55fa4e56cd988b7817ae0fb8bf4a34c4f6e057
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 19:03:53 2022 -0400

    Test: Add Scalbn tests to math suite.

commit afd812374fdaf472be6abb0e6ddc91e3bfab0f6b
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 17:43:38 2022 -0400

    Test: Add Sqrt tests to math suite.

commit c389c32d30f2fbd148d7485f460f3a1d9c1ef382
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 17:00:12 2022 -0400

    Test: Change assertion type in range tests.
    
    Changes SDLTest_AssertPass(...) to SDLTest_AssertCheck(SDL_FALSE, ...)
    for failed assertions so the internal counter gets updated properly.

commit 5ecc75a4fcfa4f2d5958aa51ad2458693a8871f1
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 16:30:38 2022 -0400

    Test: Add Pow tests to math suite.

commit 6349ad7319676803891a27af940ee19c76ec2a3a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 11:52:12 2022 -0400

    Test: Add Log10 tests to math suite.

commit 7041bbaf0031b756af6907bf9f78b8a5667e9f14
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sun May 15 11:36:12 2022 -0400

    Test: Add Log tests to math suite.

commit dd30ff2e315915e091f1ceec191fe0701ef4d936
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Thu May 12 22:19:59 2022 -0400

    Test: Add Exp tests to math suite.

commit aacb5e1774e39c98034927a8a2851f7e7c73b7b4
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 11 22:17:18 2022 -0400

    Test: Extract range test parameters into defines.

commit 75b9aab6c1bfbf378e9b82a32b044d74ca7f5049
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 11 22:04:28 2022 -0400

    Test: Add Fmod tests to math suite.

commit 0dbdf90e7b8cd33b3f362eacfb8b49098a67125c
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 11 12:54:16 2022 -0400

    Test: Use SDLCALL in typedefs instead of ifdefs.
    
    Thanks to @sezero for the tip.

commit 2ec48b36bafb84ff617719ae41760a0e57cc7b21
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue May 10 22:55:41 2022 -0400

    Test: Fix OS/2 compilation in math suite.

commit 43c22e5d1e04272b194673362ac1872ab59cd2a9
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue May 10 22:07:28 2022 -0400

    Test: Refactor math suite duplicate code.
    
    Many tests were using the same underlying routine, as such three helper
    functions were added:
    - A wrapper to test double -> double functions.
    - A wrapper to test (double, double) -> double functions,
    - A wrapper for range tests on double -> double functions.

commit 3d720ba38106047b8e19470c4eb9c0cc76bf1313
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Tue May 10 21:05:05 2022 -0400

    Test: Refactor math suites edge cases.
    
    Split infinity and zero checks in their own functions.
    The result of NAN tests is now logged.
    The SDL_TestCaseReference structure were renamed to be more explicit.

commit a530fc9199a47f3c31c3446d4e9e5d0b7e6cbb1d
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Mon May 9 22:56:44 2022 -0400

    Test: Add Copysign tests to math suite.

commit 48a406db4d91e212899f0d8a1f580d9fcf59bd9a
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 14:32:50 2022 -0400

    Test: Add Fabs tests to math suite.

commit 2130dff0fcf14549be422520a3c08207e352050c
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 14:19:44 2022 -0400

    Test: Add Round tests to math suite.

commit 324b96153f4d302dc82f54d2a7ac670201b4e165
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 13:57:02 2022 -0400

    Test: Add Trunc tests to math suite.

commit b09266a4ef28f94163f20d66e482a9b91a33ee6f
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 13:51:04 2022 -0400

    Test: Add Ceil tests to math suite.

commit 9eb09d23929f03f329a67631c0bbb0676f0458a0
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 13:39:44 2022 -0400

    Test: Refactored and formatted math test suite.

commit 0f630e917797f575be48638fb01411b19309a5cd
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 21:37:40 2022 -0400

    Test: fix indentation in Makefile.in.

commit 4e3a26e27118116e4cd92adeceb2a89e44bdaeb9
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 14:36:49 2022 -0400

    Test: Add math test suite to autotools.

commit e64acb619aa0920b9c90679ce82a2bc325fa52f6
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 14:25:10 2022 -0400

    Test: Fix for-loop for OS/2 in math suite.

commit a3a852e91227de5783ebc326f38243a40d91b022
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 13:51:42 2022 -0400

    Test: Unrolled the array of cases in math suite.
    
    On OS/2, `INFINITY` is a `const double` which cannot be used to
    instantiate an array.

commit c23216bf4602ee2e07ba28c204f511f1b7d62e31
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 13:20:09 2022 -0400

    Test: Removed static from local variables (Math).
    
    Static would break compilation on OS/2.

commit 6208ed86041e2c889a47713d89dbbad1a79bd2c7
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 13:18:13 2022 -0400

    Test: Add math suite to Visual Studio solution.

commit 6646edf6924d8c518c7f14b6e17a9fc0dbd65677
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 13:10:41 2022 -0400

    Test: Fix Windows build for math suite.

commit d9ff6380ae7e8bc0ae012fc1941bf7a358212ca4
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 12:51:13 2022 -0400

    Test: Add math test suite to Watcom Makefile.

commit 7389eba94327cda148e700b2a9a38dca1b6e9ba9
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 12:49:25 2022 -0400

    Test: Fix C89 declaration and math include.

commit b3faebb8a83e9fead34ee7b61cce2a280a5f7e12
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 12:40:24 2022 -0400

    Test: Add Floor tests to math.

commit b72b5d0f99f005851e53daa47c0f7efe132dbf0b
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Wed May 4 12:39:49 2022 -0400

    Test: Add math automation test suite.

commit 86f50ae7d7fc4621fa82fa91abded8e7d4481428
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 06:10:25 2022 +0200

    ci: Test cmake build script on Android
    
    android

commit 18206446bfdcaf8c549e09b2bfcd139dabfe096f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 17:10:31 2022 +0200

    cmake: collect SDL_LIBS as list + export PKG_DIRECTFB_LDFLAGS

commit b5f1fe5004788aab863b425c73f4a7fd2edc2908
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 06:17:59 2022 +0200

    cmake: Allow integers for SDL_ASSERTIONS + fix -DSDL_ASSERTIONS=0

commit 97711e99fec602d6526b086d791e86d6d684cda4
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 18:57:13 2022 +0200

    cmake: no need to explicitly add a depency (target_link_libraries does this implicitly)

commit ad21c70408a6951bf3b3a85df3a26b83721d907e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 05:36:28 2022 +0200

    cmake: fix CMP0072 warning by prefering GLVND

commit c90e1ec3ef1bcf53df4343f3f953560410dc6b1f
Author: Yao Wei Tjong 姚伟忠 <weitjong@gmail.com>
Date:   Sun Aug 15 21:51:31 2021 +0800

    Remove redundant sizeof "size_t" check
    
    The result variables: HAVE_${VARIABLE}, ${VARIABLE}, ${VARIABLE}_CODE,
    etc. do not seem to be referenced anywhere in the CMake build script.

commit 12f9bcd2f4317427b928c443f118a42dee6896b7
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 17:08:41 2022 +0100

    Build tests for all CMake platforms on CI

commit f8ae3ef1eb8043b1d166dd268066b4496224aaad
Author: takase1121 <20792268+takase1121@users.noreply.github.com>
Date:   Wed Jun 15 22:01:59 2022 +0800

    wayland: use libdecor resize edge enums for libdecor

commit 163f66974505461852fea3d95cc033e02518db99
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 15 17:00:02 2022 +0300

    minor tidy-up to configury.

commit 960b86dcb5d64e8e1d2d3c3a1f0c6b5f0d9ec996
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 14 01:56:40 2022 +0300

    update SDL_render_d3d12.c after DPI scaling/highdpi support patch.
    
    See https://github.com/libsdl-org/SDL/pull/5778#issuecomment-1153006938

commit 6d1dfc8322f752a02e876a99bb5e2e355319389d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 04:29:14 2022 +0200

    cmake: make sure SDL2::SDL2 is always available

commit 69df26a0d40711704d715207d02339fec09b7e0f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:51:46 2022 +0200

    ci: test clang+MinGW on CI

commit 32df5aeb3d0dca1a28533d413bdd54ea072fe0d3
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:16:28 2022 +0200

    Check result of FindLibraryAndSONAME before use

commit 8a2c6b604c725db50deca2f1e1d9fc6bec2041f2
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:11:33 2022 +0200

    cmake: don't link to libibus (not needed, I think)

commit c950018fe0f96c0c6bb8e48db99018bc3b19ec8b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:07:41 2022 +0200

    cmake: don't link to libdbus (see note in SDL_dbus.c)

commit fb7c03ebb5ac903d081efdc667564fe80a043e50
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:04:10 2022 +0200

    cmake: install LICENSE.txt

commit afc350eeff14e780b05574f3b4b37e02cd158807
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 15 03:03:33 2022 +0200

    cmake: do 's#set(SOURCE_FILES  #list(APPEND SOURCE_FILES #g'

commit ded6c22efb3e11ee9a6df5778aeec38cd5d8027d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 14 14:09:13 2022 -0400

    render: Corrected wrong SDL_memcpy() sizes for viewport, cliprect.
    
    Fixes #5786.

commit e427e80bfe5d6a13f8d53b53c481e9da7a6d3384
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Jun 14 10:41:18 2022 -0400

    wayland: Use the output descriptions from xdg-output when available
    
    Some compositors will provide 'nicer' / 'human readable' output descriptions via the xdg-output protocol. Use these description strings, when available, instead of the model name provided by wl-output.  On compositors such as GNOME where this is provided, the display names provided to applications by SDL will now match those in the desktop display settings panel.  On compositors where this data isn't provided, the old behavior of using the model string provided by wl-output will remain unchanged.
    
    Additionally, per the protocol spec, output data provided by xdg-output should supersede wl-output data, so this is the recommended behavior in general.

commit 714502d3737d64d857460e38f4d5aee31d77b9fe
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 13 22:15:56 2022 +0300

    minor windows warning fixes.

commit e974985998233504aad14d0e9d9af366db9b8028
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Jun 13 16:54:42 2022 +0100

    test: Add test coverage for surface size overflows
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 507ce36d807dd409963f59fdf9f51fcc8dd00dcb
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 10 10:35:06 2022 +0100

    video: Note unused SDL_surface creation parameters for removal in SDL 3
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 535fdc3adcdc08a193ab0d45540014fd536cf251
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 10 10:34:41 2022 +0100

    video: Detect and reject nonsense SDL_surface dimensions
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 8c9f7104e32ef8c425623d12ef6825e26b99aec2
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 10 10:33:54 2022 +0100

    video: Harden calculation of SDL_surface pitch and size against overflow
    
    If the width is sufficiently ludicrous, then the calculated pitch or
    the image size could conceivably be a signed integer overflow, which
    is undefined behaviour. Calculate in the unsigned size_t domain, with
    overflow checks.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 6606ab8b567e150b29d3b8aa7da45df3d537ad10
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 13 18:35:32 2022 +0200

    Introduce EXTRA_TEST_LIBS variable for test-only libraries

commit e99a7144ffc6d62599676ed5782e39828609a63f
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 13 18:04:51 2022 +0200

    Use list(APPEND EXTRA_LIBS) everywhere

commit 851eecdf4060d0a472cff5084809983ad4ca093d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon Jun 13 18:04:10 2022 +0200

    Don't add extra build linker flags to SDL2_static
    
    These leak to users, when SDL2 is vendored.

commit 63b3b9a5582e7936af0f79bd602db1400e155d42
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Jun 13 16:02:40 2022 +0100

    Fix some typos in diagnostic messages
    
    Detected by Debian's packaging QA tool, Lintian.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit c95edd945091525154a75ee32e2ef09038649027
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 13 06:36:39 2022 -0700

    Fixed spacing

commit 33f8a4ddcafbc2f73cff20cc8451eac108139d96
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jun 13 13:29:04 2022 +0000

    Sync wiki -> header

commit 6258f2ef3f3f5be0c316a77ddfc0999d836c3056
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 13 06:27:01 2022 -0700

    Fixed spacing

commit 73215379717d174877c88fe7f05667b118e09f03
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Jun 13 11:51:41 2022 +0100

    cmake: Fix static linking to dependencies with "-" in library name
    
    When SDL is built with Wayland support on Linux, and Wayland libraries
    are linked as dependencies instead of being loaded with dlopen(), its
    dependencies will include libraries whose names contain a dash, like
    `-lwayland-client` and `-ldecor-0`. Don't replace such libraries with
    `-lwayland` and `-ldecor`: those don't exist and linking them will fail.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit bdf141335c59af7da331076127b72daf51edb8e3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 12 23:22:20 2022 +0300

    autotools: fixed d3d12 detection result report.

commit 9a0367675f44821c69b60341eed539fdfd13e7e7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 12 15:28:49 2022 -0400

    windows: Get better name for the physical display, for Vista and later.
    
    Fixes #5321.

commit 1963cccce1065d2d9329a956fb28501cf77f0d23
Author: Pierre Wendling <50808272+FtZPetruska@users.noreply.github.com>
Date:   Sun Jun 12 09:48:57 2022 -0400

    CMake: Fix XCode CMake config file. (#5787)
    
    As mentionned in libsdl-org/SDL_net#48 and libsdl-org/SDL_ttf#213:
    - Options needs to use `SHELL:` to avoid aggressive option de-duplication
    - Framework path needs to be quoted to support paths with spaces.

commit b84ce0d484073703e3fee3f4006212ee4f122151
Author: Matthew Morrison <james.m.morrison@vanderbilt.edu>
Date:   Sat Jun 11 20:07:26 2022 -0500

    Fix typo
    
    platform was spelled like plattform

commit fd8cafc72ebd234511baede7946c68d27fb76e7c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jun 11 17:11:55 2022 +0100

    Rename variables in SDL_egl.c to be more intuitive

commit e09551bc80b09054ba9d90fa42029d9580b25ccb
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Thu Jun 9 02:22:21 2022 -0600

    Fix WinRT build

commit 283089574032ffd39d41d85e5ac2d9a3d77cec5d
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Wed Jun 8 23:49:05 2022 -0600

    testgles2.c: refresh cached SDL_GL_GetDrawableSize() on SDL_WINDOWEVENT_SIZE_CHANGED, not SDL_WINDOWEVENT_RESIZED
    
    Fixes bug with viewport not updating when moving window between monitors with different scale
    factors on Windows (this should also fix the same issue on other OS'es, though untested)

commit ab81a559f43abc0858c96788f8e00bbb352287e8
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Tue Jun 7 02:01:27 2022 -0600

    Windows DPI scaling/highdpi support
    
    Adds hint "SDL_WINDOWS_DPI_SCALING" which can be set to "1" to
    change the SDL coordinate system units to be DPI-scaled points, rather
    than pixels everywhere.
    
    This means windows will be appropriately sized, even when created on
    high-DPI displays with scaling.
    
    e.g. requesting a 640x480 window from SDL, on a display with 125%
    scaling in Windows display settings, will create a window with an
    800x600 client area (in pixels).
    
    Setting this to "1" implicitly requests process DPI awareness
    (setting SDL_WINDOWS_DPI_AWARENESS is unnecessary),
    and forces SDL_WINDOW_ALLOW_HIGHDPI on all windows.

commit df36f926fc0c4085247737ef081a509f6490dba9
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Jun 5 14:44:30 2022 -0600

    testautomation: add video_setWindowCenteredOnDisplay test

commit 448e05e3c821bf365d54cd3af21eec6fc969d3dd
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Jun 5 12:51:57 2022 -0600

    add DPI_AWARENESS_CONTEXT_UNAWARE_GDISCALED define

commit 1b797957c17f71f3eb5540db1ffccfe8edf41969
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Jun 5 12:36:58 2022 -0600

    SDL_windowsvideo.c: add HIGHDPI_DEBUG ifdef, print DPI awareness at startup if defined
    
    document some additional quirks

commit 1488c40812d7f6fdeca771804b8e4f2551d1459e
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Jun 5 12:01:32 2022 -0600

    WM_DPICHANGED: remove some dead code, add comment

commit 60ef11b3cb857c23453d42e51184e3735b8f7edd
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Fri Jun 3 00:21:36 2022 -0600

    Fix Watcom compile errors

commit d3b970d4d5d6d640e51f422894c3dea8daf8e6c7
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun May 29 21:56:37 2022 -0600

    HighDPI: remove SWP_NOSIZE in WIN_SetWindowPosition
    
    If the move results in a DPI change, we need to allow the window to resize (e.g. AdjustWindowRectExForDpi frame sizes are different).
    
    - WM_DPICHANGED: Don't assume WM_GETDPISCALEDSIZE is always called for PMv2 awareness - it's only called during interactive dragging.
    
    - WIN_AdjustWindowRectWithStyle: always calculate final window size including frame based on the destination rect,
    not based on the current window DPI.
    
    - Update wmmsg.h to include WM_GETDPISCALEDSIZE (for WMMSG_DEBUG)
    
    - WIN_AdjustWindowRectWithStyle: add optional logging
    
    - WM_GETMINMAXINFO: add optional HIGHDPI_DEBUG logging
    
    - WM_DPICHANGED: fix potentially clobbering data->expected_resize
    
    Together these changes fix the following scenario:
    - launch testwm2 with the SDL_WINDOWS_DPI_AWARENESS=permonitorv2 environment variable
    - Windows 10 21H2 (OS Build 19044.1706)
    - Left (primary) monitor: 3840x2160, 125% scaling
    - Right (secondary) monitor: 2560x1440, 100% scaling
    
    - Alt+Enter, Alt+Enter (to enter + leave desktop fullscreen), Alt+Right (to move window to right monitor). Ensure the window client area stays 640x480. Drag the window back to the 125% monitor, ensure client area stays 640x480.

commit 51ebefeeee2228fe3a20e6985c4901d4e6a160d8
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Mon Feb 28 00:43:43 2022 -0700

    Support PMv2 DPI awareness, add SDL_HINT_WINDOWS_DPI_AWARENESS
    
    The hint allows setting a specific DPI awareness ("unaware", "system", "permonitor", "permonitorv2").
    
    This is the first part of High-DPI support on Windows ( https://github.com/libsdl-org/SDL/issues/2119 ).
    It doesn't implement a virtualized SDL coordinate system, which will be
    addressed in a later commit. (This hint could be useful for SDL apps
    that want 1 SDL unit = 1 pixel, though.)
    
    Detecting and behaving correctly under per-monitor V2
    (calling AdjustWindowRectExForDpi where needed) should fix the
    following issues:
    
    https://github.com/libsdl-org/SDL/issues/3286
    https://github.com/libsdl-org/SDL/issues/4712

commit 81d3adddbfd333266d5b88438bc5b1baea0f823e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 11 12:59:33 2022 -0500

    events: Fix spurious early returns from SDL_WaitEvent()/SDL_WaitEventTimeout()
    
    Fixes #5780

commit b3260e7eb3982bdf04aefe198c0f6aa36c84bbab
Author: Nhalrath <nhalrath@protonmail.com>
Date:   Sat Jun 11 23:34:20 2022 +0800

    Remove macro definition for SDL_ERRBUFIZE
    
    I was looking at how errors are handled by SDL and came across this #define SDL_ERRBUFIZE which looks like a typo for SDL_ERRBUFSIZE, but either way, it looks like this isn't being used anywhere anymore because it was getting reported whenever I compile SDL with -Wunused-macros, and the last time it was mentioned in the code was from commit 09ca66b.

commit 4a3277b0f9878d6e66e60998a26115f8e2b6e453
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu May 19 15:13:02 2022 -0400

    wayland: Always commit window constraints before entering fullscreen
    
    XDG-toplevel min/max size values are double-buffered data and must be committed before entering the fullscreen state, or a max window size value smaller than the display dimensions may cause the compositor to incorrectly configure the fullscreen window size.  This fixes windowed->fullscreen transitions on GNOME, where, previously, certain combinations of window flags and min/max size values could cause entering fullscreen mode to fail with odd window sizes and/or offsets due to the new max size values not being committed before entering fullscreen, causing the compositor to clamp to the old values.
    
    In the case of libdecor, it has its own layer of buffering on top of the xdg-toplevel surface for the min/max window dimensions, so both a frame commit and surface commit are required to set the state properly.

commit 78698a0ba2269ce54f82293e11807e2c492d9937
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue May 17 12:37:16 2022 -0400

    wayland: Use a separate frame callback for setting the surface damage region
    
    Previously, the surface damage region was being set in the same callback used for preventing render hangs in the GL backend when the surface was not visible.  This was not ideal, as the callback was never fired in the case of using a different render backend or having a swap interval of 0.  Use a separate frame callback for setting the surface damage region to ensure that it fires reliably, regardless of the backend being used or swap interval.

commit 146ea9b0e1f70e4e42002e88801f929b1eaee568
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon May 16 18:18:55 2022 -0400

    wayland: Only set the surface opaque region if EGL transparency is disabled
    
    Check if the "SDL_VIDEO_EGL_ALLOW_TRANSPARENCY" hint is enabled and don't mark surfaces as opqaue if it is.

commit a20516d4f35f49ba00588324a611297c6b1cd17c
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon May 16 10:35:56 2022 -0400

    wayland: Swap emulated mode dimensions in more cases
    
    Some compositors (GNOME for example) don't set the transform flag when dealing with portrait mode displays, so the video modes won't have the width/height swapped in all cases where they should be.  Check for both the 90/270 degree transform flag and if the display is taller than it is wide when determining whether to swap the width and height of the emulated video modes, and adjust the comparison logic when size testing against the native mode to account for this.

commit e1c8350439d09903d5697d06ab846133d132205c
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun May 15 10:35:59 2022 -0400

    wayland: Add a hint to disable video mode emulation under Wayland
    
    Add the hint "SDL_VIDEO_WAYLAND_MODE_EMULATION", which can be used to disable mode emulation under Wayland. When disabled, only the desktop and/or native display resolution is exposed.

commit e9d3dcea735ea9177d9ad903c90777b6be5ff284
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat May 14 18:32:05 2022 -0400

    wayland: Unify integer and fractional output scaling
    
    Previously, scale values used by the displays and surfaces were always integers, with fractional scale values only being calculated when the backbuffer and viewport sizes were being determined. Now, if xdg-output is available, the fractional scale of output displays is calculated when the displays are enumerated and the true scale values of the output devices are used whenever possible.
    
    This unifies the integer and fractional scaling systems, allows for the use of more accurate scale values that minimize overdraw when windows straddle multiple outputs, and lays the groundwork for the pending Wayland scaling protocols that will report the preferred scale values per-surface instead of per-output.

commit 4fde7dd8308add047df181912cd452d9d0b8982a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat May 14 14:42:52 2022 -0400

    wayland: Refactor the Wayland mode emulation and viewport logic
    
    Compartmentalize the fullscreen mode emulation code blocks, unify the windowed/fullscreen viewport logic, consolidate all window geometry code into a central function to eliminate blocks of duplicate code and rename related variables and functions to more explicitly reflect their purpose.

commit ce5763230bae4bab9e39634100cc40a7d10433ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 10 12:42:45 2022 -0700

    The backlight event is "change", not "add" or "remove"

commit 68544be44bfa26d65726c74bd01c6fc79f4641f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 10 11:31:59 2022 -0700

    Added support for the Nintendo Online controllers

commit b75cd2b36dd742b956a225087dad39d14884f581
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 10 14:12:03 2022 -0400

    x11: Force window back to expected size after SDL_SetWindowBordered.
    
    This helps if the window manager decided to let it fill the space that
    an existing border was using before its removal.
    
    Fixes #5718.

commit 51db7754422d69e2e29430f806279e5b51117999
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jun 10 06:23:20 2022 +0300

    updated windows watcom exports file after last commit.

commit 9202df0472fd8f3e5596cb99a4fa3cd68f45669d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 9 18:11:34 2022 -0700

    Implemented SDL_GameControllerGetFirmwareVersion() for HIDAPI PS5 controllers

commit e5a3acd6bd0349c585ba7c0e9865cefb4772c00c
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Thu May 5 04:01:05 2022 +0200

    ime: fcitx: Retrieve cursor position and selection
    
    Also, if `SDL_HINT_IME_SUPPORT_EXTENDED_TEXT` is enabled, make use of
    `SDL_TEXTEDITING_EXT` by sending the full preedit string.

commit dd7bed9ebc0e002551ac8bfbe7413cd3249473e5
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Thu May 5 03:10:35 2022 +0200

    ime: ibus: Retrieve cursor position and selection
    
    Also, if `SDL_HINT_IME_SUPPORT_EXTENDED_TEXT` is enabled, make use of
    `SDL_TEXTEDITING_EXT` by sending the full preedit string.

commit d11702ce29308463d463df683d7a34dce0054cef
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Thu May 5 02:34:16 2022 +0200

    ime: wayland: Make use of `SDL_TEXTEDITING_EXT`
    
    Because we were sending multiple chunks of preedit strings,
    `SDL_SendEditingText` was using the old `SDL_TEXTEDITING` event only.
    
    Now if `SDL_HINT_IME_SUPPORT_EXTENDED_TEXT` is enabled, we send the full
    string and correctly set the cursor position and selection size.

commit 74bcc5a0a3e757467b710353e7c6bdfb7277e0a2
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Thu May 5 02:23:05 2022 +0200

    stdlib: Add `SDL_utf8strnlen`

commit c7f4103807c77b09815979d7023c9830a3a2f564
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 9 13:47:29 2022 -0700

    Special case for k_eControllerType_XInputSwitchController in the raw input path

commit e6cb0822323869cd6f44450836f7031b2809d39f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 9 13:20:38 2022 -0700

    Fixed the default mapping on Windows for the HORI Fighting Commander

commit 0a93ac129475ab3ce11af95969f767d60e98233a
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 18:06:47 2022 +0100

    Work around the lack of clock() on PS Vita

commit 25367efcba2d055f0ef4da4473832556eddbcf31
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 17:36:22 2022 +0100

    Add missing library needed for locale functions on PS Vita

commit 6f69bbc541ed170e60b66a75977e627d4f7c5455
Author: chalonverse <sanjay12@gmail.com>
Date:   Wed Jun 8 12:38:43 2022 -0700

    D3D11: Fix SDL_TEXTUREACCESS_TARGET not working if SDL_HAVE_YUV was 0
    
    Added a couple of missing SDL_zeros in CreateTexture

commit 8303c5d0a3d63d0fe6378b8f6e8b4b20ba172239
Author: chalonverse <sanjay12@gmail.com>
Date:   Wed Jun 8 12:37:36 2022 -0700

    Added missing SDL_zero for renderTargetViewDesc

commit 6bd49fc00c7d7aab0d74f12c93872e6f50fccb0d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 8 21:58:10 2022 +0300

    revert mode changes from commit d58d637ac

commit d58d637ac6bd84a3fb30ecbfc50e8454fac9d9fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 8 11:07:36 2022 -0700

    Added support for the Qanba Obsidian Arcade Joystick on Linux

commit 526f41758766c5ba11f533255458b1808fddc227
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 8 20:51:04 2022 +0300

    updated configury to silence ac2.7x warnings with minor rearrangement.

commit 51d6d60f116f565347b9255bbfeaf77ffd4f87a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 8 10:14:36 2022 -0700

    Updated to autoconf 2.71

commit e201f338d77ad7dd9d5ad28f99c750df55355138
Author: Charlie Birks <charlie@daftgames.net>
Date:   Wed Jun 8 14:54:47 2022 +0100

    ci: enable CMake test for Emscripten

commit 0fcfaf9e9482953ee425cc15b91160b92de3df7f
Author: Charlie Birks <charlie@daft.games>
Date:   Wed Jun 8 14:20:50 2022 +0100

    emscripten: use MAIN_THREAD_EM_ASM for the fb/cursor proxying
    
    This is how everything else was handled and fixes undefined symbol
    errors in non-threads builds.

commit b9c2ad8395ada3d6eb1fd0e9ef04c7c0ce3b5990
Author: chalonverse <sanjay12@gmail.com>
Date:   Tue Jun 7 22:19:58 2022 -0700

    Added additional check for HAVE_D3D12_H and missing SDL_VIDEO_RENDER_D3D12 in SDL_config.h.cmake

commit 298ad937c0f068a83ebbf89fc8b0ef508d3cd01e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 8 01:10:12 2022 +0200

    cmake: wrap SDL_STATIC_PIC in double quotes (aka never trust user input)
    
    Suggested by @Wohlstand

commit ad272ac6901e979e7431d72629e3189727eed037
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed Jun 8 00:32:15 2022 +0200

    Set POSITION_INDEPENDENT_CODE property on SDL2 for CMake 3.0

commit e8d89ce28fee76652d1529a4258752bc33ebda5b
Author: chalonverse <sanjay12@gmail.com>
Date:   Tue Jun 7 16:31:27 2022 -0700

    < should be <=

commit 7a335df9cfce651890842069aff90f5aecfef07d
Author: chalonverse <sanjay12@gmail.com>
Date:   Tue Jun 7 16:11:25 2022 -0700

    Updated CMakeLists.txt and configure.asc/script so that it checks for the required Windows SDK version before it enables the d3d12 renderer. Also fixed reported warnings in some builds.

commit 5abd67691787d94f16531e9cfa05a9a477f3a5b1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Tue Jun 7 04:28:55 2022 +0200

    Allow empty default values to the dep_option macro

commit 2cc2260435f407185e0acfbde893f3d4bede2b60
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jun 7 16:30:01 2022 +0200

    Fixed bug #5768 - SDL_RenderGeometry's software backend failed to render when texture coordinates are reversed
    
    handle flip vertical/horizontal when reconstructing rects from triangles

commit 168b97ca327ae934d6cf9099c45023837415912d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 7 00:33:59 2022 -0700

    Updated Xcode project with SDL_guid.c and controller_type.c

commit 7e71d08ab23293f826eaeb2fbd136189e4c38dbe
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 7 04:02:50 2022 +0300

    regenerated configure script.

commit ef4e0e921a6442c26f6969cccce648d23c20379d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Jun 7 00:44:04 2022 +0000

    Sync wiki -> header

commit 4082821822edd2cdffdeb130718821c5503140ea
Author: chalonverse <sanjay12@gmail.com>
Date:   Mon Jun 6 17:42:30 2022 -0700

    DirectX 12 Renderer (#5761)
    
    * DirectX 12 Renderer (27 squashed commits)
    
    * Add missing SDL_hidapi.h of merge of SDL.vcxproj.filters
    
    * Fixed OpenWatcom build failure
    
    * Dynapi fix
    
    Co-authored-by: Ryan C. Gordon <icculus@icculus.org>

commit 63e12cf6011c36e399e43ca949fb0ea057afeb73
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 6 22:55:56 2022 +0300

    SDL_windows_main.c: replace CopyMemory() with SDL_memcpy()

commit ec0204d2438829b18d5942b93713dfd00682121c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 14:38:26 2022 -0400

    x11: Don't use GetXftDPI() when XRandR can tell us the DPI per-output.
    
    Fixes #5764.

commit 61115aebd341a9bbaf2141d9957e857d889768c9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 6 19:29:56 2022 +0300

    update dynapi after the loongarch support patch

commit 7cd165e2d97c24ae286c7c63707138a86f732043
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jun 6 15:51:04 2022 +0000

    Sync wiki -> header

commit 50d8642fa3da0a72d286359cc7f89b0a445b02d5
Author: yuanhecai <yuanhecai@loongson.cn>
Date:   Mon Jun 6 20:18:38 2022 +0800

    Add optimiztion function with LSX in LoongArch
    
    1. yuv420_rgb24_lsx
    1. yuv420_rgba_lsx
    2. yuv420_bgra_lsx
    3. yuv420_argb_lsx
    4. yuv420_abgr_lsx

commit 17f63e53f83e6cef3490d5edc8a24d5b22bbabe1
Author: yuanhecai <yuanhecai@loongson.cn>
Date:   Tue May 31 19:10:05 2022 +0800

    Add loongarch support
    
    LSX and LASX are enabled by default if compiler supports them.

commit 9703f2366347e16dac68ab688609a91099455285
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 10:54:16 2022 -0400

    SDL_SetHintWithPriority: actually, this test is good.
    
    Otherwise, we end up calling the callback if both the old and new value
    are NULL.
    
    This reverts commit 5f25a6ea78605f9f5b600015b7532a06df3f02e2 (and also
    trims some whitespace).

commit 30cf26e089e59596f5cc94b65935fab20b7b27df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 6 06:48:54 2022 -0700

    Show the firmware version in testgamecontroller

commit 5f25a6ea78605f9f5b600015b7532a06df3f02e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 09:36:20 2022 -0400

    Revert "SDL_SetHintWithPriority: better test if hint value has changed."
    
    Actually, the original test was fine, disregard.
    
    This reverts commit c391bdc1607de896a0f0b577e2b4a57e5f5740b7.

commit c391bdc1607de896a0f0b577e2b4a57e5f5740b7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 09:31:35 2022 -0400

    SDL_SetHintWithPriority: better test if hint value has changed.

commit 55a07d91faca40caf7cac10840ccd5e2f0521f0c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 09:30:43 2022 -0400

    SDL_SetHintWithPriority: Allow setting NULL hints.
    
    Fixes #5120.

commit a236bf4f252468f4f5d22fec7d9c11ceb23943cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 6 02:13:37 2022 -0400

    x11: Hook up display hotplug notifications.
    
    Obviously this needs XRandR support.
    
    Fixes #4977.

commit 6b4bd5a75924917e45c70d55596ac2d51267c19e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 5 09:34:12 2022 -0400

    test_harness: Report if zero tests to run.
    
    Fixes static analysis complain about a potential malloc(0) call.

commit 46624b4e1da7e71a456959416ae8041798ee3344
Author: Christoph Reichenbach <creichen@gmail.com>
Date:   Sun Jun 5 06:53:15 2022 +0000

    Removed two distracting gcc-11 warnings

commit 3807e95029d77a480e80adddd7c0f21abc29baa9
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Jun 5 00:24:04 2022 +0000

    Sync wiki -> header

commit 3a20274ddff20d9c3ea4895353b23ff252954b87
Author: Christoph Reichenbach <creichen@gmail.com>
Date:   Sat Jun 4 20:16:28 2022 +0000

    Refactoring: move GUID operations out of Joystick
    
    - SDL_JoystickGUID -> SDL_GUID (though we retain a type alias)
    - Operations for GUID <-> String ops are now in
      src/SDL_guid.c and include/SDL_guid.h
    - The corresponding Joystick operations delegate to SDL_guid.c
    - Added test/testguid.c

commit 4e07d4722d61c65e8fc4d4685e3a0861eea5d15b
Author: Christoph Reichenbach <creichen@gmail.com>
Date:   Sat Jun 4 13:03:51 2022 +0000

    Build warning fixes for gcc-11.3

commit b359282a5ca8a5c5abb7bedc25eece69d516aa97
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 4 12:58:00 2022 +0300

    regenerated configure script

commit 20c76599f998fccd66068f4f7610bdeff1829d49
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jun 4 03:11:23 2022 +0200

    Fix MinGW SDK redist: sdl2-config.cmake needs to set SDL2_FOUND

commit fd3f381021723c2dc4542505b38458b7d98af4c2
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat Jun 4 03:16:27 2022 +0200

    Initialize SDL_STATIC_PIC from CMAKE_POSITION_INDEPENDENT_CODE

commit 65a3453b7f2be6699c632a2f3980e45e960feac8
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu May 26 16:02:15 2022 +0100

    build: Compile with large inode number support where possible
    
    On filesystems with large inode numbers, such as overlayfs, attempting
    to stat() a file on a 32-bit system using legacy syscalls can fail
    with EOVERFLOW. If we opt-in to more modern "large file support"
    syscalls, then source code references to functions like stat() are
    transparently replaced with ABIs that support large file sizes and
    inode numbers, such as stat64().
    
    This cannot safely be done globally by Linux distributions, because
    some libraries expose types like `off_t` or `struct stat` in their
    ABI, meaning that enabling large file support would be an incompatible
    change that would cause crashes. However, SDL appears to be careful to
    avoid these types in header files, so it should be OK to enable this.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 3604ae1d1b1bb9dab438b6e7c941534a6bd194ec
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Jun 4 01:52:04 2022 +0000

    Sync wiki -> header

commit 423141bfcade1bcb7b160167f80a2049196e281c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 3 18:49:41 2022 -0700

    Added a function to get the controller firmware version

commit d6143ab369eb4a39bc78fd6ed7a43e09e3ab900e
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 23:53:05 2022 +0200

    Add -Wl,-Bstatic to "sdl2-config --static-libs" output

commit 799d39a3022415f698cb92f44b872c8513d83249
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 23:08:22 2022 +0200

    Make the sdl2-config script relocatable

commit 142a3630d3d1426a041329c1db47471f7be24781
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 4 01:10:00 2022 +0300

    updated watcom makefiles after 17410887d05495c328d5cf8c2dd28cb2bafafa9b

commit 17410887d05495c328d5cf8c2dd28cb2bafafa9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 3 15:02:31 2022 -0700

    Separated controller type data into a C file

commit 2b59cb900ece44014b82d13a085dec9ca0ba731e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 3 12:51:00 2022 -0700

    Added mingw package support directory to the distribution archive

commit f858d1305a510ef916b50ba781c1a2a954fde08d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 19:24:20 2022 +0200

    ci: test installed packages using CMake

commit 96e3733a18886b87a8b460ce013a3998a5612920
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 20:13:57 2022 +0200

    cmake: make Xcode's sdl2-config.cmake compatible with the one from autotools

commit 5a8ccf4522a941a7421efeab9c7b8935022b2c72
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 20:13:38 2022 +0200

    cmake: make VisualC's sdl2-config.cmake compatible with the one from autotools

commit 5ec2d46f476f5019d1d0bb8345b7f6f79222d0c1
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 20:12:52 2022 +0200

    cmake: make SDL2Config.cmake compatible with autotools' sdl2-config.cmake

commit 9ff8f29f43067da2aa87d3636711ce47958e1f52
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 20:07:43 2022 +0200

    cmake: Add mini-SDL2 CMake project to test SDL2 prefixes

commit 67792767f56529241bf4a98a26f7bc03d9a1578a
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 20:06:09 2022 +0200

    cmake: Add CMake configuration files, meant for the prebuilt MinGW SDK

commit 246f3ba52cdcdc53cca348f96456edc40f0c4b30
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 19:57:21 2022 +0200

    cmake: rewrite autotools' sdl2-config.cmake.in with IMPORTED targets + no more -lmingw32

commit 6f3474db2d5047985cddc98c511f1f1070c2ef07
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri Jun 3 19:58:25 2022 +0200

    autotools: export relative path of an installed sdl2-config.cmake to the prefix root

commit 8e13cc309ec2147ac31a3d924a7a1ffb5c2edc43
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon May 30 00:46:00 2022 +0200

    cmake: add 'compatible interface properties' to allow enforcing SDL2 sharedness

commit 1087eaad7ef3328a03ec7ff9b0afe598be12986b
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri May 27 01:40:11 2022 +0200

    cmake: install SDL2::SDL2test when configuring with SDL2_TEST enabled

commit ae2cc29f8ba793cf41c8f748f885e8350d33e3b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 3 09:44:34 2022 -0700

    Make sure initial state is set correctly for the D3D renderer
    
    Fixes https://github.com/libsdl-org/SDL/issues/5749

commit 345efdcb10725681a09b2de59af31bff0368487e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 3 08:46:08 2022 -0700

    Wait for all the threads to actually finish before exiting
    
    Fixes https://github.com/libsdl-org/SDL/issues/5748

commit 847539afebe1019c2e1320eccfbe2334d30a2bcc
Author: David Gow <david@ingeniumdigital.com>
Date:   Wed Jun 1 23:06:19 2022 +0800

    wayland: Only call libdecor_dispatch() if we've loaded libdecor
    
    As of #5703, we call libdecor_dispatch() in Wayland_WaitEventTimeout(),
    but this will crash if we don't load libdecor, as
    SDL_VideoData::shell.libdecor will be NULL.
    
    Since we don't load libdecor if we don't intend to use it (i.e., if
    should_use_libdecor returns false), this results in a crash under KDE in
    almost all circumstances.

commit 7fa46ec40b8b6a58f174f0992ecead0a1ab23817
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 31 11:11:19 2022 -0700

    The Google Pixel fingerprint sensor also shows up on Linux when running on the phone

commit 3c3c02518c35a0665ebbedb8641dfab252630fa0
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon May 30 00:39:53 2022 +0200

    Add Compatible Interface Properties to VisualC and Xcode SDL2 config file

commit 4809bd356e646a7706e00aa325c99fd8f3193c01
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Mon May 30 00:36:33 2022 +0200

    Add documentation to autotoo'ls sdl2-config-version.cmake.in

commit 774c50174c927bcb4ba2b30b973f4d75c19c2f1d
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Sat May 28 11:52:23 2022 +0200

    Add CMake section to the Xcode ReadMe.txt

commit 423c7ef856661b774dde28dc737fff84ec7c88d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 14:47:39 2022 -0700

    Don't set SDL2_LIBRARY, we need the Framework configuration on Apple platforms

commit 37ef6a765d06e666f5181cbc9f54b6952918e3e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 14:46:49 2022 -0700

    Use a full path for the framework header include path

commit f73c25648fbfecc73dd7f2f346f60ccca820b6e8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri May 27 22:17:12 2022 +0200

    cmake: attempt to use framework in Xcode's sdl2-config.cmake

commit 4c3d1d32a5c165abc984b25f1da3e864b4227eeb
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Fri May 27 11:52:16 2022 +0200

    Use INTERFACE_INCLUDE_DIRECTORIES in Xcode's sdl2-config.cmake

commit 7c2a6ea5f2b10e3d4a0e901e95d3ba89c29f07f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 26 18:31:31 2022 -0700

    Removed 64-bit check for Apple
    
    We build the SDL framework for macOS, iOS, and tvOS, including 32-bit and 64-bit architectures. Since this file will actually be included in the framework you're linking, it should be fine to use.

commit e30b9993b9ce3702879375ea38082811d4ad8713
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 26 18:31:06 2022 -0700

    Fixed warning about location of CMake support files

commit 01492a24f16ffcf9df734bb995613e2c1d072619
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 26 18:30:15 2022 -0700

    Added CMake package support files to the SDL framework

commit 2c591e408ef98eefc7eb2970829761ba911d79f2
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Thu May 26 16:26:54 2022 +0200

    Add CMake configuration files, meant for Macos framework

commit 8ac8230bfa5f1f3ecc8349e2471e50f66fbe44f8
Author: Anonymous Maarten <anonymous.maarten@gmail.com>
Date:   Wed May 25 23:57:26 2022 +0200

    Add CMake configuration files, meant for VC devel package

commit 964e979d06edba5b6fa7dd942661594dd4233435
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon May 30 16:17:04 2022 -0400

    hidapi: Allow disabling libusb support at runtime

commit c87b0142fe1e14c2e69bd62e852f919e67423fe9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 30 12:02:08 2022 -0700

    Fixed building with C89 compiler

commit 4ddf85b1d5e6930766d681fd298220109ffda311
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon May 30 14:31:05 2022 +0000

    Sync wiki -> header

commit f78f7752386a6972d4bda54486d7442827c04edf
Author: Guldoman <giulio.lettieri@gmail.com>
Date:   Sat May 28 03:53:43 2022 +0200

    ime: windows: allocate space for null terminator

commit fd2a2eea108347237af35a3bc39f076d2c129417
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 28 07:49:18 2022 -0700

    Fixed declaration-after-statement warning

commit d2c4d74dd0302369251dce9375b49f394e54f76a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:49:35 2022 -0700

    Fixed build with MinGW-64 windows.devices.power.h
    
    The MinGW-64 header defines the parameters as ABI::Windows::Foundation::IReference<INT32 > **, but the Windows header defines the parameters as __FIReference_1_int**

commit bd22ca762e0ca75e96e5aed3ee5ee72a305fb085
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:40:50 2022 -0700

    Revert "Workaround for compiling with MinGW-w64"
    
    This reverts commit efdf43aa9b4f4d623ffba01f503d9793d5021330.
    
    The broken mingw headers aren't in an official release yet, so reporting this upstream.

commit efdf43aa9b4f4d623ffba01f503d9793d5021330
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:34:45 2022 -0700

    Workaround for compiling with MinGW-w64
    
    Fixes bug https://github.com/libsdl-org/SDL/issues/5589

commit 001d2e2f650f6247cc31c209b5be06b8fa214f50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:29:21 2022 -0700

    Disable formatting not supported by Visual Studio 2019

commit c02cd20352bb5aa421968176ec333775c64f5aeb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:16:02 2022 -0700

    Revert "Disable formatting not supported by Visual Studio 2019"
    
    This reverts commit 26a75add31c219f0a9368b474b8a0691b937a465.
    
    It turns out Visual Studio doesn't support a lot of the formatting used here.

commit 26a75add31c219f0a9368b474b8a0691b937a465
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 27 15:15:14 2022 -0700

    Disable formatting not supported by Visual Studio 2019

commit bef9f2b2c423d636e2388c62412c754f3bd45968
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 26 20:45:13 2022 -0700

    Don't trigger device notifications when Steam Deck backlight changes

commit 5968f3d828aaf28a28763fce794020fc8239a35a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 26 10:44:01 2022 -0400

    gen_audio_resampler_filter.c: Precalculate loop-invariant bessel(beta).
    
    Minor optimization in offline code.

commit 822cf0b34be5bc6dd0ed46c2945c5a22857fea58
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 26 01:33:32 2022 +0300

    updated config.guess from mainstream.

commit 347659e8cf23648d0103a6e08343c12a41b46831
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 25 22:07:12 2022 +0100

    riscos: Ensure that last_mouse_buttons is initialised correctly

commit cb43eb43f81bffaee3d855867b7d432ef3e48391
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 25 21:43:36 2022 +0100

    riscos: Ensure the mouse focus is set when creating the window

commit 6eda520f64dd751ebbb8aba4b065f76a9eb1ce1f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 25 21:40:28 2022 +0100

    riscos: Add a basic implementation of SDL_ShowCursor()

commit 4c711d2d43dc933e03194c7170066c4cd6a63c5d
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 25 22:12:25 2022 +0100

    testcustomcursor: Allow running without custom or system cursors

commit 22d6e09a8ded9a0a6880ed02ed069d637f987540
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 25 11:04:58 2022 -0700

    Don't try to call hid_ble_scan() if HIDAPI is disabled
    
    Fixes https://github.com/libsdl-org/SDL/issues/5699

commit 195ca499caf743ec5916cbca2f8325d195ca6644
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 25 10:46:06 2022 -0400

    include/SDL_video.h: You can google it.
    
    This looks bad when reading Markdown as plain text, as one would do when
    reading the headers directly.

commit 7ce311beadd3480d02283a080eb1b50a7e92a250
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 25 10:43:14 2022 -0400

    include/SDL_system.h: Fixed a link that was still hg.libsdl.org

commit bed96482fae4345515c3aa589d0181e488d46f59
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 25 10:42:11 2022 -0400

    wikiheaders.pl: Deal with links better.

commit 96a04cb9101023479a86dd770bf01e488ec661b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 25 09:30:29 2022 -0400

    wikiheaders.pl: Don't wordwrap truly massive words.
    
    Usually, these are going to be URLs that you don't want to split
    across lines.

commit b28d304b235843342819e19238cc5556c1800cf9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 24 17:24:03 2022 -0700

    Only include controller_type.h in SDL_joystick.c
    
    It has a huge array of controllers and we only want it instantiated once

commit a8e7548797a9a20b20ecefc8ad9eb07d02fe052d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue May 24 22:57:04 2022 +0000

    Sync wiki -> header

commit 9220f92bae4a533a600e17c1a7ba080fe7d1ed6f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed May 25 01:01:02 2022 +0300

    hidapi/libusb/hid.c (read_thread): mark as SDLCALL

commit 179765561c11d607c3c7208494b96929c9c85387
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue May 24 18:26:05 2022 +0000

    Sync wiki -> header

commit 5dee08213b0d356d2d25e72d777ee145026238cf
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 24 20:00:02 2022 +0300

    updates to windows watcom makefile:
    
    - use 'OPTIONS RESOURCE' linker directive, instead of playing tricks on
      the built dll.
    - build libm sources as a static library and link the dll to with, like
      the os/2 makefile does.
    - remove *.res with make clean.

commit 412ceb84d4b8daf05c020feafc3a391a46814854
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 24 16:27:54 2022 +0100

    video: Only check major version in SDL_GetWindowWMInfo
    
    Since #5602, SDL is intended to have the same ABI across the whole
    major-version 2 cycle, so we should not check that the minor version
    matches the one that was used to compile an application.
    
    There are two checks that could make sense here.
    
    The first check is that the major version matches the expected major
    version. This is usually unnecessary and is not usually done (if we're
    calling into the wrong library we'll likely crash anyway), but since we
    have the information, we might as well continue to use it.
    
    The second check is whether the version provided by the caller is
    equal to or greater than a threshold version at which additional fields
    were added to the struct. If it is, we should populate those fields;
    if it is not, then we cannot. This is only useful on platforms where
    additional fields have genuinely been added during the lifetime of
    SDL 2, like Windows and DirectFB (but not X11).
    
    This commit changes the first check to be consistent about only looking
    at the minor version, while leaving the second check using SDL_VERSIONNUM
    (which will be removed or widened in SDL 3, but it's fine for now).
    
    Resolves: https://github.com/libsdl-org/SDL/issues/5711
    Fixes: cd7c2f1 "Switch versioning scheme to be the same as GLib and Flatpak"
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit aeeccb5d16207b2b18afe6bcde12efe52b0e09b4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon May 23 00:24:40 2022 +0300

    CI, OpenWatcom: remove workaround now that setup-watcom is fixed.

commit d5e58049ae4cd8264afe112159180f60cde38663
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 22 10:51:21 2022 -0700

    Don't specify a specific SDK when building for UWP
    
    Instead use the latest version installed

commit 12cc636c8f6d076c941a5d7ba81448f2c4fcf1e6
Author: Tim Schumacher <timschumi@gmx.de>
Date:   Sat May 21 23:33:31 2022 +0200

    Make sdl2-config prefixes configurable again
    
    The installation prefix ended up being hard-coded into the
    `sdl2-config` script after the placeholders were accidentally removed
    in 6956f4aa1982b66b234026b46f7bb2dd44c67894.

commit 6da6a6cba2a7c857890063073f47445584617bcb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 21 13:51:21 2022 -0700

    Make sure Objective C files are built with the same flags as C files.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5707

commit e97b5062422cff6e8d34c2f3ecb821081f15c307
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 21 10:06:05 2022 -0700

    Need SDL_stdinc.h for _SDL_HAS_BUILTIN

commit 626a3c5ef75ed50a81779f4a9dec8c9864258b3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 21 09:58:39 2022 -0700

    Use _SDL_HAS_BUILTIN() instead of __has_builtin

commit f4fc4719a5ed2efa76da32bbdcd6940b69c01422
Author: ShuangLiu1992 <ShuangLiu1992@users.noreply.github.com>
Date:   Mon May 9 18:35:50 2022 +0100

    fix CheckCOCOA on modern CMake
    
    Modern CMake doesn't need "LANGUAGE C" for Objective-C
    set_source_files_properties(${COCOA_SOURCES} PROPERTIES LANGUAGE C) should be removed fro video/cocoa/*.m as well otherwise project won't compile
    see also https://github.com/libsdl-org/SDL/commit/d3cc5764c0f66872a6b87c0ffbca66c85dccbea3

commit 1f48f8cd285cc40258a2d2fe724864930676a62c
Author: David Carlier <devnexen@gmail.com>
Date:   Sat May 21 17:47:32 2022 +0100

    SDL_TriggerBreakPoint update using builtin instead of assembly versions if available

commit fe46569cce4b9b14ab6d415a152ccd5b4c6abc0e
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sat May 21 10:44:50 2022 +0200

    Fix potential memory leak in SDL_AddHintCallback

commit e4b5afa576ad1d410578158f585881bce770ffe7
Author: Ivan Le Lann <ivan.lelann@gmail.com>
Date:   Sat May 21 13:16:12 2022 +0200

    fix unused variable depending on YUV format

commit e59cba95a0813c2536c3c932c360c47d00c26265
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sat May 21 13:50:56 2022 +0100

    add libdecor_dispatch

commit 1a1cc8028b0109534de28768cc8ab6e62036c36a
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat May 21 16:15:24 2022 +0100

    Use a tagged version of OpenWatcom in CI builds

commit dc62fec5e99add18d2805743a3dda53826003c2b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 20 21:07:25 2022 -0400

    audio: Fix locking in backends that manage their own callback threads.
    
    Otherwise you might get a race where an app pauses the device, but
    the audio callback still manages to run after the pause is in place.

commit a95f5a792c2b80e817ca7ad4d4d3e75e107873a6
Author: Simon McVittie <smcv@collabora.com>
Date:   Fri May 20 19:43:02 2022 +0100

    test: Use install(1) more portably
    
    I had assumed that only Linux users would be interested in GNOME-style
    installed-tests, but in principle there's no reason why they can't be
    used on non-Linux.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 848d2008c68de3fb2a8982a5dee8b6fa6c158b69
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri May 20 21:10:56 2022 +0300

    test/Makefile.w32: fix minor typo

commit b1cf3229718a3e462608709254711c611dfab805
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 19 16:49:47 2022 -0700

    Fixed HIDAPI PS4 controller being picked up when running under Steam
    Input with PS4 configuration enabled

commit 83ae1b4987227e9580e32c8c87e92732e8d7edb3
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 23:11:22 2022 +0100

    Convert the test executables to AIF in RISC OS CMake builds

commit d2b596589470a622cf40d57e13442337f0c63e58
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 22:54:23 2022 +0100

    Remove extra path separator in GetNearbyFilename

commit 9edd411a8315540b86fceec590dd5aa6be41f5f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 19 17:15:10 2022 -0400

    x11: send move/resize events when waiting on fullscreen change.
    
    Otherwise we ignore the Configure/etc events when they come in because
    the window is already in an identical state as far as SDL is concerned.
    
    Fixes #5593.
    
    May also fix:
    Issue #5572.
    Issue #5595.

commit b798e49c9296e7bb7fa0d76949cba8b997a2947c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 21:44:38 2022 +0100

    Fix build warning with MSVC

commit b0a27cb1de815e10957ce36395af4e55e8a754ab
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu May 19 19:45:24 2022 +0100

    Avoid unintended float -> double conversion in SDL_FRectEqualsEpsilon
    
    Resolves: https://github.com/libsdl-org/SDL/issues/5691
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit f0566702c5e4c3522148fca6c65e83fb57326ddb
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 16:58:11 2022 +0100

    Fix enabling SDL_DYNAMIC_API in OpenWatcom builds

commit 3d52d049778be4a3663674d2fa9cb4661b8b25e6
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 15:38:35 2022 +0100

    Remove the '_' prefix from symbol names in Windows OpenWatcom builds

commit aa51a9791a972cf177d11b7752a378de41912864
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 13:14:29 2022 +0100

    Run tests with OpenWatcom on CI

commit 9dfa000bc059c5430d3ea60afd26989e5d1475cf
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 20:20:03 2022 +0100

    Initial support for building for Windows with OpenWatcom

commit 5ef36ead086478b97fbe1104e030becfeb415414
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 20:58:41 2022 +0100

    Add some missing tests to Watcom builds

commit 306687312603cd43b0e18977922ab7d249c6774f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 20:56:30 2022 +0100

    Split the common code in test/Makefile.os2 into a separate file

commit 5669743a435f8fe9ea43e5f6b49601ba9dabe2ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 19 09:45:57 2022 -0700

    Make sure SDL_CaptureMouse() is only called on the main thread
    
    Windows handles mouse capture on a per-thread basis, and capture must be done on the thread used to create a window.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5577

commit efa2e6a1eaff970375afd1725170faa4c2c72f8f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 19 18:55:02 2022 +0300

    SDL_thread.h: use SDL_ThreadFunction for SDL_CreateThreadWithStackSize

commit 15781a69862a8ad8c56897a580576dccf47e91ce
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 19 18:55:02 2022 +0300

    dynapi: fix SDL_DYNAPI_PROC for SDL_iPhoneSetAnimationCallback()

commit f5cf0e37f7bf6dcd1e7e9f78786b9d6eec3c778d
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 19 14:51:25 2022 +0100

    Remove unused and duplicate defines from SDL_dynapi_overrides.h

commit 03ebc4397f4b62149ea5ac705a48af1e91f10357
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 19 14:01:10 2022 +0300

    dynapi: add missing SDLCALL for SDL_TLSSet's dtor param.

commit 973424d9cb5d6723dff5e6c2fb36034657485895
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Fri May 6 12:08:44 2022 -0400

    Add for-each macros to clang-format.

commit 501a499180c62332d544d642c0d04a7a9bf88a8b
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Thu May 5 18:44:32 2022 -0400

    Add clang-format on/off comments where necessary.
    
    Comments were added in places where INDENT-ON/OFF comments are. Places
    like stdlib's asm don't need it as clang-format doesn't try to indent it.

commit c6a77971bd8e755eb8a21e7e5b2792541afdfc6c
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Thu May 5 03:27:47 2022 -0400

    Add a clang-format config file.
    
    tmp

commit 0e6d4baa6b25ba5b2f8c31b0d7621df4ecf68663
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 19 01:23:24 2022 -0700

    Fixed compile warning on gcc 11

commit c7dff3a22ebd93aca0873d7a81b790de8518aefc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 19 00:35:22 2022 -0700

    Attempt to get the X1 and X2 button state on X11 by using the current event state instead of direct X11 query.

commit 57130b75a9b1386ce6652b0d0d626ab9ffcfe9c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 19 00:31:20 2022 -0700

    Revert "x11: get x1/x2 button state in GetGlobalMouseState"
    
    This reverts commit 3fcc2cb500a752698687ad0c8bb14778e6cb84c3.
    
    Button4 and Button5 are for the scrollwheel, not the extended buttons.
    I don't know of a way to query the state of the extended buttons using X11.

commit 47f1cb550d967c8bdcf6bc69610b67f7994948c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 23:48:15 2022 -0700

    Fixed picking up the correct mapping for virtual controllers on Android
    
    Fixes https://github.com/libsdl-org/SDL/issues/5662

commit f7b774a7e027b8fba0c98313812d8b0dea0eb239
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 17:59:17 2022 -0700

    Fixed build error on Linux if HAVE_INOTIFY isn't defined
    
    Fixes https://github.com/libsdl-org/SDL/issues/5682

commit f9a9d3c8d4401f287d90fe6a5e5aca528ab79150
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 17:23:49 2022 -0700

    Also restore previous capture window if CaptureMouse() fails

commit 7044452dd6fbbfad3e4e4c1083ce3d450a03af42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 17:15:10 2022 -0700

    Handle recursion in SDL_UpdateMouseCapture()
    
    Fixes https://github.com/libsdl-org/SDL/pull/5608

commit dbd54dd70818031467edfcc398658c0bfaa2344f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 19 03:00:04 2022 +0300

    adjust dynapi after commit 0cca71a changes for SDL_qsort and SDL_bsearch

commit e19a9a7931d3cdeeec5eccc88dc8522d22eea92e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 15:29:59 2022 -0700

    Fixed a message box getting the mouse capture state out of sync

commit 622311c016d49a92fa76c123a3467e495576599c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 22:51:58 2022 +0100

    Add extra XInput structures and defines for older SDKs

commit c8eea02071f9106f74e7cbb2d3ae71b42afabad4
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 21:14:20 2022 +0100

    Fix C89 build errors in Windows builds

commit 0cca71a8464777d25e90617e713caab97bef698f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 22:12:05 2022 +0100

    Use SDLCALL for callbacks in public APIs

commit ffab9f46b5411247faba8d01451fa4663c7165cd
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed May 18 21:07:33 2022 +0100

    Avoid clashing with system headers when redefining standard library functions

commit 4cb57bf1997ef5b3e2d6cfb0a2c2bacd85e60792
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 18 13:42:48 2022 +0100

    .editorconfig: Automatically configure multiple text editors
    
    See editorconfig.org for details of the format, which is understood by
    multiple text editors, either directly or via plugins.
    
    This is not comprehensive, but should cover most of the SDL codebase.
    Please extend as needed.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 06aca7edaa84b6e16cb96fe0543e2ddc1772e867
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 10:09:24 2022 -0700

    Fixed warping back into the window when gaining focus with warp relative mode enabled

commit 0ffd985972f6a087fc2c847c83cedfdc858fc52f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 09:59:12 2022 -0700

    Check to see if the file exists in the base path before returning it

commit c4cf63f812a217fe28ae21bb0cd58a45300b2c0c
Author: pionere <pionere@freemail.hu>
Date:   Wed May 18 18:04:12 2022 +0200

    improve test-configuration
    - testkeys 'NEEDS_DISPLAY'
    - 'disable' relevant tests in case DUMMY audio/video is disabled

commit b44241ab2f626965912d419f6406b9336fe7969c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 08:50:59 2022 -0700

    Don't send mouse events when warping in relative mode
    
    This fixes games which set relative mode and then did mouse warping at the same time
    
    Reference https://github.com/libsdl-org/SDL/issues/5609

commit ea152532204a4f5d9d4ccde173f2532a80493ad8
Author: pionere <pionere@freemail.hu>
Date:   Wed May 18 17:23:26 2022 +0200

    fix GetNearbyFilename
    - fix memory leak due to variable 'base'
    - fix usage of uninitialized variable (path)

commit 8c5bda6acd2089c4bd31c6b8c141637dd32143c0
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed May 18 17:58:35 2022 +0300

    Vita: remove Vita-specific RWOps code

commit aa6ea607d90fa4c3212a7363e42647848102bad4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 18 06:57:28 2022 -0700

    Fixed whitespace
    
    Whitespace inconsistencies reported in https://github.com/libsdl-org/SDL/pull/5673

commit 56665e1d9de9a5062b1933f4d51266b47f809f2a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 17 12:50:13 2022 -0400

    cocoa: Try to use better system cursors.
    
    These try to pull from the .pdf files that are installed with
    macOS, which fit our needs better, and fall back to the most
    reasonable defaults available from NSCursor if we can't load
    them.
    
    Since these are installed under /System, they should be sandbox
    accessible, and if this totally fails, it should still go on,
    albeit with a less good cursor.
    
    Reference Issue #2123.

commit a12ffbd5325aec02531066ac302ed7f4985ef416
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 17 12:49:36 2022 -0400

    testcustomcursor: Log the current cursor type as it changes.
    
    So you know what you're looking at.

commit e9c7b5191c3ed783489d66ba825f2101810a9b58
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon May 16 21:03:41 2022 -0300

    macOS: Fix reference counts of internal window data.
    
    Fixes crashes when destroying or recreating a window (#5664).

commit a48004952dba90f4d073a43217de5d1b0f44778c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 17 01:33:20 2022 +0300

    disable dynapi for os/2, at least for now. (see bugs #5667 and #5669.)

commit ec1a0f62dd37c8ccc8b8e8cb7e5faa1f3948c81c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 17 01:33:02 2022 +0300

    SDL_malloc.c: workaround calling convention issues for real_xxx procs.

commit 1f2a241688fe890845809008a5f4bd6fff8c4dbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 09:02:35 2022 -0700

    Add new virtual joysticks to the end of the list
    
    This guarantees that the device index that's returned is stable, as long as no joystick hotplug events occur.

commit 3c3ccb1d48a52a0f10e75d826b719440ccd0cc59
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 08:55:54 2022 -0700

    Fixed crash if a virtual joystick was disconnected

commit 2317a96c8eedd85a8b6b8858e9d35ed87c1c0cd3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 16 10:50:13 2022 -0400

    x11: Use XC_top_left_corner/XC_top_right_corner instead of XC_fleur.
    
    On Gnome (and hopefully others!), this produces something that actually
    matches SDL_SYSTEM_CURSOR_SIZENWSE/SDL_SYSTEM_CURSOR_SIZENESW. On
    other desktop enviroments, it probably fits the spirit better than
    XC_fleur in any case.
    
    Reference Issue #2123.

commit 48b6cd8bc27a2ca58aca6cd106c46c0fbe973867
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 07:23:30 2022 -0700

    Fixed whitespace

commit f0bc5c9cbf3d589239d18d6b29e5072a0b77d7da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 07:21:28 2022 -0700

    Added effects support for virtual controllers

commit b3a18706eeb2f5a6754124fdf6964c36d78bf377
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 06:37:38 2022 -0700

    Removed unused variables

commit 7e005bd843ba9aa685b2dfacbf43075427ed5abd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 06:22:18 2022 -0700

    Fixed mapping the paddle buttons with the virtual controller

commit e3fd8feae6179d975239702a3da3b143bd27a248
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 16 06:16:32 2022 -0700

    Fixed getting the controller index when specifying --virtual (thanks @zturtleman)

commit 5953422c09efaf1e973724d9ef9b61925b5bda56
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon May 16 03:52:04 2022 +0000

    Sync wiki -> header

commit e78a72ec380608fe9c3b37940fc39c1cba69bfe6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 15 23:50:08 2022 -0400

    fnsince.pl: Fix next version value to match new versioning scheme.

commit bfac54b59cd1dd964dd7e65c9cee3145cf376de8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 15 20:33:28 2022 -0700

    Added the ability to specify which buttons and axes are present for virtual controllers

commit 49ca8bf52092c5c47527fc6de608922b2f69a2dc
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon May 16 03:03:04 2022 +0000

    Sync wiki -> header

commit 94eeb587c1969bcfea79303273895619e9edd3c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 15 20:01:12 2022 -0700

    First pass at extending virtual controller functionality
    
    Added the ability to specify a name and the product VID/PID for a virtual controller
    
    Also added a test case to testgamecontroller, if you pass --virtual as a parameter

commit 7ad15c5b8f937bb759ae1f7d85f1a144a65194c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 15 09:35:52 2022 -0700

    Added game controller support for virtual joysticks
    
    Fixes https://github.com/libsdl-org/SDL/issues/5662

commit 996b3dc37afce0153b600b8fff3bca16d0d94a0a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 15 09:33:28 2022 -0700

    Fixed warning building with Visual Studio

commit e0f3da497f4ccf7ce8fedcd0a62ed07f8f443462
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 12 12:18:23 2022 +0100

    Remove unused SDL_ASSEMBLY_ROUTINES define

commit f93e81078011f28f9a1d95edc9e6abc3be97e09d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu May 12 07:39:04 2022 +0000

    Sync wiki -> header

commit 6b9884d40a1ba3f615864e347065da33da1f4d97
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu May 12 09:36:49 2022 +0200

    Fixed bug #4213 - update documentation to reflect SDL2 behavior of SDL_RenderGetLogicalSize

commit e4bb3c86496936c1b68141fc4db492426823bbdd
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed May 11 18:13:44 2022 -0400

    wayland: Fix build for configs without libdecor

commit 6222bd3143073a325db6cea09eb622b976071a5e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed May 11 16:26:43 2022 -0400

    wayland: Don't create a new libdecor context if one already exists

commit 6f88cbe4c9190e8f91ad6b232fe1705ba7d1c508
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed May 11 16:04:34 2022 -0400

    wayland: Support xdg_decoration requesting client-side decorations.
    
    Don't be fooled by the diff size - this ended up being a big refactor of the
    shell surface management, masked only by some helper macros I wrote for the
    popup support.
    
    This change makes it so when xdg_decoration is supported, but CSD is requested,
    the system bails on xdg support entirely and resets all the windows to use
    libdecor instead. This transition isn't pretty, but once it's done it will be
    smooth if decorations are an OS toggle since libdecor will take things from
    there.
    
    In hindsight, we really should have designed libdecor to be passed a toplevel,
    having it manage that for us keeps causing major refactors for _every_ change.

commit d7866ffac83396bfcf858e03c966126015472f7f
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed May 11 19:39:30 2022 +0200

    assert: Check for integer overflow.
    
    Move rendering of the assert message into a separate
    function so we can remove the ugly loop construction.
    
    Changes the logic such that allocation failure no longer
    immediately returns SDL_ASSERTION_ABORT, instead we
    fall back to the truncated message.
    
    If an error is indicated from SDL_snprintf, then we do
    abort with SDL_ASSERTION_ABORT.

commit 737b4fc32cc0fb96f771ccf7d8d69d7e29b4450f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 11 11:17:58 2022 -0700

    Added -fobjc-arc to support automatic reference counting on macOS

commit 9b75fa01659bea7f6195386391262e239054103a
Author: Michael Fitzmayer <mail@michael-fitzmayer.de>
Date:   Wed May 11 18:31:34 2022 +0200

    N-Gage port: add changes from code reviews, overall cleanup (#5618)
    
    * Add changes from code review by @ccawley2011, #5597, overall cleanup
    
    * Update N-Gage README, minor cleanup and rephrasing
    
    * Call SDL_SetMainReady() before calling SDL_main, return SDL_main instead of main

commit 2c2cbbe664cfcbfca60ed59787e95c3ef8da33af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 11 09:04:23 2022 -0700

    Fixed function reference for SDL_SIMDGetAlignment()

commit 6da99d4a6c88c0c97671602fcd6354b932724d37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 11 08:40:17 2022 -0700

    Don't use SDL_SIMDFree() if the pixels haven't been allocated with SDL_SIMDAlloc()

commit 2f924020e8a9b7c46c820a1bbb55a05a66711062
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 5 20:12:07 2022 +0100

    Add SDL_SCANCODE_CALL and SDL_SCANCODE_ENDCALL

commit 2bc373622be9acd184cc6f9a19e4f528ac471d07
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu May 5 13:31:26 2022 +0100

    Add SDL_SCANCODE_SOFTLEFT and SDL_SCANCODE_SOFTRIGHT

commit f871c178b9319ec1f05c41f0389fcead13acbf1a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 10 17:32:24 2022 -0300

    macOS: remove dead code for supporting 10.6 at runtime.

commit 8ab3ae98f0b4ab13363d4970a8d1b394b096c5ce
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 10 09:44:23 2022 +0100

    stdinc: Add a comment to clarify why inline functions are needed here
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit f7280dcebb74f7027727a2e4be0a00aa95281bcf
Author: Eddy Jansson <eddy@klopper.net>
Date:   Tue May 10 14:52:14 2022 +0200

    log: Check for integer overflow.

commit ec8fa57750423978086cd7a96bd92e7e3ff46cc9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 7 21:57:23 2022 -0300

    macOS: always use Objective-C ARC (automatic ref counting).
    
    Change Cocoa SDL_VideoData and SDL_WindowData implementations from C structs to Objective-C objects, since bridging between C and ObjC is easier that way.

commit d35c737f1c8ba4d28c3d45c557961b3ddce9bef0
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 7 21:38:48 2022 -0300

    macOS: change min supported OS from 10.6 to 10.7.

commit 6422a5d259761ce5daa6b76d3bdcb16fc9e21e81
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 10 07:33:32 2022 +0300

    updated config.guess and config.sub from mainstream

commit 2a7948016a637136b5cb2d2d00494db653a8261f
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon May 9 14:58:51 2022 +0100

    cpuinfo: Check for overflow in SIMD allocation
    
    If the size to be allocated is very large and untrusted, then adding
    the padding etc. might be enough to cause unsigned overflow, after
    which a very small amount of memory will be allocated.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit cf1daafa3f9d5aeff5c7a52c8f2b0e97ea355662
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon May 9 18:48:46 2022 +0100

    cpuinfo: Set padding to 0 if none is needed
    
    It'll be simpler to use overflow detection after this refactor.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit d15f6e379c1a05164ef055dbd5a83f5190f101a5
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon May 9 18:19:21 2022 +0100

    test: Add a unit test for overflow detection
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit f661654fad5a42e58d94a339504486a5089250e2
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon May 9 14:36:27 2022 +0100

    stdinc: Add overflow-checking add and multiply for size_t
    
    This can be used to check whether untrusted sizes would cause overflow
    when used to calculate how much memory is needed.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 6e6e425e23eb38ed4e111b1f4ce83d7d86812585
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu May 5 17:50:28 2022 +0100

    workflows: Do the equivalent of Automake `make distcheck`
    
    The official source code release isn't much use unless it contains
    everything that users and downstream distributions need to do a
    new build, so check that it does.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit c71ee68b8a2c75758c07a821e72ff450bdfdde62
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 17:17:49 2022 +0100

    Fix enabling tests on platforms without testnative support

commit 318b5577f9c5553c3cc256f308f83d75db9e7e09
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 20:59:10 2022 +0100

    Delete gcc-fat.sh

commit 9ef6885743cd68370743b432c340d849466845b5
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun May 8 15:53:43 2022 +0100

    Fix MSVC ARM32 builds

commit b352b78345e8d3821b01f5b9e4f2094a1e47d99a
Author: Frank Richter <frank.richter@gmail.com>
Date:   Sat May 7 14:57:17 2022 +0200

    Add 'static VCRT' cases to MSVC build matrix

commit 0e63b514d505116766c96a87ac8c5d614fe37cf1
Author: Frank Richter <frank.richter@gmail.com>
Date:   Sat May 7 14:52:35 2022 +0200

    Don't define memcpy(), memset() when using static VC runtime.
    
    The linker will complain about duplicated symbols otherwise
    (see #3662, #5156).

commit 8cd908e0b987d3de26052bb16d9065541a30d23d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 6 10:51:55 2022 -0700

    Fixed building with Visual Studio 2013
    
    Added SDL_vacopy.h since it needs to be included after Windows headers

commit a3c1ca1fa16f8ba021d7764717afb3f55bd074a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 6 09:07:36 2022 -0700

    Added support for the Backbone One guide button
    
    The guide button is activated on a long press (> 400ms)

commit 95f9c3cf0f0e39af5f7c9d39101820a86ddaf84c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri May 6 18:56:24 2022 +0300

    Makefile.os2: add SDL_BUILD_???_VERSION defines to correct CFLAGS.

commit 0c19602118a54f36979dc00d262c604130f9a43f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 6 07:59:36 2022 -0700

    Applied 0004-Define-crt-macros.patch.txt from vcpkg ports

commit fa505970550346b613f31894095ffb8c2eedafa0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 5 11:54:00 2022 -0700

    Simplified autogen.sh, thanks to @smcv for the tip

commit db36664f262bc346aadc5170fdac2d7c6f458ae3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 5 18:55:02 2022 +0300

    configure.ac: remove unnecessary AC_SUBST's added by commit 38ef6789909c

commit f0c870b9087e3f862a4bbfb3785aa4671b8750ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 5 08:19:10 2022 -0700

    Rebuilt configure from configure.ac changes

commit b03e08f376441e2b9e34ff9506a1c62cfd3433d8
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu May 5 16:06:11 2022 +0100

    configure.ac: Use Autoconf quadrigraphs for character set in AS_CASE
    
    The use of square brackets for a character set collides with the use
    of square brackets for m4 quote characters, so use the other quoting
    mechanism that Autoconf provides, by escaping `[` as `@<:@` and so on.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit c244bbc51586d9e6a9d29b2a4b052b5bc7ca2a79
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 17:50:44 2022 +0100

    workflows: Install and run GNOME-style installed-tests
    
    This is currently only done for the Linux Autotools build. The CMake
    build does not add a significant amount of extra test coverage, and
    Github Workflows run in an environment where `cmake` and `sudo cmake`
    point to different executables, which makes it awkward to install into
    /usr/local from CMake.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit ce502054ad03cfea3851f09ed227fdf0d619f39b
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 13:53:15 2022 +0100

    test: Install GNOME-style installed-tests metadata
    
    This allows these tests to be discovered and run by
    gnome-desktop-test-runner.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 38ef6789909c04bb688731fbc3c5433f7fb5bc81
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 25 13:30:29 2020 +0000

    test: Add a `make install` target for the tests
    
    This makes it more convenient to compile them alongside SDL, install
    them in an optional package and use them as smoke-tests or diagnostic
    tools. The default installation directory is taken from GNOME's
    installed-tests, which seems as good a convention as any other:
    https://wiki.gnome.org/Initiatives/GnomeGoals/InstalledTests
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 76a7b629bfc4869df7659c2f2e47d9253c73696f
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 13:07:18 2022 +0100

    test: Add some common code to load test resources
    
    As well as reducing duplication, this lets the tests load their resources
    from the SDL_GetBasePath() on platforms that support it, which is useful
    if the tests are compiled along with the rest of SDL and installed below
    /usr as manual tests, similar to GNOME's installed-tests convention.
    
    Thanks to Ozkan Sezer for the OS/2 build glue.
    
    Co-authored-by: Ozkan Sezer <sezeroz@gmail.com>
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit ecf1e15feceedcead4c06aacc798f26553d85705
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 19:31:11 2022 +0100

    workflows: Parallelize Linux Autotools and CMake builds
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit dba79ade59e5abc9c8f7ee0f8e595fbbcaa01ed4
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 13:57:30 2022 +0100

    workflows: Run build-time tests
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 40bef98f8bc4a9523d68c6b5a80744ac2899d00e
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 19:16:01 2022 +0100

    test: Add a mode to skip tests that involve arbitrary delays
    
    This can be used as a quick acceptance test for CI workflows.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 7d2808e30b1405b91eb92439cadee6ab25dc9bfc
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 13:33:58 2022 +0100

    test: Run selected noninteractive tests at build-time
    
    In Autotools, these are run by `make -C ${builddir}/test check`.
    In CMake, they're run by `make -C ${builddir} test` or
    `ninja -C ${builddir} test` or `ctest --test-dir ${builddir}`.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit b299f74d051492a2abdfb4d7ef65506833198639
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 15:34:41 2022 +0100

    test: Make testevdev succeed if the feature is disabled
    
    "Not applicable" is more like success than it is like failure.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 6fc7aa28e7c71c6087c008dd7b3924564d427de6
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 13:15:12 2022 +0100

    cmake: Add some missing test-cases
    
    These were built by Autotools but not by CMake.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit a4594797695b4d16137d4958455a115bcda84288
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 18:13:25 2022 +0100

    workflows: Only run `cmake --install` on Unix platforms
    
    The syntax used in this step assumes a Unix shell.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 79a16da61e6ab30d2d30ab29aec3aec9c0520df2
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 18:14:22 2022 +0100

    workflows: Change how we make CMake verbose
    
    Some CI workers don't seem to understand `cmake -v`, and Windows' shell
    doesn't understand `VERBOSE=1 cmake`.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 4da47601be020f6fbefe7b43acb54e023fc7c494
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 18:13:38 2022 +0100

    workflows: Remove redundant `cmake --build`
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 2a8297e427b822b3a50d912d09fdc2b07da4780b
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 16:43:59 2022 +0100

    workflows: Add a test to assert that all the version numbers agree
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit fff97c95ebd50cd21f2f3739bc4efb7b0ca575cd
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 16:40:11 2022 +0100

    build: Mechanically generate ABI versions from version number
    
    If we're strict about applying something resembling semantic versioning
    to the "marketing" version number, then we can mechanically generate
    the ABI version from it.
    
    This limits the range of valid micro versions (patchlevels) to 0-99.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 60d702ac74f36098e784b60c84708e35cc1f96c6
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 16:39:05 2022 +0100

    docs: Document new versioning scheme
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit cd7c2f1de7d9e418bb554047d714dd7cacc020ff
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 15:16:11 2022 +0100

    Switch versioning scheme to be the same as GLib and Flatpak
    
    For stable releases, this gives us the ability to make bugfix-only point
    releases such as 2.24.1 if we want to, and distinguish between them
    programmatically. For example, this ability could have been useful after
    2.0.16 to fix Xwayland regressions, and after 2.0.18 to fix event loop
    regressions.
    
    For development releases, this gives us the ability to make multiple
    prereleases during the same feature cycle, and distinguish between them
    programmatically. For example, this would have been useful during 2.0.22
    development, which went through three prereleases before reaching the
    final release.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 63814ec767ec2d91a3a3a33900d4805f3165ce4c
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 14:39:00 2022 +0100

    Add static assertions that the version number is consistent
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 22002d91557a0f1325aadaa433b46e6481fc2d0a
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 14:09:12 2022 +0100

    docs/release_checklist.md: Document how/where to bump version numbers
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit d4b82bfa4c8d049d9ec21e6f5b26afceccca601f
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 13:17:59 2022 +0100

    Add static assertions for version numbers' limits
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit ba6f96275e8d7806e7905d04903b2e0ee9d0335d
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 13:17:41 2022 +0100

    Document SDL_VERSIONNUM as able to encode larger minor versions
    
    Now that we've said this will be removed from SDL 3, we're free to use
    any encoding that is compatible with existing SDL versions and will still
    compare correctly for all SDL 2 version numbers. This allows the SDL 2
    minor version to go beyond 1 digit, limited only by the size of
    SDL_version.minor (which is 8 bits), making the largest possible version
    number 2.255.99.
    
    The patchlevel (micro version) is still limited to 2 digits.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit e0daa2a53017feca8d7a5739da57445c183428ec
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 13:08:38 2022 +0100

    Deprecate SDL_COMPILEDVERSION and SDL_VERSIONNUM, to be removed in 3.x
    
    The encoding used in SDL_VERSIONNUM (e.g. 2.0.22 -> 2022) cannot
    represent 2-digit minor versions without overflowing from the hundreds
    digit into the thousands digit, which produces confusing version
    numbers that will compare incorrectly when the major version is increased
    to 3.
    
    However, we can sidestep this problem by declaring that SDL_VERSIONNUM
    will no longer be present in SDL 3, which means it only needs to be able
    to represent SDL 2 version numbers losslessly.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit f9a5cf77b8e8b4703a4ef6f4ba7f2394cb7ee562
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 13:05:02 2022 +0100

    Make SDL_VERSION_ATLEAST future-proof against larger version numbers
    
    This comparison normally happens at compile-time, not at runtime, so
    it doesn't matter if it isn't optimal. This avoids incorrect comparison
    if the minor version in SDL_COMPILEDVERSION and SDL_VERSIONNUM has more
    than one digit, which would cause it to overflow from the hundreds place
    into the thousands place.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 50bc01369519d5eaba6472816a7917c596cb31a5
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed May 4 17:45:26 2022 +0100

    workflows: Tell CMake and Makefile.in to show compiler command-lines
    
    This is usually desirable for batch processing: it lets us see exactly
    what is happening in the logs.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit b398a847be0814ea36fe72da4f6ecb2e6d49a86b
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue May 3 23:21:10 2022 +0100

    Add SDL_FLOATWORDORDER for older ARM toolchains

commit adac3bd1e27c2c9535439ccce9fa64f120759613
Author: Alexander Kanavin <alex@linutronix.de>
Date:   Tue May 3 12:31:50 2022 +0200

    video: restore ability to disable fb accel via hint
    
    Somewhere in code refactoring between .20 and .22 this check
    was lost, and so the hint had no effect anymore.

commit 85a77fb5fa1f14ef199d2a0f247385f4d39a8e92
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 20:22:48 2022 +0100

    workflows: List files installed by CMake
    
    This lets us compare them with Autotools more easily.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 90da399bbb14554cf6122a2301962d35fe4820ef
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 14:54:24 2022 +0100

    workflows: Add a workflow to exercise the Autotools build on Linux
    
    This builds the tests, but does not run them (for now).
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 3f813cf1ef69808cd00d8c932df4a153f3f96a95
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed May 4 10:05:56 2022 +0300

    SDL_rawinputjoystick.c: fixed -Werror=declaration-after-statement

commit 2021a109272f6c4319ca104a9a9ff0533ccde430
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue May 3 20:37:03 2022 +0100

    cmake: Defer test subproject until after defining install/uninstall
    
    It looks as though something in the test subproject "leaks" into the
    main build system, causing us to try to install ${builddir}/test/sdl2.pc
    instead of the correct ${builddir}/sdl2.pc. Moving the tests subproject
    further down avoids this.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/5604
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit db9e14e504af38b52a7cc8d0e03bc8c746816c12
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Mon Jan 31 13:55:37 2022 -0600

    disabled linux joystick debugging outputs and reverted unnecessary comment edit

commit 3b53555bcfeaa6c29ebcdc71df8be59f40ae1be1
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Fri Jan 28 14:53:28 2022 -0600

    copied default Steam Controller mapping for wired and wireless-dongle USB pids

commit 13b1bf4f219399aae18ceee94b17373b6482c8bf
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Fri Jan 28 13:31:08 2022 -0600

    added default gamepad mapping for Steam Controller with new GUID (possibly caused by the firmware update to enable BLE?)

commit f7a19f9ea8af24cc57e8cbfe183fca155e9eabec
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Fri Jan 14 13:14:42 2022 -0600

    relaxed the digital hat deadzone slightly, and fixed typo in DEBUG_GAMEPAD_MAPPING define

commit 3696e23d09cb606b465a50446b89b6ecc8b51bdd
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Fri Jan 14 10:45:16 2022 -0600

    added hints SDL_HINT_LINUX_DIGITAL_HATS and SDL_HINT_LINUX_HAT_DEADZONES to control the new Linux hat handling; added define DEBUG_GAMEPAD_MAPPINGS to log messages when generating default gamepad mapings for Linux joysticks

commit 0b8e796e2c09a91637f3a455dbb477984ff99354
Author: atfrase <atfrase@noreply.users.github.com>
Date:   Wed Jan 12 22:00:46 2022 -0600

    added hueristic to differentiate digital vs analog 'hat' input axes and expose the latter as regular axes; added automatic deadzones to hat outputs, in case analog axes are still mapped to digital hats; updated automatic gamepad control mapping to more completely follow the spec

commit fbd230bb6c918c6b2e94d09f6a10a32affea08bb
Author: Michael Fitzmayer <mail@michael-fitzmayer.de>
Date:   Tue May 3 17:51:49 2022 +0200

    Add support for the Nokia N-Gage (#5597)
    
    * Add initial support for the Nokia N-Gage
    
    * N-Gage: disable clipping for the time being, issue needs to be resolved later
    
    * Move va_copy definition to SDL_internal.h
    
    * Move stdlib.h include to SDL_config_ngage.h, much cleaner this way
    
    * Remove redundant include, add HAVE_STDLIB_H
    
    * Revert "N-Gage: disable clipping for the time being, issue needs to be resolved later"
    
    This reverts commit 4f5f0fc36cc7f34fad05e45671dfa7b8dc32fd51.
    
    * N-Gage: fix clipping issue by providing proper math functions

commit 3fcc2cb500a752698687ad0c8bb14778e6cb84c3
Author: emily <minecrafter2010@gmail.com>
Date:   Tue May 3 11:19:39 2022 +0200

    x11: get x1/x2 button state in GetGlobalMouseState

commit f25a78eede5ef7da5f2d45ffc7f9f9e083abd265
Author: Susko3 <Susko3@protonmail.com>
Date:   Tue May 3 00:40:42 2022 +0200

    Enable `SDL_TEXTEDITING_EXT` events in `checkkeys` test

commit 6150245d65cf5910015ba804934999fbb4b3d6a6
Author: Susko3 <Susko3@protonmail.com>
Date:   Tue May 3 00:11:44 2022 +0200

    Add new verbosity level for logging of `SDL_SysWMEvent`s
    
    Now logged only if SDL_HINT_EVENT_LOGGING is set to "3" or above.

commit d1a3981bf866ccf8e802253ee7a150667c1dfc15
Author: Daniel Brookman <dannntrax@gmail.com>
Date:   Mon May 2 15:22:46 2022 -0400

    Fix crash when reading background events for MFi controllers on macOS
    
    Enabling GCController.shouldMonitorBackgroundEvents to read background events
    for MFi controllers before receiving the first GCControllerDidConnectNotification
    is apparently a no-go on macOS (12.3.1 for me), and would crash on attempt.
    Apple's documentation is... not great, and doesn't point this out.
    
    This waits for IOS_AddMFIJoystickDevice() to get called down the chain from GCControllerDidConnectNotification, and enables GCController.shouldMonitorBackgroundEvents
    if it hadn't been already.
    
    On iOS and tvOS, GCController.shouldMonitorBackgroundEvents is ignored, so
    there's no need to check their versions.

commit bb0b6dd42ece3f766e5c4ffc5311b444ce26863d
Author: Jan200101 <sentrycraft123@gmail.com>
Date:   Mon May 2 20:12:13 2022 +0200

    Fixed using WGI without XInput

commit 5394238cdc93669dd5d7696f8d4460a0b85289da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 30 11:40:26 2022 -0700

    Don't include the internal header for a file intended for use by applications

commit 41b9198515339d3a62fedc58d616db285af1ad60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 30 11:39:44 2022 -0700

    Fixed Xcode warning about Framework include style

commit 829f6b3d7d3bfd18b6f3307fabd51014dbec6662
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 30 11:32:04 2022 -0700

    These headers are system headers, not local headers

commit 0687128c965a07bc554ac0fb77d0330120f40792
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 29 20:57:00 2022 -0700

    Reduce CPU usage in testgamecontroller

commit 9e5cbf034a603473ef209593c9db57cefcb37dd7
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 22:36:12 2022 +0200

    Disallow non-positive allocation.
    
    Ensure that we're not trying to call SDL_small_alloc()
    with a count of zero.
    
    Transforming the code like this fixes a
    -Wmaybe-uninitialized warning from GCC 12.0.1

commit f81419702edd8d27e7f04a4c8c3c84f3835ac284
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 29 11:28:59 2022 -0700

    Document that SDL_MAX_LOG_MESSAGE is no longer meaningful

commit 6c2928b4befa2228ef53c223aec01aac65cb58d8
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 19:30:47 2022 +0200

    Switch uses of MIN() to SDL_min()
    
    We're excluding files in src/hidapi to minimize the
    diff against the upstream project.

commit ca26df34044bc66e0744442723f84e8b0c0d4cfb
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 16:44:32 2022 +0200

    assert: Allow messages of any length.
    
    Messages are no longer truncated to SDL_MAX_LOG_MESSAGE.

commit 888899244c6dff8f209d52c5c379cc9d162f96a2
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 16:30:30 2022 +0200

    log: Allow log messages of any length.
    
    Log messages are no longer truncated to SDL_MAX_LOG_MESSAGE.

commit 645db217a06ff47c787dc76a99d7fbe67c56c8a2
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 14:06:05 2022 +0200

    log: Use malloc for long messages.
    
    For short messages, use a stack buffer that is
    significantly smaller than SDL_MAX_LOG_MESSAGE.
    
    The rationale for this is that we don't want to risk
    blowing the stack, while at the same time we would
    like to not put pressure on the memory allocator unless
    absolutely necessary.

commit 73448fe2458f214f93af0eeee01c8f2b06e9a442
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 14:05:15 2022 +0200

    assert: Remove use of alloca()
    
    For short messages, use a stack buffer that is
    significantly smaller than SDL_MAX_LOG_MESSAGE.
    
    For larger messages, fall back to allocation.

commit 97774cdf7258df5939f56e470d2c51eb341bc781
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 29 14:01:03 2022 +0200

    Move in va_copy() define block from stdlib.

commit 7e636b03cc68be354696279be627a89533f3ad1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 29 10:16:14 2022 -0700

    Removed log message length limitation for Apple platforms
    
    This works in conjunction with https://github.com/libsdl-org/SDL/pull/5584

commit 1aa9754d96506f1a4d1ca2f2fe94cc77f7878ac8
Author: Kelly Gravelyn <github@kellyrenee.me>
Date:   Fri Apr 29 08:47:28 2022 -0700

    Add missing backslashes in README-linux.md command

commit 2ccb0dfd161aadc9bfb23a636e49f8ab80b8606d
Author: Carl Friess <carl.friess@me.com>
Date:   Wed Apr 13 15:39:29 2022 +0200

    Check for macOS 10.16 to support apps built with older macOS SDKs

commit a0cdc1fc301fbe8a2b0c378f0b15afeb3bb81e6d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 28 15:01:34 2022 -0700

    Added declaration of SDL_LogInit() and SDL_LogQuit()
    
    Fixes compile warning on Android

commit 29694869b1ba37fee71b407f61ccaee0c03a8d63
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 28 15:56:52 2022 -0400

    audio: Revert one of the resampler optimizations.
    
    This is the one that splits the "left wing" into two for loops to
    bubble out the conditional that decides if it should read from the
    left padding or the input buffer.
    
    I still believe the optimization is good, but the basic logic of it
    was incorrect, and needs to be reexamined and fixed before going
    back into revision control.

commit 5c1f5a73069de5b325aca444e7e745d3f2ad3dd5
Author: Eddy Jansson <eddy@klopper.net>
Date:   Thu Apr 28 20:57:20 2022 +0200

    test: Correct invalid enum length.
    
    Ensure that they can't break like this again.

commit 0f45a4e3036820f3ea00e4234e5a22a7f3702ed0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 27 12:22:37 2022 -0400

    log: Don't try to SDL_free the static array.  :)
    
    I shouldn't be allowed near computers, I swear.

commit 31e83cd14cf649717fa348d2e08fb4d28aa65e7b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 27 12:13:44 2022 -0400

    log: Fixed build (sorry!)

commit fde9a7086e5b1bb264250b94dc4969f39bff722b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 27 12:05:07 2022 -0400

    log: Make the message buffer static.
    
    Now we don't have to worry about allocation failure, or performance
    issues or changes to the allocation layout when trying to track down
    subtle bugs.

commit c4141bc11c3d86d41a28da6418bb36a8f9668035
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 27 09:39:24 2022 -0400

    log: Wrap the call to the logging implementation in a mutex.
    
    Fixes #2463.

commit 2a42952281459d8d2b173f154227c103276016cf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 27 08:06:28 2022 -0400

    log: Don't stack-allocate the message buffer.
    
    It's 4 kilobytes, so I could see this failing if you have a thread with
    a tiny stack that unexpectedly logs something.

commit 12f15aaa74c56c067e1b44e8c6492c65cc663fc1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Apr 27 10:03:32 2022 +0300

    fix build

commit 05bd225a80556412cff052d74a72c5bf8333e403
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 26 23:14:44 2022 -0400

    x11: If XRandR isn't available, add a generic display.
    
    We can get _some_ of the info we need out of standard Xlib and report a
    single display (which might actually be multiple physical displays mushed
    into a single desktop). This is better than nothing, but you should really
    just build with XRandR support and get a better X server.  :)

commit ccc70e644bd336985baf7baa45849fa26773e093
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 26 23:14:21 2022 -0400

    x11: Fixed some compiler warnings.

commit 7d7ec9c95146c44d4b4643ed552796bf07937057
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 26 16:41:28 2022 -0400

    x11: Remove XVidMode and Xinerama support.
    
    Fixes #1782.

commit e551384a995a82107f97db355fb5653a5a0645d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 26 14:54:14 2022 -0700

    Added functions to get the platform dependent name for a joystick or game controller

commit b293888c7dcf11bb6198ade4990043c226edcdc1
Author: Mirko Galimberti <me@mirkogalimberti.com>
Date:   Tue Apr 26 19:44:34 2022 +0200

    Fixes an issue introduced via #5573 when building for i686

commit 5066910bf50156479dbdad0164d5306c500b77af
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 10 13:44:01 2022 -0400

    audio: Make pregenerated resampler kaiser filter more precise.

commit 111c3add738587f97f41f8eaea35c6ee0d084ca5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 10 13:23:51 2022 -0400

    audio: Resampler optimizations.
    
    - Calculate `j * RESAMPLER_SAMPLES_PER_ZERO_CROSSING` once per loop
      iteration since we use it multiple times.
    - Do the left-wing loop in two sections: while `srcframe < 0` and then
      the remaining calculations when `srcframe >= 0`. This bubbles a conditional
      out of every iteration of a tight loop, giving us a boost. We could
      _probably_ do this to the right-wing loop too, but it's less straightforward
      there.
    - The real win: Use floats instead of doubles. This almost doubles the speed
      of the entire function on Intel CPUs, and for embedded things without
      hardware-level support for doubles, the speedup is enormous. This in
      theory might reduce audio quality, though, and I had to put a check in
      place to avoid a division-by-zero that we avoided at higher precision, but
      this is likely to be worth keeping for at least the Sony PSP and other
      smaller platforms, if not everyone.

commit de019568dc948a01a3789b487a896c5e0d495b94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 9 23:43:57 2022 -0400

    audio: Prebake the resampler's kaiser table instead of doing it at runtime.

commit f6eb4b07593a3bb928ccf9d8569bf7a686159228
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 26 13:14:15 2022 -0400

    pulseaudio: Feed audio data in response to write callbacks.
    
    Instead of waiting until the entire buffer from the SDL callback is ready
    to be accepted by PulseAudio, we use pa_stream_set_write_callback and
    feed some portion of the buffer as callbacks come in asking for more.
    
    This lets us remove the halving of the buffer size during device open,
    and also (hopefully) solves several strange hangs that happen in unusual
    circumstances.
    
    Fixes #4387
    Fixes #2262

commit 01ef98a5d03aacc94d9dc96a16de5c49393fb660
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 26 10:19:03 2022 -0700

    Don't force keyboard auto-repeat on, if the user has disabled it for some reason
    
    Fixes https://github.com/libsdl-org/SDL/issues/2400

commit 795744fc75318640909f731a5124f6d2e34a7e54
Author: FriendlyAI <Li_AndrewY@protonmail.com>
Date:   Fri Jan 7 10:11:46 2022 -0500

    Turn off relative mouse before window checks as well

commit e2d268a399cd80dfd7c192b64b2540924cde21ba
Author: FriendlyAI <Li_AndrewY@protonmail.com>
Date:   Thu Jan 6 23:42:44 2022 -0500

    SDL_cocoamouse.m: SetRelativeMouseMode even if out of focus
    Should fix #3087

commit d7c07d6b09de6f9ae3c7bb3eb1765c7a10af4b3b
Author: Jibb Smart <6497881+JibbSmart@users.noreply.github.com>
Date:   Wed Apr 27 00:57:17 2022 +0800

    Read motion sensor scale from Switch controllers (#5555)
    
    * Read IMU scale data from Switch controllers. Up until now, SDL has used hard-coded scaling which isn't correct with some supported controllers.
    
    * Moved declarations to beginning of code blocks to better fit with SDL style requirements

commit 76afb8583b39305cf73191664c0015a8ee2400d4
Author: Mirko Galimberti <me@mirkogalimberti.com>
Date:   Mon Apr 25 10:35:56 2022 +0200

    Introduces Cocoa_GetWindowDisplayIndex. This enable a proper management for dpi when switching between retina and non-retina displays.

commit c39df2fb0c0a1bc8e4a75688be46fc1358603136
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Wed Dec 22 18:27:10 2021 +0200

    joystick: get HID top-level collection preparsed data directly from RawInput API.

commit 8c1584e8e80638aca09e08dd2efb72aa720f82e8
Author: Eddy Jansson <eddy@klopper.net>
Date:   Tue Apr 26 17:56:33 2022 +0200

    WhatsNew: Start block for 2.0.24

commit e9ff4fdd49f4be77ebfa45e8a4f300cc2e8f5f23
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Apr 25 23:55:50 2022 +0300

    add SDL_bsearch

commit 0b2a55ea7d9d344072d4787d764725ad65130a24
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Wed Feb 2 14:58:33 2022 +0100

    Fix typo

commit 3dcfe86082d94eef17518724cebf30aa3543b0e0
Author: meyraud705 <meyraud705@gmail.com>
Date:   Wed Feb 2 13:59:49 2022 +0100

    Add joystick battery event

commit 0964c84d770fab316d9bee29a4e846faa808b46b
Author: meyraud705 <meyraud705@gmail.com>
Date:   Wed Feb 2 11:21:32 2022 +0100

    Always use SDL_PrivateJoystickBatteryLevel to update battery level
    
    But do not use it for initialisation.

commit fa29e2d7f72ba9f81ea2776e7e45a740f6d2ee02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 25 13:45:51 2022 -0700

    Updated to version 2.0.23 for development

commit 53dea9830964eee8b5c2a7ee0a65d6e268dc78a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 25 13:51:15 2022 -0400

    x11: revert checks for _NET_WM_STATE_FULLSCREEN changes.
    
    This reverts commit 85977354fbce9ecb2add660a88e6bec3532c3e26.
    This reverts commit 0249df9d960f9bc28b476e1171c5501fc37cca12.
    
    Fixes #5572.
    Reopens #5390.

commit 981e1e3c4489add5bf6d4df5415af3cf1ef2773d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 23 10:32:40 2022 -0700

    Fixed logical size synchronization issue on macOS
    
    https://discourse.libsdl.org/t/sdl-2-0-22-prerelease/35306/6

commit 7a5743031da3a6955b588ad5bba64a54cbecf511
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Apr 23 20:01:40 2022 +0300

    hidapi, libusb: import mainstream commit 536bad201e

commit fa073ed01aff3b0fe32edfccd4806a311c8ea214
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 22 22:31:04 2022 -0700

    Revert "Fix relative mouse input for Unvanquished (unvanquished.net)"
    
    This reverts commit 331859079674465a39b24f32a6a113959601dca3.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5569

commit 8986efd64399df4a55c0e588f123acaa1da01d52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 22 14:21:46 2022 -0700

    Added support for the Backbone One controller on iOS

commit 2ca083788876129a20b2b2d0fa9724c39aba1128
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 22 14:21:41 2022 -0700

    SDL: sometimes the PS5 controller doesn't report having to power even when connected over USB. Possibly related to being completely charged? Either way we already know that it's USB or BT so let's use the driver's knowledge instead.

commit 04bf7c9434fb79ed11d0be4f66826457ee0c0ab0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 22 09:36:39 2022 -0700

    Fixed build

commit d9b5805ba562f97f700ee154b7e1da0fbbaed97c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 22 09:12:48 2022 -0700

    Return a correlation error when trigger rumble is attempted without correlation

commit 0288de852972b6389f47fe183a925821e098b31c
Author: Eddy Jansson <eddy@klopper.net>
Date:   Fri Apr 22 14:24:10 2022 +0200

    SDL_Rect: Add \sa documentation block to SDL_FRect

commit ba62ead5ecc111070381c4d32d7b21dfc9bb1493
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 13:45:41 2022 -0700

    Handle potential out of memory condition when working with hints

commit 145824f6ab46e38926beda87736fd240856078bf
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Apr 21 01:38:53 2022 -0500

    WGI: Only call RoUninitialize() if RoInitialize() succeeded

commit 00b2e10a7a435e4acbfa0042b9cca2750f1e1600
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Apr 20 20:58:29 2022 -0500

    WGI: Keep a reference to the MTA to avoid crashing on COM teardown
    
    Fixes #5552
    Fixes #5270

commit 8982d9f4035e5b74083c2db259e4a87f89c95ed6
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Apr 18 21:19:25 2022 -0500

    windows: Fix RoInitialize() failure after a CoInitializeEx() call using apartment threading
    
    This mirrors the same codepath in WIN_CoInitialize() which handles STA and MTA.

commit 923cb4463eb6b85fdbd598828f45d44b2fc7ece6
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Apr 20 21:02:40 2022 -0500

    windows: Fix calling convention for RoInitialize/RoUninitialize
    
    Fixes #5563

commit d4a01bfef0da5b80ca25f0962b02cefacc283476
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 20 14:07:30 2022 -0400

    os2: SDL_DestroyMutex should ignore NULL mutexes.
    
    Every other backend does this, so this should match, now.
    It's possible this was harmless, but we can avoid the system call
    and the (likely?) debug message when it fails, though!

commit a40405d724d517c2224e2a2259cccc7224c129c8
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed Apr 20 18:06:02 2022 +0200

    hidapi: Wrap CopyHIDDeviceInfo in define checks.
    
    The purpose of this is to silence a 'defined but not used'
    warning.

commit 5bc29334250f4c1238350b28baa3cc9501262484
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed Apr 20 15:53:25 2022 +0200

    test: Basic tests for SDL_FRectEquals
    
    Based on the integer version. These tests mostly check that input
    isn't mangled and that invalid input gives the expected negative
    result.

commit fc944859d19880062965ff68f3b13d616d614649
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed Apr 20 05:46:45 2022 +0200

    SDL_Rect: Use a default epsilon in SDL_FRectEquals()
    
    Add SDL_FRectEqualsEpsilon() for when more control over
    equality test is required.

commit 00feca27b01beab18c68b99d351d13873223dd4f
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed Apr 20 07:51:04 2022 +0200

    Add SDL_FLT_EPSILON.

commit 5d4a1f835695135b3bac60ebfd36cf49bae40005
Author: Eddy Jansson <eddy@klopper.net>
Date:   Wed Apr 20 05:45:35 2022 +0200

    WhatsNew.txt: Add SDL_FRectEqualsEpsilon()

commit aeadbdd788da18717076f39322de59fc420c006e
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Apr 20 09:00:00 2022 -0400

    Remove an unused function prototype

commit c8c59a2139bd69d7a816e0efc67daa8b90665b28
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Apr 20 08:58:58 2022 -0400

    Fix a -Wshadow warning

commit d9009388c8924b15f74ec38a26cc62ea42b40110
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Apr 19 14:55:58 2022 -0500

    SceKernelMemBlockType to unsigned int

commit 3753a7b1c3ea041e5af156a703993050fec1a51c
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Apr 19 14:42:39 2022 -0500

    Fix recent changes in VitaSDK

commit 02225aa738c8693bbcd03c3d81b4bd1e64d5724d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 22:57:03 2022 -0700

    Fixed build

commit 49a2e4b0ea0d677aa749c3d478e0966e82e5efa3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 19 00:36:53 2022 -0400

    x11: Revert "Fix keymap updating for X11 backend"
    
    This reverts commit de6d290266d1def0eef9df81bf9be41c12a98c61.
    
    This patch had multiple issues, discussed in #5520.

commit b9fe6ba0e726c5d6aee8bd40ab4165630e33edb6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 13:08:04 2022 -0700

    Fixed compile warnings

commit 57927a2458142192a402a4fbb41a77fe71894c22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 12:57:28 2022 -0700

    Don't call scandir() inside of scandir()
    
    This works around a crash in address sanitizer

commit 1ede941f5c1fce3c9091c6999b732f8150bbf400
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Apr 18 21:09:48 2022 +0200

    SDL_render.c: internally change viewport/cliprect type from SDL_FRect to SDL_DRect (double precision). (see bug #5547)

commit 9919d1a7a5446b751379ab51c0e18a4efe71dbc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 11:51:09 2022 -0700

    Remove HWND_TOPMOST for fullscreen windows
    
    Fixes https://github.com/libsdl-org/SDL/issues/5509

commit 009a0ff95f658766d73d435b7a39c8355be40d55
Author: pionere <pionere@freemail.hu>
Date:   Tue Apr 12 14:33:12 2022 +0200

    use explicit GetModuleFileNameW

commit de711e1685277f71ae81cfc1f835b2c7b8ac3056
Author: pionere <pionere@freemail.hu>
Date:   Tue Apr 12 10:32:43 2022 +0200

    simplify SDL_GetBasePath on windows
    - use GetModuleFileName directly (as recommended)

commit 7c140429a8d0ce6d63b8b7d4342d1081d1ef58e1
Author: Jan Beich <jbeich@FreeBSD.org>
Date:   Tue Aug 3 07:18:02 2021 +0000

    Enable evdev-based gamecontrollerdb on FreeBSD

commit e7b01ee745d89f2576273973a82c6a69ef4305bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 09:55:52 2022 -0700

    Added controller mapping for the Thrustmaster Dual Analog 3.2 on Linux

commit 2b5294614359846dc8e4947b6ff8600fd4ee1423
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Apr 15 11:51:02 2022 -0400

    video: Don't minimize fullscreen windows on focus loss by default when mode switching is disabled
    
    When mode switching is disabled in a video backend, fullscreen windows are basically just fullscreen desktop windows with different internal scaling.  As no mode switching occurs, there's no need to minimize them on focus loss by default.  This can still be overridden by explicitly setting the internal hint for minimizing on focus loss.
    
    This has the side effect of fixing a bug on GNOME, where, when a fullscreen Wayland window has it's focus lost and restored via alt+tab followed by switching back to windowed mode, the top portion of the window won't end up being obstructed by GNOME's top bar.

commit c37090f9a47f9937385f38217ce69f7fe0e6d2e3
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Apr 18 12:30:08 2022 -0400

    wayland: Add support for TOOLTIP/POPUP_MENU

commit 9e264b921b2f81e2c3d55693f76e06d143c2fbb7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 09:20:47 2022 -0700

    Certain audio drivers, like the RME "Pro" Audio driver, have resampling quality issues when using WASAPI.
    
    We'll use SDL's resampling algorithm so we have consistent quality between platforms and drivers.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5538

commit 254fcc90eb22bb159ab365ad956222a9c5632841
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 18 09:03:14 2022 -0700

    Revert "video: Prefer Wayland over X11"
    
    This reverts commit 8ceba27d6291f1195e13608033ec439aec621fc6.
    
    SDL Wayland support is stable, but there are a number of issues with third-party software (NVIDIA drivers, libwayland event overflow, libdecor not handling plugin load failures, Steam overlay not working with Wayland, etc.) that make it better to default to X11 at this time.
    
    Games which would like to prefer wayland when available can use the following code before SDL_Init():
            SDL_SetHint(SDL_HINT_VIDEODRIVER, "wayland,x11");
    
    Fixes https://github.com/libsdl-org/SDL/issues/5527

commit c1336b21ed93dcdeaf06503b4bdadd9bd23c44c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 17 12:43:32 2022 -0400

    hints: Make SDL_VIDEODRIVER and SDL_AUDIODRIVER formal hints.
    
    They were just environment variables before.
    
    Fixes #5528.

commit 634b9edc7f30fb364f61d6ac72b00a797efec48b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 15 20:50:55 2022 -0400

    cmake: Fixed indenting and some oldschool `endif(TEXT)` things.

commit dc5bc5237c42d283d117e46130145adaa37dc575
Author: Semphris <semphris@protonmail.com>
Date:   Fri Apr 15 17:11:29 2022 -0400

    Added CMake option to disable the installer

commit 67e0f546c504a2914ac4f0e433aebe5b5e1f015a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 15 18:24:57 2022 -0400

    x11: Update the display when the WM changes a window's fullscreen state.
    
    Fixes #5390.

commit edb473cf468c781841bfbbfbd1dea337f32ba917
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Apr 15 15:03:28 2022 -0400

    video: Wayland: Always round scaled pointer coordinates down
    
    Rounding up can cause the pointer coordinates to exceed the window boundaries at the right and bottom edges.

commit 13393a1c4b5828dd2d3f39aaaaa6d576d9bc0e54
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Apr 15 14:28:07 2022 -0400

    video: Wayland: Clamp fullscreen window dimensions to desktop
    
    A scaled fullscreen window may exceed the bounds of the desktop.  Clamp the window size to the desktop dimensions in fullscreen mode.

commit 0adb67017b76086da909382a632b288e17cf5848
Author: pionere <pionere@freemail.hu>
Date:   Tue Apr 12 09:01:17 2022 +0200

    avoid NullPointer in SDL_GetRenderTarget

commit 01b14e14e63ac85d295755880bcf7d441c4ff0ce
Author: pionere <pionere@freemail.hu>
Date:   Tue Apr 12 08:49:19 2022 +0200

    avoid NullPointer in SDL_GL_MakeCurrent

commit 55a4e1d336db0dd0af70bf22df8ec3ae0b38644a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Apr 12 18:34:32 2022 +0300

    CI: update os2.yml to use open-watcom/setup-watcom
    
    also remove os2-buildbot.sh -- not needed anymore.

commit c36bd78474c962119db2f5161be6b0d4f07d535e
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Apr 13 12:10:49 2022 +0100

    WhatsNew.txt: Document new dependency on libwayland-client 1.18.0
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 46616af722f299b56e68e418be179aa4c1408c54
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Apr 12 11:53:40 2022 -0400

    WhatsNew.txt: Added SDL_HINT_VIDEO_WAYLAND_PREFER_LIBDECOR

commit 9c2f46b0d5a5dce636522904fe0afbde78016063
Author: David Gow <david@ingeniumdigital.com>
Date:   Tue Apr 12 15:23:22 2022 +0800

    Wayland: Add SDL_HINT_VIDEO_WAYLAND_PREFER_LIBDECOR
    
    This hint allows libdecor to be used even when xdg-decoration is
    available. It's mostly useful for debugging libdecor, but could in
    theory be used by applications which want to (for example) bundle their
    own libdecor plugins.

commit 99ae6395b10fd72854896b17d8c7d2fe53daad7e
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Tue Apr 12 10:04:05 2022 +0200

    Initialise scandir argument
    
    'scandir' does not initialise 'entries' on error

commit 68b6fff245eb87fe28881ac86bc6bad0ada4a9f2
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 14:05:06 2022 +0100

    test: Copy utf8.txt to build directory
    
    testiconv wants this.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit b4256d03e97a60c5bccbe18623e065d3b00a19eb
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 14:25:26 2022 +0100

    testevdev: Adapt to a broader definition of keyboards
    
    At the time I contributed this unit test, SDL had a relatively narrow
    definition of what is a keyboard, approximately matching udev
    ID_INPUT_KEYBOARD. Now it uses the equivalent of udev ID_INPUT_KEY,
    which matches anything with keyboard keys, and not just reasonably
    complete alphanumeric keyboards.
    
    Fixes: 040bd7a9 "Fix udev not detecting ID_INPUT_KEY devices when udev is not running"
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit c2946902fa21c133589d09940e4e19c006b645bb
Author: Simon McVittie <smcv@collabora.com>
Date:   Tue Apr 12 14:16:29 2022 +0100

    testevdev: Recognise touchpads as such
    
    At the time I contributed this unit test, SDL didn't understand Linux
    touchpads, but now it does.
    
    Fixes: 373216ae "Added support for touchpads in the Linux evdev code"
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit f708cebe10a9c4862a29c042ac394a62f046599b
Author: pionere <pionere@freemail.hu>
Date:   Tue Apr 12 15:35:32 2022 +0200

    fix os2 timer in fallback mode

commit b75996138a7f694fd9e578aad66ace9d177dec51
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Apr 11 23:31:09 2022 +0300

    Vita: fix VIDEO_VITA_PVR flag

commit b1831715a24ecd2b1d8e0530f949b5226d30759f
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Apr 11 12:09:40 2022 -0400

    UWP: Require Windows 10 16299 or newer.
    
    This is required to build with WGI support. Thanks for @FrozenChameleon for the fix!
    
    Fixes #5504

commit 727eef7064e02aea89281493d0c5f16ad9e3c16f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 9 10:12:49 2022 -0400

    audio: SDL_ConvertStereoToMono_SSE3 missed an unaligned load.

commit 505d6a4a052592b2676f87456c1f564daa8d2c50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 8 18:18:56 2022 -0700

    Update version to 2.0.22 for release

commit a256e6ba7f734cbf363a2daa74e980e669700a6a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 8 18:10:56 2022 -0700

    Updated the patch notes with API changes for 2.0.22

commit 6d7d142b709f898d9729e2d6496299ec5a911022
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 8 18:10:38 2022 -0700

    Fixed typo

commit c2093fab998d37e8532c12c40da9d39ef939a98b
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Apr 8 13:58:45 2022 -0400

    video: wayland: Set the surface damage region when using fullscreen viewports
    
    When using emulated display modes, the output size is often larger than the drawable buffer.  As the surface damage region is automatically calculated from the smaller drawable buffer size, the damage region needs to be manually set to cover the entire viewport region or visual repaint artifacts can result.

commit ba0ba9ef16499f197639d22b1ae96b1c41b16704
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Apr 8 01:20:36 2022 -0400

    direct3d11: Set the swapchain target immediately after creating it.
    
    Fixes #4782

commit cb8163081685fd97deba3c800bb8f10841b555a1
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Apr 8 02:21:52 2022 -0400

    render: Update the size/scale/viewport on moves, in addition to resizes.
    
    For OpenGL this means resetting the viewport state shadowing flag too.
    
    Fixes #1504

commit 5613a5603245f600b36fe327c11c67f0e1ef2cc3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 7 11:32:22 2022 -0700

    Make sure the UIKit message box is being handled on the main thread
    
    Potentially fixes https://github.com/libsdl-org/SDL/issues/4865

commit 2823534fef9b3e1a8388adb3f6fa147c2ec2203a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Apr 7 20:11:50 2022 +0300

    minor adjustment to os/2 watcom makefile

commit 49b9e3470bc9f07cf666e92bbc7405696f2b2ed9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 7 08:24:03 2022 -0700

    Only update modifier state for keys that are pressed in another application
    
    Fixes https://github.com/libsdl-org/SDL/issues/4432

commit 85977354fbce9ecb2add660a88e6bec3532c3e26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 7 09:14:33 2022 -0400

    x11: Treat WM setting the window "fullscreen" like FULLSCREEN_DESKTOP.
    
    Fixes #5390.

commit 6dbca7c911acec36a2258801ad55f766ce5d6aa4
Author: Connor Clark <cjamcl@gmail.com>
Date:   Wed Apr 6 20:48:41 2022 -0500

    Compile with recursive mutexes for emscripten
    
    Emscripten actually does support recursive mutexes, so no need to use SDL's fake recursive code.
    
    Background: #5428, #5479

commit 64c7896f09279d73c1199b164c062cf7c1bbbdd8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Apr 6 20:56:10 2022 +0300

    Makefile.in: added missing CXX variable.

commit d1f7f9e35dce18a2c3e6ee9036a7f938487f2e4d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Apr 6 11:18:46 2022 -0400

    wayland: Pin the fake window position at (0, 0).
    
    I kind of thought it'd be nice to have it in the center, but this is an issue
    for applications that still assume global mouse and window positions are
    accessible. For example, this fixes cursor offset issues in UE5.

commit 279aeb59be648f13a5f3f63cd466a6f2b354f206
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Apr 6 01:32:57 2022 -0400

    wayland: Add a bug link for the detach FIXME

commit 3ada694e6279fdc788ee155877dfedd19fd24101
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Apr 6 01:18:03 2022 -0400

    wayland: Try to detach at the beginning of ShowWindow, just in case.
    
    It's possible that an external component (probably a GL/VK context) committed, so we need to cover our bases and detach in both HideWindow and ShowWindow.
    
    Fixes a crash in UE5 editor's pop-ups.

commit dcfb7fff0083617cee80f325ac585c3a0857f329
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Apr 6 00:55:32 2022 -0400

    wayland: Evaluate WINDOWPOS_CENTERED_DISPLAY for move events
    
    Partially fixes the mouse cursor in UE5 editor. Imperfect because UE5 uses window position and global mouse state to get position, but of course we don't have global mouse and this is just to get the right display index so this still fails overall. We really need to make global mouse support a feature query...

commit 7ea1b69dd4c76ba8368fac8e2eab55969adec3d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 21:00:07 2022 -0700

    Sort controllers by the js* index on Linux
    
    Also fixed the initial scan to directly scan devices instead of using
    udev so they can be sorted, as intended.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4688

commit 0249df9d960f9bc28b476e1171c5501fc37cca12
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 5 23:04:19 2022 -0400

    x11: Try to keep SDL_WINDOW_FULLSCREEN* in sync with window manager.
    
    So if Gnome/KDE/etc have a keyboard shortcut or titlebar decoration to
    make any window go fullscreen (with the _NET_WM_FULLSCREEN flag on the
    _NET_WM_STATE property), we update the SDL window flag.
    
    Fixes #5390.

commit eb660e862c43630e9d30dcd05d282b03ea31ecc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 19:43:42 2022 -0700

    Cache the fact that a device didn't look like a joystick
    
    Fixes https://github.com/libsdl-org/SDL/issues/5211

commit 138d96c8a6a3e3b19e081c450b834d1c3a4121e3
Author: Weng Xuetian <wengxt@gmail.com>
Date:   Tue Apr 5 19:30:25 2022 -0700

    Send key release event to input method. (#5281)
    
    Co-authored-by: Ethan Lee <flibitijibibo@gmail.com>

commit 8bae343f252128147d97912c89fa2b40380158e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 5 22:19:25 2022 -0400

    x11: when waiting on fullscreen changes, not window position _and_ size.
    
    This makes sure the window doesn't have outdated values if you try to access
    them (or call something that does, like SDL_SetWindowMinimumSize).
    
    Fixes #5233.

commit 268c2fa882559dd4e0fa09cad91e4a286e73654f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 18:42:17 2022 -0700

    Don't resize fullscreen windows when hiding or minimizing them (thanks @madewokherd!)
    
    This has the benefit of window previews (mousing over the icon) having the correct size and contents.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5320

commit def27267b5d0b286a19acb882ee2fde25cc4b45d
Author: Esme Povirk <esme@codeweavers.com>
Date:   Sat Feb 5 12:32:06 2022 -0600

    Ignore focus change messages that contradict GetForegroundWindow.
    
    On Wine, when a window is programmatically minimized in response
    to losing focus, we receive a WM_ACTIVATE for the deactivation,
    but GetForegroundWindow still indicates that our window is focused.
    This causes an incorrect SDL_WINDOWEVENT_FOCUS_GAINED.
    
    This is probably a Wine bug, but it may take a while to fix and
    then for the fix to make its way to users.

commit ff5b67e5e0951230d2ea4c1ac9c9f7179f975b86
Author: Weng Xuetian <wengxt@gmail.com>
Date:   Sun Jan 30 16:29:05 2022 -0800

    IBus should use ev keycode instead of X keycode
    
    See: https://github.com/ibus/ibus/blob/5a455b1ead5d72483952356ddfe25b9e3b637e6f/client/gtk2/ibusimcontext.c#L468

commit 27fc582b593776f552b55947cda66baa4b006a38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 15:11:49 2022 -0700

    Minor cleanup

commit 86acb1a347fb232f0211864fe00af2d7590a3717
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 15:05:07 2022 -0700

    Handle interaction between auto capture and the SDL_CaptureMouse() API
    
    Fixes https://github.com/libsdl-org/SDL/issues/5457

commit 0e198a87991d99a0b76a24ad1118c0ca7b344f49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 5 15:03:18 2022 -0700

    Added a define VERBOSE_MOTION_EVENTS to show mouse and finger motion events

commit 006a5a9e03e60471688186ac02524de85009fef6
Author: capehill <juha.niemimaki@gmail.com>
Date:   Mon Mar 28 21:01:06 2022 +0300

    testgles2: Fix buffer object sizes

commit a5672b858ef6812d5f772b181e13681d4968661b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 5 11:10:41 2022 -0400

    x11: Wait a bit to see if window pos changes when changing fullscreen.
    
    Helps prevent window from moving to 0,0 when leaving fullscreen.
    
    Fixes #4749.

commit 45372b1c276a748e71c373880fbb14d0a92ef6c1
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Apr 4 21:36:25 2022 -0500

    x11: Don't unload libGL.so to prevent a crash in XCloseDisplay()
    
    libGL.so may register callbacks that can be invoked upon XCloseDisplay().
    If XCloseDisplay() is called after libGL.so is unloaded, the callback pointer
    will point at freed memory and invoking it will crash.
    
    The texture framebuffer check optimized out in f37e4a9 was causing libGL.so to
    never be unloaded as a side-effect. Skipping it exposed this bug by allowing
    libGL.so to actually unload.

commit 7b3449b89f0625e4603f5d8681e2bac1f51a9386
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 4 20:46:56 2022 -0700

    Minor cleanup

commit 6cd444f0fab9f7af501e76705b3dd77a4bbea10a
Author: Christoph Reichenbach <creichen@gmail.com>
Date:   Sat Apr 2 21:28:56 2022 +0000

    Visualise scroll wheel events in testmouse

commit 57118fb7dedcf527230329200baade4b14e99bf7
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Apr 2 13:49:50 2022 +0100

    render: Fix setting the scale mode for non-native textures

commit 312c899f4f5004ef0df79242cd79137f7792c509
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Apr 2 03:32:10 2022 +0300

    attempt to fix uwp build

commit c0bb39e5e9f3504ba6b70bfbaff04e9d9dba86e9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Apr 2 02:50:02 2022 +0300

    check for HAVE_ROAPI_H in cmake and autotools, and
    
    update SDL_config_windows.h and SDL_config_winrt.h

commit 575dadb11dd0022a4ce152a3e9fed943d96fdc4f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Apr 2 02:20:02 2022 +0300

    fix build against older SDKs after commit 8ebef12.

commit 8ebef12d31bff35aec6ac659ae7d2d8fcb6ea5b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 1 14:58:33 2022 -0700

    Use RoInitialize/RoUninitialize for Windows.Gaming.Input
    
    Thanks @walbourn!
    
    Fixes https://github.com/libsdl-org/SDL/issues/5270

commit 1c9299b00d95485447f5b1b915d80c4cda3df8c9
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Apr 1 08:12:31 2022 +0200

    Add SDL_list to macosx xcode

commit 78834b50d60b56239fc83ea59a23698b3b3bd7f0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 1 08:01:44 2022 +0200

    Add SDL_list.c/h

commit ad6bc521bd2748a5f2581edf32b4732a1af7ab4c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 1 07:59:16 2022 +0200

    Move SDL_List functions to SDL_list.c to avoid more merge with eventual PR

commit 0d7edcb7032c1f5232523e0b707d7f9d831313fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 31 16:15:51 2022 -0700

    Fixed loading 32-bit BMP files

commit ea7d5307acfb1daf9af6104b60b75114b15bcd27
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 31 14:11:52 2022 -0400

    emscripten: Proxy SDL_GetUsableDisplayBounds to the main thread.

commit fe79eb2fbb950c9d30d3623f5ca95abd5e600a1e
Author: Reinhold Gschweicher <pyro4hell@gmail.com>
Date:   Sat Feb 26 20:46:52 2022 +0100

    emscriptenframebuffer: fix formatting

commit 268cc2a49c3e88bf74e426547d9357dcb7a90500
Author: Reinhold Gschweicher <pyro4hell@gmail.com>
Date:   Sat Feb 26 20:42:54 2022 +0100

    emscriptenmouse: remove useless return statement

commit 3136a530706319202c53ff150af7cb84b8d9b07e
Author: NeroBurner <pyro4hell@gmail.com>
Date:   Fri Feb 25 14:26:23 2022 +0100

    fix formatting and cast warnings
    
    Co-authored-by: Charlie Birks <charlie@daftgames.net>

commit 404158595c826d98f79340e0bbe8645c3b8528a9
Author: Reinhold Gschweicher <pyro4hell@gmail.com>
Date:   Fri Feb 25 00:12:33 2022 +0100

    emscriptenmouse: remove old extra `_INT`

commit 4dca8f7fb4c63d1b42c31c7dd821197832714c3f
Author: Reinhold Gschweicher <pyro4hell@gmail.com>
Date:   Thu Feb 24 21:09:03 2022 +0100

    SDL2 thread proxying fixes
    
    This PR uses new APIs added in [emscripten-core/emscripten#9336](https://github.com/emscripten-core/emscripten/pull/9336)
    to improve compatibility with USE_PTHREADS=1.
    
    Original PR: https://github.com/emscripten-ports/SDL2/pull/127
    By: @jakogut
    Reviewed by: Daft-Freak

commit 1c7bf478ae9c7904c70509277b9a3ce4a2ca7ab2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 31 10:09:02 2022 -0400

    x11: Ignore BadValue for extremely small XRRSetScreenSize resolutions.
    
    Reference Issue #4840.

commit db718998bdf37c3b89ee3dff269323e758168e90
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Mar 31 13:44:06 2022 +0300

    Vita: fix readme

commit 95c0fec5189537b323bde670c1a37cb0892ec142
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Mar 31 12:35:17 2022 +0300

    Vita: PVROGL: fix indentation and ifdef guards

commit b5700ab31eb9eb53460cd2ead4588b8e0f44734d
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Mar 29 19:32:21 2022 -0500

    Cleanup Spaces

commit 8e5adc62eb200bcd634b6812dcb602fba6bdce47
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Mar 29 19:18:06 2022 -0500

    Update README-vita.md

commit 8c542a35918bc7f0418b68d2b4a23fa5d99c8fa2
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Mar 29 19:08:56 2022 -0500

    Desktop OpenGL 1.X/2.X PSVita Support

commit 2c04df8d651ca6ec7425f49621c1e55144769cc9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Mar 30 18:33:38 2022 -0500

    joystick: Fix rumble issues on PS5 HIDAPI controllers
    
    We were returning the report size from HIDAPI_DriverPS5_RumbleJoystick() rather
    than 0 upon success, causing SDL_JoystickRumble() (and callers) to think that
    rumbling failed.
    
    This didn't cause major problems until 1868c5b, when it started preventing
    rumble state from being persisted in the joystick core, even though it was
    successfully sent to the hardware.
    
    This led to all sorts of strangeness, including broken rumble duration and
    attempts to stop rumble being discarded.

commit 7e15ad2fc4f610482c2f7b23a6fb2838c8759f93
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 30 14:15:52 2022 -0400

    x11: Catch X11 errors in X11_SetWindowPosition and X11_SetWindowSize.
    
    The functions can go south if other operations are in progress, like
    X11_SetWindowBordered, which might be doing something traumatic behind the
    scenes of the window manager.
    
    We can't make these tasks totally synchronous, which would fix the problem,
    because not only can the window manager block however long it wants, it might
    also decide to deny our requests without any notification, so we'd be waiting
    forever for a window change that isn't coming.  :(
    
    Fixes #5274.

commit 3425e9950e27e6e774cbb828532e20a91947e0f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 30 10:12:49 2022 -0400

    stdinc: SDL_COMPILE_TIME_ASSERT defines shouldn't have a semicolon.

commit cbdb67b4f655000de35acb5629ddb08cc6761e8a
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Mar 30 00:12:42 2022 +0300

    Vita: add SDL_GetPreferredLocales support

commit 178ac19615968a074f77687bd84527d296bb75ab
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Mar 29 23:48:08 2022 +0300

    Vita: add audio capture support

commit 4d1905c9b60489b58c486cee350356e156ce6856
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Mar 29 13:34:14 2022 -0400

    video: wayland: Use viewports for non-fullscreen windows with fractional scaling
    
    Use viewports for non-fullscreen windows when the desktop uses fractional scaling and the window is flagged as DPI-aware to provide a backbuffer mapped as close to 1:1 output as possible.  In the cases of odd window sizes the backbuffer may be a pixel off of scaling perfectly into the window size due to its scaled size being rounded off, but a minute amount of scaling during output is likely preferable to the large amounts of overdraw needed with integer scaled buffers.

commit fa4c51989dc558435f9f16e9c9abb084c60a3db9
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Mon Mar 28 21:32:30 2022 -0400

    video: wayland: Expose more resolutions for mode emulation
    
    Expose as many emulated display modes as possible.  They will currently display stretched to the display's native desktop aspect, but if an application requires a hardcoded resolution, it will work at minimum.
    
    Aside from the change in the emulated display mode list, the Wayland event handling code had to be updated to support separate scaling for the x and y axes, as square pixels are no longer guaranteed.

commit d875416ac4f873d748f0790f43153b4e1890d121
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Mar 28 15:32:30 2022 -0400

    wayland: Minor fix for old compilers

commit 4d76c9cb46491064b1817bd69f78d59783546ee5
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Mar 25 20:35:07 2022 -0400

    video: wayland: Use wp-viewporter for fullscreen with non-native resolutions
    
    Wayland doesn't support mode switching, however Wayland compositors can support the wp_viewporter protocol, which allows for the mapping of arbitrarily sized buffer regions to output surfaces.  Use this functionality, when available, for fullscreen output when using non-native display modes and/or when dealing with scaled desktops, which can incur significant overdraw without this extension.
    
    This also allows for the exposure of arbitrarily sized, emulated display modes, which can be useful for legacy compatability.

commit aec86ba8bb68d8bf5262cd11c3573b7e318bf749
Author: Connor Clark <cjamcl@gmail.com>
Date:   Sat Mar 26 15:31:33 2022 -0700

    emscriptenaudio: proxy calls to main thread

commit 96be9cddcc433f4ceeb7fa2c4df6b65196839b80
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Mar 27 21:48:09 2022 +0300

    Vita: add hint to select which touchpad generates mouse events

commit 1db47d468acde73d38a4e96f47e16a7edf0ce55f
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Mar 28 15:39:13 2022 +0200

    Fix potential memory leak in QueueCmdFillRects

commit a60986caa8206e50b1ea5f8cb4821e40e18c572b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Mar 27 19:03:54 2022 -0500

    Correct default structure packing on Windows ARM64
    
    See issue #5454 for details

commit 6d1c3cd6918aa84fe2a0ba7d895169a4f69233bc
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Mar 27 17:11:05 2022 +0000

    Sync wiki -> header

commit 95ed83137f373bfde4f3d4aa256498e2b15173fa
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Mar 25 15:22:10 2022 +0300

    Vita: Use preallocated memory pool for textures

commit 2591f7e39c3284bee0f56e06bbbef545c3aa547d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Mar 27 16:52:04 2022 +0000

    Sync wiki -> header

commit 7ba4d24c2535bd0c5e2274d00be03f421cef4b2f
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Mar 27 16:49:05 2022 +0000

    Sync wiki -> header

commit 0dcfa92e4cbedd3c56a9c266e934735f4ab60c6f
Author: capehill <juha.niemimaki@gmail.com>
Date:   Sat Mar 26 19:31:17 2022 +0200

    testgles2: Call correct function to get shader info log and add link status checking

commit 6529bf3de7e92d50cc43976836bf162754e9a517
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Mar 27 17:03:44 2022 +0100

    Clean up formatting in README-directfb.md

commit 0bc9e243b98c4ac6f5105aa674eb3a9d6586e567
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Mar 27 16:56:02 2022 +0100

    Remove URLs from markdown headers in README-visualc.md

commit 7bc498d325247ba38b7437b25f15c08e6655617b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 27 09:12:12 2022 -0400

    direct3d: Implement missing blend operations.
    
    This is only for Direct3D 9; Direct3D 11 already had this implemented.
    
    Fixes #5375.

commit a630b0293838a161aa499fd0ff3cf0632bce5ff2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Mar 27 11:56:40 2022 +0300

    configure: improvements to libdecor discovery :
    
    use PKG_CHECK_MODULES, and use DECOR_LIB with find_lib.
    Closes: https://github.com/libsdl-org/SDL/pull/5460
    
    Co-authored-by: Trigan2025 <trigan2025@hotmail.fr>

commit 713a675401cea4cde9f2bfb3771f3c32554bb278
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Mar 26 22:26:15 2022 -0400

    wayland: Relax the check for mismatching output scales

commit 5655be1558904a257dfc12a63840d8e32aec1b18
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Mar 26 19:57:39 2022 -0400

    wayland: Avoid overwriting xdg_output position with wl_output position

commit 40417b188a5dbfdd04297204caa77a3dabe8d7fd
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Mar 26 19:55:04 2022 -0400

    wayland: Work around a GNOME xdg_output scaling issue

commit 94ed6b0a54d127cd8caf0f1841c694093e4c0628
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 26 08:55:26 2022 -0400

    README-windows: Notes on building with Visual Studio/LLVM.
    
    Fixes #5186.

commit 5acb4b70ab189a1745433ea30cf8ee1388875789
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 26 08:50:25 2022 -0400

    README-windows: Wordwrap text file.
    
    This makes for easier reading outside of a formal Markdown viewer.

commit 26bfee8578af0e6bdf7754f5abb5356ebec8a2bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 26 08:47:46 2022 -0400

    README-windows: Convert to actual Markdown text.

commit beecae31f686d0e3c428c70eca0669bdd6859591
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 26 08:42:09 2022 -0400

    testshader: use SDL_malloc instead of SDL_stack_alloc.

commit d6122704e8c2380cd036721957ac7914ec6b8dad
Author: capehill <juha.niemimaki@gmail.com>
Date:   Sat Mar 26 12:40:08 2022 +0200

    Initialize compile status variable and check also program link status

commit 7a1c45bd1c62d7cf9e5cd67633e1f5db8a7752f7
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Mar 25 12:51:38 2022 -0400

    wayland: Optimize keyboard_handle_modifiers.
    
    1. Mod index values are (mostly) constant, so can be done with xkb_state_new
    2. Mods can change without the group changing, avoid remap events if possible
    
    Lastly, as a bonus, I added braces to the locale check, because I was nearby.

commit 69d0b6e3c626a5cd8787c7b3a0dbd83112e8a296
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Mar 25 15:18:39 2022 +0300

    Vita: Fix NULL-pointer dereference

commit bf38fd4679f82b9a8de75ab11e5ae33694f4189a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Mar 25 11:52:50 2022 +0100

    YUV: fix invalid read on last line when converting from SDL_PIXELFORMAT_YUY2 (see bug #4841)

commit 2891f0821b27012242c30759308bd8eed83d3fe7
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Mar 25 02:49:49 2022 -0400

    wayland: Use xkb_keymap_mod to set mod state

commit 6d9ca926265fdadfc1676b9cfef8b098b0ac5d29
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Mar 25 01:36:39 2022 -0400

    wayland: Enforce text capitalization manually, for remapped keymods

commit a75c6150e08a89ae9eb653c105a35cacf317be5d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Mar 25 01:33:40 2022 -0400

    wayland: Add an xkb_keysym_t->SDL_Keycode mapping for backspace

commit ee96407edfad01e28fcc54495184d8098da89feb
Author: DominusExult <domiman+github@gmail.com>
Date:   Fri Feb 4 21:49:11 2022 +0100

    iOS >= 10.0 silence GLes deprecation warnings

commit ab74b6a3c3c02da7a89973c273ebbb0b02271a68
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Mar 24 15:34:29 2022 -0400

    wayland: Remove some now-redundant casts

commit ee52ad08cdfcab03450e6a04f2e5e84a4b253f9e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Mar 24 15:32:25 2022 -0400

    wayland: Minor fixes for old compilers

commit b4d28085bfea2475e3028a4962e022b86f43011a
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Mar 24 18:30:32 2022 +0000

    wayland: Don't overwrite error message from SDL_EGL_CreateSurface
    
    SDL_EGL_CreateSurface sets a more specific error message, so overwriting
    it would lose information.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit d5bbbd3f7345eb55f84eb46bf89462a72c038644
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Mar 24 18:23:35 2022 +0000

    Avoid depending on libwayland 1.20 unnecessarily
    
    When using shared linking (linking in the normal way with
    -lwayland-client) rather than loading Wayland libraries dynamically at
    runtime, listing symbols that don't exist in the current version results
    in a build failure. We don't actually call wl_proxy_marshal_flags() or
    wl_proxy_marshal_array_flags() directly; the reason we need them is
    that they're called by the code generated by wayland-scanner >= 1.20.
    
    If we're building against an older Wayland library, then we'll have its
    corresponding version of wayland-scanner (mismatched versions are not
    supported), so we won't need those two symbols, and can avoid generating
    a dependency on them.
    
    Conversely, if we're building against a newer Wayland library, the
    generated code will call them unconditionally, so we cannot treat them as
    optional and gracefully fall back: that would result in a crash. Instead,
    treat them as a mandatory part of the Wayland library, so that if they
    are not found at runtime, we can fall back to X11 without crashing.
    
    libwayland 1.18 is in several LTS distributions (Ubuntu 20.04,
    Debian 11, RHEL 8) so avoiding a hard dependency on 1.20 is quite
    useful.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>
    Resolves: https://github.com/libsdl-org/SDL/issues/5376

commit d597a9b431965c9bde1c46fec7dc180546f0e3f7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 24 14:25:00 2022 -0400

    x11: Minor cleanups and corrections in X11_ShowMessageBox.
    
    Reference issue #3254.

commit 6c56193a2ad679572ed92d4413f1b88899bb5afd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Mar 24 18:09:45 2022 +0100

    Fixed bug #1650: X11 doesn't set KMOD_NUM and KMOD_CAPS to system state

commit 2398c43be23d0651be1fe0020271bd986bf7ce24
Author: Kimplul <kimi.h.kuparinen@gmail.com>
Date:   Thu Mar 24 14:34:37 2022 +0200

    add some Thrustmaster wheels

commit 4fe7b2cbd1a15ae2fe174e189153bb3d0750b5c8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 24 11:00:43 2022 -0400

    static analysis: Fixed several complaints from codechecker.
    
    There are still some pending Objective-C specific issues.
    
    Reference issue #4600.

commit eadc064e2c5f18a6d1cfd1b5bbd436c8945ae722
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Mar 23 19:14:28 2022 +0300

    Vita: add native YUV textures support.
    
    * Fail if texture init fails.
    * Refactor and cleanup.

commit 0af2db6f29ee9bc31761c83adc08fa11953bb476
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Mar 23 19:04:29 2022 +0300

    Vita: support audio format fallback

commit 0dae35bf3dd574c183afd561fb301ceaf33f51b9
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Mar 19 15:58:47 2022 -0400

    video: wayland: Use xdg-output for retrieving the desktop dimensions
    
    Using wl-output to get the desktop display dimensions and dividing by the integer scale factor will not return the correct result when using a desktop with fractional scaling (e.g. a 3840x2160 display at 150% will incorrectly report the scaled desktop area as 1920x1080 instead of 2560x1440).  Use the xdg-output protocol, if available, to retrieve the correct desktop dimensions and offset.
    
    Versions 1 through 3 of the protocol are supported.

commit 9125b244e7679a4641af02626baf01dc53e2dc6d
Author: Florian "sp1rit"​ <sp1ritCS@protonmail.com>
Date:   Wed Mar 23 13:46:25 2022 -0400

    wayland: Basic support for zwp_tablet_*v2 protocol

commit 13337e17a56ac116c39841afac6e1c8482032ca5
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Mar 23 13:27:01 2022 -0400

    wayland: The rest of the wayland-client 1.18 requirement... Git, please

commit f3ff0c568e7b599bf0e5293e124c0085c7aa69ea
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Mar 23 13:23:33 2022 -0400

    wayland: Bump minimum requirement to wayland-client 1.18 or newer

commit 2a4e0f8fd0f4c1ef9e93a32c7ef1d5336e2d0326
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Mar 23 16:09:05 2022 +0000

    Sync wiki -> header

commit c23a7ad38af0c9e037c9810d21b5d4181ca2e109
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Mar 23 17:07:56 2022 +0100

    Add SDL_RenderGetWindow() API to get the window associated with a renderer (#5440)
    
    Add SDL_RenderGetWindow() API to get the window associated with a renderer

commit 57df1dfce68af66138eb61d3b604f5b701f1bbe5
Author: Joao Paulo Magalhaes <dev@jpmag.me>
Date:   Wed Mar 23 15:07:52 2022 +0000

    Video: do not use hardcoded VIVANTE and VDK libraries

commit f5a980448ed3a525a68cd844e37f9384c21e7e8e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 23 10:13:56 2022 +0100

    Android: add SetWindowResizable() implementation
    - which also enable/disable the orientation lock status.
    
    This is only provided when the window is not SDL_WINDOW_FULLSCREEN (see SDL_video.c).
    Final orientation also depends on SDL_HINT_ORIENTATIONS.

commit 006aafabcf76545e3712529b28c8bcec862c4cc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 22 20:23:09 2022 -0700

    Fixed freeing a constant string (thanks @gnrlwart)

commit 8df045cc7d6ca21dd8ebbbe11ca24dfe81851f3b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 22 15:53:40 2022 -0400

    stdlib: just cast iconv()'s 2nd arg to void *.
    
    This makes the compiler happy (enough) regardless of whether the C runtime
    headers think this argument should be const or not.
    
    Fixes #4966.

commit 4b8d69a41687e5f6f4b05f7fd9804dd9fcac0347
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Mar 22 17:09:44 2022 +0000

    Avoid trying to use texture framebuffers on emscripten

commit 25203222f55f8fc3a270620609ecfee2e151d76b
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 11:01:25 2022 +0100

    optimize the SDL_str(case)cmp functions

commit aec58d82083862642c8b7a546d341a426ef340a9
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 10:56:43 2022 +0100

    make SDL_strcasecmp standard compliant

commit b59ca92e823e9b050518077e202e009cbbee828f
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 10:55:09 2022 +0100

    use != '\0' comparison instead of SDL_strlen in the functions of SDL_getenv

commit b944dc8f2ebd358e2e4b7dbf588052eb3ebd0016
Author: Jonatha Gabriel <jonathagabrielns@gmail.com>
Date:   Tue Mar 22 15:05:05 2022 -0300

    Also fix Android crash when SDL_HIDAPI_DISABLED set to 1
    
    The Java code needs the native functions to be implemented, even if
    they're not surfaced via the C API, therefore, a stub version of
    functions were made only to the purpose of "fill the gaps" when
    SDL_HIDAPI_DISABLED set to 1.

commit 2302b2d5e58454d4595f612e209523afe7faa410
Author: Egor <egor@opensrc.club>
Date:   Tue Mar 22 16:33:45 2022 +0200

    Add mapping for Logitech Precision Gamepad

commit 83df4a354eb8d060c9e35762dcf111a9f3a5cd5a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 22 15:25:01 2022 +0100

    SDL_render.c: remove unsused case, since renderer target has been forced to NULL previously (see bug #4213)

commit f782abe5f0f8fd431381e5b2af420afa62da646c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 22 09:52:52 2022 -0400

    hints: Added SDL_HINT_QUIT_ON_LAST_WINDOW_CLOSE.
    
    Fixes #2349.

commit 34fd83ca068a7d0d7925589343eb0577a0872bcc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 22 06:50:10 2022 -0700

    Don't try to hide foreign windows when destroying the SDL window representation
    
    Fixes https://github.com/libsdl-org/SDL/issues/5432

commit 74680f5c4c242e97358948f58ffcf352e3fb56a6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Mar 21 18:56:56 2022 +0300

    regenerated SDL_blit_auto.c.

commit dd6c46cb341df62f0773fe355412a79f6b31a30c
Author: pionere <pionere@freemail.hu>
Date:   Mon Mar 21 18:56:56 2022 +0300

    blit-auto optimizations

commit 9dc201d4484290986549b89ff9444766b2797b56
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Mar 21 10:41:14 2022 +0100

    Fixed bug #2962 - when SDL_RenderReadPixels format = 0, used format of the target texture
    include/SDL_render.h, format:
    "0 to use the format of the rendering target "

commit 7f1feee02ab88770238219ee5e8c3c0bf81c6e4b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Mar 21 10:20:04 2022 +0100

    Fixed bug #2426 - SDL_RenderReadPixels result is unspecified and fails testautomation
    Call SDL_RenderPresent after calling SDL_RenderReadPixels.
    From "include/SDL_render.h":
    "If you're using this on the main rendering target, it should be called after rendering and before SDL_RenderPresent()."

commit 2b3c16eb5b3af0829bf5b18966a31dd16dbecad2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 20 23:17:14 2022 -0400

    Sync wiki -> headers.

commit 24ffcbd9adc8ca02f5b60d2e0ebdac761f3644aa
Author: Eddy Jansson <eddy@klopper.net>
Date:   Sun Mar 20 17:23:34 2022 +0100

    audio: Set error message on dsp init failure.
    
    if SDL_EnumUnixAudioDevices() fails to find any devices,
    set an error message on the exit path. Without this,
    SDL_Init() could fail without any message available
    in SDL_GetError().

commit 8f964576da9d159187f9eb317212e166812d7dda
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 19 11:01:55 2022 -0700

    Fixed parameter operation ordering for ease of reading

commit 0517b61ed681fc20684aec63e08644d1c13b75d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 19 11:00:00 2022 -0700

    Relative mouse mode is tied to the window with keyboard focus
    
    This isn't obvious, but makes sense when thinking about how games actually use it. This is also in line with how Windows mouse relative mode is implemented.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5340

commit b559a4acccd7092d25fb7065b2969b0fe01b6ca3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 19 10:39:22 2022 -0700

    Fixed Android crash when SDL_HIDAPI_DISABLED set to 1
    
    The Java code needs the native functions to be implemented, even if they're not surfaced via the C API.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5326

commit a485ffc3c8d040fc87893b61cd8cddda4248243f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 19 09:50:22 2022 -0700

    Fix "SDL_FALSE is not defined" runtime error for emscripten.

commit d81fee76235a1f13123818815ecebcb27764595d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 19 10:27:31 2022 -0400

    SDL_Rect: Added floating point versions of all the rectangle APIs.
    
    Fixes #5110.

commit 4d9bef604ab7967d18c873c550aa1bf1100eda21
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 19 09:44:09 2022 -0400

    SDL_Rect: minor code cleanups.

commit c573ebe1439e51e6b50f2ec37c381d13d643fe22
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 19 09:29:01 2022 -0400

    SDL_UnionRect: If both rects are empty, zero out the result struct.

commit fbbd0270ebb76d3e55dd0052c98587d22103cd82
Author: Christian Kündig <kuendig@scandit.com>
Date:   Fri Mar 18 23:10:19 2022 +0100

    Fix "SDL_TRUE is not defined" runtime error for emscripten.

commit aef1e56737fb1387b64ed218cec15e6f221431b2
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Mar 18 17:30:05 2022 +0000

    Sync wiki -> header

commit 40b7326b384aef84d3a688babb304bc2f333b6f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 18 10:28:38 2022 -0700

    Added a note that SDL_RenderReadPixels() should be called before SDL_RenderPresent()

commit 6c962177272c6a2ce684e4298b40c25ebdd1ac74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 18 10:07:59 2022 -0700

    Added the hint SDL_HINT_MOUSE_RELATIVE_MODE_CENTER, controlling whether the mouse should be constrained to the center of the window or the whole window in relative mode.
    
    For further info about the pros and cons, check out the discussion in https://github.com/libsdl-org/SDL/issues/5271

commit d3cc5764c0f66872a6b87c0ffbca66c85dccbea3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 18 07:36:16 2022 -0700

    Modern CMake doesn't need "LANGUAGE C" for Objective-C
    
    CMake 3.19 fails to compile Objective-C with that property set
    
    Fixes https://github.com/libsdl-org/SDL/issues/5418

commit 1868c5b5210636530d6945c0ec16b11e3506248d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 18:25:50 2022 -0700

    Start rumbling once a raw input controller has been correlated
    
    Fixes https://github.com/libsdl-org/SDL/issues/5351

commit 3167ba342d3b7cf5459405d9d79fe56afefab431
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:58:35 2022 -0700

    Fixed freeing the Windows blank cursor

commit 0387bf821ad96f57b4a22790bd1d163b85a2cb2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:55:28 2022 -0700

    Fixed memory leak in WIN_CreateBlankCursor()

commit 5ff42438e36e98c9d72ac70f5f5ce4599b96d3d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:39:46 2022 -0700

    Added a hint to capture the mouse when mouse buttons are pressed, defaulting on
    
    Fixes https://github.com/libsdl-org/SDL/issues/5301

commit 09b8152fae1f4e0e8d9853b418d99ad3e14034b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:19:21 2022 -0700

    Use SDL_Log instead of printf

commit b22ce2b5a811abe2bc7bd4119da5d3a4f36a87d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:10:40 2022 -0700

    Workaround for bug in Microsoft WGI support
    
    Fixes https://github.com/libsdl-org/SDL/issues/5270

commit d40627851301aabf76a1d8acec7edb9ad675042d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 17:01:36 2022 -0700

    Try not forcing activation when grabbing the mouse in fullscreen windows

commit 4e784fce431d588a949517fafece5903d1acae44
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 16:57:33 2022 -0700

    When updating grab state, only activate windows that are grabbed, fullscreen, and shown.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5371

commit e5f45455c91af01f5950024f4196ceedc07ba405
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 14:44:34 2022 -0700

    Added a hint to mark a foreign window as usable with OpenGL
    
    Fixes https://github.com/libsdl-org/SDL/issues/2942

commit 4e49b78a113432acf77274f5190dd456e1767be5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 14:44:17 2022 -0700

    Fixed compile warning and comment typo

commit 0bf8ccfb60b828ec6e3451efbf307c45336000da
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Feb 8 22:15:11 2022 -0500

    video: Add a hint to allow Vulkan surfaces on foreign windows

commit ecaa22cbe66d4153776b381b3357a410199d52a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 14:22:51 2022 -0700

    Don't warn if anyone peeps for events after quitting the event subsystem
    
    Fixes https://github.com/libsdl-org/SDL/issues/5013

commit 331859079674465a39b24f32a6a113959601dca3
Author: Antoine Fontaine <antoine.fontaine@epfl.ch>
Date:   Wed Mar 9 17:02:32 2022 +0100

    Fix relative mouse input for Unvanquished (unvanquished.net)
    
    Here's an IRC dump that hopefully explains the issue this fixes:
    
    > I'm debugging something odd where, for a libre game,
      unvanquished.net (a FPS), relative mouse input in fullscreen is
      buggy
    > it's like, working mostly ok, but it has a weird
      performance/cleanup bug
    > after some time in relative mouse input mode, some time as low
      as 15s, usually more, the SDL sends A LOT of relative mouse
      input per frame
    > almost all of which have xrel==0 && yrel==0
    > by A LOT, I mean that after ~1min, it's usually in the
      thousands per frame
    > each frame, a while ( SDL_PollEvent( &e)) loop reads the
      inputs, but it seems SDL is not clearing the list.
    > one way to clear the list is to open the in-game console or
      menu, which switches the input mode to absolute, then close it
      which gets a working relative input mode (for some time at least)
    > I've shown the issue to be present with SDL2.0.20 but not with
      2.0.14 on my system
    > some other players on Arch Linux (SDL2.0.20) report a possibly
      related issue, where some keys seem to be pressed at random
    > I've did some bisection on SDL master, and I've found that
      there are actually two commits involved, one breaking it
      totally (no input at all), and one fixing it partially (with
      the problem described above)
    
    First related commit that breaks it totally:
    
            commit 82793ac279d19b5bde8fc2bd62877b05ba5a76e0
            Author: Sam Lantinga <slouken@libsdl.org>
            Date:   Thu Oct 14 14:26:21 2021 -0700
    
                Fixed mouse warping while in relative mode
    
                We should get a mouse event with an absolute position and no relative motion and shouldn't change the OS cursor position at all
    
    Second related commit, that halfway fixes it:
    
            commit 31f8c3ef4409a93fafa894b78c2ce176bd0c3cf3
            Author: Sam Lantinga <slouken@libsdl.org>
            Date:   Thu Jan 6 11:27:44 2022 -0800
    
                Fixed event pump starvation if the application frequently pushes its own events
    
    Reverting the first commit did fix the issue for me, but would
    probably reintroduce the bug it was fixing(?). This patch should
    fix it for everyone hopefully.
    
    https://github.com/DaemonEngine/Daemon/issues/600 is the upstream
    bug, and contains some early investigation.

commit 829e15a49079ef22eeb69f6fa19b41889312ebda
Author: Esme Povirk <esme@codeweavers.com>
Date:   Sat Feb 5 14:38:39 2022 -0600

    Ignore unknown WM_SIZE types.
    
    According to MSDN, we can also get SIZE_MAXHIDE and SIZE_MAXSHOW,
    based on state changes to other windows. It's not clear under
    what circumstances this will happen (I saw some docs indicating
    it may require multiple application windows), but it doesn't seem
    right to treat them as RESTORED.

commit a164c9d24541f7d3e8fb224f1b192827d37270b1
Author: uyjulian <uyjulian@gmail.com>
Date:   Tue Jan 4 10:43:34 2022 -0600

    SDL_cocoawindow.m: update fullscreen toggle when SDL_SetWindowResizable called

commit cc152103ba11c890848c991d7ddf281b3b1f1e14
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 11:37:08 2022 -0700

    Fixed warnings when building with cygwin
    
    Fixes https://github.com/libsdl-org/SDL/issues/5025

commit e8c3ff56e05f83dcdb891c11d77ac5a9520cf718
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 10:01:13 2022 -0700

    Removed problematic call to ISensor_SetEventSink()
    
    Fixes https://github.com/libsdl-org/SDL/issues/5288

commit bcb0f1de2332c3bfa25d5cc484ac1786f55665eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 17 08:52:31 2022 -0700

    Fixed build when events are disabled
    
    Fixes https://github.com/libsdl-org/SDL/issues/5413

commit 01bfde4520ab9e61f25340df36433428567465ed
Author: pionere <pionere@freemail.hu>
Date:   Thu Mar 17 12:22:18 2022 +0100

    simplify SetDSerror
    - no need to keep the error in a static variable
    - always print the error code
    - reduce the required stack-size
    - reduce the number of snprintf calls (and code size)

commit 01663238dc5020c1822ce28467427ea1464fa23f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 17 14:56:50 2022 +0300

    testplatform.c: move static asserts out of TestTypes().

commit f0d2747df165dca20b815615fafc03bba315d23b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 17 14:56:04 2022 +0300

    use _Static_assert for SDL_COMPILE_TIME_ASSERT(), when available

commit dfbe1f7248649fdca86368bc51f3592931c8ebe5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 17 03:50:02 2022 +0300

    SDL_GetBasePath() fixes for OS/2

commit b2db570ce9dfc70c6bef4b70f5f9a24bbaf3d59f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 16 18:09:40 2022 +0100

    SDL_triangle_blit_slow: sync code with SDL_blit_slow to handle ARGB2101010

commit 93e7caab9a9c5a651c20b090ca3d9329d56bfd84
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 16 18:08:20 2022 +0100

    SDL_blit_slow: remove one nested 'if()' because of ARGB2101010 handling

commit 56568ffb38756684c0fc9c693ca1a1ed4c003f66
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 16 18:04:40 2022 +0100

    Remove 'reserved identifier' warning

commit 1c1f5c180fa8748b74123c28766306c8e2b578f6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Mar 16 17:15:20 2022 +0300

    imported two libtool mainstream commits 28fbcb6a and b55b1cc8

commit 2c6a9c5194d883a84c0f61fad1f4c4ada09e08b4
Author: pionere <pionere@freemail.hu>
Date:   Wed Mar 16 09:36:43 2022 +0100

    minor optimization (SDL_audiocvt.c)

commit 85dff3e453a456ee4d778a4e515e6a04dbe91f63
Author: pionere <pionere@freemail.hu>
Date:   Wed Mar 16 08:58:52 2022 +0100

    emscripten: obey enable-misc/SDL_MISC settings

commit 123b9aaa410bc9289f7de1b02c0f3c5cbcf372f2
Author: staphen <staphen@gmail.com>
Date:   Tue Mar 15 23:34:27 2022 -0400

    Adjust gradle dependencies to enable the build to position assets for the APK

commit 5905696e6606609e8ef5cd92e455ec0371fe0b96
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Mar 15 23:10:04 2022 +0300

    SDL_audiocvt.c: minor cleanup.

commit 61a93d3c464734941c35e62f997fcc05426657fd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Mar 15 23:10:02 2022 +0300

    minor whitespace cleanup.

commit d1e4367f58f59747de69787e6f33c7252fda63d8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Mar 15 21:41:02 2022 +0300

    SDL_windowskeyboard.c: fix build with SDL_DISABLE_WINDOWS_IME defined.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5408

commit 1ee196b483688a58dcf95ddf4c792d0f8cea17c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 15 13:07:34 2022 -0400

    INSTALL.txt: Say "macOS" instead of "Mac OS X" in modern times.
    
    Reference Issue #5407.

commit 90b13e14884058fb343bcdb71b972db09c3f6e10
Merge: c44966b78 67848b653
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 15 17:50:57 2022 +0100

    Merge remote-tracking branch 'refs/remotes/origin/main'

commit c44966b78ba21505805b46189b68c3056b917dc3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 15 17:48:38 2022 +0100

    Fixed bug #2691 - re-enable surface_testCompleteSurfaceConversion for ARGB2101010

commit f3e86b9fd38cc2727f75f509cea0a4235878b825
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 15 17:46:12 2022 +0100

    Fixed bug #2199: make SDL_blit_slow handles SDL_PIXELFORMAT_ARGB2101010, storing as RGBA

commit 67848b653109a565418f9d99e5f0a6d304777ffa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 15 09:25:01 2022 -0700

    Fix name of macOS platform and link to README file

commit 3bebdaccb7bff8c40438856081d404a7ce3def30
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 15 10:37:17 2022 +0100

    METAL: clip rect w/h must be <= render pass

commit 7c421fec16ccdc7cfb44b7f9120469d5e24db6e5
Author: Wohlstand <admin@wohlnet.ru>
Date:   Mon Mar 14 05:55:41 2022 +0300

    SDL_audiocvt.c: Don't byteswap 8-bit streams
    
    Otherwise, this results an assert on big endian machines when attenpting to use SDL_LoadWAV_RW function to load 8-bit WAV files.

commit 363c36781d48f07715b301dec82636feb5101a36
Author: Zach Reedy <zreedy@opera.com>
Date:   Thu Mar 10 17:12:33 2022 -0500

    Fixed: Incorrect assumption that mouse button is released when window is allocated

commit 7495b981414da2923229a87d9efd8328a4e9091c
Author: Guus Waals <_@guusw.nl>
Date:   Fri Mar 11 15:14:51 2022 +0100

    Make SDL_VIDEO_OPENGL_EGL optional on Android

commit 0ad606b48d07122cdd9767aaae93f99cf1d18a3c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Mar 14 10:43:18 2022 +0100

    Android: add comment to set render target to NULL when going to background (bug #4041)

commit ecc1c871e652f0d21d58466fc60ed4b87dacdbeb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Mar 14 10:10:40 2022 +0300

    SDL_endian.h: use endian predefs from newer gcc and clang versions.
    
    Closes: https://github.com/libsdl-org/SDL/pull/5403

commit ee6bfcdd66c107187acbc928c379572b95479ff6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Mar 13 20:56:42 2022 +0300

    SDL_blit_N.c: removed duplicated const (fixes bug #5401)

commit 3ab739afff789e7208dd9c62df1e3cc348530901
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 13 12:10:52 2022 -0400

    cmake: Make test code use proper C main functions.
    
    Fixes #5021.

commit 072db7b005ee19f8e53fd4d41491d6af8aa25790
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Mar 12 01:56:40 2022 +0300

    SDL_windowskeyboard.c (IME_IsTextInputShown): remove unused local vars.

commit 229297d97f134c2d385f2d5df24472cda9c3ee9d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Mar 11 22:47:04 2022 +0000

    Sync wiki -> header

commit d14a12638309a3cba55bbb245df3347379b86f8f
Author: Zach Reedy <86971250+zreedy@users.noreply.github.com>
Date:   Fri Mar 11 17:45:17 2022 -0500

    IME Composition Truncation + SDL_IsTextInputShown + SDL_ClearComposition (#5398)
    
    * Fixes for IME Composition Truncation + Addition of SDL_ClearComposition, SDL_IsTextInputShown
    
    * Fixed: Documentation and code style issues raised during code review.

commit 9de97e19ccd8f97989a78629fe08d47fb758c97f
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Dec 1 12:46:59 2020 +0000

    emscripten: Don't prevent default on filtered key events

commit afb0606f5ac9972954b8afc2cf1c540a1ddecde7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 10 18:50:10 2022 +0300

    minor os/2 clean-ups.

commit 50575aa18465f728240b52fcbe71ac7cf3f1207c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 10 18:50:10 2022 +0300

    Makefile.os2: fixed setting OS2DEBUG in CFLAGS.

commit 677dc1015c76b9185d3f16edd26e30abecc2bdc8
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Mar 9 19:43:29 2022 -0600

    rawinput: Fix double detection of gamepads on some 3rd party X360 wireless receivers
    
    The name that the Raw Input joystick driver pulls from the HID stack comes
    from USB string descriptors contained on the device. For official wireless
    receivers, this always contains "Xbox 360 Wireless Receiver for Windows"
    which matches the friendly name that WGI provides.
    
    3rd party Xbox 360 wireless receivers may have different strings in their
    USB string descriptors (one uses "XBOX 360 For Windows" instead). This
    fails to match WGI's name and causes Raw Input and WGI to both report the
    same gamepad.
    
    Since wireless Xbox 360 controllers seem to have a consistent VID/PID
    regardless of the adapter enumerating them, we can also match on that to
    catch these.
    
    The duplicate case reported to me was:
    Controller (XBOX 360 For Windows) - 030000005e040000a102000000007200
    Xbox 360 Wireless Receiver for Windows - 030000005e0400000000000000007701

commit bf698689242598b25352d2e59ebaa15dfad1dd2e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 10 01:55:04 2022 +0300

    reduced a few ifdefs, fixed an unused warning if built w/o SDL_HAVE_YUV.

commit 01d38e7ade03af620c2fafbdcb05a9771c9d6d7a
Author: Jo Bates <jo@valvesoftware.com>
Date:   Wed Mar 9 14:03:52 2022 -0800

    Make Win32 fullscreen and borderless windows minimizable

commit 09b652b70a448e2350c7d575f9091865d53b94ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 9 13:54:23 2022 -0800

    Make sure the string properties are actually strings (thanks Nat!)

commit c6eef542ab5b4b2bc4b8ca676f06624ddf92e2da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 9 13:48:31 2022 -0800

    Removed dead code

commit 911ba8d343274b8cf5941268b732031b4edee0ff
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 12:30:45 2022 +0100

    hide impossible branch in D3D_UnlockTexture

commit ea5b482bff7bca2f8e984bb9a941bbdaea385846
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 9 15:38:36 2022 +0100

    Remove unused warning

commit 45833a148dab6091bf5caed0062aaed0567edb2b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 9 15:33:45 2022 +0100

    Prevent shadowing static variable '_this' with local paramter '_this' of SDL_CreateWindowTexture

commit a4a80c86077c4e2de005f02b6102666c22821df3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 9 15:21:55 2022 +0100

    Fix variable may be uninitialized when used here [-Wconditional-uninitialized]

commit 04256a537255875dd4ba136b3a00b5bd7d15edc6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 9 15:12:25 2022 +0100

    Fix compilation (see #5313)

commit 0983fcee5ef6b7a56d308b4098379f3d2e591adb
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 12:28:37 2022 +0100

    fix memory leak in D3D11_CreateRenderer

commit 3f8b450de2bef4a447fe7ef3ff802f2040cc71e1
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 12:22:34 2022 +0100

    extend the code hidden by SDL_HAVE_YUV

commit ce1883e1e755f020dea34c7cbe56fcd7531382b5
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 12:12:21 2022 +0100

    fix compile error with disabled SDL_HAVE_YUV (vita)
    - UpdateTextureYUV is not defined if SDL_HAVE_YUV is not defined/zero
    + calling SDL_free suffice if the VITA_GXM_RenderData was just allocated

commit 14db417e122d9a8d842f851234b30030ba28ef22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 21:32:27 2022 -0800

    Reenable getting the serial number on macOS
    
    We filter now on game controllers, so we shouldn't hit the crash bug on random devices that this was working around.

commit c3ca3445bd43292f5f35058d86a64782ad03a286
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 18:56:49 2022 -0800

    Prefer HIDAPI on macOS, as that has extended functionality

commit 6a787619e6ffbf79d9c549d03633ef80ea9aab1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 18:42:13 2022 -0800

    Allow reading background events for MFi controllers

commit b064ad6ac50dcf96d43e8fb2408c1ba93d291987
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 18:14:10 2022 -0800

    Allow GL_ARB_texture_non_power_of_two environment variable to override OpenGL 2.0 check

commit 1b7669374e1a92088dcec4017c61caa57d475b5d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 09:58:24 2022 -0800

    Fixed the SDL controller type for USB_PRODUCT_XBOX_ONE_XINPUT_CONTROLLER

commit 41e7d1baa69c54cfc832feea606a7cea0010926a
Author: Mahyar Koshkouei <mk@deltabeard.com>
Date:   Sun Mar 6 23:02:57 2022 +0000

    Add SDL_GetDisplayDPI implementation on Emscripten
    
    Signed-off-by: Mahyar Koshkouei <mk@deltabeard.com>

commit f03215bc7091e7df1c945fb7b3113284e0a93e58
Author: Nick Cao <nickcao@nichi.co>
Date:   Mon Mar 7 15:54:24 2022 +0800

    fix linking with SDL_PULSEAUDIO_SHARED=OFF and SDL_X11_SHARED=OFF

commit b2463a917c5d3457c85af15624c35179ae75c830
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Mar 6 15:02:53 2022 -0600

    events: Add logging support for several missing event types

commit bdafe1e049bb939e50e7c61059ff5ed3c2bcc64c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 4 11:01:55 2022 -0800

    Fixed whitespace

commit 2e801b1ae786326ace0b38293824b90925f0f413
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 4 10:49:12 2022 -0800

    Split long text input into multiple events if needed (thanks @zreedy!)

commit 232c3556ac4ef7d007a12a2e43d168d61aadb036
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Mar 4 17:30:05 2022 +0000

    Sync wiki -> header

commit ae73ea9c0712c0ed4be1cd54556dd676743a8559
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 4 09:27:46 2022 -0800

    Clarified documentation for the trigger rumble API
    
    Fixes https://github.com/libsdl-org/SDL/issues/5372

commit 13756b5c72412fad4dea7f7473f0a713757fa6ac
Author: IOBYTE <reif@earthlink.net>
Date:   Fri Mar 4 10:47:25 2022 -0500

    Add X1 and X2 button support to mouse test

commit 2f7b885df954c130252e1a98b49ea0a7013c1dec
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Feb 28 16:30:34 2022 +0000

    Fix 'potentially uninitialized local pointer variable' error in UWP builds

commit b7f8117d406b6317eab4619a8b09324a37af8978
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Feb 28 15:47:59 2022 +0000

    Build the standalone MSVC projects with GitHub Actions

commit 550b8377bc6a895d6b4ff2dd3c1566cadf45e119
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Feb 28 14:50:37 2022 +0000

    Combine the MSVC and UWP workflows

commit 98353533e51e2ea90768c9c43f1d08296cd434f7
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed Feb 23 18:54:31 2022 +0000

    riscos: Report keyboard repeat events

commit af40cb6f006ccdb46f6db1c3f7b0cf6e187f0f0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 23 15:49:10 2022 -0800

    Added support for the Razer Huntsman Analog keyboard in controller mode

commit 669a7f855268deddbc040dcbf0833110a1a1719d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Feb 23 16:18:05 2022 +0000

    Sync wiki -> header

commit 4a43321c81c085a11652188cd118a884a6c85814
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Feb 23 18:10:02 2022 +0300

    cmake: Fix bug #5361.
    
    src/joystick/*.c wasn't unconditionally added to source list even though
    joystick is an SDL subsystem. Also removed the `SDL_JOYSTICK AND NOT APPLE`
    condition from src/joystick/dummy/*.c source addition: the OSX unresolved
    symbols issue, if it really is there, should be fixed separately.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5361, i.e. build failures
    when SDL_JOYSTICK and SDL_HAPTIC are disabled.

commit 94d43186f2b366dd83598d863a6af6fdb68e14ee
Author: Phillip Stephens <antidote.crk@gmail.com>
Date:   Tue Feb 22 00:41:15 2022 -0800

    GameCubeAdapter: Add suppport for all rumble modes
    This adds support for all 3 of the gamecube controller's rumble modes
    Rumble: 1
    Stop: 0
    StopHard: 2
    This is useful for applications that need the full range of support
    This also adds a hint to control rumble behavior, defaults 0 to maintain compatibility

commit b946e31ec8358df21c11edbb57c5f6a2f3a5efdb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 23 09:10:46 2022 -0500

    video: Allow unaccelerated SDL_HINT_FRAMEBUFFER_ACCELERATION renderers.
    
    If the app requested a specific renderer, even if it's not the optimal path,
    let them have it, because they might want to render with a specific GPU API
    on top of the framebuffer pixels.
    
    This fixes DosBox-X crashing on startup, which forces the hint to "opengl".

commit 60ddb74cfe6b8c20a1e0c6afa473990c6467ea40
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 2 12:19:37 2022 -0500

    video: rework how we prepare a texture framebuffer.
    
    Now we see if we can create an SDL_Renderer, and if that renderer reports
    itself as "accelerated," and added some initial heuristics to the OpenGL
    renderer to make better decisions about what qualifies as "accelerated."
    
    This adds some FIXMEs that might be merely hypothetical, and removes the
    old OpenGL checks from the video subsystem that probably weren't meaningful
    in modern times. This will definitely need to improve the existing list
    in the GL renderer, to catch things like llvmpipe, etc.
    
    Reference issue #4624.

commit 08d27dfd7b53717650d3f36ffd81a2c0c8e3cc8a
Author: Wohlstand <admin@wohlnet.ru>
Date:   Tue Feb 22 15:27:30 2022 +0300

    SDL_openslES.c: Detect float support in runtime and use it
    
    Allow using of the float output type on newer Android devices, but keep PCM16 output on older
    
    Closes #5358

commit 293a0aa80e0c74712e73e17b2139bfe0c2df49c9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 22 10:54:21 2022 -0500

    opengl: If GL version >= 2.0, NPOT textures are supported, so favor them.
    
    Fixes #5041.

commit 9299a3e796719c25c40adcc1eb7c33f392f47437
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 21 16:24:45 2022 -0800

    Workaround for crash in CoUninitialize()

commit 978fbc3250c27cf645d87a55f4ba941013cd4567
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 21 12:02:44 2022 -0800

    Fixed compile warnings

commit 6c531c43340af909b95d0814456ef2b828b1ea3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 21 11:35:31 2022 -0800

    Correct handling of sentinel events when polling without removing events
    
    Fixes https://github.com/libsdl-org/SDL/issues/5350

commit d90bd261f3a5fa8060dde934cac259f1da15658c
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed Feb 16 13:26:10 2022 +0600

    wscons: Make USB keyboard input layout independent

commit 9d86ec85730e98f6f4d7827f4fda806e9c134f0d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Feb 18 09:57:10 2022 +0100

    Palette format: software Render Jitter in rotation (see #5143)
    - same fix applied for rotation with palette surfaces
    - allow other 8bits format (eg 332)

commit ceb09ee74099a0f64695b57246e4a1e8724a536b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 17 23:11:02 2022 +0100

    Fixed #5143 - software Render Jitter in rotation
    better precision calculating rotated coordinates and interpolation

commit 18032979d892639ad4e03584a40a4d205cd2f5fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 15 13:07:51 2022 -0800

    Added the hint SDL_HINT_JOYSTICK_ROG_CHAKRAM to control whether ROG Chakram mice show up as joysticks
    
    This hint defaults off, but when it is enabled the mice will have a game controller mapping set up for Profile 3 (set in the Armoury Crate software)

commit 75ffa24e3a87789105a2f01915a8979694c371a7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 15 13:35:59 2022 +0100

    Software Render Jitter in rotation (bug #5143)
    The output surface doesn't necessarily to have even width and height.

commit 61abc4e5b64c390d7c7c1ff25fa0e2b755fc34eb
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 15 11:34:50 2022 +0100

    PSP: SDL_RenderCopyEx rotation and global scaling around the wrong way (see #bug 3070)

commit 18b76fcc5dca9c7f5c4ce1ac5eaee041e6d68bd3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 15 11:33:56 2022 +0100

    Fixed bug #3070 -  SDL_RenderCopyEx rotation and global scaling around the wrong way (software renderer)

commit e366ad128831fbc14646d3a606709ab52e142c46
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 15 10:02:34 2022 +0100

    Fixed bug #2308: SDL_RenderCopyEx rotation center precision (software renderer)

commit 66ee79bd68335b9725fd94defc3e5ac5ff3c4249
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Mon Feb 14 10:59:25 2022 +0100

    [PSP] Don't swizzle streaming textures
    
    It was causing issues in the teststreaming demo and unswizzling
    later is inefficient and causes issues.

commit f97a29f6e12fdeb0bd223808bde5781962b31b40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 11 22:10:33 2022 -0800

    Use the real device VID/PID when seeing the Steam virtual controller

commit 85e6500065bbe37e9131c0ff9cd7e5af6d256730
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Feb 11 11:08:08 2022 +0100

    X11 Segmentation fault with multiple windows and renderers (see #5256)

commit 4cb618180870f2af93ac4377c1ec821c54b75c6d
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Thu Feb 10 18:58:50 2022 +0100

    Do not build loadso test eboot for PSP

commit a75041e8dd820b89e746c737f58d0163e100a3e6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Feb 10 13:44:59 2022 +0100

    Fixed bug #2140: basic support to convert 16 colors palette PIXELFORMAT_INDEX4, to allow conversion to SDL_Texture

commit abc8198a1fa87def8a6e23f39f076ae97d2fca58
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Feb 9 18:07:46 2022 +0100

    Render all sides when drawing rect on PSP

commit 5b41844c75a93f0091dba0e64df3e6d5f9829f7d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 9 09:50:41 2022 +0100

    Fixed bug #5322 - register virtual input devices as SDL_Touch device, fix compilation

commit 3a9bbf604e0d54ad36e5f7c1762f4bb52e911f5a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 9 09:37:36 2022 +0100

    Fixed bug #5322 - register virtual input devices as SDL_Touch device because
    they can send SOURCE_TOUCHSCREEN events even if getSources() doesn't declare them.

commit 59f1e2875a27e05fff1e89554353d4ad4d1eb142
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 18:00:58 2022 +0100

    Android: add debug function to display class/sources

commit 228db35287e23924412ae581e4219d13a0bf4fd3
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 8 13:29:40 2022 -0500

    audio: pipewire: Tidy up formatting

commit 9da9e85cba08b8fad35044c12fdefecd8c8ebcf2
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 8 12:59:01 2022 -0500

    audio: pipewire: Reset all hotplug values and pointers on shutdown
    
    Ensure that all hotplug variables and pointers are reset to NULL or their original value when shutting down.

commit 5b36a527edabaccb481a88e4aaecbf0bd95315cf
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 8 12:30:28 2022 -0500

    audio: pipewire: Remove redundant locks
    
    The io_list_check_add() and io_list_remove() functions are only ever called from within the Pipewire thread loop, so the locks are redundant.  io_list_sort() is called from within a lock in the device detection function, so those additional locks are redundant as well.

commit 48b4d1c412b08df423fa3f2805836f6442ce0fb2
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Feb 8 12:20:52 2022 -0500

    audio: pipewire: Convert atomic hotplug conditional variables to SDL_bool
    
    The hotplug loop condition variables are always guarded by the loop mutex while the loop is running, so they don't need to be atomic.

commit 67f12ede3ba88814dd1258d73d9879e945aa4a9b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 8 21:32:50 2022 +0300

    move bug #5333 fix to headers

commit 54304b971d33e796366e7abce94f9bc39c67648d
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Feb 8 18:31:43 2022 +0100

    Fix rotation direction and center point on PSP

commit 2b572dff88ef2519bfde876a148771f2ee3a2ad1
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Feb 8 18:03:11 2022 +0100

    Make RenderCopyEx rotate around center
    
    This still isn't perfect. The rotation is the wrong way around and the
    images are upside down.

commit 2df2da11f627299c6e05b7e0aff407c915043372
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 17:51:40 2022 +0100

    Android: handleMotionEvent() is checking for SOURCE_JOYSTICK. So don't handle DPAD GAMEPAD (see #5322, #2718)

commit 1fc5dba3d576814b9ffda1ebd06b8ea5275f3115
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 17:41:17 2022 +0100

    Android: test for SOURCE_KEYBOARD / SOURCE_MOUSE. Don't compare to 0, since there are several bits (see #5322, #2718)

commit 7935cfacc52a33a164880e3e8d3df4021e737fc7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 8 18:55:10 2022 +0300

    SDL_mfijoystick.m: use __typeof instead of typeof.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5319

commit 9b817248c52a1e5c79e318dde210c52760fc6b61
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 8 18:50:02 2022 +0300

    SDL_spinlock.c: define HAVE_GCC_ATOMICS for windows/clang builds,
    
    ... if not already defined.
    Fixes https://github.com/libsdl-org/SDL/issues/5333
    
    diff --git a/src/atomic/SDL_spinlock.c b/src/atomic/SDL_spinlock.c
    index bdd347e..4f10741 100644
    --- a/src/atomic/SDL_spinlock.c
    +++ b/src/atomic/SDL_spinlock.c
    @@ -28,6 +28,12 @@
     #include "SDL_mutex.h"
     #include "SDL_timer.h"
    
    +#if defined(__WIN32__) && defined(__clang__)
    +# ifndef HAVE_GCC_ATOMICS
    +# define HAVE_GCC_ATOMICS 1
    +# endif
    +#endif
    +
     #if !defined(HAVE_GCC_ATOMICS) && defined(__SOLARIS__)
     #include <atomic.h>
     #endif

commit f18571120367077b25100f8e3c9ddb9e36cefb94
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 16:18:01 2022 +0100

    Fixed bug #5310: Android, Undefined reference to AAssetManager_fromJava

commit 68dd84f1de159b2e6ae1d5a23f842ee87f8a175a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 11:42:24 2022 +0100

    Android: TouchDevice -1 is reserved for SDL synthetic devce (See #5322)

commit 94e5c3f30e3aba8aef0752987850d39cd8ea0e1b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 11:38:34 2022 +0100

    testgesture: display device name with SDL_GetTouchName()

commit 580d231822b20b52ce36dfc2918b691cadf5ac84
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Feb 8 10:37:04 2022 +0000

    Sync wiki -> header

commit e7e44df0394dc2ac5e696ef4e4ca5da9ae66d1ba
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 11:34:41 2022 +0100

    Dynapi: add SDL_GetTouchName() entry

commit 34d4f5b14e5b009e94ff752f3c4e2c37033b78c4
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 8 11:32:20 2022 +0100

    Fixed bug #2032: add SDL_GetTouchName to expose the driver name of the device (Thanks @mgerhardy!)

commit 8ce003a42c2ef82b713a21ccf65750d955ff63ef
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Feb 8 00:25:41 2022 +0300

    Vita: credit cpasjuste

commit 14bc3bf4ec3e2346ac5bfa831f7ccc6ad4e296f0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Feb 7 22:20:05 2022 +0100

    Android: fix typo to register TOUCHSCREEN device (see #5322, #2718)

commit 53091e36a3b418e33133bae2f018954c006f86b8
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 2 12:30:34 2022 -0500

    audio: pipewire: Remove the hard upper bound on rates and buffer sizes
    
    Remove the hard upper limit of 8192 samples and instead use the buffer sizes provided by Pipewire to determine the size of the intermediate input buffer and whether double buffering is required for output streams. This allows for higher latency streams to potentially avoid double-buffering in the output case, and we can guarantee that the intermediate input buffer will always be large enough to handle whatever Pipewire may deliver.
    
    As the buffer size calculations occur in a callback in the Pipewire processing thread itself, the stream readiness check has been modified to wait on two distinct flags set when the buffers have been configured and when the stream is ready and running.

commit 66866249a2699c46fb06d749f97bae2bc073c732
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 2 11:09:02 2022 -0500

    audio: pipewire: Condition variable doesn't need to be atomic
    
    The condition variable is guarded by a mutex, so no need for it to be atomic.

commit 0cb39ed4685473928b01682f875f7bb086fbe465
Author: Luke Street <luke.street@encounterpc.com>
Date:   Mon Feb 7 04:11:14 2022 -0500

    cmake: Fix SDL_LIBUSB_DYNAMIC soname

commit b0dd4c7d368e9106bcdee237bd83215a6e190a70
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 10 09:22:07 2022 +0100

    SDL_Render OpenGL: do batching like in the GLES2 backend (with no VBO)

commit 90f0d2ce4924aa5f2bedbe88747ba11ee33f7d02
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Jan 10 09:17:50 2022 +0100

    Revert OpenGL point drawing performance, do to proper batching

commit 423feac69b7db9b8eaca486c766a75bccea8353a
Author: waddlesplash <waddlesplash@gmail.com>
Date:   Sat Feb 5 21:23:40 2022 -0500

    haiku: Actually remove BDirectWindow and fix OpenGL handling.
    
    This provides the other half of 05c72b113c830392f8b08532317ef07972b29a2e.

commit 9403543671112f10cf64b004e90aea16fc8d20d6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 5 18:50:00 2022 +0300

    cmake: enable_language(OBJC) only for APPLE

commit 3c9ac4489eef3aaf973754dc816950ba90243863
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 5 18:45:50 2022 +0300

    cmake: enable_language(OBJC) to fix check_objc_source_compiles().

commit 686a0f34562587f2da41e2792b086af33a0a5d0c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 5 18:28:24 2022 +0300

    cmake: include CheckOBJCSourceCompiles for cmake >= 3.16
    
    c.f. bugs #5011 and #3912

commit 6d5592a2018990235471d15de65245348710eade
Author: pionere <pionere@freemail.hu>
Date:   Sat Feb 5 12:02:54 2022 +0100

    minor cleanup of SDL_CreateRenderer

commit e8c48981f9a9685bfd93aecca1a19bebda4d4d3c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 5 08:56:56 2022 +0300

    pthread/SDL_systhread.c: always include errno.h
    
    fixes build for several targets after commit 87b02d3 for bug #5283.

commit 5c4fff7f639c1299172ecc755227de38ff0e3431
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 4 14:02:44 2022 -0800

    Don't fail to get battery status if the upower refresh call fails

commit c8cee0b8ca24c6dc77512dba0ce070d02b0cc796
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 23:28:56 2022 +0300

    OS2_HasClipboardText: store the boolean result before closing clipboard.
    
    just in case..

commit b5614d0c6e81fd1e127ad0444765a6e5a7a6ef3d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 20:05:14 2022 +0300

    cmake: fix UWP joystick.
    
    from: https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/0005-Fix-uwp-joystick.patch

commit c93e552068d14da2a5a8f77f11238ff288978fd2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 20:03:50 2022 +0300

    minor update to winrt/SDL_sysurl.cpp
    
    from: https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/0006-Update-SDL_sysurl.cpp.patch

commit 050a5e1a15368fe96f96f8c176ea6c427ad98306
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 20:02:20 2022 +0300

    removed unused SDL_config_wiz.h

commit c459eceee148896c7fa2b08266e363b447873ff0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 19:50:50 2022 +0300

    removed unused Makefile.wiz

commit 3b9e6c1cecdbf6a58fee9d585956bffb4614c15d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Feb 4 19:50:20 2022 +0300

    SDL_os2video.c: fixed HasClipboardText() semantics.
    
    Empty string in clipboard is expected to give FALSE by SDL_HasClipboardText.
    Noticed in a commit by josch1710 in bitwiseworks' os/2 fork.

commit 86b7a0642fcd8c3deb39c074cc61e433fbb8061f
Author: Joshua Ashton <joshua@froggi.es>
Date:   Fri Feb 4 16:40:05 2022 +0000

    Add additional VID/PIDs for Anne Pro II
    
    This thing changes its VID/PID on firmware revisions...

commit dd69c28d6f0f8597f93d720c00b76740382de944
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 3 18:01:34 2022 -0800

    Added a mapping for the Xbox Series X controller, firmware version 5.11.3118.0, connected to Linux via Bluetooth

commit b59e75c2599124a6403db246f8a9ce53d5d9fb47
Author: Temdog007 <temdog007@yahoo.com>
Date:   Wed Feb 2 19:21:34 2022 -0700

    Handle menu button press from controller

commit 2005dd95953225dc4221322c10b08bc0ee89941c
Author: Ravbug <ravbuganimations@gmail.com>
Date:   Wed Feb 2 17:06:52 2022 -0500

    UWP build (#5299)
    
    * Add UWP-x64 action
    
    * Fix formatting
    
    * Fix missing -

commit 2cfc83eab775327dc275a356d43cfc6fe32d7ad2
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 22 17:10:37 2022 +0100

    sync D3D_RenderReadPixels with D3D11_RenderReadPixels
    
    - use the result of SDL_ConvertPixels to propagate error
    - get rid of the verbose error message of D3D11_RenderReadPixels in case SDL_ConvertPixels failed

commit 3bef4a5da6df4dc87fa45b7e9d1b6cab74d3637a
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 22 15:43:09 2022 +0100

    cleanup error-handling in SDL_egl.c
    
    - always set error message in SDL_EGL_ChooseConfig / SDL_EGL_CreateContext
    - assume SDL_EGL_DeleteContext does not alter the error message
    - sync generic error message of SDL_EGL_MakeCurrent with SDL_EGL_Get/SetSwapInterval
    - do not overwrite error message of SDL_EGL_ChooseConfig in WINRT_CreateWindow

commit b5c50526083947f01ebf7e425404e2a2ab81a293
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 22 15:34:22 2022 +0100

    cleanup error-handling in SDL_bmp.c
    
    - add missing error-message in SDL_LoadBMP_RW
    - check return value of SDL_RWtell in SDL_LoadBMP_RW
    - use standard SDL_EFREAD error instead of custom strings
    + adjust return type of readRlePixels

commit 19df4af2aa2e933160468cde8f1b4feed1c6dc71
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 22 10:33:38 2022 +0100

    simplify SDL_DUMMY/OFFSCREEN_CreateWindowFramebuffer

commit ecd922b5cf9a6acff91f952b8da3068c776e57a1
Author: SonicMastr <jaylongowie46@gmail.com>
Date:   Tue Feb 1 22:33:13 2022 -0600

    Fix touch holding detection after #5244 changes

commit df0d696a620bf0bcf946c680ec43f31ee02136cb
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 2 15:22:14 2022 +0100

    RISCOS: attempt to fix compilation ERANGE

commit 87b02d3795cef947360bd24519bb0d0fa777243f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 2 15:09:29 2022 +0100

    Linux thread name limitation: test for ERANGE (see bug #5283)

commit daea9fa19e5901babcafd872fdfc3e7f4a57689f
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Feb 2 08:18:22 2022 +0100

    Remove SDL_config_psp and references

commit ff5f5d0ef49479cd870e3a2111269a6602330331
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Feb 2 08:16:45 2022 +0100

    Updating Readme-psp info

commit ec632aba1556d67f6cb71df79388eda05430e3c3
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Feb 1 22:44:44 2022 +0100

    Remove legacy and unused Makefile.psp

commit 220a9596f396248bf012131670a06f09411a7392
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 2 10:01:11 2022 +0100

    Remove testing instruction (see bug #5283)

commit 9e46a512b15a1d096858e8f15e121b6d59f2129b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Feb 2 09:58:15 2022 +0100

    Fixed bug #5283 - limit thread name to 16 characters when using pthread_setname_np()

commit b11dfd761181ab5005fe3f5527faa4faf6b56112
Author: Weng Xuetian <wengxt@gmail.com>
Date:   Tue Feb 1 14:43:26 2022 -0800

    Only generate key repetition for keys that should repeat on wayland.
    
    This fix repetition on modifier keys, e.g. Control.

commit a90a2e7582a73f7b69b14437287aa15945bf5989
Author: Weng Xuetian <wengxt@gmail.com>
Date:   Sun Jan 30 16:44:44 2022 -0800

    Fix text_input_v3 preedit string
    
    For every batch of text_input_v3 updates, if there is no preedit in this
    batch, preedit should be cleared.

commit 03c4405b3b5fac46a86ec8c6c20884db490b478a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 1 09:32:38 2022 -0800

    Fixed D-Bus battery refresh call

commit e1cf8d87482712ee1daa144f48d32903c0dc1e9f
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Feb 1 16:58:05 2022 +0000

    Sync wiki -> header

commit 4fa21dd65b0a100fe39903dfc05b25c2646d4965
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Feb 1 10:37:05 2022 +0000

    Sync wiki -> header

commit d46cc18afc5452e82b684bf85946a7fa625e7a3c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 1 11:35:26 2022 +0100

    Fix function comment

commit d224a63bda6a109c6b2cd63100d9fd6d98a49485
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 1 11:33:35 2022 +0100

    Fix compilation for non Android

commit 61b6a2cad49e88baa11e6956c68aed2a8831f54d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Feb 1 10:33:04 2022 +0000

    Sync wiki -> header

commit fe2ed6cf6f355b821bae157abd98a11dce09d38e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Feb 1 11:30:43 2022 +0100

    Fixed bug #5221 - Add SDL_AndroidSendMessage()

commit 97269e143d06d75415d7d501f3ecc278608d677e
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 18 17:51:17 2022 +0100

    adjustments to ime_candidates
    - allocate ime_candidates on demand
    - allow write to the whole allocated memory of ime_candidates
    - ensure ime_candcount is set to zero in case the candidates can not be queried for any reason

commit 6f404d0f04c72605cf3b1958ec05d16317b3ea63
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 18 17:49:33 2022 +0100

    cleanup IME_GetCandidateList / UILess_GetCandidateList
    - move IME_ShowCandidateList, ImmGetContext and ImmReleaseContext to this function
    - set ime_candpgsize to MAX_CANDLIST if dwPageSize is zero
    - comment out deselection of ime_candsel in case of korean language for the moment (LANG_CHT does not work anyway)

commit ec8e3104c8232be0381a91dbcd4d71668bdd6f6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 31 17:01:08 2022 -0800

    Refresh the battery state before we query it on Linux

commit 0b34f18045a1ea89b06fc9c71dc828e8c257fb30
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Jan 30 12:00:55 2022 -0500

    audio: pipewire: Don't double free properties on init failure
    
    The context and stream creation functions will destroy the passed properties object on failure, so no need to do it manually.
    
    The pw_properties_free() function pointer is no longer needed, so it can be removed.

commit f7d3abddba774b775d6285e1dfb131a578900549
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Jan 29 10:19:08 2022 +0100

    Fixed bug #964 - SDL_RenderCopy stretch loses proportion on viewport.
    Handle the case when there is blending

commit 8b139e26a3d40b35902203e4192e9fa1c3ee83e4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 29 10:33:50 2022 +0300

    regenerated configure script.

commit a5c610b0a3857d3138f3f3da1f6dc3172c5ea4a8
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:28:02 2022 +0100

    revert 'Changed to use 0xFE instead of 0xFF for better sound quality.'

commit 43f0271b4e74072c231fa020f37ecd01ad4efeaa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 24 08:56:33 2022 -0500

    Revert "fix compiler warnings in SDL_windows_gaming_input.c"
    
    This reverts commit ca36cdb185f2f26241598068927821896f36b904.
    
    The older Windows SDK's headers are wrong, and this change would crash if
    you hotplug a device.

commit a70bb259c7a78ba5b802abadbffbc56228449b50
Author: pionere <pionere@freemail.hu>
Date:   Thu Jan 20 13:16:03 2022 +0100

    drop handle parameter of OpenDevice

commit 47ddb04e17d96170e0d5f92ab33d686fb2df42ab
Author: pionere <pionere@freemail.hu>
Date:   Thu Jan 20 12:31:02 2022 +0100

    cleanup/sync the main loop of *_OpenDevice functions to pick audio format II.

commit 2eafe4340cbaf4afe5563c1d5d66a58385ada812
Author: pionere <pionere@freemail.hu>
Date:   Thu Jan 20 12:18:59 2022 +0100

    cleanup/sync the main loop of *_OpenDevice functions to pick audio format

commit 3939ef72f8381fe436b3f4438367421c027c5270
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 17:23:53 2022 +0100

    cleanup SDL_GetAudioDeviceSpec
    - drop unnecessary hascapture check
    - call SDL_InvalidParamError and return -1 in case the index is out of range
    - do not zfill SDL_AudioSpec
    - adjust documentation to reflect the behavior

commit 113109f8392b609a32534e488edaf82fa4d07cda
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 17:18:47 2022 +0100

    cleanup SDL_GetAudioDeviceName
    - drop unnecessary hascapture check
    - call SDL_InvalidParamError in case the index is out of range

commit f91211eb1700a53bcacdad73768c35672a446958
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 14:51:42 2022 +0100

    cleanup WASAPI_PrepDevice
    - reorganize the loop which checks for the right wave-format
    - use the return value of UpdateAudioStream
    - ensure SetError is called in SDL_NewAudioStream

commit c9e8d1573a140e3d9a0ac848479f25bce38ee01f
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 12:59:35 2022 +0100

    re-use return value of SDL_SetError/WIN_SetErrorFromHRESULT/SDL_OutOfMemory II.

commit 1043dd8c0d8a80a2df5b7003f84713af29749db2
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 12:58:04 2022 +0100

    adjust handling of iscapture
    - drop iscapture parameter of OpenDevice
    - use SDL_bool for iscapture

commit e2f70a2dffb21ca48ca0535a5af66dc7390f2035
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 19 12:51:26 2022 +0100

    cleanup SDL_EventState

commit 32c7d5d3522e43af2a5cffcd5f824f6a956b2ec8
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 18 17:44:51 2022 +0100

    cleanup IME_UpdateInputLocale
    - do not store the HKL in a static variable
    - always set the ime_candvertical value in case the HKL is changed

commit 25aa7244dce9f0f4fcfdeac7a82cec2107565de5
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 18 17:43:31 2022 +0100

    cleanup IME_GetId
    - use assert instead of a check (it is a static function with constant parameter)
    - assume it is called with 0 first (simplifies the logic)
    - reuse dwLang value instead of a new 'call' to LANG()

commit 60deadba599967e57bd7f4043c5e76ee63bfb7f4
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 17:22:30 2022 +0100

    re-use return value of SDL_SetError/WIN_SetErrorFromHRESULT/SDL_OutOfMemory

commit ebdd5366762d45a6510678a6802e3ccab113a416
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 16:26:02 2022 +0100

    use SDL_InvalidParamError or SDL_assert instead of custom SDL_SetError

commit 4a17612bffd07e6e1925ef9905c4ebebf4eecfd9
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 12:04:32 2022 +0100

    get rid of BeginLoopIteration

commit 0770c5829c88b4d20c93abd8a7b8c14cb7c3dbdf
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 11:48:26 2022 +0100

    get rid of PrepareToClose

commit e0236c02cea9c27a80444c2c423f9da2356f38ba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 23 01:28:36 2022 -0500

    audio: Removed an unnecessary commented-out line.

commit 0dda8a7f4cdbcdccc78979ec808777b027645ac6
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 11:21:01 2022 +0100

    cleanup init functions of audio
    - use SDL_bool if possible
    - assume NULL/SDL_FALSE filled impl
    - skip zfill of current_audio at the beginning of SDL_AudioInit (done before the init() calls)

commit 6fcfcc3d6fc520d0f5d3c6a6e0fe04d8aeb6d3aa
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 11:00:03 2022 +0100

    get rid of SkipMixerLock

commit 3c85cef46c610fff0af07ec29a1af27fd7e5ce96
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 17 09:58:16 2022 +0100

    cleanup SDL_RegisterApp
    - fix memory leak when RegisterClassEx fails
    - set style according to the documentation
    - eliminate duplicated SDL_Instance setter

commit 0af391cbe909628dc5a4c3f02fd006ca708de528
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 15 17:07:20 2022 +0100

    build with Release config on push and pull_request

commit ff2d62d89f0a9ba81a96a6da3aef1505a17434f9
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 15 12:27:25 2022 +0100

    dlopen is not a subsystem

commit a633a3c33ef9a82e73ff1242466b8f84a00045e2
Author: pionere <pionere@freemail.hu>
Date:   Thu Jan 13 09:33:20 2022 +0100

    add audio/video dummies if nothing else available II.

commit 398f9a0e40419d44c5338ee4ce03ab461c9b1976
Author: pionere <pionere@freemail.hu>
Date:   Thu Jan 13 09:32:41 2022 +0100

    fix have_audio/video flags, add uikit to SUMMARY_video in configure

commit fa8075c4fc9816d30890086b826a27e639d636e8
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 17:21:06 2022 +0100

    add audio/video dummies if nothing else available

commit 39c723fc9cecc6dafca5e23c57725efa87c5a933
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 17:18:37 2022 +0100

    fix HAVE_SDL_VIDEO flag of CMakeLists.txt [IOS OR TVOS]

commit 3dba2a73f11a583ba5cb4d5da37218b45850787f
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 17:17:48 2022 +0100

    fix HAVE_SDL_AUDIO flag of CMakeLists.txt II.

commit 014e2bbdb275ad48b0bf5057e89f4bf7c4cb4dfc
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 16:40:52 2022 +0100

    use SDL_COMPILE_TIME_ASSERT instead of SDL_STATIC_ASSERT

commit 3936af99d88fd6cf9bdb914381d18e52498f25e3
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 16:31:00 2022 +0100

    fix HAVE_SDL_AUDIO flag of CMakeLists.txt

commit 21510387cf952cbc126ca175df06375a89e77bb9
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 13:05:12 2022 +0100

    fix CMakeLists.txt vs. configure inconsistencies
    - atomic subsystem is disabled by default (changed in configure)
    - SDL_WAYLAND_LIBDECOR is disabled by default if SDL_WAYLAND is not set (changed in CMakeLists.txt)

commit 95f30c7a48af4e9d9e20cfa2ac5a1fcfefa2f1c3
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 10:12:54 2022 +0100

    fix compiler warnings in video/uikit

commit 11cdde01f3817921092cf6076762a4d97faf7d1e
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 10:06:22 2022 +0100

    fix MacOS build with disabled SDL_SENSOR
    + get rid of the double-check (SDL_HAPTIC depends on SDL_JOYSTICK)

commit 176941a4fbfe224941c16223ab83811faa555b9c
Author: pionere <pionere@freemail.hu>
Date:   Wed Jan 12 10:02:52 2022 +0100

    allow MacOS build without SDL_FILE

commit b1b2ad725cc6549e72134a539913456592a8d275
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 11 12:30:15 2022 +0100

    sync handling of subsystems II. (+)

commit eb80f2c65ab81dde522a83fabf4881469a8364d2
Author: pionere <pionere@freemail.hu>
Date:   Tue Jan 11 10:45:41 2022 +0100

    sync handling of subsystems II.

commit 65e9415b98cbd96809702b6814b62004aa383631
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 10 17:00:32 2022 +0100

    sync handling of subsystems
    - add DUMMY-define in case the subsystem is enabled but not available (filesystem/misc/locale)
    - add missing PSP/VITA-filesystem defines
    - sync the order of filesystems in SDL_config.h.cmake/in
    - add option to disable locale subsystem in configure

commit ea8cf4bd0fc4f3d3101ade0eeddd17bfa8e0610c
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 10 16:36:02 2022 +0100

    add 'Misc' subsystem II.

commit 118de862028c17dad4df97b96293ab8088323c1b
Author: pionere <pionere@freemail.hu>
Date:   Mon Jan 10 15:39:42 2022 +0100

    more conform vulkan/metal configuration

commit 606d2ea87fc37755acfc32d23f302fa3afbe8968
Author: pionere <pionere@freemail.hu>
Date:   Sun Jan 9 17:00:41 2022 +0100

    bugfix for "add 'Misc' subsystem"

commit 998117b3ff80640fb2840522fddfef13417aa62f
Author: pionere <pionere@freemail.hu>
Date:   Sun Jan 9 16:00:22 2022 +0100

    add 'Misc' subsystem

commit 942b01a54c6c2d2c9e48e587bcccaa7659a1cc9e
Author: pionere <pionere@freemail.hu>
Date:   Sun Jan 9 15:08:21 2022 +0100

    do not use RWOps in WIN_SetWindowIcon

commit 739f350f453c0e57fefe74e446438e067cbd4fef
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:35:52 2022 +0100

    add SDL_LOCALE_DISABLED to SDL_config.h

commit bf66720a4d5feeb1d06dcb1d1a0156ac015bba4b
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:22:28 2022 +0100

    fix mixing of U16 audio

commit 905e2e22efedb09df07b83adcb3813fa2785d0e8
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:15:53 2022 +0100

    cleanup of SDL_MixAudioFormat

commit d7110b449021f83cdaa31ef6ffaa7c4a7aaaac73
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:07:16 2022 +0100

    fix compiler warnings in SDL_windows_gaming_input.c

commit e11ba0f5d9df9714464b78dca156fbfa862b468b
Author: pionere <pionere@freemail.hu>
Date:   Sat Jan 8 12:03:57 2022 +0100

    do not load/unload opengl library when SDL_WINDOW_METAL flag is changed

commit f5911bdc595f3eb6a53bfc9d7f010fe252a9ebfd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 28 15:31:56 2022 +0100

    GLES2: disable texcoord when not using it (see bug #5235)
    similar to opengl backend code:
    - glDisableVertexAttribArray doesn't need to depend on 'drawstate.texture' value
    - move binding code to SetCopyState()

commit 096fe37bb2bdc284484e9baea8a4f442865d748e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 28 14:19:10 2022 +0100

    GLES2: revert https://github.com/libsdl-org/SDL/commit/7bf8c5a388bc41dde830e4baabcb53d507e64448

commit a988ce55444d421850d5fb8593703b5e83b27be7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 28 17:24:59 2022 +0100

    Fixed bug #964 - SDL_RenderCopy stretch loses proportion on viewport boundaries

commit 7bf8c5a388bc41dde830e4baabcb53d507e64448
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Jan 27 14:19:52 2022 +0100

    GLES2: disable texcoord when not using it (see bug #5235)

commit 5b7445925595fafdc0c83c0e4c3e7f1f3bd385f8
Author: Vitaliy Zhmurikov <vitfunk@yandex.ru>
Date:   Fri Jan 28 06:11:28 2022 +1000

    Update SDL_joystick.c
    
    Add Logitech Momo Racing Wheel VID & PID  to SDL_IsJoystickProductWheel function

commit 19ae71b2db3be88b3c363531ac015a56f62781d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 27 11:48:32 2022 -0500

    video: Don't add SDL_WINDOW_(METAL|OPENGL) to new windows if unsupported.
    
    Fixes #4656.
    
    (Better than the previous fix in 3044310518dbb2d4814b32c6521f332b8d69aae5.)

commit d7e0c54dde1df08e543d2477f87df5574a28c718
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jan 27 10:29:45 2022 +0300

    PSVita: send initial SDL_JOYDEVICEADDED events

commit cc40f732f9482eb45a1938a23d4f34265e78a729
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Jan 26 21:09:39 2022 -0600

    wayland: Round the refresh rate rather than truncating it
    
    A 59999 mHz monitor should be reported as 60 Hz, not 59 Hz.

commit 3044310518dbb2d4814b32c6521f332b8d69aae5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 26 21:10:15 2022 -0500

    video: Don't add SDL_WINDOW_METAL to new windows if not using Cocoa or UIKit.
    
    Fixes #4656.

commit 77a9ca6ba0ae1973d7bc255a4d785e7f1ba3d111
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Jan 26 18:26:07 2022 -0600

    wayland: Fix SDL_SetWindowSize() being dropped right after exiting fullscreen
    
    If we get a SDL_SetWindowSize() call right after SDL_SetWindowFullscreen() but
    before we've gotten a new configure event from the compositor, the attempt to
    set our window size will silently fail (when libdecor is enabled).
    
    Fix this by remembering that we need to commit a new size, so we can do that
    in decoration_frame_configure().

commit c6ec5a07f1f461c8fcb0c3bdb0d0c3cf35ded9d2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jan 2 15:43:35 2022 -0600

    d3d11: Respect SDL_HINT_RENDER_DIRECT3D_THREADSAFE when creating device

commit f37e4a94d3acaa5c1872386d5a682292d48faf93
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 26 17:02:49 2022 -0500

    video: Don't check if we can use a "texture framebuffer" until needed.
    
    This prevents SDL from making an OpenGL context and maybe throwing it away
    immediately by default. It will now only do it when trying to request a
    window framebuffer directly, or creating an SDL_Renderer with the "software"
    backend, which makes that request itself.
    
    The way SDL decides if it should use a "texture framebuffer" needs dramatic
    updating, but this solves the immediate problem.
    
    Reference Issue #4624.

commit 71e06a536a6fb9eebf15881e9a1ddaf2f463a5f1
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Fri Nov 26 18:27:34 2021 -0700

    cmake: fix Metal detection
    
    Confirmed to work on:
    macOS 10.15.7
    XCode Version 12.4 (12D4e)

commit 8ceba27d6291f1195e13608033ec439aec621fc6
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Apr 17 12:07:38 2021 -0400

    video: Prefer Wayland over X11

commit 68a71f91c6cbb1458dc95e2d994d4522afd92c5e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jan 25 11:18:04 2022 -0500

    wayland: Try to avoid committing before the window is shown

commit 84320266f2fec31c79f1bf7267288c6f30a06365
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 25 12:37:43 2022 -0800

    Fixed the queue filling up with sentinel events when the WaitEvent call is passed NULL for the event
    
    The use case is an application that waits for events on the main thread and dispatches them on a separate thread.

commit f0e768da43173cf62732fc20d1f80eb777d6d5c8
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jan 25 13:07:00 2022 -0500

    wayland: Call SetFullscreen directly in ShowWindow.
    
    This cuts out an extra flush when getting the first configure event.

commit 8c660ccb6f20a34e5a9b758cd2f2f6d41d7259df
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jan 25 17:14:01 2022 +0100

    Fixed bug #5256: X11 Segmentation fault with multiple windows and renderers
    First window is created and it triggers and 'EnterNotify' event
    which calls SDL_SetMouseFocus() and X11_ShowCursor() while the second
    windows hasn't finished to be created  (eg window->driverdata isn't set)
    Just check for a valid 'driverdata'

commit e2d74bcbe524960c17c852466130a6e0a30674a3
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jan 25 11:16:09 2022 -0500

    wayland: Detach hidden surfaces in HideWindow, not ShowWindow

commit ca22b30e46238d870251ff2dbc68744fd111f4f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 24 22:32:58 2022 -0500

    testgles2: Use vertex buffer objects instead of client-side arrays.
    
    GLES2 always has them, and they work without hacks on Emscripten, unlike
    client-side arrays.
    
    I cleaned it up slightly, but this patch was mostly written by @bing2008.
    
    Fixes #5258.

commit 57bc90403ed2bb8a26fe28e4ad3d3ae4f9bc470f
Author: ulatekh <ulatekh@yahoo.com>
Date:   Fri Jan 7 08:54:08 2022 -0700

    Add hint to optionally forcibly raise the window under MS Windows.

commit d7873e656b3469a48af8040a2e116da02119598d
Author: ulatekh <ulatekh@yahoo.com>
Date:   Tue Jan 4 15:47:29 2022 -0700

    Disable tablet flicks under MS Windows.

commit 15ebad6e7d0ede2d811cc83100ddcd258a052ca8
Author: Charlie Birks <charlie@daft.games>
Date:   Sat Jan 22 13:31:11 2022 +0000

    emscripten: Implement SDL_OpenURL

commit 99af3281ee11ff947a82c561c2a275627ccea90c
Author: Charlie Birks <charlie@daft.games>
Date:   Sat Jan 22 12:27:43 2022 +0000

    timer: Fix Emscripten declaration-after-statement error

commit 53df0e6619f16bbee45b4c764b3772e077879ced
Author: ulatekh <ulatekh@yahoo.com>
Date:   Fri Jan 21 17:15:18 2022 -0700

    Fix the erroneous generation of mouse-down events from touch-move events.
    
    The issue is that MS Windows synthesizes a mouse-move event in response
    to touch-move events, and those mouse-move events are NOT labeled as
    coming from a touch (e.g. GetMouseMessageSource() will not return
    SDL_MOUSE_EVENT_SOURCE_TOUCH for those synthesized mouse-move events).
    
    In addition, there seems to be no way to prevent this from happening;
    https://gist.github.com/vbfox/1339671 claims to demonstrate a technique
    to prevent it, but in my experience, it doesn't work.
    
    Because of this, the "fallthrough" case can't test that the synthesized
    mouse-move came from a touch-move, and starts erroneously pressing down
    the mouse-button, leading to massive confusion in the client
    application.

commit 8f8b14cbb684603e71e5ee5ccf6e07f460efbb4c
Author: ulatekh <ulatekh@yahoo.com>
Date:   Fri Jan 21 17:10:09 2022 -0700

    Synthesize a missing touch-up event.
    
    If a touch-down event is received for an existing touch-ID, that
    probably means the operating system lost it, and that the missing
    touch-up should be synthesized, to keep the client state coherent.

commit d2456b6e4c60801d861938bed96ca25fc540425d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 21 11:50:40 2022 +0300

    os2, geniconv: default functions pointers to Uni*() API,
    
    In case they get accessed before SDL_Init() was called.

commit 67cb548bef31e2f4e46b504d1f12165e75e9ab17
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 20 19:31:54 2022 -0800

    Fixed build error with C90 compilers

commit a23b3c767ffba86785a27a68f85f0af9c73bb11e
Author: Carl Glave <cglave@blizzard.com>
Date:   Thu Jan 20 17:21:28 2022 -0800

    Add support for correlating trigger input

commit e1b4761c621e9883c3f02971ea74cef14b1d6b87
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Jan 20 14:10:56 2022 -0500

    wayland: Avoid calling SetFullscreen in libdecor ShowWindow.
    
    This caused some weird stuff to happen in the libdecor path, probably because
    the window hasn't actually been mapped yet. It ends up calling stuff that
    should not yet apply, and so fullscreen in particular would have a really
    messed up titlebar.
    
    The good news is, libdecor is good about tracking fullscreen state, so we can
    let the callback do this for us. Keep this for xdg_shell because we actually
    map the window ourselves, so we know this call is valid for that path.

commit ed3442d7a5a79b3a7357c5bdf54b47ab985ca7f7
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jan 19 15:47:52 2022 -0500

    wayland: Fix building with SDL_OPENGL=OFF

commit 426c1f4b85bfdc3ce54b4200b5c5ffbfbe121cf9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 19 14:27:58 2022 -0500

    opengles2: fix comment about client-side arrays.

commit b3984df1c61cfc28ea503bff62c7f9931ed6bcfb
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Jan 19 13:14:54 2022 -0500

    audio: pipewire: Use client config files instead of module names
    
    Pipewire, as of 0.3.22, uses client config files to load modules instead of explicitly specifying them (PW_KEY_CONTEXT_PROFILE_MODULES is deprecated).  Use the new method to load the realtime module to boost the audio thread priority.

commit 381520ad921944284226b4ebf96299cb7fd0a69c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 18 14:32:24 2022 +0300

    updates for watcom optimization flags

commit a0e3c884d4519d4ae02f5c22c7557759eaea60ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 17 15:32:27 2022 -0800

    Updated to version 2.0.21 for development

commit 1bfefb5b4d5fbd9899fca460442240dad2bd4510
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 17 20:56:50 2022 +0300

    regenerated configure script.

commit a575e2cf5eeb8775cdf30ee85a4eda70d2fa4f24
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 17 20:56:24 2022 +0300

    Enable alloca on mingw/cygwin builds:
    
    This effectively reverts commit 391d73e37b26614e2e343ca8e9d4334e07380896
    Fixes https://github.com/libsdl-org/SDL/issues/5234

commit 33dadbf137a09e19328e5b6800235d49f673d315
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 17 20:56:20 2022 +0300

    'dnl' whitespace tidy-up in configure.ac

commit d3952a8a2c8a32d4f6f521402427052a4b756f9f
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jan 16 15:14:33 2022 -0600

    wayland: Avoid spurious resize events

commit b06866ef9717d57ced4443d90ab8f0a5105be07a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 16 09:44:28 2022 -0800

    Entirely remove Xbox axis filtering, we don't want this at all.

commit 09aed1020b3693981ec0471a3bd77714542a6eb8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 16 09:23:58 2022 -0800

    Don't send output reports to the Victrix Pro FS v2
    
    It'll hang on reboot if it gets output reports, and it doesn't have functionality that requires them, so skip it.

commit 85961b61a187bd77540804105112f79f5faab8dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 16 09:01:56 2022 -0800

    Disable Xbox axis deadzone handling by default
    
    Fixes https://github.com/libsdl-org/SDL/issues/5227

commit 2a0cde8fd5dc7f3f8380dda89ad3300a5c65834c
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sun Jan 16 09:40:51 2022 +0100

    Always send SDL_WINDOWEVENT_SIZE_CHANGED when window is resized
    
    SDL_WINDOWEVENT_SIZE_CHANGED is now sent even if the resulting size of the window does not match the requested size.

commit 1a50334c460dc2a5586f8c27f071619f9cb1e8d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 14 15:04:26 2022 -0800

    Fixed Xbox One trigger axis zero point

commit e9511f7136893dc22bbdf06ff8fd9f6e31325bf2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 14 14:39:04 2022 +0300

    hidapi, libusb: don't use iconv on OS/2, it lacks wchar_t functionality.
    
    Taken from a patch by Silvan Scherrer at bitwiseworks' OS/2 fork.

commit 9a2bbd8acbebcde56dd2f89ebca3b196c2b38914
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jan 12 13:01:05 2022 -0500

    wayland: Convert URI to local path for DropFile

commit 0abc0a6f323179cbc501ad6e30b6d17f19c30fc4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 12 20:37:32 2022 +0300

    SDL_string.c: tidy-up gcc2 va_copy defines after previous haiku commit.

commit d37c9777b97980810db7e2b16f34cabadec7f548
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Jan 12 06:48:00 2022 -0800

    haiku: updated for Haiku

commit bff867013e33454a2995c53449c6e7c5592caa93
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Jan 12 06:47:02 2022 -0800

    haiku: updated for Haiku

commit 094e94402dfbb02b93930793357082cbe436a4b4
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Jan 12 06:42:17 2022 -0800

    haiku: Remove BDirectWindow, fix OpenGL handling.
    
    From e6cc4e7f4b8189be55dd3b0e13e54e59f73d7672 Mon Sep 17 00:00:00 2001
    From: X512 <danger_mail@list.ru>
    Date: Thu, 30 Jan 2020 04:01:58 +0900
    Subject: libsdl2: Remove BDirectWindow, fix OpenGL handling.
    
    * BDirectWindow changed to BWindow.
    * Implemented fullscreen.
    * Introduced view for non-OpenGL drawing.
    * Drawing thread removed, window thread is used instead.
    * Use BGLView as OpenGL context. Implement proper context switching and OpenGL
      locking. Only one context per window is supported. BGLView should be not
      deleted when window is closed, it deleted when deleting context.

commit 407d4e470afaa5f5b8f6a7e37ca323bcaf99af54
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 12 20:32:00 2022 +0300

    cmake: simplify after the previous os/2 commit.

commit f199f832e923b928648e168cdbd7346dab37bdca
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 12 20:22:28 2022 +0300

    cmake: added target_properties for os/2.

commit 5b6e2d69a5a7149704108f52d98d9153fc638b77
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 12 11:01:02 2022 +0300

    SDL_os2messagebox.c (_makeDlg): remove unnecessary casts

commit ae9e2149a55c75e99a2d1dade0f2c3a031b9139d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 11 21:32:07 2022 -0500

    os2-buildbot.sh: Use the 64-bit Watcom binaries.
    
    GitHub Actions is a 64-bit Ubuntu instance. It was only using the 32-bit
    binaries because our buildbot put this on the 32-bit Linux host to spread
    the CPU load around more evenly.

commit 42302d0a59dfefba37d2dc92a7a00621b76fc04e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 11 21:17:21 2022 -0500

    x11: Let apps specify a custom _NET_WM_WINDOW_TYPE.
    
    Fixes #5185.

commit f9b918ff403782986f2a6712e6e2a462767a0457
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 11 16:15:45 2022 -0500

    opengles2: Use client-side arrays on everything but Emscripten.
    
    Turns out they're much faster!
    
    Fixes #5206.

commit bb9ebad74bf0c31157bde09d4ca86dad622aa4a3
Author: ulatekh <ulatekh@yahoo.com>
Date:   Tue Jan 11 09:34:14 2022 -0700

    Optionally disable generation of SDL2main and uninstall projects.
    
    Mostly meant to allow SDL2 to be incorporated as a sub-project of
    external CMake projects.

commit fcf0e524bb718471b07844a1323ea6253feba180
Author: Khem Raj <raj.khem@gmail.com>
Date:   Fri Jan 7 11:17:47 2022 -0800

    cmake: Remove libunwind-generic as hard dependency
    
    when using alternate unwind implementations like LLVM libunwind
    this library is not provided yet the libunwind features are fully
    implemented in main libunwind, making this hard dependency assumes
    a particular libunwind implementation, this patch makes it optional
    which makes the builds to work with llvm libunwind
    
    Signed-off-by: Khem Raj <raj.khem@gmail.com>

commit 73434a964cdb9ef3131753b308cb88b359707ac9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 11 10:37:59 2022 -0800

    Removed debian directory
    
    This isn't used directly by any distribution and isn't helpful at this point.

commit c3a7cc34fb0fb842d0453e5330a60148f804298b
Author: Max Krummenacher <max.krummenacher@toradex.com>
Date:   Mon Jan 10 21:52:02 2022 +0000

    cmake: sdlchecks.cmake: pass cflags to the appropriate cmake variable
    
    If egl.pc sets at least two macros as the i.MX Vivante driver does, e.g.:
    | Cflags: -I${includedir} -DLINUX -DWL_EGL_PLATFORM
    
    then we get the following error during configuration:
    
    | -- Performing Test HAVE_OPENGL_EGL
    | CMake Error: Parse error in command line argument: WL_EGL_PLATFORM
    |  Should be: VAR:type=value
    
    If one changes to add a value to the macro, e.g.
    | Cflags: -I${includedir} -DLINUX=1 -DWL_EGL_PLATFORM=1
    then cmake does not error out but the macro is not passed to the
    C compiler.
    
    CMAKE_REQUIRED_FLAGS is the wrong variable to pass the CFLAGS in,
    CMAKE_REQUIRED_DEFINITIONS should be used.
    
    Signed-off-by: Max Krummenacher <max.krummenacher@toradex.com>

commit ea0bca573da796268900e53d74541dfe279bb662
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 11 14:56:56 2022 +0300

    SDL_cocoamodes.m: fix build against older SDKs.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5208

commit 7527c8d3d78a09620efab3634cd2aa9f67a29a49
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 11 11:33:02 2022 +0300

    hidapi, libusb: provide a wcsdup implementation if it is not available.
    
    similar to mac and android versions..

commit c6c4d4211b10f57e902c6ed8d054f0dcbe44eded
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 11 11:33:02 2022 +0300

    pthread: disable SetThreadPriority for OS/2 too

commit b2656776109a71f84d43256533d045a51bffa8b5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 11 11:33:02 2022 +0300

    cmake: initial attempt at adding os/2 support.

commit b424665e0899769b200231ba943353a5fee1b6b6
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jan 10 20:40:05 2022 +0000

    Sync wiki -> header

commit 5e3f4ccc3488d730e2ebca00025e9b264e1f8629
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Mon Jan 10 20:35:04 2022 +0000

    Sync wiki -> header

commit d8129c5698cc8936a43100ec0cc2589277538142
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 10 10:50:59 2022 -0800

    Mark internal function as static

commit 3e1b3bc34489297bce35916a3d0242d0eadc95f0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Jan 10 10:07:44 2022 -0500

    wayland: Horizontal wheel values do not need to be inverted

commit a29d3acc9e86eea5712c2b08154c0cc805acd044
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 9 11:11:34 2022 -0800

    Updated Bresenham line drawing to match software renderer output

commit b9d98331c59f6d88818cb777368d0b6565aaefa3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 9 20:33:32 2022 +0300

    os2joystick: fix uninitialized use of local var 'maxdevs'

commit 17da60068da2bfbc1a3d1ea53a6f7717125bad94
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 9 20:33:32 2022 +0300

    os2joystick: fix -Wsequence-point issues.

commit f14c7bb443dd6c85dbf43c50b5a65cc32157b25e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 9 20:33:32 2022 +0300

    added missing hidapi stuff for os/2 with libusb

commit 1f32dd8edcf2a7882378e5ff6d616d0382103c9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 9 06:36:18 2022 -0800

    Fixed overdraw with duplicate points, fixed not drawing single point lines

commit 5d07c03613cc25ae1564b34408033266c50a0d23
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 9 08:13:34 2022 -0500

    psp: Force channels to stereo if user requested anything other than mono.
    
    Before it would only clamp to stereo if it also had to resample, which would
    fail if the app specified 44100Hz and surround sound.

commit c275436f565b28d7a301395c0d45c7f1085b5f18
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 9 00:39:02 2022 -0500

    opengles2: Batching lines/points used wrong var for summing vertex counts.
    
    Fixed this in the vitagxm backend too, but I don't know what the state of
    that code is otherwise.
    
    Reference Issue #5061.

commit 9e6249fa5460364fce0133866a1dc7529a7d906c
Author: Joan Bruguera <joanbrugueram@gmail.com>
Date:   Sat Jan 8 19:24:47 2022 +0100

    wayland: Avoid spurious key repeats when not pumping events
    
    Previous to this commit, key repeats events were typically generated when
    pumping events, based on the time of when the events are pumped. However,
    if an application doesn't call `SDL_PumpEvents` for some seconds, this time
    can be multiple seconds in the future compared to the actual key up event time,
    and generates key repeats even if a key was pressed only for an instant.
    
    In practice, this can happen when the user presses a key which causes the
    application to do something without pumping events (e.g. load a level).
    In Crispy Doom & PrBoom+, when the user presses the key bound to "Restart
    level/demo", the game doesn't pump events during the "screen melt" effect,
    and the level is restarted multiple times due to spurious repeats.
    
    To fix this, if the key up event is among the events to be pumped, we generate
    the key repeats there, since in the Wayland callback we receive the time when
    the key up event happened. Otherwise, we know no key up event happened and we
    can generate as many repeats as necessary after pumping.
    
    Signed-off-by: Joan Bruguera <joanbrugueram@gmail.com>

commit 461724d287a512b8bd0fe8daa3c63e954025b77c
Author: Joan Bruguera <joanbrugueram@gmail.com>
Date:   Sat Jan 8 19:09:35 2022 +0100

    wayland: Refactor time fields in SDL_WaylandKeyboardRepeat
    
    Refactorization with no functional changes.
    
    Instead of `next_repeat_ms` containing a timestamp based on SDL ticks, we make
    it zero-based relative to the key press time, and we store the key press time in
    SDL ticks in a new field.
    
    This refactorization is groundwork for future commits which need to use the
    key press and release timestamps provided by the Wayland API, which are also
    expressed in milliseconds, but whose base does not match the one for SDL ticks.
    
    Signed-off-by: Joan Bruguera <joanbrugueram@gmail.com>

commit fb0c3040c02f5413869d9187a30faf7f9481c94b
Author: Joan Bruguera <joanbrugueram@gmail.com>
Date:   Sat Jan 8 21:10:14 2022 +0100

    wayland: Avoid infinite loop in keyboard_repeat_handle
    
    If `repeat_info->next_repeat_ms` overflows, many key presses will be generated.
    In the worst case, `now = 0xFFFFFFFFU` and the loop will never terminate.
    
    Rearrange the comparison in order to gracefully handle the overflow case.
    
    Signed-off-by: Joan Bruguera <joanbrugueram@gmail.com>

commit 3b083b9911d444899dd81efb9816890362e3c442
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 14:07:42 2022 -0800

    Fixed compile warning

commit b82af9dfbfbe0d2ba5d3560db15b0cb68836eb4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 14:05:50 2022 -0800

    Improved OpenGL point drawing performance (thanks @slime73!)
    
    We'll do proper call batching for the SDL 2.0.22 release

commit 1a73c45a089a221f503b9efa706bad74da57f73e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 13:34:49 2022 -0800

    Fixed incorrect color in the OpenGL driver

commit 3cdda8f8ab901340224405873e536bd231657513
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Jan 8 21:58:26 2022 +0100

    PSP: use 'data' variable which is alread the driver data

commit 9f1e609aa0424131437e13806609a45ae66c71f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 12:42:36 2022 -0800

    Document SDL_HINT_RENDER_LINE_METHOD in the release notes

commit 4ef2529bf96edb145bcba2b5466fa8493866d37a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 12:37:57 2022 -0800

    More efficient calculation of render_count

commit 5346c93b62f0da45977fc1672b0fa7f5ff38a7cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 12:28:43 2022 -0800

    Fixed assertion on number of points rendered

commit 4b71962031861c24bb0fe288782bfa7359e3d6ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 12:02:08 2022 -0800

    Prevent overdraw with connected line segments

commit 63d10a0ac24702a7d834349f9768dad3e5a4e299
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 23:00:32 2022 +0300

    updates to config.guess and config.sub from mainstream.

commit 09ece861d1f8015f4960ab5fcfc6cb599e979f3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 11:36:29 2022 -0800

    Added the hint SDL_HINT_RENDER_LINE_METHOD to select the line rendering method

commit 836a4ec7b1c8ad2793f899cf7b4a114e14314951
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 22:35:02 2022 +0300

    updates to os/2 build

commit c1e6079836cd34a39c8c3428e9a398eaf40a2873
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 11:09:11 2022 -0800

    As an optimization, draw horizontal and vertical lines using rectangles

commit 3da7c6305ac0c6fe6289f29d92fd993a4ca9a653
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 11:07:03 2022 -0800

    Assert that we have drawn the expected number of points

commit 9f56faeedc70e0ea1a8efd38b0c15fab269ee610
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 10:59:31 2022 -0800

    Added line drawing using Bresenham's line algorithm (thanks @rtrussell!)

commit fe3a33a09280623aeaf6f18be92752178ce42576
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 10:10:18 2022 -0800

    Use RenderGeometry for drawing lines at all scales

commit 0696fc0134430883e6d75662ad6ead5cd9d62b10
Author: Neal Gompa <ngompa13@gmail.com>
Date:   Fri Jan 7 14:30:26 2022 -0500

    cmake: Split SDL2-static and SDL2main into their own target exports
    
    This makes it so that the generated targets are not interdependent,
    which allows Linux distributions to split libraries into the
    appropriate subpackages as needed.

commit 1694782b2a34457a974095686880b04465644850
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 09:32:23 2022 -0800

    Remove redundant work when render scale is 1.0

commit 2026a78dc20e8cc6bb585dfcd02ef1fa46b98280
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 09:23:58 2022 -0800

    Don't flush in RenderDraw*WithRects()
    
    This allows these functions to be reused in the future for other primitives

commit 18e4d9fed1b04f45c7af43cbda82b205fe01460d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 09:02:25 2022 -0800

    Re-enable line drawing path in render drivers
    
    This is still used for scaled line drawing in RenderDrawLinesWithRects()

commit dca281e810263f1fbf9420c2988932b7700be1d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 8 08:49:34 2022 -0800

    Fixed getting different results for SDL_PollEvent(NULL) and SDL_PollEvent(&event)

commit 93cab32db3502f780c515e5f7a6ee131e94915bb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 14:40:20 2022 +0300

    minor update to test/Makefile.os2

commit 4472b831298ce928cd67873bb939e8f0ca6ee189
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 11:56:56 2022 +0300

    PSP_RunCommandQueue: fix argument to PSP_SetBlendState()
    
    src/render/psp/SDL_render_psp.c: In function 'PSP_RunCommandQueue':
    src/render/psp/SDL_render_psp.c:1200: warning: passing argument 1 of 'PSP_SetBlendState' from incompatible pointer type

commit df1474b46e65e00acef2fc4a490d0e94fc65e686
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 11:55:10 2022 +0300

    psp/SDL_sysfilesystem.c: fixed a minor compiler warning.
    
    src/filesystem/psp/SDL_sysfilesystem.c: In function 'SDL_GetPrefPath':
    src/filesystem/psp/SDL_sysfilesystem.c:71: warning: passing argument 1 of 'free' discards qualifiers from pointer target type

commit 21914b4e2f562fd7b8f08fc4f4d61d01a2c509ad
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 8 11:55:10 2022 +0300

    updated Makefile.psp and SDL_config_psp.h

commit f62b807174c2b0e30fc9f12878939510c579e22e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 7 21:31:38 2022 -0500

    wikiheaders.pl: Put the manpages in man/man3

commit 9294634840458a5cec14058ac0cc5bd25649ff4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 7 18:28:25 2022 -0800

    Updated to version 2.0.20 for release

commit cc2013378d66c5d448d62000b8ba1556e85b26b0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 7 20:20:57 2022 -0500

    render: Fixed some compiler warnings.
    
    Fixes #5197.

commit 289c3fbb64b0615f8d627cad0a582c5f1711f93d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 7 17:07:22 2022 -0800

    Revert "We only need to add the sentinel at the top of SDL_WaitEventTimeout()"
    
    This reverts commit c477768e6f926c38d4cdc236cab8376faf9f6789.
    
    We want to add the sentinel anytime we pump inside SDL_WaitEventTimeout() to avoid pumping again the next time through, as a performance optimization.

commit 1085c317a5088b5aba3245b2d4d59ca1cdcf8887
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 7 16:43:53 2022 -0800

    Use the requested cursor size instead of the default cursor size
    
    CopyImage() will scale based on the system accessibility settings automatically.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5198

commit 6d3b5d66cd4f593dd70d26babe42b62203c8bada
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 7 18:18:53 2022 -0500

    psp: draw lines with RenderGeometry, same as with the other renderers.

commit 9cb2c549fa2723e2df37000501ab439f7b9ba234
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 7 22:43:30 2022 +0100

    Remove QueueDrawLines from D3D, D3D11

commit b88b6b3c23804e5c01326574ba695efe3aa97f4c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 7 22:43:12 2022 +0100

    Remove QueueDrawLines from METAL

commit 9aac55317daee3e81247cd198c7eb1eb04314772
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 7 22:42:52 2022 +0100

    Remove QueueDrawLines from GL, GLES, GLES2

commit 8ea8b2e697b47a6c7786061b43dd3aeed0200870
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Jan 7 22:42:13 2022 +0100

    Use QueueDrawLine if provided, otherwise use RenderGeometry

commit c498727471a140f39d83c63b40ff638db7ccc50f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 7 22:14:28 2022 +0100

    render: Use RenderGeometry to draw lines
    
    This patch is from @1bsyl
    
    Fixes #5061.

commit 4b38d4c96b03b6e1e845ee2a0338d78aca652f5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 7 12:37:28 2022 -0800

    Leave the Metal view active on the window when recreating the Metal renderer
    
    Fixes https://github.com/libsdl-org/SDL/issues/5140
    
    Also move the metal tag definition to SDL_syswm.h so it can be used by applications

commit 88ac517df0c65de94f15bf31b5a72d67645ae46a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 7 15:03:47 2022 -0500

    opengles2: Fix point drawing.

commit 957c48b4c770b7b8cf893d366150b7dc0b0a44e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 7 10:58:04 2022 -0800

    Fixed detecting focus change to child dialogs
    
    Fixes https://github.com/libsdl-org/SDL/issues/5157

commit c477768e6f926c38d4cdc236cab8376faf9f6789
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 18:58:30 2022 -0800

    We only need to add the sentinel at the top of SDL_WaitEventTimeout()

commit e9134b045a6eea1d9bea2046ddcefb669ab6e016
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jan 6 19:38:10 2022 -0600

    events: Only add sentinels for pumping done inside SDL_WaitEventTimeout()
    
    We don't want to catch explicit SDL_PumpEvents() calls by the application with
    our polling check to avoid stale data. If the call to SDL_PumpEvents() produced
    no events, there will be a sentinel sitting in the queue that will cause
    SDL_PollEvent() to immediately return 0 next time it is called.
    
    Our SDL_WaitEventTimeout() implementation avoids this issue by always popping
    an event after calling SDL_PumpEvents(). This will remove the new sentinel if
    we didn't get any new events.

commit 954858846d2883864b4e5fef55f31bb92f1514cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 13:58:39 2022 -0800

    Move special sentinel handling inside SDL_PeepEvents()

commit 2592e6219b644035eb68d466f5e044f42627873a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 13:30:26 2022 -0800

    Clarify that timeout == 0 is handled at the top of SDL_WaitEventTimeout()

commit 8ff2166855067feaac81512be5d32c73841b6533
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 12:56:07 2022 -0800

    Only return from SDL_PollEvent() if the last sentinel is consumed

commit c9ff90b949286bfbfba7ca53c385216e66201d72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 12:03:09 2022 -0800

    Clarify comment
    
    Co-authored-by: Simon McVittie <smcv@debian.org>

commit 31f8c3ef4409a93fafa894b78c2ce176bd0c3cf3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 6 11:27:44 2022 -0800

    Fixed event pump starvation if the application frequently pushes its own events

commit e0c5399119afbd4543308212d2a461cb98abfa56
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Thu Jan 6 22:29:23 2022 +0100

    Don't make psp eboot for testoffscreen

commit 5d3f6b0215d301c13b7e4f02a7bc2058b60ffca0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 6 15:37:05 2022 -0500

    wikiheaders.pl: Added support for export to Unix manpages.
    
    This mostly works, but likely needs some tweaking as we examine the output
    of various pages.
    
    Fixes #5163.

commit 75ac944b9c0b5ad6444f72a784d2ddf4f21af7fe
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 6 22:24:00 2022 +0300

    check for tpcshrd.h and define HAVE_TPCSHRD_H if it's available.

commit 515b5f2a39555ce4238c2383e5cc59170628d8ad
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Dec 22 12:04:10 2021 +0100

    Fix build errors in PSP port

commit 34e34ad5a5832b8fbfd883bf6bbe8beef3f8a1c4
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Dec 22 11:43:07 2021 +0100

    Remove debug code from PSP renderer

commit 520c89a00ac9b5451f90205a0cf86cc2cd80c33d
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Tue Jan 19 20:11:36 2021 +0100

    cleaning

commit 09f4711f408248f4c5671bb11b8f0e1473bc0f3d
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sat Jan 9 12:52:55 2021 +0100

    Fix LRU when destroying texture.

commit c3ec62d6a630d937a1c070730d960def4eefb63f
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sat Jan 9 11:25:39 2021 +0100

    PSP lazier blend states, display mode report with 16bit option

commit 0f5368fe11d0eda2064e6d3ce9e90e0ca5ab2809
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sat Jan 9 10:33:38 2021 +0100

    PSP cached blending and texturing state, ABGR1555 stencil hack

commit fe405eb27b9a21ff9f16543fa41a39eb0d72fd90
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Mon Dec 28 14:00:53 2020 +0100

    fixed LRU cache code

commit c1f152292b23a8d1af27c3559942fefded645590
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sun Dec 27 11:43:22 2020 +0100

    Spill render targets to ram on PSP

commit 77d874e3c068fbf6dce31aabc380d3c51f987b66
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sat Dec 26 19:20:17 2020 +0100

    Attempt to make render to texture work on PSP

commit 7967c97618fba7326028005e72ead740fa6e6589
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 5 21:02:38 2022 -0500

    cmake: Do a more thorough test for the old bcm Raspberry Pi libraries.
    
    Fixes #5132.

commit f3255df9c0e774083514c99511dd72c96a9dd4d8
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Nov 17 23:50:41 2021 +0100

    Improve audio compatibility in PSP. Now it supports more formats and frequencies

commit 16f5b9e3c33316b257c7dcc689d7df0efe6c0cae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 5 11:07:52 2022 -0800

    Filter jitter on Xbox One controllers when using raw input reports

commit eca198d51902bfb82d042b6fd45c9cb406a61118
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 11:50:52 2022 +0100

    Don't build an eboot for testgesture for PSP

commit cd6cb959c0e0cf839fd1baa87b2f58911b53f1af
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 11:33:51 2022 +0100

    Only copy resources to PSP eboot directory if it exists

commit 9d0b4d85fc59e5359d7f703c49b789d3701df91a
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 11:18:26 2022 +0100

    Don't build EBOOT files for all tests for PSP

commit b2ca62f23a0bd6ae45c7b69d6a25227c64d97a7a
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 11:18:09 2022 +0100

    Make sure all tests have the resources they need

commit 6d46e30fede784cd3fdeadb8bc6ea2af9e7537f8
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 14:31:31 2022 +0100

    Remove extra / in PSP GetPrefPath

commit 33dccbb3812f6508e79d4307041b12eae89d533b
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Wed Jan 5 14:00:37 2022 +0100

    Make sure GetPrefPath also works without org

commit 419ae29d90d3934e1a382cd693ac60a1f492e43a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jan 3 21:44:18 2022 -0600

    joystick: Move WGI driver initialization after Windows driver
    
    WGI calls SDL_DINPUT_JoystickPresent() so we need to be sure DInput remains
    initialized for the lifetime of the WGI driver to avoid a crash or duplicated
    joysticks between DInput and WGI.

commit d73bd0d2f68ab65b6e9f110720880b271fc3dbef
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jan 3 21:39:30 2022 -0600

    dinput: Don't crash in SDL_DINPUT_JoystickPresent if DInput init failed
    
    The WGI driver will call this regardless of whether our init succeeded.

commit 3ea82eaaff84efa668a0b080f43315690fa518f1
Author: ulatekh <ulatekh@yahoo.com>
Date:   Tue Jan 4 15:46:04 2022 -0700

    Under MSVC, build project-sources in parallel.

commit 565ef63873c2dfa85e1e80db9dfbefbd9a8c67db
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 4 11:40:04 2022 +0300

    SDL_rwops.c: simplify `foo <= 0` checks to `!foo` with unsigned types.

commit 30f895a5f3d485b2a0be0fd19aa919d9e8c88a31
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 3 21:55:10 2022 -0500

    Update os2.yml
    
    Specify the WATCOM environment variable in the "run" command line directly, so the home directory gets correct shell expansion.

commit 1d918a283ccac6a32a8578acb08fdb20fea9e5f3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 3 21:52:47 2022 -0500

    Update os2.yml
    
    Whoops, forgot the `-R` on the chmod command.

commit 39fc1e87e59e8c50c8bc5968b09eed62f809069e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 3 21:51:12 2022 -0500

    os2.yml: OpenWatcom install fixes
    
    Make everything in Open Watcom install executable (because none of it is, and this is good enough), and make wget less verbose.

commit eb3639d3c56e71917bedb249d90efcd2f8ea41f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 3 21:47:04 2022 -0500

    os2.yml: Fix wget command line
    
    It's a capital O, not lowercase.  :/

commit 56813d0203c782b108776abdce0f49758136ff52
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 3 21:44:17 2022 -0500

    Create os2.yml
    
    This is a quick test to see if we can cache an OpenWatcom install on a GitHub Actions instance and build for OS/2 with it.

commit 8f924b82d9427982199ea2c520146098d1046865
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jan 3 16:41:03 2022 -0600

    kmsdrm: Remove gbm_bo_get_offset()
    
    It is not present on some older libgbm versions that we still
    support and has been unused since 85e8adf.

commit a201c94833557e9c33a492f563b9d9534ae5946a
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Jan 3 20:43:40 2022 +0100

    Build tests for PSP in CI

commit fcb638ff90e9e21fca428ba34d0ea74a232e1e73
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Jan 3 19:12:09 2022 +0100

    Copy test resources to correct directory on PSP

commit 5e84f6384ff39a97d39059fab46c8de29046d386
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Jan 3 18:56:02 2022 +0100

    Rename test directories for PSP and only build PRX if asked

commit bf2336078ca70eaeed8aef9dd8700553984db83e
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Jan 3 18:41:21 2022 +0100

    Make tests build for PSP and make them able to launch

commit cd1f24a998c8f15e8a67641abf8c8b6c673e28c8
Author: Wouter Wijsman <wwijsman@live.nl>
Date:   Mon Jan 3 18:41:02 2022 +0100

    Add forgotten psppower library to link

commit 120c76c84bbce4c1bfed4e9eb74e10678bd83120
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 3 09:40:00 2022 -0800

    Updated copyright for 2022

commit 8622eda9e9fe874826a51943570788486e0a9a9d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Jan 2 22:34:56 2022 +0100

    SDL_RenderGeometry / software: TRIANGLE_GET_TEXTCOORD interpolates up to the max values included, so reduce by 1

commit 4b112620a3778f2a5437d73e6d7bf1d2b76002ae
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 2 19:11:50 2022 +0300

    SDL_cocoamodes.m (Cocoa_GetDisplayDPI): fix build using older toolchains
    
    Fixes https://github.com/libsdl-org/SDL/issues/5162

commit 13a9cd4797427107b75b69979f15d32ad24db1d0
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Sat Jan 1 16:08:00 2022 +0100

    Adding sysfilesystem driver to PSP

commit 0403fa8aa6e8bb2c19450331b302f317f1908ff3
Author: rohlem <rohlemF@gmail.com>
Date:   Sun Jan 2 02:36:23 2022 +0100

    X11_WaitEventTimeout: remove unreachable return
    
    If that condition was reachable, the return value should be negative to indicate that waiting for the timeout failed.
    Otherwise, SDL_WaitEventTimeout would incorrectly return early.

commit d0de4c625ad26ef5401665ca26b5f2c0fb76e91b
Author: e <ericoporto2008@gmail.com>
Date:   Fri Dec 31 14:36:32 2021 -0300

    Android: fixes build NDK 21d

commit 8f81699868d3a8ef423eba39e83c4862ca9ad050
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 31 08:46:54 2021 -0800

    Only clear IME display options if SDL_HINT_IME_SHOW_UI is off (thanks opxdo!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/5153

commit e4000c028493ba151ead1b91e3b90eaddbeae7dc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 31 10:30:51 2021 -0500

    video: SDL_GL_GetAttribute needs to operate on FBO 0.
    
    If a different FBO is bound, this would return incorrect results.
    
    Fixes #5082.

commit 2363ddc330efa939d2d43a6c809794970f401120
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 28 17:30:36 2021 -0800

    Fixed crash on Windows Subsystem for Android, which doesn't have a USB manager.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5133

commit ab6d0d4d509ec0d5a60f01a59216e9cf87edd67c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 28 15:58:15 2021 -0800

    Fixed undefined behavior in SDL_memset() (thanks andrewrk!)
    
    Fixes https://github.com/libsdl-org/SDL/issues/5147

commit 6a7b63802c21882cbd1b7aab39b99f9f048f19b3
Author: shinyquagsire23 <mtinc2@gmail.com>
Date:   Tue Dec 28 12:07:56 2021 -0800

    Fix macOS cursor jumping to corner on first titlebar click

commit a35a7d2507c427540055c25bcddacda83c884d31
Author: Edward Li <vk.edward.li@gmail.com>
Date:   Sat Dec 25 05:00:26 2021 +0800

    Fix SigSegV from displayInfoInvalidate when changing resolution

commit 1c41b53551ba1195f9d0d13a690252f00d8f7caf
Author: Edward Li <vk.edward.li@gmail.com>
Date:   Sat Dec 25 03:47:59 2021 +0800

    macOS: Calculate correct DPI by not using backingScaleFactor

commit 724468ae2ce28a8164d240eb441361c8d2b01dd7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Dec 13 15:48:55 2021 -0400

    GL renderer uses glDrawArrays instead of glBegin/glEnd.
    
    Also change internal colors sent to GL to use unorm8 components instead of float, for improved performance.

commit a1e992b110b9adf3305a5ebb5514f0e970f7911e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 21 22:07:17 2021 +0100

    Fixed bug #5118 - [Android] PointerIcon leak in Cursor API

commit 5ca0926d8dbb138d3f9d4528aad1933b1add7f96
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 21 20:12:20 2021 +0300

    fixes to visual test MSVC project files.
    
    -- based on a patch by Cameron Cawley

commit b8d839c0c03e80a222d9e4d9760b85e5fbb43f24
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 21 20:01:02 2021 +0300

    remove all unnecessary stuff from visualtest configury.

commit 8a355116d1a846274753ed3cf5506ac45bd28657
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 21 20:01:02 2021 +0300

    silence -Wwrite-strings in visualtest

commit 71c497a3a315079ae333fedf8ad639bbcc100848
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 21 14:50:00 2021 +0300

    visualtest windows build fixes

commit 449ef08dccae2994c1cfa45f236c524bb7558ee2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 21 14:24:20 2021 +0300

    minimal fixes to visual test, so that it actually builds w/o warnings:
    
    - linux_process.c: add an SDLVisualTest_ScreenshotProcess() stub for
      linux builds succeed.
    - action_configparser.c: fixes -Wswitch warnings.
    - testharness.c: fixes 'is used uninitialized' warnings for userevents.
    - testharness.c: fixes format string argument to 'Force killing...'
    - testquit.c: fix type of options array in main().
    - windows_screenshot.c: lowercase windows.h header name.
    - ran dos2unix on all sources and add missing newlines at files' ends.
    - minor adjustments to autotools build system (which actually seems to
      need more surgery for unnecessary stuff...)

commit 505df1a99b033dc75d4a301f0fc2c5931b1098c3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Dec 19 20:43:48 2021 -0600

    autotools: Fix typo in libgbm print

commit 0673e448f0f302722b12d3ad03c8534d1fab4a6a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 20 01:03:56 2021 +0300

    autotools: improved detection of windows.gaming.input.h
    
    similar to cmake commit 83583dc49d

commit 83583dc49d5684645d93287aeeecc9ab472dd60c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Dec 19 15:07:37 2021 -0600

    cmake: Fix WGI detection with older SDKs

commit 398c0fdff0946ddb87853a474be286d3c01b89ca
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 18 23:56:10 2021 +0300

    cmake: simplify wayland-scanner 1.15 detection.

commit 54d245106943d988782d3862c8cb862faa69e133
Author: Wohlstand <admin@wohlnet.ru>
Date:   Sat Dec 18 19:58:28 2021 +0300

    sdlchecks.cmake: Small tune by @sezero

commit 6c9907dd0e82507b7da1bb9b1cfee04d96360102
Author: Wohlstand <admin@wohlnet.ru>
Date:   Sat Dec 18 17:15:08 2021 +0300

    Fixed build on CMake older than 3.7
    
    I found this accidentally when I tried to use CMake 3.0 to build this.

commit 3861afacf52f911f49a143088e8172a87b2c9ec2
Author: Wohlstand <admin@wohlnet.ru>
Date:   Sat Dec 18 17:14:32 2021 +0300

    Fixed build on CMake older than 3.13
    
    Fixes #5096

commit 840339c49db527f11313dc72086ce42fd4a53ad2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 18 14:01:02 2021 +0300

    SDL_utf8strlcpy: store trailing_bytes explicity as unsigned type.

commit 507d4bcd68599a23097132f82dfdd9e4ede8a154
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 18 14:01:02 2021 +0300

    SDL_utf8strlen: run bit-test explicitly on unsigned char

commit 82fc67ae4d530317bf6174696ab4939285db6658
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 18 14:01:02 2021 +0300

    SDL_joystick.c: cast the arguments to nibble() to unsigned char.

commit 47d3e96b43b49ce3d499695230c8531838cfa153
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 18 14:01:02 2021 +0300

    SDL_joystick.c: (unsigned char) cast to SDL_tolower() parameters.

commit 881feca1f250be30b26cfb1a606bb62f6bf16c2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 17 19:14:34 2021 -0800

    CMAKE: fixed cflags check for build type
    
    Martin Gerhardy wrote:
    
    If there is a variable named test, then cmake does variable-value comparison:
    if (test STREQUAL "")
    is equivalent to:
    if ("${test}" STREQUAL "")
    
    If there is no variable named test, then cmake does string literal comparison:
    if (test STREQUAL "")
    is equivalent to:
    if ("test" STREQUAL "")
    
    That means basically - the current stuff works - but is not how it should be done.
    
    Fixes https://github.com/libsdl-org/SDL/issues/2100

commit c31a40246db952ed3806992b7fbbb6a6383ad26e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 17 19:04:39 2021 -0800

    Fix audio memory leaks due to invalid init (thanks Janiszewski!)
    
    SDL_Init(SDL_INIT_AUDIO) did not take into account that functions like
    SDL_AddAudioDevice do register events, which will need final cleanup
    and only gets fired when events were actually initialised.
    
    Sample call stack of a malloc missing its free (Linux + PA):
        SDL_malloc_REAL (SDL_malloc.c:5328)
        SDL_AddEvent (SDL_events.c:445)
        SDL_PeepEvents_REAL (SDL_events.c:531)
        SDL_PushEvent_REAL (SDL_events.c:762)
        SDL_AddAudioDevice (SDL_audio.c:443)
        SourceInfoCallback (SDL_pulseaudio.c:681)
        context_get_source_info_callback (introspect.c:534)
        run_action (pdispatch.c:288)
        pa_pdispatch_run (pdispatch.c:341)
        pstream_packet_callback (context.c:349)
        do_read (pstream.c:1012)
    
    Fixes https://github.com/libsdl-org/SDL/issues/3005

commit 71e3998d6c0b0742bc0042894ea8327aadae811a
Author: Erik Soma <stillusingirc@gmail.com>
Date:   Tue Nov 23 17:56:46 2021 -0500

    Make SDL_VideoInit cleanup when errors occur before video driver creation.

commit 8ed0cc430075d2c9ddc7be14c402caf43bd6c6bb
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Wed Dec 15 22:30:04 2021 +0100

    Fix wrong value for thread priorities following official PSP Docs

commit 44c84c0d8e1701b9a0d0e3688f31b3a79163a81a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 17 17:44:34 2021 +0100

    GLES2/Big-endian: don´t swap datas for yuv textures (Thanks 0x1F9F1 !)

commit 3a69828e87f79114d1854ec4eb95d84fe74b9405
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Dec 17 13:15:39 2021 +0100

    Fixed GLES2 back-end on Big Endian Platform (see #5093)

commit 61107494a18a805492b4cf81874f40eb6c6539b6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 17 07:40:02 2021 +0300

    SDL_gamecontroller.c: (unsigned char) cast to SDL_isdigit() parameters.

commit ced442cd3851c6744018de26da95da0055dffe45
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 17 07:33:10 2021 +0300

    SDL_test_common.c: (unsigned char) cast to SDL_isdigit() parameter.

commit 48d1ef8fad4932ec5df94c3205cea20539d6e49e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 17 07:33:10 2021 +0300

    another unsigned char cast in os2cp.c. code clean-up in os/2 geniconv.

commit dac6516057f8e553a7e8eee3a25baceff048caa4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 17 02:50:40 2021 +0300

    os2iconv.c (_createUconvObj): cast to unsigned char, to be safe.

commit 2052b5bc3e1d2f1a6a7053dc6704740bb91bfaf0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 17 01:10:10 2021 +0300

    os2messagebox: use proper UCHAR* typecast in assignment, just in case.

commit ca18bf11eead1ecd58e919bc3dd63abea3b409e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 16 12:01:18 2021 -0800

    Don't compare raw mouse button state with windows message button state
    
    When mouse buttons are swapped, right mouse button down is the same value as raw mouse button up, and conceptually the two systems use different button masks, so never cache state between the two.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5108

commit 3d5fcb5da64c89fc4a597ef8e11f3b52c13f48ef
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 16 11:10:07 2021 +0100

    Fix warning

commit 4342e6bd21d855de6015af0a280b57609a3a0912
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 16 10:53:27 2021 +0100

    SDL_render.c: lighten the cast syntax

commit 50d49c63edd023107fddb29ebb5ec15def608222
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 16 10:52:36 2021 +0100

    GLES2 backend: cast with SDL_Vertex and SDL_VertexSolid

commit 4c9966eed6f54740374300b6407384c03c1ec65e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Dec 16 10:22:27 2021 -0500

    wayland: Add a note for why we check 0,0 for fullscreen configurations

commit 6101499c7c1254d26858724655c3d999c7c7f4d2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Dec 16 09:07:31 2021 +0100

    BigEndian: fix code that generates illegal instruction with gcc-4.9.2 on powerpc
    
    Program received signal SIGILL, Illegal instruction.
    X11_InitKeyboard (_this=0x1001f8f0)
        at /home/sdl/SDL_git/src/video/x11/SDL_x11keyboard.c:273
    273         XKeyboardState values = { .global_auto_repeat = AutoRepeatModeOff };

commit 0b7b0977fc53c0c6d50fde707f4f8b50479ea521
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sun Dec 27 17:51:39 2020 +0100

    fix PSP texure artifacts

commit 996f30b0e408affee7dc3aa8132fe5e80d99fd81
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Tue Nov 23 15:27:41 2021 +0100

    Use lightweight mutex

commit 0341ec93fee033cfb81d5a5fae988bd6bb12defc
Author: Francisco Javier Trujillo Mata <fjtrujy@gmail.com>
Date:   Fri Nov 26 11:34:40 2021 +0100

    Improve performance when vsync is enabled and the game is not reaching the 60 FPS

commit 67c4b996399e64e03ba50f8cb58b894497d7fc9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 15 10:39:42 2021 -0800

    Fixed enabling udev hotplug detection on Linux

commit 60c3ca49b423af5963d5c9b182e423ae17a55e41
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 15 01:20:51 2021 +0300

    Vita: disable arm asm blitters and add missing pvr dep

commit c326ff7c6fe7e1fb9b3a7048fb959709a4e4d679
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 14 12:42:39 2021 -0800

    Re-enabled the O_CLOEXEC definition so config headers can be fixed

commit 7f5339e6c4dad8c99a3a8af4fd0c843c5b39caca
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Dec 14 14:24:59 2021 -0400

    Document the packed integer formats SDL_Color is bit-compatible with.

commit 3a5e148b13fc8667b57a1971894253e9bd10044c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Dec 14 11:02:07 2021 -0400

    Renderer backends use SDL_Color instead of int for geometry colors.

commit 086c74556d9ea01712c1286f1668bfb6ccbdc7b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 14 12:08:36 2021 -0800

    Fixed build warning on iOS

commit b08e57e9263f034f3ea1262902769bb1f3e273f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 14 09:32:05 2021 -0800

    Don't try to create a vbo if we aren't using any vertices

commit b7885abc449250fc733a756239d670394d01fe62
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 14 10:31:55 2021 +0100

    Fixed bug #5087: SDL_RenderGeometryRaw() passes colors as int* instead of SDL_Color*

commit 323ba6c0089c1a730de68bf268e780d4f1d062a2
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Dec 13 18:27:49 2021 -0400

    d3d11 renderer: reduce vertex bandwidth and calculations.

commit 2b6b69fb127ef6fd27824b8ae988efef0f822dc1
Author: thfrwn <11335318+rfht@users.noreply.github.com>
Date:   Sun Dec 12 10:08:11 2021 -0700

    fix assertion failure in sndio audio caused by the recent hotplugging support

commit 8927d73b1cd1ae8d62817c5e69d22bdd2b485260
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Dec 12 09:55:23 2021 +0100

    RenderGeometry: simplify casting (Thanks Daniel Gibson)

commit d7f66ba1ec8bf070fb171084f8d2ae5bc1f90311
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 11 20:04:53 2021 +0100

    Remove strict aliasing warning in opengles2 backend

commit 3e43d6e34b356f7646c988459748d1f7b56d6864
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Dec 11 17:19:00 2021 +0100

    SDL_RenderGeometry: remove some warning "dereferencing type-punned pointer might break strict-aliasing"

commit e2ade2bfc46d915cd306c63c830b81d800b2575f
Author: David Redondo <kde@david-redondo.de>
Date:   Fri Dec 10 16:22:34 2021 +0100

    Fix build against wayland 1.20
    
    Fixes #5088

commit 9da93d074bd2bd5406992d101855221e1d4c5677
Author: David Gow <david@ingeniumdigital.com>
Date:   Wed Dec 8 12:38:16 2021 +0800

    video: x11: Set XImage's byte_order field (fix #5081)
    
    If the X server's byte order is different from the client, things might
    display in the wrong colour.
    
    Apparently we can just set the byte_order field to the client's byte
    order, and the X server will adjust everything automatically:
    https://xorg.freedesktop.narkive.com/GbSD1aPq/ximage-s-byte-order-field

commit e7f84c20bcb5d7c9e3175d9879890620335c634b
Author: Hanseul Jun <hanseuljun@gmail.com>
Date:   Thu Dec 9 10:40:53 2021 -0800

    Fix a typo in comment.

commit 66fbf00e7d7858d62dec0140bbe98f1cd2ec384a
Author: Hanseul Jun <hanseuljun@gmail.com>
Date:   Thu Dec 9 10:40:18 2021 -0800

    Temporarily ignore gl_config.driver_loaded check in Cocoa_GLES_SetupWindow.

commit cb8fa5f9c3f2a953e78d57752b747876d333f1ad
Author: Valentin Hăloiu <valentin.haloiu@gmail.com>
Date:   Sat Dec 4 03:50:12 2021 +0000

    wayland: fix keycodes of swapped xkb modifier keys

commit 615f7b4453864d9475e8b20faa78ec67be357f1e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 8 23:51:56 2021 +0300

    more updates to os2 makefile for libiconv

commit b6d40b29a9a43f1da5de2230470f12df47308bae
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 8 21:15:24 2021 +0300

    minor update to os2 makefile.

commit 8d14e6ea4415da0780df70b24abe2602c68d6e3e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 8 14:01:02 2021 +0300

    replaced use of _MAX_PATH with CCHMAXPATH in os/2 code,
    
    it now compiles without HAVE_LIBC

commit 1940d289bf16163512fdd22f2b7f9d529950fbfc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Dec 8 09:41:33 2021 +0100

    SW Renderer: fix invalid read if VSYNC hint is initially set with an empty value (eg "")
    because:
    - GeHint return a value pointer.
    - SetHint free internally the pointer
    - The -now invalid- pointer is re-read
    
    ==9363== Invalid read of size 1
    ==9363==    at 0x4946860: SW_CreateRenderer (SDL_render_sw.c:1044)
    ==9363==    by 0x48F0EC3: SDL_CreateRenderer_REAL (SDL_render.c:938)
    ==9363==    by 0x48C5921: SDL_CreateRenderer (SDL_dynapi_procs.h:332)
    ==9363==    by 0x401584: main (main.c:421)
    ==9363==  Address 0x9c24040 is 0 bytes inside a block of size 1 free'd
    ==9363==    at 0x484621F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==9363==    by 0x494E403: SDL_free_REAL (SDL_malloc.c:5432)
    ==9363==    by 0x48A6153: SDL_SetHintWithPriority_REAL (SDL_hints.c:76)
    ==9363==    by 0x48A6254: SDL_SetHint_REAL (SDL_hints.c:101)

commit 9409642e08ceafdf10ef9ccc8d6ef9a35dcce9b8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 21:24:24 2021 +0300

    fix some warnings from vita builds (missing includes)
    
    also some tidy-up to whitespace.

commit 21d46b7e0c59b9b0385293acc90893e879363da3
Author: stdgregwar <gregoirehirt@gmail.com>
Date:   Sat Dec 26 12:46:07 2020 +0100

    PSP renderer fixed

commit 6f6382f8d06f777edd77f95b5f91a1c583c13e8d
Author: Sergio Padrino <sergio.padrino@gmail.com>
Date:   Fri May 15 20:45:30 2020 +0200

    Fix SDL_GameController API for PSP (#3)
    
    - Add missing mapping
    - Make sure the only window has the keyboard focus (so no `SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS` is needed)

commit da0f76de6d8e31c610a18933423213c46974388e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Dec 7 00:38:46 2021 -0600

    cocoa: Don't round scroll deltas from trackpads
    
    Rounding the scroll deltas from trackpads causes jerky scrolling behavior
    by artificially amplifying the effects of very small scroll movements.
    
    We should only round events from devices with discrete scroll wheels,
    because we know the smallest unit of movement there is a single tick.

commit 8cee50eea5f17b8341e11d7cef5122fbbfb3787f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 19:32:56 2021 +0300

    removed stdlib.h from SDL_psp_main.c now that exit() is gone.

commit 4facca0bff18e67d5bb3560f94201a7469d7b9bf
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 19:32:56 2021 +0300

    made Makefile.psp to build libSDL2main.a

commit 00014dc2acd93cf291639c0bf4c3db4f04157604
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 18:47:10 2021 +0300

    fix some warnings from psp builds (missing includes.)

commit da5dbb4763cb9dd6f473ee57bcfa4328415addc4
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 16:43:50 2021 +0100

    Fix SDL2main on PSP (#5076)
    
    - Fix SDL2main on PSP
      SDL2main was not working for PSP, because it wasn't being activated and
      it wasn't unsetting the main. Besides that a debug screen being started
      was causing issues with joystick input and the sceKernelExitGame calli
      is no longer needed with the current PSPDEV SDK.
    - Clean up imports in PSP main
    - Set PSP GPU and user modes in main
    - Fix exit callback in PSP main

commit 2d673e5b560ba71f2a56d26b3f535f88082a821b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Dec 6 22:07:33 2021 -0600

    evdev: Add support for REL_WHEEL_HI_RES and REL_HWHEEL_HI_RES
    
    If supported, these come alongside the regular REL_WHEEL and REL_HWHEEL
    events so it's important that we only process one or the other.

commit 493d45f00f221792270d93ad9e83afa285f77912
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 14:24:32 2021 +0300

    minor tidy-up in cmake script.

commit f266d92286a19600f60911fe064f76d6b7048abe
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 14:04:32 2021 +0300

    psp/SDL_sysjoystick.c: fix -Wshadow warnings.

commit 801dcbc5ef89de7e1f8b71b157d5f4e3eebecb72
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 7 14:04:10 2021 +0300

    SDL_render_sw.c: fix -Wshadow warnings.

commit e17a3154ed22bacc7cfe614c6ab84feb9f991bc2
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 10:56:48 2021 +0100

    Fix build issue

commit 7266cf66c7428f4db988ceb61cb70c9c184767ea
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 10:54:30 2021 +0100

    Clean up PSP render code to fit C standard used better

commit 07608bf45fcf202cbc29136534e04a1143de886e
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 10:36:19 2021 +0100

    Fix ISO C90 violations in psp render code

commit 897c7cfa8b949fcdab6b066c0420737b02ebe321
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 10:24:46 2021 +0100

    Make sure SDL_VIDEO_RENDER_PSP is set

commit bfbdf8969e9708c0c4b43052f358dff4d4ead395
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Tue Dec 7 10:00:01 2021 +0100

    Add automated build for PSP

commit a79b642638555caedb5ebe72dc5cef063b93e003
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Mon Nov 29 20:05:53 2021 +0100

    Make SDL2 able to build or PSP with cmake

commit 21fd0047e3c7a0022d9037703cb9618c76d01dbc
Author: Wouter Wijsman <wouter.wijsman@qbeyond.de>
Date:   Mon Nov 29 18:42:13 2021 +0100

    Initial for building PSP version with CMake

commit d09f80ef18625884ecb36d8ebcb694741db5d566
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 7 11:31:57 2021 +0100

    SDL_DrawPointsF: fix error message typo

commit 6dafc8501752c96fb0ff6c5a0ba913f2e63c2ef5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 7 10:44:12 2021 +0100

    SDL_DrawLines: minor simpification:
    - scale is  1.0f, don't need to multiply
    - typo in error message
    - remap SDL_DrawLines to SDL_DrawLinesF

commit a0818a63e3ec9d9bafbb4118ecb7404d4ac2baff
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Dec 7 10:07:15 2021 +0100

    Fixed bug #5071 - Float conversion warnings in SDL_render.c (see also #5003)

commit 9ae56cb3535d9cb8fa04055941c29e23f763e211
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Dec 6 21:18:23 2021 -0600

    events: Add logging for SDL_MOUSEWHEEL preciseX/Y fields

commit 03019c912ad5f8bcc4d627ebb324e0c976b99cf6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 6 20:37:52 2021 +0300

    autotools, cmake: tighten Xfixes check && explicitly test BarrierEventID
    
    Apparently the older versions of libXi doesn't have it.  Fixes the build
    break issue reported at:
    https://github.com/libsdl-org/SDL/commit/4b42c05ba1eaaaa9a4ef803acea8f13402271039#commitcomment-61427659

commit a709b5b602c525824f0d2293702af3793e920517
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Dec 4 14:14:47 2021 +0800

    video: wayland: Handle 0x0 xdg_toplevel_configure in fullscreen
    
    The xdg_shell spec seems to state[1] that xdg_toplevel_configure events can
    always provide a 0×0 width/height to signal that the compositor doesn't
    care. SDL previously assumed the provided width/height was always valid
    for fullscreen windows, and so applied it as-is.
    
    This broke SDL applications on KDE/KWin 5.23, which now sends 0×0
    configure events (and, in 5.23.3, 1×1 events for some reason), breaking
    all SDL applications in fullscreen[2].
    
    [1]: https://gitlab.freedesktop.org/wayland/wayland-protocols/-/issues/6
    [2]: https://bugs.kde.org/show_bug.cgi?id=444962#c6

commit 2f0edc290642a45a9f415b331eeae6fbcc19e7fb
Author: ALittleDruid <297957399@qq.com>
Date:   Sat Dec 4 09:23:19 2021 +0800

    IAudioClient::SetEventHandle  Parameter eventHandle Should not be NULL

commit b7a0200aab8088e04800d33cc88fee384df0d78c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Dec 3 17:02:30 2021 +0300

    Update 2.0.18 release notes with CMake prefix change

commit a887b8e28b5d72639d403d982612a1ee31bd05a0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 3 20:03:10 2021 +0300

    SDL_test_common.c: replaced all printf() calls with SDL_Log()
    
    Otherwise, if one builds libSDL2_test using a new mingw but builds
    the test programs using an older mingw, a link failure happens:
    
    /opt/local/x86_64-w64-mingw32/lib/libSDL2_test.a(SDL_test_common.o): In function `printf':
    /opt/local/x86_64-w64-mingw32/include/stdio.h:372: undefined reference to `__imp___acrt_iob_func'
    collect2: ld returned 1 exit status

commit 5056b29b0f8611b470d8b8bdb313eab628f8bd6e
Author: Weng Xuetian <wengxt@gmail.com>
Date:   Thu Dec 2 17:14:58 2021 -0800

    Fix the wrong int size for fcitx capability.

commit d68b429cfb79e99abc5fdc206b4fe4fc8dac7731
Author: Anders Jenbo <anders@jenbo.dk>
Date:   Thu Dec 2 23:57:00 2021 +0100

    [ios] Fix failing to link iconv when build using CMake

commit 514f5858e47ade1c04fc7693191dd1daffb120b4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 2 20:11:40 2021 +0300

    autotools: disable static builds on os/2

commit e14d10263cc7c8ab2be8758d7c347b3365f9a62c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Nov 26 13:12:22 2021 +0100

    Change viewport and cliprect to float version: from SDL_Rect to SDL_FRect

commit 7828362da9bf269c76ba0a6c128a98c639bf07b2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Nov 24 16:45:06 2021 +0100

    SDL_Renderer software, D3D11: don't use "renderer->viewport" in back-ends, but use the one from SETVIEWPORT cmd

commit a2b13e585cde7445316724123b051faae2a72c45
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 2 02:28:24 2021 +0300

    SDL_iconv_string: avoid memory leak if realloc() fails.

commit f14a8bfa4e7ff4f7108a2adb9a3d9dd187285cdc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 21:33:02 2021 +0300

    fix whitespace.

commit b71bfdaafbb62f1069fa67cd75bd5c985f45eea7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 20:50:40 2021 +0300

    SDL_iconv.c (encodings): mark "WCHAR_T" as ENCODING_UTF16LE for OS/2 too
    
    whcar_t is unsigned short in os/2, like windows

commit cbe97cbf7f9799a35fbd3a951162dc7de5b4686c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 21:25:40 2021 -0800

    Added a step necessary for running on a real device

commit 66b0a6ee15fc0dd2d2fd68c96278b64414995d11
Author: Davis Mosenkovs <davikovs@gmail.com>
Date:   Wed Dec 1 01:33:57 2021 +0200

    workaround for libmali gbm_device_get_fd()
    
    gbm_device_get_fd() in at least some libmali versions duplicates handle.
    Other implementations do not do duplication. To prevent handle leak save
    drm_fd in SDL_DisplayData.

commit 0c7c4bfcf920cfc5d66b0a7054a53904c668ef8f
Author: Simon McVittie <smcv@debian.org>
Date:   Tue Nov 30 23:15:03 2021 +0000

    docs: Don't let Doxygen expand HOME environment variable
    
    Otherwise, the API documentation will encode the home directory of the
    user or autobuilder that built SDL, instead of telling the user to use
    the literal string $(HOME) as intended.
    
    See also <https://github.com/doxygen/doxygen/issues/7073>.
    
    Signed-off-by: Simon McVittie <smcv@debian.org>

commit 339f0d4097398c045482c091982848d0441768c8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 02:32:10 2021 +0300

    configure.ac: adjust os2 section for system iconv() use.

commit 563ef2aeb23ea722b773be8f5d216c53ad3eec18
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:56:50 2021 +0300

    regenerated configure scripts.

commit efa1aa9a8fe9da03ec4e556e38d95f9fa5c42f2c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:55:56 2021 +0300

    initial attempt at adding os2 support to autotools

commit 3355464079d5afd2c5c598bf959396a68883d85a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:55:40 2021 +0300

    libtool upgrade to 2.4.6 - 18/n: SDL customizations
    
    removed os/2 versioning support.

commit 5ae2f0fd19263087619010096d14944ea1d1b3d7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:55:32 2021 +0300

    libtool upgrade to 2.4.6 - 17/n: SDL customizations
    
    fixes Windows linkage and the DLL name convention.

commit 6a5aeaf94807ee15ee49114de58fa662ae600fa6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:51:24 2021 +0300

    libtool upgrade to 2.4.6 - 16/n: Fedora ABI-specific directories patch:
    
    https://src.fedoraproject.org/rpms/libtool/blob/master/f/libtool-2.4.5-rpath.patch

commit 792d7c9f6dc98d1d68f216130f0fb067a4fbb5f9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 15/n: -Xassembler and -Wa,* support :
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=86d71e869d998fb09bee543a2aaef7beb6d6f591
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=1b74d78401d7e09d5c31f4d479109d9b52984a32

commit 8c44e0e0f81b4847abb62c341e6e963883331f3a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 14/n: support for MidnightBSD
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=5df7dd49d5e68ea45118a0687ef2d4dd00399f1e

commit a6df1f7be1948bf97806ac5948ebbaf1c6ca354b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 13/n: add mingw to systems not needing libm.
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=46559

commit 897efe1837b275fc87b569af18322abe17927097
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 12/n: fix preloading symbols on Solaris 11.3
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=22373

commit b5dc1eedb8a6a0af39d720b5a68b26a75cc3ce00
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 11/n: FreeBSD elftoolchain strip support
    
    http://savannah.gnu.org/patch/?8675
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=d7c8d3b43fef8641f4354edaa0429d157259bf56

commit 3cbd561690df86ab237f0067059cade708c452e6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 10/n: export AIX TLS symbols fix
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff_plain;h=d15b321427c8b7dca0347ac56525cb64bde07ddc

commit 27666089b97013de8beff9e71d372f6546d1a852
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 9/n: fix func_fatal_error function name typo
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=350082b6aa89f9ef603fcebbb4cf33f15a743f2f

commit 4be6ab26926725f2f7bef75d637bfa6212aef825
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 8/n: set file_list_spec to '@' on OS/2
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=a938703c462bd2ba0e520808d45186020ea600be

commit 83a22d059c3af2d857bb28655c773f3231b03a5d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 7/n: fix an os/2 typo
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=38305

commit e8881b0d3edb3fb32edf1a641b5e7b9beb30dec2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 6/n: fix typo introduced in libtool-2.4.3
    
    i.e. wrong -L/-R detection. see:
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=21137 | 22895 | 31900 | 36762

commit 8b13673c19381a226154a089a8981574cfb8ffb3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 5/n: fix linker error for powerpc64le
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=23348

commit 8e62063811258faed07ff0b67c8dd642753bc914
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 4/n: fix m4 quoting bug
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=41837
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=0904164dd5b57b3230dce04207738ce961591762

commit df40268254a4b79447ff5cd171a8c3a051bea182
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 3/n: fixes for gcc/clang linkage
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=702a97fbb09bd7088a50f2b239016d1e32843c24
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=a5c6466528c060cc4660ad0319c00740db0e42ba
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=f9970d99293faf908fdc153a653fa5781095fb7a

commit 647514a5d00acf3b661804f908d78ac61d7bf352
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:10 2021 +0300

    libtool upgrade to 2.4.6 - 2/n: support macOS 11
    
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=9e8c882517082fe5755f2524d23efb02f1522490
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commitdiff;h=8f4bdbda0a0c85cf6375a4c7546b83eb3fb596d3
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=44605
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=44684

commit c8ddccdef41dfc03c9eb61c7a6f6144ddd6f5528
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:50:02 2021 +0300

    libtool upgrade to 2.4.6 - 1/n

commit 662ea5abe423c3d2a6a043f288c838bbc9a2938b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:40:24 2021 +0300

    minor correction after previous patch and minor tidy-up.

commit 70c5e91d0f208b0274c136c7dcae13167a8b69d3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:20:10 2021 +0300

    os/2 optionally builds against libiconv.

commit b20484e803d18e8ec863a8725a18bfac9d9d8bd0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 1 01:20:02 2021 +0300

    minor os/2 reorganization for iconv

commit 8c91cf7dba5193f5ce12d06db1336515851c9ee9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 12:36:46 2021 -0800

    Always create a full 256-entry map in case color values are out of range
    
    Fixes https://github.com/libsdl-org/SDL/issues/5042

commit 056c09942dbffaa128612fc6f1969ab0fc28e2ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 12:19:26 2021 -0800

    Updated iOS build instructions

commit a4c04ad230ab3fb733ee6804530d7eccba365cc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 10:32:21 2021 -0800

    Fixed building with iOS SDK prior to 13.0
    
    Fixes https://github.com/libsdl-org/SDL/pull/5045

commit 8589134f160a9d0898a2f3bdf87300837be4367d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 10:23:21 2021 -0800

    Fixed potential buffer overflow in YUV conversion
    
    Fixes https://github.com/libsdl-org/SDL/issues/5043

commit 09465a9083e1627776fdf2720e7117be5e41915a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 30 21:10:10 2021 +0300

    hidapi, windows: replace a strncpy() with plain memcpy()
    
    mainstream has a similar change, already.

commit 5fc901d4f3e7cafe7b881fa70b8224ff0f077e26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 30 09:58:21 2021 -0800

    Updated to version 2.0.19 for development

commit 2e9821423a237a1206e3c09020778faacfe430be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 29 20:20:07 2021 -0800

    Aded a patch note for relative mouse mode over RDP

commit 715d481271eafa047a2e610399aeee1df7b91a22
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Nov 29 22:43:25 2021 +0300

    windows: Fix GUI key state when grabbing the keyboard
    
    When our keyboard grab hook is installed, GetKeyState() will return 0 for the
    GUI keys even when they are pressed. This leads to spurious key up events when
    holding down the GUI keys and the inability to use any key combos involving
    those modifier keys.

commit b6bc3a6b0e435eae7340acc5d51ec05d7f21505e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 29 09:00:54 2021 -0800

    Added a mapping for the PS4 touchpad button on Windows
    
    Fixes https://github.com/libsdl-org/SDL/issues/5035

commit 4b571c624c9c8cbbf05070b8bc3862d852a46e48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 29 09:00:26 2021 -0800

    Added an option to map the touchpad button for Sony controllers

commit f6fdbc1e37f445a18003a9ab0408662f3487d1af
Author: David Gow <david@ingeniumdigital.com>
Date:   Mon Nov 29 21:16:15 2021 +0800

    video: x11: Fix an invalid SDL_LogError() call
    
    This fixes a compile warning — and possible invalid memory read —
    introduced in 9c03d255 ("Add back X11 legacy WM_NAME encodings"), which
    was part of PR #5029, fixing Bug #4924.
    
    The issue is with one of the added warnings in X11_GetWindowTitle().
    Basically, the "title" variable passed to SDL_LogError() hasn't been
    initialised yet: we could pass propdata in directly, but it's better to
    move the SDL_LogError() call until after title is set, IMHO.
    
    This fixes the following warning from gcc (SUSE Linux) 11.2.1:
    In file included from /home/david/Development/SDL/src/video/x11/../../SDL_internal.h:45,
                     from /home/david/Development/SDL/src/video/x11/SDL_x11window.c:21:
    /home/david/Development/SDL/src/video/x11/SDL_x11window.c: In function 'X11_GetWindowTitle':
    /home/david/Development/SDL/src/video/x11/../../dynapi/SDL_dynapi_overrides.h:33:22: warning: '%s' directive argument is null [-Wformat-overflow=]
       33 | #define SDL_LogDebug SDL_LogDebug_REAL
    /home/david/Development/SDL/src/video/x11/SDL_x11window.c:720:13: note: in expansion of macro 'SDL_LogDebug'
      720 |             SDL_LogDebug(SDL_LOG_CATEGORY_VIDEO, "Failed to convert WM_NAME title expecting UTF8! Title: %s", title);
          |             ^~~~~~~~~~~~

commit 3ba9276affb38ae9a6bd4bf9cb010f4ddbcc1644
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 28 21:14:02 2021 -0800

    Don't fail the sensor init if we couldn't create a sensor manager (i.e. we're running on Wine)
    
    Fixes https://github.com/libsdl-org/SDL/issues/5031

commit 6872cb12e67fa6159924406b1b3977158ac30612
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 28 21:10:46 2021 -0800

    null-terminate the message buffer if FormatMessage() fails

commit b5d47aa297d508fd1c19eac40a9640a904e62bc4
Author: Fredrick Brennan <copypaste@kittens.ph>
Date:   Sun Nov 28 23:15:31 2021 -0500

    Fix comment style for old compilers (`//`⇒`/**/`)

commit 367684b0c282eaa59f831fece112b2bb82a2a7ad
Author: Fredrick Brennan <copypaste@kittens.ph>
Date:   Sun Nov 28 22:56:24 2021 -0500

    Add patches suggested by @slouken in round 1 review

commit 9c03d2554317147af7ae3588a0a3117e4c6fec2f
Author: Fredrick Brennan <copypaste@kittens.ph>
Date:   Sun Nov 28 16:18:39 2021 -0500

    Add back X11 legacy WM_NAME encodings
    
    Closes #4924.
    
    Based on patches of the past, such as this work by James Cloos in July
    2010:
    https://github.com/exg/rxvt-unicode/commit/d7d98751b7385416ad1694b5f1fde6c312ba20d5,
    as well as code comments in the Perl module X11::Protocol::WM
    (https://metacpan.org/pod/X11::Protocol::WM) and even the code to Xlib
    itself, which taught me that we should never have been using
    `XStoreName`, all it does is call `XChangeProperty`, hardcoded to
    `XA_STRING`!
    
    What can I say, when the task is old school, the sources are too 😂

commit 72e53e4b87c8b0dc267cac596934e38d3068473d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Nov 28 19:25:22 2021 -0500

    wayland: Clear driverdata before calling ResetDisplayModes

commit ede73b4cfc28c8b62be1b346beedefc41d3557c5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 28 23:02:02 2021 +0300

    testnativeos2.c: make its code style to match SDL2.

commit 942973dd86a868ddc08e390d776f7db3bb2e7cea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 28 09:27:28 2021 -0800

    Use mouse ID 0 for raw mouse events
    
    We don't track state for each mouse individually, so we should just use the global mouse ID for all events.
    
    Fixes https://github.com/libsdl-org/SDL/issues/5026

commit f1c15aa3240b6ed2c39f597b695396ca9992b801
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 28 08:56:25 2021 -0800

    Tests cover the latest SDL features

commit 976328bb0f7c670c0f8964f92c81ac5224985143
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 28 08:54:18 2021 -0800

    Fixed ABI break in SDL test header

commit dd2f91118e8a44194c21d4cc38ffceb0c7055044
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 20:18:29 2021 -0800

    Fixed warnings with Windows SDK 10.0.19041
    
    Fixes https://github.com/libsdl-org/SDL/issues/4998
    Also breaks https://github.com/libsdl-org/SDL/issues/4998 for older SDKs, but we're going to ignore them, they're just incorrect.

commit c2904c8ce70cb1c295740ab5d65d36d226ead11f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 11:16:15 2021 -0800

    Fixed compile warnings and errors
    
    Fixes https://github.com/libsdl-org/SDL/issues/4998

commit 8f17af5e21cca78146b58728ed4f99a6efa65e8e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 27 20:56:56 2021 +0300

    hidapi: mark libusb function pointers with LIBUSB_CALL.

commit 6c25aed419d98582a9bc0578e272f1a766d50bf6
Author: Nate River <65733513+neet93@users.noreply.github.com>
Date:   Sat Nov 27 14:01:18 2021 -0500

    added hint for joysticks to stablize sixaxis & dualshock controllers (#5007)

commit a6cbe0ab87f431d36873461fe676d822d2ed13b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 10:58:12 2021 -0800

    Controllers are always centered at zero using XInput and WGI

commit aa1d76e829c478bf19f8c1ef321f1c2c45d5b33d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 10:55:54 2021 -0800

    Added a patch note about WinRT/UWP WGI support

commit 09b7ca27d6af5b897052d93d9cba78e09393ec97
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 10:53:20 2021 -0800

    Get the current WGI controller list at startup
    
    On Win32 this list is empty and we always get controller added events. On UWP, this list is populated and we don't get controlle added events for currently connected controllers.

commit 12895eca1a8e9321de1a6a82dd733e56391c7cbb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 10:52:58 2021 -0800

    Fixed WGI initialization on Win32

commit 110e4e133453cc4f9c466a6312f7f52d02eff516
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 10:24:32 2021 -0800

    Use WGI instead of XInput for Windows 10 UWP apps
    
    Fixes https://github.com/libsdl-org/SDL/issues/5017

commit e04a0221e357c1b89bc11c284f06e7b31206cdfe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 09:36:44 2021 -0800

    Fixed crash running SDL test programs on UWP

commit 5a0ea7fb17b46df6e6fc1074c0f96bfa18851a7a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 27 19:10:10 2021 +0300

    Check for O_CLOEXEC definition in fcntl.h at configuration time,
    
    If not available, define it internally as 0 (in SDL_internal.h).
    Define it as available for macOS >= 10.7 in SDL_config_macosx.h.

commit f903a39e13b09733ea4438d937ec8dc23419248f
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 27 10:18:41 2021 -0600

    haptic: Fix SDL_MouseIsHaptic() always returning SDL_TRUE on Android

commit 11a9cd6344f30055c5730f01bcab141e13151f45
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 08:14:50 2021 -0800

    Fixed building SDL on UWP

commit 3008b005c3f07c370eda7dd855dbf10443cee888
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 27 07:56:04 2021 -0800

    Include SDL_hidapi.h in the public headers
    
    Fixes https://github.com/libsdl-org/SDL/issues/5015

commit 02021ae753474d8e09bcb23afe5ec724f16d11e2
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sat Nov 27 13:17:04 2021 +0100

    Return capabitlities from RawInput joystick

commit b786c100133aea233f349979def7e3633b092c2d
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Fri Nov 26 19:45:16 2021 -0700

    SDL_render_gl.c: GL_RunCommandQueue: always set viewport_dirty on macOS
    
    Without this, moving the window changes the viewport and causes contents
    to render stretched.
    
    Fixes #1504

commit 4f683f01d4d3cbdf83fd01a59ed730cb9f3f760b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 17:26:42 2021 -0800

    Fixed potentially truncated entry in stack trace

commit 5f1558ffe38d73e1c7fc79f7d234ba5b059fe0bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 13:47:42 2021 -0800

    Fixed detecting Raspberry Pi 2/3 video support on Pi 4

commit 4e5839a5f4a09afd046b3ea4c16f0d4d542a8e28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 13:45:08 2021 -0800

    Fixed compiling for Raspberry Pi

commit 86c0cf2bb1031333bfa131b23f153f4a39a239cc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 26 14:31:20 2021 -0500

    software: Draw a single pixel for a line with the same start/end point.
    
    Otherwise it would drop it, which seems like a bug to me, as it normally
    fills the endpoint on lines.
    
    Reference #2006.

commit a2e856523089d5d95ba565a26a35ab367c960f12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 11:04:15 2021 -0800

    The Google Pixel fingerprint sensor isn't actually a joystick
    
    Fixes https://github.com/libsdl-org/SDL/issues/4971

commit cb2f3bedf5919af5b689214a79128cad2831cedb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 26 21:20:50 2021 +0300

    tidy-up a comment in cmake script

commit 67b5de5b414133e5f60c14f3f85d7ec6ca2925a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 10:18:08 2021 -0800

    Fixed build warnings

commit 2ca2ad76dab89743681b3851029fa026622d629e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 10:13:45 2021 -0800

    Fixed build warnings

commit b6c1cfb93afe516d559786ad53b09d484a151dc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 09:37:27 2021 -0800

    Added API changes in 2.0.18

commit f90164a62f8486a57667f2c934f2fcbe9846f8b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 09:01:29 2021 -0800

    Fixed mapping for the G-Shark GS-GP702
    
    Fixes https://github.com/libsdl-org/SDL/issues/5006

commit 22e59cd106185dc8f7972988a396e03ff76223dc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 26 19:15:28 2021 +0300

    CMakeLists.txt: update DYLIB_CURRENT_VERSION too 2.0.18 for release

commit 7242075b2bde60b853b2a005a2f256a683a95a34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 08:12:45 2021 -0800

    Updated version to 2.0.18 for release

commit d861820465b3ae77fa37fb3605ca73100320d1ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 07:57:19 2021 -0800

    SDL_JoystickGetAttached() doesn't need to be noisy for NULL joystick
    
    Fixes https://github.com/libsdl-org/SDL/issues/5008

commit 30f04d63e6972855626278469a4c1762d27736b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 26 07:15:46 2021 -0800

    HIDAPI is only reliable on Android 4.3 and newer
    
    Fixes https://github.com/libsdl-org/SDL/issues/4955

commit d713a68071fe3ad8a60be3d92054a04325c5dfd8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 25 22:32:40 2021 -0500

    pulseaudio: wait until at least 1/8th (!) of the mixbuffer is available.
    
    This is to workaround systems where we hang in playback because the buffer
    does not report the space for whatever reason. The system will instead block
    in PlayDevice, which always immediately follows WaitDevice in modern times
    so this works out, and it seems to keep the device moving forward.
    
    For a future revision, we are either going to clean this up more properly,
    or attempt to move to PulseAudio's pa_stream_set_write_callback() API, but
    this will do for SDL 2.0.18.
    
    Reference #4387 for discussion and further information.

commit eb39e205886c4ac66db221e76e2896ee31590768
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 25 17:00:50 2021 +0300

    SDL_endian.h: remove aarch64 asm.
    
    The asm has been reported broken in at least optimized Apple M1 builds;
    and besides, the compiler builtins have precedence over the asm anyway.
    
    Closes https://github.com/libsdl-org/SDL/issues/3943

commit 53aa8eec5fd3e10fe27e33c3cc22dfd415029ffc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 25 17:00:24 2021 +0300

    minor cleanup for watcom _inline keyword.

commit 3c71f8939bbea58883c4dace49d05a98ae76ad58
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 25 13:53:04 2021 +0000

    Sync wiki -> header

commit 57520cbde64f71877b6dc9c29d7b66fb465cb99b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 25 16:49:57 2021 +0300

    Improve documentation for input grabbing functions

commit 2fa35757a99ccec7d48ea0bbe3d57ef0d9ce9266
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Nov 24 23:34:45 2021 +0300

    cmake: Weak link to GameController.framework to handle older OSes

commit bc409163a81e5f440399926774202dd2da3e37c3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 20 17:05:28 2021 -0600

    cmake: Detect SDL_JOYSTICK_MFI for macOS

commit d5813776db6e921192e356fb6b8bc9cb6254c01a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Nov 25 09:56:15 2021 +0100

    Release UDEV ressources

commit 5cb85d611ddd3278578db57ef0cd51427d8bd695
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Nov 24 22:21:48 2021 +0300

    CI: Add iOS and tvOS builds

commit b99510836e8961369c4dfd08f7c905c4b9f9c55e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Nov 24 13:04:50 2021 -0600

    SDL_mfijoystick.m: Fix -Wshadow warning

commit e77cfb9a110ab8ed0d18e0d12a6be7705ff448dc
Author: DarkContact <DarkContact@mail.ru>
Date:   Wed Nov 24 00:29:45 2021 +0300

    Fixed d3d11 renderer creation

commit d9f70878f9fb531c5a9fc7adfa1fda456b77010c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 24 18:10:00 2021 +0300

    don't use CMAKE_COMPILER_IS_MINGW
    
    Fixes https://github.com/libsdl-org/SDL/issues/5002

commit 57366285d8a7121abc7d6ebdac2edb29da2ac928
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 23 20:14:18 2021 +0000

    Only send display events for hotplugged displays, not the initial state

commit a3c05d2f34a3333a3e7ab7d0931ac97f23a6f66e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 23 19:43:01 2021 +0000

    Added debug output for display connect/disconnect events

commit b7f9c2089a3e4af15e1fa8a9ab0911e1b1980562
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 18:56:50 2021 +0300

    cmake: handle warning flags properly (thanks to hgs3 for pointers.)
    
    fixes https://github.com/libsdl-org/SDL/issues/4983

commit f8900583e5c604f0eef6a3df04d86817dd0d8964
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 17:04:40 2021 +0300

    removed windows winmm joystick driver

commit d2871a348bb71a73252ff38b84dcceb8f9b71342
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 15:10:50 2021 +0300

    testhaptic.c, testjoystick.c:  fixed -Wshadow warnings.

commit e6a4230de9ae54a5ef74ca0406d2ea8fa44cf21e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 23 03:51:32 2021 -0800

    Revert testevdev libc changes
    
    This file uses internal SDL headers as a hack, without actually being built as part of SDL, so we should use normal C functions here.

commit 3eaa80bb0b465ec690f9dde138c813161dcd1803
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 14:22:02 2021 +0300

    testgamecontroller.c: fixed -Wshadow warnings.

commit 370b8318af5f340e0d200932f427122eaebffa40
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 14:01:10 2021 +0300

    testmouse.c: fixed -Wshadow warnings.

commit 381f99a3fde8ea4b28276607024db0dcffdb9f33
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 10:58:04 2021 +0100

    Fix warnings: re-add enum forward declaration

commit dd6817b3b7b05ce12720b39b4c04a5ae92481677
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 10:47:34 2021 +0100

    Fix warnings: static function, {} initializier, un-needed enum forward declaration

commit fae7034901365b19c0996ad0041a9c6ff5ef3ae1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 10:33:12 2021 +0100

    Fix warnings:  static, include, un-initialized vairables

commit 2a24418bd3eede003a0443dfd493ceed1912f788
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 09:44:37 2021 +0100

     More "Integer overflow generates Illegal instruction under sanitizers" (see bug #4995)

commit e5467af7c89279c988aa770b358c5ed72b4fdb2a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 09:42:07 2021 +0100

    Minor change comment

commit 9c72adc86c316d8f1f72a171a977b86b5f90f4f7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 09:41:01 2021 +0100

    More "Integer overflow generates Illegal instruction under sanitizers" (see bug #4995)

commit 8dd6edec00bb604a19385d9b02cb692e9c280220
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 23 09:30:42 2021 +0100

    Fixed bug #3232 - Integer overflow generates Illegal instruction under sanitizers  + see bug #4995

commit e18be04bc6ae964beb175b5468595d640a100eec
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 23 08:01:02 2021 +0300

    Fixed undefined behavior in QueueCmdSetDrawColor()
    
    Fixes https://github.com/libsdl-org/SDL/issues/4995
    Patch from Andrew Kelley

commit c878d9a0aaed2431a66ff1e1f221b83317286402
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 17:06:41 2021 +0100

    Haiku: comment this should not be SDL_free()

commit c0029f01d7f8695aea3f82dbb4d7fddfaba2aec2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 17:00:48 2021 +0100

    remove 'free' in comment

commit aef7105408357fc7e6c165688d559da739e8247e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:58:04 2021 +0100

    Use SDL_free

commit 2004aaf3bbbcd54f9b188d0421e253dcde6211bc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:54:17 2021 +0100

    SDL_wave: use SDL_free

commit 0445c13aae157146432bde5ab602604d04377831
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:49:17 2021 +0100

    Remove 'malloc' from comment

commit 155db97d144a6c1d49ed05a88ee8538e00c1c3e8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:48:13 2021 +0100

    Remove 'malloc' from comment

commit c3633d2c9921571c5bde236037a226a59ab645fc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:44:48 2021 +0100

    Haiku: use SDL_malloc

commit 79b37cc55f606bc28a8ae1ebb4eae698c60215f5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:43:49 2021 +0100

    Pandora: use SDL_malloc

commit 10ffcbb115ac3c34d2c7135a0ab755b25d672657
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:41:45 2021 +0100

    QNX: use SDL_malloc

commit e72beeb2a0bc2b39111075ff42dc45f7a16686a8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:40:29 2021 +0100

    Remove 'malloc' from comment

commit 38cfe25bc5f8b48373917ad68ac5fe7053888a74
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:39:56 2021 +0100

    Remove 'malloc' from comment

commit 4d566e5d5d41d6e760bd70a296651926d46eec3e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:39:22 2021 +0100

    VITA, PSP: use SDL_malloc

commit 9fcc630fb33acbe0024ad36da7a27e33b10277cb
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:37:34 2021 +0100

    X11: use SDL_malloc

commit 19bf36db155071422db256c8960aac5710e936d3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:37:19 2021 +0100

    DirectFB: use SDL_malloc

commit 8fb19d212e4cffdee7c8452d283b24aff2a406d0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:29:24 2021 +0100

    Vita: unneeded include

commit e702a4e520069e26c46c65c8a348332aa322a712
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:28:49 2021 +0100

    PSP: un needed include

commit 8e851a277dc4eb64e23a88cc9de622be6aa1f252
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:28:07 2021 +0100

    Remove malloc from comment

commit 0ef9d26622c5e6848783978458c2d163b5885e18
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:24:19 2021 +0100

    cpuinfo: remove malloc from comments

commit 5699e0fa0c9617138754e1954c6cf71ad98526d9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:22:39 2021 +0100

    visualtest: use SDL_malloc

commit 30338beb618a08244f4049b956f7cbbbec67baeb
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:17:39 2021 +0100

    Minor comment

commit fb218e582abd85f808fbe7b33ad8c0e8a7618bc3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 16:16:04 2021 +0100

    PSP: use SDL_malloc/SDL_free

commit f1582f549be33b8c74219fffc12747a6c0236b56
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:27:40 2021 +0100

    Fix comment

commit 5a7a7ba57081952fd5baee6a8310996a012095b6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:25:59 2021 +0100

    Don't use "realloc" in comment so that it doesn't show up

commit b4aeaa30a1ee5a95cbb498f434af2f8e3669bbdf
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:20:52 2021 +0100

    Use SDL_calloc / SDL_free

commit cb9f85e8d03d4c1c55742a5da67d4e5aae91d58f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:18:01 2021 +0100

    Don't use "round", so that it's doesn't show up while searching for the function

commit 6fb50bd0a65235af45fcfd12ec405fda7278138b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:16:23 2021 +0100

    Don't use "exp" as a name so that it's doesn´t  show up with searching for the function

commit 161dd83c9a0cb27fb8e954e2a3287c99b0e3bbcf
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 22 11:15:23 2021 +0100

    Don´t use "trunc" as var name, since it's also a function

commit d31251b0142ae6b275c75a13ce79288b9eb4864d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Nov 21 22:30:48 2021 +0100

    use SDL's functions version inplace of libc version

commit 35b7ce1893f630493de4a3adece829ddbd5f6a66
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 22 14:10:02 2021 +0300

    cmake: final report fixes for mmx, ssemath, dummyvideo, wasapi, xinput.
    
    also moved CoreVideo framework out of if(SDL_FILE) block, and removed a
    now-irrelevant mingw related fixme.

commit 34d9c2e28f057c04ef352384c9c19c3297dc19fe
Author: めぐみ発動機 (isVowel / GreenWing) <60494954+pancakevirus@users.noreply.github.com>
Date:   Mon Nov 22 13:02:06 2021 +0900

    fixed typo: ervironment to environment

commit ee2afa00ba2b0c6bb52eae66259e0b6a01098a77
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 22 05:11:10 2021 +0300

    SDL_mfijoystick.m: fix build using older toolchains
    
    Fixes https://github.com/libsdl-org/SDL/issues/4992
    Fixes https://github.com/libsdl-org/SDL/issues/4958

commit 1927c08036db3cebb5e9e76d02ab837fbd18ef5f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 22 05:00:02 2021 +0300

    minor tidy-up to configury.

commit c97b721868b2f005d7f2b1cbd502a6d6ad5fdd85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 21 12:18:10 2021 -0800

    Added SDL_PremultiplyAlpha() to premultiply alpha on a block of SDL_PIXELFORMAT_ARGB8888 pixels

commit 49369142bddc27203241fce3d23d5b6f4b316fb8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Nov 21 17:40:48 2021 +0100

    Fixed bug #4625: with integer scale, viewport (as reported by SDL_RenderGetViewport) becomes -2147483648x-2147483648
    0 isn't valid scale. Min integer scale is 1.0f

commit a0cb079a4225340fab594fcb4346a22453af0f26
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Nov 21 15:45:08 2021 +0100

    Fixed bug #4982 - Failed to open audio_device on OpenSLES / Android 5.x with freq 96khz+

commit ceb9e9a809be669299d8a75f121e1f8b1fa34551
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 21 00:21:41 2021 -0500

    cocoa: Removed a debug printf call.

commit 18715acb55c139756bedb32f63a1d43034923856
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 21 00:14:18 2021 -0500

    cocoa: Position non-left mouse button events in background windows correctly.
    
    Fixes #4828.

commit 343fa612158e4365bc4ea96e8a939767e806bd4c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 20 13:17:59 2021 -0600

    hid: fix inconsistent indentation

commit db60b27188d275f1bb711bac5e7a9f0295c64b12
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 20 13:13:17 2021 -0600

    hid: Only enumerate IOHIDDevices that are likely to be joysticks
    
    Touching HID devices with keyboard usages will trigger a keyboard capture
    permission prompt on macOS 11+. See #4887
    
    Like the IOKit joystick backend, we accept HID devices that have joystick,
    gamepad, or multi-axis controller usages. We also allow the Valve VID for
    the Steam Controller, just like the Windows HIDAPI implementation does.

commit 23b7bdef876b189039b7ef97b78a432e670f8007
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 20 14:11:30 2021 -0500

    offscreen: Don't fail to create a window because of driver_loaded politics.
    
    Fixes #4922.

commit fadf41fc6e1983a1de664230a58a82b2cad85606
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 20 21:55:20 2021 +0300

    remove excess whitespace

commit 504e7aa59bf8d5dce5356ec7f16d7a0bf6f02a97
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 20 21:51:10 2021 +0300

    minor tidy-up for ifdefs & co.

commit cd86e269e468e5ba312bb78ce6895d79b38d09fa
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Nov 20 19:40:26 2021 +0100

    Fixed bug #4982 - Failed to open audio_device. Android 5.1 should be ok.

commit aeff8748a57e8fe1fbd37a1d1c97b5a872d43779
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 20 13:35:25 2021 -0500

    configure: Allow building of the "offscreen" video target.
    
    It was CMake-only before this.

commit e86d4bde54b57eb39c5a77efa021d611dd7e2f49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 20 13:33:29 2021 -0500

    test: Makefile should copy unifont file, for testime.c to use.

commit 61881eb0a92b1ca29f8c941ec457e3d0a3c50952
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 20 13:14:00 2021 -0500

    docs/README-macos.md: Updated Xcode instructions.
    
    Fixes #960.

commit b6e8651ae9401ef7439d62b599fbe41867158e25
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Nov 20 15:31:21 2021 +0100

    Audio 6.1 should be allowed now (see #4974)

commit b6d365677b62afbf1e490ea049b2129020b2b3af
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Nov 20 15:28:36 2021 +0100

    Fixed bug #4982 - Failed to open audio_device on Android 5.x with freq 96khz+

commit 495ee42a83f73b9fca051bb9567457286f2779ec
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 20 01:15:20 2021 +0300

    testcustomcursor.c: replaced libc sscanf with SDL_sscanf

commit 990fb668f71fb51dc1c698083bb0fd006b77189f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 20 01:02:02 2021 +0300

    tests: several -Wwrite-strings fixes.

commit 665865eda294a2e03aaa9def1c8b6045cd0e406d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 19 09:58:13 2021 -0800

    If the hardware is in an error state, the final page flip may not come.
    
    We should either put a timeout on the wait when destroying the window, or skip it entirely.

commit 6828955ddfab616b40d8b3ebe596c328a5d83167
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 19 09:58:11 2021 -0800

    Trim any extra platform strings from mappings when they're returned to the application

commit 116a002b141e4ea2128def177ab37b39ab6b550a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 19 09:28:36 2021 -0500

    build-scripts/gcc-fat.sh is no longer supported. Use clang-fat instead.
    
    Reference #4809.

commit 881a6749261ab8c3600d3e144078e565cd23572f
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 18 19:58:04 2021 -0600

    rawinput: Only access SDL_RAWINPUT_mutex if initialized
    
    We can also ditch the lock in RAWINPUT_JoystickQuit() now that the joystick
    subsystem quits drivers in reverse order. There's no chance of a racing call
    to RAWINPUT_WindowProc() anymore.

commit 1237142be3065c05a3f1c2fe99843d28474b159e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 18 19:52:34 2021 -0600

    joystick: Quit drivers in reverse order to ensure dependencies are not broken
    
    SDL_WINDOWS_JoystickDriver depends on callbacks in SDL_RAWINPUT_JoystickDriver
    and SDL_HIDAPI_JoystickDriver being available. It also manages the common
    WindowProc used for joystick detection in both WINDOWS and RAWINPUT drivers.
    
    If we don't tear them down backwards, there's a window of time where we could
    invoke RAWINPUT_WindowProc() after RAWINPUT_JoystickQuit() was called.

commit b67965979a758cc11d9cd6bf763d6d76ff1a7f30
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 19 11:55:50 2021 +0300

    SDL_hidapi.c: fix SDL_udev.h include path
    
    fixes https://github.com/libsdl-org/SDL/issues/4981

commit 3ed0c626722daee17659a1589df105643218b641
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 19 01:24:40 2021 +0300

    SDL_RWsize: updated description

commit 0fddda6e5772ca4dc03c3891fe1f81208fc23306
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 18 21:51:05 2021 +0000

    Sync wiki -> header

commit e526830996a980e3e78ad0185880a107cfcc155a
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 18 20:58:04 2021 +0000

    Sync wiki -> header

commit 3f978c0f9307e57fcbe7b167dc34ab9ef245f344
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 18 15:56:16 2021 -0500

    include: Improved documentation of SDL_RegisterApp and SDL_UnregisterApp.

commit 09bf12e03524f617a90d0fdb7c1bce1db3e3eb8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 18 15:34:29 2021 -0500

    fnsince.pl: SDL_UnregisterApp() also arrived in 2.0.2.

commit 7f70f6e1e295da04f153a107a9e95f8523b807e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 18 15:30:36 2021 -0500

    include: Note that several rwops functions used to be macros before 2.0.10.

commit 319d2b3e0573240926ee0aab64367e52d4e2d71e
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 18 20:29:04 2021 +0000

    Sync wiki -> header

commit 83024f3299a69a54d26249e1fc7334533851a0d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 18 15:27:21 2021 -0500

    fnsince.pl: Whoops, it's SDL_RegisterApp and not SDL_SetMainReady in 2.0.2.

commit 16a1721e9d422b3b42fe43ef4eb83be6715e14ef
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 18 20:25:05 2021 +0000

    Sync wiki -> header

commit 46f12cc7f73538b3df816205e3ff06088b0bc4fd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 18 15:22:47 2021 -0500

    fnsince.pl: SDL_SetMainReady() originally arrived in SDL 2.0.2.

commit a7a54e64520cff54133f189a3cf4dd1f26395b2c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Nov 18 00:43:55 2021 -0500

    wayland: Add support for display connect/disconnect events

commit c2464653d0642a98dd971a9f762b74455646a3ae
Author: hgs3 <82091+hgs3@users.noreply.github.com>
Date:   Wed Nov 17 18:19:49 2021 -0600

    Remove unnecessary clang-cl check since Clang has __builtin_bswap.

commit 6b66542e7be0861d5dd7c763ab4aae91eddd1268
Author: hgs3 <82091+hgs3@users.noreply.github.com>
Date:   Wed Nov 17 17:04:34 2021 -0600

    Fixing compilation errors for VS2019 Clang toolset (fixes #4702)

commit 5be8a22113c15ee94a433d8ad92f439a5c147e5d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Nov 17 20:37:51 2021 +0100

    Add audio conversion from/to 61

commit dd6269b1e0e49b7ef47551ec350d939a0c4608e6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 17 17:55:00 2021 +0300

    SDL_endian.h: added proper version check (VS2005+) to MSVC functionality

commit d2cf19193638756e48afc19f4ad1fcc753790b30
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 17 10:00:10 2021 +0300

    hidapi, linux: merged a minor warning + code style fix from mainstream.

commit 43d1b42a5ada15109409a8b448a753e25b3b1c1d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Nov 16 17:59:38 2021 -0600

    cmake: Sync build config options with autotools
    
    - SDL_CLOCK_GETTIME now defaults to ON to match autotools build
    - Add detection of float.h and Xdbe
    - Fix detection of pthread_setname_np() (requires _GNU_SOURCE)
    - Move SDL_USE_IME definition into SDL_config.h.cmake

commit 7d3045f2735d116e232076e396c562b46d380be2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 16 23:51:40 2021 +0300

    minor whitespace tidy-up.

commit 29b79313a03010ca02a6cee390f0823125759f7c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 16 23:33:32 2021 +0300

    minor tweak for a slightly smaller configure script

commit 68ffd24c58b1936d5a6840bdc43a2f09dc10d355
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 16 23:37:20 2021 +0300

    autotools, cmake: don't define SDL_JOYSTICK_HIDAPI in CheckHIDAPI()

commit 5cc23868ed335b581c5716e8fb8313495a678ba4
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Nov 15 11:52:43 2021 -0500

    wayland: Add support for SDL_DisplayOrientation

commit 40d808620d18037b8ffbf9b708f40fcffb248312
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 20:17:14 2021 -0800

    SDL_classic_joysticks defaults off

commit 7ad64357ee6290ed811ef597136d36cd9769fb22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 17:04:50 2021 -0800

    Updated Android build environment for examples

commit 66058bbbd5083acfb0ff88c49faac76d725a711f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 16:52:56 2021 -0800

    Fixed exception accessing Bluetooth devices on Android 12
    
    Since accessing Bluetooth prompts the user for permission on both Android and iOS, and we only need it for Steam Controller support, we'll leave it off by default. You can enable it by setting the hint SDL_HINT_JOYSTICK_HIDAPI_STEAM to "1" before calling SDL_Init()
    
    Fixes https://github.com/libsdl-org/SDL/issues/4952

commit be5b4d980d1da12342c11176905bc5e3a975a20c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 16:52:54 2021 -0800

    Added nativeGetHintBoolean for Java code

commit 9ec2b35147764f725c99cc732ec7777d59dda6ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 13:45:53 2021 -0800

    Fixed the GLES2 shader count to be in sync with the enum

commit 2f591fb0a0f1dbe1d4a0e6477df89c694e9f60f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 15 12:50:02 2021 -0800

    Added android:exported="true" to the example Android manifest
    
    This is needed for targeting Android 12 (API 31)

commit b649314d627a77f25315e49cd29e43ec6fe12e63
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 15 13:43:40 2021 +0100

    Add comment to audio clipping (see bug #4104)

commit d4df5d33c5f8bd9da8553fa7263240a1e1cc59cd
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 15 09:43:44 2021 +0100

    GLES2: prevent batching if blend mode changes (see bug #4964)

commit 92f2fdfc84c0efed42198b9ccc5857870f9ad85d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 15 09:36:18 2021 +0100

    GLES2: batch non joined lines (see #4964)

commit 17f156fae5cab42457c422c27364b3aabf21a6f8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 15 09:08:09 2021 +0100

    Fixed bug #4964 - opengles2 & batching = conjoined lines
    put back the initial switch case because groups of joined lines cannot be batched.

commit d8888e468e28a5fce2726b7c8444e5b903981a44
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Nov 15 08:37:49 2021 +0100

    Fixed bug #4964 - opengles2 & batching = conjoined lines

commit 193ab28fe431b12c37bf67599a344b9b0e19b2bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 14 23:35:50 2021 -0500

    Renamed README-macosx.md to README-macos.md

commit 4edf2df5ce5d34c3c6253ac4e6dd817832979170
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 14 23:34:46 2021 -0500

    Unix2dos'd README-macosx.md.

commit bbac1e9add121c76fce91c8c146afd7116a62acf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 14 20:34:41 2021 -0800

    Don't include pthreads code when threads are disabled
    
    Fixes https://github.com/libsdl-org/SDL/issues/4950

commit 93556e67e0faa24e1dc0e11f95dd6898cfa80d2e
Author: Anders Jenbo <anders@jenbo.dk>
Date:   Sun Nov 14 23:39:16 2021 +0100

    Update AndroidManifest.xml

commit b9c619017d4d8e87bcf95503f2d70ed3cdbb99bd
Author: Anders Jenbo <anders@jenbo.dk>
Date:   Sun Nov 14 23:36:05 2021 +0100

    [Android] Limit WRITE_EXTERNAL_STORAGE to SDK 22-
    
    Direct access to the external storage is no longer allowed as of SDK 30. But on older version of Android you will still need WRITE_EXTERNAL_STORAGE in order to request the Download Manager to download files to your external file folder.

commit cc094f4d7c6c0c338f3add9167e7d22373d43c96
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 14 20:15:48 2021 -0800

    Fixed building with the macOS 10.8 SDK

commit d7d67af44164fdf80c8f7103b22ad5bdb356dc7a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Nov 14 17:52:41 2021 -0600

    mouse: Fix Y value in motion events when confinement is active

commit fb6aba19387d3cfa2bd35e4a49dce356420064af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 14 15:35:11 2021 -0800

    Updated SDL_egl.h with the latest Khronos headers
    
    https://www.khronos.org/registry/EGL/api/

commit 1cd3e83756c936cf489ad15f15b94b764d4f2372
Author: Zack Middleton <zack@cloemail.com>
Date:   Sun Nov 14 15:51:38 2021 -0500

    cocoa: Fix abort on touch event types without a subtype
    
    macOS 10.6 has some touch NSEvents which do not have a subtype
    (Begin/EndGesture, Magnify, Rotate, Swipe) and cause an uncaught
    exception which triggers SIGABRT and the program exits.
    
    As it is, none of the macOS 10.6 touch events are detected as a
    trackpad (including Gesture due to using different subtypes).

commit 781caec2b24fa70d61f61aa5d92493e02e1e26e4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 15 00:55:24 2021 +0300

    SDL_waylandevents.c (keyboard_handle_keymap): silenced -Wwrite-strings .

commit 5c067906ba0304729de189c05066d1647583dcda
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 15 00:55:04 2021 +0300

    wasapi: AvSetMmThreadCharacteristicsW takes an LPCWSTR param, not LPWSTR

commit 3eb9bfac7ad1a1dc75d514d6dd0e95007602e6a5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 22:22:50 2021 +0300

    win32 rawinput & wgi joystick: avoid -Werror=declaration-after-statement

commit 73a41f4058564a57b1b1300e942fee3094ce763f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 14 14:15:11 2021 -0500

    Removed outdated build-scripts/iosbuild.sh
    
    Fixes #1532.

commit c55ab9631f38583092b9e609f4441fc4bdb11ca9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 13 22:21:57 2021 -0800

    Added a hint for alternate OpenGL NV12 data format

commit 8a6e48d46d3bd000fa1f64fdc66e7734e7b56533
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 04:40:50 2021 +0300

    constified SDL_RegisterApp()

commit 7dfd22ac5ef60c730d7900053b64e8430e08a29d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 02:32:00 2021 +0300

    fix XGetDefault signature - its first and second params are _Xconst

commit c7aa04d03ec2654315efbb980197610a08bc74d2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 02:31:20 2021 +0300

    SDL_test_harness.c: avoid -Wwrite-strings

commit be7b663c2cee462653f691b1eb623965915462e8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 02:30:56 2021 +0300

    audio/winmm/SDL_winmm.c (SetMMerror): constify.

commit e4aa608a5c9313b60cac6f004fe43b6bcfa799f5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 02:30:34 2021 +0300

    change (char*) casts to (const char*) in WIN_UTF8 macros

commit 780f6cbd382b2df56110a0d855eb39e0450c5a28
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 14 01:10:32 2021 +0300

    build libSDL2_test too with Makefile.minimal

commit eb98ff47405c519f04ab25a0a7c257b3d752d3ab
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 13 13:05:02 2021 -0600

    testmessage: Fix overread of stack variable

commit fbe810070bbd4e13c84d555e36156a198e81d68c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 21:56:20 2021 +0300

    more fixes to standalone makefiles.

commit 62b41f61d4e740f90abd0c82b7ce1a166342c777
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 21:29:50 2021 +0300

    fix build of testmouse.c

commit 2d1706069acc9c1d0b0b57cc72df04740b6cf89a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 21:29:32 2021 +0300

    fixes to Makefile.minimal

commit d1e6bd93d803f12bdebb84f665fa2d7f38f47d12
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 21:29:10 2021 +0300

    fix library name in Makefile.pandora

commit 674f361decbb607bf682535975b64d2ba5ad89fd
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 13 11:44:04 2021 -0600

    wayland: Fix memory leaks in clipboard code

commit 3e2f8668bed6440f320b996af451aeeda2dde5de
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 20:35:24 2021 +0300

    added some more missing sources to standalone makefiles.

commit c8061ed2d1ca42b703deaca22003bbdeb18f09ed
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 13 10:33:37 2021 -0600

    alsa: Fix possible uninitialized string

commit a2c27d39cfd8a24ecf324668097ce89661ffff83
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 17:56:28 2021 +0300

    SDL_hidapi_switch.c (ConstructSubcommand): lose use of '&' on rumbleData
    
    SwitchCommonOutputPacket_t->rumbleData is an array.

commit 6ad0fb8462c0865a5c541ee96c678cf343f68488
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 17:55:10 2021 +0300

    SDL_hidapi_ps4.c, SDL_hidapi_ps5.c: use SDL_zeroa()

commit 70c8d20a46e6988f199ff8c1976f3cb49382a999
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Nov 13 15:04:19 2021 +0100

    Revert previous commit a50ca98e2b9ca10368b62e93b6a0977dc68fd584 (see bug #4625)

commit a50ca98e2b9ca10368b62e93b6a0977dc68fd584
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Nov 13 14:48:36 2021 +0100

    Fixed bug #4625 - SDL_RenderSetLogicalSize issues
    viewport becomes -2147483648x-2147483648 when logical_w/h is greater than window size.
    division should be done with floats

commit a948ff8494ba05dd6af5676f36698f2f74d33015
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 13 11:50:02 2021 +0300

    SDL_hidapijoystick.c: worked around a bogus 'unreachable code' warning.

commit eb3f1462b880fe3770e49c0e3a0478e0151b01cc
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Nov 12 18:26:15 2021 -0600

    x11: Fix memory leak in X11_CreatePixmapCursor()

commit f124259e591fbf76fad734906bfb4288edfe9678
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Nov 12 17:25:24 2021 -0600

    testautomation: fix use-after-free when restoring hint value

commit 704edf632394079c1df61d14ed5aa824432878ae
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Nov 12 17:07:22 2021 -0600

    audio: Fix crash calling SDL_OpenAudio() after SDL_AudioInit() fails
    
    The SDL_WasInit() checks don't work when using SDL_AudioInit() directly,
    which is exactly what audio_initOpenCloseQuitAudio() in testautomation
    does.

commit 78013aeef9134816528cf32d65699484e056c57e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Nov 12 16:57:24 2021 -0600

    alsa: Fix use-after-free when reinitializing

commit e688a95ba40b13099b935aef47af9732c8592ec4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 23:55:40 2021 +0300

    updated os2 makefile for tests

commit 2cf9374270cede2200d2c6067bd267499704f0dc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 20:55:02 2021 +0300

    minor update to docs/README.md

commit 3dc7813ae41a125deb238e434626568f78e45a11
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 20:47:02 2021 +0300

    more whitespace tidy-ups in SDL_os2messagebox.c

commit c2dd50a9a01a05d01e8d9881ec9ba393234644e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 12 08:28:02 2021 -0800

    Fixed whitespace

commit 4a1524350cac0a003b99e25f373d3dc7fae9b8f7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 15:55:50 2021 +0300

    updated linux dependencies for libXfixes-devel.

commit 074e613bbbae00fb73b97f071f25c6d2823e3729
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 12 03:03:56 2021 -0800

    Fixed typo

commit 35d90f17e1c7d3740c75641ef94b5e5c938c20c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 12 03:00:57 2021 -0800

    Better implementation of SDL_SetWindowMouseGrab() and SDL_SetWindowMouseRect() on macOS

commit fa3330baecd3a90c7dc8f8539a7f048e6cf8d316
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 12:55:50 2021 +0300

    autotools, cmake: test Xfixes along with XInput2.h:
    
    because we use Xfixes with XIBarrierReleasePointer

commit c3a4a6a03331069effa5dd87a60b159e7ebeb765
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 12:55:28 2021 +0300

    mark Android.mk as non-executable

commit 5fc7a90a8b5f9a9ef008e0485f9f29f249973841
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Fri Nov 12 10:00:41 2021 +0100

    Fix refcounting in SDL_hid_exit

commit 97c71371f21187f146872d41f94a5593c0a374ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 12 01:21:29 2021 -0800

    If Android version >= API 31 PendingIntent.FLAG_MUTABLE
    "If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app's security."
    
    Thanks @FormularSumo and @cgutman

commit 162772aa63cef9a07001104898b89b67bdd7bc7e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 20:50:54 2021 -0800

    Fixed build warnings on Android

commit 544d2e6aa0332c683821785d527cc8ca3788d23f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 20:47:19 2021 -0800

    Don't try to load hidapi at startup on Android

commit 33735d599711fac5cabc30c1a2d24e2a7b6073e9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 07:40:00 2021 +0300

    mark Android.mk as non-executable

commit 50971577e4a4f57a2c677d8a5f26c951caed68f2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 11 22:35:41 2021 -0600

    dinput: Fix memory leak when SDL_DINPUT_JoystickPresent() returns true

commit ed05a0e9e7ce25348a1648a860511505fbe25d80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 20:33:02 2021 -0800

    Fixed exception trying to get USB permission
    
    You can't set the intent to be immutable, otherwise the USB system can't set the device and permission in the response. This works fine on Android 12 without an immutable intent.

commit acb602d60716450552c08020c740e657e4544803
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 07:28:00 2021 +0300

    minor style adjustment

commit 3bf7994fe27447800102e30888a05bb01396a27c
Author: Misa <infoteddy@infoteddy.info>
Date:   Mon Sep 27 14:38:12 2021 -0700

    Add and use `SDL_FALLTHROUGH` for fallthroughs
    
    Case fallthrough warnings can be suppressed using the __fallthrough__
    compiler attribute. Unfortunately, not all compilers have this
    attribute, or even have __has_attribute to check if they have the
    __fallthrough__ attribute. [[fallthrough]] is also available in C++17
    and the next C2x, but not everyone uses C++17 or C2x.
    
    So define the SDL_FALLTHROUGH macro to deal with those problems - if we
    are using C++17 or C2x, it expands to [[fallthrough]]; else if the
    compiler has __has_attribute and has the __fallthrough__ attribute, then
    it expands to __attribute__((__fallthrough__)); else it expands to an
    empty statement, with a /* fallthrough */ comment (it's a do {} while
    (0) statement, because users of this macro need to use a semicolon,
    because [[fallthrough]] and __attribute__((__fallthrough__)) require a
    semicolon).
    
    Clang before Clang 10 and GCC before GCC 7 have problems with using
    __attribute__ as a sole statement and warn about a "declaration not
    declaring anything", so fall back to using the /* fallthrough */ comment
    if we are using those older compiler versions.
    
    Applications using SDL are also free to use this macro (because it is
    defined in begin_code.h).
    
    All existing /* fallthrough */ comments have been replaced with this
    macro. Some of them were unnecessary because they were the last case in
    a switch; using SDL_FALLTHROUGH in those cases would result in a compile
    error on compilers that support __fallthrough__, for having a
    __attribute__((__fallthrough__)) statement that didn't immediately
    precede a case label.

commit c877dd93c5154b26859beec7487d23c5411e774c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 19:29:42 2021 -0800

    The hidapi code is now built into SDL, we don't need to load a shared library for it

commit 9c3bcf8e8aed6189a6d957e709fe1e50b304e189
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 17:31:14 2021 -0800

    Added SDL_hid_ble_scan() for pairing Steam Controllers on iOS and tvOS

commit abc12a832c393402a6b68a00d41c1ab12c53707c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 15:58:44 2021 -0800

    Revert "Add and use `SDL_FALLTHROUGH` for fallthroughs"
    
    This reverts commit 66a08aa3914a98667f212e79b4f0b9453203d656.
    
    This causes problems with older compilers:
    https://github.com/libsdl-org/SDL/pull/4791#issuecomment-966630997

commit 36b2690e403fe36697cd47dd9521806a7b73d54d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 15:48:56 2021 -0800

    Moved SDL HIDAPI functions into a single block for the ABI

commit cfbae8b967b75668e679cf95715acdf6eb331567
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 11 23:12:04 2021 +0000

    Sync wiki -> header

commit fe09a4930aec2b465d99041360572fd0e400d570
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 11 15:53:11 2021 -0600

    joystick: Add APIs to query rumble support

commit afccabb88183a0c7c3513223b1e026fe16233819
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 11 12:12:05 2021 -0600

    joystick: Add capability flags for rumble and trigger rumble
    
    When API limitations force us to guess, we favor a false positive (reporting
    support when it doesn't exist) compared to a false negative.

commit 1ccfbf963e48cea3bcbf26a34335f98b7a641dcf
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 11 11:13:08 2021 -0600

    joystick: Convert HasLED() into a generic GetCapabilities() function

commit 1ba695dc9412367512df06f65b8907a6649992c3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 12 02:00:04 2021 +0300

    whitespace between '#' and 'cmakedefine' does not seem to work..
    
    at least with my version of cmake-3.9.6.

commit 911d91c55c6539e32d21db64777d5e5c59b155e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 14:35:51 2021 -0800

    Retry hid_send_feature_report() if the ioctl() fails with EPIPE (e.g. the device stalled)

commit a3648e26df2ae746b6835123d871547e3f5c7a83
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 11 21:52:04 2021 +0000

    Sync wiki -> header

commit b15e880e73cc6a8e3f7c73ea8e61346d39096ccf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 13:50:16 2021 -0800

    Fixed open functions in the SDL_hidapi.h header

commit 1e159bc6fa8fdeb9bd5c3daf0aaccc6cf73e16d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 13:45:31 2021 -0800

    Include standard wrapping for SDL public headers in SDL_hidapi.h

commit b9b0df40bfe3566354d72c09dd2f6873f36aae65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 12:52:31 2021 -0800

    Fixed Linux build

commit 76e3bb55bb585fb60eee045bbcc612344f2cdf7c
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Nov 11 20:48:04 2021 +0000

    Sync wiki -> header

commit c9ada1c1427ee8647fad92e2776912e1480297ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 12:45:38 2021 -0800

    Made HIDAPI device change notifications available via SDL_hid_device_change_count()

commit 77a1ad1c61b66b4eb3f1c994969275c361ad13e9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 11 23:40:24 2021 +0300

    minor update to os/2 readme.

commit 63ae103cd184eb46020eb77f5fd49504183296bd
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Nov 11 13:16:34 2021 -0500

    wayland: QTWAYLAND_CONTENT_ORIENTATION can support multiple values as bitmasks

commit ebed961cb2f685a6db9467f2496d644110bea3c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 09:51:39 2021 -0800

    Fixed build with older Linux kernel headers

commit a0f8afb599025fb336b0fcf5176577961080eac3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 09:16:44 2021 -0800

    Separated the HIDAPI subsystem from HIDAPI joysticks
    
    You can now disable HIDAPI joysticks while retaining the HIDAPI SDL API

commit 11ae43ca167476070225d493a642fe6e5bbb96da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 07:49:38 2021 -0800

    Only lock the pointer for mouse relative mode, there isn't really a concept of grab and confinement on iOS
    
    Locking the pointer prevents the on-screen cursor from moving, which isn't what we want with a grab behavior.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4941

commit 66a08aa3914a98667f212e79b4f0b9453203d656
Author: Misa <infoteddy@infoteddy.info>
Date:   Mon Sep 27 14:38:12 2021 -0700

    Add and use `SDL_FALLTHROUGH` for fallthroughs
    
    Case fallthrough warnings can be suppressed using the __fallthrough__
    compiler attribute. Unfortunately, not all compilers have this
    attribute, or even have __has_attribute to check if they have the
    __fallthrough__ attribute. [[fallthrough]] is also available in C++17
    and the next C2x, but not everyone uses C++17 or C2x.
    
    So define the SDL_FALLTHROUGH macro to deal with those problems - if we
    are using C++17 or C2x, it expands to [[fallthrough]]; else if the
    compiler has __has_attribute and has the __fallthrough__ attribute, then
    it expands to __attribute__((__fallthrough__)); else it expands to an
    empty statement, with a /* fallthrough */ comment (it's a do {} while
    (0) statement, because users of this macro need to use a semicolon,
    because [[fallthrough]] and __attribute__((__fallthrough__)) require a
    semicolon).
    
    Applications using SDL are also free to use this macro (because it is
    defined in begin_code.h).
    
    All existing /* fallthrough */ comments have been replaced with this
    macro. Some of them were unnecessary because they were the last case in
    a switch; using SDL_FALLTHROUGH in those cases would result in a compile
    error on compilers that support __fallthrough__, for having a
    __attribute__((__fallthrough__)) statement that didn't immediately
    precede a case label.

commit 828a0a4a10ca26a41576c98cfdf78158a04d60e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 07:13:29 2021 -0800

    Fixed mapping for PS4 controller when using the classic Joystick
    interface on Linux

commit dc9de1e2bd09825fc3ee4482de1fcda42bf2baa6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 07:03:30 2021 -0800

    Get the correct USB VID/PID information for /dev/input/js* devices

commit bd92a95f2202f855e10eee1e3196cac66a4ca89b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 11 06:30:36 2021 -0800

    Cleanup for the /dev/js* support (thanks @meyraud705)

commit 3090812e1e74f3b20207f2cf95bd0d973a7628e9
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Thu Nov 11 11:27:56 2021 +0100

    Convert last SDL_IOReady()'s 2nd parameter to flags
    
    Conversion missed in https://github.com/libsdl-org/SDL/pull/4897

commit 1c78b0800759174abe1bac01ce5b9cd788a6a372
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 20:02:25 2021 -0800

    Added support for /dev/input/js* on Linux
    
    Added the hint SDL_HINT_LINUX_JOYSTICK_CLASSIC to control whether /dev/input/js* or /dev/input/event* are used as joystick devices
    
    Added the hint SDL_HINT_JOYSTICK_DEVICE to allow the user to specify devices t
    hat will be opened in addition to the normal joystick detection
    
    Fixes https://github.com/libsdl-org/SDL/issues/1314
    Fixes https://github.com/libsdl-org/SDL/issues/1727
    Fixes https://github.com/libsdl-org/SDL/issues/1981
    Closes https://github.com/libsdl-org/SDL/pull/4727

commit 65a50b243080ff399232cb51d029fdf02123e1e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 16:15:22 2021 -0800

    Re-enable udev joystick enumeration by default

commit dfb834d3d4d06c9529d7577127d65b88a9ffc52d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 13:41:44 2021 -0800

    Track button state for each mouse input source separately
    
    This way we'll get button down and up events for each mouseID
    individually.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4518

commit cb4491ca603def5f66709569dda7c361f50c6fcc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 10 16:05:03 2021 -0500

    Sync wiki -> header

commit eda4c40732f788ac06f607c70344f801d2f82454
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 12:46:54 2021 -0800

    Make sure the X event is an Xkb event before checking the Xkb event type

commit a1c125c1f5af47e9d12c1195135b80ce90f8d096
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 10 15:40:27 2021 -0500

    fnsince.pl: Report unreleased APIs as part of the next release version.
    
    This keep documentation future-accurate and more importantly: it will
    produce correct results before we tag the official release in git, so
    they'll be correct in the tag and the release tarball.

commit b42ae3dbfe9fad60aa7af00ae2b576a87dba2acc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 10 15:21:01 2021 -0500

    Sync wiki -> header

commit 98c983628726359ee2ccb9053b394fb0e04dbb8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 11:04:51 2021 -0800

    Don't clobber the error in SDL_ShowMessageBox() if one has been set at
    the platform level
    
    Fixes https://github.com/libsdl-org/SDL/issues/4760

commit dca5ce4ea3510368f86038b820865c33f775a447
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 10:15:47 2021 -0800

    Clarified that AAudio is only used on Android 8.1 and newer

commit dc4c7d9539fc65ace92c76a2d1536451685b74b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 09:48:49 2021 -0800

    Fixed infinite loop in SDL_vsnprintf() if the format string is too large for the output buffer
    
    Fixes https://github.com/libsdl-org/SDL/issues/4940

commit d5032582e051d9c3254e02b5b68a01a9bb489304
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 09:45:56 2021 -0800

    Use consistent language between SDLTest_AssertPass() and SDLTest_AssertCheck()

commit 6c4b4ee7a64bdfdcbe2a9fa34b7abeb5882bb23c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 09:41:43 2021 -0800

    Don't assert on API parameters
    
    This causes lots of spam in test automation and it's not clear it's useful to developers. If we need this level of validation, we should add a log category for it.

commit fed857787af1120765a95a352c89f1c9b4206011
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 08:47:39 2021 -0800

    Update the orientation and display modes when the display settings change on Windows
    
    Fixes https://github.com/libsdl-org/SDL/issues/1061

commit c0f1109bd0c8041ae71d601ebd43edaea8c576f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 06:03:01 2021 -0800

    Implemented querying the orientation of displays on Windows

commit 3a31a450287212307e4796494e9c6642b3824310
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 10 05:24:31 2021 -0800

    End the scene before resetting the D3D device, since we'll start with BeginScene after that.
    
    If we don't do this, we'll end up with unbalanced Begin/End scene pairs which causes D3DERR_INVALIDCALL in the present.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4933

commit 6b64c47b69f2cb609668b919812c2ce3baf921be
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Nov 9 23:45:32 2021 -0600

    haptics: Enumerate XInput/DInput joysticks after haptic init
    
    Since the haptic subsystem is usually initialized after the joystick subsystem,
    the initial calls to HapticMaybeAddDevice() from inside SDL_JoystickInit() will
    arrive too early to be handled by the haptic subsystem. We need to add those
    haptic devices for those already present joysticks ourselves.

commit 6f9909b60962259c55d36a85d976cbdd86d3c82e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 21:11:19 2021 -0800

    These functions made it into 2.0.18

commit 0d98793693fa2e428a578efbf3e761aea2d0b4dd
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Tue Nov 9 22:03:42 2021 -0700

    testwm2: Fix video modes menu hit detection when highdpi or logical size used (#4936)
    
    * SDLTest_CommonDrawWindowInfo: log SDL_RenderGetScale, SDL_RenderGetLogicalSize
    
    * testwm2: fix video modes menu hit detection in High DPI cases
    
    - also when logical size is specified, e.g.
      `--logical 640x480 --resizable --allow-highdpi`
    
    * add function to determine logical coordinates of renderer point when given window point
    
    * change since to the targeted milestone
    
    * fix typo
    
    * rename for consistency
    
    * Change logical coordinate type to float, since we can render with floating point precision.
    
    * add function to convert logical to window coordinates
    
    * testwm2: use new SDL_RenderWindowToLogical
    
    * SDL_render.c: alternate SDL_RenderWindowToLogical/SDL_RenderLogicalToWindow
    
    Co-authored-by: John Blat <johnblat64@protonmail.com>
    Co-authored-by: John Blat <47202511+johnblat64@users.noreply.github.com>

commit 27ce91446327c796a3a2dc477d893880d58f4a99
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 20:51:42 2021 -0800

    Send absolute mouse motion when in normal mouse mode and relative mouse motion when in relative mode on iOS
    
    This keeps the SDL cursor in sync with the visible cursor when in normal mouse mode.

commit 19c129faba081fcd420a21810f3fc0beaaaee8ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 20:32:16 2021 -0800

    Added documentation that the UIApplicationSupportsIndirectInputEvents key must be set to true
     in your application's Info.plist in order to get real Bluetooth mouse events.

commit a7e2e3a329344c0f087bcbb56354f9f8bbe4de90
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 13:36:44 2021 -0800

    Fixed rendering in the iOS touch demo

commit 7681929cb46ba63a085e1e96f807437602128c9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 12:30:37 2021 -0800

    Don't send the initial joystick axis event if the application is in the background

commit d31f90d9e18f546b7f8dba7bdb1dc5493228485d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 12:09:01 2021 -0800

    Don't send game controller touchpad or sensor events unless the application has focus
    
    Fixes https://github.com/libsdl-org/SDL/issues/4891

commit d2f756360ea4b1bdfbca63bb60f9fcb3ad573926
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 11:53:59 2021 -0800

    When making the window centered it should use windowed mode size since it doesn't affect fullscreen windows
    
    Fixes bug https://github.com/libsdl-org/SDL/issues/4750

commit 1fc25bd83902df65e666f0cf0aa4dc717ade0748
Author: Susko3 <16479013+Susko3@users.noreply.github.com>
Date:   Mon Nov 8 22:04:34 2021 +0100

    Properly position the IME window(s) on windows

commit 04f42e0468549829d8ba3dd4163180b816cdc557
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 9 11:50:49 2021 -0500

    metal: Deal better with -[CAMetalLayer nextDrawable] returning nil.
    
    Fixes #4863.

commit 8f63e9ff68ff49886c6eaa66288db7590b4c6f0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 9 11:13:52 2021 -0500

    cmake: use generated SDL_config.h to build SDLmain static lib
    
    Thanks to @toazz for the patch!
    
    Fixes #4829.

commit 3a82e432f0344ad3a4a619615fd3bd4c3455a9e0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 9 11:06:33 2021 -0500

    cmake: Moved back to requiring merely CMake 3.0.0.
    
    This means it now works with any CMake released since 2014 instead of 2018.
    
    This was mostly just readding some special cases, and requiring 3.11.0 only
    for Windows Stores apps, which isn't unreasonable. The biggest concern is
    a Linux distribution not having a recent CMake; most other places will be
    manually downloading and installing their own CMake.
    
    Fixes #4930.

commit cfdbd6accabefba8aef8ce48a46f2154d7a2f7ad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 9 10:50:18 2021 -0500

    docs: Modernized README-macosx.md and cleaned up the Markdown a little.
    
    Reference #960.

commit 0f2bf62935fac88eb2c6700b072fcb69844d36ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 06:20:46 2021 -0800

    Fixed building hidapi when libusb is available

commit 7b9fe52e1a683aa842123c8854106fefc6311c36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 9 05:40:57 2021 -0800

    We're no longer building a separate shared library for hidapi

commit e8731933cccd5948ea52e818b9a6f33c9b83334e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 9 13:32:28 2021 +0100

    Fixed warning: macro is not used

commit c7065bf42f02e8a4c4f974218efad82706f4a72c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Nov 9 11:31:29 2021 +0100

    Fix warning: declaration shadows a local variable

commit 715e7bda225226847565ae47a34e9144b8b2d76b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Nov 9 01:43:44 2021 -0600

    haptic: Don't enumerate joysticks if the joystick subsystem is active
    
    The joystick subsystem has complex precedence logic to deal multiple competing
    backends like XInput, RawInput, and WGI. Let it fire the MaybeAdd callbacks
    for joystick devices, since it knows which backend will end up managing them.
    
    This resolves a situation where the RawInput joystick backend would take
    control of an XInput device but the XInput haptic backend would still create
    a haptic device. Since the XInput joystick backend didn't own the underlying
    joystick device, we'd end up with an orphaned haptic device that didn't work
    with SDL_HapticOpenFromJoystick() on the associated joystick device.

commit b2ce22a0776a1f736c92879b9807194649363b7c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 9 10:00:24 2021 +0300

    added src/hidapi/*.c to sources in standalone makefiles

commit ae67c7d2da96ce2b2f8ef2318e6fbcc94d3b89ed
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Nov 9 01:30:00 2021 -0500

    Implemented SDL_SetWindowMouseRect() on Wayland

commit 18e69827aa91d749a7570a642d75fc9d6a187bc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 22:29:02 2021 -0800

    Fixed Linux build

commit 881f747d5c8026a6d4f456db60cf11e67ddd1366
Author: Yufei Huang <yufeih@live.com>
Date:   Tue Nov 9 13:35:18 2021 +0800

    Always destroy icon

commit 7fea557b995d8981e408707ed0ce24c009893072
Author: Yufei Huang <yufeih@live.com>
Date:   Tue Nov 9 12:03:09 2021 +0800

    SDL_windowsmouse.c: Remove LR_COPYDELETEORG flag

commit 67c42cb44c01f85df89b2bb4450a0fc4a3e5f419
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 22:16:01 2021 -0800

    Fixed Windows build

commit fd79607eb077d364b5e46b1e48436cf29c86eee9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 21:34:48 2021 -0800

    Added SDL_GetWindowMouseRect()
    
    Also guarantee that we won't get mouse movement outside the confining area, even if the OS implementation allows it (e.g. macOS)

commit 4db546b092e288caaf8c10188f0b82258bf5c08b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 20:35:12 2021 -0800

    Implemented SDL_SetWindowMouseRect() on macOS

commit 037030a7a2c529c183bb1666584fbc269029f22f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 20:26:40 2021 -0800

    Install SDL_hidapi.h

commit 9c95c2491cafb85de6ce09c653a5754f0d4cb2f3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Nov 8 20:01:56 2021 -0600

    x11: Use XCheckIfEvent() instead of XNextEvent() for thread-safety
    
    A racing reader could read from our fd between SDL_IOReady()/X11_Pending()
    and our call to XNextEvent() which will cause XNextEvent() to block for
    more data. Avoid this by using XCheckIfEvent() which will never block.
    
    This also fixes a bug where we could poll() for data, even when events were
    already read and pending in the queue. Unlike the Wayland implementation,
    this isn't totally thread-safe because nothing prevents a racing reader
    from reading events into the queue between our XCheckIfEvent() and
    SDL_IOReady() calls, but I think this is the best we can do with Xlib.

commit e9dae813d92aaaa5bb6fc52836a40d64d7ac29ec
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Nov 8 20:14:08 2021 -0600

    CI: disable fail-fast to avoid aborting build when one platform fails

commit 2d23d66a6145128a59d4335330c04a266c0365a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 16:33:50 2021 -0800

    Fixed SetWindowMouseRect return value on Windows

commit 7d21322df1fdf1ea9deaec4cdf3250fa3d736177
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 16:29:19 2021 -0800

    Implemented SDL_SetWindowMouseRect() on Windows

commit 684b3b312a20fb9c3b555c31651fd9a6a7aa8be8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 9 02:30:28 2021 +0300

    regenerated configure script.

commit 4b42c05ba1eaaaa9a4ef803acea8f13402271039
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Nov 8 13:52:48 2021 -0500

    video: Add SDL_SetWindowMouseRect.
    
    This API and implementation comes from the Unreal Engine branch of SDL, which
    originally called this "SDL_ConfineCursor".
    
    Some minor cleanup and changes for consistency with the rest of SDL_video, but
    there are two major changes:
    
    1. The coordinate system has been changed so that `rect` is _window_ relative
       and not _screen_ relative, making it easier to implement without having
       global access to the display.
    2. The UE version unset all rects when passing `NULL` as a parameter for
       `window`, this has been removed as it was an unused feature anyhow.
    
    Currently this is only implemented for X, but can be supported on Wayland and
    Windows at minimum too.

commit 1a98dcb6aa0d14717323aa7f4d76dbcebb21659b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 8 15:16:18 2021 -0500

    Revert "include: Updated SDL_config_emscripten.h from emscripten-ports."
    
    Apparently we already had the newer version, sorry!
    
    This reverts commit 6657cbce8dcea9abe4501c8bbf85f2b40e6c927a.
    
    Reference issue #4623.

commit dcc919096f67c09a97b1ba788d31d619b4afa225
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 22:28:00 2021 +0300

    autotools: initial adjustments after the recent hidapi changes.

commit 2636d839e354564ecc3f99dc1c1faa850e06431d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 22:25:32 2021 +0300

    cmake: add hidapi to 'SDL_SUBSYSTEMS'

commit 1739ef3ee19fdbfb74bc88baf043388fe72ef0a5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 22:00:02 2021 +0300

    sdlchecks.cmake: remove libusb/hid.c and SDL_hidapi.c additions to srcs

commit 36067fa12997dea8567655d80aa45b7bb271b4a4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 21:35:24 2021 +0300

    cmake: include hid.cpp in android sources

commit 84138b7719f60e475b9e70f0e708d9ae00a596f8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 21:15:04 2021 +0300

    minor update to os2 config file.

commit 001aa4dab8050aed98938f031a2d80285adba37f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 21:12:02 2021 +0300

    cmake: more hidapi fixes.

commit a3e8fd49e64144b4b951206a5bd8b9e6abefb2a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 09:58:11 2021 -0800

    Cancel any accumulated mouse wheel motion in the opposite direction when the wheel direction changes
    
    Fixes https://github.com/libsdl-org/SDL/issues/2912

commit 5dbbc8e61fde3572be186e82b8d9d491eccdff22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 09:44:31 2021 -0800

    Added mouse wheel deltas with floating point precision
    
    Fixes https://github.com/libsdl-org/SDL/issues/4888

commit d95a52c9a54602f6bbd461a6b32591238f1826d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 09:39:21 2021 -0800

    Fixed comment typo

commit fc998b8ec963101466ee9827423ee29b270d93a2
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Nov 8 12:37:10 2021 -0500

    wayland: Return true for HasScreenKeyboardSupport only if no physical keyboard exists

commit 4bbbe5f84cd8bf7b8b4d4e520f2387dc04dd6b00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 09:28:36 2021 -0800

    Fixed CMake build by adding hidapi files
    
    This needs more work to remove the hidapi shared library build, but at least Linux builds are unblocked

commit b8327a4a48edfc9f6750e39766323e87d3ce1b09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 07:19:45 2021 -0800

    Added SDL_HIDAPI_DISABLED so it can be disabled like other SDL subsystems

commit 2a6feb501186045ac136d9cbe85792ccf38f3598
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 07:10:38 2021 -0800

    Removed accidental debugging commit (thanks @DomGries!)

commit 6c56e275115fdb5a2fb93d4f6f7459ccb8460151
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 07:05:17 2021 -0800

    Set both _NET_WM_NAME and WM_NAME so SDL windows can be shared in the browser.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4924

commit 301819cd1d7dac2d0e953a6f1780d234431d9f75
Author: Yufei Huang <yufeih@live.com>
Date:   Mon Nov 8 20:34:20 2021 +0800

    SDL_windowsmouse.c: Fix WIN_CreateCursor does not scale with system cursor size preference

commit f61b10dcf127645c2ce6cab12d2c71d28d1192d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 8 06:34:32 2021 -0800

    Do more robust validation of devices passed to the SDL HIDAPI functions

commit dd8c354843f26f258006bbb4c75df07292e8ff42
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 17:00:56 2021 +0300

    SDL_hidapi.c: avoid possible NULL pointer dereferences.

commit 2a904aa1c92e1d3ef33d62f6abc665dc917b6af4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 8 17:00:28 2021 +0300

    os2: remove SDL_hidapi duplications in makefile, disable it in config.

commit 5b646cd19e36e02c658fcbf792721b5bdce8491f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 22:58:44 2021 -0800

    Build hidapi code into SDL as a new public API
    
    This prevents conflicts with hidapi linked with applications, as well as allowing applications to make use of HIDAPI on Android and other platforms that might not normally have an implementation available.

commit 94c1276a5ff347eb9ce3ae7778f1192db2790027
Author: Thomas Ballinger <thomasballinger@gmail.com>
Date:   Sun Nov 7 20:49:32 2021 -0500

    emscripten: Decrease vertical scroll speed by using deltaMode
    
    Reference issue #4623.

commit 6657cbce8dcea9abe4501c8bbf85f2b40e6c927a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 7 20:43:49 2021 -0500

    include: Updated SDL_config_emscripten.h from emscripten-ports.
    
    Reference issue #4623.

commit f6dc47caefa8ef83bd5d718aa0f399fd47ca7d6b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Nov 7 16:00:47 2021 -0600

    WGI/DInput: Fix SDL_IsXInputDevice() checks when RawInput is enabled
    
    Enabling the RawInput backend causes SDL_XINPUT_Enabled() to return false.
    That causes WGI and DInput backends to take ownership of XInput-compatible
    controllers, because they think there's no XInput-specific backend enabled.
    
    In WGI's case, it will actually race with RawInput to open the device. By
    properly excluding XInput devices from WGI, we can ensure that the sets of
    devices managed by WGI and RawInput don't intersect. This makes the race
    harmless, since they'll never both go after the same device.

commit 74f35a7cbdc7e669bf09d3b0463d5e1a281f72ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 14:10:04 2021 -0800

    Fixed documentation

commit 301389cecccfc214522758fee5e86728ba7e41e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 13:52:59 2021 -0800

    Fixed iOS build

commit b3e909dc4106d62e087136bd1ba0eb8e783a8ed3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Nov 7 13:51:34 2021 -0600

    WGI: Fix SDL_IsXInputDevice() for Xbox One controllers
    
    The Xbox One driver stack doesn't propagate the VID/PID down to the
    HID devices that end up in the GetRawInputDeviceList() output. This
    means we end up matching against the wrong VID/PID and can't properly
    exclude Xbox One controllers from WGI.
    
    Fortunately, it is possible to walk back up the device tree to find
    the parent with the matching VID/PID.

commit dd85cc0195973860179713284158f84f9b87cc99
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 13:17:54 2021 -0800

    Fixed whitespace

commit 80d19282f735997bc1b748afa0a4d5f3d3dcba6c
Author: FormularSumo <chewy.h@live.co.uk>
Date:   Thu Aug 19 11:40:09 2021 +0100

    If Android version >= API 23 PendingIntent.FLAGIMMUTABLE
    
    "If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app's security."
    
    FLAG_IMMUTABLE was added in API 23 so that's why I'm using "> API 23". Using API 30 would also fix the Android 12 issue. Alternatively if PendingIntents should be mutable you could change it to "FLAG_MUTABLE".

commit b8c00bf9148f339dfeb3e14e53948bc5488982dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 13:11:29 2021 -0800

    Allow opening joysticks that are read-only on Linux
    
    Fixes https://github.com/libsdl-org/SDL/issues/4713

commit 0323d983c68ebf0b51cd3d1469380685a56e2de5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 12:52:06 2021 -0800

    Add the platform to the game controller mapping so it can be read back in without changes
    
    Fixes https://github.com/libsdl-org/SDL/issues/4848

commit d950b9e2d9c756c7fc5641d75d9f7dd1a19ceac8
Author: Charlie Birks <charlie@daft.games>
Date:   Sun Nov 7 20:40:54 2021 +0000

    emscripten: Make timers work (if used with emscripten_set_main_loop)
    
    Co-authored-by: aidanhs <aidanhs@cantab.net>

commit fe2fe29049f2b2bc508edde9e98a254f721fa878
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 11:48:16 2021 -0800

    Backed out accidentally committed PR https://github.com/libsdl-org/SDL/pull/4849

commit 86bc65a74122d13fc9ae8ef1b4c2961e69d59ee2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 11:35:12 2021 -0800

    Fixed non-Apple builds

commit 637bcd0b728c580a53198654b9bcc5f333a4a6e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 11:19:07 2021 -0800

    Fixed build warnings

commit e14358265e627a4c0324eaa7317ed13f28d7a138
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 11:16:48 2021 -0800

    Cleanup sfSymbolName support and add them to the dynamic API functions

commit 149e5c656a063f64fa3e257d0bca5e8fcaada603
Author: Patrick Hogan <pbhogan@gmail.com>
Date:   Sun Oct 3 12:49:36 2021 -0500

    Support returning sfSymbolsName for gamepad controls on macOS / iOS / tvOS

commit cdb4d8f22fc31b09e3f186f96c9e9f517662a558
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 7 09:39:57 2021 -0800

    Added a test case for snprintf of 0.0
    
    This verifies regressions in https://github.com/libsdl-org/SDL/issues/4795

commit 3acb1725319250b434d45aecfc4f224485e5c7c0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 7 12:26:39 2021 -0500

    stdlib: SDL_snprintf now adds decimal places for ("%f", 0.0).
    
    This patch was from @Markvy (thanks!).
    
    Fixes #4795.

commit 2008f2a8a655b63f6a030bbae6077c36a003a493
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Nov 7 01:41:34 2021 -0700

    SDL_test_font.c: fix type of SDLTest_CharTextureCacheList

commit a0e055a7f9b2c99951bbd5972fa7ddc4cd1e5d41
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Nov 7 02:48:29 2021 -0700

    testwm2: add mode menu, click on a mode to call SDL_SetWindowDisplayMode

commit 70f7ebe6352922dff847ecc172e9767edbe512af
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Sun Nov 7 01:46:04 2021 -0600

    SDL_test_font.c: add ability to draw on different SDL_Renderers
    
    fixes `testwm2 --windows 2`

commit 6312aaea0fe7fa9514ee2b114fcbb29e2bee2765
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Nov 6 21:52:22 2021 -0500

    WGI: Add workaround for delayed callbacks after WGI_JoystickQuit()

commit 35b0baaa7adfb85a51d257f805747563d8fd04ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 6 19:25:06 2021 -0700

    Unfixed typo

commit 1d40c69a1b21d0b168be5cd6eb959139ac37b331
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 5 22:52:03 2021 -0700

    Fixed typo

commit 2248a549375b5cbe5d04a9792baca9d7b780afaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 5 22:48:46 2021 -0700

    Update the focus in case we changed focus to a child window and then away from the application
    
    In this case we'll get WM_KILLFOCUS when the child window is focused, but we'll retain focus on the top level window, but when we Alt-Tab away, we won't get another WM_KILLFOCUS or WM_NCACTIVATE, we get WM_ACTIVATE instead, so we need to check for focus updates in response to that as well.

commit 5de723749f6d7f83f243781bfec6ee5f1d3b12aa
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Nov 5 21:06:58 2021 -0500

    SDL_config_windows.h: detect winsdkver.h using __has_include()
    
    __has_include() was added in VS 2017 15.3, so this works out to essentially
    the same _MSC_VER >= 1911 check we had before for MSVC but works for non-MSVC
    compilers also.

commit c48c81bd1700d63014588af9e6375dc6dba6ccde
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Nov 6 00:00:17 2021 +0000

    docs: List the required Fedora packages in README-linux.md

commit 6407d4b0a87656b470093a80d11a88dce62b9cfd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 5 17:10:02 2021 +0300

    remove unnecessary parentheses from SDL_abs()

commit 6cbee0634e9053f174d1a1a88bdf4341fd1cc02f
Author: Kevin Colour <kecolour@gmail.com>
Date:   Fri Nov 5 01:17:29 2021 -0700

    include: Swap parameter names in atan2 functions

commit 7f308abb559e426ec7562a47db5176bb11a9175d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Nov 4 01:02:48 2021 -0500

    cmake: Only prevent MSVC codegen using the CRT if SDL_LIBC=OFF

commit d8b53e821e6306d0b1cdabc7565021270fa9a6d3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Nov 3 19:51:18 2021 -0500

    direct3d11: fix SDK version requirement for non-CMake build
    
    The D3D11 renderer requires Direct3D 11.1 (d3d11_1.h), not Direct3D 11.0
    (d3d11.h). In terms of SDKs, that's the Windows 8 SDK or later.
    
    We should probably rename HAVE_D3D11_H...

commit 802e17aad9ee5e555dfd95fd89ffc1ac414de9cf
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 3 20:35:20 2021 +0300

    autotools: added windows.gaming.input.h (and SDL_JOYSTICK_WGI) detection

commit 2371b247fff6ba48a622f67aaa6d15b9ac54c95a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 31 18:27:51 2021 -0500

    windows: improve feature detection consistency between CMake and non-CMake builds

commit 839ca0ea64c2dc10fede3916db244347ee8ba91f
Author: superzazu <nico.g.allemand@gmail.com>
Date:   Wed Nov 3 16:35:24 2021 +0100

    SDL_OpenURL (macOS): try to open path if the url cannot be opened (#4830)
    
    * SDL_OpenURL (macOS): try to open path if the url cannot be opened
    
    * SDL_OpenURL (macOS): use CFURLCreateWithBytes & LSOpenCFURLRef to correctly escape input
    
    * fix type casting + indentation

commit e2ba84a53220ce0ebed68861428db575497c78c4
Author: Eddy Jansson <eddy@klopper.net>
Date:   Tue Nov 2 19:30:17 2021 +0100

    testtimer: Be more like the C90's.

commit 4ab7ee1925c4785d70d31b7ed41efe4212319b2d
Author: Eddy Jansson <eddy@klopper.net>
Date:   Tue Nov 2 18:58:06 2021 +0100

    testtimer: Add basic sanity check for SDL_GetTicks*()

commit 8593076da781aa68e2a6140857b7557d8e0694ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 2 16:04:36 2021 -0700

    Fixed whitespace

commit 62629c2b5dd0ededa907910a2eef436eeb71a9b6
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Tue Nov 2 22:17:41 2021 +0000

    Fix 64-bit timeval/timespec delta calculations

commit 6d5edfa733cca54671207e2d02b732b231971c76
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 2 15:59:26 2021 -0700

    Fixed crash on Android 8, due to bugs in AAudio implementation

commit c948b9366c660057bf5cc831f8fe75899a8f0396
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 2 15:57:24 2021 -0700

    Added note for Android 12 API level

commit 43ddc59fa84e93dc338a1a5838711311d25bcd81
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Nov 2 16:56:14 2021 -0400

    Export SDL_LinuxSetThreadPriorityAndPolicy() function (#4877)
    
    It's marked as being a public symbol internally, however, it was missing from the header files and not visible in the shared library.  This adds it to the necessary headers and to the DynAPI list to expose it for use by applications.
    
    Co-authored-by: Frank Praznik <frank.praznik@oh.rr.com>

commit 848d7b12542070e7050972587f58ae8620a42afe
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Nov 2 16:12:55 2021 +0300

    Vita: Implement command batching

commit 3f7a94fc947c290de98d6155a3bc009f2423aed1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Nov 2 15:16:48 2021 +0300

    Vita: Remove FillRects

commit f73376ae24671a521dc2ca59869025f551484152
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Nov 2 00:31:25 2021 -0500

    events: Add logging for SDL_CONTROLLERTOUCHPAD*, SDL_CONTROLLERSENSORUPDATE, and SDL_SENSORUPDATE events

commit 2379c52849693c6933f8216ba8725d564871784a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 25 11:04:42 2021 -0400

    os/2: Don't try to be clever with the 32-bit GetTicks fallback.

commit d78cb9e9033ad50e18ad5da43e84391229f2e29c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 19:27:10 2021 -0400

    testtimer: added SDL_GetTicks64() calls.

commit 228219dcd4523ff38ee312e852fb50820fe4654f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 15:30:45 2021 -0400

    include: Improved SDL_GetTicks*() documentation a little.

commit cca79d32a288d998b1460582617e7b31dccfa666
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 15:30:20 2021 -0400

    android: Patched SDL_GetTicks64() to compile.

commit affb183ea4f6cd97fa467d64291fb79048b85a15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 15:20:32 2021 -0400

    unix: Fixed SDL_GetTicks64 function signature.

commit 99c9727dc0bbc9be96f9e023d8b6e7e0fe120b11
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 15:00:31 2021 -0400

    timer: Added SDL_GetTicks64(), for a timer that doesn't wrap every ~49 days.
    
    Note that this removes the timeGetTime() fallback on Windows; it is a
    32-bit counter and SDL2 should never choose to use it, as it only is needed
    if QueryPerformanceCounter() isn't available, and QPC is _always_ available
    on Windows XP and later.
    
    OS/2 has a similar situation, but since it isn't clear to me that similar
    promises can be made about DosTmrQueryTime() even in modern times, I decided
    to leave the fallback in, with some heroic measures added to try to provide a
    true 64-bit tick counter despite the 49-day wraparound. That approach can
    migrate to Windows too, if we discover some truly broken install that doesn't
    have QPC and still depends on timeGetTime().
    
    Fixes #4870.

commit 0d631c741f3f926256f12bee095df0a1ae230996
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 30 12:10:03 2021 -0500

    CI: Build tests for Windows, macOS, and Linux

commit 210713a6005600f30146bdca1d888d4588e538c9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 31 19:11:09 2021 -0500

    cmake: Work around bug in opengl32.lib detection on MSVC ARM64

commit 77141e84e07513b2c6f864a9afa9f5c0b10b2e56
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 31 18:53:11 2021 -0500

    cmake: Fix test linking with MinGW

commit 618b0d414ffd5681b620346913545e41445a7f9d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 30 12:05:11 2021 -0500

    cmake: Remove SDL2_test_resources dummy hack
    
    It doesn't work properly on MSVC because the dummy target fails to link

commit 16845eef2944c90db8b60d7f24be8f6c7c43e2be
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 30 12:06:58 2021 -0500

    cmake: Add SDL include path when building tests
    
    The tests can't find any of the SDL includes otherwise

commit 7e8469d1961f7c51176fca6f1a4d1c89ad7bf035
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 31 09:31:25 2021 -0500

    cmake: Fix MinGW build break in WGI joystick driver
    
    Just look for windows.gaming.input.h rather than assuming its presence
    or absence based on other CMake variables.
    
    Fixes MinGW builds in CI

commit fba82ad1cb945b8c09d92e90f9dd536b9a70ff36
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Sun Oct 31 12:38:08 2021 +0200

    Remove sceGxmFinish from RenderPresent on Vita. Make sure that rendering is finished on render texture during locking

commit f3640e26a414ac528c93949b75d67e5dff1bf175
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 31 08:47:00 2021 +0300

    tests: minor update to acinclude.m4::pkg.m4

commit cc3fe1a182c759040121ecc263c5de7ea41c53bb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 31 08:25:24 2021 +0300

    tests: don't fail configury if libunwind is not available.

commit c401627793dd5d3740f30ec2fae809e71204a306
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 31 08:14:50 2021 +0300

    testsurround.c: remove unnecessary libc includes and stdint.h types

commit e28e399338b91c4a4f0743d2fd5530d73b8841ff
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 31 08:00:20 2021 +0300

    testsurround.c: add missing newline at end of file.

commit a01aaf053cbf91f627d4b55848ece14709888b81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 30 21:42:07 2021 -0700

    Fixed compiler warning

commit cd66c050fe276368c6e7317b60e9d5ca13770cad
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Oct 29 01:11:59 2021 -0500

    testsurround: Add surround sound channel tester

commit 27369b3e40c0eb0267f4a54a80a211ca91b12ca0
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Oct 29 23:28:50 2021 +0100

    docs: Add README-riscos.md

commit ce0938916705ef36231fa3d9210ef982b8d32fa5
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Oct 26 23:10:30 2021 +0100

    Add RISC OS builds to GitHub Actions

commit 4d3da5b75b5569065cb622183c1d5d7f9e41c4f3
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Oct 26 21:51:29 2021 +0100

    riscos: Disable the mouse pointer for now

commit 1c256b892e843fb43b4521b3390ae34f11120bae
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Oct 26 13:42:34 2021 +0100

    riscos: Fix enumerating screen modes

commit 5a3c97f3a35a16a3423c6562c49791bed92e984e
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Oct 25 22:55:02 2021 +0100

    riscos: Fix detection of the current mode

commit 53b3db0c5d04ab97dbbcdc59321d0cd3258966ce
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Sep 28 17:59:16 2021 +0100

    Handle the KMOD_SCROLL modifier on RISC OS

commit 1268984edce4184d932edb13fc7e1e7333a8f912
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 9 21:09:50 2021 +0100

    Implement mouse input on RISC OS

commit f7f54f0d047f04191431631ceaf44acfe83217da
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Aug 6 23:38:46 2021 +0100

    Implement keyboard input on RISC OS
    
    Partially based on a patch from http://www.riscos.info/websvn/listing.php?repname=gccsdk&path=%2Ftrunk%2Fautobuilder%2Flibraries%2Fsdl%2Flibsdl2%2F&rev=7174#a6401c766f408f1ea356e6977894cc6a5
    Currently lacks support for mapping scancodes to keycodes.

commit f8a8ca3e1f093047c15a037ad98de9cd53b02a14
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Aug 5 23:16:29 2021 +0100

    Support proper mode switching on RISC OS

commit fe9bb74764dcc03f3859c67ffc12390cd6ea0df0
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Feb 12 23:46:11 2021 +0000

    riscos: Refactor framebuffer code

commit 25c71748ad7327da43ae9315969d2369610e3321
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Feb 13 21:55:08 2020 +0000

    Add a barebones RISC OS video driver

commit a55986496891f4a285512a49e9b853c195e4e175
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 30 19:30:34 2021 -0500

    x11/wayland: Fix signal handling while blocking in WaitEventTimeout()
    
    Add a new flag to avoid suppressing EINTR in SDL_IOReady(). Pass the
    flag in WaitEventTimeout() to ensure that a SIGINT will wake up
    SDL_WaitEvent() without another event coming in.

commit c97c46877fd67352c84e0e21f3869cb876bb2d46
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 30 15:56:54 2021 -0500

    core: Convert SDL_IOReady()'s 2nd parameter to flags

commit 81fe2ccb9cc03e9f17ed8427c4e0fd006cbe40c4
Author: Ybalrid (Arthur Brainville) <ybalrid@ybalrid.info>
Date:   Sun Oct 31 02:54:20 2021 +0200

    cmake: Add missing SDL_JOYSTICK_WGI in config step
    
    SDL_config.h *can* define SDL_JOYSTICK_WGI. On builds with the Windows
    10 SDK available, this allow implementing trigger rumbling on Xbox One
    controllers. The files included in the Visual Studio Solution in
    VisualC\SDL.sln *do* have this define set.
    
    fix #4859

commit 8a4a282aaad2c1184867326df83612bf091caef2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 30 16:02:12 2021 -0400

    alsa: Make hotplug thread optional.
    
    Even without the thread, it'll do an initial hardware detection at startup,
    but there won't be any further hotplug events after that. But for many cases,
    that is likely complete sufficient.
    
    In either case, this cleaned up the code to no longer need a semaphore at
    startup.
    
    Fixes #4862.

commit 26706319d7e5cab81b961919d51271570934e28b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 30 05:53:12 2021 -0700

    Ignore the ASRock LED controller, it's not a joystick

commit ac54d57aa524ce2a2d392c7b794cdab31ca3e81f
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Oct 26 20:02:38 2021 -0500

    event: Check subsystem initialization before events or devices
    
    SDL_WasInit() is cheaper SDL_NumJoysticks()/SDL_NumSensors().

commit 1bc6dc3ea03c9df7c5b5b56523be23d64fe16ff8
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Oct 26 20:02:04 2021 -0500

    event: Cap maximum wait time if sensor or joystick subsystems are active
    
    Joystick and sensor subsystems require periodic polling to detect new devices.

commit 2bf36bfac4aeccfa38cf57b3c7ee0b9a963b5220
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 24 21:28:04 2021 -0500

    wayland: Implement WaitEventTimeout() and SendWakeupEvent()
    
    We can have spurious wakeups in WaitEventTimeout() due to Wayland events
    that don't end up causing us to generate an SDL event. Fortunately for us,
    SDL_WaitEventTimeout_Device() handles this situation properly by calling
    WaitEventTimeout() again with an adjusted timeout.

commit 378c5d7ffe2c23d65c462dc8b71a2e727c3ced7b
Author: Joel Winarske <joel.winarske@gmail.com>
Date:   Sat Oct 23 16:26:25 2021 -0700

    make aclocal install relative

commit c7dafb1556acc964222e9fa6ff9e262e0f17158a
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Oct 27 01:36:05 2021 +0000

    Sync wiki -> header

commit 6b8e880a10bbeed9ec2bf2cbcd113131e3f2ae3a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Oct 26 20:27:34 2021 -0500

    checkkeysthreads: Create a renderer for window display on Wayland
    
    Applies checkkeys patch from 105f1206 to checkkeysthreads.

commit 179a04f85a723e79c1b63af92a756c49c7cf6926
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 26 21:01:05 2021 -0400

    fnsince.pl: Don't print out the version numbers if updating the wiki.

commit 85edbc92ac618b5d693999c3fe02f472550c0689
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 26 19:00:06 2021 -0400

    fnsince.pl: Added a way to sync this information to the wiki.
    
    This will let us automate this so it's managed for us, and as things go
    from development to official releases, the documentation will automatically
    update!

commit f5de45aecca1bd12bf7a6a2dd71c424951543f3b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 26 18:59:21 2021 -0400

    fnsince.pl: Found a few more incorrect versions.

commit e8fbcf893ab7b8aef0170185f34cb7f285fd0a94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 26 12:12:52 2021 -0400

    fnsince.pl: a script to list version when all public APIs were added.

commit 1c6414603c9318a4227c1115b8278914efbda25e
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Oct 26 15:30:06 2021 +0000

    Sync wiki -> header

commit 9c799802c90426728f14ff7e311143254982db50
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Oct 26 15:18:26 2021 +0300

    Vita: fix IME input languages

commit 7ac0c73af2ba77faf00c6a7b25b65d81b78beb0e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 25 21:40:04 2021 +0300

    regenerated test/configure

commit c57bcb47b1e482557c7ee6ec2cfaad52bc55c67e
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Oct 23 14:46:03 2021 +0800

    test: Fix building with libunwind under autotools
    
    There are two issues which are stopping the SDL tests from building on
    my machine:
    - libunwind is not being linked
    - Even if it is, it is missing several symbols.
    
    The first is fixed by having the test programs link against libunwind if
    available. Technically, SDL2_test should be linking against it, as it's
    used in SDL_test_memory.c, but as SDL2_test is a static library, it
    can't itself import libunwind. We just assume that if it's present on
    the system, we should link it directly to the test programs. This should
    strictly be an improvement, as the only case where this'd fail is if
    SDL2 was compiled when libunwind was present, but the tests are being
    compiled without it, and that'd fail anyway.
    
    The second is fixed by #define-ing UNW_LOCAL_ONLY before including
    libunwind.h: this is required to make libunwind link to predicatable
    symbols, in what can only be described as a bit of a farce. There are a
    few more details in the libunwind man page, but the gist of it is that
    it disables support for "remote unwinding": unwinding stack frames in a
    different process (and possibly from a different architecture?):
    http://www.nongnu.org/libunwind/man/libunwind(3).html
    
    Note that I haven't tried this with CMake: I suspect that it'll work,
    though, as the CMakeLists.txt seems to have SDL2 link against libunwind if
    it's present. This adds an ugly extra dependency to SDL2, but does mean
    that issue 1 isn't present. The UNW_LOCAL_ONLY change shouldn't be
    build-system-specific.

commit fdb27e0b08e119737ed3f7cf8d730f2b13b22964
Author: Joel Winarske <joel.winarske@gmail.com>
Date:   Mon Oct 25 09:04:07 2021 -0700

    cmake: Use host wayland-scanner only (#4873)

commit 408a93a1ec9766ff8c527d9ed2d61bcee565e1cb
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Oct 23 15:43:04 2021 -0500

    wayland: Use multi-thread event reading APIs
    
    Wayland provides the prepare_read()/read_events() family of APIs for
    reading from the display fd in a deadlock-free manner across multiple
    threads in a multi-threaded application. Let's use those instead of
    trying to roll our own solution using a mutex.
    
    This fixes an issue where a call to SDL_GL_SwapWindow() doesn't swap
    buffers if it happens to collide with SDL_PumpEvents() in the main
    thread. It also allows coexistence with other code or toolkits in
    our process that may want read and dispatch events themselves.

commit 4960cc3dcb847569923c70c24e571ecbc2dcc39b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 25 16:18:40 2021 +0200

    Fixed a few warnings

commit b7933945906eb09276a2c3dfcf88dcfc92ec6953
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 25 13:46:40 2021 +0200

    SDL_Renderer: make clear that we use render geometry for fillrect/copy/copyex when there is no specific back-end implementation (currently software, PSP, directfb)

commit b3f9d8f38d0b1494b9f48fc3fd01dc387db7f96b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 25 07:05:50 2021 +0300

    remove unused local vars after the latest commits.

commit 502e9c3b45dd261fae6e264b5bd67f430f7682e3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Oct 24 17:16:49 2021 +0200

    SDL_Renderer simplifications:
    - Factorize PrepQueueCmdDraw{,DrawTexture,Solid) into one single function
    - Change SDL_Texture/Renderer r,g,b,a Uint8 into an SDL_Color, so that it can be passed directly to RenderGeometry
    - Don't automatically queue a SET_DRAW_COLOR cmd for RenderGeometry (and update GLES2 renderer)

commit 23e252bfc5284ee34e7b3c5690a20c495c2f91bf
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Oct 2 14:57:40 2021 +0200

    DirectFB: provide RenderCopyEx via RenderGeometry

commit 79732c9d1ef7ff89920cb3f38fd9f3fd4879d058
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Sep 25 11:35:20 2021 +0200

    Remove FillRects from back-end, where RenderGeometry can be used

commit f02ad2820fa938202f524e9d63605983d29dc71a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sat Sep 25 11:31:18 2021 +0200

    Remove FillRects from back-end, where RenderGeometry can be used

commit 70b10c753d08fc14afb17d563edd3db4f26b34e6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Sep 24 22:39:49 2021 +0200

    Use correct indices when using RenderGeometry / FillRects

commit 16beed9aeb77c3a161c9fc6be51cd214da890518
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Sep 24 17:09:04 2021 +0200

    Less code since color is constant when done with triangles

commit 99a346439c7d1574e1aed4a16e3f2d6c8856c825
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Sep 24 09:42:04 2021 +0200

    OpenGLES2: LINES and POINTS successive commands are combined into a single draw call
    (using the same case for DRAW_GEOMETRY)

commit f0cdc1d0f6c5a4f99e564b3a865e6b3037dc24e9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Sep 24 09:38:25 2021 +0200

    OpenGLES2: remove FillRects, since it's can be done with RenderGeometry

commit 37c39d5cb4adc9b789e1d034121c5251d70ea1be
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Sep 23 22:45:45 2021 +0200

    Use geometry to implement FillRects

commit b0eef52fe10470dcfa026f46025d19107a9b3b90
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Sep 23 22:32:29 2021 +0200

    GLES2 batching: probably need to check for blendMode changes

commit c27e1249e1671209a1deeef059dfed3e18c7c15d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 17:17:34 2021 +0200

    Remove SDL_HAVE_RENDER_GEOMETRY define

commit 77026f673bde5a80817330d928fa63f05da761b0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 17:09:44 2021 +0200

    Metal: remove RenderCopy and RenderCopyEx from back-end

commit 0e5160a056c22a3b41113d2e6c4d772ef46a344b
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 17:01:33 2021 +0200

    VITA: remove RenderCopy and RenderCopyEx from back-end

commit 73f4ab4c13fcc9f93306519d2a5226a670fda0ff
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:57:21 2021 +0200

    Direct3D11: remove RenderCopy and RenderCopyEx from back-end

commit ab758398afafe20bb90e381ee845e404a4548111
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:53:03 2021 +0200

    Direct3D: remove RenderCopy and RenderCopyEx from back-end

commit 1fe7e3616bd0f613f3f7b27fa0b1d23fa7461572
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:46:16 2021 +0200

    OpenGL: a few opengl functions become unused

commit 88548070a57b598888a5396446b8098620f4bd99
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:40:47 2021 +0200

     OpenGLES: remove RenderCopy and RenderCopyEx from back-end

commit d19251542859ce99563a51c23559325f47f26662
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:33:49 2021 +0200

    OpenGL: remove RenderCopy and RenderCopyEx from back-end

commit b92056bbeae83551742a51b8bda0b037d35039e3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:33:03 2021 +0200

    OpenGLES2: remove RenderCopy and RenderCopyEx from back-end

commit 76f9fb96d9b6b8265c6bc101d1b44be5f1ae609e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Sep 20 16:32:08 2021 +0200

    Use RenderGeometry to implement RenderCopy and RenderCopyEx at higher level

commit 08797adaefbf516a5615eddc4dddd128b1bdd554
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 19 00:39:28 2021 -0400

    opengles2: Attempt to batch RenderCopy calls into a single glDrawArrays call.

commit 1f0eb03a76d85f6070337f8ec15d5818b5cb4279
Author: Tanuj Bagaria <gnutanuj@gmail.com>
Date:   Sun Oct 24 23:54:26 2021 +0100

    Fix PS5 mapping with HID-PLAYSTATION driver (#4675)
    
    * add missing PS5 Linux GUID for Bluetooth
    
    * Fix PS5 Mapping to work with HID-Playstation driver

commit f499168c2c1d2e4f09da691f81453e0a7b0b04b9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Oct 24 15:54:57 2021 -0500

    x11: Use SDL_IOReady() instead of calling select() directly
    
    SDL_IOReady() properly handles EINTR and can use poll() if available.

commit ba4ef461ea5ad10410247b5b8c81605895db7c4e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 23 15:28:13 2021 -0300

    macOS: Fix implicit integer downcast warnings

commit d9d8f51eece6b117f02b9f71a82b24836f6acc93
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 14:37:47 2021 -0400

    wikiheaders.pl: Add support for deprecated functions.

commit dbe55350ce3cbb594226516e47509480dae33170
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 23 14:38:32 2021 -0400

    include: Improve doxygen text on SDL_GetRevisionNumber().

commit a76b73dd2cbf50102c7c9a8fa1ebdda128db72fc
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Oct 22 19:04:32 2021 +0800

    kmsdrm: Use SDL_PremultiplySurfaceAlphaToARGB8888() for cursor surface
    
    Instead of taking a direct copy of the mouse cursor surface, and then
    premultiplying on every BO upload (using the custom
    legacy_alpha_premultiply_ARGB8888 function), use the new
    SDL_PremultiplySurfaceAlphaToARGB8888() function, which converts a whole
    surface at a time, once and save the result.
    
    The already-premultiplied data is then copied from that to the BO on
    each upload, adjusting for the stride (which the previous implementation
    required to be equal to the width), thereby making the extra copy
    slightly useful..
    
    This also adds support for non-SDL_PIXELFORMAT_ARGB8888 surfaces.

commit b528d48446c8c9c005ad122dddfdb2b46ad4553a
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Oct 22 16:59:46 2021 +0800

    wayland: Wayland cursors should use premultiplied alpha
    
    It turns out that Wayland's WL_SHM_FORMAT_ARGB8888 format (and, indeed,
    all wayland RGBA formats) should be treated as premultiplied. SDL
    surfaces tend not to be premultiplied, and this is assumed by other
    backends when dealing with cursors.
    
    This change premultiplies the cursor surface in Wayland_CreateCursor()
    using the new SDL_PremultiplySurfaceAlphaToARGB8888(). In so doing, it
    also adds support for a wider range of input surfaces, including those
    with non-ARGB8888 pixel formats, and those which don't have
    pitch==width.
    
    This should fix #4856

commit 84808ea4bbd12ac212ff7a4ef82d426f6d771e99
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Oct 22 17:48:32 2021 +0800

    video: Add SDL_PremultiplySurfaceAlphaToARGB8888()
    
    A number of video backends need to get ARGB8888 formatted surfaces with
    premultiplied alpha, typically for mouse cursors. Add a new function to
    do this, based loosely on legacy_alpha_premultiply_ARGB8888() from the
    KMSDRM backend.
    
    The new function, SDL_PremultiplySurfaceAlphaToARGB8888() takes two
    arguments:
    - src: an SDL_Surface to be converted.
    - dst: a buffer which is filled with premultiplied ARGB8888 data of the
      same size as the surface (assuming pitch = w).
    
    This is not heavily optimised: it just repeatedly calls SDL_GetRGBA() to
    do the conversion, but should do for now.

commit 007b5463e842bb90167be33d8ea62a8f182ab771
Author: uyjulian <uyjulian@gmail.com>
Date:   Thu Oct 21 22:50:33 2021 -0500

    video/uikit: Do not use setNeedsUpdateOfPrefersPointerLocked on iOS SDKs older than 14

commit 8f58bb9cf85e1e801e8140f883275cd943b031e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 21 20:48:08 2021 -0700

    Added SDL_USE_BUILTIN_OPENGL_DEFINITIONS to avoid system OpenGL headers

commit b360965d0d349fc977bd73ba70c2e8c2c23544b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 21 20:48:05 2021 -0700

    Added a hint for alternate OpenGL NV12 data format

commit 6c134cf14817241c45aecd2729cb07d9abcaa73c
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Oct 22 00:39:04 2021 +0000

    Sync wiki -> header

commit 19dee1cd16e38451f1d7beae67dd74b471b403a8
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Fri Oct 22 06:37:20 2021 +0600

    Add SDL_GetWindowICCProfile(). (#4314)
    
    * Add SDL_GetWindowICCProfile
    
    * Add new SDL display events
    
    * Implement ICC profile change event for macOS
    
    * Implement ICC profile notification for Windows
    
    * Fix SDL_GetWindowICCProfile() for X11
    
    * Fix compile errors

commit a34fe8161ff7b79bdd90633b2389a3993b899812
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 21 12:28:35 2021 -0700

    Added the ability to bind NV12 textures in the OpenGL renderer

commit f3fd1ffb99e44adde00a1c07acfa67a55e2e689e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 20 15:18:03 2021 -0700

    Fixed crash if SDL API functions are called on a disconnected controller on iOS

commit a43d3f6931f29174aab3bf046b7a00fc7ce6552d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 20 15:19:22 2021 -0700

    Don't detect the ROG Chakram mouse as a joystick

commit bfd2f8993f173535efe436f8e60827cc44351bea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 19 17:29:23 2021 -0700

    Fixed grab handling when focus changes between windows in the same application

commit d9c44b65374d0bca490337f315765c57bb5e517d
Author: James Howard <jahoward@nvidia.com>
Date:   Tue Oct 19 10:49:17 2021 -0700

    Allow Cocoa_VideoInit to succeed when current display mode has invalid flags
    
    This fixes a specific issue seen on macOS 10.14.6 where a DELL E248WFP
    Display connected to a 2014 Mac Mini with a scaled 1920x1080 resolution
    selected and SDL_Init(SDL_INIT_VIDEO) failed with the error: "The video
    driver did not add any displays".
    
    The underlying cause was that the current 1080p display mode did not
    have the flag kDisplayModeSafeFlag, the check for which was added in
    a963e36, with the idea that certain display modes should not be
    candidates for switching to in fullscreen exclusive mode. That may well
    be the right thing to do for filtering down a list of candidate modes,
    but it doesn't pay to be so picky about the current mode. After all,
    this current mode was set by System Preferences, the picture does appear
    correctly on screen, and other non-SDL based applications launch and run
    correctly in this mode.
    
    Therefore the fix is to have GetDisplayMode only filter out a mode based
    on flags if it's part of a candidate list, but if it's the current mode
    and it can possibly be converted to an SDL_DisplayMode, do so.

commit 649a33ae47d90ae4d93adcb2cecee27751c663c3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 18 23:00:43 2021 +0200

    X11: remove redundant 'wakeup_lock' mutex creation

commit c4bac66b74fe7486f03f3e2e7fb36514b4ae25b8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 18 14:11:20 2021 +0300

    os2, geniconv: replaced many uses of libc calls with SDL_ counterparts.
    
    FIXME: figure out a way to handle errno checks properly.

commit 0a0f6854731736cf9265a73296736983d2adf0b1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 18 14:10:56 2021 +0300

    SDL_os2video.c: missed replacing a use of libc function

commit 8e9ea2e362273c986de73f283432ff822d964e76
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 18 14:10:37 2021 +0300

    SDL_os2joystick.c: missed replacing a use of libc function

commit 8b1a2fe8603b4124aea6f72a699a653389aca6c6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Oct 17 23:47:59 2021 +0200

    backout SDL_AndroidSetInputType()

commit 6ef3bc5688d8e39aad6d6ed8f53aa5319c8b8725
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Oct 17 23:40:36 2021 +0200

    Add Dynapi for SDL_AndroidSetInputType()

commit ccb12457f9e45ff1d7bd621c76bfccb68616d562
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Oct 17 23:17:54 2021 +0200

    Fixed bug #4843 - Can not get the ime candidatelist like chinese/japaness input method

commit 7fb43643914a2d769191aa476422a915c2ed7ed7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 17 13:56:31 2021 -0700

    Don't process WM_INPUT when handling relative mode by warping the mouse cursor

commit 06824b18fdb02e1d6b627ab5719d21f8d446363d
Author: DomGries <stfx@hotmail.de>
Date:   Sun Oct 17 19:50:39 2021 +0200

    Cleanup windows events after recent changes
    
    Improves clarity without any functional changes

commit 50f969c1b2534ea655ea052509bba3cba2efcab6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Oct 17 22:02:19 2021 +0200

    Fixed bug #4841 - Out of bounds read (by 1 byte) in yuvnv12_rgb24_sseu

commit ea97ab61640c9f9398d4ad375c904f19d942ac6f
Author: shaquan-omari <92478654+shaquan-omari@users.noreply.github.com>
Date:   Wed Oct 13 16:31:05 2021 -0400

    Add mapping for HORI Fighting Commander OCTA controller on Linux

commit 1c5b3e0e1655e94ffafc21d4b1c6087e5217c40b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 15 18:12:18 2021 -0700

    Don't center the mouse when gaining focus unless we're using relative mode warping
    
    This is necessary now that we actually change the mouse position when calling SDL_WarpMouseInWindow() in relative mode.

commit a70a94e0b3d5c4788535ac7796bc5814095c36d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 15 18:11:19 2021 -0700

    Don't send a mouse leave event if the mouse is outside the window when gaining focus and in relative mode.

commit c583055acbcae356bc9f1f7d402da98e8bb7ae19
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 15 10:11:24 2021 +0300

    SDL_windowsevents.c (WIN_WindowProc): remove SAFE_AREA_X and SAFE_AREA_Y
    
    Not used since commit https://github.com/libsdl-org/SDL/commit/a1fabca162091b50d6f7dd71879d028319e09d80

commit d5700ed20bdb2233041587aefe073a86434677ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 15 00:01:39 2021 -0700

    Don't log SDL_POLLSENTINEL, it's purely for internal bookkeeping

commit dd5d89505d62470aada0765226b8c6312b07d807
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 23:53:25 2021 -0700

    Fixed whitespace

commit 7f728f3eb64a75c4f9fdbc635c9d2b1ce40e810d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 15 08:51:02 2021 +0300

    enabled os2 joystick code (if anyone has actually a use for it...)

commit 8a48ce00c85e967855e180fc2effd4c725c6ea04
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Oct 15 05:28:04 2021 +0000

    Sync wiki -> header

commit 8bf32e12d85598fcb7dcedfc9bf30445beb9d42a
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Fri Oct 15 06:26:10 2021 +0100

    Improved SDL_PollEvent usage (#4794)
    
    * Avoid unnecessary SDL_PumpEvents calls in SDL_WaitEventTimeout
    
    * Add a sentinel event to avoid infinite poll loops
    
    * Move SDL_POLLSENTINEL to new internal event category
    
    * Tweak documentation to indicate SDL_PumpEvents isn't always called
    
    * Avoid shadowing event variable
    
    * Ignore poll sentinel if more (user) events have been added after
    
    Co-authored-by: Sam Lantinga <slouken@libsdl.org>

commit 43da35b5676e0d3549e6864dc61ae34a6e5361d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 22:22:59 2021 -0700

    Back out documentation changes in favor of https://github.com/libsdl-org/SDL/pull/4794

commit 0dc57b0f08782b1eae8f74a20f47b61d2ce760b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 19:42:36 2021 -0700

    Remove slightly misleading comment in the example code

commit ddf1d5c55327045a84a0cd04c840e2eef87a5670
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 19:10:30 2021 -0700

    Update documentation to reflect that a single SDL_PumpEvents() each frame is the recommended way to handle events

commit 88e9f7765c71156eaa8651b0efa071a7a2f1f247
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 18:37:27 2021 -0700

    Fixed relative mouse mode using warping after https://github.com/libsdl-org/SDL/commit/82793ac279d19b5bde8fc2bd62877b05ba5a76e0

commit a1fabca162091b50d6f7dd71879d028319e09d80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 16:52:21 2021 -0700

    Removed mouse warping for local mice and improved warp handling for mouse over RDP

commit 82793ac279d19b5bde8fc2bd62877b05ba5a76e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 14:26:21 2021 -0700

    Fixed mouse warping while in relative mode
    
    We should get a mouse event with an absolute position and no relative motion and shouldn't change the OS cursor position at all

commit 072e3fdfc437a87832d4ff569e8e1393abe251ae
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Oct 14 23:17:08 2021 +0200

    Fixed bug #4534: NEON implementation of Convert51ToStereo (Thanks Ryan!)

commit 5e89b3c89e90841f4f2a42c1e498f6aa3bb2604c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 14 11:46:07 2021 -0700

    Don't need to use raw input to track the mouse during mouse capture (thanks Brick!)

commit 0b6a821188e2456e196a30864f59f0e6d2f3dbf4
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Tue Oct 12 14:08:20 2021 +0100

    Messages posted on the same tick are not new

commit 0789610cfb906c15917abfa9cf51cfc3cd1c59c4
Author: Rémy Tassoux <rt2@rasterizedworld.com>
Date:   Thu Oct 14 00:52:05 2021 +0200

    Add SDL_HINT_WINDOW_NO_ACTIVATION_WHEN_SHOWN

commit 227c33b8ecec3afb93ecac26cd8c954e9598f37f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 13 09:33:57 2021 -0700

    Add note about SDL_TICKS_PASSED hitting int overflow problems with large timeouts

commit 1fa154fda3b2a811e95478cd39572b7c306b5ae6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 13 09:33:54 2021 -0700

    Fix weak enforcement of timeouts in SDL_WaitEventTimeout_Device.  This will loop pumping events and waiting for a system event to come in.  However not all system events will turn into an SDL event.  It's not unusual for a Windows message to be some internal thing that SDL doesn't convert into a message.  In that case the loop will simple circle but not exit.  As long as such messages are coming in the loop will continue to run regardless of the timeout.  When messages finally stop it'll still wait for the full timeout so you can have arbitrarily long delays.
    
    Instead do an absolute elapsed time check since the start of the wait.  If that is exceeded during any iteration the routine exits as the timeout has elapsed.

commit 2423c514716f0202b098e20cb682f401b3c141fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 13 09:33:51 2021 -0700

    Work around hang in AAudioStream_write() during extended shared object loading while running in a debugger. Observed on a OnePlus 8T (KB2005) running Oxygen OS 11.0.10.10.KB05AA.
    The observed behavior is that any nonzero timeout value would hang until the device was paused and resumed. And a zero timeout value would always return 0 frames written even when audio fragments could be heard. Making a manual timeout system unworkable.
    None of the straightforward systems imply that there's a detectable problem before the call to AAudioStream_write(). And the callback set within AAudioStreamBuilder_setErrorCallback() does not get called as we enter the hang state.
    I've found that AAudioStream_getTimestamp() will report an error state from another thread. So this change codifies that behavior a bit until a better fix or more root cause can be found.

commit 325ae5c35d28ffc059dd91d7a94bcf62494debb3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Oct 13 08:35:56 2021 +0200

    Android: getCurrentOrientation uses getContext() to retrieve the activity (see bug #4825)

commit 0e294e90ae6953777cc78b5d09dd5c8966dc96ab
Author: Erik Soma <stillusingirc@gmail.com>
Date:   Tue Oct 12 18:55:31 2021 -0400

    Ensure that SDL_InitSubSystem quits subsystems after an error. (#4834)
    
    * Ensure that SDL_InitSubSystem quits subsystems after an error.
    
    * Fix unnecessary change.

commit 6149e60136f6df49a8ab98f130de43be09f12f84
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 13 00:03:56 2021 +0300

    remove IsWin10FCUorNewer() -- not used since commit 40ed9f75c9e1ed

commit 311671a0292d54a1886620a839c720b297de8885
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 12 23:50:02 2021 +0300

    fixed build after commit 6e356e20ad

commit 6e356e20ad236e6f3af5e6260beaf6f9158c8f56
Author: Rémy Tassoux <rt2@rasterizedworld.com>
Date:   Tue Oct 12 18:35:52 2021 +0200

    Fix mouse focus being set to null when a captured mouse cursor leaves the window.

commit 9ee6942e79a0674384d7ad948bbae16c5c16a43c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed Sep 22 14:01:00 2021 +0100

    Improve RISC OS implementations of SDL_GetBasePath and SDL_GetPrefPath

commit 3db898c5b6f70c84383bf61914f99f71ca4f4b1f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Feb 13 22:32:35 2020 +0000

    riscos: Implement SDL_GetPrefPath()

commit 723f5cea430d84da5a88e148c431f9e04e4e60c6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Oct 12 20:58:58 2021 +0200

    Fixed bug #4825 - NullPointerException on SDLActivity.getCurrentOrientation() (Thanks Benau!)

commit 1b49f092431379d43649d85c5b35b604d977be11
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 8 20:22:48 2021 -0400

    include: manually ran wikiheaders.pl and cleaned up the obvious issues.

commit 55f60847cbb70af926c83b2fb69af0b51e14c26f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 8 20:49:51 2021 -0400

    wikiheaders.pl: Try to handle functions with multiple declarations better.

commit 3970a885a5589c7cd7212ed438153bb867208830
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 8 14:39:28 2021 -0400

    wikiheaders.pl: Migrate in docs that exist only in the wiki.
    
    This is going to expose some docs that needs cleaning up once
    the bridge imports those docs, though.

commit 194657a2c6172b41d7cb84cc6eddc7e0a04f70a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 8 15:57:18 2021 -0400

    include: Fix indentation on SDL_SoftStretch doxygen comment.
    
    Otherwise wikiheaders.pl doesn't think it's valid.

commit 40ed9f75c9e1ed1dd99ee699ff4f678438ac3662
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 8 10:05:27 2021 -0700

    Workaround for Windows occasionally ignoring SetCursorPos() calls
    
    Also, since we're flushing mouse motion before and including the warp, we don't need the isWin10FCUorNewer hack to simulate mouse warp motion.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4339 and https://github.com/libsdl-org/SDL/issues/4165

commit 373216ae5be62b710ad68524777ae38ca712c53d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 7 18:14:16 2021 -0700

    Added support for touchpads in the Linux evdev code (thanks Francisco!)

commit 16aeb8d0f5e550ac124096c7b5e03ce756762e12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 7 15:04:06 2021 -0700

    Guarantee that we don't dispatch any mouse motion from before or including the last mouse warp

commit 649466f4915b68cfa75e802bef7ee192b2192684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 7 13:28:44 2021 -0700

    Flush any pending mouse motion when warping the mouse cursor
    
    Fixes https://github.com/libsdl-org/SDL/issues/4165

commit ad5205739e2f604c38b787abebfcbbf8972ce12f
Author: Väinö Mäkelä <vaino.o.makela@gmail.com>
Date:   Wed Oct 6 09:52:06 2021 +0300

    wayland: Only dispatch frame events in Wayland_GLES_SwapWindow
    
    Dispatching all events in Wayland_GLES_SwapWindow leads to resizes being
    acked before the program has a chance to handle the resize. This change
    reduces jumping on fullscreen transition with apps that call
    SDL_PollEvent before issuing any render calls.

commit f30e2e438db36bfc3961fae4d7908fadd0d262f8
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Wed Oct 6 22:52:33 2021 +0100

    Fix compiler warnings in testvulkan.c
    
    MSVC gives the following warnings when compiling testvulkan.c:
    ```
    testvulkan.c(656,1): warning C4018: '<': signed/unsigned mismatch
    testvulkan.c(656,1): warning C4018: '>': signed/unsigned mismatch
    testvulkan.c(660,1): warning C4018: '<': signed/unsigned mismatch
    testvulkan.c(660,1): warning C4018: '>': signed/unsigned mismatch
    ```

commit dd95c9c8a23b3c1bb3081e802fe63d00978950e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 6 09:09:39 2021 -0700

    Moved focus click check into WIN_UpdateFocus() so we have the correct state when setting keyboard focus
    
    Fixes https://github.com/libsdl-org/SDL/issues/4817

commit 1ec409c214225587918911d13432a09e65cacbd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 6 09:09:09 2021 -0700

    Don't warp the mouse within a window while it's minimized

commit 87ac373493fa9ff8e0277c60d545bfcd5f210844
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Wed Oct 6 03:39:59 2021 +0200

    Fix Debug-only builds with CMake
    
    "get_filename_component(SDL2_LIBDIR ${sdl2implib} PATH)" failed if
    sdl2implib was set from sdl2implibdbg instead of ${sdl2implibdbg}
    
    Thanks to seyuup from the SDL Discourse for pointing this out.

commit 0d541e5a88ed00bfa3010e7f521c6e8b449b70df
Author: DomGries <stfx@hotmail.de>
Date:   Wed Oct 6 00:36:27 2021 +0200

    Revert "Fixed relative mode mouse events stopping if you click on the title bar"
    
    This has been better fixed by b28ed02 or another related relative mouse mode change of @slouken in SDL 2.0.17 and as such can be reverted to reduce unneeded processing in WM_MOUSEMOVE

commit c542de92135a79f25648e75b1c2ab0fd581e29c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 5 14:08:36 2021 -0700

    React to WM_NCACTIVATE instead of WM_SETFOCUS or WM_ACTIVATE for focus changes
    
    See https://github.com/libsdl-org/SDL/pull/4293 and https://github.com/libsdl-org/SDL/issues/4450 for details

commit ab7910facfcda8fa654220701a6ebf700106500c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 12:34:29 2021 -0400

    cmake: Move the old, global add_definitions (etc) to an interface library.
    
    Fixes #4150.

commit f1793af4046d294152ec15944f0e35fa8c9b9411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 11:19:30 2021 -0400

    cmake: removed an add_definitions call.

commit 25fdba39bb683b3c51f1ddcb80ed6468cdc7b063
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 11:19:14 2021 -0400

    cmake: fix indentation.

commit f306662544d20b435c24265598e276239b23c0e1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 11:13:41 2021 -0400

    cmake: Correctly set IOS variable.
    
    Fixes #4635.

commit 60d59aeb61cf2c67ea765334c21deaca0a10d642
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 10:54:06 2021 -0400

    cmake: Calculate padding for dislaying options automatically.

commit 7850d0cf6fa1b2e7d8999d0506bb907ae071f497
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 5 10:43:35 2021 -0400

    cmake: Prefix all options with "SDL_"
    
    This makes it clear which options came from SDL's CMake project when
    building SDL as a subdirectory of a parent CMake project.
    
    Fixes #4139.

commit 172957387e22c4aa471d5409f6224f81ee155d22
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 4 22:12:08 2021 +0200

    PSP: links for setting up, compiling and running on PSP

commit f080273acd599a4554ecaa04dd5e59848c711905
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 4 22:00:16 2021 +0200

    PSP: add implementation for RenderGeometry

commit e92a639b23747f059927595988f696ed9cacd78b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 4 23:00:28 2021 +0300

    replaced many uses of libc calls with SDL_ counterparts in os2 sources.
    
    TODO: core/os2 and geniconv sources _must_ be updated, as well..

commit dd9b2daf8dd5bfa4ccdddf1f740aea712cb2e369
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Oct 4 21:56:42 2021 +0200

    PSP: fixed build

commit 3ea35fe5bbbdc8adc9e1183f5fc6b325a48f33ed
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 4 21:32:00 2021 +0300

    fix SDL_atoi()
    
    fixes https://github.com/libsdl-org/SDL/issues/4811

commit 407867cf7262a45952d095b9a22af14b22878df9
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Jul 13 13:47:08 2021 +0300

    Alias SDL2::SDL2 to SDL2::SDL2-static on static-only builds

commit cd7ef24cba6e567fa3dfe1dc6ebb5ad7128ee7e9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 4 00:32:56 2021 +0300

    minor update to os2 makefile.

commit c501d159a90bcc0525eef5af8a6978e9fe334f79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 3 14:10:21 2021 -0700

    Fixed range for Steam Controller sensor values

commit ea1a2b94f2850766a19f7d6d7ad3af809a0274a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 2 09:12:57 2021 -0700

    Use the correct update rate for Steam Controller sensors

commit eadc8f93553b119c32a6e9cd00370a1c29886da8
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Oct 2 23:08:39 2021 +0800

    wayland: Cleanup some SDL_TryLockMutex() calls.
    
    Check the result of these against 0 explicitly, so that it's obvious
    we're bailing out on failure, not success.

commit 25f9e32b0e923de18435772464a06abb82b1663c
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Oct 2 16:52:43 2021 +0800

    wayland: Don't let multiple threads dispatch wayland events at once
    
    wl_display_dispatch() will block if there are no events available, and
    while we try to avoid this by using SDL_IOReady() to verify there are
    events before calling it, there is a race condition between
    SDL_IOReady() and wl_display_dispatch() if multiple threads are
    involved.
    
    This is made more likely by the fact that SDL_GL_SwapWindow() calls
    wl_display_dispatch() if vsync is enabled, in order to wait for frame
    events. Therefore any program which pumps events on a different thread
    from SDL_GL_SwapWindow() could end up blocking in one or other of them
    until another event arrives.
    
    This change fixes this by wrapping wl_display_dispatch() in a new mutex,
    which ensures only one thread can compete for wayland events at a time,
    and hence the SDL_IOReady() check should successfully prevent either
    from blocking.

commit 8b745752679e2cbdf46483b4e08e39aff4751d9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 1 21:32:21 2021 -0700

    Added support for the gyro and accelerometer on Steam Controllers
    
    Fixes https://github.com/libsdl-org/SDL/issues/4577

commit db18764e412c65c33468990e684fa7995180d86c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 1 16:27:59 2021 -0700

    Use correct relative include path

commit 632aca29453cf09a44bd45497363607a106634f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 1 16:17:38 2021 -0700

    Window input focus is based on WM_SETFOCUS and WM_KILLFOCUS as WM_ACTIVATE doesn't necessarily imply focus.
    
    Hopefully resolves https://github.com/libsdl-org/SDL/issues/4450 and https://github.com/libsdl-org/SDL/pull/4293

commit 9706feacaedff9f14b7ca8fde26db5340075c778
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 1 15:11:25 2021 -0700

    Update length after shortening string (thanks mayraud705!)
    
    Closes https://github.com/libsdl-org/SDL/pull/4698

commit 77acd44f2862d1b46161d579886d2cc203b6f0fb
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Oct 1 22:30:51 2021 +0200

    DirectFB: fixed creation of palette textures

commit 83d600904b63d4ae7f7f6176cf978d31a53f3f55
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Sep 30 23:47:37 2021 +0200

    DirectFB: add partial support for RenderGeometry
    allow to fill triangles with color or texture
    but only uniform vertex color is handled (not per vertex color)

commit 7def81cf4266a66ed513807197708eacf1c7a2d2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 30 17:34:25 2021 -0400

    wikiheaders.pl: Don't treat chars in `code` blocks as markdown.
    
    Otherwise a formula like `x = y * 2;` would treat that '*' as the start of
    an italicized section when converting to MediaWiki format, and match any
    other '*' in the content as the end marker.

commit 2f93fbbb7500dcb62a7885c6bd757f56f2197da3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 30 10:04:09 2021 -0400

    include: Fix markdown in a doxygen comment.

commit ab09f3dae5bf89f17ef92d78ff7e5d2fde9c14b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 30 10:00:58 2021 -0400

    cmake: Remove warning about CFLAGS environment variable.
    
    CMake 3.11.0 respects this environment var.
    
    Fixes #4681.

commit cd6f96dede29a96c0d49623ec792800ab34f57de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 30 09:57:51 2021 -0400

    cmake: bump minimum CMake allowed to 3.11.0.
    
    This cmake is 3 years old, but it removes confusion about the CFLAGS
    environment variable (as of CMake 3.10.0, reference PR #4681) and also
    consolidates resolves the need to have a separate requirement for Windows
    Store apps (which requires CMake 3.11.0).

commit 344f018dfd2477c361f858f2d6fb71d740cbd622
Author: Daniel Inkpen <dan2552@gmail.com>
Date:   Thu Sep 30 00:06:09 2021 +0100

    Xcode-iOS Demos: Add CFBundleShortVersionString to Info.plist
    
    Xcode 13.0 requires this key to be present in the Info.plist to be able to run the compiled code.

commit c270949b5e9409f0388c5a179f6b65508c01723f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Sep 28 18:07:22 2021 +0100

    Add a fast path for ARGB888->(A)BGR888 blending with pixel alpha

commit 8b23029d23d7eb7917a49aaaa228004f16ddfae7
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Sep 28 17:03:06 2021 +0000

    Sync wiki -> header

commit f79ac6a8de2902bf9cdd733f1857485133623ab8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 27 23:31:23 2021 -0400

    cmake: Don't use the CFLAGS environment variable.
    
    CMake has standard means of setting compiler flags, such as the
    -DCMAKE_C_FLAGS command line for general-purpose flags, and
    -DCMAKE_BUILD_TYPE for letting it choose reasonable release/debug/etc
    defaults. Trying to emulate the configure script is incorrect and confusing
    here.
    
    Fixes #1819.

commit 114d1d46ac03cd1e3c509f769b99b542c74e904c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 27 23:18:25 2021 -0400

    direct3d: Remove unnecessary render target support check.
    
    Direct3D 9 dictates that caps.NumSimultaneousRTs must always be at least 1,
    which is to say that Direct3D 9 level hardware must always support render
    targets.
    
    (caps.NumSimultaneousRTs is meant to show if you can draw to multiple render
    targets in a single draw call.)
    
    We had already hardcoded SDL_RENDERER_TARGETTEXTURE as available earlier in
    the function anyhow.
    
    Fixes #4781.

commit 0fc43504a0b7c2fec1ffda4499645bcd19d6ae54
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Sep 27 16:41:43 2021 -0400

    wayland: Add support for XCURSOR_THEME/SIZE

commit 7c050aa60a14a4cc5f3520f6efc1156fcb4f7643
Author: Martin Mauersics <revision@maus-games.at>
Date:   Mon Sep 27 13:53:16 2021 -0400

    egl: Don't fail to create a context if KHR_create_context_no_error is unsupported

commit 35d045584df29c2399e624d15d7723851b16dc39
Author: David Gow <david@ingeniumdigital.com>
Date:   Mon Sep 27 16:57:09 2021 +0800

    video: wayland: Support displays with a 0 refresh rate
    
    Some wayland compositors report the refresh rate as 0. Since we want to
    force a minimum refresh rate of 10 frames worth, we were dividing by the
    reported refresh rate, causing a divide-by-zero.
    
    If the refresh rate is 0, instead force a frame every second if no frame
    callbacks are received.
    
    This fixes bug #4785

commit ba87876ef77de4dc438b702be1d12f577adb0b1e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 27 14:10:02 2021 +0300

    fix syntax error in SDL.vcxproj.filters
    
    Noticed by Markvy.
    Fixes https://github.com/libsdl-org/SDL/issues/4787

commit 9672d58119dd7e2236f3bb90c744406913ae6bfc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 26 14:22:11 2021 -0700

    Need to check structure version before setting xdg_toplevel to NULL

commit 14f225198d8ca33fd77786fcd8d38638185454fa
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Sun Sep 26 18:11:22 2021 +0300

    Use SDL_calloc for allocation of gxm_texture

commit b592e78f93b1e698b981ecf5af90e48e52e6387e
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sat Sep 25 12:55:41 2021 +0600

    wayland: Expose xdg_toplevel to SysWM

commit 7a1690eb633608b325301ab54f04970a46a2d6aa
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sun Sep 26 02:32:05 2021 +0000

    Sync wiki -> header

commit 7becc414951a15043417c43f0e5efb0f60c5178d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Sep 25 17:36:04 2021 +0000

    Sync wiki -> header

commit d854ba99c2c0f4534231df14bdba77e7dd32bcba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 24 10:59:35 2021 -0700

    Removed X11 code from Apple Xcode project

commit 477fcf52e9f61e6eb01d334a721900ab3b9cca2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 24 10:49:46 2021 -0700

    Fixed whitespace

commit db68af8032e1fb988d08b7253839b17e532e1db7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 24 10:49:44 2021 -0700

    Reduce the likelyhood that the mouse will hover over the taskbar or toast notification while in relative mode, which causes a mouse leave event.
    
    This will still happen occasionally as the mouse is whipped around, if there is a window overlapping the game window, but it should happen less often now. This could even happen with the original code that warped the mouse every frame, so this should be a good compromise where we don't warp the mouse continously and we still keep the mouse in the safe area of the game window.
    
    Note that notifications can be any size, so the safe area may need to be adjusted or even dynamically defined via a hint.

commit ce66051b0aa8079b72cf1ad3211720257d4ad7a2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 24 04:03:24 2021 +0300

    regenerated configure

commit ef8c4d27d716ceccbe0588efc0da5a40a1f0f69a
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Sep 23 17:43:53 2021 -0400

    wayland: Require xkbcommon 0.5.0 or newer (2014-10-18)
    
    Fixes #4645

commit decd1b4d74c1b1610557262a1c9896a8814ffb51
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Sep 23 22:28:45 2021 +0200

    testdraw2: display FPS similarly to testsprit2. fix helper syntax

commit 7ed415d2edfa44e554605a0b5616c836680756ed
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Sep 23 14:07:38 2021 -0400

    wayland: Reuse KeySymToUcs4 to replicate X11 keymap behavior

commit 1a4e2e5ef7425d44a0faa4ad5535e69f7c0b962c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Sep 23 14:31:54 2021 -0400

    wayland: For text, ignore key events when Ctrl is held
    
    Fixes #4695

commit 0aff42a159d54c959c36b99ded84efac489b80d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 23 00:02:44 2021 -0400

    egl: Group data fields before function pointers in SDL_EGL_VideoData.

commit 0ad4956c069459afb66601ea2a0446b654dae0ea
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 23 00:00:46 2021 -0400

    egl: explicitly call eglBindAPI during SDL_GL_MakeCurrent.
    
    The EGL API binding must be specified per-thread, per the docs.
    
    Fixes #1820.

commit 31477160229c2b49dff91ac6155b16d164dfbb78
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 22 09:27:41 2021 -0400

    egl: make an int into an SDL_bool.

commit 4ec259a7848de6037a44e39409db8e487674502e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 19:06:11 2021 -0700

    Fixed building on Visual Studio 2013 and older

commit 287571fb468bf3a4ccab7cac72b08c35f889779f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 17:40:57 2021 -0700

    Limit effect of in_title_click and focus_click_pending to only blocking cursor warping; without this all relative mouse motion was getting ignored when a window was activated via a mouse button

commit 529215639821f7a25a100a2b80af5f66068ba644
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Wed Sep 22 21:23:42 2021 +0300

    End Scene on RunCommandQueue on Vita

commit 08ae790497e86678be732693d4c60e8dc64e619e
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Sep 14 20:38:03 2021 +0100

    Replace calls to asprintf with SDL_asprintf

commit 25a614bc3e573909b5801d3d21c4af46e5f7fa51
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Sep 14 20:37:35 2021 +0100

    Add SDL_asprintf and SDL_vasprintf

commit 79b0aae86c9ea97b4ad8eaf385dfc3b1b804656e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 11:42:10 2021 -0700

    The return value of SDL_snprintf is the number of characters that would have been written.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4762

commit 9b74623be9a4dc97bac905c69bea042df6e0b1ac
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 22 13:52:36 2021 -0400

    wayland: Woops, forgot to assign cursor theme size...

commit 8e54698aa6e3c0cf02d0b628403f047f28ea7fd0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 22 13:26:44 2021 -0400

    wayland: Add support for high-DPI cursors

commit 42ae9116adce82703f847f1ec9867d7e99f17b1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 10:01:42 2021 -0700

    Getting "(null)" when formatted printing NULL is a valid result

commit a4a9d284613139d4b8eca1185646476494167e96
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:56:06 2021 -0700

    You may need to wait a bit for SDL_WarpMouseInWindow() to complete

commit 94a42af57088efb1f336059dc79fe6ad2da37888
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:49:41 2021 -0700

    Fixed the name of the verbose hints

commit b914bc3954718ae00d031f380751567b5d9b72ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:48:51 2021 -0700

    SDL_PIXELFORMAT_ARGB2101010 isn't fully supported for all surface conversion paths yet

commit e5d59fa77ce4cd4919e4745fd0abf408409f794e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:31:26 2021 -0700

    Fixed building testgles2 on Linux

commit 0c8277e9bdbc1e71e2589d59cfaaa82ea46614b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:30:28 2021 -0700

    Added testgeometry to the git ignore file

commit 432ee7d8ad389cbee82964f18e8d7ab62b8ac097
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:29:21 2021 -0700

    Fixed building SDL_dynapi.c without stdio support

commit 345c161feb52f39c4ebfc1cda0cf80c05ce699fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 22 09:06:45 2021 -0700

    Fixed some accidental uses of external C runtime functions

commit 5d455cabf98c84981d75d4cb3fcd4e869f4e7be5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 21 18:15:11 2021 -0700

    Don't process raw input when the window is being dragged or clicked on.

commit 0fd54f91f419a5dab178aaab7a92a1037f893776
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 21 18:15:11 2021 -0700

    Fixed using a tablet with raw input relative motion
    
    Tested with a Wacom Cintiq Pro 16"

commit b687c0ff2c74ae364643f2ef472aca3d691f8af5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 21 18:15:10 2021 -0700

    Integrate fix for Source 2's Win32 build that does '#define __i386__ 1' which causes it to hit the __i386__ case instead of the _MSC_VER case.

commit 8fee82d1fd9d8875cca7f8bfc577c60d12a5b5b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 21 18:15:09 2021 -0700

    Improve relative motion handling over RDP
    
    CR and research: @danielj

commit eb3bf80f9c6a338f4b936d0395477ab154c70cc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 21 18:15:09 2021 -0700

    Fixed compiler warnings using Visual Studio 2019

commit ce11caa80f026f615afbc7c6700638a3552cc122
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 21 16:41:29 2021 -0400

    alsa: Map 7.1 audio channels to match what Windows and macOS expect.
    
    This matches what we did a long time ago for 5.1 audio.
    
    Fixes #55.
    
    (FIFTY FIVE. Bug reported 15 years, 3 months, and 11 days ago! lol)

commit 9886d897e27ac741daa92304fb0e7917ec701954
Author: pkubaj <pkubaj@FreeBSD.org>
Date:   Tue Sep 21 16:23:48 2021 +0000

    Fix AltiVec detection on FreeBSD
    
    The previous code was not correct, because there's no PPC_FEATURE_HAS_ALTIVEC MIB.
    Instead, elf vector check should be done.

commit c45facf2cac4812555f2c4ff66006e2c365da8c3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 21 11:13:46 2021 -0400

    alsa: clean up macro salsa a little.

commit f5e636a62169f3429f2d03c237840bdc3020305f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 20 20:43:39 2021 -0400

    config: Try to use stdint.h with Borland C.
    
    (This probably isn't right on truly ancient versions of Borland C, but it
    should cover things from the last decade or so, I hope.)
    
    (possibly) Fixes #1673.

commit 3b2fbb1cb7f0ae7c569dd9abee0652eac51164c0
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Mon Sep 20 23:44:22 2021 +0300

    End current scene before destroying the texture on Vita

commit e55b850703bcb789a92e28ea656eb2122d2ddc5b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 20 23:50:02 2021 +0300

    minor tidy-up in os2 makefile for tests.

commit fc4296c114640479b6862c03da73d26599c8e1a1
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Mon Sep 20 23:02:43 2021 +0300

    Use aligned stride in sceGxmColorSurfaceInit

commit 7080bc2a91f2290120d31f2ad0bc6a36c8a54837
Author: Northfear <11291116+Northfear@users.noreply.github.com>
Date:   Mon Sep 20 23:02:01 2021 +0300

    Fallback to SCE_KERNEL_MEMBLOCK_TYPE_USER_RW_UNCACHE if CDRAM texture allocation fails

commit 512355d7aa7ee267d31a43909bf2e2748f4ca957
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Sep 20 20:21:05 2021 +0300

    Vita: fix thread detach. Remove leftover KillThread

commit ddcd847c8e8de2782e01a95f645eb1834417d6a9
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Sep 20 14:08:01 2021 +0300

    Vita: fix thread priority Add support for thread name and stack size

commit 21c1082786d178b4235fd047657bdc18ce6dfb00
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Sep 20 13:22:20 2021 +0100

    Add MinGW-w64 builds to GitHub Actions

commit 478f9eed288a9063ac55508401844835244da6b2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 20 10:20:04 2021 -0400

    x11: Don't include X11/extensions/extutil.h
    
    We don't use it, it was a leftover from 1.2, I think, and it doesn't exist
    on Solaris, so this should hopefully fix the build there.
    
    This also means we don't need the configure/cmake checks for
    SDL_VIDEO_DRIVER_X11_CONST_PARAM_XEXTADDDISPLAY, so that was removed also.
    
    Fixes #1666.

commit ca9a32171573a89679d0d96e14f85524387d187a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 19 15:47:24 2021 -0400

    render: GL/GLES now draw lines almost perfectly matching software renderer.
    
    One place known to differ in a significant way is a single line segment that
    starts and ends on the same point; the GL renderers will light up a single
    pixel here, whereas the software renderer will not. My current belief is this
    is a bug in the software renderer, based on the wording of the docs:
    
    "SDL_RenderDrawLine() draws the line to include both end points."
    
    You can see an example program that triggers that difference in Bug #2006.
    
    As it stands, the GL renderers might _also_ render diagonal lines differently,
    as the the Bresenham step might vary between implementations (one does three
    pixels and then two, the other does two and then three, etc). But this patch
    causes those lines to start and end on the correct pixel, and that's the best
    we can do, and all anyone really needs here.
    
    Not closing any bugs with this patch (yet!), but here are several that it
    appears to fix. If no other corner cases pop up, we'll call this done.
    
    Reference Bug #2006.
    Reference Bug #1626.
    Reference Bug #4001.
    ...and probably others...

commit 857cc7c0c93f003dbfc5fed7a87de907fffb2a1b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 19 00:05:21 2021 -0400

    render: constified some local variables in SDL_AllocateRenderVertices.

commit 5faea84c631e39fbd9b2743bedb2545d882baed9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 18 11:54:25 2021 -0400

    render: Mark viewport/cliprect dirty when window is resized.
    
    Fixes #4751.

commit b8da02e6efe7c6558d6d27ad41e724653279ebc3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 18 10:44:32 2021 -0400

    include: Fix triggering of Clang's -Wexpansion-to-defined in SDL_endian.h
    
    It doesn't like #if statements that uses a macro that uses defined(x).

commit 8f41412327c4850f6326ac3e48338100ffd3604b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 18 10:35:36 2021 -0400

    cmake: Patched to compile.
    
    Too fast on the git push!!

commit bf1d7a3a15a6c090188974bec8ca84eb1903d4f7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 18 10:31:37 2021 -0400

    cmake: Don't trust the HAVE_IMMINTRIN_H check on Apple targets.
    
    Otherwise universal builds might try to include an Intel-specific header
    on ARM builds, etc.
    
    Fixes #4753.

commit ba9e2299b3ac3e42fc229c565edadcc6989edc1a
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Sep 18 14:19:04 2021 +0000

    Sync wiki -> header

commit 2d44bf7dcff3073ea1a722e88c6c013e6d3a81f0
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Sep 17 20:24:10 2021 +0100

    Update description of SDL_SetWindowAlwaysOnTop

commit 5dccffd7e4fd78e96a2f20e460ec78d46642f9f9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Aug 23 21:16:58 2021 -0400

    Allow usage of the new Condition Variable code with Critical Sections
    
    Vista and later provide the SleepConditionVariableCS() function for this.
    
    Since SDL_syscond_srw.c doesn't require SRW locks anymore, rename it to
    SDL_syscond_cv.c which better reflects the implementation of condition
    variables rather than the implementation of mutexes.
    
    Fixes #4051.

commit 44ab04fc6382832f24bf4a08547fb2b2d41cb3fd
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Sep 17 19:19:06 2021 +0000

    Sync wiki -> header

commit 4d0c3cb2a8323438e2593d832d9478d663487417
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Sep 17 19:17:05 2021 +0000

    Sync wiki -> header

commit 192538357b3f843f7412fe7f0c95fd1a3dec8d67
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Sep 17 19:14:05 2021 +0000

    Sync wiki -> header

commit d856478f70df5c3c4ef7dd76e05ee882d1befc59
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Sep 17 19:12:05 2021 +0000

    Sync wiki -> header

commit 74a1eb2106a6a88037219d78eded5ec172aef06a
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Sep 17 19:10:07 2021 +0000

    Sync wiki -> header

commit eb8f332c2628ee3f24f625ea19f3772542a84911
Author: Alex R <lyssdod@gmail.com>
Date:   Fri Sep 17 02:34:49 2021 +0200

    fix: allow builtins for all archs (#4756)
    
    * fix: allow builtins for all archs
    
    * fix: typo

commit ebdfd0e1750cd76ef418b88f06c163bd02d12edd
Author: Alex R <lyssdod@gmail.com>
Date:   Fri Sep 17 00:45:07 2021 +0200

    atomic: detect clang separately

commit 8d1e0ca32455c3c5872279d7f76f39c5b506b86f
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Sep 16 12:48:39 2021 +0300

    Vita: add support for disabling 'screensaver' (screen dimming and suspend)

commit 79ec8986d322edfd1e95c3a7dc6ed05a75f53f97
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Sep 16 12:47:45 2021 +0300

    Vita: refactor gxm texture render and add SDL_RenderGeometry support

commit 2a8938f2bf4f68bf4ae089585652f65d8933e77a
Author: Zach Reedy <86971250+zreedy@users.noreply.github.com>
Date:   Wed Sep 15 12:40:22 2021 -0400

    Fixed: Whitespace being striped from the end of IME strings incorrectly + Regression with SDL_SetTextInputRect (#4752)
    
    * Fixed: Whitespace being striped from the end of IME strings incorrectly
    
    * Fixed: Google IME Candidate Window not placing correctly
    
    * Why are PostBuild events stored in the vcxproj and not a user file?
    
    * Revert SDL.vcxproj properly...
    
    * Remove whitespace as per code review
    
    * Fix Werror=declaration-after-statement error in code

commit 333ea51cac18126bedf7c707a4b4a51dc9ddece9
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat Sep 11 23:07:44 2021 -0400

    CI: Set default shell for Vita build.
    
    vitasdk image only comes with sh.
    Previously, the shell was mentioned on each run step.

commit 1e6e9f364e84f1fc6999c0e4090235b224c80546
Author: Pierre Wendling <pierre.wendling.4@gmail.com>
Date:   Sat Aug 21 12:10:37 2021 -0400

    CI: Add PS VIta build

commit ce177049f72c15265473b5bc2e7ac205ee184752
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Sep 12 09:34:41 2021 +0300

    Vita: Allow completely skipping pvr init to override apphint from app

commit 4a9947336ca0126f03e04114f568674a6bdb727b
Author: Misa <infoteddy@infoteddy.info>
Date:   Tue Sep 14 15:51:17 2021 -0700

    `SDL_RenderSetVSync()`: Restrict `vsync` to 0 or 1
    
    In the future, we might want to support special swap intervals. To
    prevent applications from expecting nonzero values of vsync to be the
    same as "on", fail with SDL_Unsupported() if the value passed is neither
    0 nor 1.

commit 4549769d7de1780686cc6cef0c613af9a072015f
Author: Misa <infoteddy@infoteddy.info>
Date:   Sun Mar 7 15:20:45 2021 -0800

    Add `SDL_RenderSetVSync()`
    
    Currently, if an application wants to toggle VSync, they'd have to tear
    down the renderer and recreate it. This patch fixes that by letting
    applications call SDL_RenderSetVSync().
    
    This is the same as the patch in #3673, except it applies to all
    renderers (including PSP, even thought it seems that the VSync flag is
    disabled for that renderer). Furthermore, the renderer flags also change
    as well, which #3673 didn't do. It is also an API instead of using hint
    callbacks (which could be potentially dangerous).
    
    Closes #3673.

commit b2504b5da6e3d8cbf9fa88793a4ad4c3b0635079
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Sep 11 20:08:03 2021 +0300

    Fix typos

commit e455659467282d23dc20f1fe0ec517c3695409c9
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 21:13:51 2021 -0500

    Simplify Backspace and Enter

commit 88578dc9cb0812d7d95bd31c80ce8ec3624990c1
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 21:08:58 2021 -0500

    Update Docs

commit f162d9ee23a7ba600972da6b98604b8a3b0c554b
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 21:02:22 2021 -0500

    Fix Indentation

commit 5fa8a042ac109d724ae1ad3fa9f12b5b99a05c73
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 21:00:20 2021 -0500

    Fix the indentation

commit 058c4d36b24a5739553209dc00c4fb61abde4f2f
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 20:55:49 2021 -0500

    Add envvar to disable touchpads independently

commit 4435543db121861797666369647e2fe42b44b7bb
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Fri Sep 10 20:01:40 2021 -0500

    Add PVR On Screen Keyboard Support

commit 67aacfe5c01c77d58e28ed3c537c8a2d8d9429aa
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 9 17:59:47 2021 +0100

    cmake: Retrieve the git revision on platforms without bash

commit 6301cfda95daab17985ada7856be3a851185e057
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 9 17:36:03 2021 +0100

    cmake: Use the correct directory structure for MinGW builds

commit e967f00271cca8e72b4687ec6f228eb059e0d704
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 10 00:01:20 2021 +0300

    testmouse.c: remove unused local var.

commit 830206581b485afb82e1778412815b92c01d3121
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Sep 9 21:33:35 2021 +0100

    Add testmouse

commit 10d3df44f10edda05c3602622597806495202809
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Sep 9 12:46:28 2021 +0300

    Vita: fix copyright dates

commit 82c91fed21aae61fb6dc21eae8adbd4b3d44a0c8
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Sep 9 12:38:38 2021 +0300

    Update docs

commit 2a83686071760b8527b0784f7ffd0f0b9cbaa0a1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Sep 9 12:36:40 2021 +0300

    Fix default path

commit 134dd4681983bbff18d5aa52ce21974d54f90b39
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Aug 16 19:08:12 2021 +0300

    Add pvr gles/gles2 context support

commit ff85d4fbe5c013093a956f1126017e61d9ed37cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 8 17:51:47 2021 -0700

    Fixed Xbox Series X controller being detected by both IOKit and GCController on macOS

commit 9f8552588d0f624e141363d336c0a35ce141d521
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 8 17:50:17 2021 -0700

    Added mapping for Xbox One S controller with newer firmware on macOS

commit bf97c5a22f948c055c3580a57f1d8ec342ec6134
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 8 14:47:40 2021 -0700

    Make sure SDL file descriptors don't leak into child processes

commit 3ed8ba7d3335f27198281024f67d9ea6898a0101
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 8 12:14:34 2021 -0400

    winrt: Update SDL-UWP to VS2019

commit b88077fe5a67e43a576287eebcd7510709f89952
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 8 12:11:40 2021 -0400

    winrt: Move the UWP project files up one directory

commit 2facf5b7b73a973891b8cb8c15824a7281ab8a1e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 8 12:07:41 2021 -0400

    winrt: Remove Windows 8.x project files

commit 07b59df264a0a23d1401e14f98266e29c9926222
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Sep 8 12:06:54 2021 -0400

    winrt: Remove unused nuspec/targets files

commit d49d955d739fdda9901f0949f5f3b7ccbc803ab2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 8 11:44:17 2021 -0400

    render: SDL_RenderGeometry should still render when hidden, in most cases.
    
    (otherwise render targets may fail, etc...the check is a legacy helper for
    iOS apps that crash if you try to use OpenGL while in the background.)

commit 7d66fa209a7a4689eba6863bc73209f19df4375b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 7 17:38:26 2021 -0700

    Fixed double-copy of the report in BlueZ >= 5.56

commit 7ed7644a26a5a0f14f6cc8c1916c4d0351f67577
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 7 17:37:47 2021 -0700

    Fixed compiling HIDAPI Steam Controller support with C89 compiler

commit 27a48b142bb53def7e1e6fafcdb5433d3b6a5865
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 7 15:50:21 2021 -0700

    Check the pathname first, as that's a faster check for XInput devices

commit 21160cb815de112ceb861c173a817c824dec1b35
Author: Ellie <64124388+ell1e@users.noreply.github.com>
Date:   Tue Sep 7 19:18:30 2021 +0200

    Formatting fixes (purely cosmetic, fixes GitHub's rendering)

commit 2c6f52d18cb3d9ec282a75b45ee11b8b8258ae76
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 6 15:24:50 2021 +0300

    regenerate test/configure really with ac2.69

commit 2e3a415bdceeafdbab2c306874da1c851a68faef
Author: Simon McVittie <smcv@debian.org>
Date:   Mon Sep 6 13:09:09 2021 +0100

    test: Use a static pattern rule to copy data to $(builddir)
    
    The version with an implicit pattern rule tended to fail if test/
    was built in an "out-of-tree" build directory not below test/, for
    example:
    
        cd SDL
        mkdir _build-test
        ( cd _build-test; ../test/configure )
        make -C _build-test
    
    as a result of the pattern rule first checking for axis.bmp, then for
    ../test/axis.bmp, then ../test/../test/axis.bmp, and so on until the
    maximum path length was reached.
    
    Note that this requires GNU make. The FreeBSD ports file for SDL seems
    to use GNU make (gmake) already, so presumably SDL's build system is
    already relying on GNU make extensions.
    
    Signed-off-by: Simon McVittie <smcv@debian.org>

commit 9837a327ffac6971cf94384dc6e1be649cfe7175
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 6 14:55:40 2021 +0300

    regenerated test/configure

commit 91ce6019df0e85b3bdcdc11734ea2984058194de
Author: Simon McVittie <smcv@debian.org>
Date:   Mon Sep 6 10:40:23 2021 +0100

    test: Fix path used in AC_CONFIG_AUX_DIR
    
    AC_CONFIG_AUX_DIRS is an undocumented, internal version of
    AC_CONFIG_AUX_DIR that takes a whitespace-separated list, instead of a
    single path to add to the list. It also does not automatically treat
    the given path as being relative to the $srcdir, unlike the documented
    AC_CONFIG_AUX_DIR.
    
    Newer versions of autoconf treat the argument to AC_CONFIG_AUX_DIRS
    as being literal (they do not expand the shell variable), causing
    autoreconf to fail if $srcdir is explicitly specified. The argument to
    AC_CONFIG_AUX_DIR is checked  relative to $srcdir anyway, so there is no
    need to specify $srcdir a second time.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/4719
    Signed-off-by: Simon McVittie <smcv@debian.org>

commit ddfd21a6784f533bdd04b7e0dd61a0f400eee96e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Sep 5 05:37:20 2021 +0300

    configure: fix vulkan enablement for windows after commit 13ec545936cfd

commit 6f972052296fdfe63ecaa7edab3e5b4e663eea06
Author: Zach Reedy <zreedy@opera.com>
Date:   Mon Aug 30 12:21:05 2021 -0400

    Added: Support for showing the IME Candidate Window on Windows

commit 183eb0673b7a5a66f9260f759e6863fe86a1bfa0
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Sep 1 15:46:32 2021 +0200

    Fixed bug #4711: prevent opengl SDL_renderer from crashing if GL_ARB_multitexture isn't supported

commit 515b7e93b5af3dc552a7974ed7245a0e0456ae2a
Author: Rokas Kupstys <rokups@zoho.com>
Date:   Fri Aug 27 17:02:07 2021 +0300

    Fix horizontal wheel scroll direction of X11.

commit 8796f35e0fb9b316d4c45399187d4fbd8e7b55d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 1 00:19:54 2021 -0400

    wikiheaders.pl: Make sure all wiki API pages reference CategoryAPI.

commit e260c804724444aa94cc3b739991ac6bc554844d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 30 23:46:54 2021 -0400

    Fix the wiki/headers bridge.
    
    I'm tweaking this manually to remove some whitespace that confused it, but
    if this happens again I'll make improvements to wikiheaders.pl instead.

commit a1ffeda0ed0fb7be473c4bc6ac3391743a5dea6e
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Aug 28 22:52:13 2021 +0800

    Add SDL_HINT_APP_NAME and DBUS inhibition hint
    
    See SDL bug #4703. This implements two new hints:
    - SDL_APP_NAME
    - SDL_SCREENSAVER_INHIBIT_ACTIVITY_NAME
    
    The former is the successor to SDL_HINT_AUDIO_DEVICE_APP_NAME, and acts
    as a generic "application name" used both by audio drivers and DBUS
    screensaver inhibition. If SDL_AUDIO_DEVICE_APP_NAME is set, it will
    still take priority over SDL_APP_NAME.
    
    The second allows the "activity name" used by
    org.freedesktop.ScreenSavver's Inhibit method, which are often shown in
    the UI as the reason the screensaver (and/or suspend/other
    power-managment features) are disabled.

commit 9fae8f7088efab699fcec3e8086db5f40c899314
Author: Lee Salzman <lsalzman@gmail.com>
Date:   Sun Aug 29 15:33:58 2021 -0400

    Treat empty SDL_VIDEODRIVER var to check all video drivers.

commit 7d90df0ecea3885bb6ca331202bcbe849a60881b
Author: Lee Salzman <lsalzman@gmail.com>
Date:   Sun Aug 29 15:24:23 2021 -0400

    Restore previous behavior of empty SDL_AUDIODRIVER trying all drivers.
    
    The recent change to make SDL_AUDIODRIVER support comma-separated lists
    broke the previous behavior where an SDL_AUDIODRIVER that was empty
    behaved the same as if it was not set at all. This old behavior was
    necessary to paper over differences in platforms where SDL_setenv may
    or may not actually delete the env var if an empty string is specified.
    This patch just adds a simple check to ensure SDL_AUDIODRIVER is not
    empty before using it, restoring the old interpretation of the empty
    var.

commit b9bf7ffec755815c95b9d980dffe463f5717d149
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Aug 28 18:17:05 2021 +0000

    Sync wiki -> header

commit 8b1f8b6ec52035558f83479d82fdc6e329392b34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 27 11:14:09 2021 -0700

    Use the high speed alternate setting on new Microsoft Xbox controllers

commit 1fe9ad04be8330d6272b22711468ded09aa8a1fe
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Aug 27 14:09:47 2021 +0200

    SDL_ConvertSurface: add an intermediate variable to remove static analysis false positive (see bug #4600)

commit be6bee0b5a07e73c317d54a2bc024e33e5d4ab42
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Aug 27 07:47:28 2021 +0200

     SW_RenderGeometry: add a redundant check to clear static analysis (see bug #4600)

commit 54ca1d190e02aa524d1dbaa18b1280ab54089820
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Aug 27 07:44:03 2021 +0200

    SW_RenderGeometry: add a redundant check to clear static analysis (see bug #4600)

commit b17aa5d080fd7079d96c0146fbb3f4a864a8454c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Aug 27 07:16:40 2021 +0200

    SW_RenderGeometry: remove a few static analysis false positives (see bug #4600)

commit a47f59bbe542e5cc21174208047916029cb18128
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 27 01:03:14 2021 -0400

    codechecker-buildbot.sh: Don't fail if a static analysis issue is reported.

commit a6b45fa7cf244b48b6b9fe738715ae8e3f5582b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 27 00:56:18 2021 -0400

    codechecker-buildbot.sh: mark script as executable.

commit f7ee06f3a53f7ef39228003e03cce51c87542619
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 27 00:50:43 2021 -0400

    build-scripts: Add a buildbot script for CodeChecker static analysis.

commit 3261f7f6ceaaa435a3aca0252b2f7126eeae1bb2
Author: David Gow <david@ingeniumdigital.com>
Date:   Thu Aug 26 16:15:30 2021 +0800

    audio: Support "pulse" as an alias for "pulseaudio"
    
    Originally, SDL 1.2 used "pulse" as the name for its PulseAudio driver.
    While it now supports "pulseaudio" as well for compatibility with SDL
    2.0 [1], there are still scripts and distro packages which set
    SDL_AUDIODRIVER=pulse [2]. While it's possible to remove this in most
    circumstances or replace it with "pulseaudio" or a comma-separated list,
    this may still conflict if the environment variable is set globally and
    old binary builds of SDL 1.2 (e.g. packaged with older games) are being
    used.
    
    To fix this on SDL 2.0, add a hardcoded check for "pulse" as an audio
    driver name, and replace it with "pulseaudio". This mimics what SDL 1.2
    does (but in reverse). Note that setting driver_attempt{,_len} is safe
    here as they're reset correctly based on driver_attempt_end on the next
    loop.
    
    [1] https://github.com/libsdl-org/SDL-1.2/commit/d9514097846381cd30fe08df65dbdd48de92a058
    [2] https://bugzilla.opensuse.org/show_bug.cgi?id=1189778

commit 503ea8e89f519e79f44451af945bf00df9d6cad0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 25 14:41:58 2021 -0700

    Don't modify the Nintendo Switch home LED state by default

commit b1e492d1fc9ee1e6f35147e04e34364f0dc56304
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Wed Aug 25 19:31:47 2021 +0200

    Search for an appropiate plane instead of simply using the first one.

commit 23ffa3d914a2af666e67afd7e6d26a5a34cb1a23
Author: Eric Engestrom <eric@engestrom.ch>
Date:   Wed Aug 25 21:31:07 2021 +0100

    Update SDL's copy of the EGL headers from Khronos

commit 524964f9668b5a0edd484258f4831ff9e577e06e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Aug 14 12:09:13 2021 -0400

    Add SDL_HINT_VIDEO_EGL_ALLOW_TRANSPARENCY

commit 5113fedfa0e8592048a66cf8f852a59441e8bc9c
Author: Eric Engestrom <eric@engestrom.ch>
Date:   Mon Aug 2 23:01:12 2021 +0100

    video/wayland: use EGL_EXT_present_opaque when available

commit 130b6bebaec4bc9f37c103a69595e8c261f2af49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 24 17:01:34 2021 -0700

    Manually scan for Linux joysticks before udev scan runs
    
    This allows us to have joysticks sorted by insert time at startup, fixing https://github.com/libsdl-org/SDL/issues/4688

commit cbccf5bb5088853bfbff5f22303082950cf8aab4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 24 17:01:06 2021 -0700

    Use SDL_GetHint() instead of SDL_getenv() for Linux joystick hints

commit 0ae2a9f8c33890fc5e1911642fb027157ee39c7d
Author: Shawn Ellis <shawn.ellis17@gmail.com>
Date:   Sun Aug 22 17:44:08 2021 -0500

    Fixed the Atari gamecontroller mappings and added Atari Xbox 360
    
    This change corrects the mappings for the Atari gamecontroller and
    adds support for the Atari Xbox 360 compatible gamecontroller. The Atari
    game controller can switch between Atari and Xbox 360 mappings.

commit d5fe9c308a95a3e7784ce0ff7e3067ed0fbee347
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 24 14:18:47 2021 -0400

    x11: Log a warning if we decide to use XVidMode.
    
    Reference issue #1782.

commit 76d50d28716c785ff0d06fe8cd6a45fbe68c9ed9
Author: Yao Wei Tjong 姚伟忠 <weitjong@gmail.com>
Date:   Sun Aug 22 14:40:54 2021 +0800

    Force color diagnostics when applicable
    
    Although GCC and Clang automatically generate color diagnostics on
    terminal output, they do not do so when the compiler output is piped
    through another process, like in the case for ninja-build and ccache.
    
    Similarly, it would also be nice to be able to see the color diagnostics
    on the CI build log in the web interface provided by the CI providers.

commit 79c7a1713fef4dde119fba998edfaafa2fbbaac9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 24 12:41:41 2021 -0400

    testvulkan: reformatted to more-closely match SDL coding conventions.

commit b073d2753d0ca737e2d75e6b679acdfa5e1c4c8e
Author: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
Date:   Tue Aug 17 16:52:49 2021 +0300

    test/vulkan: fix/workaround validation errors

commit 374b0b9aaff66bfacc80b20d2374555ea17a6e33
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 23 23:58:54 2021 -0400

    cmake: Don't support Vulkan if LOADSO is disabled.
    
    Fixes #4373.

commit fff421f4b8a75fdaae0b6ef01af9265c80b7ead9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 23 23:59:54 2021 -0400

    cmake: fix a bunch of things to properly link without LOADSO enabled.
    
    The wrong logic, copy/pasted to a bunch of places, would correctly disable
    the dynamic loading but fail to specify the libraries that SDL would now need
    to explicitly link against.

commit abba181118e3faafa6b5c942ee03e3ae6cffecf3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 23 20:18:57 2021 -0400

    testvulkan: support multiple windows.
    
    Fixes #4363.

commit 13ec545936cfd19dd3bf3e59d978f1a9c7d2200f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 23 00:54:13 2021 -0400

    configure: Disable Vulkan support if loadso subsystem is disabled.
    
    Fixes #4373.

commit 9504bb121d3951240d5c3a5980f45c9d71497317
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 23 00:47:25 2021 -0400

    pulseaudio: Fix some function signatures that expect const pointers.
    
    This might have changed at some point in the Pulse API, or this might have
    always been wrong, but we didn't notice because the dynamic loading code
    hides it by casting things to void *. The static path, where it
    assigns the function pointer directly, puts out a clear compiler warning,
    though.

commit 7e8d054b97554f9bc3fbf2244bdb9107c434d14f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Aug 21 11:50:04 2021 +0300

    updated config.sub from mainstream.

commit e426bb80cb8c9c04737c980552a6cc3126b694b7
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Aug 20 07:50:30 2021 +0200

    Fixed bug #4671 - D3D_QueueGeometry: use "count / 3" (Thanks alittlesail!)

commit 70c23b25f0a463d46e689a0136750ca05c5b9908
Author: Oschowa <oschowa@web.de>
Date:   Wed Aug 18 13:18:11 2021 +0200

    audio: pipewire: Reset hotplug atomic variables on deinit.

commit ae5336a3d2ef16c02fdafa42fae6b133f1f93d8d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Aug 19 14:03:10 2021 +0200

    Fixed bug #4669: D3D_QueueGeometry: -0.5f offset position of vertexs
    This similar to D3D_QueueCopy positions

commit 8270172e74a7da32c459c64a7c363b7bf05d1df2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 19 12:11:10 2021 +0300

    fix -Wshorten-64-to-32 warnings in android builds.
    
    see: https://github.com/libsdl-org/SDL/pull/4195#issuecomment-901506386

commit ccb06296b94828c86dfa2d3f0f319e97bcfbc0f1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 19 03:15:02 2021 +0300

    SDL_windowsevents.c: fix build against older SDKs.

commit f5c0cdea389687d324e8b3917c566e411241a95a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 19 01:28:10 2021 +0300

    testgeometry.c: fix build in c89 mode

commit ca39f6d6cd68a2b494fb7389f6e7c51fb45cbeb4
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Aug 18 22:13:05 2021 +0000

    Sync wiki -> header

commit 154384a77678631abd4b18e5b1a2c55478ecb3a6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Aug 18 23:59:27 2021 +0200

    Add (uintptr_t) casts

commit 08d6a4653eb38b145fb4afaf1d1d4d8cd23a9d77
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Aug 18 23:57:32 2021 +0200

    Fix dynapi prototypes

commit 93fb5a223e82a551b6d7f0bb29716c59a780233f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Aug 18 23:54:37 2021 +0200

    Remove '\brief' markup in header 'SDL_render.h'

commit 1670104ad8e138a3f6ec47b7f7d35a3e0c38aaa1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 23 12:27:35 2021 +0200

    Change 'size_indice' to 'size_indices'

commit a8f89a01aaec3c65e6e3587d48c484f5c6e4255f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 23 12:00:14 2021 +0200

    Change 'size_indice' to 'size_indices'

commit bc2173baf90f872d215ab4875824512af36e194a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 6 21:49:23 2021 +0200

    Add testgeometry to draw a non uniform triangle
    --use-texture: an option to load icon.bmp as a texture
    handle mouse motion: rotate the triangle

commit 53bcb3e0e987371de153bfdf38879630b6733f9f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 6 21:38:24 2021 +0200

    Add an option to 'testsprite2' to render slicing into triangles.
    [--use-rendergeometry mode1|mode2]
    mode1: Draw sprite2 as triangles that can be recombined as rect by software renderer
    mode2: Draw sprite2 as triangles that can *not* be recombined as rect by software renderer
           Use an 'indices' array

commit 47db47c1ccceb37700d7a911321bf1fddd7934ee
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 6 21:32:02 2021 +0200

    Add SDL_HAVE_RENDER_GEOMETRY to compile or not with RenderGeometry support

commit b9bd9da78fa9097961b6f41bcde579bb05fe3406
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Apr 4 22:34:17 2021 +0200

    OpenGLES2: transfert color as 4 bytes, instead of 4 floats

commit c6ceaaeb4b0a7599ac90014c8d9c0c63c3d24fe3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Apr 4 21:32:40 2021 +0200

    METAL: use Uchar4Normalized format to transfert color as 4 bytes, instead of 4 floats

commit fd236af8eb34a00cf17b3531cb4ed3f4f6f21c11
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Apr 2 09:37:25 2021 +0200

    Update Xcode project to add SDL_triangle.{c,h}

commit eff840bb9b66ff9da0a0170938bb9061aac2f054
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 23:30:59 2021 +0200

    Add OpenGLES implementation

commit 32e7910135e13e681569791415d9d7d037d8b01f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 20:27:22 2021 +0200

    Fix warnings

commit 6e47f538696d4025c61b97d756bd0802ca524366
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 20:18:05 2021 +0200

    Fix warnings

commit 4869a3d2942cbb6425c7faf5b7b47f100d206b78
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 14:36:31 2021 +0200

    Add Direct3D9 implementation (not tested)

commit 4ba37638979bcc4733f748d796bd324754fb5104
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 12:43:39 2021 +0200

    Save and restore SDL renderer state after transforming triangles to rect

commit cd0663e053fc1dedfa1bf2a25e6e10103e0a7679
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 11:47:45 2021 +0200

    Fix declaration-after-statement and remove tabs

commit cd4663dfcb2b969913010c14e7f261d3b6341eff
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 1 11:11:12 2021 +0200

    Update D3D11 for SDL_RenderGeometryRaw

commit 9f591707438db3b6f850840c270adaf900baba0a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 1 10:37:45 2021 +0200

    Update METAL backend for SDL_RenderGeometryRaw

commit 61d9e9164fdc153a70b4e6b93f1a13869023ef74
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 10:16:27 2021 +0200

    For the software renderer, try to reinterpret triangles as SDL_Rect
    With Dear ImGui + software renderer, it draws:
    - by default at 250 fps
    - drops to 70 fps if you show the color picker
    - drops to 10 fps if put the color picker fullscreen

commit cc37c38e30a8106ea8e82242a24dd41444a10abe
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 09:55:00 2021 +0200

    Add SDL_RenderGeometry based on SDL_RenderGeometryRaw

commit e481261173f84cd810b62a4bf4a9b208c661a21e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 1 09:49:16 2021 +0200

    Move to SDL_RenderGeometryRaw prototype with separate xy/uv/color pointer parameters

commit 111c70e141070cce5914b430564539e3d8505a35
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Mar 26 09:09:08 2021 +0100

    Use 64 bits precision to prevent overflow when interpolating color / texture with wide triangles

commit f73c1eff109a377856bc6a1d53f3dc280c82b9ab
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Mar 17 09:58:49 2021 +0100

    Use normalized texture coordinates

commit 5828cc415a0e4bde9dd27f57dd963925a84c3b4e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 21:54:27 2021 +0100

    Update METAL backend: fix a typo in drawline

commit 9eab5195fed560fc5b7af609ef332edbc303971e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 16:59:18 2021 +0100

    Update dynapi files

commit 9a8a8e65b83c19eb32b80c3c5f184c43a917db81
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 16 16:04:33 2021 +0100

    Update SDL_render_d3d11.c
    
    Fix D3D11 compilation

commit a2cd4255c9d8a410a20b536b92a96d522cc25f42
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:49:00 2021 +0100

    Update VisualC projects

commit 55277c67bb074c870a289e619cd4d82d7b2b259f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:47:51 2021 +0100

    Update Makefiles OS2 and PSP

commit 121114d06146e690d7a479c84bccc499e6cd1f02
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:44:49 2021 +0100

    Update METAL compiled shaders

commit 2d01573bb9444fb1d684116900d871a5c3e138bf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:44:33 2021 +0100

    Add METAL shaders

commit 1e77dae7b7a0502bbac1fd438c9752a1dbdd8108
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:44:04 2021 +0100

    Add METAL implementation

commit 1ebef0732aa5cc18b990dcb735e99396fae27de5
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:15:43 2021 +0100

    Add D3D11 implementation (not yet tested)

commit 3ee511d71ccb41c5108ae24e8c59d551f202aa5c
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:14:58 2021 +0100

    Add software renderer implementation

commit 37f78fc1cc99b037543749bf3c93c5dfd5e5406a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:13:15 2021 +0100

    Add OpenGL implementation

commit faded41ab1a9bbaf714e97c44df58768ce5d3f80
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:11:13 2021 +0100

    Add OpenGLES2 implementation

commit 6e26d320c623c4e933586371f9451186c128f29d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:09:34 2021 +0100

    Add sysrender interface

commit f22fc4ca355b1eeee0c0299fead95356ef50526d
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Mar 16 15:07:44 2021 +0100

    Add API: SDL_Vertex type and SDL_RenderGeometry

commit 53a2608bd2ee183c14b4eec5fdb142bf0ee81b83
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Sun Mar 14 22:32:17 2021 +0100

    Renderer opengles2: turn color Uniform into Attribute.
    all attributes are copied interleaved (based on rmg-nik initial patch+
    + minor clean up of data structure
    + add check for colorswap

commit bfa159313ba4f5769b5dccd4f8b555340c5e9a1f
Author: Oschowa <oschowa@web.de>
Date:   Wed Aug 18 12:04:38 2021 +0200

    audio: pipewire: Set PW_KEY_NODE_RATE to suggest a rate.
    This can be used by recent pipewire to avoid resampling.

commit bfbab5366084a2b21cd9ef65059bbf6b99b0f4a7
Author: e <ericoporto2008@gmail.com>
Date:   Mon Aug 16 23:07:30 2021 -0300

    remove warnings from Wundef in SDL_config.h.cmake

commit 966728db2aff4bd85f3fc9485e4e72bfa06bc4f0
Author: YuGiOhJCJ <yugiohjcj@yugiohjcj.cf>
Date:   Mon Aug 16 06:43:37 2021 +0200

    include/SDL_video.h: Remove a comma at end of enumerator list

commit 83bb1366197d21a2c6118199d8f6969bfdb0d479
Author: Zack Middleton <zack@cloemail.com>
Date:   Sun Aug 15 12:41:27 2021 -0400

    Restore KMOD_RESERVED for backward compatibility
    
    Some applications check for KMOD_RESERVED but it was replaced with
    KMOD_SCROLL in https://github.com/libsdl-org/SDL/commit/cb1e20b058f1de55b98f32b7d16cff1f896f88dd.

commit b161c9ba44b17e2873b4497b5f18553861d25ac6
Author: Charlie Birks <charlie@daft.games>
Date:   Sat Aug 14 16:30:37 2021 +0100

    CI: Add Emscripten build

commit 402b86f2a88b5ee3e112dbde2ec232ee5f36572f
Author: Aleksey Rybalkin <aleksey@rybalkin.org>
Date:   Sun Aug 15 14:41:56 2021 +0300

    waylandevents: prevent segfault if xkb compose table is not found
    
    this can happen e.g. on pure wayland system where there is no X11
    locales for xkbcommon to find.

commit 72f41d1fb15014bd81f03f1e0135e2b6de3dbf37
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Sat Aug 14 21:11:17 2021 +0100

    Added missing parenthesis around SDL_clamp

commit 454943cf3e9cfacb992c8528db05fbcd8ffd512d
Author: Jānis Rūcis <parasti@gmail.com>
Date:   Sun Apr 11 16:44:48 2021 +0300

    emscripten: Don't flag window fullscreen on external requests
    
    Also, the condition was always true.

commit 55af8dcad95dd71d398b2dd7eeca31dafd2416e0
Author: Joseph Kogut <joseph.kogut@gmail.com>
Date:   Wed Feb 27 14:16:37 2019 -0800

    emscripten: use emscripten_set_window_title api

commit d8baad7e483ff04c0bbd7fa8d6d49dce243376df
Author: Joseph Kogut <joseph.kogut@gmail.com>
Date:   Wed Feb 27 14:15:40 2019 -0800

    emscripten: use emscripten_get_screen_size api

commit abc04270b778fd9abdc35d88e9874688fc9cfeb5
Author: Charlie Birks <charlie@daftgames.net>
Date:   Wed Apr 15 15:22:39 2020 +0100

    emscripten: Fix framebuffer array creation optimisation

commit b4f11a36697b7397f9746c68ab24a79d9a0d0781
Author: Charlie Birks <charlie@daftgames.net>
Date:   Wed Apr 15 14:48:52 2020 +0100

    emscripten: Drop commented out code from the dummy driver

commit 0a870756625d675923f4e57b93223f606a10f7a0
Author: Charlie Birks <charlie@daft.games>
Date:   Thu Jul 8 12:47:57 2021 +0100

    Update SDL_config_emscripten.h for upstream

commit d448896234dfae8356b36096faae1f96f1d82b0a
Author: Sam Clegg <sbc@chromium.org>
Date:   Wed May 19 08:24:33 2021 -0700

    Add SDL_config_emscripten.h
    
    Currently we maintain a config file in the emscripten
    repo, but this seems like what other embedded/cross
    platforms do.

commit fbc364908a4fd4644e96377ed488811f025cf36b
Author: David Gow <david@ingeniumdigital.com>
Date:   Sat Aug 14 22:29:05 2021 +0800

    Use the new SDL_clamp() macro where sensible
    
    There were a few places throughout the SDL code where values were
    clamped using SDL_min() and SDL_max(). Now that we have an SDL_clamp()
    macro, use this instead.

commit 35c1bbfa49b1247c2c6240f7f95871f3b3331874
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Aug 13 21:43:00 2021 +0800

    SDL_stdinc.h: Add an SDL_clamp() function
    
    Add a function to clamp a value to a range.
    
    SDL_clamp(x, a, b) is equivalent to SDL_min(a, SDL_max(x, b)): it
    ensures that x is not smaller than a, nor larger than b.
    
    While, as best I can tell, this isn't actually standardised anywhere,
    it's a very useful function/macro to have.

commit 07a2d71e90d8c3dc67f2301cdc88756d3d846dba
Author: Charlie Birks <charlie@daft.games>
Date:   Tue Mar 30 11:56:38 2021 +0100

    emscripten: Feed silence to device when paused

commit dcc5eef0e2395854b254ea2873a4899edab347c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 14 00:31:46 2021 -0700

    Clarify that one of the PIDs of the Xbox Elite Series 2 controller is used in Bluetooth mode

commit 91a55a02ded0900f60c8ee378992d091c4168dff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 23:59:39 2021 -0700

    Relative mouse motion is delivered to the window with keyboard focus
    
    This was the original intent (note SDL_UpdateWindowGrab() in SDL_OnWindowFocusGained() and SDL_OnWindowFocusLost()) and fixes a bug where relative motion unexpectedly stops if the task bar is covering the bottom of the game window and the mouse happens to move over it while relative mode is enabled.
    
    Another alternative would be to confine the mouse when relative mode is enabled, but that generates mouse motion which would need to be ignored, and it's possible for the user moving the mouse to combine with the mouse moving into the confined area so you can't easily tell whether to ignore the mouse motion. See https://github.com/libsdl-org/SDL/issues/4165 for a case where this is problematic.

commit 694771513cf7ef7525db3e2f439381edc3fc93c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 23:45:01 2021 -0700

    Get the window size for the window receiving the mouse motion
    
    This is the mouse focus except in the case where relative motion is enabled and the mouse is over a window floating on top of the application window (e.g. the taskbar)

commit 6a1e1ed9aea632e1988a8196f5b0e695f8e253a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 23:36:13 2021 -0700

    Relative mouse mode grab is based on the window with the input focus
    
    This fixes restoring the cursor clip rectangle after the mouse has moved off of the window.
    
    Also try to better synchronize cursor visibility with mouse position changes when changing relative mode. This doesn't work perfectly, but it seems to improve things on Windows.

commit e42e9a12deb340bc34cb072622fb99f0a59b270c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 20:48:56 2021 -0700

    Fixed build

commit 441fbcaa3df0d1edd25a36fff6ceb53a6a0f52c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 20:48:54 2021 -0700

    Added HIDAPI support for the Xbox Adaptive Controller

commit b5e5c1ef482d8c4aab768ff66616c877d61d7593
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 17:53:39 2021 -0700

    Added Ctrl-T to toggle topmost mode in test programs

commit 4d9efcb55cf18201fe89367fc9d5d9dada00b22f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 11:52:25 2021 -0700

    Fixed flag test for boolean correctness

commit b28ed02803263fb2bd0b3c9631f6dc4c1f47d8ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 11:39:41 2021 -0700

    Don't warp the mouse for relative mode when the window doesn't have focus

commit 629e9f820a3ab80e7671ab3133a448f56252f1da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 11:06:43 2021 -0700

    Fixed return value of SDL_GetGrabbedWindow() when we have an internal grab because of mouse relative mode

commit 6aa1498b9818a1258468577d67ee04b7b10fde7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 13 11:03:19 2021 -0700

    This assert wasn't correct, we set the internal grab for mouse relative mode as well.

commit 105f120615dd826fa5592ec917332c258611e0ca
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Aug 13 21:25:35 2021 +0800

    checkkeys: Create a renderer for window display on Wayland
    
    On Wayland -- or at least on some Wayland implementations -- windows
    aren't shown until something has been rendered into them. For the
    'checkkeys' test program, this means that keyboard input isn't
    registered, making the program rather useless.
    
    By creating a renderer and presenting once, the window is properly
    displayed, and the test behaves as it does under X11 (including
    XWayland).
    
    The exact same thing was done with testmessge in 1cd97e2695 (PR #4252)

commit 907943a2366bc1f633da5ccc805a77f78ceee475
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 12 17:51:08 2021 -0700

    Added support for the Xbox One S Controller with 5.x series firmware

commit 1e921352973440b413ad4a5550c91e0129f4cc93
Author: Joshua Root <jmr@macports.org>
Date:   Fri Aug 13 07:58:48 2021 +1000

    Improve portability of SDL_Convert51ToStereo_AVX
    
    Don't rely on checking __clang_major__ since it is not comparable
    between different vendors. Don't use "#pragma clang attribute" since it
    is only available in relatively recent versions, there's no obvious way
    to check if it's supported, and just using __attribute__ directly (for
    gcc as well) results in simpler code anyway.

commit 9bf6557585f9d5df1b2c8cfc1e20f93eb38a27fd
Author: Joshua Root <jmr@macports.org>
Date:   Fri Aug 13 06:36:49 2021 +1000

    Correctly check for bswap builtins before using
    
    The __clang_major__ and __clang_minor__ macros provide a marketing
    version, which is not necessarily comparable for clang distributions
    from different vendors[1]. In practice, the versioning scheme for
    Apple's clang is indeed completely different to that of the llvm.org
    releases. It is thus preferable to check for features directly rather
    than comparing versions.
    
    In this specific case, __builtin_bswap16 was being used with older
    Apple clang versions that don't support it.
    
    [1] https://clang.llvm.org/docs/LanguageExtensions.html#builtin-macros

commit 7aec0b90ee58f61a44911be305a9a4ccb559e7ab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 13 01:56:56 2021 +0300

    SDL_hidapi_xboxone.c: fix bogus 'uninitialized' warning from clang.
    
    The last 'size == 50' check is always true anyway.

commit cec5a129f52f23d1823c486f24454564e1aafca5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 12 15:49:33 2021 -0700

    Fixed libudev hotplug notifications in the HIDAPI driver

commit 6eb4ebb5029589692e232926fda439bfd331e14d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 12 15:49:33 2021 -0700

    Simplified the HIDAPI Xbox One controller initialization

commit 25cd749adba77e1a6f3f31f80f8768c0aaaad5b0
Author: Simon McVittie <smcv@collabora.com>
Date:   Thu Aug 12 15:12:04 2021 +0100

    x11: Don't change mode if we are already in the correct mode
    
    If we are already in the desired mode, changing it is a no-op at best,
    and harmful at worst: on Xwayland, it sometimes happens that we disable
    the crtc and cannot re-enable it.
    
    Resolves: https://github.com/libsdl-org/SDL/issues/4630
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 584b89abe6d429dc7a9ecb82f4113aa106de62c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 12 08:17:10 2021 -0700

    Added support for the color LED on the Xbox Elite Series 2 controller

commit 64882b24663986f39e5e7208abccfa2698e0dabf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 12 08:17:08 2021 -0700

    Added support for the Xbox One Elite 2 Controller with 5.x series firmware

commit ed6eb07e79e8e264654df592a41ff08ff2fe6d3d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 12 01:40:50 2021 +0300

    SDL_wasapi.c: fixed build against older SDKs.

commit 68ca35c318b3f4b6f36e1e3650fd75fef7b6e022
Author: Andrei Alexeyev <akari@taisei-project.org>
Date:   Wed Aug 11 21:40:46 2021 +0300

    wayland: fix memleak in output listener

commit e9179314c481e88f7adf24260423e5abfde86ec7
Author: Andrei Alexeyev <akari@taisei-project.org>
Date:   Wed Aug 11 21:27:42 2021 +0300

    joystick/linux: fix memleaks; streamline joylist item removal

commit 44a76710d1a4f2bbcee47b14d4bdd8d75263d094
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Aug 11 12:55:50 2021 +0300

    Don't disable clang avx instrinsics on win32 if __AVX__ is defined.
    
    C.f.: https://github.com/libsdl-org/SDL/issues/4533

commit ae7ee2a59c8d41d67c6bc80f25b6e52670dddbbf
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Aug 11 09:59:43 2021 -0400

    wayland: Ignore stateless/sizeless configs when starting in fullscreen mode

commit ac32c522ada13ba39b166f84cad13e0b74738388
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 18:11:09 2021 -0700

    Try using the built-in WASAPI audio rate conversion
    
    Fixes https://github.com/libsdl-org/SDL/issues/4608

commit cb1e20b058f1de55b98f32b7d16cff1f896f88dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 17:50:17 2021 -0700

    Added KMOD_SCROLL to track the scroll lock state
    
    Fixes https://github.com/libsdl-org/SDL/issues/4566

commit 609cea1eb8149944c00018eb5209965995055d0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 17:14:06 2021 -0700

    Enable SSE3 intrinsics when building with Visual Studio
    
    Fixes https://github.com/libsdl-org/SDL/issues/4530

commit d5ad6f6e6abf7845e3a99bde5d7fb0a9a599e559
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 16:51:03 2021 -0700

    Clarified that you should never have side-effects in the parameters to SDL_min/SDL_max

commit bb91d7a5ea0f9b3720bf8807c82a473ec220126a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Aug 11 01:56:40 2021 +0300

    regenerated configure script

commit 056a42f199350a748b3224bd3269fda503668feb
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Aug 10 22:20:06 2021 +0000

    Sync wiki -> header

commit f5794f9eebaac3e70d4fc849641f30bc36913367
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 15:17:59 2021 -0700

    Added SDL_SetTextureUserData() and SDL_GetTextureUserData() to associate a user-specified pointer with an SDL texture

commit a0af7ce731e83145612f6c2185fe6e82b2587366
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 15:05:49 2021 -0700

    OSS is no longer the preferred audio backend on modern UNIX systems
    
    Fixes https://github.com/libsdl-org/SDL/issues/4207

commit 3f6ebffff4c7e89a9199ac68b0324e00bffe338d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 15:02:36 2021 -0700

    Updated to version 2.0.17 for development

commit 68103993520166dc2d573bdb5dfe0ed7a2f641ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 14:50:43 2021 -0700

    Enable AAUDIO driver for Android
    
    I thought this was already enabled for 2.0.16, but apparently not.
    
    Fixes https://github.com/libsdl-org/SDL/issues/3710

commit 016b02f24c5697e77791d62dd62e6dbd30d092cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 12:16:55 2021 -0700

    Fixed build, C89 doesn't allow non-constant static initializers

commit 77c8d111370b1dd0d62371c484c95468e645f3d7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Aug 10 20:55:50 2021 +0300

    configuration updates for dlopen:
    
    - cmake, configure (CheckDLOPEN): --enable-sdl-dlopen is now history..
      detach the dl api discovery from SDL_LOADSO_DLOPEN functionality.
      define HAVE_DLOPEN. also define DYNAPI_NEEDS_DLOPEN (CheckDLOPEN is
      called only for relevant platforms.)
    - update SDL_config.in and SDL_config.cmake accordingly.
    - SDL_dynapi.h: set SDL_DYNAMIC_API to 0 if DYNAPI_NEEDS_DLOPEN is
      defined, but HAVE_DLOPEN is not.
    - pthread/SDL_systhread.c: conditionalize dl api use to HAVE_DLOPEN
    - SDL_x11opengl.c, SDL_DirectFB_opengl.c, SDL_naclopengles.c: rely
      on HAVE_DLOPEN, not SDL_LOADSO_DLOPEN.
    - SDL_config_android.h, SDL_config_iphoneos.h, SDL_config_macosx.h,
      SDL_config_pandora.h, and SDL_config_wiz.h: define HAVE_DLOPEN.
    
    Closes: https://github.com/libsdl-org/SDL/pull/4351

commit cb0fd05eebf49f7c463e9f1763afee424191a64c
Author: hgs3 <82091+hgs3@users.noreply.github.com>
Date:   Sat Aug 7 22:41:54 2021 -0500

    Adding a clarifying comment in case a programmer unfamiliar with UTF-16 and UTF-32's relationship chances upon the code.

commit 3470112969ff27463654de5015f2db42f80b4a6b
Author: Henry G. Stratmann III <82091+hgs3@users.noreply.github.com>
Date:   Sat Aug 7 20:51:49 2021 -0500

    Optimizing the implementation.

commit 712e0d1f06bf413213bc4a9d3be2ac8d9a34a9f9
Author: Henry G. Stratmann III <82091+hgs3@users.noreply.github.com>
Date:   Sat Aug 7 16:23:15 2021 -0500

    Fixing WM_CHAR event handling for Unicode characters outside the Basic Multilingual Plane.

commit fcfd19db862b60159577720f46d31a35a03e7888
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 10 12:02:17 2021 -0700

    Added support for SDL_RENDERER_PRESENTVSYNC to the software renderer
    
    This fixes https://github.com/libsdl-org/SDL/issues/4612

commit ea9bece5ed4e76b6636d941101923487a6378ca6
Author: Tomasz Kłoczko <koczek@github.com>
Date:   Tue Aug 10 18:51:33 2021 +0100

    Fix breaking GNUInstallDirs cmake module $CMAKE_INSTALL_LIBDIR directory. Fix #4621
    
    According to https://cmake.org/cmake/help/v3.0/module/GNUInstallDirs.html
    `${CMAKE_INSTALL_LIBDIR} ` is only variable which should be used as base
    directory. Without that patch on 64 bit archs libraries, cmake modules and
    pkgconfig file are installed for example in /usr/lib6464 base directory.
    This patch fixes #4621.
    
    Signed-off-by: Tomasz Kłoczko <koczek@github.com>

commit 25f9ed87ff6947d9576fc9d79dee0784e638ac58
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Tue Aug 10 13:10:36 2021 +0200

    audio: Fix false positives in driver name comparison
    
    Without this change, driver names don't get matched correctly;
    for example "a" can get matched with "alsa" since it only checks
    whether the string matches up to the length of the requested
    driver name.

commit b3a989d0dfeae6944f71459d31abf5e5cd89dc7e
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Tue Aug 10 13:08:27 2021 +0200

    video: Fix false positives in driver name comparison
    
    Without this change, driver names don't get matched correctly;
    for example "x" can get matched with "x11" since it only checks
    whether the string matches up to the length of the requested
    driver name.

commit de6ba40d9e0dd829ab4db0567251005df1c1cbd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 9 11:38:22 2021 -0700

    Added support for the Flydigi Vader 2 controller in 2.4G Android mode

commit 3f440daad939b4e0c23a88f5d4029224f50e11a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 9 10:40:36 2021 -0700

    Added support for the Flydigi Vader 2 controller in Bluetooth mode

commit 6ae227d011a0cd2ad5ea52833b1e980fe4cce548
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Aug 8 23:27:08 2021 -0500

    x11/wayland: fix screensaver suspension via D-Bus
    
    b08b1bde introduced a subtle bug. Despite not using D-Bus types directly,
    the code used the SDL_USE_LIBDBUS definition set by SDL_dbus.h to conditionally
    compile calls SDL_DBus_ScreensaverTickle() and SDL_DBus_ScreensaverInhibit().
    As a result, it still compiled without SDL_dbus.h included, but screensaver
    suspension silently failed to work.
    
    The D-Bus stuff could probably use some tweaks to be harder to accidentally
    break, but for now just restore the header includes.

commit 773e1ba19f655339b1ccb3300ddbb888278df3a9
Author: David Gow <david@ingeniumdigital.com>
Date:   Sun Aug 8 11:00:07 2021 +0800

    testvulkan: Clamp the drawable size to the allowed range
    
    SDL_Vulkan_GetDrawableSize() doesn't always return a size which is
    within the Vulkan swapchain's allowed image extent range.
    
    (This happens on X11 a lot when resizing, which is bug #3287)
    
    Clamp the value we get back from SDL_Vulkan_GetDrawableSize() to this
    range. Given the range usually is just a single value, this is almost
    always equivalent to just using the min or max image extent, but this
    seems logically most correct.

commit 2e6dac870f0d5388d1a53e3842f03d3240649582
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 9 01:47:42 2021 +0200

    wayland: Add a hint to allow disabling libdecor use
    
    Useful for testing xdg-shell path with compositors like Weston.

commit 092a20d9455ab5d2bdb4102ba5c91cd7a901bc38
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Aug 8 16:47:34 2021 -0500

    wayland: Avoid busy waiting for vsync

commit 791d9d3ff61db369008d8590ee87340d7074f3c6
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Aug 7 12:41:15 2021 -0500

    Fixed DInput mapping for NVIDIA Virtual Gamepad

commit 7be970db312d2a095696d7bc57143f3fb47fdca3
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Aug 6 19:51:27 2021 -0400

    wayland: Avoid setting floating width/height when re-entering fullscreen

commit bec783571b1e8ed0f272c3fa6327d4f88efb49b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 6 14:20:55 2021 -0700

    Better fix for compiling using clang on Windows
    
    This fixes https://github.com/libsdl-org/SDL/issues/4533

commit a91ab883e970611cef0924df8aec7d264f93c8d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 6 12:28:03 2021 -0700

    Fixed building on Windows with cmake, ninja, and clang

commit dd683073bb3bb06c8014b8dbd036475f032e3484
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 6 15:13:14 2021 -0400

    hidapi: Patched to compile on QNX.
    
    Fixes #4591.

commit cae7bd9b65a3dc16e4d575a6f4cb9443c7dac7dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 6 12:01:24 2021 -0700

    Don't use AVX with clang if the compiler isn't building with AVX instructions
    
    Fixes https://github.com/libsdl-org/SDL/issues/4533

commit cdac61fffab13d9002985d31242038403612afe3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 6 12:00:53 2021 -0700

    Fixed typo

commit eec41d25de00fd9cbc7d61a48db8027a439f7e02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 6 11:30:22 2021 -0700

    Add info on how to avoid the "Prevented in-tree build" message with CMake

commit ac20167ef7656a086360338ce01e1b753de28649
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 6 14:08:50 2021 -0400

    configure: Fixes to make SDL link as C++ on Haiku.
    
    Fixes #4590.

commit 10979d37fbb0b789915be53c288dccf9e0c73a18
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Aug 5 12:42:03 2021 -0400

    wayland: Always assume configure is wrong for non-resizable windows.
    
    Configure events from compositors have an extremely annoying habit of giving us
    completely bogus sizes, from all sorts of places. Thankfully, the protocol
    gives us the ability to completely ignore the width/height and just stick with
    what we know, so for all windows that are not meant to be resized, pretend we
    never even got the width/height at all, the compositor is required to respect
    our dimensions whether they match configure's suggestion or not.

commit 520bc713e35e414a9e5bf829e8f96ee1e748ee46
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Aug 5 14:33:54 2021 +0100

    Fix typo in CMake target name

commit b83a019d68a7d35363830988a2d172d7a348108a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 19:22:10 2021 -0400

    cmake: Force linker to treat input as a C++ program on Haiku.
    
    Reference issue #4590.

commit 88674b4a0e5e61653d2b184c25a1ccbdddca50b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 4 13:17:35 2021 -0700

    Fixed build

commit 3172615074fe61723c0879b7215107deb3344126
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 4 13:13:22 2021 -0700

    Let Android know that we can handle USB devices
    
    This is important on Android 29 and above if you don't want to be prompted for each device that you open

commit c14813a879975b03cd975c826195c7ad262fa7c8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 4 13:00:14 2021 -0700

    Fixed spacing

commit 3cad447ee71363e31380ad53d6fe805e73107f6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 4 12:57:51 2021 -0700

    Only update the window size if setting the display mode succeeded

commit 0eb6f79190d6ad1c620930d054379bee3f476a2b
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Fri May 21 13:48:14 2021 +0200

    SDL_SetWindowDisplayMode(): If already fullscreen, adjust window size
    
    Otherwise only the display resolution is changed, but the SDL window size
    (and for example the window-surface size) aren't adjusted accordingly
    and thus don't fill the whole screen.
    See #3313

commit 72d812852023450b7c3850b8e87b63575df041ee
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Wed May 19 18:47:56 2021 +0200

    Improve SDL_CreateWindow() fullscreen support on Windows
    
    .. and maybe other platforms as well (though X11 was not affected)?
    
    The issue was that passing a higher resolution than the current desktop
    resolution to SDL_CreateWindow() with SDL_WINDOW_FULLSCREEN didn't switch
    to that resolution (even though it did switch to lower resolutions).
    
    When creating a fullscreen window, window->fullscreen wasn't even set
    at all (only zeroed out), setting it only happened if the user explicitly
    called SDL_SetWindowDisplayMode(). So without that, SDL_CreateWindow()
    -> SDL_UpdateFullscreenMode() -> SDL_GetWindowDisplayMode() used the
    resolution from window->windowed.w/h which were limited to the desktop size
    due to some weird combination of WIN_AdjustWindowRectWithStyle() and
    WIN_WindowProc() being called after a call to SetWindowPos().
    
    fixes #3313

commit 9fdb06450d0363ad2af083497ebdbe50f98fe160
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 4 11:33:28 2021 -0700

    Added support for the Joy-Con Charging Grip when SDL_HINT_JOYSTICK_HIDAPI_JOY_CONS is enabled

commit d483970262e32ca7b3a376e538f454d8a1f1ec6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 13:30:12 2021 -0400

    dbus: Wrap init in a spinlock.
    
    This prevents a race if two threads that need d-bus try to init it at the
    same time. Note that SDL_Init will likely handle this from a single thread
    at startup, but there are places outside of init where one might trigger
    D-Bus init, like setting thread priority (a common first thing for a new
    thread to do) resulting in SDL trying to use RTKit.
    
    Fixes #4587.

commit b08b1bde66d1cfa0987093e0719388c5c3203130
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Aug 3 22:50:58 2021 -0500

    linux: remove d-bus lazy init dead code
    
    Lazy init in X11/Wayland is dead code since dbdbae4

commit f5bc58bf57f27455d34f3b09b7fe7e5c66dc5aad
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Aug 3 18:30:08 2021 -0500

    Add note about keyboard grab to WhatsNew.txt for 2.0.16

commit 5fc13fcb2168a06c6623cf8dd237778cfb17f179
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 07:00:17 2021 -0400

    direct3d: Commit viewport state before clearing, attempt 2.
    
    This reintroduces the fix from 0e16ee8330606603, but just marks
    the viewport state as dirty after a clear that needs to expand the
    viewport to fill the render target, as we'll need to also reset
    the orthographic projection state elsewhere, and that won't
    happen if we clear the dirty flag here.
    
    Fixes #4210.
    (again.)
    (...sorry...!)

commit ed6ce5ccb04cfbe03bd6e15e3b78e323f9b4f676
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 02:34:09 2021 -0400

    log: Fixed compiler warnings on 64-bit Visual Studio.

commit 7e88e772d7cbba3d7ea4d79210ec427fa94ba870
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 02:30:47 2021 -0400

    winrt: Fixed incorrect code in a Windows Phone #ifdef.

commit 8104c9e3ebf3a5e3ef3fe322ff4caee011a751cc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 4 00:02:39 2021 -0400

    doxygen: manually move SDL_CloseAudioDevice docs from wiki.
    
    Apparently we don't fill these in from the wiki if the function doesn't
    have _any_ documentation already. That's a bug, I think.

commit 57bfed79e29a42190b2ea30962700a3c52b5207b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 22:15:04 2021 -0400

    README-dynapi.md: Google+ link is gone, remove it.
    
    The Wayback Machine doesn't even have it.  :(

commit 178c95f82cba626e03bc314875a0366a7ced0ebc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 21:52:47 2021 -0400

    README-winrt.md: Cleaned up sample code
    
    - Fixed the markdown.
    - Code can now be exited by pressing ESC.
    - Cleans up and returns from main()
    - Mushed all the `if (x) { return 0; }` blocks into else ifs.

commit 32f909f7e36a270d3b761bf15d320906ecd31eb1
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Aug 3 13:30:57 2021 -0400

    wayland: Remove redundant waylanddyn.h includes.
    
    All files including waylanddyn.h already include waylandvideo.h first.

commit 124405a0bc856f97b1e4085da9d900e42b82e07d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Aug 3 13:17:19 2021 -0400

    wayland: Fix building without Vulkan support

commit 02563f75b4f229b387560becd1c997a2449543d7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Aug 3 20:12:56 2021 +0300

    regenerate configure

commit d2e8998f808b4ddab1decd2491a9f2e7692c6d53
Author: orbea <orbea@riseup.net>
Date:   Tue Aug 3 07:59:01 2021 -0700

    build: Fix the LINKER variable.
    
    The LINKER variable is set in configure.ac as either 'CC' or 'CXX'
    where it is then passed to the created Makefile. This fails with
    slibtool which can't find the 'CC' file and can be fixed by correctly
    setting the LINKER variable to an actual Makefile variable like '$(CC)'
    or '$(CXX)' instead. Presumably GNU libtool does some magic here to
    hide the issue.

commit 4077f7a2d9111094129f82f28b7a71afb1878170
Author: David Gow <david@ingeniumdigital.com>
Date:   Tue Aug 3 20:55:45 2021 +0800

    Update the Renderer dpi_scale on SIZE_CHANGED event (fix #4580)
    
    The Renderer logical scaling code scales mouse coordinates, and needs to
    take the window DPI into account on HIGHDPI windows. However, the
    variable which tracks this, renderer->dpi_scale, is set once when the
    renderer is created, and then not updated. In the event that the window
    is moved to another screen, or the screen DPI otherwise changes, this
    will be outdates, and potentially the coordinates will be all wrong.
    
    So let's update the dpi_scale on the SIZE_CHANGED event: it's at least a
    possibility that this will be issued on some OSes when DPI changes, and
    it's otherwise already handled by SDL_Renderer's event filter.

commit 9b4884d58a8a058c99577fb12394ada763b49bd5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 09:23:54 2021 -0700

    Warn if you're building a partially functional RAWINPUT driver without device notifications

commit 886eb02eba1006f337c35563a15ecc8758ad54a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 03:16:35 2021 -0700

    Fixed detection of Steam Virtual Gamepad with the WGI driver

commit 7c63e1d37abc91d359b865d094810e77303f03c8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 01:52:02 2021 -0700

    Added WGI mappings for the Amazon Luna and Google Stadia controllers

commit 99c8972b2510c6c917a23f9b9a3d47ca58ef97e2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 01:39:07 2021 -0700

    Added WGI mappings for PS4 and PS5 controllers

commit 2dfc92ca1e319313fd2f6cf6e699b371a5ca7ee3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 01:33:35 2021 -0700

    Added default mapping for WGI game controllers

commit 3d7470783020ea73bca732851797681da6df7b0a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 01:25:54 2021 -0700

    Run the renderer so Steam can find the main window

commit 1907463a7e876d0aec1d2a87839ec8b9b30d64d2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Aug 3 18:04:50 2021 +0300

    regenerate configure

commit b74bcd5d4e9b7c0500fd385c02f8b8594a1c767f
Author: David Gow <david@ingeniumdigital.com>
Date:   Tue Aug 3 22:25:10 2021 +0800

    configure.ac: mkdir $(objects)/ when building wayland protocols
    
    The $(objects) directory (usually build/) may not have been created by
    the time the wayland-scanner protocol files are being compiled. The
    $(gen) directory is explicitly made with mkinstalldir, but the final
    object file (and gcc dependency files) need to go into $(objects).
    
    For whatever reason, this only ever seemed to occur if --disable-shared
    was set.
    
    Note that this commit doesn't regenerate ./configure, as there were a
    few unexplained, unrelated differences my version of autoconf created,
    as as an autotools novice, I didn't want to poke that bear just yet.
    
    This hopefully should fix #3689

commit 5b18ae29b74fa17a180ab99b9e1078b427c78ae5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Aug 3 14:01:02 2021 +0300

    improvements to libdecor support in cmake
    
    this makes it consistent with wayland support, and makes cmake side
    in line with autotools' libdecor support.

commit a15ec3654787f30d786c5a95c29ef3cb1b7917c1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Aug 3 11:33:50 2021 +0300

    attempt to fix cmake builds with libdecor

commit 8726f500ef7aabda724e01c085fb4f0bb2027442
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 01:10:48 2021 -0700

    Allow quitting controllermap if there are no controllers attached

commit 9d64e6b442b52f45ce6519a844941be92caadda0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 00:29:33 2021 -0700

    Revert "direct3d: Commit dirty viewport state before clearing."
    
    This reverts commit 0e16ee833060660318cc324cf99c9736f4d48499.

commit 993a56766db02fe5373a328fa1c2fe8da46801d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 3 00:14:15 2021 -0700

    Only use the default Xbox mapping on Linux
    
    On Windows, this is already covered by XInput and is the wrong mapping if we try to use it with DirectInput/RAWINPUT/WGI controllers

commit 74aa4b635cb13d8d54eb15d84d37f687b3413311
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 03:10:14 2021 -0400

    cmake: don't fail if Wayland is enabled but libdecor isn't found.
    
    Instead, just disable libdecor support.
    
    This matches what the configure script does.

commit c30845395257933685c4e348d34ec029121bd181
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 02:49:08 2021 -0400

    cmake: Use CMAKE_INSTALL_FULL_* for libdir,bindir,etc.
    
    This makes sure sdl2.pc gets the full paths, matching what the
    configure script will generate.
    
    Fixes #4569.

commit 0e16ee833060660318cc324cf99c9736f4d48499
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 02:07:47 2021 -0400

    direct3d: Commit dirty viewport state before clearing.
    
    Otherwise you might have set the viewport to the full size of
    the render target in SDL's API but this change hasn't been
    transmitted to Direct3D yet by the time we attempt to clear.
    
    Fixes #4210.

commit 7edc7d53926003f7c6dd8cd4f152a5ada3bf41be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 2 22:44:38 2021 -0700

    Added a mapping for the Steam Virtual Gamepad when it's detected in DirectInput mode

commit 350ca0f908b5ec450a13e54e9158d35622ffc6f7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 04:57:53 2021 -0400

    winrt: Don't register orientation hint callback in startup code.
    
    SDL_AddHintCallback() uses SDL_malloc(), which means this would
    run before main(), so the app wouldn't be able to supply its own
    replacement SDL_malloc() implementation in time.
    
    This code was moved to under SDL_Init. Since the hint callback
    already makes efforts to not override the app manifest's
    orientation settings, this is safe to move until after pre-main()
    startup.
    
    Fixes #4449.

commit 834a84fabb974935e1f38b24c305fe19ef396c40
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 3 05:02:32 2021 -0400

    winrt: Don't use LoadLibraryA on WinRT.
    
    This removes the CM_Register_Notification code on WinRT. Note
    that this API _is_ available to UWP apps as of Windows 10.0.17763
    (version 1809, released October 2018), according to:
    
    https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis#apis-from-api-ms-win-devices-config-l1-1-1dll
    
    So it might be worth readding with some sort of preprocessor check
    for minimum targeted version, or whatever is appropriate for WinRT
    development.

commit 7082fb04af66367cd23f2fe083034db587612c46
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 22:42:28 2021 -0400

    wayland: Only dispatch on fullscreen set when the window is visible.
    
    Fixes hang-on-startup described in #4572.

commit 0f5b8a99f05d749fdfc62fd404c53342d8204d0c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 19:48:31 2021 -0400

    wayland: For libdecor, dispatch immediately after setting fullscreen
    
    Reference: #4578

commit 022235012c0e9c58becacdbb1d748124d68bc7d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 2 16:40:58 2021 -0700

    Fixed crash if WGI didn't give us the name for a controller

commit 4562da622c830c87659af7cd8bd8da486289de84
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 16:40:56 2021 -0400

    wayland: Make libdecor configure match xdg_toplevel

commit 1fb1aa19830e681552a4c47d682f970161dbd436
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 12:57:28 2021 -0400

    wayland: Keep the fullscreen check for maximize/restore events

commit 584673a5a191f9da655d8d15a0ff0e30ad8d0ba4
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 12:51:23 2021 -0400

    wayland: Don't ignore configs for non-fullscreen, non-resizable windows.
    
    This was causing configure events to not inform SDL of window size
    changes, even when they were based on resizes that we fully expected. The
    result was fullscreen->windowed not working at all, because it would
    retain the desktop resolution instead of reverting to the floating size
    that it had before moving to fullscreen mode.
    
    Fixes Super Hexagon fullscreen toggling.

commit 2506729893c0fcbe5875750043d7cb695313ea1d
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 2 08:15:10 2021 +0200

    wayland: Flush in SetWindowFullscreen
    
    The flush has been removed in e5f9fae034df8ca305241c5a666e7702fcf9958f.
    Unfortunately, even though ideally the flush shouldn't be necessary,
    our resize sequence isn't... well, perfect, and removing that flush causes
    tons of troubles.
    
    We're also still flushing in other paths where the window size can be
    changed by the compositor and where we may potentially have to obey that
    change, like in Wayland_MaximizeWindow.
    
    This also removes the hack introduced in 7f261d3b7667978ced93a4fdc6aec2380df3d87f,
    which introduces problems with protocol violations and seems to not be
    necessary when flushing.

commit ea28187cd5edf7b49fc9b9e866c6497a161b1da2
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 2 08:07:23 2021 +0200

    wayland: Hack surface resize into compliance with set_window_geometry
    
    We have issues with correct resize sequence and happen to commit old-sized
    buffers even after configure event for the new size has been already
    acknowledged. While the reason for that stays unknown, let's at least
    workaround the problem by faking window geometry into expected size.
    This does not fix visual glitch on e.g. fullscreen toggling, but having
    a split-second glitch is still a much better outcome than being
    terminated by the compositor for protocol violation.

commit b5210cac44b5d2f58713a4b1399e1ea262743943
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 2 13:47:32 2021 +0200

    wayland: Initialize floating size at window creation
    
    This allows the windowed size to be restored for windows initially
    created already in non-floating state.

commit dab33844e386c4d5553eb49c578ccb0ee18bc947
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 11:58:47 2021 -0400

    wayland: Fix a warning in handle_configure_xdg_toplevel

commit 754aa2d321031afe1fd36f99f6ba45f53984d544
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 11:55:02 2021 -0400

    Mostly revert cfcdfb7be9f5c97a51ddef9ad3677a604856266b.
    
    This was causing window changes to completely break, resulting in broken
    decorations and bizarre frame timing, I don't know what exactly it's doing
    but it's not good. Kept the libdecor_frame_is_floating logic, at least.

commit 8803589fc3f04a01a3605697c5fdac1161a97f0d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Aug 2 12:05:06 2021 -0400

    wayland: Avoid redundant SetWindowBordered for libdecor

commit b4c4060ad295dc28aab13c6a3f6b5bbaaff64609
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 2 04:52:25 2021 +0200

    wayland: Clean up Wayland_HandlePendingResize
    
    Commit 871c11191bfc7214061a3da37c112522a102ddf5 removed delayed
    resize handling, but it left the whole structure untouched that
    now became unnecessary. To help with code clarity, get rid
    of the structure where pending resize state used to be stored
    and pass all the data directly to Wayland_HandlePendingResize
    (now renamed to Wayland_HandleResize, since it's not "pending"
    anymore but applied immediately)

commit 9bb24ad0cf5454867ef5bad356a53b71810ea998
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Mon Aug 2 05:49:35 2021 +0200

    wayland: Always call Wayland_SetWindowBordered when showing the window
    
    Otherwise our windows have no window decoration on compositors that
    support xdg-decoration-unstable-v1, but default to client-side mode.
    
    Contrary to what the comment was stating, there is nothing in the protocol
    that would make redundant calls to zxdg_toplevel_decoration_v1::set_mode
    problematic.

commit cfcdfb7be9f5c97a51ddef9ad3677a604856266b
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun Aug 1 18:14:53 2021 +0100

    libdecor: use same fullscreen/maximised restore logic as for xdg-toplevel

commit 42452f8ca50034be370296719c7e552192d5bfb0
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun Aug 1 13:51:30 2021 +0100

    wayland: store and restore floating states
    
    Some Wayland compositors send (0,0) as "suggested" configure event sizes to
    indicate that the client has to decide on its own which sizes to used. This
    is commonly done when restoring from maximised, fullscreen or tiles states
    to fullscreen.
    We now store the last known floating states in a new set of variables and
    restore them when we receive such a (0,0) configure event.

commit d4e1b4974ac8711cc89bd187c9f412f84771372b
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sun Aug 1 09:15:26 2021 +0200

    unix: OpenURL: Move unsetenv above vfork
    
    From the vfork manpage:
    
    > The  vfork()  function has the same effect as fork(2), except that
    > the behavior is undefined if the process created by vfork() either
    > modifies any data other than a variable of type pid_t used to store
    > the return value from vfork(), or returns from the function in which
    > vfork() was called, or calls any other function before successfully
    > calling _exit(2) or one of the exec(3) family of functions.
    
    unsetenv is still called inside a child process, so it does not
    influence the rest of the application.

commit 9b7b928765ce732ca3024a42d0281fea7192ecaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 23:28:41 2021 -0700

    Clear LD_PRELOAD so Chrome opens correctly when this application is launched by Steam
    
    This fixes https://github.com/libsdl-org/SDL/issues/4565

commit 54aea2446e25b877e09c263c87452b6789055767
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sun Aug 1 05:36:12 2021 +0200

    wayland: Disable key repeat when repeat rate equals 0
    
    This fixes a crash on pressing keyboard button when compositor sends
    zero as repeat rate, indicating that key repeat should be disabled.
    
    From Wayland protocol spec:
    
    > Negative values for either rate or delay are illegal. A rate of zero
    > will disable any repeating (regardless of the value of delay).

commit d784dd20b63352f1a7e4de80740443df22b78101
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 17:53:07 2021 -0700

    Updated WhatsNew with major changes for 2.0.16

commit b033cd0d2e02c8616e26471ce218aee356e927c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 16:01:48 2021 -0700

    Fixed XSync sequence to match other cases where we set the X11 error handler

commit d373af044be34ca5e648e6754b57efacdb3aac74
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Aug 1 01:39:20 2021 +0300

    CMakeLists.txt: update DYLIB_CURRENT_VERSION too 2.0.16 for release

commit 4c7825f6bd81f2d245cbd086544bc1da8f3e7e84
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 31 18:27:14 2021 -0400

    x11: XSync while trying to catch XRRSetScreenSize error.
    
    Reference issue #4561

commit cb1fd30e9a2edf0bce6e86f5aae33dc28fe1822b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 13:28:54 2021 -0700

    Updated to version 2.0.16 for release

commit 3e76646cc6415a918f7635e8c9671ea8233d05e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 13:09:53 2021 -0700

    Added libSDLmain.a for iOS and tvOS

commit d0effadf68e9b7299fdade38f6bcef3d1a117a12
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 31 15:56:30 2021 -0400

    x11: Don't let XRRSetScreenSize fire a BadMatch error.
    
    This is a workaround and not a proper fix, but this is possibly complicated,
    and possibly a corner case, so this will do for 2.0.16, if not the
    foreseeable future.
    
    Reference issue #4561

commit 3a4b217d6c26df04f4afe05d5f0eec5edd14afef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 12:44:29 2021 -0700

    Allow defining SDL_MAIN_HANDLED on iOS if you're using another runtime that provides an application delegate

commit deed21a83d9ce798e681f770c9fc90199f244a21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 12:44:11 2021 -0700

    Removed useless forward declaration

commit 1a9253f752809d9dff74f71427da73f45fa834bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 31 12:37:28 2021 -0700

    Removed unused IOS_DYLIB definition

commit e5594e66778707c3bd9e1bce229140564e0c9844
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 30 16:03:01 2021 -0400

    wayland: Prefer our SSD implementation if available

commit 2d0075eff833886006681e410c6b108dd8409d17
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 30 18:23:43 2021 -0700

    Updated comments for third party Nintendo Switch controllers

commit 16010f7561cc4e7c3078f147e9639b5ec7efb24a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 30 18:23:43 2021 -0700

    Added support for the PowerA Nintendo Switch Fusion Arcade Stick

commit b33f470901d07763f54c80956b0150f3dfcee773
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 30 18:23:42 2021 -0700

    Fixed detection of the PDP Afterglow Wireless Switch Controller over Bluetooth

commit 6af6950dbc5a7f8551cda873f102f0664709a5f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 30 18:23:42 2021 -0700

    Added support for the Victrix Gambit Tournament Controller

commit 243a8836afb8f194fc11eae6ff2b592050a19aa0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 30 18:23:41 2021 -0700

    The PowerA Nintendo Switch Fusion Pro Controller has a working USB mode, enabled via the switch on the underside of the controller.

commit 71897cc1c9a9ba2726ef498ad05a6efe473b0b70
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 30 15:51:43 2021 -0400

    wayland: Always trigger a resize when handling a configure event.
    
    When we removed the OpenGL resize workaround it introduced a problem for
    fullscreen windows in particular: When leaving fullscreen we tried to send a
    resize event, but UpdateFullscreenMode would send a SIZE_CHANGED immediately
    after, deleting our resize event and causing the following configure event's
    resize to be ignored. This timing issue resulted in fullscreen windows not
    being resized at all when becoming a floating window.
    
    By always forcing resize events from configure events, we ensure that RESIZED
    always makes it through. SetWindowSize-type changes should be unaffected as
    they do not fire configure events.

commit 8f06a629aaf375df9001f8c06142e0002e8ba404
Author: David Gow <david@ingeniumdigital.com>
Date:   Fri Jul 30 22:31:17 2021 +0800

    render: Fix -Wmaybe-uninitialized warning in RenderDrawLinesWithRects{,F}
    
    The RenderDrawLinesWithRects and RenderDrawLinesWithRectsF functions can
    sometimes call QueueCmdFillRects() with the data pointed to by frects
    uninitialised. This can occur if none of the lines can be replaced with
    rects, in which case the frects array is empty, and nrects is 0.
    
    gcc 10.3.0 will detect this possibility, and print a warning like:
    /home/david/Development/SDL/src/render/SDL_render.c: In function 'RenderDrawLinesWithRectsF':
    /home/david/Development/SDL/src/render/SDL_render.c:2725:15: warning: '<unknown>' may be used uninitialized [-Wmaybe-uninitialized]
     2725 |     retval += QueueCmdFillRects(renderer, frects, nrects);
          |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    /home/david/Development/SDL/src/render/SDL_render.c:499:1: note: by argument 2 of type 'const SDL_FRect *' to 'QueueCmdFillRects' declared here
      499 | QueueCmdFillRects(SDL_Renderer *renderer, const SDL_FRect * rects, const int count)
          | ^~~~~~~~~~~~~~~~~
    
    This is harmless, because when this is uninitialised, nrects is always
    0, so QueueCmdFillRects() does nothing anyway. We therefore can work
    around this by only calling QueueCmdFillRects() when nrects is nonzero.
    Somewhat impressively, gcc recognises that this is now safe.

commit c20ab7dae9dbbd97f8049819a7b509f4e776beb9
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jul 30 00:22:50 2021 -0400

    wayland: Fix GetWindowWMInfo for <2.0.15

commit 585c11c5aef170a181402184fa0dcbd31653fe02
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 30 00:33:15 2021 -0400

    direct3d: Fix possibly-incorrect scissor test when clearing.
    
    Thanks to @JayFoxRox who did the detective work on this!
    
    Fixes #3357.

commit 6f684f674e1c91777d6bca6e2a49c478c4d5c401
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jul 29 18:20:36 2021 -0500

    cocoa: Add keyboard grab support
    
    CGSSetGlobalHotKeyOperatingMode() is not a public API, so we will only
    compile this in if SDL_MAC_NO_SANDBOX=1 is defined during compilation.

commit 69518b9ecc1b987ce2962216289318fdd44ece46
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 17:09:24 2021 -0700

    Make sure we don't send a resize event while a window is being destroyed
    
    This fixes https://github.com/libsdl-org/SDL/issues/3669

commit 3ababa09c55b3c0a4e581a247c13a99005ed02bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 15:17:42 2021 -0700

    Don't explicitly use any C runtime library with Visual Studio
    
    Visual Studio will still use Multi-threaded DLL by default, but since we don't link with a C runtime we won't end up with any Visual Studio runtime dependency.
    
    This fixes https://github.com/libsdl-org/SDL/issues/4328

commit 659e1f0a3f6a29aea2a220203643f6b44eaf65e9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 29 17:49:52 2021 -0400

    audiocvt: The to-5.1 converters now soften FL and FR channels more.
    
    This is experimental and might be tweaked further.
    
    Reference #4104.
    
    Also reference:
    
    https://github.com/Keriew/augustus/issues/194#issuecomment-847655049

commit f20a85818cfc34f9602f081f13222239139a7ede
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Thu Jul 29 00:13:17 2021 +0100

    commit after setting/unsetting limits

commit 9984891ba8580a7abca52b94d63e021e2e08f1e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 14:46:24 2021 -0700

    Use the wl_touch object as a touch ID on Wayland (thanks @russelltg!)
    
    This fixes https://github.com/libsdl-org/SDL/issues/4517

commit 74162b7401844d58ee82541b39c51ec2aa264867
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Jul 29 13:27:31 2021 -0400

    wayland: Add support for text-input-unstable-v3

commit e4411505ab139b9b9aeba65b93c64551b2478291
Author: Jessica Clarke <jrtc27@jrtc27.com>
Date:   Thu Jul 29 19:04:39 2021 +0100

    Don't pack SDL_AudioCVT on CHERI architectures
    
    This is needed to support CHERI, and thus Arm's experimental Morello
    prototype, where pointers are implemented using unforgeable capabilities
    that include bounds and permissions metadata to provide fine-grained
    spatial and referential memory safety, as well as revocation by sweeping
    memory to provide heap temporal memory safety.
    
    The referential safety is enforced through the use of tagged memory, and
    there is only a single tag bit per capability-sized word, meaning it is
    impossible to store capabilities at unaligned locations, either getting
    a trap on load/store or the validity tag being stripped when
    round-tripepd through memory.
    
    Since this is a new ABI for which SDL has never been compiled before, we
    do not need to be concerned with this compatibility measure, so just
    don't pack the struct for CHERI architectures.
    
    This code is inherently rather dubious anyway; if MSVC and GCC disagree
    on struct layout when targeting Windows then that is a bug in GCC, but
    likely extends from the bogus #pragma pack directives for MSVC in
    begin_code.h, which will force types to be *underaligned* (and is
    attempting to work around something that is fundamentally a broken idea
    to be doing). In particular 8-byte-aligned types will be underaligned to
    4 bytes, but only on MSVC.  Since that code is not used for GCC that is
    probably the cause of the struct layout discrepancy, and there are
    likely other instances of that throughout SDL. Moreover, the supposed
    fix here is not in fact a fix, as now GCC will think SDL_AudioCVT is
    only 1-byte-aligned but MSVC will think it's 4-byte or 8-byte-aligned,
    meaning ABI incomatibility is introduced by this change. However,
    removing it would break ABI compatibility for purely-GCC-compiled code
    (as old binaries would see the struct as 1-byte-aligned and new binaries
    would see the struct as 8-byte-aligned) so SDL is stuck with this until
    it bumps its ABI.

commit 02daab8736e80ce0e48d91ca82954067be5c79a5
Author: Jessica Clarke <jrtc27@jrtc27.com>
Date:   Thu Jul 29 18:09:38 2021 +0100

    Fix pointer provenance in SDL_SIMDRealloc
    
    This is needed to support CHERI, and thus Arm's experimental Morello
    prototype, where pointers are implemented using unforgeable capabilities
    that include bounds and permissions metadata to provide fine-grained
    spatial and referential memory safety, as well as revocation by sweeping
    memory to provide heap temporal memory safety.
    
    The C standard does not guarantee that if two pointers compare equal
    they are the same pointer, as C pointers have a notion of provenance,
    and compilers have been known to exploit this during optimisation. For
    CHERI, this becomes even more important, as in-place expansion can
    result in realloc returning a capability to the same address but with
    increased capability bounds, and so reusing the old capability will trap
    trying to access outside the bounds of the original allocation.
    
    In the case that ptr == mem, memdiff and ptrdiff should still be equal,
    so the only overhead is a small amount of pointer arithmetic and a store
    of the new pointer (which is required per the C standard in order to not
    be undefined behaviour when next loaded).
    
    This also fixes the calculation of oldmem to use uintptr_t rather than
    size_t as casting the pointer to size_t on CHERI will strip the
    capability metadata, including the validity tag, with the subsequent
    cast back to void * resulting in a null-derived capability whose
    validity tag is clear and thus cannot be dereferenced without trapping.

commit 8f38ba4d68f68a99f7b51d977c99e75a45670724
Author: Jessica Clarke <jrtc27@jrtc27.com>
Date:   Thu Jul 29 18:02:47 2021 +0100

    Fix casts that should be using uintptr_t
    
    This is needed to support CHERI, and thus Arm's experimental Morello
    prototype, where pointers are implemented using unforgeable capabilities
    that include bounds and permissions metadata to provide fine-grained
    spatial and referential memory safety, as well as revocation by sweeping
    memory to provide heap temporal memory safety.
    
    On most systems (anything with a flat memory hierarchy rather than using
    segment-based addressing), size_t and uintptr_t are the same type.
    However, on CHERI, size_t is just an integer offset, whereas uintptr_t
    is still a capability as described above. Casting a pointer to size_t
    will strip the metadata and validity tag, and casting from size_t to a
    pointer will result in a null-derived capability whose validity tag is
    not set, and thus cannot be dereferenced without faulting.
    
    The audio and cursor casts were harmless as they intend to stuff an
    integer into a pointer, but using uintptr_t is the idiomatic way to do
    that and silences our compiler warnings (which our build tool makes
    fatal by default as they often indicate real problems). The iconv and
    egl casts were true positives as SDL_iconv_t and iconv_t are pointer
    types, as is NativeDisplayType on most OSes, so this would have trapped
    at run time when using the round-tripped pointers. The gles2 casts were
    also harmless; the OpenGL API defines this argument to be a pointer type
    (and uses the argument name "pointer"), but it in fact represents an
    integer offset, so like audio and cursor the additional idiomatic cast
    is needed to silence the warning.

commit c8b4edf3d0b8903cabf8ae1bc71c310d880160e1
Author: Jessica Clarke <jrtc27@jrtc27.com>
Date:   Thu Jul 29 17:53:10 2021 +0100

    Fix SDL_Event definition to support systems with pointers larger than 8 bytes
    
    This is needed to support CHERI, and thus Arm's experimental Morello
    prototype, where pointers are implemented using unforgeable capabilities
    that include bounds and permissions metadata to provide fine-grained
    spatial and referential memory safety, as well as revocation by sweeping
    memory to provide heap temporal memory safety.

commit 9d457aa44684f0b759c11e6210eabedee0ba591c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 14:24:40 2021 -0700

    Don't uninitialize COM because of what appears to be a bug in Microsoft WGI reference counting.
    
    This fixes https://github.com/libsdl-org/SDL/issues/4488

commit b3a0174b26bf5ffc0bad77ae5446855ed003d426
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 14:23:15 2021 -0700

    Scale the values correctly based on the sensor type (thanks @meyraud705)

commit 65ff00ec1b1c45b9a95f495f107154c8eb5337bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 14:18:54 2021 -0700

    Query the rate for the correct sensor (thanks @meyraud705)

commit 72ee0ccdd5513d844dfd36ebfc6ad05fe3bf7d0f
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Thu Jul 29 13:46:05 2021 +0000

    Sync wiki -> header

commit a186a503e769f21f4637434dca203192b59f0a09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 06:43:39 2021 -0700

    Added SDL_GameControllerGetSensorDataRate() to get the sensor update rate for a controller.

commit ce8261dd6da0f1588ed608f392632252c7a5e693
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 29 06:36:20 2021 -0700

    Only pump events once per frame and process all currently pending events
    
    If you continually poll for events it's possible that new events can come in while you're still processing the last one, delaying rendering. This is more likely with high update rate sensors.

commit 53987e9b4fe4be6a1c524e5dd57ed488fa4b6218
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Wed Jul 28 21:03:42 2021 +0100

    Optimized SDL_Convert51ToStereo_AVX

commit 8e35ff5cb3326d724bac5d7a3107421ae80be54f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 28 14:20:29 2021 -0700

    By default minimize real fullscreen windows when they lose focus so the desktop video mode is restored.
    
    This fixes https://github.com/libsdl-org/SDL/issues/4039

commit 1e07dba09b0a3ee6a39fdbd1ebaa46fedd3b2d4e
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Jun 9 15:26:38 2021 -0700

    x11: Use glXChooseFBConfig when available in X11_GL_GetVisual
    
    When choosing an X11 Visual for a window based on its GLX capabilities, first
    try glXChooseFBConfig (if available) before falling back to glXChooseVisual.
    This normally does not make a difference because most GLX drivers create a
    Visual for every GLXFBConfig, exposing all of the same capabilities.
    
    For GLX render offload configurations (also know as "PRIME") where one GPU is
    providing GLX rendering support for windows on an X screen running on a
    different GPU, the GPU doing the offloading needs to use the Visuals that were
    created by the host GPU's driver rather than being able to add its own. This
    means that there may be fewer Visuals available for all of the GLXFBConfigs the
    guest driver wants to expose. In order to handle that situation, the NVIDIA GLX
    driver creates many GLXFBConfigs that map to the same Visual when running in a
    render offload configuration.
    
    This can result in a glXChooseVisual request failing to find a supported Visual
    when there is a GLXFBConfig for that configuration that would have worked. For
    example, when the game "Unnamed SDVX Clone" [1] tries to create a configuration
    with multisample, glXChooseVisual fails because the Visual assigned to the
    multisample GLXFBConfigs is shared with the GLXFBConfigs without multisample.
    
    Avoid this problem by using glXChooseFBConfig, when available, to find a
    GLXFBConfig with the requested capabilities and then using
    glXGetVisualFromFBConfig to find the corresponding X11 Visual. This allows the
    game to run, although it doesn't make me any better at actually playing it...
    
    Signed-off-by: Aaron Plattner <aplattner@nvidia.com>
    Fixes: https://forums.developer.nvidia.com/t/prime-run-cannot-create-window-x-glxcreatecontext/180214
    
    [1] https://github.com/Drewol/unnamed-sdvx-clone

commit cf85710cf84707797bde8c7da1307014e0b335eb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 28 22:55:10 2021 +0300

    SDL_audiocvt.c: disable AVX for clang < 5 and gcc < 4.9
    
    See: https://github.com/libsdl-org/SDL/issues/4533

commit cc4ab10195a58a1a7ac4274750abaf46247299e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 28 14:37:33 2021 -0400

    windows: convert "//" comment to "/**/", add a FIXME.
    
    Reference #4129
    Reference #4177

commit a20319489378dbf4c6fec012f3160540643d2f88
Author: Adam <adamdharrison@gmail.com>
Date:   Wed Jul 28 14:06:51 2021 -0400

    Added in a MIME-type to the X11 clipboard. (#4385)

commit 5346cf842c00dbebeb07f1df09ac4fad5f368fa6
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Jul 28 17:13:05 2021 +0000

    Sync wiki -> header

commit ad310d39009ad4ca57fc39bd6c7dff6964f2291d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jul 28 12:31:25 2021 -0400

    wayland: libdecor support for SetWindowModalFor

commit 93976ade3ba5cafcd2a410ab323645f53f5c28c2
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jul 28 12:22:09 2021 -0400

    wayland: libdecor support for GetWindowWMInfo

commit 46919b1e8efb9cf0fb902ea9584b57a0d13b51cd
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Wed Jul 28 16:11:06 2021 +0000

    Sync wiki -> header

commit 1fb4429bc09568df188dab9c06b4b8fa069031a8
Author: David Gow <david@ingeniumdigital.com>
Date:   Wed Jul 28 21:50:48 2021 +0800

    wayland: Avoid a pointer→TouchID cast warning
    
    As of [1], SDL now compiles with a warning in SDL_waylandevents.c on
    32-bit systems under gcc 10.3.0:
    
    /tmp/SDL/src/video/wayland/SDL_waylandevents.c: In function 'seat_handle_capabilities':
    /tmp/SDL/src/video/wayland/SDL_waylandevents.c:958:22: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
      958 |         SDL_AddTouch((SDL_TouchID)seat, SDL_TOUCH_DEVICE_DIRECT, "wayland_touch");
          |                      ^
    /tmp/SDL/src/video/wayland/SDL_waylandevents.c:964:22: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
      964 |         SDL_DelTouch((SDL_TouchID)seat);
          |                      ^
    
    This is due to SDL_TouchID always being 32-bit, but seat being a pointer
    which is (obviously) only 32-bit on 32-bit systems. The conversion is
    therefore harmless, so silence it with an extra cast via intptr_t.
    
    This is what the cocoa backend does (and is similar to what the Win32
    backend does, except with size_t).
    
    Fixes: 03c19efbd1 ("Added support for multiple seats with touch input on Wayland")
    
    [1]: https://github.com/libsdl-org/SDL/commit/03c19efbd17f72f70ee021de6d2549eb0be3bb56

commit 4a7799be186b597c4714718b45d9c22422856378
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 28 17:01:02 2021 +0300

    --disable-wayland-shared implies --disable-libdecor-shared for now.
    
    C.f.: https://github.com/libsdl-org/SDL/issues/4543

commit 18303c92bc01d6ae06d78829223b566461d7f7ff
Author: David Gow <david@ingeniumdigital.com>
Date:   Wed Jul 28 18:06:34 2021 +0800

    Wayland: Fix building with --disable-wayland-shared with libdecor.
    
    When wayland is not dynamically loaded (--enable-wayland-shared=no)
    libdecor.h is not included unless SDL_VIDEO_DRIVER_WAYLAND_DYNAMIC
    is set, so it fails to build.  We can't simply move the libdecor.h
    include above the #ifdef SDL_VIDEO_DRIVER_WAYLAND_DYNAMIC block, as
    libdecor.h itself #includes wayland headers we need to replace with
    #defines. Instead, duplicate the #include.
    
    Fixes https://github.com/libsdl-org/SDL/issues/4543
    
    Note that this doesn't fix any of the underlying issues of libdecor
    being treated as part of wayland, it just fixes the build. A better
    solution would probably be to decouple the wayland dynamic loading
    from the libdecor dynamic loading completely, though that is a lot
    more work...

commit 21cba92423d467e6d7f3a51cc717cf300510a4f5
Author: David Gow <david@ingeniumdigital.com>
Date:   Wed Jul 28 16:54:23 2021 +0800

    wayland: Don't create zxdg toplevel decoration twice
    
    Each window can have at most one zxdg toplevel decoration, but as of
    [1], we accidentally create two. (If libdecor is not in use). This
    causes wayland windows with server-side decorations (e.g. on KDE/KWin)
    to crash with the message:
    
    zxdg_decoration_manager_v1@7: error 1: decoration has been already constructed
    
    This extra zxdg_decoration_manager_v1.get_toplevel_decoration() call was
    introduced while deprecating wl-shell and xdg-shell-stable[1] support,
    and possibly was a bad interaction with [2], which moved the decoration
    creation around.
    
    Fixes: 6aae5b44f8 ("Remove wl-shell and xdg-shell-unstable-v6 support (#4323)")
    
    [1]: https://github.com/libsdl-org/SDL/pull/4323
    [2]: https://github.com/libsdl-org/SDL/pull/4374

commit 7b239edb838a47f1b0a03b8257f1cd353f9d14c0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jul 28 01:00:00 2021 -0400

    wayland: Assign frame_callback on window creation.
    
    Fixes a crash when creating and destroying a window without calling SwapWindow.

commit 41e1a2360f2b26d9167b85f2f2259757d4f5ea28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 16:50:06 2021 -0700

    Correct the maximized size and position for borderless resizable windows
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4043

commit 03185e748b1db8e9586eaafa42bd92bb1938dcfe
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jul 27 18:35:00 2021 -0400

    wayland: Tag/Check wl_output objects as well, fixes crashes when libdecor is in use

commit 871c11191bfc7214061a3da37c112522a102ddf5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 18:24:09 2021 -0400

    wayland: handle pending resizes immediately, not on SwapWindow.
    
    This was originally a workaround for an old Mesa bug, since fixed, apparently,
    and causes other problems.
    
    Fixes #4326.

commit 51c61d7cdf5171aa9f79e7408f91ecf6984f4585
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 14:57:18 2021 -0700

    Run the entire Cocoa messagebox function on the main thread.
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4420

commit dfd3f30e88dcb4cb48635ae2a3734322b85a568c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 14:27:37 2021 -0700

    Make Cocoa_HandleTitleButtonEvent() static since it's not used anywhere else

commit 14d58dc890317caa98a791866a535abdd5814387
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 14:23:40 2021 -0700

    Fixed the parameter documentation

commit a3eb297ec241fb65a7d11b047ab56144d5bb3aff
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jul 27 17:17:19 2021 -0400

    wayland: Rework enter/leave and update_scale_factor to avoid bogus wl_output data.
    
    Also remove get_window_scale_factor() which was just pointless indirection.

commit 6aae5b44f825ff925268281d202852718849d146
Author: Simon Zeni <simon@bl4ckb0ne.ca>
Date:   Tue Jul 27 17:12:26 2021 -0400

    Remove wl-shell and xdg-shell-unstable-v6 support (#4323)
    
    * wayland-protocol: update wayland.xml to 1.19.0
    
    * wayland: remove shell_surface field from SDL_SysWMinfo
    
    * wayland: remove wl_shell support
    
    * waypand-protocols: update xdg-shell.xml to 1.20
    
    * wayland: remove xdg-shell-unstable-v6 support
    
    * wayland: deprecate wl shell surface syswm info, add xdg surface

commit 65dc4edb52b6f45b72403b97b53c906cfb8f44f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 12:51:44 2021 -0700

    Reverted accidental Visual Studio version bump in SDL.sln

commit 88e4755c26d5fd5c9f8da17fb0e1659ff46d9203
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 12:43:00 2021 -0700

    Make sure we don't try to turn on relative mouse mode while clicking on the window title bar.
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4469

commit 7df6a9ea595544184e1306e5927b5dca8fa08766
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 10:44:04 2021 -0700

    Add a test case for bug https://github.com/libsdl-org/SDL/issues/4469

commit c72aef266411a5a5e899ffdea1d8545d2d347f39
Author: Splamy <splamyn@gmail.com>
Date:   Sat May 1 23:56:23 2021 +0200

    Fixed microphone randomly stop working
    
    WASAPI_WaitDevice is used for audio playback and capture, but needs to
    behave slighty different.
    For playback `GetCurrentPadding` returns the padding which is already
    queued, so WaitDevice should return when buffer length falls below the
    buffer threshold (`maxpadding`).
    For capture `GetCurrentPadding` returns the available data which can be
    read, so WaitDevice can return as soon as any data is available.
    
    In the old implementation WaitDevice could suddenly hang. This is
    because on many capture devices the buffer (`padding`) wasn't filled
    fast enough to surpass `maxpadding`. But if at one point (due to unlucky
    timing) more than maxpadding frames were available, WaitDevice would not
    return anymore.
    
    Issue #3234 is probably related to this.

commit 4ef8674df13699d81b26d2820af9d1f9fa17cfbd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 14:18:44 2021 -0400

    Revert "wasapi: Open capture devices the way we used to."
    
    This reverts commit 0d0fee7569803ddc41985bfc249418b02dd8cd97.

commit 0d0fee7569803ddc41985bfc249418b02dd8cd97
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 14:12:18 2021 -0400

    wasapi: Open capture devices the way we used to.
    
    This should work around the regression in #3234, since it basically reverts
    the problem change, but only for capture devices.
    
    Fixes #3234.

commit b2d77e638c5b44ce92e77b7240451b74ca460e17
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 10:57:40 2021 -0700

    Added testwm2 to the Visual Studio test programs

commit f4eb7f329e4adfe7307c983ebde4c8568fba79fe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 13:45:33 2021 -0400

    spinlock: Favor gcc-style atomics over MSVC interfaces.
    
    This resolves a problem when using Clang on Windows.
    
    Fixes #4346.

commit 9bcb5e7b94663c09525de9d615b6fd530e2d6f47
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jul 27 20:20:28 2021 +0300

    configure: move CheckLibDecor into CheckWayland

commit 736a424ff470334a5657d44054c03717b0116dec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 13:12:57 2021 -0400

    pulseaudio: Optionally add "monitor" sources to device list.
    
    There's a new hint to enable this.
    
    Fixes #2917.

commit 8d790b10f8eda4754c534cdae050041cb60d706b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 27 12:23:46 2021 -0400

    audiocvt: stereo-to-mono SSE3 now uses unaligned accesses.
    
    On modern CPUs, there's no penalty for using the unaligned instruction on
    aligned memory, but now it can vectorize unaligned data too, which even if
    it's not optimal, is still going to be faster than the scalar fallback.
    
    Fixes #4532.

commit a894ce4c14bc351e65ce565b60cf8e73c3923afe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 27 08:34:46 2021 -0700

    Include README.md in the distribution archive

commit e16fb60323f96085982dc033b7d4544d99ba3bc6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jul 27 17:10:24 2021 +0300

    tweak HAVE_IMMINTRIN_H in SDL_config_windows.h, add to SDL_config_macosx.h

commit 2a53f8315acd83f72be7c5e0e96c0d9480eac477
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 26 23:29:20 2021 -0700

    Fixed controllers showing up under both MFI and HIDAPI drivers
    
    The Game Controller Kit doesn't show the controllers at startup, so the HIDAPI driver sees them first and therefore gets preference when a controller is supported by both drivers.
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4209

commit 46869db01c1c616b6f6ab9364f18c283d57513b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 26 23:27:13 2021 -0700

    Fixed controller rumble on macOS
    
    Needed to add a strong reference to the haptics engine

commit e94d4b8c9b75afccd00d97a8f0153435a4bdff15
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Tue Jul 27 00:08:05 2021 +0000

    Sync wiki -> header

commit a850fec733f71ce0f9a299d90054b1c906720eb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 26 15:05:02 2021 -0700

    Added missing mapping for the Xbox Elite Controller on Linux
    
    This fixes https://github.com/ValveSoftware/steam-for-linux/issues/7826

commit d80ef3e5f50edf115804381dda9cbc2afc926c6a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jul 26 22:51:24 2021 +0300

    SDL_VideoInit: silence 'may be used uninitialized' warning
    src/video/SDL_video.c:475: warning: 'i' may be used uninitialized in this function

commit 45de0a1d1339cabb1e96203c75c410b2d4cb34f1
Author: Luis Cáceres <lacaceres97@gmail.com>
Date:   Fri Apr 2 06:28:10 2021 +0100

    Support comma-separated lists in SDL_AUDIODRIVER

commit 5ec69285fa365cf417c89d062a33e1148ad2f0c9
Author: Luis Cáceres <lacaceres97@gmail.com>
Date:   Fri Apr 2 06:16:09 2021 +0100

    Support comma-separated lists in SDL_VIDEODRIVER

commit ba8bc143c1691a837a9265d1911ea737d7bb8002
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 26 12:09:33 2021 -0700

    Sort joystick entries in /dev/input
    
    This fixes https://github.com/libsdl-org/SDL/issues/4430

commit 8d527def8156881c7abb314119464be8eed0c299
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 26 10:18:18 2021 -0700

    Revert "hidapi_switch: Implement HD rumble effect (#4538)"
    
    This reverts commit 19082b115b8ba3fff93e1c317c380718086a509c, which broke rumble on the Nintendo Switch Pro controller

commit 19082b115b8ba3fff93e1c317c380718086a509c
Author: Narr the Reg <juangerman-13@hotmail.com>
Date:   Mon Jul 26 12:00:53 2021 -0500

    hidapi_switch: Implement HD rumble effect (#4538)

commit 3b7649c578b1ff98fb3f1c76fc1a586fe75fb617
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jul 26 01:29:10 2021 +0300

    regenerated configure

commit ac904b8e95c617b0000563b53a7272799ab2e9df
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Jun 21 01:25:25 2021 +0100

    wayland: ignore resize in fullscreen or maximised mode

commit ee062c644a81a002f4244ae612178210ba77d6e8
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Wed May 19 00:13:39 2021 +0100

    wayland: implement toggling decorations

commit 2b3cf36fd9c01105af0e62f35d4bdab375b2024f
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sat May 22 00:49:10 2021 +0100

    wayland: forward window events

commit 48066984b7248db0e96a63fee99e46bf1f2e3e68
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Apr 5 14:09:03 2021 +0100

    wayland: enable/disable ACTION_RESIZE for fullscreen

commit 9e6fcbe72c3550d2007d54bcdab1178f90803eda
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Thu Jun 11 22:10:28 2020 +0100

    wayland: client-side decoration

commit f4f9c6bc55c02f77fba9cee372885e454671c9a1
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Thu Mar 11 00:40:43 2021 +0000

    CI: add 'libdecor' dependency from upstream

commit e5f9fae034df8ca305241c5a666e7702fcf9958f
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun May 16 23:19:45 2021 +0100

    wayland: don't flush after setting fullscreen

commit c0601d0123808fce91519b34b12f5c06769cf3ff
Author: kenmays <maybird1776@yahoo.com>
Date:   Sun Jul 25 10:15:03 2021 -0700

     SDL: Updated patches for HAIKU

commit 761d38379b8d5eabc02327f8363baeda52316939
Author: kenmays <maybird1776@yahoo.com>
Date:   Sun Jul 25 10:14:26 2021 -0700

     SDL: Updated patches for HAIKU

commit 8e604a5f12b23a8473c0d08a35d55964867035f5
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sun Jul 25 18:44:33 2021 +0200

    Fix error handling in X11_SetWindowTitle
    
    X11_XChangeProperty return 1 on success.

commit bc3b98f3eda0856421d8c717be32c70f2f665ba9
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Sun Jul 25 03:33:44 2021 -0500

    Replace with SDL_SendKeyboardKeyAutoRelease

commit 5cd37c0a7b5ae5e441f41f901be20b889c58334d
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Sun Jul 25 01:04:51 2021 -0500

    Add Enter Key support to PSVita IME keyboard

commit 10ec4c8671ffb78a49fab832c649c24afc3c2988
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 22:11:22 2021 -0700

    Added support for the PowerA Nintendo Switch Spectra Controller

commit 3c9559f765fad7de523f68a86c8048af1188dd5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 19:43:56 2021 -0700

    Don't try to rumble third-party Nintendo Switch Pro controllers
    
    Sending rumble to the PowerA Spectra Nintendo Switch controller hangs input reports for a couple of seconds.

commit cc19b13bc38c17f43b0990633f8aff2920300e2c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 19:21:29 2021 -0700

    Fixed missing return statement

commit 89bdc6ba1d137590eb11eb37e7a2c64efef2f553
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 24 13:57:59 2021 +0100

    Fix MSVC builds in paths with spaces

commit b0daa9f1db90ac568383a9a1741a9e2629fd1004
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 24 13:33:54 2021 +0100

    Automatically select the default platform toolset for MSVC builds

commit d4ac6b5ed91cbdce856e4830a4311108e42791ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 15:58:33 2021 -0700

    Detect buffer overflow when getting DirectInput device state
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4528

commit 3b85e3fdfce01c528a6ebf9ac537bdc106ba4963
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 15:47:11 2021 -0700

    Fixed internal Windows key state when using Windows+Space or Windows+G shortcuts
    
    This fixes bugs:
    https://github.com/libsdl-org/SDL/issues/4369
    https://github.com/libsdl-org/SDL/issues/4500

commit 03c19efbd17f72f70ee021de6d2549eb0be3bb56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 15:25:50 2021 -0700

    Added support for multiple seats with touch input on Wayland
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4517

commit ff1b5e1bf7971fb87c77fd9b17fe05ec5a14dbba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 15:10:57 2021 -0700

    Implemented the window flash operations for X11

commit 5ae0dd4b5223a2002950b831caeb652a44340517
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 24 17:44:35 2021 -0400

    joystick: Split out Linux opening code for reuse by querying code.
    
    This prevents an assertion whem LINUX_JoystickGetGamepadMapping tried to
    open the stick temporarily and messed with global state by doing so. Now
    the global state is only set in LINUX_JoystickOpen, but the common code
    is shared by both interfaces.
    
    Fixes #4198.

commit 6c92bf540cce9dab25b63a76dc3dddabe0c817b5
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Jul 24 15:34:53 2021 +0100

    Add more filters to the MSVC project

commit f1633127d1c88f33179a5ddc8fae3eed7157b4b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 13:41:55 2021 -0700

    Added a window flash operation to be explicit about window flash behavior

commit b2c8d3e9e49ae69fde71542274aafb75902084ce
Author: Joel Linn <jl@conductive.de>
Date:   Fri Jun 11 22:14:54 2021 +0200

    audiocvt: 5.1 to Stereo conversion utilizing AVX

commit 20eea021c6558e391c1b95316845dd5bdfad73ff
Author: Joel Linn <jl@conductive.de>
Date:   Sat Jun 12 01:25:40 2021 +0200

    Windows: set HAVE_IMMINTRIN_H for AVX intrinsics

commit 638befc1a9899dc3be3d3ff63b9a409216a4ba05
Author: Joel Linn <jl@conductive.de>
Date:   Thu Jun 10 17:22:39 2021 +0200

    audiocvt: 5.1 to Stereo conversion utilizing SSE

commit db56526f14794c48f18c1c90c1bc2a51bdedcacf
Author: Joel Linn <jl@conductive.de>
Date:   Thu Jun 10 13:07:27 2021 +0200

    audiocvt: Replace divisions
    
    Division is expensive and the compiler can not replace it themselves.
    Though we now we will be ok in terms of floating point edge behaviour.

commit e1c3a25034663ccb13cc771671f1298f7306fa99
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 12:11:27 2021 -0700

    Changed SDL_FlashWindow() so it doesn't take a flash count, and added the hint SDL_HINT_WINDOW_FLASH_COUNT to control behavior on Windows

commit 09d1cea733b84c8315212fdc4b4413b9b71fc180
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 11:15:09 2021 -0700

    Use the new controller type for the Luna and Stadia controllers

commit 2147e7bfea0fc99fc04eef20f3a808ffc0c8865c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 11:01:58 2021 -0700

    Sorted the hints alphabetically

commit 808c3ae61263ea6100844f0f205ca4156f41d60c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 10:36:56 2021 -0700

    Allow mapping Android controllers that just have a D-PAD and face buttons
    
    This fixes bug https://github.com/libsdl-org/SDL/issues/4327

commit 856c87fc2ee8dc5ea0edf74ab62a9a74b440e494
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Sat Jul 24 17:32:05 2021 +0000

    Sync wiki -> header

commit d89f4b3ae48a69873c31c31b7a66e463f5063a9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 10:29:34 2021 -0700

    Note that mouse warping doesn't work over Microsoft Remote Desktop
    
    Fixes the documentation portion of bug https://github.com/libsdl-org/SDL/issues/4206

commit 94b7a8764508a001917806623010a1f13b664e79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 09:10:18 2021 -0700

    Added SDL_GameControllerType enumerations for the Amazon Luna and Google Stadia controllers
    
    Fixes bug https://github.com/libsdl-org/SDL/issues/4019

commit 6956f4aa1982b66b234026b46f7bb2dd44c67894
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 24 11:06:40 2021 -0400

    cmake: use CMAKE_INSTALL_LIBDIR instead of hardcoding "lib", etc.
    
    These came from HaikuPorts, specifically this patchset:
    
    https://github.com/haikuports/haikuports/blob/462947dd4f285a885d8011cade7cd0f7151cfe74/media-libs/libsdl2/patches/libsdl2-2.0.14.patchset
    
    This is just the part that is _not_ Haiku-specific. I wanted this in a
    separate commit though, since I'm not really a CMake expert; if this causes
    problems and we need to bisect to it, we won't be confused about it being a
    Haiku issue when we get here.
    
    Fixes #4092.
    (and probably others.)

commit 403afdb558bd09741dac494207a9bbc78b1701fd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 24 11:02:27 2021 -0400

    cmake: Haiku fixes.
    
    These came from HaikuPorts, specifically this patchset:
    
    https://github.com/haikuports/haikuports/blob/462947dd4f285a885d8011cade7cd0f7151cfe74/media-libs/libsdl2/patches/libsdl2-2.0.14.patchset
    
    This is just the Haiku-specific bits; the more general parts about install
    dirs will be split into a different commit here.
    
    Reference issue #4092.

commit 7d8f34cb71e17034bce99686ad11cfec6e5d38b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 24 01:19:58 2021 -0700

    Updated .gitignore from @Zangetsu38 - thanks!

commit e6e8fe6d4e984eff2e132a55d59cca3ccefbde39
Author: german77 <juangerman-13@hotmail.com>
Date:   Fri Jul 23 10:45:03 2021 -0500

    hidapi_switch: Implement analog rumble

commit 669714cafe323e7d3a72b9b9de3de75ef7086469
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 23 23:51:35 2021 -0700

    Added the ThrustMaster T.16000M as a flightstick

commit 384d86b584c542f81d29f32501bcc0362106842f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 23 23:48:23 2021 -0700

    Fixed compile warnings with Visual Studio

commit adb75d642cabcd8b42b817de711b4ab03e35b634
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 23 23:45:18 2021 -0700

    Fixed hotplug detection not working on UWP or when SDL isn't pumping Windows events
    
    This fixes bugs:
    https://github.com/libsdl-org/SDL/issues/4321
    https://github.com/libsdl-org/SDL/issues/4147
    
    Thanks to DJm00n for the suggestion!

commit 7b0092db6ac689d8e19459ee983d94744a94cdac
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Fri Jul 23 18:58:25 2021 +0200

    vita: touch: Mark the back panel as an indirect absolute touch device
    
    It's not a touchscreen, but an additional touch panel on the back of
    the device.

commit 422b053b9638ed3b9a6781c02dd258e137f8b4d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 23 16:32:35 2021 -0700

    Added support for the full line of current PowerA Xbox Series X controllers

commit 7edffc579863742a3eab3a066ce3bffee0c7dcd9
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Jul 23 18:29:04 2021 +0000

    Sync wiki -> header

commit 9632fb33699674184518e28b774560bfbf1cb2fa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 23 12:48:28 2021 -0400

    README-dynapi.md: Cleaned up markdown formatting.

commit c06448fe39e71c67f3c99a07da4b62b80cc9ac0d
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Jul 23 16:39:05 2021 +0000

    Sync wiki -> header

commit 48993a7f2a7281a31a61e719a06f4f69b590504f
Author: SDL Wiki Bot <icculus-sdlwikibot@icculus.org>
Date:   Fri Jul 23 16:14:49 2021 +0000

    Sync wiki -> header

commit 15ed665363b192c29f733d54d46e9669256760fd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 22 20:50:02 2021 +0300

    Fixes to kmsdrm dynamic loading support.
    
    Fixes: https://github.com/libsdl-org/SDL/issues/4520

commit 48bbe31bc63de67ef118f3d9f40b710178cb78b9
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Jul 20 21:45:21 2021 -0500

    Add PreSwapCallback for updating SceCommonDialog

commit 9c1306bc5ebc57ee61e41025ef8b6af81790b8d4
Author: Jaylon Gowie <jaylongowie46@gmail.com>
Date:   Tue Jul 20 21:44:16 2021 -0500

    Add elgext.h header

commit 4ada14a267a9cfa4a917dad52e6d3c1dd7d7b47c
Author: meyraud705 <meyraud705@gmail.com>
Date:   Wed Jul 21 13:39:10 2021 +0200

    Replace libc functions to SDL equivalent in wayland video subsystem
    
    Wayland video subsystem uses a mix of libc and SDL function.
    This patch switches libc functions to SDL ones and fixes a mismatch in memory
    allocation/dealoccation of SDL_Cursor in SDL_waylandmouse.c (calloc on line 201
    and SDL_free on line 313) which caused memory corruption if custom memory
    allocator where provided to SDL.

commit f806064e7e30cf3b52c06f6304acad97a9614dd3
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jul 19 13:12:10 2021 +0300

    Remove 'support' for rgb/bgr textures, that was causing issues with them

commit d6641d7123a48fa7b644f81441f561ba0372f77f
Author: Niklas Haas <git@haasn.dev>
Date:   Mon Jul 19 11:52:57 2021 +0200

    kmsdrm: Explicitly set the surface transform and alpha mode
    
    This is required by the specification. Set these to sensible defaults.
    Fixes a validation layer error that occurs otherwise.

commit 760074270a9832ca4f9d6b6a766a9ae104e8391a
Author: Niklas Haas <git@haasn.dev>
Date:   Mon Jul 19 11:26:54 2021 +0200

    kmsdrm: Properly zero-initialize CreateInfo structs
    
    As written, these contain undefined stack contents, which in practice
    causes crashes/hangs and/or triggers the validation layers (they
    complain about `pNext` and `flags` not being NULL).

commit 9170c0c7f8d3deebb60fff4a88e074de1c37a2f5
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jul 15 18:35:20 2021 -0500

    CI: Add Windows ARM64 builds

commit 37d4f003b76da3e3c91ed99da0350501d2830c79
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 17:09:05 2021 -0400

    doxygen: Removed some cruft that accumulated during wiki migration.

commit c07e5e99c889e9f5fc39c36dcfee2fbaedb85766
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 17:07:41 2021 -0400

    wikiheaders.pl: Add --copy-to-header option.
    
    ...because I keep mistyping it without the 's' on the end.  :/

commit c88eb7a8969d28e36f25ced936463c93de52c836
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 17:07:04 2021 -0400

    Sync wiki -> header.

commit f8c1fc49d9d1b79b746248ee4855a3a497df8f5f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 14:15:30 2021 -0400

    doxygen: Fix all the "\returns" so they work as part of complete sentences.

commit 8ec9fbdd0c3f2ae6d91acc0351e6241314509f23
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 11:58:57 2021 -0400

    wikiheaders.pl: pull in full sections from headers, fix more whitespace.

commit 17b4a67aa342febf7a7b9fa1f481abddb97c0548
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 11:45:06 2021 -0400

    doxygen: We use "\returns" as part of the sentence.

commit bab0eb71cee63a85bd296a1ec3ae8a2c9dd303e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 10:03:31 2021 -0400

    wikiheaders.pl: Fix some wordwrap whitespace issues.

commit 04196a46a57c2adbc4638f3d2ec9e8640899f751
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 09:59:52 2021 -0400

    doxygen: wrap some game controller code examples in "```c" blocks.

commit 7390bc0e5e19f9dfc92e1198a0add5e0f73604c7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 09:36:07 2021 -0400

    wikiheaders.pl: Fix \sa tags that (incorrectly!) have "()" appended.

commit d115857c6f63f1014da8f5477b89539fbfe100fd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 08:11:18 2021 -0400

    wikiheaders.pl: A bunch of work on correct wordwrap and (de)wikify.

commit 0ac13dc27fef51cca2a410d99ff537e09bba45c0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 14 08:01:55 2021 -0400

    doxygen: Tweak SDL_FlashWindow brief description.
    
    So "e.g." doesn't look like the end of the sentence to wikiheaders.pl.

commit 1f17bc549eef48696b8be7d2f35ff1408e5a5000
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 13 12:25:23 2021 -0400

    wikiheaders: look for "c++" before "c" in regular expression.

commit 269d0773c701d81dc7eeedae88f9a34cd7c34298
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 13 11:11:55 2021 -0400

    wikiheaders: Ignore doxygen comments that aren't "/**" on a line by itself.
    
    Makes this ignore /** single line comments */

commit 8130950e926d7a8b6322ba741447a0edc0f5b977
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 13 11:11:33 2021 -0400

    wikiheaders: trim whitespace at edges after wordwrapping.

commit 0f1079456d414ea1abf981d1ebde08e0bfc38850
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Jul 13 23:07:54 2021 +0100

    Remove outdated comment about SDL_SoftStretch

commit 817976da69eeb03613392a6c8a08915c52c88c3e
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Jul 13 13:45:28 2021 +0300

    VITA: Rewrite and fix RenderCopyEx rotation

commit dc6f044309eb1199e6dfcb42198b5b776813cdf7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 12 17:57:21 2021 -0700

    Added mapping for the Xbox Series X controller on tvOS

commit 947ad6e13a7baffa8b1b84258cabd9ea74c7f99a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 12 17:57:21 2021 -0700

    Added support for the Xbox Series X controller on iOS and tvOS

commit 297ce148e66091f190b3c462fda2a6f8b799a3fd
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Jul 11 17:38:33 2021 +0100

    CI: Add Android builds to GitHub Actions

commit 7fe6dbafa33e109ccb7d1742016fc2caeedc89b0
Author: Brick <6098371+0x1F9F1@users.noreply.github.com>
Date:   Sun Jul 11 15:25:24 2021 +0100

    Reset rawInputEnableCount when RawInput is not supported

commit 32e736d2603e0c15dc69a717d7f0921a0c0abe69
Author: scribam <scribam@users.noreply.github.com>
Date:   Sat Jul 10 11:39:51 2021 +0200

    CI: add github actions for windows x86

commit 5ac81c75fe3e2b3dab938497738d8873f6055a70
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jul 10 10:05:40 2021 +0300

    fixed typo in previous commit

commit a809d62605f0de051c665ae6c981d89d6923533d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jul 10 10:01:40 2021 +0300

    cmake: set SDL_JOYSTICK_RAWINPUT for windows builds
    
    Fixes: https://github.com/libsdl-org/SDL/issues/4412

commit 24059a19c5302fa2ed40cbdb3e4dcaae9e732690
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 9 18:11:42 2021 -0700

    The RAWINPUT driver is no longer tied to HIDAPI in any way

commit e52733af8d366146c88b64287667c5e7bd25f776
Author: h5p9sl <21267024+h5p9sl@users.noreply.github.com>
Date:   Fri Jul 9 13:39:05 2021 -0600

    Use CMAKE_CURRENT_BINARY_DIR instead of CMAKE_BINARY_DIR
    
    This allows for building with cmake's add_subdirectory() function.

commit f93e9047eb1454ae07694d3fbdcf4c0c87c47e08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 8 18:44:50 2021 -0700

    Implemented the timeout in hid_read_timeout() on Android
    
    This fixes detecting PS5 controllers connected over USB

commit e2234ee97c929345b065fe355fe6c8d2a394f2af
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun May 16 06:33:29 2021 +0200

    CMake: Fix SOVERSION/SONAME of non-release versions
    
    When building SDL2 from git with CMake, you got libSDL2-2.0.so.1
    instead of .0 (as it's the case when building with autotools).
    This was caused by using LT_REVISION instead of LT_MAJOR for SOVERSION.
    
    fixes #4310

commit c20207d787eb5fa97ccf8a3fbda3392a7280e6bd
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Tue May 4 10:00:16 2021 +0200

    SDL2Config.cmake: Clean it up a bit, remove gcc-style SDL2_LIBRARIES
    
    The GCC-style SDL2_LIBRARIES were lacking the rpath on Linux, which
    seems to be implicitly set when linking path/to/libSDL2-2.0.so.0.*
    and is explicitly set in the SDL2_LIBRARIES in sdl2-config.cmake
    (from some autotools variable), so I removed that hack and the format
    remains sth like "path/to/libSDL2main.a;path/to/libSDL2-2.0.so.0.14.1".
    
    It's still in the revision history in case it turns out that some
    platform really needs the "-L/path/to/bla/lib -lSDL2main -lSDL2" format

commit 501fe465977a13e3cb5239e965e949b7e5405582
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Wed Apr 21 06:34:46 2021 +0200

    sdl2-config.cmake.in: Make SDL2::SDL2 work with MinGW, fixes #3665
    
    It didn't work at all because shared libs defined in CMake with
    add_library() need something like IMPORTED_IMPLIB (pointing to a .dll.a
    or .lib for th DLLs) set to link on Windows.
    But even with that it didn't work because the order of the libs is very
    important: it must be -lmingw32 -lSDL2main -lSDL -mwindows - but
    with normal add_library(SDL2::SDL2 SHARED IMPORTED) libs, SDL2 itself
    is always linked first.
    So I use an "INTERFACE" library (usually used for header-only libs), which
    doesn't implicitly/automatically link anything so I can specify the whole
    order of the linked libs.
    (SDL2::SDL2-static is completely untested)

commit fac6e9f1e2f9b3dcd528495bdb87e1c78aa49aa2
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Wed Apr 21 06:27:41 2021 +0200

    sdl2-config.cmake.in: Use more CMake variables and less autotools ones
    
    this makes it easier to create a portable sdl2-config.cmake that doesn't
    hardcode its path (by replacing the hardcoded prefix with something
    like "${CMAKE_CURRENT_LIST_DIR}/../../..")

commit c3426961721f879f0c326975f6df914681ac3c79
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Apr 18 17:15:34 2021 +0200

    Enhanced SDL2Config.cmake to also work on non-Windows
    
    tested Linux; I assume most other Unices are similar; I don't have a Mac

commit 3ea11f9acbb876ab6b3261cff458fe69f4b96934
Author: Daniel Gibson <metalcaedes@gmail.com>
Date:   Sun Apr 18 06:23:20 2021 +0200

    Make SDL2Config.cmake export SDL2_LIBRARIES etc (on Windows)
    
    still WIP and other platforms than windows still TODO and open
    questions etc
    
    see https://github.com/libsdl-org/SDL/issues/4004

commit f9bf1aeba8831a765c7ae904f6e51ef366f91df3
Author: Vladislav Dmitrievich Turbanov <vturbanov@gmail.com>
Date:   Fri Jul 9 00:51:16 2021 +0300

    Latest Unifont with OFL is now bundled. (#4268)
    
    * * Latest Unifont with OFL is now bundled.
    
    * * Added a Unifont license file.
    
    Co-authored-by: Vladislav Dmitrievich Turbanov <vladislav@turbanov.ru>

commit 557d0f827f346a3419ea278a8a479335857bad48
Author: Hanseul Jun <hanseuljun@gmail.com>
Date:   Thu Mar 11 13:36:56 2021 -0800

    Commenting a false alarm in WIN_GLES_SetupWindow.
    
    When hint SDL_HINT_OPENGL_ES_DRIVER is set to "1" (e.g. for ANGLE support), assertion due to !_this->gl_config.driver_loaded can be causes while EGL is available.

commit d135c0762f11c29eb9cce377648f25e5a91b4522
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 8 13:22:41 2021 -0700

    Added SDL_GameControllerSendEffect() and SDL_JoystickSendEffect() to allow applications to send custom effects to the PS4 and PS5 controllers
    
    See testgamecontroller.c for an example of a custom PS5 trigger effect

commit 073cbc40cb7373ed65a0bbfcb49fd0db5f36a6d8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 8 21:20:02 2021 +0300

    SDL_platform.h: define TARGET_OS_SIMULATOR as 0 if not already defined.
    
    c.f.: https://github.com/libsdl-org/SDL/issues/4475

commit be41cf2dfe28556e44b7222a0f9214674080aab0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 8 21:20:02 2021 +0300

    CMake: don't blacklist TARGET_OS_SIMULATOR for Metal configuration
    
    https://github.com/libsdl-org/SDL/commit/7fa5e95b6284f2cc7855022c9f0c2b086dcee43f enabled it.

commit 97d4fe943355892db63de9ffde061675b779c07b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 8 20:55:10 2021 +0300

    removed extra whitespace.

commit 3da6d2cdded47ab13e07a5228d030280aca8b872
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 8 20:33:50 2021 +0300

    WIN_SetErrorFromHRESULT: kill CR/LF that FormatMessage sticks at the end
    
    Fixes: https://github.com/libsdl-org/SDL_mixer/issues/320

commit 8fb95034e84ded56bceb6b12d36a2864222582a4
Author: Dean Herbert <pe@ppy.sh>
Date:   Fri Apr 2 12:52:21 2021 +0900

    Avoid warping the cursor to the center of the window when not in relative_warp_mode
    
    When relative mode is enabled and not using warp mode, the cursor is
    being clipped to the window. Therefore there is no reason to restore the
    cursor position to the center.
    
    Avoiding the warp to center simplifies mouse position event flow, as we
    are no longer potentially receiving mouse events for the automated
    movement of the cursor and can be (mostly) assured that an incoming
    event from the windowing system is that of external means.

commit 4359a47b3e383de0fe20a98a3cc523ca0e0d8a76
Author: Dean Herbert <pe@ppy.sh>
Date:   Fri Apr 2 12:48:16 2021 +0900

    Simplify ClipCursor behaviour when RelativeMouseMode is enabled
    
    The implementation of clip logic for relative mode seemed to
    unnecessarily limit the usable area to the middle of the window, in a
    2x2 pixel region. This has the adverse side effect of moving the
    operating system cursor to that location, even if it is in a valid
    location in the window.
    
    While in most scenarios this is handled correctly (by storing the
    original position of the cursor in the window and restoring when leaving
    relative mode), there are edge cases where this clip operation can cause
    WM_MOUSEMOVE to fire at a point in time where it counts as a relative
    delta from SDL's perspective.

commit 3720e254c4901da21ef3ff9e5b23d70d113b60fc
Author: Dean Herbert <pe@ppy.sh>
Date:   Fri Apr 2 12:48:02 2021 +0900

    Trim some stray whitespace

commit 170924278d6eeb2c617ef213e4d615605c3f0b5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 8 09:24:54 2021 -0700

    Fixed https://github.com/libsdl-org/SDL/issues/4475
    
    -Wundef errors from clang-11.1 when targeting macOS
    
    Targeting i386 against 10.8 SDK:
    
    In file included from src/SDL_assert.c:21:
    In file included from src/./SDL_internal.h:52:
    In file included from include/SDL_config.h:33:
    include/SDL_platform.h:73:5: error: 'TARGET_OS_TV' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]
        ^
    1 error generated.
    
    src/joystick/iphoneos/SDL_mfijoystick.m:38:5: error: 'TARGET_OS_IOS' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]
        ^
    src/joystick/iphoneos/SDL_mfijoystick.m:460:5: error: 'TARGET_OS_TV' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]
        ^
    2 errors generated.
    
    src/filesystem/cocoa/SDL_sysfilesystem.m:83:6: error: 'TARGET_OS_TV' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]
         ^
    1 error generated.
    
    Targeting x86_64 against 10.12 SDK:
    
    src/video/SDL_video.c:1492:25: error: 'TARGET_OS_MACCATALYST' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]
                            ^
    1 error generated.

commit 16e3bfe807dfdd48b6833da4cd78e789a920e2ec
Author: Austin Shafer <ashafer@nvidia.com>
Date:   Mon Jun 28 11:29:16 2021 -0400

    SetDisplayMode: Call XRRSetScreenSize before setting CRTC config
    
    X11_SetDisplayMode currently calls X11_XRRSetCrtcConfig alone. This results
    in the monitor's viewport getting changed, but the underlying screen dimensions
    stay the same.
    
    The spec indicates that RRSetCrtcConfig only changes the crtc mode and has no effect
    on the screen dimensions, only mentioning that the new crtc must fit entirely within the
    screen size. For the size to change, RRSetScreenSize also needs to be called.
    
    This affects Metro Exodus on Linux, when changing the resolution in the in-game settings
    Metro gets stuck in a loop waiting for the size of its vulkan surface to change. Because
    XRRSetScreenSize is not called the screen size is never changed, the vulkan surface dimensions
    do not change, and Metro hangs forever watching for a surface size update that will
    never come.
    
    This change disables the CRTC, calls XRRSetScreenSize, and then updates the
    CRTC configuration. This fixes changing the resolution from the Metro settings.
    
    Tested with:
    Metro Exodus, Portal 2

commit 118480e56337ce154850cb3b4878fd8faa6b1a4b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 8 17:56:14 2021 +0300

    fix permissions

commit 4a20dd3e54739f444307a79857ed5a18fba1c0a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 8 07:38:18 2021 -0700

    Removed unnecessary comment, the mic button is in byte 16 on all firmware versions

commit 46f19c311deb4c6d0f61cc19a198ac40922bb595
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 8 07:23:29 2021 -0700

    Implemented mouse relative mode for iOS 14.1 and newer

commit 3433f3c4cc5249da6f30bb355dc45fbee61f4655
Author: Croydon <git@cr0ydon.com>
Date:   Thu Jul 8 01:18:01 2021 +0200

    CMake: Small improvement for MinGW
    
    This is currently a small patch we have in our Conan package for SDL https://github.com/bincrafters/community/blob/4dc894cc2c4df43aabf39c212aa0a31047d183e1/recipes/sdl2/all/conanfile.py#L184
    
    Introduced in https://github.com/bincrafters/conan-sdl2/commit/9fb93a60446914da2a0fafc692cbd175c2d5db50

commit 6f0865fe4292df1a49df6a0bb69e6ca74664dde7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 7 23:51:32 2021 +0300

    updated os2 makefile.

commit 599001d4c7559b4ed04b3d5590e5536ed87c165e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 7 13:30:48 2021 -0700

    Revert "Removed reference to ant project."
    
    This reverts commit 0cad302346f95da770e5e1dc818f585c4ab4530d.
    
    The ant directory still exists in source control

commit 75a9f8e2b28870387cadff4ba4de13c2595505dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 7 13:06:15 2021 -0700

    Added SDL_hidapi_luna.c to the Xcode project

commit 430bbcb87f941de5b6cf51d5e3a18b0055d4e0f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 7 09:49:33 2021 -0700

    Added HIDAPI support for the Amazon Luna Controller connected over USB in DirectInput mode

commit 863f56694115f801ec868ef2a4d9f295297335f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 7 08:55:16 2021 -0700

    Fixed reading thumbstick axes and mic button on the Amazon Luna Controller firmware version 305164320

commit 17ed8d80855031b427112b2cd345515e7cf393ab
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Wed Jul 7 16:05:35 2021 +0300

    Added HIDAPI backend for Amazon Luna Controller Model T28B69 connected via Bluetooth LE (VID:0171, PID:0419).
    
    To enter Bluetooth pairing mode hold B and Action (button with circle) buttons for 3 seconds.
    
    It works via usual HIDAPI if special filter driver is not installed:
    https://www.amazon.com/gp/help/customer/display.html?nodeId=GZCT4CTFHXLHEB9T
    
    With that driver installed it mimics Xbox One controller and works via XInput under Windows.
    
    Under DInput this controller is not usable at all.

commit 00d67620dad564f11a24e31c9e0d6295def75afc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 6 11:32:11 2021 -0700

    Added the SteelSeries manufacturer to the Nimbus+ entry on macOS

commit 0f00f6dd860643381c62836ccf305a7a15e19070
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 6 10:01:31 2021 -0700

    Ignore checkkeysthreads

commit 24e836b0dbb78daa9a4f6ecf6c09b5bc3cd3a5d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 6 10:00:09 2021 -0700

    Added controller mapping for the Nimbus+ controller on macOS when MFi support is not available

commit 6b21a6ccc66f045365ff059925cd35a08538c088
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jul 5 20:02:02 2021 +0300

    Update config.guess and config.sub from mainstream.

commit 0994a75879544960b285ba49448701ca00a35486
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jul 1 20:36:49 2021 +0300

    Don't hardcode message length

commit 3b6e999244d0b1a7b1ce138097dac6930fd95e55
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jun 23 14:57:04 2021 +0300

    Vita: remove unused variable and allow Razor perf analysis

commit 656eb7df35efcd7382a5634366ed8cd9b23633d3
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jun 23 14:35:36 2021 +0300

    Vite: return system installed memory

commit 89015b9c355520fc2bff14702680c0d4d30c4f4c
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Jun 22 00:09:06 2021 +0300

    Vita: default window size for tests

commit b55ee12f69162efeb0cbe2425f82925de8869b60
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 23:56:04 2021 +0300

    Vita: fix clip rectangle

commit e41d3e617e26687cfa4e57c0597093d731e2384e
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 23:15:37 2021 +0300

    VIta: fix render clearing

commit 6b1228051025d1b05334f009cdd65a1828dbf7ac
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 23:14:56 2021 +0300

    Vita: proper syntax

commit 32deb6f70c60a7daf604a7c9c1ff0b4920f0332c
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 23:14:40 2021 +0300

    Vita: fix point size

commit 9d4527193d6d522d98f448ec9ca46abd01573c8e
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 15:42:47 2021 +0300

    Vita: append messagebox title

commit 6460151c8407ac644426167bd1b900cac2e34f94
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 21 15:03:31 2021 +0300

    Vita: add missing stub

commit 39302c921445e9f695a72469be17ba041f6f09db
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Wed Jun 2 14:28:33 2021 +0300

    Add Steam Virtual Gamepad and Xbox 360 Wired Controller defines instead of magic values
    
    See  https://partner.steamgames.com/doc/features/steam_controller/steam_input_gamepad_emulation_bestpractices for details on what is Steam Virtual Gamepad.

commit 0c4ac33a0962165220c14c3af660740fab143592
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 28 14:31:27 2021 -0700

    Added support for the Razer Wolverine Tournament Edition controller

commit 2143534a1cf2c3c66af2b62672bf743cf4872f3c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 28 02:00:24 2021 +0300

    configure.ac: manually check immintrin.h with AC_COMPILE_IFELSE().
    
    AC_CHECK_HEADER() emits warnings when configuring for non-x86, because
    the preprocessor check is OK but the compile check is not:
    
    configure: WARNING: immintrin.h: present but cannot be compiled
    configure: WARNING: immintrin.h:     check for missing prerequisite headers?
    configure: WARNING: immintrin.h: see the Autoconf documentation
    configure: WARNING: immintrin.h:     section "Present But Cannot Be Compiled"
    configure: WARNING: immintrin.h: proceeding with the compiler's result

commit ca383599b5c99cc66b3c1ea6be509ff3b243b50b
Author: Joshua Ashton <joshua@froggi.es>
Date:   Sun Jun 27 01:49:31 2021 +0100

    Fix Anne Pro II keyboard showing up as a joystick
    
    Having used this for a couple years, I can definitely confirm that it is not a joystick.

commit c90bd3bf796e81141f6384053ae5d4351528ce8c
Author: Joshua Ashton <joshua@froggi.es>
Date:   Sun Jun 27 03:13:47 2021 +0100

    Add missing PS5 DualSense GUIDs
    
    Fixes my DualSense controller not being recognised as a SDL GameController which breaks Steam Input filtering causing SDL to fight for input.

commit bfdea6057252e0aedaccd6e8fcee899c8f976bb6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 26 05:56:10 2021 +0300

    avoid -Wundef warning from SDL_config_windows.h

commit 205b951b46b16ce08221c9ed17e7c518d83da4ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 25 14:20:08 2021 -0700

    SDL_DINPUT_JoystickPresent() needs to do the full device enumeration
    
    It is called from WGI before the normal joystick detection has been run, so it needs to actually enumerate currently connected devices.
    
    We can skip the logic checking for other drivers also supporting this device, because that logic is duplicated from the call site.

commit ae6d9e343b33a700abd0ca5e526ca490af355fcb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 25 11:09:46 2021 -0700

    Correcting the name of the Amazon Luna Controller

commit 5042ab6f24bc7a11366baabc123a11522c7fdbd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 24 18:09:06 2021 -0700

    Added Linux and macOS mappings for the DirectInput mode of the Amazon Luna Controller

commit 5b051459edbfe1f6eb1f5c34f637a7320da1762f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 24 18:09:04 2021 -0700

    Fixed warnings on Windows

commit 99700a5c52c7e4747eefa2cc320c02dd9918c6f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 24 18:09:01 2021 -0700

    SDL: add Windows mappings for Luna controllers for USB DirectInput mode and BT. Note: the triggers do not seem to work in BT mode.

commit 33b84c8d15338eb50ca89de5caaa26b8069361e0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jun 24 23:10:56 2021 +0300

    s/memcmp/SDL_memcmp/ for conistency

commit 56b77b12bcf379552d15d619a02477968b658da5
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jun 4 19:51:58 2021 -0400

    cocoa: Implement FlashWindow

commit c2e8a791bbd80c4e631984a286fc5b5873ae412a
Author: scribam <scribam@users.noreply.github.com>
Date:   Sat Jun 12 16:20:47 2021 +0200

    SDL_windowsevents: add support for multiple mice

commit 7948c16df27c47e6a4b37211da0e5f5eb1f681a0
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 12 17:56:52 2021 -0500

    Pump events each time through the loop in SDL_WaitEventTimeout_Device()
    
    Not only is it more efficient to batch process pending events, it is
    necessary for correctness with the Win32 backend. WIN_PumpEvents() runs
    periodic updates of the cursor clip region and disambiguation of
    left and right shift keys in addition to standard event processing.

commit 105de64c2dba71de2c4c051f2b6ae5541ed0ac5a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 12 16:19:03 2021 -0500

    Only queue one wakeup event per wait
    
    Queuing more than one can lead to a spurious wakeup on the next wait.

commit c262569cd82b706839723d57d883974a190213f3
Author: Anthony Pesch <inolen@gmail.com>
Date:   Tue Jun 22 00:03:18 2021 -0400

    kmsdrm: fix KMSDRM_SetDisplayMode being called for the default desktop mode doing nothing

commit 98bda39186a2c12998236bf76dd71196ac7140a8
Author: Anthony Pesch <inolen@gmail.com>
Date:   Wed Jun 23 00:21:31 2021 -0400

    kmsdrm: sync the display's current mode with what's set in KMSDRM_CreateSurfaces

commit d031a24e0033d1bcfe034890f382f74fdb4fc1f6
Author: Anthony Pesch <inolen@gmail.com>
Date:   Tue Jun 8 00:39:04 2021 -0400

    kmsdrm: defer surface recreation inside of KMSDRM_SetWindowSize and
    KMSDRM_SetWindowFullscreen as is done in KMSDRM_SetWindowDisplayMode

commit 5a296e25895d0d57eabc1c71dae17274494c1b43
Author: Anthony Pesch <inolen@gmail.com>
Date:   Tue Jun 8 20:48:24 2021 -0400

    kmsdrm: avoid overriding the mode requested by SDL_SetWindowDisplayMode
    when recreating surfaces

commit 814285d6e30d1a84e6850038bc1fcc6b67ef4f35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 23 09:19:02 2021 -0700

    Workaround for crash on Apple Mac M1 hardware

commit bc141e4458a2709a10ac8121d062d1e2a88b5321
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Wed Jun 23 15:09:07 2021 +0100

    Remove -static-libgcc from sdl2-config output

commit a6715a20d8f3bcae5b82f699172f6c4f66f09d3f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 23 14:56:02 2021 +0300

    revert the previous -Wc,-static-libgcc patch:
    
    Someone reported breakage with that:
    https://github.com/libsdl-org/SDL/commit/bc51de2f87194e45eec94414bc248a6e7a0f9d26#commitcomment-52550755

commit bc51de2f87194e45eec94414bc248a6e7a0f9d26
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 22 18:11:24 2021 +0300

    regenerated configure script.

commit 23575a42e00a6af35668634d4277b08bb8fec6fd
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Jun 22 15:18:25 2021 +0100

    Ensure that libgcc is linked statically on Windows

commit 41fab8532d56f8b286195edbc2d9bf270fbe5ca0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 18 18:10:24 2021 -0700

    ControllerList: set the default deadzone for Ps5 controller back to same one as Xbox controllers. Too many users complained about drift.

commit a8b28939a66209aff4273c1c6c9db715ed4774cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 18 18:10:23 2021 -0700

    ControllerList: add more Xbox controllers from minidumps

commit 08eff56a5b4dfcc40a85acf1ce319515cc5bdd54
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 18 18:10:22 2021 -0700

    ControllerList: add Brooks Mars controller to PS4 controller list

commit afd100f02b7689e3b1cf441f7abf40f0313f328b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 18 17:37:46 2021 -0700

    Added support for the PowerA Fusion Pro 2 and the PDP Xbox Series X Afterglow and Blue controllers

commit 839387ed0a27bdaf6b9ea0ba7cea16950762078d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 17 22:09:13 2021 -0400

    video/dummy: Don't zero out the fake display mode before adding it.
    
    The SDL_zero call was in the wrong place as a historical accident, I think.

commit 268fbcd4602a4d238b7e7d565785c56859e14373
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 17 11:23:47 2021 -0700

    Fixed compiler warning on Visual Studio

commit d8dba5bcf3794d45a50e12f3ed77feddb742265a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 17 11:22:08 2021 -0700

    Added support for the Logitech G923 racing wheel

commit 7f261d3b7667978ced93a4fdc6aec2380df3d87f
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Jun 15 00:35:13 2021 -0400

    wayland: Fix returning to a window from fullscreen without calling SetWindowSize

commit 8da0dd17a1751a91c0831bbab49e4c4a4b6df2d0
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Jun 15 18:54:52 2021 +0300

    Oops. Renderer already queues viewport change

commit 1fc519880d0c3376bb826c372faaca23569d72ca
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Jun 15 18:49:55 2021 +0300

    Reset/re-apply viewport on frame start/target change. Fixes SDL_RenderSetLogicalSize on PSVita

commit 0cad302346f95da770e5e1dc818f585c4ab4530d
Author: Gianfranco Berardi <gberardi@gbgames.com>
Date:   Mon Jun 14 13:56:12 2021 -0500

    Removed reference to ant project.
    
    The android-project-ant directory does not exist anymore.

commit 2465444fba8cc2ab1f8ad9fde3b3d4ba2dbf8241
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jun 14 21:27:09 2021 +0300

    Add missing dependencies

commit bc7ac134db67392f85ba3dae99c0c191619f4bc0
Author: Phillip Trudeau <pmttavara@protonmail.com>
Date:   Fri Jun 11 09:22:41 2021 +0000

    Windows: Fix SDL_GetBasePath() truncating paths
    
    SDL_GetBasePath grows its path buffer for long paths, but GetModuleFileNameExW always truncates and succeeds,
    so `len` was always equal to (buflen - 1) which is 127. This is easily fixed by checking for (buflen - 1) instead of buflen.
    For paths longer than MAX_PATH, this problem sometimes got hidden by Windows path shortening ("C:\PROGRA~1\" etc.).
    
    Tested on Windows 10 x64 19041 and 10586.

commit db5cd8c694086c4bd54bee52cec48e4b8907fd51
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Sat Jun 12 14:57:34 2021 +0100

    joystick: virtual: Fix event injection for axes/hats
    
    SDL_JoystickSetVirtualAxisInner() and SDL_JoystickSetVirtualHatInner()
    did not properly sanitize the 'axis' and 'hat' parameters.
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit f3cf019ecb4eaf05808f7684126b5d57d9e2daf2
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Sat Jun 12 13:25:34 2021 +0100

    joystick: Add missing comma in joystick drivers list
    
    Without this comma it is impossible to enable both the Vita and Dummy
    drivers at the same time.
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit 98f2e38b26abd6f6470546e19fb33106ae988359
Author: nia <nia@NetBSD.org>
Date:   Sat Jun 12 09:42:54 2021 +0200

    Use <sys/endian.h> for endian detection on NetBSD
    
    Signed-off-by: Nia Alarie <nia@NetBSD.org>

commit bc9888c9b552cbd7f138ad36e743dab80e67f523
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 12 14:55:24 2021 +0300

    OS2_GetDisplayModes: malloc a new copy of mode's driver data.
    
    Based on a patch by Jochen Schäfer <josch1710@live.de> :
    
    The problem is, that in the initialization code uses the same structure for
    desktop_mode and current_mode.  See SDL_os2video.c:OS2_VideoInit():
    
      stSDLDisplay.desktop_mode = stSDLDisplayMode;
      stSDLDisplay.current_mode = stSDLDisplayMode;
      ...
      stSDLDisplayMode.driverdata = pDisplayData;
    
    Then, if you call GetDisplayModes, current_mode will added to the modes
    list, with the same driverdata pointer to desktop_mode.
    
      SDL_AddDisplayMode( display, &display->current_mode );
    
    When VideoQuit gets called, first the modes list gets freed including the
    driverdata, the desktop_mode gets freed.  See SDL_video.c:SDL_VideoQuit():
    
      for (j = display->num_display_modes; j--;) {
          SDL_free(display->display_modes[j].driverdata);
          display->display_modes[j].driverdata = NULL;
      }
      SDL_free(display->display_modes);
      display->display_modes = NULL;
      SDL_free(display->desktop_mode.driverdata);
      display->desktop_mode.driverdata = NULL;
    
    So, the display_modes[j].driverdata gets freed, but desktop_mode->driverdata
    points to the same memory, but is not NULL'ed. When desktop_mode->driverdata
    gets freed the memory is already freed, and libcx crashes the application on
    SDL_Quit.

commit d28437de3c74d2514fc96d4e0da1dec4113e8929
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 12 08:00:50 2021 +0300

    SDL_keyboard.c: Add bounds guards when assigning to the scancode array.
    
    Based on a patch by Jochen Schäfer <josch1710@live.de> :
    On a T420 pressing the ACPI button for volume control, big scancodes
    were emitted. This was causing an overflow, because missing guards.

commit eb15b4e962dc388fae85f89915604a219ca65288
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jun 11 23:40:09 2021 -0400

    wayland: Drop SwapWindow calls for hidden windows

commit 37d35a3e34fabbd9df2ba045708891b656207161
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 11 21:02:49 2021 -0400

    kmsdrm: hook up KMSDRM_GLES_DefaultProfileConfig for use.
    
    Fixes #3678.

commit 3c028141946aa9466f8c21fad2546a1cc2467932
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jun 10 13:26:38 2021 +0300

    Update docs and fix typos

commit bbdd08e0b29ac08a6cb4ff83e209d3298b711a51
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jun 10 13:20:39 2021 +0300

    Build without PIB support by default and add flag to enable it

commit a4442476dfdfaec23a24c19e213ab4e9101264d1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jun 10 12:14:14 2021 +0300

    Cleanup dead and duplicate code

commit c2b8b55634849ed5ce3b5d6a9236f240e19ae4de
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jun 10 12:06:28 2021 +0300

    Older api, not needed

commit dd2a28582561b8ab74562deed5786f6624bb28eb
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Thu Jun 10 12:00:56 2021 +0300

    Remove leftovers

commit 2f248a2a31c3323ecc37c00ad5e269e347ae392a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jun 11 04:00:32 2021 +0300

    SDL_cocoaevents.m: fix build against SDK < 10.12 after commit 0dd7024d.

commit f5122377c936905d478250a4d142b55d924ebdda
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Thu Jun 10 14:06:32 2021 +0300

    Move SDL_IsXInputDevice check above actual joystick allocation

commit 766d81ec866086f172e6c25687ed23d072fd2b93
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Thu Jun 10 14:01:04 2021 +0300

    Rewrite SDL_DINPUT_JoystickPresent method to avoid costly IDirectInput8_CreateDevice calls

commit a6da2fbf73c845943e31887020d0b74493832e30
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Tue May 25 12:33:23 2021 +0300

    Rename haptic methods to avoid confusion with joystick:
    `SDL_DINPUT_MaybeAddDevice`->`SDL_DINPUT_HapticMaybeAddDevice`
    `SDL_DINPUT_MaybeRemoveDevice`->`SDL_DINPUT_HapticMaybeRemoveDevice`
    `SDL_XINPUT_MaybeAddDevice`->`SDL_XINPUT_HapticMaybeAddDevice`
    `SDL_XINPUT_MaybeRemoveDevice`->`SDL_XINPUT_HapticMaybeRemoveDevice`

commit 73dc68a7ae8832e7665356d7dfc20371e0b6b93e
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Wed May 19 17:52:08 2021 +0300

    Simplify and cleanup DirectInput joystick backend code:
    - Do not call IDirectInputDevice8_QueryInterface(device, &IID_IDirectInputDevice8,...) on DIRECTINPUTDEVICE8 device
    - Get joystick VendorID and ProductID via IDirectInputDevice8_GetProperty(.., DIPROP_VIDPID, ..) call instead of messing with DIDEVICEINSTANCE.guidProduct
    - Normalize HID device interface path to upper case for stable operation of XInput check
    - Remove useless RawInput calls in SDL_IsXInputDevice() - just check for "IG_" string in HID device interface path that we already have
    
    There shouldn't be any observable behavior changes.

commit f2f759dca34863a72eed8640ee90a4bf0472db6e
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Fri Feb 26 15:34:34 2021 +0200

    Remove not used DirectInput ignored_devices list

commit adc2d362baf96e2b133d63e5dfe6c178a458c8ac
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Fri Feb 26 15:33:41 2021 +0200

    Remove outdated and not used WIN_IsXInputDevice code

commit 0e62926ec55e6bb20b09b6ea4695d23d0ac6e1d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 10 16:28:32 2021 -0700

    Fixed crash if vendor or product strings are empty

commit 25fc40b0bd44c484051064bc6b945ea9943f88dd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 10 13:56:22 2021 -0400

    stdinc: Silence clang warning for -Wimplicit-fallthrough.
    
    In a more ideal world, we'd use the appropriate `__attribute__` here, but
    it's one thing in a public header that probably shouldn't be there at all, so
    this is good enough for now.
    
    Fixes #4307.

commit e65a6583201ee1a9a3bc3064655b186fc16ef719
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 9 22:10:20 2021 -0400

    x11: Add a hint to force override-redirect.
    
    Fixes #3776.

commit 642fa0e3cf1b6a4b999a787d373e4a3a519bceca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 9 21:18:11 2021 -0400

    configure: Enable KMSDRM target by default.

commit 56e96254c23105d7c7657f32d50661435d838b6a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 9 13:38:05 2021 -0400

    build-scripts: modernized gcc-fat.sh for Big Sur and ARM64.
    
    Put these in "clang-fat.sh" and "clang++-fat.sh" in case someone still needs
    32-bit x86 support from the old scripts.
    
    Fixes #4350.

commit cb5e86353b97a391d865ad12974b637242289f27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 8 13:15:24 2021 -0700

    Fixed crash after reinitializing libusb HID support

commit c33e3c15fb542a972e1ac803fe7f579c0108573a
Author: Eric Wasylishen <ewasylishen@gmail.com>
Date:   Mon Jun 7 18:24:57 2021 -0600

    testwm2: draw various debug logging into the window itself
    
    Renderer output size, window position/size, display bounds, etc.
    Uses new SDLTest_CommonDrawWindowInfo function in test_common.

commit e13b43ac212a578836943d59a9dd17ac86313835
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 5 12:44:08 2021 -0500

    Don't skip sending wakeups for the current thread
    
    We can be in a situation where we receive a win32 hook callback on the same
    thread that is currently waiting. In that case, we do still need to trigger
    a wakeup when an event is pushed because the hook itself won't necessarily
    do that (depending on what we return from the hook).

commit b992b915e520fed9e8558c9e6d8ca66370c04e64
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 5 11:57:30 2021 -0500

    Optimize SDL_WaitEventTimeout() for the SDL_PollEvent() case
    
    There's no sense in doing all the setup for waiting if we're just polling.

commit 85b51e6c92d4d2c485f995654eb13bba1a0cc1a4
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 5 11:46:47 2021 -0500

    Fall back to polling normally if not operating the win32 message loop
    
    In this condition, we cannot safely wait/wake on events.

commit e13d5df00b2a4d17c899b6ff104aa53597bfb13e
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jun 5 11:41:55 2021 -0500

    Call SDL_SendWakeupEvent() directly from SDL_PeepEvent()
    
    SDL_PeepEvent() is a documented public API, so we must properly support
    waking a waiting thread in SDL_WaitEventTimeout() with SDL_PeepEvent().

commit d956636c85aafc055d37153d52370e9b1c2c5929
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Jun 4 18:39:47 2021 -0400

    wayland: Implement FlashWindow

commit 64724db0a1ffac7c3332df66a942d3ba27b2dc0b
Author: Jupeyy <jupjopjap@gmail.com>
Date:   Fri Jun 4 19:55:30 2021 +0200

    Implement bare minimum for SDL_FlashWindow

commit 64c40b90282d787cc372eec2a822e18cf807cb3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 4 14:34:21 2021 -0700

    Updated copyright date

commit 37b093eaf2f48171c3633039118cb6369c6992cf
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 5 00:05:56 2021 +0300

    test/checkkeysthreads: build fixes, and add to os2 makefile.

commit 0dd7024d55019182b9e92d65221824a7a4dac992
Author: Francesco Abbate <francesco.bbt@gmail.com>
Date:   Fri Mar 12 21:58:20 2021 +0100

    Modifies WaitEvent and WaitEventTimeout to actually wait instead of polling
    
    When possible use native os functions to make a blocking call waiting for
    an incoming event. Previous behavior was to continuously poll the event
    queue with a small delay between each poll.
    
    The blocking call uses a new optional video driver event,
    WaitEventTimeout, if available. It is called only if an window
    already shown is available. If present the window is designated
    using the variable wakeup_window to receive a wakeup event if
    needed.
    
    The WaitEventTimeout function accept a timeout parameter. If
    positive the call will wait for an event or return if the timeout
    expired without any event. If the timeout is zero it will
    implement a polling behavior. If the timeout is negative the
    function will block indefinetely waiting for an event.
    
    To let the main thread sees events sent form a different thread
    a "wake-up" signal is sent to the main thread if the main thread
    is in a blocking state. The wake-up event is sent to the designated
    wakeup_window if present.
    
    The wake-up event is sent only if the PushEvent call is coming
    from a different thread. Before sending the wake-up event
    the ID of the thread making the blocking call is saved using the
    variable blocking_thread_id and it is compared to the current
    thread's id to decide if the wake-up event should be sent.
    
    Two new optional video device methods are introduced:
    
    WaitEventTimeout
    SendWakeupEvent
    
    in addition the mutex
    
    wakeup_lock
    
    which is defined and initialized but only for the drivers supporting the
    methods above.
    
    If the methods are not present the system behaves as previously
    performing a periodic polling of the events queue.
    
    The blocking call is disabled if a joystick or sensor is detected
    and falls back to previous behavior.

commit 40e5ce7fe518c0e5a98735d1165a306642ac0e62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 4 13:23:54 2021 -0700

    This delay is no longer needed on Steam Link hardware

commit cd67f42d8f05ef4410955c0c1feedfa62b586173
Author: Andrew Murray <andrew@anamnesisgames.com>
Date:   Fri Jun 4 12:20:47 2021 -0400

    add Linux mapping for brook fighting board (#4416)
    
    * added controller mapping for Brook fighting board
    
    * fixed formatting on Brook Universal Fighting Board controller mapping entry

commit 89fd9821dea5c7b8cbd043efd01bc68156b378ee
Author: Sjoerd Simons <sjoerd@collabora.com>
Date:   Wed May 26 21:33:25 2021 +0200

    Add controller mapping for Atari vcs controllers
    
    This add controller mappings for the Atari vcs (modern) controller as
    well as the classic controller, for both bluetooth and USB connectivity.
    
    Signed-off-by: Sjoerd Simons <sjoerd@collabora.com>

commit de4ba6ebc05ea6ff48a4ec6cb4731cd97b109949
Author: Sjoerd Simons <sjoerd@collabora.com>
Date:   Thu May 27 12:41:41 2021 +0200

    Ignore the device version for Atari vcs controllers
    
    At least on bluetooth the guid user the version reported by the
    bluetooth device. Which for Atari vcs controllers is the firmware
    version. However the mapping will stay the same regardless of firmware
    version, so ignore the version entirely to avoid needing a new mapping
    entry for each firmware version.
    
    Signed-off-by: Sjoerd Simons <sjoerd@collabora.com>

commit 6de33c09455312c67d8ee808fa2813b1d2a42122
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 3 09:05:33 2021 -0700

    Clarify why we're skipping Game Controller framework supported devices in hid.c

commit 28da6c5ddb98b92b1cc0e92876f5044dc3648190
Author: Patrick Hogan <pbhogan@gmail.com>
Date:   Thu May 27 14:42:03 2021 -0500

    Have HIDAPI skip MFI supported HID devices on macOS to avoid duplicate devices.

commit 2af3f64ecfaf1b41ed000e277c796808d717ecb9
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jun 2 14:37:09 2021 -0400

    wayland: Activate the window on first ShowWindow, if possible

commit 151f953815f3fba7b03ac63c76faf9e197f597a5
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Jun 2 11:41:44 2021 -0400

    wayland: Implement RaiseWindow with xdg-activation

commit f498c281e13473bcfa8fcbe7161a8a1ef02dc117
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 2 14:10:50 2021 +0300

    fixed build with SDL_JOYSTICK_RAWINPUT enabled after commit b81969d46f4b
    
    See: https://github.com/libsdl-org/SDL/pull/4388#issuecomment-852713792

commit f5b87273e1f15af8ce1c1cdf5849938e569255c2
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Jun 2 08:32:43 2021 +0200

    Fixed bug #4397 - update IOS documentation

commit 4522cb1df9f51b55c9795956adb801cb5177c99b
Author: Kyle Schaefer <kylefossil10@gmail.com>
Date:   Tue May 25 03:17:03 2021 -0700

    Changing variable  from float to int, this way we can check it's value without having to do an unnecessary conversion. Then do explicit conversions later on if we need.

commit c289bad9007cb672c994f726d967f6e5682f200d
Author: Kyle Schaefer <kylefossil10@gmail.com>
Date:   Mon Mar 22 11:22:31 2021 -0700

    In x11, GetDisplayDPI can give incorrect or unusable DPI information. Using XGetDefaults to get the Xft DPI if it's available and returning that. This could allow you to figure out DPI scale.

commit 6a2af48ad73f8fc4e129ae7fc60589c82923224d
Author: Nicolas Caramelli <caramelli.devel@gmail.com>
Date:   Thu May 6 15:43:16 2021 +0200

    CMake: Generic check for desktop GL and EGL on Linux systems

commit fd121b5ec0ea85f32aa0f5af256269cfab49e35a
Author: Benson Muite <bkmgit@users.noreply.github.com>
Date:   Thu May 13 17:46:55 2021 +0300

    development list has moved to forum

commit ded023870d40f909fb224fbaf42a6d3c1d96d7f6
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun May 16 17:16:54 2021 +0600

    Make CMake script more accurate to autoconf script
    
    DBus, IBus and inotify is now able to be used outside Linux like in configure.
    KMSDRM input is now working on FreeBSD with CMake compilation.

commit d32440359a50f1449f2753173b286c7e04af54ac
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon May 17 01:24:35 2021 -0400

    wayland: Add support for maximized/restored events

commit fc508eabe2ed808c4b2258bdbbab5940b8c9a0f8
Author: Anthony Pesch <inolen@gmail.com>
Date:   Sun May 23 15:59:20 2021 -0400

    kmsdrm: remove redundant modeset_pending flag
    
    this variable was added in commit 2067a7db8e4a36ba40ab34a55b3166ca28638a60 and
    ultimately tracks if this is a surface's first present. checking if the current
    bo is NULL provides the same functionality and cuts down on a redundant piece
    of state potentially getting out of sync in the future

commit 4c965b7a8d4228640377e27d57d66ff95decb6da
Author: Anthony Pesch <inolen@gmail.com>
Date:   Sun May 23 16:09:27 2021 -0400

    kmsdrm: fix SetDisplayMode binding the the wrong surface / context
    
    SetDisplayMode needs to recreate the EGL surfaces, which then need to be
    bound along with the correct context in each rendering thread
    
    commit 3a1d7d9c9ac670bf35cfa8ebf3706a1e2a3e5de4 removed this behavior which
    has broken using SetDisplayMode when rendering with multiple contexts
    
    the commit message was rather vague, but if the surfaces do need to be
    created immediately, this process probably needs to be split such that
    surface is created immediately, but the binding is deferred

commit 0219928dd5416be9dfb21217c36f4d1b794e4b80
Author: Anthony Pesch <inolen@gmail.com>
Date:   Sun May 23 16:06:40 2021 -0400

    kmsdrm: honor mode previously set by SDL_SetWindowDisplayMode when enabling fullscreen
    and remove duplicate SDL_WINDOWEVENT_RESIZED event
    
    commit 2067a7db8e4a36ba40ab34a55b3166ca28638a60 made SDL_SetWindowSize and
    SDL_SetWindowFullscreen modify the display mode previously set by a call to
    SDL_SetWindowDisplayMode
    
    as far as I understand the SDL API, calling SDL_SetWindowDisplayMode followed
    by calling SDL_SetWindowFullscreen(..., SDL_WINDOW_FULLSCREEN) is the correct
    way to mode set / switch to fullscreen
    
    this change restores that functionaliy when switching to SDL_WINDOW_FULLSCREEN,
    but other cases are still modifying the display mode set by the user. rather
    than modifying the display mode set by the user, it seems this logic inside of
    KMSDRM_ReconfigureWindow should be pushed further down into KMSDRM_CreateSurfaces
    (as it was originally) to only modify the final mode that's set (based on the
    fullscreen flags), but not override the mode requested by the user

commit fd5de93a02aa9e717610cdc84a500468927202e3
Author: Anthony Pesch <inolen@gmail.com>
Date:   Sun May 23 16:05:39 2021 -0400

    kmsdrm: fix gbm surface dimensions not matching the mode being set
    
    commit 2067a7db8e4a36ba40ab34a55b3166ca28638a60 introduced new surface_w and surface_h
    variables which were passed to gbm_surface_create rather than the dimensions from the
    drmModeModeInfo structure. commit 5105ecf8b1b37ab4e4b8344550c90dd69f49909e further
    refactored this code and no longer synchronized these variables inside
    KMSDRM_SetDisplayMode, breaking it
    
    this change removes the variables since they're seemingly redundant to begin with

commit 30359a689ff6af67d507ed1887503b1d57bad2d1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Jun 1 20:11:59 2021 +0200

    Android: document workaround to use JNI on native thread (see bug #4406)

commit b63cb822bf02ffa53e7a25755ff4606af0417389
Author: Timo Gurr <timo.gurr@gmail.com>
Date:   Sun May 30 01:57:56 2021 +0200

    Added T500RS to known wheel list

commit b81969d46f4bb6163757c200ace9804db1855c69
Author: Dimitriy Ryazantcev <dimitriy.ryazantcev@gmail.com>
Date:   Mon May 17 14:50:33 2021 +0300

    Be more explicit about Xbox 360/One device ids.
    
    When Xbox One/Series Controllers are connected via USB on Windows they all are using `XBOXGIP` driver and produce a special ProductID `0x02FF` (GIP software PID) for any connected controller.
    
    On the other hand `Xbox 360 Wireless Controller Reciever` (PID 0x0719) is using `XUSB` driver and produces special ProductID `0x02A1` (XUSB software PID) for each connected Xbox 360 Wireless Controller.
    
    Also fixed Xbox One Series X Controller comment.

commit 86ee383fdd0a643e9c4edd6789d4a52290a470ab
Author: Per Nyblom <perny843@hotmail.com>
Date:   Tue May 25 09:59:45 2021 +0200

    Removed duplicate SDL_AtomicGet()

commit fed846508577419ec0bacb6d1bbbb9074c83c65f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 27 10:40:41 2021 -0400

    loadbmp: Attempt to handle small palettes better.
    
    Only adjust the biClrUsed field if it is set to zero in the bitmap, and make
    some effort to make sure we don't overflow a buffer in any case.
    
    This was triggering an issue with the sailboat bmp used for testpalette.c in
    SDL 1.2, which is an 8-bit paletted image with 66 palette entries instead of
    256. See discussion at https://github.com/libsdl-org/sdl12-compat/issues/63
    
    This change might be a problem, but there's no indication this code, which
    originally landed in SDL_image 17 years ago with a large rewrite, is actually
    fixing a specific issue. I'm also not sure we should actually make an effort
    to accept a bmp that has a biClrUsed field that is both non-zero and _also_
    incorrect.

commit db146e66c6b39db32caedc4831029b3d94a40ab7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 25 10:34:04 2021 -0700

    Fixed warnings building with Visual Studio

commit 3fcaf5b4b30841d3d7a7e18348838d89d6c9e25f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 25 10:33:30 2021 -0700

    Fixed incorrect axis scaling for Nintendo Switch controllers

commit 75725608f3017feedd06165f9d559bff36c33c45
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 25 14:56:56 2021 +0300

    SDL_thread.h: move libc header includes before begin_code.h.

commit 7a7cba4b73af170a4be9399bc5095247dabd67ce
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 25 14:56:37 2021 +0300

    config.guess, config.sub: fix permissions

commit 157c3f8097403c08cc9747082de37276fb2ab28c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 21 09:45:08 2021 -0700

    [SDL] Minimize number of system calls when handling WM_INPUT raw input messages.
    
    Details:
    Currently doing 4 system calls per WM_INPUT message, which can cause the thread handling the message loop to be swapped out several times:
    * GetProp - to get window data from the window handle
    * GetRawInputData - to retrieve the raw input data
    * 2 calls to GetMessageExtraInfo - to ignore synthetic mouse events generated for touchscreens
    
    In this change:
    * Replaced GetProp by iterating the list of windows maintained by SDL (with a fallback to GetProp). Note that this will affect all messages and not just WM_INPUT
    * only calling GetMessageExtraInfo if a touchscreen has been detected
    
    Fix for https://jira.valve.org/browse/CSGO-4855
    @saml

commit dbbc725f5e1ca247144e6974227cb4122ec50c2e
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed May 19 14:25:48 2021 +0600

    Remove WSCONS mouse scaling

commit 2aa14b380626e0207c3decb83b84e18bf54bb74f
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed May 19 14:24:58 2021 +0600

    Add missing key to WSCONS-to-SDL conversion table

commit c63a62ae49cd20e46786a4437edac09ff5c24c16
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 18 23:51:50 2021 +0300

    updates to config.guess and config.sub from mainstream.

commit 333c8e75f1aea7e8cc4a836a1d4e87ef06e845e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 17 11:54:05 2021 -0700

    The PS5 driver supports Joystick LED

commit b5b7804ed42b325fa34ea9ef262f7a604334a1b5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat May 15 00:50:20 2021 +0300

    minor update to os2 makefile. (binary output doesn't change.)

commit 646ddfb782dde9463dfb8001fc282d8d3f175eeb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat May 15 00:22:50 2021 +0300

    minor watcom build fixes.

commit be5356af932fb9e4db9c97add00e036aeeb6eebf
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri May 14 14:44:13 2021 -0400

    winrt: Fix support for multiple simultaneous mouse button presses

commit 62a562dea20728726a497b4af49d591a2fa385de
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed May 12 23:37:18 2021 +0200

    X11: use x11sym loaded functions (see bug #3978)

commit 531d83bf6a140fcb5a858c9f23c76198016db869
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed May 12 23:13:48 2021 +0200

    X11: allow using touchscreen, while pointer is grabbed (see bug #3978)

commit ddc6be355965c2cd2782ab9c2620902b1b5b6021
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed May 12 20:43:10 2021 +0600

    KMSDRM on Dragonfly BSD doesn't work without being root

commit 9e1d7baef13c98d10f9138e3578be3fe63a6233b
Author: Kimplul <kimi.h.kuparinen@gmail.com>
Date:   Wed May 12 17:43:39 2021 +0300

    Added T300RS to known wheel list

commit e1db4b82ecf4b2420840b7b31a666563b2656481
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 11 14:08:17 2021 -0400

    egl: Don't crash if we failed halfway through SDL_CreateWindow.

commit f2f451a59dd380799b4e5a23aca689985ba28869
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon May 10 13:29:54 2021 -0400

    wayland: Call SetWindowBordered at the end of ShowWindow

commit c5dd9964c1527c26dde57d88b5d9599094a01627
Author: Fredrick Brennan <copypaste@kittens.ph>
Date:   Wed Apr 7 12:14:16 2021 -0400

    Copied X11 error handler code from SDL_x11opengl.c
    
    Avoids needing to malloc to hold the error string.

commit b3b4677e3295e49fc37e1400c3b076c4617f162d
Author: Fredrick Brennan <copypaste@kittens.ph>
Date:   Wed Apr 7 11:17:52 2021 -0400

    (X11) Set _NET_WM_NAME properly, fixes Unicode window titles
    
    Removes deprecated code meant to support extremely ancient, pre-UTF-8
    versions of Xorg. Uses new xlib API's for doing this same thing.
    
    Closes #4288.

commit f4ab1c94f90740c55cdf6e8510c368dd24931843
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 10 13:08:34 2021 -0400

    gamecontrollerdb: Add entry for the 8BitDo Receiver for Linux.
    
    Fixes #3048.

commit bedc509afcf49a358e79a01b23ab9ff6cf53c57c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 10 13:04:59 2021 -0400

    gamecontrollerdb: added entry for PowerA XBox One Controller for Linux.
    
    Fixes #3910.

commit efbb6ff9d70e791d755c9ece95f248d1055b10ab
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon May 10 12:42:28 2021 -0400

    wayland: Create the server decorations after the toplevel has been configured

commit 9dc97afa7190aca5bdf923ed13d723197c083547
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 8 12:39:50 2021 -0400

    cocoa: Report an error if SDL_SetClipboardText() isn't using UTF-8 encoding.
    
    Fixes #4110.

commit 107db2d89953ee7cc03417d43da1f26bd03aad57
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:43:35 2021 -0700

    Enable TV game mode by default on Android

commit 9231f1f1cf375d18ff9aca585d71abcb98ec14e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:29:03 2021 -0700

    Added support for the PS5 controller on iOS and tvOS

commit 2ad73db6e21aef7a64ce5cd39184fca8886a0486
Merge: e589810cc 889cebb7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:57 2021 -0700

    Merge commit '889cebb7c20d4195e5d4ac344a2175f2490354cc' into main

commit e589810cc45c2a3f31dc2ecae90365916e8162e0
Merge: 6d4991b87 31637ddee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:55 2021 -0700

    Merge commit '31637ddeea1e302c77193341b2006d45dc54de98' into main

commit 6d4991b87b53f26b38b21648059552d1e2a5b4d1
Merge: e8eb0b15f f309d0649
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:53 2021 -0700

    Merge commit 'f309d0649d37022ad49bc468c77dd87bf82f261b' into main

commit e8eb0b15fe5cd43eb0d9c4d918e380e39f017018
Merge: 19a9e81c3 58884e4c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:51 2021 -0700

    Merge commit '58884e4c1bb455db90a35df3f7480cfd355eb8c6' into main

commit 19a9e81c32a4f9d59cbd30f56289321a4e30e435
Merge: 71e45a0b9 c69fde348
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:50 2021 -0700

    Merge commit 'c69fde348fafcb90200a148b711137c464ffa7de' into main

commit 71e45a0b9d2ffcd72b734fc2ab7659599e621a61
Merge: 981532fbd 006378b92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:48 2021 -0700

    Merge commit '006378b9213e3e04ea2b9c591afe2a44e75e6867' into main

commit 981532fbd27f89ac6d7fa5e661bf2835ae00987f
Merge: 95b7b879e 424bbaec0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:47 2021 -0700

    Merge commit '424bbaec069f0d94857095dcdfacba6246282936' into main

commit 95b7b879eece497095f89de32adca2a053ed7ec8
Merge: 8b8956daa 209285503
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:45 2021 -0700

    Merge commit '20928550350d4d4c5d78f98b61e7e08d219a5475' into main

commit 8b8956daa7e2e2b359f5979c8a7c61a5febdb677
Merge: 069a68a5c 3d47ddc42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:43 2021 -0700

    Merge commit '3d47ddc422de1a4209525a759b3bc46a4ac69116' into main

commit 069a68a5c5ae5153de16222afd9046bb3a4acb8b
Merge: 12b7b8216 7b284dbb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:42 2021 -0700

    Merge commit '7b284dbb34a8c34f5d6f79c58c860c9f7894fd56' into main

commit 12b7b8216978d76cb0b675b66613fc0d3ed88dee
Merge: 2b203add2 9161f9516
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:40 2021 -0700

    Merge commit '9161f95166f3d8e42248c1156e35255d4ebdc6a0' into main

commit 2b203add2904e9a2de0b38c8e538d403be25cc6d
Merge: 1e208c641 c54c16d35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:38 2021 -0700

    Merge commit 'c54c16d353f206162cdbb125c0847b4645e096a3' into main

commit 1e208c6418d1f7f8bea0c796d88ffbd727855e48
Merge: f1fa836b2 227021b64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:37 2021 -0700

    Merge commit '227021b6470d07f86e209d89f176ec8e6d952a17' into main

commit f1fa836b2e7c41d9d66af292287bcf201086b8b8
Merge: cf1e85030 13472cec6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:35 2021 -0700

    Merge commit '13472cec6764aec2e06a3c66ec1b139baa680aa3' into main

commit cf1e850303872e31039411892ecf80ac65f9c1d4
Merge: 63015e44c a74f888ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:33 2021 -0700

    Merge commit 'a74f888ff9ed1254e9b9965a27d68e0526e2c0f8' into main

commit 63015e44c7a9e37af830db1132d102e7e7a608cf
Merge: 0ebf56b5f 8ac0fb52c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:32 2021 -0700

    Merge commit '8ac0fb52cb13e5856aa7f4a3fd0598d3ec58283f' into main

commit 0ebf56b5f1373296825d82d27aa43088476b0aff
Merge: 5a95ff800 1f3df900f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:30 2021 -0700

    Merge commit '1f3df900f919e7177e480e63c07447db232564a1' into main

commit 5a95ff80029eb5af02b33fb742ae7d5307003144
Merge: 572dfb4f6 fcbf19b76
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:28 2021 -0700

    Merge commit 'fcbf19b764a9f6fed1db6a1d79a2f2f3fa1338d6' into main

commit 572dfb4f6e4aa0dcaab0a501ac65a4a81f76e81c
Merge: a734ccec9 c93e3b360
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:27 2021 -0700

    Merge commit 'c93e3b36074ddb2ed986cbacc5e9d4f3a60db343' into main

commit a734ccec9a769a442c9159b050a66521563752e0
Merge: 4c7f8a749 b62642974
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:25 2021 -0700

    Merge commit 'b62642974595976a0c47c5b854eea51b2703fbeb' into main

commit 4c7f8a7497a4bf7f7b893f33369e7bf867a0a2e9
Merge: 9cf1b3916 f86951853
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:23 2021 -0700

    Merge commit 'f8695185331460106f34286ebe466cb605f85bb6' into main

commit 9cf1b39162ef26f3648a8b060da404a3968782cd
Merge: 8527c583f 21349901e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 7 12:28:22 2021 -0700

    Merge commit '21349901ea250483600cbe4771d865cc06f6b538' into main

commit 889cebb7c20d4195e5d4ac344a2175f2490354cc
Author: Henk Kalkwater <chris@netsoj.nl>
Date:   Wed May 5 14:08:30 2021 +0200

    Wayland touch inputs send normalized coords
    
    Resolves #4361

commit 31637ddeea1e302c77193341b2006d45dc54de98
Author: Nicolas Caramelli <caramelli.devel@gmail.com>
Date:   Tue May 4 14:59:29 2021 +0200

    Generic check for desktop GL and EGL on Linux systems

commit f309d0649d37022ad49bc468c77dd87bf82f261b
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue May 4 11:23:54 2021 -0400

    include: Document timing issue with SDL_GetWindowBordersSize

commit 58884e4c1bb455db90a35df3f7480cfd355eb8c6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue May 4 00:23:40 2021 +0300

    SDL_audiocvt.c: fixed MSVC double->float conversion warnings.

commit c69fde348fafcb90200a148b711137c464ffa7de
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun May 2 16:43:01 2021 -0400

    wayland: Maximize/Restore should set the relevant window flags.
    
    Also, Maximize should be ignored for fixed-size windows.

commit 006378b9213e3e04ea2b9c591afe2a44e75e6867
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun May 2 18:30:32 2021 +0100

    fix NULL frame_callback access

commit 424bbaec069f0d94857095dcdfacba6246282936
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sat May 1 18:53:12 2021 +0100

    wayland: destroy frame callback when window is destroyed

commit 20928550350d4d4c5d78f98b61e7e08d219a5475
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat May 1 09:00:24 2021 -0400

    wayland: Guard surface_frame_listener for OpenGL, document why it exists

commit 3d47ddc422de1a4209525a759b3bc46a4ac69116
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat May 1 08:57:37 2021 -0400

    wayland: Use refresh_rate to calculate max_wait in SwapWindow

commit 7b284dbb34a8c34f5d6f79c58c860c9f7894fd56
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 30 22:01:48 2021 +0200

    EglChooseConfig: choose an accelerated configuration
    
    - especially because we can be promoted to true color 888
      make sure we don't select a potentially software implementation
    
    - hopefully fix bug #1482 (EGL ChooseConfig selects software renderer on Android)

commit 9161f95166f3d8e42248c1156e35255d4ebdc6a0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Apr 27 02:25:57 2021 -0400

    egl: Reject attempts to set negative swap intervals

commit c54c16d353f206162cdbb125c0847b4645e096a3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 30 13:19:36 2021 -0400

    wayland: don't hang in SDL_GL_SwapBuffers if the compositor is ghosting us.
    
    If you hide a window on Mutter, for example, the compositor never requests
    new frames, which will cause Mesa to block forever in eglSwapBuffers to
    satisfy the swap interval.
    
    We now always set the swap interval to 0 and manage this ourselves, handing
    the frame to Wayland when it requests a new one, and timing out at 10fps just
    to keep apps moving if the compositor wants no frames at all.
    
    My understanding is that other protocols are coming that might improve upon
    this solution, but for now it solves the total hang.
    
    Fixes #4335.

commit 227021b6470d07f86e209d89f176ec8e6d952a17
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Apr 30 11:25:20 2021 +0300

    SDL_windowsmessagebox.c (MessageBoxDialogProc): fix calling convention.

commit 13472cec6764aec2e06a3c66ec1b139baa680aa3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 30 09:48:29 2021 +0200

    Fixed bug #4228: move from jcenter() to mavenCentral()
    SDL can use relinker. If it's enabled on your project, you need to update to version 1.4.3

commit a74f888ff9ed1254e9b9965a27d68e0526e2c0f8
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 29 22:25:00 2021 +0200

    Fixed bug #4337 - compilation of 'SDL_vulkan_utils' fails with 'VK_ERROR_INCOMPATIBLE_VERSION_KHR' undeclared

commit 8ac0fb52cb13e5856aa7f4a3fd0598d3ec58283f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 29 09:29:02 2021 +0200

    OpenSLES: CloseDevice() is called at higher level, if OpenDevice() fails
    - explicit initialization of static variables

commit 1f3df900f919e7177e480e63c07447db232564a1
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Apr 28 23:40:26 2021 +0200

    Error missing 'flags' initialization (see bug #2881)

commit fcbf19b764a9f6fed1db6a1d79a2f2f3fa1338d6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Apr 28 21:04:47 2021 +0200

    AAudio: make sure stream is not null to prevent crash in RequestStop (see #3710)

commit c93e3b36074ddb2ed986cbacc5e9d4f3a60db343
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Wed Apr 28 10:43:28 2021 +0200

    Fixed bug #2881 - SDL_RLEsurface may encode RGB888 if it has no color key (Thanks Simon Hug)
    To encode with BLEND mode, it needs a valid alpha channel

commit b62642974595976a0c47c5b854eea51b2703fbeb
Merge: f86951853 8527c583f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 27 11:10:41 2021 +0200

    Merge remote-tracking branch 'refs/remotes/origin/main'

commit f8695185331460106f34286ebe466cb605f85bb6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 27 11:07:51 2021 +0200

    Audio: normalize conversion Stereo to 5.1, Quad to 7.1, 5.1 to 7.1 (bug #4104)

commit 21349901ea250483600cbe4771d865cc06f6b538
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 27 10:57:48 2021 +0200

    Audio: convert 5.1 to 7.1, use right-surround for r-front and r-back (see #4104)

commit 8527c583f4b74c282e86fc1cbf85457a41456cd8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 27 01:36:23 2021 -0400

    cocoa: Fix recreated windows that are both borderless and resizable.
    
    These would accidentally get a titlebar because the "borderless" style mask
    is zero but the resizable attribute adds a bit. I assume this happens because
    you used to need window decoration to resize a window in macOS, but this
    changed in later releases.
    
    This only caused problems when recreating a window (you had an
    SDL_WINDOW_OPENGL window and tried to create a Metal SDL_Renderer on it, etc).
    
    Fixes #4324.

commit 40210f8945932473e2c6f43eebf87b2f864c0715
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Apr 26 15:54:14 2021 -0400

    winrt: Always use a thread for joystick support

commit 2fdbae22cb2f75643447c34d2dab7f15305e3567
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 26 18:43:28 2021 -0400

    cocoa: Remove mouse event tap.
    
    It doesn't appear to work anymore, and was disabled by default anyhow, since
    the needed APIs are forbidden on the Mac App Store.
    
    A better solution to lock the mouse to the window on macOS would still be
    welcome. CGAssociateMouseAndMouseCursorPosition() works fine for relative
    mouse mode, this was just a question of SDL_SetWindowGrab(). As it stands
    now, a grabbed mouse can briefly break out of the window, causing varying
    degrees of chaos.

commit 9727655b896b69e73b187815d0a4e1fc68701128
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Apr 26 14:22:19 2021 +0200

    SDL_test_common: add other window flags: --shown, --hidden, --input-focus, --mouse-focus

commit d62ebec2600c105ddff0a07a95ac3a20361582dc
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Apr 26 14:10:39 2021 +0200

    SDL_test_common: replace 'resize' by 'resizable'

commit 1f482174b5340a01d55b8f611b636c04871d8f4f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 25 12:44:35 2021 -0400

    x11: Mark backing_store as NotUseful when creating windows.
    
    This can give some performance boost, and save some resources, as there's no
    reason to keep a copy of an SDL window's contents on the server: most SDL
    apps are redrawing completely every frame, and the API allows for expose
    events to tell an app a redraw is needed anyhow.
    
    (And compositors are free to ignore this setting if it makes sense to do so,
    according to the Xlib docs.)
    
    Reference Issue #3776.

commit 9c063468d6b806de954d867ced857395c6162b82
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 24 19:47:10 2021 -0400

    x11: call XSync before XSetInputFocus during SDL_ShowWindow.
    
    This only happens when using a non-NET_WM window manager, as we might try to
    set the focus before the window is mapped.
    
    Fixes #3949.

commit 89a2980a6d55ace688ffca1ecef45c0eb432af2a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Apr 23 01:56:10 2021 +0300

    CMake: fixes to pthreads detection.
    
    changes unnecessary check_c_source_runs to check_c_source_compiles,
    removes the reduntant cross-compile check, and defines _GNU_SOURCE
    for PTHREAD_MUTEX_RECURSIVE checks just like the autotools version.
    
    Fixes: https://github.com/libsdl-org/SDL/issues/4262
    Closes:  https://github.com/libsdl-org/SDL/pull/4282

commit ca969eb2be8e54beac4a1be20278d685f818bfbd
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Apr 24 10:29:52 2021 +0300

    Remove gles2 vita render

commit 058bbe02866e513a9e95e1d1f346ac9efb87d043
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Apr 24 10:17:03 2021 +0300

    Set volume on device open

commit e3ea5b646835ee8728896666b324e73bde78c7c9
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Apr 24 10:16:21 2021 +0300

    Migrate to lightweight mutexes

commit f1ad942a1175105e4ab7d1cd98b842f84b3bcb2b
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Apr 22 17:24:05 2021 -0700

    SDL_windows_main: use HeapAlloc/HeapFree for command line arguments
    
    If a developer uses SDL_SetMemoryFunctions, we can't rely on SDL_free()
    working when SDL_main() returns.
    
    Signed-off-by: Steven Noonan <steven@valvesoftware.com>
    Signed-off-by: Sam Lantinga <slouken@libsdl.org>

commit 17d8479d980ebd37707c03e4d9e86aa0438f0ab9
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Apr 22 15:44:01 2021 -0700

    hidapi/libusb: maintain in-memory cache of vendor/product strings
    
    The get_usb_string call is rather expensive on some USB devices, so we
    cache the vendor/product strings for future lookups (e.g. when
    hid_enumerate is invoked again later).
    
    This way, we only need to ask libusb for strings for devices we haven't
    seen since before we started.
    
    Signed-off-by: Steven Noonan <steven@valvesoftware.com>
    Signed-off-by: Sam Lantinga <slouken@libsdl.org>

commit 4535d654919bbf13c05809e5eba9329f2d698ee2
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Apr 22 14:35:59 2021 -0700

    HIDAPI_UpdateDiscovery: only treat "add" and "remove" events as relevant
    
    I have a buggy system which reports a udev "change" event for an empty
    USB-C port every 0.14 seconds, which causes annoying frame hitches
    because SDL decides that means it needs to do a libusb hid_enumerate,
    which is slow (~25ms!) because of the get_usb_string() calls in there.
    
    We only need to re-enumerate if we've seen a device added or removed, so
    let's filter out the change event first.
    
    Signed-off-by: Steven Noonan <steven@valvesoftware.com>
    Signed-off-by: Sam Lantinga <slouken@libsdl.org>

commit b15bbd4e3f382643491e60b4ec2ad6a1d54db4ad
Author: Steven Noonan <steven@valvesoftware.com>
Date:   Thu Apr 22 16:11:13 2021 -0700

    SDL_udev: check for NULL return value from udev_device_get_action
    
    Signed-off-by: Steven Noonan <steven@valvesoftware.com>
    Signed-off-by: Sam Lantinga <slouken@libsdl.org>

commit cf05a5eb0ce9e9453ce71e7fa0c32b1988d43b45
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 22 21:40:57 2021 +0200

    eglChooseConfig: only add EGL_DEPTH_SIZE if non 0
    and fix static / shadowed variables warnings for dump configs

commit 98a966d1c20afc0abd27d8cd449810893104a908
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 22 18:06:17 2021 +0200

    Android: don't need to set the SurfaceHolder format from java code
    It's already set with ANativeWindow_setGeometry, and eventually set/changed also by eglCreateWindowSurface.
     - avoid issues with older device where SurfaceView cycle create/changed/destroy appears broken:
       calling create/changed/changed, and leading to "deuqueBuffer failed at server side, error: -19", with black screen.
     - re-read the format after egl window surface is created, to report the correct one (sometimes, changed from RGBA8888 to RGB24)

commit 8e3ec34d34af6aa3348b0dd9bbd3d8dee246e819
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Apr 20 12:40:40 2021 -0400

    wayland: Refactor toplevel mapping, implement HideWindow

commit 0838f53d5a651fa14b5caccbae78f5c393299406
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed Apr 21 11:41:08 2021 +0600

    Implement SDL_SetWindowAlwaysOnTop for X11

commit a5825576fbafacfaec88b9b50499b36baad78b69
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Wed Apr 21 13:39:31 2021 +0200

    Fix error handling of wayland message box
    
    Zenity return a small integer on success which may be the same as EXIT_FAILURE. Use a bigger integer for error reporting from child process.

commit 12dd412b0b250119985729c700e09c4aaba06703
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Wed Apr 21 13:31:15 2021 +0200

    Fix icon of wayland message box
    
    Also add some comments and silence a warning.
    
    Co-authored-by: Ethan Lee <flibitijibibo@gmail.com>

commit d0cf3b75551561b173743db02c9393ed11a6a065
Author: meyraud705 <meyraud705@gmail.com>
Date:   Tue Apr 20 18:26:02 2021 +0200

    Return correct button id

commit 1fd95c53b66f934b717a45fc30c755e8f56ef472
Author: meyraud705 <meyraud705@gmail.com>
Date:   Tue Apr 20 18:15:09 2021 +0200

    Disable pango markup in wayland massage box
    
    Zenity support pango markup, add --no-markup to disable it.

commit 0cd0e9ba980ff8c1206c7122c06d2bc89c55be3a
Author: meyraud705 <meyraud705@gmail.com>
Date:   Tue Apr 20 17:49:21 2021 +0200

    Reimplement wayland message box function with execvp.
    
    Previous version used 'popen' which required to sanitize user provided text. Not
    sanitizing text could cause failure if user provided text included a " or command
    injection with `cmd`.

commit 99ef03b96ec95c4fb044c600e48b708b6f2fe83e
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed Apr 21 01:22:22 2021 +0600

    KMSDRM: Only use OpenBSD-specific defines on pre-6.9 releases

commit a0a5da5d91b4316c2ca60f5dfce3b5963ef89d24
Author: Joseph Lyncheski <directmusic94@gmail.com>
Date:   Mon Apr 19 07:13:38 2021 -0400

    Add SDL_SetWindowAlwaysOnTop()

commit 6be9c00970098930b36806827c919a84263a1005
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 20 13:46:25 2021 +0200

    Android: prevent error EGL_BAD_DISPLAY while getting egl version without display
    
    There is an error "E libEGL  : validate_display:91 error 3008 (EGL_BAD_DISPLAY)"
    that occurs when calling "eglQueryString(display, EGL_VERSION)", with EGL_NO_DISPLAY.
    
    Khronos says "EGL_BAD_DISPLAY is generated if display is not an EGL display connection, unless display is EGL_NO_DISPLAY and name is EGL_EXTENSIONS."
    but this was added in SDL with "EGL 1.5 allows querying for client version"
    ( https://github.com/libsdl-org/SDL/commit/56363ebf6124b345e1cfbd14fb6c0e654837910c )
    
    In fact:
    - it actually doesn't work on Android that has 1.5 egl client
    - it works on desktop X11 (using SDL_VIDEO_X11_FORCE_EGL=1)
    
    The commit moves the version call where it's used, eg inside the "if (platform) {"
    and checks that "eglGetPlatformDisplay" has been correctly loaded.

commit 03503423e9b3f6bd30008bedfeae10426ecc1a49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 19 23:31:23 2021 -0400

    filesystem: Better OpenBSD support for SDL_GetBasePath().
    
    Fixes #3752.

commit de6d290266d1def0eef9df81bf9be41c12a98c61
Author: ReNoM <renom7@gmail.com>
Date:   Mon Apr 19 21:48:11 2021 +0300

    Fix keymap updating for X11 backend

commit 509228c42300f0ee362404d28f50999fa6eaed5e
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Apr 18 22:26:27 2021 -0400

    wayland: Implement GetDisplayDPI

commit fcbfe33ce506d5a7449c813372306d674eed7bb0
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Apr 18 09:45:22 2021 -0400

    wayland: Implement SetWindowModalFor

commit 213bfc194e889232a30fb3fb92159e128a76591a
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Apr 18 09:36:54 2021 -0400

    wayland: Implement RestoreWindow for xdg/zxdg

commit 0f5180022924ff594db656e3da72c368fb72042c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Apr 18 09:33:57 2021 -0400

    wayland: Removed unused GetDisplayModes/SetDisplayMode functions

commit 46df195b2a2e3fe7b5408842f50bb14c45953f4b
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Apr 18 09:33:06 2021 -0400

    wayland: Implement GetDisplayBounds

commit ed24c3452a99e6515faf99f155c77872f35eacd6
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Apr 16 21:35:50 2021 -0400

    wayland: Implement basic window move events via wl_surface_listener.
    
    This unearthed an unspeakably large amount of bugs in the wl_output enumerator,
    notably the fact that the wl_output user pointer was to temporary memory!
    This was "fixed" in e862856, and was then pointed out as a leak in 4183211,
    which was undone in d9ba204. The busted fix was correct that the malloc was an
    issue, but wrong about _why_; SDL_AddVideoDisplay copies by value and does not
    reuse the pointer, so generally you want your VideoDisplay to be on the stack,
    but of course the callbacks don't allow that, so a malloc was a workaround. But
    we can do better and just host our temporary display inside WaylandOutputData
    because that will be persistent while also not leaking.
    
    Wait, wasn't I talking about move events? Right, that: wl_surface_listener does
    at least give us the ability to know what monitor we're on, even though we have
    no idea where we are on the monitor. All we need to do is check the wl_output
    against the display list and then push a move event that both indicates the
    correct display while also not being _too_ much of a lie (but enough of a lie
    to where our event doesn't get discarded as "undefined" or whatever). The index
    check for the video display is what spawned the great nightmare you see before
    you; aside from the bugfix this is actually a really basic patch.

commit 859230ec82f35d3dc8c300038258a184489caead
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 16 13:04:36 2021 +0200

    Android: add AAudio entry in CMake SDL_config

commit d4e96e1153906c458a53c38ccc11a3b64b0dc06a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Fri Apr 16 09:44:07 2021 +0200

    Android: enable audio driver OpenSLES when building with CMake

commit b4f89c56c67950d261d579dd865046bc3e4c37c3
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 21:16:10 2021 +0200

    AAudio: add aaudio pause/resume function to android events loop

commit 02b1ebc9e0b2a8a517cfea705e733a29ba43e2e9
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 21:13:17 2021 +0200

    Android: add openslES and AAudio compilation to CMakeLists

commit 146656cfe6620e7fa81704f5d149ac8172fc4b7f
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 21:03:10 2021 +0200

    AAudio: add compilation to Android.mk, but not activated in SDL_config_android.h

commit f1fab24e35c6974b358d283091cc01bb5af92a82
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 21:00:00 2021 +0200

    AAudio: add bootstrap in SDL_audio.c

commit 04b2f5f6ecdb18ded9d30b816ca96d444535df31
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 20:54:58 2021 +0200

    Android: add AAudio back-end, with playback and capture (see #3710)
    https://developer.android.com/ndk/guides/audio/aaudio/aaudio

commit 4118fe62fe278429a514c43d02286f8e0c7741df
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Apr 15 20:52:43 2021 +0200

    Android: OpenSLES, explicitly initialise the global variable 'bqPlayerPlay',
    it may be read even if OpenSLES back-end hasn't been intialized

commit babd79b8efec2bb379781c159f026ac0f62f7004
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Apr 14 23:20:40 2021 +0300

    bump minimum required autoconf version and revise autogen.sh

commit 69203851dc12521c58b7838b864167ee1f983f00
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Apr 14 21:40:50 2021 +0300

    rename PKG_CONFIG_LIBS_PRIV to PKGCONFIG_LIBS_PRIV
    
    i.e.: do not steal PKG_CONFIG namespace.

commit 197cfcaf71b4a5ab36eaf2a6d8f4f68c9dd1b306
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Apr 14 21:10:40 2021 +0300

    ran configure.ac through autoupdate-2.69
    
    generated configure script is practically the same except for whitespace
    changes.

commit 499d31e9cdcef65b127f76021c11cd04b4f144ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 13 17:00:24 2021 -0700

    Cleanup Linux joystick code

commit 5c78df9c2337746bb929337239d000f8a2e6560f
Author: Luis Cáceres <lacc97@protonmail.ch>
Date:   Wed Apr 14 00:56:50 2021 +0100

    Support key composing (i.e. dead keys) in Wayland driver (#4296)
    
    Based on an old patch by chw from the old Bugzilla issue tracker.
    
    Authored-by: chw
    
    Co-authored-by: Sam Lantinga <slouken@libsdl.org>

commit b04136e75e50630083110d5242c777c9b3c9f65f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 13 16:29:48 2021 -0700

    Fixed Xbox controller when using the default Linux gamepad mapping
    
    Tested with the Xbox Series X controller and the xow driver

commit 1aaafc2bd8189091a9badcb55a27e9e82f996d95
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 13 16:29:46 2021 -0700

    Show the real name of the Xbox controller when using the generic mapping on Linux

commit 1542300a899fc81e814c6640142de4c88fecb5f7
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Wed Mar 24 22:37:08 2021 +0000

    joystick: linux: Avoid checking for gamepad mapping each frame
    
    The information whether a specific joystick can be used as a gamepad is
    not going to change every frame, so we can cache the result into a
    variable.
    
    This dramatically reduces the performance impact of SDL2 on small
    embedded devices, since the code path that is now avoided was quite
    heavy.
    
    Fixes #4229.
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit 401f485490c68d91b8444f23f61b08e162ef04fb
Author: okuoku <mjt@cltn.org>
Date:   Sun Apr 11 19:29:01 2021 +0900

    cmake: Weak link with CoreHaptics
    
    Add link to CoreHaptics so we can compile against latest iOS SDKs.

commit dbedaeceb32c983e88b4535c54b99939b49f3265
Author: Kyle Schaefer <kylefossil10@gmail.com>
Date:   Sun Apr 11 15:10:28 2021 -0700

    Adding checks to see if any ASAN flags are set, if so then we set(HAVE_ASAN ON) so the infomartion output will properly list ASAN as on.

commit 70bd205bb1f8e45578bdc2fb28bd623c2e9e49d6
Author: Kyle Schaefer <kylefossil10@gmail.com>
Date:   Sun Apr 11 15:08:14 2021 -0700

    Adding messages to output CMAKE_C_FLAGS_DEBUG and CMAKE_CXX_FLAGS_DEBUG, this way when using Debug builds you can see which debug flags are set

commit 320666044e6e85bfad35a73393ed64c8bed9b50c
Author: Kyle Schaefer <kylefossil10@gmail.com>
Date:   Sun Apr 11 15:05:58 2021 -0700

    Moving ASAN macros and calls to macros above the information output section so we can display ASAN information properly.

commit f88d91d596fdc19472bf169fbf13d90264fe4a97
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Apr 12 23:47:23 2021 -0400

    wayland: Minor whitespace fix

commit d785dab5fd284e3420fa09c3a004740dd05ed934
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Apr 12 23:37:53 2021 -0400

    wayland: Add unscaled resolutions to the display mode list

commit b0178fe5184ff38a2316eaa22f0f9c4a4cdb55af
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Wed Apr 14 00:52:53 2021 +0600

    KMSDRM: Report correct window position to the application

commit dfcd5fbcade077df038269123d9f3e57880aec4b
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 21:57:58 2021 -0400

    wayland: Set the keymap in keyboard_handle_modifiers

commit e87c7940f59db12670089a4ed79c91dfbca92b33
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Tue Apr 13 14:42:38 2021 +0200

    Fixed bug 3829 - Don't FOURCC format for target textures
    FOURCC isn't supported by renderer back-ends for target access
    So use a correct format and fallback to with native/yuv path

commit 9ef0b97c6d58fe09623027d651f331eb8148bf91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 12 11:25:44 2021 -0700

    Changes to macOS event handler to better interact with the running app
    
    - Only focus a new window when one closes if the window that was closed was an SDL window
    
    - If the application already has a key window set that is not an SDL window, don't replace it when the application is activated
    
    - Only register the URL event handler when SDLAppDelegate is going to be set as the applications app delegate. This is to
       be consistent with previous behavior that would only register the handler in -[SDLAppDelegate applicationDidFinishLaunching:]
       and allows the running app to opt out of the behavior by setting its own app delegate.
    
    - The URL event handler is now removed if it was set on SDLAppDelegate dealloc

commit 2a20cc0f1d4f74c8f3cc0775faf081b70cb2e86d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 12 11:25:42 2021 -0700

    SDL: let through a SetLED command every 5sec to deall with situations where the controller loses power when a computer is suspended
    
    CR: SamL

commit c59d4dcd38c382a1e9b69b053756f1139a861574
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 15:32:33 2021 -0400

    wayland: Dramatically lower the timeout when reading/writing pipes

commit cf124963116c016df131faa89f32d6565c08a326
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 15:29:54 2021 -0400

    wayland: Fall back to clipboard source data if offer came up empty

commit 282c05247912ad5aa52928a781eb9b3acdd9d898
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 14:59:04 2021 -0400

    wayland: Another strlen->SDL_strlen

commit bec133d77b5d0651e66704cf86f0030a751a5106
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 14:16:32 2021 -0400

    wayland: Use SDL_strlen instead of strlen

commit e28d978509f5302e9225274514a7ffbd4dd4bc5c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 14:16:21 2021 -0400

    wayland: Minor whitespace cleanup in clipboard.c

commit 875f839df4fe52485209d948be4940ee16e36c66
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 14:14:46 2021 -0400

    wayland: A bunch of clipboard safety fixes.
    
    Also removed Wayland_get_data_device because it was a pointless getter function.

commit 7510245af92c801162cf469cf313d8ebe6cfa298
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Apr 8 14:08:35 2021 -0400

    wayland: Create the data_device only after both device_manager and input exist.
    
    There is no guarantee on what order the Wayland interfaces will come in, but the
    callbacks were assuming that wl_data_device_manager would could before wl_seat.
    This would cause certain desktops to not have any data_device to work with,
    meaning certain features like the clipboard would silently no-op.

commit 732cc8ed5b55b804f93baaf2fdd9994b1af6cff8
Author: okuoku <mjt@cltn.org>
Date:   Thu Apr 8 21:28:45 2021 +0900

    cmake: Fix UWP DLL build by removing /NODEFAUTLIB
    
    On UWP, we need default C runtime for C++ sources.

commit 50db4a59b85f1895493cd0bad676ebb208ee8e82
Author: Vladislav Dmitrievich Turbanov <vladislav@turbanov.ru>
Date:   Fri Apr 2 12:05:45 2021 +0300

    * Support for intrinsics in MSW + Clang scenario.
    Utility polyfill is provided, removed the no-longer-needed
    conditionals.

commit 89b6209313cc65260f88a28ea99ec0df6dd807fc
Author: Dean Herbert <pe@ppy.sh>
Date:   Thu Apr 1 14:17:53 2021 +0900

    Fix race condition that can lead to ENTER/LEAVE window events never firing
    
    On windows, when toggling the state of RelativeMode rapidly, there is a
    high chance that SDL_WINDOWEVENT_ENTER / SDL_WINDOWEVENT_LEAVE events
    will stop firing indefinitely.
    
    This aims to resolve that shortcoming by ensuring mouse focus state is
    correctly updated via WM_MOUSELEAVE events arriving via the windows
    event hook.

commit 4cee1012c6b1e238f2332ace3af95ee14f1f992b
Author: Philippe Coval <rzr@users.sf.net>
Date:   Wed Feb 3 15:48:17 2021 +0100

    debian: Align to debian packaging scheme
    
    This will prevent files conflicts among packages
    
    Change-Id: I32d1ec83229aa635d9198a0ab14a9d6708f24d37
    Signed-off-by: Philippe Coval <rzr@users.sf.net>

commit 6fd37194bc178dacbda1cb222fb47a44031b2636
Author: David Edmundson <kde@davidedmundson.co.uk>
Date:   Wed Apr 7 16:03:41 2021 +0100

    wayland: Fix leaked zxdg_decoration_manager

commit f6a09ef1a9b0a4f283be7bf52a7628c9aed199e1
Author: David Edmundson <kde@davidedmundson.co.uk>
Date:   Wed Apr 7 16:16:23 2021 +0100

    wayland: Drop support for kwin specific decoration management
    
    KWin has supported the shared and formalised zxdg_decoration since
    Plasma 5.16 which came out mid 2019.
    
    Whilst it made sense to support them both for a while, it should not be
    needed for future SDL releases.

commit a92cca1ab845f99fa660b9a8a279db02523e961b
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Wed Apr 7 16:44:10 2021 -0400

    wayland: Use the window's display to get wl_output rather than fullscreen_mode.
    
    Because Wayland only supports FULLSCREEN_DESKTOP, fullscreen_mode never gets
    assigned at all, meaning driverdata is always NULL! Depending on what the
    compositor does this can lead to dramatically different results. GNOME was fine
    without this, but Plasma would trip an event that unintentionally unset the
    fullscreen mode and caused the game to fire a configure event _every frame_,
    and of course the configure would send the fullscreen_mode output which was
    still empty. The fix is to just use the SDL_VideoDisplay directly, which will
    always have a valid wl_output.

commit c7e29a9e95375a1ae0ced34e2fc2cc40c3055e47
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Tue Apr 6 18:10:40 2021 -0400

    wayland: Fix toggling fullscreen with fixed-size windows

commit 0f4aba7bcdc6aa8671c1f93700266b0e8907cc70
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 6 18:34:53 2021 -0400

    audio: Fixed assertion failure if trying to use dummy backend.

commit 64853b73787ab6d3adec78f8dec0dcb96cdb2801
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 6 18:34:17 2021 -0400

    audio: Changed a disk and dummy backends to use _this instead of this.

commit e97cfe4ad1f5ef5b52c76905312d85e861e92ca2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Apr 6 23:56:10 2021 +0300

    KMSDRM_Vulkan_CreateSurface(): fixed pointer-cast warning on 32 bit
    
    Closes: https://github.com/libsdl-org/SDL/issues/4284

commit 78095e3701a7360633c9282d7379c7fd35121e71
Author: Philippe Coval <rzr@users.sf.net>
Date:   Sat Apr 3 15:28:09 2021 +0200

    git: Ignore debian generated files
    
    Signed-off-by: Philippe Coval <rzr@users.sf.net>
    Change-Id: Iebfef58f41056c01736aba99f38fdedb9ee93013

commit 17ceddf28d5b01e206ba26b63284c4d517be2207
Author: Philippe Coval <rzr@users.sf.net>
Date:   Sat Apr 3 21:27:13 2021 +0200

    debian: Align debian deps
    
    This will enable more flexibility in configuration
    
    I am using this for snapshot built with GLES1 enabled
    
    Relate-to: https://github.com/adoptware/pinball/issues/22
    Signed-off-by: Philippe Coval <rzr@users.sf.net>
    Change-Id: I4387663605475ddd669694a7828f101881e424b8

commit ebc110986639c5968beafbed56b1c7feb8c0f768
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 4 12:29:18 2021 -0400

    Removed mkdocs.yml
    
    More GitHub Actions nonsense.

commit 7b8c75095438abeee6618389499cd7e7d2b92533
Author: okuoku <mjt@cltn.org>
Date:   Sat Apr 3 22:21:35 2021 +0900

    CMake: Enable WASAPI on WinRT
    
    WASAPI backend on WinRT was implemented with 2.0.8
    https://github.com/libsdl-org/SDL/commit/351d6d478443fe8a1ede1e993712f07cb369d483
    but CMake source here was written for 2.0.7 in vcpkg
    https://github.com/microsoft/vcpkg/commit/e6c65b93b125cf0be13254cf2f5a9d27cb009707

commit 8fa2ce560176c34a44cfa04bda9e7bab1d9ecf6a
Author: okuoku <mjt@cltn.org>
Date:   Sat Apr 3 22:47:47 2021 +0900

    WinRT: Rename Interface ID symbols
    
    Rename locally-defined Interface ID symbols to avoid conflict with
    locally linked dxgi library. Prefixed with `SDL_` to match with
    other references in render_d3d11 or wasapi.

commit 3dbc4cf23348a901eab9d9b85687afa7e39690fd
Author: Nicholas "LB" Braden <nicholas@totallynota.ninja>
Date:   Tue Mar 30 17:49:51 2021 -0500

    Fix compilation error for Windows SDK 8.1+
    
    https://docs.microsoft.com/en-us/windows/win32/api/shellscalingapi/ne-shellscalingapi-monitor_dpi_type

commit 9634070bad38494c49b181aa94a921da4b5d580b
Author: Philippe Coval <rzr@users.sf.net>
Date:   Sat Apr 3 15:04:12 2021 +0200

    debian: Update README file in doc package
    
    Signed-off-by: Philippe Coval <rzr@users.sf.net>
    Change-Id: I7cd02e3094cb60328a24702afecb13f61beb67a1

commit 413a2306bc6264eae4e8b1209f9a33037dfe69c8
Author: meyraud705 <meyraud705@gmail.com>
Date:   Sun Apr 4 10:47:06 2021 +0200

    NULL passed to strcmp in Wayland_ShowMessageBox

commit 573c5a5bac79efba9f2a8fd3353971accd898484
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Apr 4 11:55:50 2021 +0300

    regenerated configure.

commit 49141996659c1a802d8d93992cacd3fb2ea5977e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 4 00:29:26 2021 -0400

    ibus: make sure we don't pass a NULL path string over D-Bus.
    
    Fixes #2941.

commit e006872355de417467b11f7be82641ae25e7e7fa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 4 00:23:52 2021 -0400

    hints: SDL_HINT_TIMER_RESOLUTION applies to all versions of Windows.
    
    Fixes #3654.

commit a81fe27271b484b99b19bd7e96394dec1f2a4f38
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 4 00:16:30 2021 -0400

    configure/cmake: Hook up Emscripten threads (disabled by default).
    
    Fixes #3795.

commit 354cabd4a7ae73121a527980d7cef9dae41e9d3a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 3 18:15:50 2021 -0400

    egl: favor truecolor configurations.
    
    If app requested <= 16 color depth and there is a 24-bit config available,
    favor that. This fixes things that quietly expect to get truecolor output
    but don't request it (...like SDL's render api...) and things that are
    probably requesting 16-bit color as a fallback but expecting reasonable
    systems to give them full depth.
    
    Specifically, this fixes Life is Strange on Wayland, which uses the latter
    approach, and anything using SDL_Render on Wayland, which uses the former.
    
    Fixes #4056.
    Fixes #4132.

commit 95e5f0586e9d56a70c1391015219f59c23f4e2e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 3 13:24:10 2021 -0400

    audio: make SDL_OpenAudioDevice declaration look less squashed.

commit 4abe34461ff4806ec6e7d5a55aa86b06adc5a1aa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 3 10:10:58 2021 -0400

    SDL_EGL_ChooseConfig: cleanups and minor optimizations.
    
    - Move an immutable condition out of a for loop.
    - Add a break statement to that loop when we find what we're looking for.
    - Add an assert to make sure we don't overflow a buffer.
    - Wrap a single-statement if block in braces.
    - Adjust some whitespace.

commit 7d02248cf599c5c934e0437c1099a147e3414144
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 2 14:36:53 2021 -0400

    tls: wrap reference to a mutex into an #if !SDL_THREADS_DISABLED test.

commit dbdbae44c57dcc2caf5e2b1ed81cc31a98860d8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 2 14:35:11 2021 -0400

    linux: (de)initialize d-bus at init and quit.
    
    Previously we had different subsystems quitting it, in conflict, and risked
    multiple threads racing to init it at the same time.
    
    Fixes #3643.

commit 57c2a4566f4369917f54938ddb0d115824724d22
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 2 14:01:41 2021 -0400

    render: draw when hidden, except on iOS and Android.
    
    Fixes #2979.

commit b42bf2a7740fcb60e745af237b8333413b38a413
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 2 12:58:12 2021 -0400

    configure: Don't use "-Wl,--no-undefined" in "sdl2-config --static-libs"
    
    Fixes #3788.

commit 2689e844e0ab60e48052504f87efcbd6e766b227
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 1 16:36:06 2021 -0400

    Delete gh-pages.yml
    
    This shouldn’t exist, let alone make commits to the repo. Kind of annoyed this is here and ran today.

commit da667554505fabec79e3214dabe92727953c1016
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 1 12:20:04 2021 -0400

    Fixed up legacy MoinMoin URLs at wiki.libsdl.org
    
    Fixes #4064.

commit 2542977b0a7c73633f525e289a0a3d86bfa2e75b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 1 12:15:28 2021 -0400

    Revert "Update wiki.libsdl.org urls to libsdl-org/SDL/wiki (#4069)"
    
    This reverts commit 82a96afa70212da94de758df859e94cccdb2c805.
    
    We ended up not moving to GitHub's wiki after all and built
    https://github.com/icculus/ghwikipp to fill the gap...since the wiki is
    back at https://wiki.libsdl.org/, put back the original URLs.

commit fa81883418ebf327e5176d8603d7c04e75e807f4
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Tue Mar 30 13:25:09 2021 +0200

    [KMSDRM] Fake refresh rate precision on Vulkan display mode creation.

commit 942aa7bd074243bad2c4551dc9c37bc3d45c80ee
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Tue Mar 30 11:41:26 2021 +0200

    [KMSDRM] No need to use an SDL_VideoDisplay pointer to access display index.

commit 033c0abb58e7aa6ba2bf7ad4952b73d9061f3f59
Author: Learath <learath2@gmail.com>
Date:   Sat Mar 27 14:04:00 2021 +0100

    Use dispatch_async for -[NSOpenGLContext update]. Fixes #3680

commit eeee730833d0a32d2b5224ba3ef9eed4282a6d33
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Mon Mar 29 16:57:03 2021 -0400

    wayland: Implement IME support.
    
    Note that this is purely to make it possible to enter text that requires
    composition - for example, before this commit Kanji input didn't work at all.
    
    The big problem this still has is that we need the window position, and this is
    still not implemented. Once we have this information we can do the equivalent
    of XTranslateCoordinates to put the rectangle where we want it.

commit 733b3278de59d47ee1e052976cf791f5b721991c
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Mon Mar 29 19:22:26 2021 +0200

    [KMSDRM] Minor Vulkan code adjustments regarding pointers and display index.

commit 570768f62703b8ea5abf3232c1a5b4f73d419549
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Fri Mar 26 22:52:30 2021 +0000

    test: fix shadowing variables

commit b972258d56fad2f14d7f6a6146e635c8e46a93f6
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Fri Mar 26 22:49:28 2021 +0000

    test: remove unused variables and typedefs

commit 3f25704592a04001964e96aec760ef091fbd92a0
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Fri Mar 26 23:46:31 2021 +0000

    test: portable 64bit address format specifier

commit 9d294f1fca2bfb46c94e77aed0b6fa3bb1368c7a
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Mar 27 00:53:10 2021 -0400

    audio: Allow AudioStreamGet to return 0 in RunAudio.
    
    While we should normally expect _something_ from the stream based on the
    AudioStreamAvailable check, it's possible for a device change to flush the
    stream at an inconvenient time, causing this function to return 0.
    
    Thing is, this is harmless. Either data will be NULL and the result won't matter
    anyway, or the data buffer will be zeroed out and the output will just be
    silence for the brief moment that the device change is occurring. Both scenarios
    work themselves out, and testing on Windows shows that this behavior is safe.

commit 9b7babf96e125f3f7781df2b3ab57b7ffb1762a3
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Mar 27 00:47:54 2021 -0400

    wasapi: Remove assert added by 67e8522d

commit fb283a732a11a4ccd6ebcfbe3cd671844b5b92e6
Author: Xing Ji <jixingcn@gmail.com>
Date:   Wed Mar 24 22:42:47 2021 +0800

    Squashed commit of the following:
    
    commit 6b8f933589aa3925978a23e77a305a7e89c6ae4a
    Author: Xing Ji <jixingcn@gmail.com>
    Date:   Wed Mar 24 22:31:29 2021 +0800
    
        update the dynapi by `gendynapi.pl`
    
    commit ebd1790c19983b652713f40ab1e139e485e1a2b7
    Author: Xing Ji <jixingcn@gmail.com>
    Date:   Wed Mar 24 22:17:48 2021 +0800
    
        revert the change in src/dynapi
    
    commit 734b5f85c1613070081e39238e84198128971b53
    Merge: 5a56e5a8 5ac6bd54
    Author: Xing Ji <jixingcn@gmail.com>
    Date:   Wed Mar 24 22:14:40 2021 +0800
    
        Merge remote-tracking branch 'libsdl/main' into jixingcn
    
    commit 5a56e5a8227d9cff6b497b681c618a76bec1cae1
    Author: Xing Ji <jixingcn@gmail.com>
    Date:   Mon Mar 22 23:55:10 2021 +0800
    
        Fix #3596, can call the `SDL_TLSCleanup` to cleanup the TLS data when closing the application

commit 5ceb674426acac7b597707c42d99f35e3a2a1897
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sun Mar 28 14:58:41 2021 -0400

    linux: Fix ibus support on Wayland/XWayland

commit 1cd97e26958fb141088c66d93e32ab91ac0e1854
Author: David Gow <david@ingeniumdigital.com>
Date:   Mon Mar 29 18:12:33 2021 +0800

    testmessage: Create a renderer for window display on Wayland
    
    On Wayland -- or at least on some Wayland implementations -- windows
    aren't shown until something has been rendered into them. For the
    'testmessage' test program, this means that the final messagebox (a
    modal one) is blocking an "invisible window", which can then be
    difficult to close.
    
    By creating a renderer and presenting once, the window is properly
    displayed, and the test behaves as it does under X11 (including
    XWayland).

commit 5f9effaa7eed143f1a65f3a335428cd128f8bc31
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Mar 28 17:45:41 2021 -0400

    audio: pipewire: Block while waiting on stream state info
    
    Initializing streams, particularly capture streams, can take many milliseconds, which is a bit much for a busy wait.  Use a blocking wait instead.

commit 8deb4063004a32ffb71206003912e8a301392ead
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Mar 28 17:22:59 2021 -0400

    audio: pipewire: Avoid redundant locking
    
    The pw_thread_loop already locks and unlocks the thread mutex at the start and end of each loop iteration, so these locks are unnecessary.

commit 5bb2bbd40c791b52999df53a899dc1f43788c17e
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Mar 28 17:17:00 2021 -0400

    audio: pipewire: Don't use uninitialized variables in callbacks
    
    Some of the SDL_AudioDevice struct members aren't initialized until after returning from the OpenDevice function.  Since Pipewire uses it's own processing threads, the callbacks can be entered before all members of SDL_AudioDevice are initialized, such as work_buffer, callbackspec and the processing stream, which creates a race condition.  Don't use these members when in the paused state to avoid potentially using uninitialized values and memory.

commit 9de7eaf9ac2b8de76cf095fb51e7e4208180720a
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Sun Mar 28 01:30:26 2021 +0100

    [KMSDRM] Change error message.

commit 1ec60a38ebcea2d75be03abdbf1da7f4498d8bdc
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Sat Mar 27 23:52:51 2021 +0100

    [KMSDRM] Remove unnecessary space.

commit c13c3c37bdb6eda5d45b63d1ae1c9942e75510d4
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Sat Mar 27 22:50:18 2021 +0100

    [KMSDRM] For Vulkan, use a mode with the same exact size as the window, if possible, or create a new one.

commit 07ba13b7a9eb6bd53dae6849ce6ca4977304dd65
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Mar 26 00:40:05 2021 -0400

    wayland: Pass --no-wrap to Zenity.
    
    There seems to be a bug where it can wrap the text based on the minimum possible
    window size, which can be worked around with --no-wrap. This technically uncaps
    the width entirely, but this isn't wildly different from what other backends do.

commit 54719a9d3da602644b92cb5ee3333979d5f3b2c2
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Mar 25 23:58:12 2021 -0400

    wayland: Assign output_len in ShowMessageBox

commit 6d9c4f6c6c71af6ae32cc316a6bd0cc0af102591
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 15:07:10 2021 -0700

    Added support for the wired Amazon Luna gamepad on Android

commit 40b0509ef6d62568f9ac479b0595a5a5f4d9148a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 14:34:58 2021 -0700

    Fixed header documentation errors

commit 4a07c73b80e5f0737bf1c0fd4cb121e8fd346865
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 13:53:58 2021 -0700

    Added mapping for the Amazon Luna controller on Linux

commit 07af9baa86179a719b16c4fd672de78979c88e15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 13:05:38 2021 -0700

    Use the correct name for the Amazon Luna Gamepad

commit ef363555633a9d697a124fa4e6a742013646f841
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 13:03:29 2021 -0700

    Added mapping for the Amazon Luna controller on macOS

commit 8b87b438b4ca6c2735bd53d6cadfe5aefa89ff40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 13:01:06 2021 -0700

    Don't try to map the touchpad button, since we don't have any art for that at the moment.

commit 3377861ab1f327694c7d5afea1d6d968853c6db5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 26 11:57:19 2021 -0700

    Added support for the Amazon Game Controller to the HIDAPI driver

commit 27b74d3334174d0c57cd314ee9545614902603f7
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Thu Mar 25 23:25:34 2021 -0400

    Implement Wayland_ShowMessageBox using Zenity

commit 5262b52ddd83b88544ebff747cf33e9a295cfc0a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 25 23:56:56 2021 +0300

    SDL_kmsdrmvideo.c: define EGL_PLATFORM_GBM_MESA if it's missing.
    
    Fixes:          https://github.com/libsdl-org/SDL/issues/4232

commit ab7944f96048cb440b6882acf6ae4bde2230d973
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 25 12:52:15 2021 -0400

    wikiheaders: fixed regex for converting markdown bold+italic to mediawiki.

commit f55445422a350d7b28a24ff06693e47de8080627
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 25 12:50:18 2021 -0400

    wikiheaders: when merging into headers, wordwrap in Markdown style.

commit 45d128db00aa7a85077eb8175d6284405079aac3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 24 22:36:06 2021 -0400

    wikiheaders: Fixed double-wikify call.

commit 5753fd73c39a87e7f836bdebfea7a7776958dbec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 24 12:52:48 2021 -0400

    wikiheaders.pl: Whitespace fixes.

commit c486959e713d0ae45c648ac24dae8cde72e834c6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 24 10:47:03 2021 -0400

    headers: Fix up bullet lists, now that wikiheaders.pl can handle them.

commit c2152928fa27eabed1ebba7f10a998e5e5dc7ab3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 24 10:46:05 2021 -0400

    wikiheaders.pl: Mark some sections as wiki-only so we don't lose them.

commit 231b849c9e7f9bc4c2ef3e6f8dc6216a98083692
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 24 10:45:27 2021 -0400

    wikiheaders.pl: Properly handle and wordwrap bullet lists.

commit 5ac6bd548376dc1547db673e9b41dd7cf5a1e777
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Wed Mar 24 02:54:36 2021 +0100

    [KMSDRM] Ask for videomode on the correct display when creating a window.

commit 7c08b049e864b3d7abd336b6b77fa57815e1487e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 23 15:36:12 2021 -0400

    headers: a few minor documentation corrections.

commit b55b11af88f9d02f438a8593b1e2194dbf9f305b
Author: Fabrice Fontaine <fontaine.fabrice@gmail.com>
Date:   Tue Mar 23 08:07:56 2021 +0100

    src/thread/pthread/SDL_systhread.c: drop include of SDL_platform.h
    
    Drop include of SDL_platform.h as SDL_plaform.h is already included by
    SDL_internal.h -> SDL_config.h -> SDL_platform.h
    
    Signed-off-by: Fabrice Fontaine <fontaine.fabrice@gmail.com>

commit 0bdf4f95bfc51de21ff6444ee1e1fdb7f6ad2661
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:19:01 2021 -0700

    Disable system gestures on MFi controllers while they're open, so we get access to the back button, etc.

commit 1133ea03492006c766f3d92697558127fa5e122f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:18:57 2021 -0700

    Fixed crash on macOS when AirPods are connected

commit 38b61a3dfa80122e75515f3845004de5ad4fb78c
Merge: 258b7bc09 c12f46b10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:40 2021 -0700

    Merge commit 'c12f46b100d22a0e06a64c5b6d1baa3f446d34e6' into main

commit 258b7bc0956c91034bf93b6c45dd8256297c1395
Merge: f82aa7f5d 100166d7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:38 2021 -0700

    Merge commit '100166d7d7b9ed2e486841498bbc585975630e02' into main

commit f82aa7f5d13563ed4b3d490ce3a8f765b71b1536
Merge: 9332006c1 3f40396d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:36 2021 -0700

    Merge commit '3f40396d33df64326756648c3b8e1e6c922efe5a' into main

commit 9332006c138e72ccd2c2e86fe0bf4a58eac42b16
Merge: 8a6810e90 3c78c211d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:34 2021 -0700

    Merge commit '3c78c211d57de4e9d953bf71d49d2ee313bbff34' into main

commit 8a6810e9065da8f4308b40fe21b9adc25685dfdf
Merge: b0a047e5a 599edaaf9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:33 2021 -0700

    Merge commit '599edaaf935aab69a13b5643566adc652a27e268' into main

commit b0a047e5a9afe64c80988e165e2bd9c89bebdb1d
Merge: de832227c 189984495
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:31 2021 -0700

    Merge commit '1899844952756e932ee29e887501a9b9e39066a6' into main

commit de832227c2a7d307af603d29422b9fcdcfb6f253
Merge: 4b0b39a34 cf7eef37b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:29 2021 -0700

    Merge commit 'cf7eef37b045bb3f841e26879fdc6d865c8aaf9a' into main

commit 4b0b39a34aceba717b79d5936d06ad9129208a9d
Merge: f68ba3cc0 4acd1dcad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:28 2021 -0700

    Merge commit '4acd1dcad41d154093ca14eb0adf35f4f99bd06a' into main

commit f68ba3cc0292c9fcc81ecd0ba03e2608fd5ed451
Merge: 3ee89ac02 8638674a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:26 2021 -0700

    Merge commit '8638674a87c5ea92a87240f8f562ed1c437d1e0c' into main

commit 3ee89ac02edb560187b3cf330395ec985ce63830
Merge: 4b1dfb14e 82ff6045f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:25 2021 -0700

    Merge commit '82ff6045fa0aa7ff2f861f20512e30688c7b51c3' into main

commit 4b1dfb14e167187198cc2e209c90b384af941d0a
Merge: d27c6c11c c35e71892
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:23 2021 -0700

    Merge commit 'c35e71892e6aa7dc2ce697b9ac44e541b3f4caef' into main

commit d27c6c11c268acdcc7010401e5bc48853f508a85
Merge: 4fa42cab7 281a7bdbb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:21 2021 -0700

    Merge commit '281a7bdbb32a2ba124f8a6f6f9555135fd529599' into main

commit 4fa42cab7fb04acd13bf488833cd26d834fe6641
Merge: f83ce7c5f e5821bf27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:19 2021 -0700

    Merge commit 'e5821bf27668a5e54c699743c2b97aa55e7bdd93' into main

commit f83ce7c5fb28c32b14a106a7e2c2f755e15a8af1
Merge: e62a25184 e6b87005c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:18 2021 -0700

    Merge commit 'e6b87005c1da22a0d354619eebca53c6e2639cdd' into main

commit e62a25184afcd6fd7b8cd8d3056cbeba12f550f7
Merge: 49eb7c6b6 7d1b9c9f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:16 2021 -0700

    Merge commit '7d1b9c9f15eb3a9f2f253e5b88e091192a894bcf' into main

commit 49eb7c6b6bdc50a37f76a1c30e6c181865d1c32a
Merge: e944e404c db2ad6fa7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:15 2021 -0700

    Merge commit 'db2ad6fa73adec1ffa364d21d130b69533b30ade' into main

commit e944e404c07cb2e6ed5d0902231cd2c8c8f95a8f
Merge: 4c412d295 e7e519a46
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:13 2021 -0700

    Merge commit 'e7e519a466167b7a3ef9aa9b28535e436139936a' into main

commit 4c412d2956bf4b650ec4f87645ed539c7ac57f2c
Merge: 9ffd477df 559be8aab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:11 2021 -0700

    Merge commit '559be8aab4a0e666fa6fc9104570c9c9d3c54f12' into main

commit 9ffd477dfc389b20e040413279b1b3a39952583c
Merge: 7ed20094d 07fc1bb88
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:10 2021 -0700

    Merge commit '07fc1bb883f4c3d9b603d3a3be8c0f2dfa88c285' into main

commit 7ed20094d84e9810f3e2aa34a00346493011a04a
Merge: f5253b708 96cc49857
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:08 2021 -0700

    Merge commit '96cc49857dcda68910b8ae068de41983da625de2' into main

commit f5253b708d8be2a12c04bf7de64f357ea2ef3a00
Merge: 4ef152707 e14fb54e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:06 2021 -0700

    Merge commit 'e14fb54e3f409aaf1e10b94f681677c59b1b7e0d' into main

commit 4ef15270710be79d5bba5c36aab33f1c8839b175
Merge: 2b6558819 7a2a1a85e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:05 2021 -0700

    Merge commit '7a2a1a85e9738f127d9f6cd600aa6e1c4459bf2e' into main

commit 2b65588193aba60b49011bd8bcfb8e179280e531
Merge: 0727acd6b 108bb5aab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:03 2021 -0700

    Merge commit '108bb5aabec27f41f977bdf7a4d2ed3f3a3962eb' into main

commit 0727acd6ba038e6c11dec32eaf5f811dac337b38
Merge: 5f596d1a1 e213f37a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 22 19:16:01 2021 -0700

    Merge commit 'e213f37a450ca6b0746aa3acd2e5e76635e13468' into main

commit c12f46b100d22a0e06a64c5b6d1baa3f446d34e6
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Mon Mar 22 19:03:25 2021 +0000

    [KMSDRM] Fix segmentation fault
    
    Deference the windata pointer *after* checking that it's non-NULL.
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit 100166d7d7b9ed2e486841498bbc585975630e02
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Mon Mar 22 18:00:41 2021 +0100

    [KMSDRM] Improve cursor management.

commit 3f40396d33df64326756648c3b8e1e6c922efe5a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 21 14:18:39 2021 -0400

    First shot at merging the wiki documentation into the headers.

commit 3c78c211d57de4e9d953bf71d49d2ee313bbff34
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 20 18:46:37 2021 -0400

    Update and rename README.txt to README.md
    
    This mostly just makes this look nice in web browsers with small displays,
    like cell phones reading the GitHub project page.

commit 599edaaf935aab69a13b5643566adc652a27e268
Merge: cf7eef37b 189984495
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Mar 20 21:07:32 2021 +0100

    Merge pull request #4212 from Cacodemon345/patch-11
    
    Fix GitHub display of README-android.md

commit 1899844952756e932ee29e887501a9b9e39066a6
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun Mar 21 01:15:14 2021 +0600

    Fix GitHub display of README-android.md

commit cf7eef37b045bb3f841e26879fdc6d865c8aaf9a
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Fri Mar 19 04:25:40 2021 +0100

    [KMSDRM] Better error handling: no more segfaults on window creation failure.

commit 4acd1dcad41d154093ca14eb0adf35f4f99bd06a
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Thu Mar 18 14:04:38 2021 +0100

    [KMSDRM] Improve the way to test if last window is being destroyed.

commit 8638674a87c5ea92a87240f8f562ed1c437d1e0c
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Thu Mar 18 13:55:58 2021 +0100

    [KMSDRM] Correct comment typo.

commit 82ff6045fa0aa7ff2f861f20512e30688c7b51c3
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Thu Mar 18 12:02:54 2021 +0100

    [KMSDRM] Unload GL/EGL libs and destroy GBM only when we are destroying the last window.

commit c35e71892e6aa7dc2ce697b9ac44e541b3f4caef
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Thu Mar 18 11:47:23 2021 +0100

    [KMSDRM] All non-vulkan windows have to be marked as OPENGL, not only the first created one.

commit 281a7bdbb32a2ba124f8a6f6f9555135fd529599
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Thu Mar 18 11:20:18 2021 +0100

    [KMSDRM] Make the gbm_init flag a viddata member to avoid GBM re-init when several displays are connected.

commit e5821bf27668a5e54c699743c2b97aa55e7bdd93
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 18 00:10:00 2021 +0300

    regenerated configure.

commit e6b87005c1da22a0d354619eebca53c6e2639cdd
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Wed Mar 17 20:10:31 2021 +0100

    Fix tests configuration and building when only GLVND full OpenGL implementation is present.

commit 7d1b9c9f15eb3a9f2f253e5b88e091192a894bcf
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Wed Mar 17 14:40:41 2021 +0100

    [KMSDRM] Remove unneeded function calls and improve comments for future reference.

commit db2ad6fa73adec1ffa364d21d130b69533b30ade
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 17 13:36:38 2021 -0400

    git-pre-push-hook: remove ".git" from URL.

commit e7e519a466167b7a3ef9aa9b28535e436139936a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 17 13:04:05 2021 -0400

    dsp: Refuse to initialize if there aren't any Open Sound System devices.
    
    This prevents the dsp target from stealing the audio subsystem but not
    being able to produce sound, so other audio targets further down the list
    can make an attempt instead.
    
    Thanks to Frank Praznik who did a lot of the research on this problem!

commit 559be8aab4a0e666fa6fc9104570c9c9d3c54f12
Author: Ankith <46915066+ankith26@users.noreply.github.com>
Date:   Mon Mar 15 15:18:10 2021 +0530

    fix invalid out of bounds UTF8 handling

commit 07fc1bb883f4c3d9b603d3a3be8c0f2dfa88c285
Author: Ankith <46915066+ankith26@users.noreply.github.com>
Date:   Mon Mar 15 15:10:49 2021 +0530

    Fix invalid UTF-8 handling of extra bytes

commit 96cc49857dcda68910b8ae068de41983da625de2
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Tue Mar 16 22:41:26 2021 +0100

    [Build system] Report differentiated glx and glvnd OpenGL implementation detection.

commit e14fb54e3f409aaf1e10b94f681677c59b1b7e0d
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Tue Mar 16 10:47:57 2021 +0100

    [KMSDRM] Undo SDL_CreateRenderer() modifications aimed at create opengles2 when KMSDRM is in use because it's a harmful solution.

commit 7a2a1a85e9738f127d9f6cd600aa6e1c4459bf2e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 16 13:46:03 2021 -0400

    documentation: initial script to merge header comments and the wiki.
    
    This is a work-in-progress, but the idea is it can convert between our
    wiki and the SDL header's doxygen comments, so we can attempt to keep them
    in sync.
    
    This might be a fool's errand, but I'm optimistic it'll work enough that we
    can clean up little issues as we go, as long as we have some discipline
    about how we write documentation. If nothing else, it's going to result in
    a solid spring-cleaning of both the wiki and the headers!

commit 108bb5aabec27f41f977bdf7a4d2ed3f3a3962eb
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Tue Mar 16 00:51:17 2021 +0100

    [KMSDRM] Modify SDL_CreateRenderer() to create an opengles2 renderer when the KMSDRM backend is being used and no renderer name has been specified.

commit e213f37a450ca6b0746aa3acd2e5e76635e13468
Author: vanfanel <redwindwanderer@gmail.com>
Date:   Mon Mar 15 12:53:16 2021 +0100

    [KMSDRM] Enable full OpenGL detection (MESA/libglvnd) on both the make and cmake buildsystems.

commit 5f596d1a1eeeb516a12aa77695beb23eb22b3beb
Merge: b1b93df8a b98b5adca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:44 2021 -0700

    Merge commit 'b98b5adcaea159fc6a9753f808875acf7d3ee945' into main

commit b1b93df8a65ec34a489893a037d2b5a1a0d58e8f
Merge: aa00fe4b2 8ba735c20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:42 2021 -0700

    Merge commit '8ba735c208388159477bf0ccb06a8573a273fb02' into main

commit aa00fe4b2f336cac3f2d97957a619c7d97ee780f
Merge: 7acafda73 3853531f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:40 2021 -0700

    Merge commit '3853531f6d11d1824b6a0ce0212c06e79483d22d' into main

commit 7acafda73d62fa6efcca8f92a81ca6ffea76434f
Merge: 30bef5dcc 9996cecc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:39 2021 -0700

    Merge commit '9996cecc726a8d8900fd817d58f9505b3490d1bc' into main

commit 30bef5dcc3fe35b198805c5377eaa17ae24c3e99
Merge: 00f93e408 5f7eb88ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:37 2021 -0700

    Merge commit '5f7eb88ae0990f89ec3a4bf697ec03aafee1a9a8' into main

commit 00f93e4082c5d1fab660f868643be1710f862fcb
Merge: 4a39d8961 b49e0953b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:35 2021 -0700

    Merge commit 'b49e0953b14be38cdeada86df84a59c92e38aeff' into main

commit 4a39d89611ac32f13d904be68b43c64f546b5368
Merge: 3313c67c0 1957ffd21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:33 2021 -0700

    Merge commit '1957ffd21ab5a3be6f347def510fcb8f985d3b8b' into main

commit 3313c67c01dfb536af8df51d80a1b4c76f634b4c
Merge: 2bd0a7182 34de3b57a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:32 2021 -0700

    Merge commit '34de3b57a101f8d885041add5e21311a153bb1bf' into main

commit 2bd0a71821cbe5a93359d4d374d9e18545ea7b0a
Merge: 082394c6b dacf6cfba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:30 2021 -0700

    Merge commit 'dacf6cfbaa8c66ea6150f95aadad2954f116836c' into main

commit 082394c6b97b0c03c154044379737887db2a16b1
Merge: 7ca94f599 a5f3ea144
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:25 2021 -0700

    Merge commit 'a5f3ea14487f1a36b1d421d02e86f25704f8bdc8' into main

commit 7ca94f5998bff7a517d63a893eb8177a50a8f50c
Merge: 713a04721 4fbd60b81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:23 2021 -0700

    Merge commit '4fbd60b81714f8f93946520147cb0c1f05faee64' into main

commit 713a04721c97e45cf3176b6c07c1d2118ede1a77
Merge: 61589463d cd3809c03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:22 2021 -0700

    Merge commit 'cd3809c03e6d41a73cdb7c4a2e84c56e3d45cd7a' into main

commit 61589463de70c0487d64b47909f157fbf1fe3ba3
Merge: b53f06ccf 9e23c6523
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:20 2021 -0700

    Merge commit '9e23c65237b480c74a0a2537b9927f6e52ca22aa' into main

commit b53f06ccf853930d0490eff5ec18f104c7309b38
Merge: 5b34a265b 72bcf546f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:18 2021 -0700

    Merge commit '72bcf546f90423f05eda0fa08510e340683ff6f4' into main

commit 5b34a265be046ebf3e36c7e3f07245412a1185a0
Merge: d84df04fd 3d22731d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:16 2021 -0700

    Merge commit '3d22731d94d6259255ef3fd5006c8c6c80e377b4' into main

commit d84df04fd19f999ece152a2226834cc7d2f087d0
Merge: 9d46bd25c 51345623e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 15 09:00:15 2021 -0700

    Merge commit '51345623e888d7bc4131cd8f015c339f757ea68a' into main

commit b98b5adcaea159fc6a9753f808875acf7d3ee945
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 15 10:21:36 2021 -0400

    wasapi: Don't use the system's resampler.

commit 8ba735c208388159477bf0ccb06a8573a273fb02
Author: Esme <madewokherd@gmail.com>
Date:   Wed Mar 10 11:40:34 2021 -0600

    Include arm_neon.h in mingw targeting ARM Windows.
    
    The llvm-mingw project includes cross-compilers targeting ARM: https://github.com/mstorsjo/llvm-mingw/releases
    
    Currently, compilation fails with this configuration, because neon features are used as long as __ARM_NEON is defined, but arm_neon.h was not included.

commit 3853531f6d11d1824b6a0ce0212c06e79483d22d
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Mon Mar 15 10:43:14 2021 +0600

    Fix CMake script on Linux

commit 9996cecc726a8d8900fd817d58f9505b3490d1bc
Author: Haelwenn (lanodan) Monnier <contact@hacktivis.me>
Date:   Mon Mar 15 05:26:46 2021 +0100

    Set ALT_OGL to libOpenGL.so.0 instead of libOpenGL.so.1

commit 5f7eb88ae0990f89ec3a4bf697ec03aafee1a9a8
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun Mar 14 22:36:20 2021 +0600

    Load libOpenGL.so.1 if libGL.so.1 is not found

commit b49e0953b14be38cdeada86df84a59c92e38aeff
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Mar 14 14:10:50 2021 +0300

    regenerated configure

commit 1957ffd21ab5a3be6f347def510fcb8f985d3b8b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Mar 14 11:04:28 2021 +0300

    fixed a typo in SDL_ceilf()

commit 34de3b57a101f8d885041add5e21311a153bb1bf
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Thu Mar 11 15:10:29 2021 +0600

    Fix CMake script on FreeBSD

commit dacf6cfbaa8c66ea6150f95aadad2954f116836c
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Thu Mar 11 12:03:22 2021 +0600

    Fix compilation with iconv on FreeBSD

commit a5f3ea14487f1a36b1d421d02e86f25704f8bdc8
Author: nia <nia@netbsd.org>
Date:   Wed Mar 10 09:36:46 2021 +0100

    netbsdaudio: Handle ioctls failing
    
    A user reported that the mpv video player hangs after attempting to
    set an unsupported number of channels with the SDL audio output,
    because it thinks it's successfully opened the device. This makes
    the failure graceful.

commit 4fbd60b81714f8f93946520147cb0c1f05faee64
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Mar 9 12:22:48 2021 -0500

    audio: pipewire: Remove the nickname portion of sink/source names
    
    Removes the node nickname from sink/source nodes as it doesn't provide any useful information and names now match those used in Pulseaudio, so any stored configuration data will be compatible between the two audio backends.

commit cd3809c03e6d41a73cdb7c4a2e84c56e3d45cd7a
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Mar 10 20:06:07 2021 -0800

    SDL: Updated patches for HAIKU
    
    Revert change

commit 9e23c65237b480c74a0a2537b9927f6e52ca22aa
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Mar 10 16:48:05 2021 -0800

     SDL: Updated patches for HAIKU

commit 72bcf546f90423f05eda0fa08510e340683ff6f4
Author: kenmays <maybird1776@yahoo.com>
Date:   Wed Mar 10 16:47:08 2021 -0800

     SDL: Updated patches for HAIKU

commit 3d22731d94d6259255ef3fd5006c8c6c80e377b4
Merge: 9d46bd25c 51345623e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Mar 11 20:10:07 2021 +0100

    Merge pull request #4175 from 1bsyl/br_blit_rgb555_to_rb1555
    
    Fixed bug 3727 - Blit from RGB555 to ARGB1555

commit 51345623e888d7bc4131cd8f015c339f757ea68a
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Mar 11 20:06:09 2021 +0100

    Fixed bug 3727 - Blit from RGB555 to ARGB1555

commit 9d46bd25c7db0fcfaf70ac7d33b4058648e057ab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 11 17:00:10 2021 +0300

    revert commit 81cdb1bb0de (unifont license issue.)

commit 3a1317ed47698c268574e1d0018edd6485f5dbc4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 9 15:54:25 2021 -0500

    Minor tweak to workflow settings.
    
    There was an (innocently intended, I assume!) "make X great again" joke in a previous commit message, and I'd like this not to be the first thing people see on our GitHub project page, so I added some whitespace to the end of this file.
    
    Apologies to any that were bothered by that, it was an accident!

commit 33127271e5cce161a2bc50a09edc2db4631edd53
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Mar 9 11:40:35 2021 +0300

    Fix typecasting

commit a4ddb175f1f1d832960c830191daaab7eb25638f
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Mar 8 19:28:58 2021 +0300

    Formatting

commit 4f9fde87669051ff7d8b8aeb01bbf1ed664c076d
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Mar 8 19:20:33 2021 +0300

    Fix types

commit 1e5cc961999f3267b1f37ca8cc3bc87477057bd3
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Mar 8 19:05:19 2021 +0300

    Docs

commit 091288ac4e44800d8c5e931a28f5618b7d08f474
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Mar 8 18:41:20 2021 +0300

    Vita port builds with cmake

commit e58a955e68f30f332cf3e4e6656ef4c6e0ff6387
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Mar 8 18:39:00 2021 +0300

    Deprecate dolcesdk

commit e1d9cbf65c6ddb089f5d83defcf301245f1b7a4d
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Mar 7 13:56:38 2021 +0300

    Split mouse/kb grab

commit 29153a1c6334b2c2f8e1cb68c57e0bb60ea0a1ff
Author: uyjulian <uyjulian@gmail.com>
Date:   Sun Feb 28 14:38:55 2021 -0600

    SDL_vitamessagebox: rearrange if/else
    
    Set messageboxdata and buttonid as unused variables

commit 70a19fd5ab132b039ec98e310927daf928217fee
Author: uyjulian <uyjulian@gmail.com>
Date:   Sun Feb 28 13:59:51 2021 -0600

    SDL_vitamessagebox: if/else wrap preprocessor condition instead of two if conditions

commit abcfb22b7d964e22149352856907ae60cf91c7ad
Author: uyjulian <uyjulian@gmail.com>
Date:   Sun Feb 28 13:49:01 2021 -0600

    Add support for Vita file API in SDL_rwops

commit c8abc88cd0e4cc1ec9aee6757d9199321a436fe0
Author: uyjulian <uyjulian@gmail.com>
Date:   Fri Jan 29 01:26:35 2021 -0600

    Add support for message box

commit 91fe2b67f5072d58030dc8c488f1b204175c5bef
Author: José Cadete <crudelios@gmail.com>
Date:   Fri Feb 19 18:52:19 2021 +0000

    Allow larger texture sizes

commit 4708c6bb96c0df149643e9e00e89e41e622b7192
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Feb 14 11:52:43 2021 +0300

    Remove pkg-config prefix hack

commit e5cbe7cf7a6da8b8a443a51356abc9d532766c60
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Feb 14 00:30:42 2021 +0300

    Add l2/r2 axes, l3/r3 buttons. rumble and ledbar support for ds4

commit 7c4d20cf0494cca7f3cdefaa43156b7ba82c1880
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Feb 12 23:57:43 2021 +0300

    Fix for dolcesdk

commit 3c1fe9cea6fdce62dbcc2e9e7210cb70aeb01683
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Feb 12 23:46:01 2021 +0300

    WTF

commit 6fab3323c3773ecd1baf7ed025bf57aefe89c14a
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Feb 12 23:45:48 2021 +0300

    Typo

commit 739f4e1eb2ba02d295675dabcf47706fca2a4445
Author: José Cadete <crudelios@gmail.com>
Date:   Mon Feb 1 23:14:28 2021 +0000

    Only call sceGxmFinish when vsync is on
    
    Also fix oversight with supported textures

commit b52e9459ba8cdfd29d2b8ecc68e838e52f1f13ba
Author: uyjulian <uyjulian@gmail.com>
Date:   Fri Jan 29 01:26:13 2021 -0600

    Add support for open URL

commit 189d3c16f5e42419e71f0fa6d19f03e6ad3e5711
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jan 20 23:41:35 2021 +0300

    FIFO is default (and not defined in vitasdk, ugh)

commit 87a118b6b6cd3162de9ca9b56f927bf235b09f29
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jan 20 23:33:28 2021 +0300

    Use native mutexes

commit 7423ae1ac7327afb3acd27a988662f996f1880c1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jan 20 23:33:16 2021 +0300

    Formatting

commit a43f488920f7e24485196399c1051f3fa471ac19
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Jan 20 23:33:05 2021 +0300

    Don't search for pthread

commit ddfe7200e2afa2c16e79302e417fdee8da30760f
Author: José Cadete <crudelios@gmail.com>
Date:   Mon Jan 18 15:00:50 2021 +0000

    Rendering improvements
    
    - Improve performance for unbatched rendering
    - Support direct texture access

commit 23db5381a33e6d020659fc97aae4ec605d4c994f
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jan 11 23:54:56 2021 +0300

    Fix defines

commit c7cec2c79299a77b17649f9074ee35118dee35ff
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Jan 11 20:45:12 2021 +0300

    Add more texture formats

commit 0e9cd839d05361c4a6ced3450b376f3655d67d71
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Jan 10 00:12:46 2021 +0300

    Remove makefiles. Use cmake

commit e56c44512a5e24a550722480aa32ebe557d636b3
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Jan 10 00:12:03 2021 +0300

    Disable native framebuffer support

commit 54134fddd50c28c16ef2ac17dcae248660ee24f7
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Jan 10 00:09:46 2021 +0300

    Use Clib mem funcs

commit 5e30d84b6954e637ab48856d784c489eeae38b84
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Jan 9 23:33:32 2021 +0300

    Fix display mode

commit 10038228f91f79b6f1c8877efb8a8cd505ac6eef
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Jan 9 23:33:14 2021 +0300

    Properly cleanup framebuffer

commit 953101defd8287baef6e340393a03cb9c8f6f64b
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Jan 9 22:55:11 2021 +0300

    Oops. Fix default framebuffer color

commit 1e2eed1a018c2070157d6104aa473f744e5bf860
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Dec 28 15:32:52 2020 +0300

    Native framebuffer for software renderer

commit ff5f98b87b08cf58b05555372782718d5ea5f936
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 23 19:00:16 2020 +0300

    Fix platform

commit a7269a9ad31a7c10b55d3e057079a7f7d3db1716
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 23 17:27:01 2020 +0300

    Update video api to 2.0.14

commit 7b0b1a12fa6fc7937ba1d5dc2c7fe1a3466e0b67
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 23 17:26:52 2020 +0300

    Update thread api to 2.0.14

commit a05f92da1c5b53bfbcd316acfc20492f8d2d412a
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 23 17:26:34 2020 +0300

    Update joystick api to 2.0.14

commit 8e4271fa45de28d5a342f69c7a35a7ebafbd890d
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 23 16:54:18 2020 +0300

    Fix timers

commit e928b92f1a1e9504873832489d42bb7db8bbbbeb
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Dec 18 16:42:57 2020 +0300

    CMake support

commit 47c105161bdf3bd76a10cbbbb22a12885df656af
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Dec 18 16:42:37 2020 +0300

    Add reversive list join macro

commit ca5e5d615435cf0d57f87288f4d6199a31b50b3f
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Dec 18 16:34:24 2020 +0300

    VITASDK compatibility

commit 7d89f09f74e257d161acf710254f8ee194fd7c66
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Dec 18 14:28:09 2020 +0300

    ISO C90 fixes

commit 0de7b0eca01a0d12c8a00f99c3165203be3efba1
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Dec 14 02:08:29 2020 +0300

    Fix makefile

commit 0da35d3daf7489e36641a0ea3b8979fadeed773a
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Dec 12 23:47:15 2020 +0300

    IME support with gxm backend

commit e812ca529d73a6ea13a1ad47f342483c4dbc69ec
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 21:03:27 2020 +0300

    Enable ARM SIMD/NEON optimized blitters

commit 47c6270ece58dfe262c1f8f1fefc0a94d1664e09
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 15:28:57 2020 +0300

    Fix a bug in vitagles2 renderer

commit 639323ea0d93693ad68f75b74c70737fb0e21534
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 14:38:43 2020 +0300

    Fixed gxm render flags

commit 3ac2242e652a84b3f48939d8b22602463a1f2cae
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 12:37:39 2020 +0300

    Fix PerformanceCounter

commit 943053a92205b4977cb95481d3b29e6010633076
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 01:50:49 2020 +0300

    Clean up touch a little more

commit f61b9e7653bd6c02061c1dbcc7c8ac165e38bcf4
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Dec 9 00:37:46 2020 +0300

    Cleanup touch. Fix back touchscreen

commit d9b2bde2f66ae1007db5d35d003162891f56b161
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Dec 7 18:40:41 2020 +0300

    Fallback to app0:

commit 6f7c7c557af2c28e3fe41ffa13a93e74e1349535
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Dec 5 22:38:12 2020 +0300

    sensors corrections

commit 6d85637786ce4f85668196d45489b1e49d48eb44
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Dec 5 12:37:53 2020 +0300

    Fix sensors

commit e7edb06e7afab91698ecb92dd5539aa95aa24b70
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Fri Dec 4 00:06:15 2020 +0300

    Audio fix

commit 05e5a7cb05c23cba0b44712558c9ca699189f831
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Nov 29 22:07:53 2020 +0300

    Oops

commit a86ba3916e4db020efc2a0b1f34edaf368e73b89
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Nov 28 00:32:32 2020 +0300

    Add SDL_RenderReadPixels

commit f623211eea764d6c13313881cf25cc8719be9576
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Nov 25 00:29:04 2020 +0300

    remove sceGxmFinish on render swap

commit 0b45529e2462c831c71ac180d6cff5d733da5962
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Wed Nov 25 00:19:18 2020 +0300

    Add viewport support

commit 2209b7178988f059b6039de3d870bd76dbcb0874
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Tue Nov 24 18:12:38 2020 +0300

    Refactor render state

commit 333d5e11e1c7677a45c6fb639f4ae0f5eeac4935
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 23 20:15:39 2020 +0300

    Add drawstate cache

commit 56bde0f633ab4af150d6e2bc02d2b46e6b4361de
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 23 18:31:23 2020 +0300

    Rename memory functions to avoid clash with vita2d

commit 94d7737befd02dd13563db3c7a8a4cb612f92c30
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 23 12:45:51 2020 +0300

    Texture render target

commit 63e223fa5047f650c2725038c3df50b04d1f4d32
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 23 12:45:09 2020 +0300

    Set initial blend mode

commit 6c3bf565033ec064bdd5ff7e9ce446db9f02522c
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 23 12:44:54 2020 +0300

    Unified build with both renderers

commit a1adc8a9d68fb136d3b1f115d730d98e79e38385
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sun Nov 22 01:02:00 2020 +0300

    Add sensor support

commit bd14aa633f1125362226f94282488889357ad303
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Nov 21 23:09:30 2020 +0300

    Autobuild

commit 013110540863ffe13cec20886fa48d3b83f05775
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Nov 21 23:04:43 2020 +0300

    Fix render name

commit 6ba84975184c39ceef9246a25901193f5692f10b
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Nov 21 23:04:27 2020 +0300

    Remove vita2d render, add raw gxm render

commit ef0bbfd6c689fd3b3f6a03489e9d4feec54ae1d2
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 16 20:40:22 2020 +0300

    Include anf fix vita2d renderer

commit dbb730d39517881860b86ee6478627b01b35a9ed
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Sat Nov 14 23:37:26 2020 +0300

    Separate vita piglet renderer. Add proper render initialization and window re-creation.

commit d75ea51ac0ab966e781348ad19a88c1c291f216e
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 20:05:55 2020 +0300

    Fix texture shaders

commit 194c8138936959d591b29bd00a4015f3b3df52ba
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 19:55:01 2020 +0300

    Fix filesystem

commit 73b545ed28baf057d15078f7c00a652b83d728a7
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 19:38:20 2020 +0300

    Fix joystick support

commit 41d6c80b0710f5a977fb4ccffc5f6833819cebb7
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 19:01:25 2020 +0300

    Filesystem module

commit 2e3dd0a668bc40d5160f8d1cf9b6f8da2f334b5f
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 18:14:57 2020 +0300

    Remove debug log

commit 8003623061ddea5ee58257f870644a46a1bbfcae
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 18:10:09 2020 +0300

    Cg shaders for vita gles2

commit 2d64e37e41eb6ab4795bba90aee26269100ff770
Author: Ivan Epifanov <isage.dna@gmail.com>
Date:   Mon Nov 2 18:09:43 2020 +0300

    Initial rebase of xerpi's port

commit bd06538778102f72bad8393ef07da5a1ec444217
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Mar 8 17:02:28 2021 +0300

    configure: fix wrong AS_HELP_STRING quoting.

commit b6b0c908bd088a66cd6efc300e036be01e65cbef
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Mon Mar 8 13:56:26 2021 +0100

    Dynapi: fix 'gendynapi.pl' script for array parameters

commit a7938107ae03438d5b8cec5dc4a86f4d5a374f6f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Mar 6 11:28:04 2021 +0300

    fix SDLK_DELETE after commit 2f5beac190d

commit 2f5beac190dec5bbfb266d9a2fa46661304bbbbe
Author: Lokathor <zefria@gmail.com>
Date:   Fri Mar 5 13:15:52 2021 -0700

    Change octal char literals to hex char literals
    
    This should not change anything at all within the compiled library, but it does make the header file easier to read for non-C programmers who don't expect an octal value.

commit 391bb80bb9ac8dbdd08db87734beed0a0d3bb7e9
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Mar 5 16:53:06 2021 +0000

    Replace duplicate functions and lstrlen/lstrcat with SDL string functions

commit 67e8522d31b875874ffd24086678ee6c861ff91c
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Sat Feb 27 17:37:25 2021 -0500

    Add SDL_GetAudioDeviceSpec.
    
    This API is supported by pipewire, pulseaudio, coreaudio, wasapi, and disk.

commit 00fabdde182d1fdbd8ca0fb35545cccb11cd4d57
Author: Subs <substring@users.noreply.github.com>
Date:   Wed Mar 3 19:05:47 2021 +0100

    Make github CI great again
    The current CI doesn't work and can be fixed. To steps, use a matrix to build on various OS + allow platform specific flags.
    The linux build should cover a wider case of video backends.

commit 686935542ef2db1bd952392ea3ff423c127ce05f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 23:50:40 2021 +0300

    dos2unix SDL_dynapi_*.h

commit 34ecd71e80b651c9840f60d91be60e30305fdc6f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:44:04 2021 +0300

    CMake: don't add -Wl,--no-undefined to LDFLAGS for clang+windows cases
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit 3880174a9f04dcb9fe67c20b2186070085023c7e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:40:56 2021 +0300

    CMake: set OPT_DEF_LIBC to ON for clang case, too.
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit 05cc9e37649a6e522a98a810bd5865e3bfcd546d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:40:50 2021 +0300

    CMake: move GCC check after CLANG, so that CLANG is properly recognized
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit 81cdb1bb0de4762a69d4339bc5fb278e0c3cc9ef
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:32:32 2021 +0300

    test: add unifont-9.0.02.hex as a resource (so it works out-of-the-box)
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit a52d0db5328d89ba27be786b4fc81063f203db46
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:28:10 2021 +0300

    test/CMakeLists.txt: add OpenGL module checks and adjust dependencies.
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit e7abf96801bc17c56d05308adc894001bfa8ab63
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:28:04 2021 +0300

    test/CMakeLists.txt: bump cmake minimum required to 3.0 for consistency
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit dd5aff308aa45bcd4dcf2df253c92faf084b7a9c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:27:56 2021 +0300

    SDL_fillrect.c: updated SSE_BEGIN macro for windows clang-cl
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit 0ed17131288015c3fa050888ca1432655c629db7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:27:47 2021 +0300

    update SDL_COMPOSE_ERROR macro for windows clang-cl
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit e228d15261e624e9b91f578bbe20f43f3d70fddf
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:27:37 2021 +0300

    SDL_config_windows.h: added clang to list of toolchains having stdint.h
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit c1c4f274c34b5281c83191bd765c50e30312799b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Mar 4 18:27:32 2021 +0300

    cpuinfo: updated xgetbv call for windows clang-cl.
    
    from a patchset by Vladislav Dmitrievich Turbanov:
    https://github.com/libsdl-org/SDL/pull/4062

commit e88d78462e63c6d964f70d3d1f836e24929adbc6
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Mar 4 14:36:33 2021 +0100

    Update SDL_blit_auto.c

commit ab0cf42a4b2e6f31ccefeead36dc1bda4dcb031e
Author: Sylvain <sylvain.becker@gmail.com>
Date:   Thu Mar 4 14:33:56 2021 +0100

    Software nearest scaling: start at the middle of pixel
    so that it matches opengl GL_NEAREST mode most of the time

commit ac8a3fda8f2b8cda2b8a478a7cd7b57db1118280
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Mar 3 20:33:20 2021 +0300

    fix prepare_audiospec() possibly missing a bad SDL_AUDIO_CHANNELS env.

commit 6158621610a2fef5d94483352c636ad7acc50350
Author: Nicolas Noble <nicolasnoble@users.noreply.github.com>
Date:   Tue Mar 2 21:39:38 2021 -0800

    Update cpuid code for clang-cl
    
    The clang-cl compiler defines `__llvm__` but not `__GNUC__`. The `__cpuid` intrinsic doesn't seem to exist with clang-cl, so the code won't link properly. The `__GNUC__` versions of these functions will work properly on Windows with clang-cl.

commit 4de0c74aa74c568de942f01f4609ee7d9601c8ab
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Mar 2 10:02:59 2021 -0500

    audio: pipewire: Add the application name to the stream properties

commit 9ed01da70161d3650e6e5bb557a565c7b2ba9f9e
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Mar 2 09:47:47 2021 -0500

    audio: pipewire: Constify and clarify period size calculations
    
    Constify the min/max period variables, use a #define for the base clock rate used in the calculations and note that changing the upper limit can have dire side effects as it's a hard limit in Pipewire.

commit d7ca855c2b0d69182f599692a62f0c124f8d7992
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Tue Mar 2 09:33:11 2021 -0500

    audio: pipewire: Add missing static qualifiers to globals

commit 84c44e01d3bcf693e80c624bc82e03e49d40144c
Author: Oschowa <oschowa@web.de>
Date:   Mon Mar 1 12:39:52 2021 +0100

    audio: pipewire: fix uninitialized variable warnings

commit 0a6832217044074c43ec652219492c3e7793c3ba
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Mar 1 15:11:50 2021 +0300

    add missing PIPEWIRE defines to SDL_config.h.in
    
    also specify 'audio' in Pipepire configuration enable messages.

commit 7001b531c6c5517d8e0c2824675d11d926afb3d8
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 27 12:53:08 2021 -0500

    audio: pipewire: Add vim format lines to files and fix indentation
    
    Increase indentation spacing from 2 to 4 to comply with style standards.

commit 2fcba50ec99e67c8efc65eb409525c346a2171d7
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 27 12:08:15 2021 -0500

    audio: pipewire: Code and comment cleanups
    
    Replace "magic numbers" with #defines, explain the requirements when using the userdata pointer in the node_object struct and a few other minor code and comment cleanups.

commit 4eadd147cd34da124a44e430627b34daecfdb858
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Thu Feb 25 14:00:23 2021 -0500

    audio: pipewire: Fix outdated comment

commit cd56f1b346b72a1c441f592dd77db275bfeb7fe6
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 24 14:36:58 2021 -0500

    audio: pipewire: Use "rear" designation for rear channels
    
    Use the 'R' (rear) prefixed designations for the rear audio channels instead of 'S' (surround).  Surround designated channels are only used in the 8 channel configuration.

commit adc0a931dd81caae433180d9824cb8f6e86604ec
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 24 14:08:08 2021 -0500

    audio: Move Pipewire bootstrap after Jack
    
    Move the Pipewire audio driver below others in the list so it won't be mistakenly initialized when it's not the system mixer.

commit 21adec93b959f7a48b0cc5c0018621ad786895bf
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Wed Feb 24 12:02:54 2021 -0500

    audio: pipewire: Make enumeration structure and function names more descriptive
    
    Rename the add/remove/clear list functions and rename connected_device to io_node, as a sink/source node isn't necessarily a device.

commit a07f5434366b43eb0787170ca57293599bb58c64
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sun Feb 21 13:24:20 2021 -0500

    audio: pipewire: Report default devices first
    
    Further refactor the device enumeration code to retrieve the default sink/source node IDs from the metadata node.  Use the retrieved IDs to sort the device list so that the default devices are at the beginning and thus are the first reported to SDL.

commit 9afd7570d602488c21afc6d875eb9cc874a224fe
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 20 13:33:12 2021 -0500

    audio: pipewire: Always buffer source audio
    
    The latency of source nodes can change depending on the overall latency of the processing graph. Incoming audio must therefore always be buffered to ensure uninterrupted delivery.
    
    The SDL_AudioStream path was removed in the input callback as the only thing it was used for was buffering audio outside of Pipewire's min/max period sizes, and that case is now handled by the omnipresent buffer.

commit 106dc009acb27f6bcfb61aa34eb30001beec2926
Author: Frank Praznik <frank.praznik@oh.rr.com>
Date:   Fri Feb 19 17:18:36 2021 -0500

    audio: pipewire: Pass proper parameter to user audio callback
    
    The audio callbacks should pass the callbackspec.userdata parameter to the callback, not spec.userdata
    
    Co-authored-by: Oschowa <Oschowa@web.de>

commit f3ebbc06d3e9ac16cd133c77aa877196b433ef2a
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Fri Feb 19 16:02:20 2021 -0500

    audio: pipewire: Retrieve the channel count and default sample rate for sinks/sources
    
    Extend device enumeration to retrieve the channel count and default sample rate for sink and source nodes.  This required a fairly significant rework of the enumeration procedure as multiple callbacks are involved now.  Sink/source nodes are tracked in a separate list during the enumeration process so they can be cleaned up if a device is removed before completion.  These changes also simplify any future efforts that may be needed to retrieve additional configuration information from the nodes.

commit 2f0b99a774687bb36342117cb9c21e78fcdfa114
Author: Frank Praznik <frank.praznik@gmail.com>
Date:   Sat Feb 13 11:56:05 2021 -0500

    audio: Add Pipewire playback/capture sink

commit 57a927e8d7f4290c7aa696c86144ac88c3bcac3d
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Feb 12 14:27:58 2021 -0500

    wayland: Explicitly set min/max size for xdg-shell

commit 33598563b35067417c2fed8fab03c503438ce6f6
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Fri Feb 26 23:21:25 2021 +0600

    Fix coding style

commit 69a600b00e9eb157b418c4f004d72babfd3ba8d2
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Fri Feb 26 22:24:48 2021 +0600

    Implement requested changes

commit 0e35f0be1f3cb9b4d726c4c938b7cc623359f1a1
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Fri Feb 26 21:43:36 2021 +0600

    Fix KMSDRM-related warnings

commit dfa64eadd38a6a8125290dcf121f1bc285e98dad
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Feb 25 19:22:31 2021 -0600

    KMSDRM: Add hint to enable the backend without DRM master
    
    In some cases, it can be useful to have the KMSDRM backend even if it cannot
    be used for rendering. An app may want to use SDL for input processing while
    using another rendering API (such as an MMAL overlay on Raspberry Pi) or
    using its own code to render to DRM overlays that SDL doesn't support.
    
    This also moves the check for DRM master to an earlier point where we can fail
    initialization of the backend, rather than allowing the backend to initialize
    then failing the creation of a window later.

commit 8c5b7af2d2f317c42c5437aa4b4dc7c3f5a06057
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Feb 25 19:30:47 2021 -0600

    Wayland: Fix mouse pointer hiding on Plasma Wayland
    
    Unlike Mutter and Sway, KWin actually checks the serial passed in
    wl_pointer_set_cursor(). The serial provided is supposed to be the
    serial of the pointer enter event, but We were always passing 0.
    This caused KWin to drop our requests to hide the cursor.
    
    Thanks to the KDE folks for spotting this in my debug logs.
    
    Fixes #3576

commit d2d834b990a6dfb172c14d4c83a904e4c09e016a
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Thu Feb 25 15:21:59 2021 +0600

    KMSDRM: Add gamma support

commit 72f7a10cef85a3c8d1bb32f55e2ae6902ee0c3d5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Feb 25 19:40:28 2021 +0300

    disable pixman ARM blitters for __aarch64__ | _M_ARM64
    
    Closes:  https://github.com/libsdl-org/SDL/issues/4095

commit 2f4e9294aa260635d876b5699846adc458f555db
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Feb 25 14:09:07 2021 +0000

    Update the Linux build instructions

commit e561ce3a7536d0906460b894b4d17a72ba9641c8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Feb 25 01:40:02 2021 +0300

    SDL_cpuinfo.c: replaced gcc i386 checks with __i386__ .

commit 55a385a333034c0012de75968429fdd5f6755cb3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Feb 24 20:03:50 2021 +0300

    removed a useless restriction from Watcom version of SDL_Swap32()
    
    also did a little whitespace tidy-up.

commit b8d2185277bd80e8ccaa31c4a5a7baa08a2afb23
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Feb 23 17:37:20 2021 +0300

    added Watcom i386 inline asm for SDL_Swap64()

commit c287087fcce57af086c0a52f74fcdb74e9084c55
Author: JibbSmart <smartjibb@hotmail.com>
Date:   Tue Feb 23 09:26:03 2021 +0800

    Only change joystick->nbuttons for Joy-Cons, since they're the only ones that have these "paddles"

commit ee52624f957bbc2eb225ec14e69a8cac9a938045
Author: JibbSmart <smartjibb@hotmail.com>
Date:   Mon Feb 22 17:23:13 2021 +0800

    Switch Joy-Con SL and SR buttons are now mapped to matching paddle positions so that all buttons can be accessed when using SDL_HINT_JOYSTICK_HIDAPI_JOY_CONS

commit 7a2b6f331b2744315865370c4e611bc631cceaca
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Feb 22 13:32:42 2021 +0100

    Guard Inotify stuff with macro
    
    This fix implicit declaration of close and unused variable warning.

commit 8481229ff78172c532295ec44b363d7bb9962cb8
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Feb 22 15:00:52 2021 +0100

    Fix error handling in KMSDRM_AddDisplay
    
    Add missing `goto cleanup` and check that `dispdata` is not NULL before dereferencing it.

commit 2df9c15e96c45fd89d0cf5e6fb890397df4b76f9
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Mon Feb 22 14:51:42 2021 +0100

    Fix memory leak in KMSDRM_Vulkan_CreateSurface
    
    Variable `device_props` is never freed.

commit b3498a5dc2ca067c39efc9f96b3885e66502c0f0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 22 15:50:02 2021 +0300

    make SDL_syswm.h work with apple's older gcc versions
    
    c.f. https://bugzilla.libsdl.org/show_bug.cgi?id=2694

commit bb76edf3d7e092079f6c475c3fc95665217a6840
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 22 15:44:32 2021 +0300

    fix permissions of a few files

commit 844d5e3ed390c5fcf7022fdc1d33d3f38cdaf471
Author: Mathieu Eyraud <70028899+meyraud705@users.noreply.github.com>
Date:   Sun Feb 21 11:54:50 2021 +0100

    Fix memory leak in ConnectSensor
    
    'name' is leaked in case of error.

commit 557aa140e8f1a95e5da9f67e0b28e637b8135928
Author: Martin Gerhardy <martin.gerhardy@gmail.com>
Date:   Sun Feb 21 14:18:09 2021 +0100

    CI: fixed branch name

commit f63e827efa4d8c54c31a01fb2090203a0a86fd33
Author: Martin Gerhardy <martin.gerhardy@gmail.com>
Date:   Sun Feb 21 14:16:49 2021 +0100

    DOCS: group the markdown

commit 306e808da19e56832e7cd811384a00ccc7969246
Author: Martin Gerhardy <martin.gerhardy@gmail.com>
Date:   Sun Feb 21 14:02:30 2021 +0100

    CI: added github pages build job

commit 5d266e9bba8b11dbf604c1a74f536e61d3d4311d
Author: Martin Gerhardy <martin.gerhardy@gmail.com>
Date:   Sun Feb 21 13:57:38 2021 +0100

    CI: added github actions

commit 11cb53d2a54cfd105e30242aa364b23c77998984
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Sun Feb 21 23:28:49 2021 +0100

    [KMSDRM] Add missing break and modify comments.

commit 9172e413ada9eea0a405b95f9b669b71853dc89d
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Sun Feb 21 22:57:22 2021 +0100

    [KMSDRM] Fix intermitent bug in Vulkan initialization on Raspberry Pi 4.

commit 1a17ab30e17f22c390caa1403f32dfac03532dff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 21 11:03:26 2021 -0800

    Added mappings for popular controllers on Chromebooks

commit f5e9c5b7e07a7b88d664aa8eca7d63efbe0a37c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 21 11:03:25 2021 -0800

    Chromebooks support relative mouse motion now

commit db58166e9bb107a3008a8c37abe6e859dd3f30b6
Author: David Gow <david@ingeniumdigital.com>
Date:   Sun Feb 21 17:28:08 2021 +0800

    joystick: hidapi: Properly include <unistd.h> when inotify not available
    
    In the extremely unlikely event that inotify is not available (and,
    therefore, HAVE_INOTIFY is not #defined), SDL will no-longer build.
    
    This is because <unistd.h> is only included when HAVE_INOTIFY is
    defined, and PR #4098 adds a call to access(…, F_OK), which requires
    <unistd.h>.
    
    (Note that the F_OK symbol is the only one which actually prevented
    SDL from compiling, but both access() and close() fell back to implicit
    definitions, which is a bit concerning.)
    
    Fixes: 8d43f45a7b ("Don't use udev for joystick enumeration if running in a container")

commit 360740ac766f29ff78bd5aa0ba1380c72f1cebdb
Author: Amir <amkad87@gmail.com>
Date:   Fri Feb 19 18:07:53 2021 +0300

    correct dynapi

commit 5696582e1d58435b4637617d0d956ce9a0457010
Author: Amir <amkad87@gmail.com>
Date:   Fri Feb 19 14:22:31 2021 +0300

    add SDL_AndroidShowToast for https://developer.android.com/reference/android/widget/Toast

commit 1a924bc0bb15a7aaf4fdfc1628f892bbc4717587
Author: Amir <amkad87@gmail.com>
Date:   Fri Feb 19 12:54:57 2021 +0300

    add SDL_AndroidShowToast for https://developer.android.com/reference/android/widget/Toast

commit 8d43f45a7b7ceab6a7d1aa8bf8afa905853ba8c2
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Tue Feb 16 14:13:30 2021 +0100

    Don't use udev for joystick enumeration if running in a container
    
    If we are running in a container, like Flatpak[1] or pressure-vessel[2],
    it's likely that we are using user namespaces,
    therefore udev event notification via netlink won't work reliably.
    Use their filesystem API to detect them and automatically fallback to
    the inotify-based enumeration.
    
    [1] <https://flatpak.org/>
    [2]
    <https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/tree/master/pressure-vessel>
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit 2c3269152a9b363b0b67c035f79a745b2791b2dc
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Tue Feb 16 12:39:48 2021 +0100

    Use inotify for HIDAPI joystick enumeration if not using udev
    
    This improves SDL's ability to detect HIDAPI joystick hotplug in a
    container environment because we cannot reliably receive events from
    udev in a container.
    
    For a more detailed explanation of why this issue happens with
    containers, please check the previous commit
    "joystick: Use inotify to detect joystick unplug if not using udev"
    (b0eba1c5).
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit b17242bf9839a3796d82264f653df2dd4d416f9b
Author: Ludovico de Nittis <ludovico.denittis@collabora.com>
Date:   Tue Feb 16 11:50:20 2021 +0100

    Allow libudev for HIDAPI joystick to be disabled at runtime
    
    As already explained in the previous commit "joystick: Allow libudev to
    be disabled at runtime" (13e7d1a9), libudev can fail in a container.
    
    To make it easier to experiment with, we add a new environment variable
    "SDL_HIDAPI_JOYSTICK_DISABLE_UDEV" that disables udev and let it
    fallback to the device enumeration using polling.
    
    Signed-off-by: Ludovico de Nittis <ludovico.denittis@collabora.com>

commit 0052339b6694df5af17d1e25c44cdc4930f5a992
Author: Jay <jay@jmbp.local>
Date:   Sat Feb 20 19:53:44 2021 +0000

    Move handleURLEvent setEventHandler to init

commit 42607909a0b19b36c26be804c75b6050dba97af3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 20 22:51:57 2021 -0800

    Remove devices from the list after they've been disconnected due to read errors.
    
    This fixes problems with controllers not being re-detected when a computer goes to sleep and a controller is removed and plugged back in while it's asleep.

commit 08547adb52080e6eddbdd7a0e9f6847859631d8a
Author: Oschowa <oschowa@web.de>
Date:   Sat Feb 20 09:28:03 2021 +0100

    pulseaudio: Add "zerocopy" playback path

commit a29fe292969157c9262eedf2249b38431d65d00a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Feb 18 20:10:50 2021 +0300

    configury: replace host checks against *-*-mingw32* with *-*-mingw*

commit c4b7e485afa09117036e72f89e0e66e6b66f038d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 18 11:09:52 2021 -0500

    docs: README.md points to Discourse instead of the mailing list now.

commit abe2c0f1b1d7aac75051194d32fdfdec912cd868
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 18 11:06:44 2021 -0500

    license: Fixed references to COPYING.txt that are now LICENSE.txt.
    
    Fixes #4108

commit ef85ed9352febdf356f5b5345d3e30bf0dd24f7a
Author: Romain Roffé <romain.roffe@blade-group.com>
Date:   Wed Feb 17 20:53:35 2021 +0100

    pulseaudio: Initialize fragsize to fix mic recording
    
    fragsize wasn't initialized, and it is used for recording.
    If the value was 0 or -1, pulseaudio configures it itself. But sometimes
    we can get a random (and large) value that makes pulseaudio give us
    large sample at a very low frequency.
    
    https://gitlab.freedesktop.org/pulseaudio/pulseaudio/-/blob/master/src/pulse/def.h#L453
    https://gitlab.freedesktop.org/pulseaudio/pulseaudio/-/blob/v13.0/src/pulsecore/protocol-native.c#L409

commit 0a58010c0d96878e59a03c8ce6517e8d70c4d703
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Tue Feb 16 10:41:33 2021 +0600

    Fix README-kmsbsd.md Markdown display

commit ffce58a30c2b3214b5ea5a249122226c589bfa58
Author: Erik Yuzwa <erikyuzwa@gmail.com>
Date:   Wed Feb 17 11:08:13 2021 -0700

    license: Fixing the license file to be correctly scooped up by Github automation
    
    Renamed COPYING.txt to LICENSE.txt, and ensured the copyright year
    is the first line in the license file. This causes GitHub to correctly
    identify the zlib license and report it on SDL's project page.

commit e4a81a98a036c4fa9ff9b4206c986b49de5e35ee
Author: Vanfanel <redwindwanderer@gmail.com>
Date:   Wed Feb 17 12:06:29 2021 +0100

    [KMSDRM] Correct indentation.

commit d79bc0015eaf8307bfe8ac0240944fa372625122
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Feb 16 22:36:07 2021 +0000

    Update the .gitignore file

commit 9323cd51f0728a3a736f5b25fc884e35d01a31e4
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Feb 16 18:14:13 2021 +0000

    Check for ARM SIMD in testplatform

commit 98bf79cff1c60f85271a46dc000e611b7a593827
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Feb 16 18:13:15 2021 +0000

    Minor improvements for CPU detection on ARM

commit 4aa2e748448b55cd7e755d0dfbd513949a551324
Author: Matt Borgerson <contact@mborgerson.com>
Date:   Tue Feb 16 10:20:29 2021 -0700

    Add Xbox Controller S entry to gamecontrollerdb

commit 350e0ae1fd2ee54a3549ddf57833993d106a75f6
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Mon Feb 15 23:49:57 2021 +0600

    Add documentation for KMSDRM on *BSDs

commit f2a2d0c696bf7a752df3ef3c5f1d8a12d196c8a6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 15 22:56:20 2021 +0300

    SDL_render_d3d.c: fix build with SDL_LEAN_AND_MEAN

commit bd4277ee39db97367d93f5f2de8738b0fdeb7f61
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 15 20:10:50 2021 +0300

    fixed make dist (VisualC.html went bye bye..)

commit 09231c42ea9c6ca2d6cfddb75418f678f6a0a0a7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Feb 15 11:51:00 2021 -0400

    Fix flags check in test code

commit 9b9d0d484d53c3f3258871cc92bfa1e04a001e6f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Feb 15 11:49:09 2021 -0400

    mac/iOS: allow Metal in windows created without an explicit backend
    
    Fixes SDL_CreateWindowAndRenderer (and similar situations) not choosing a Metal backend. See #3991.
    
    Passing an explicit backend into CreateWindow, eg SDL_WINDOW_OPENGL or SDL_WINDOW_METAL, will still prevent the window from being used with other backend types.

commit 9c1871c14488fd324ff3285f6fb281e22beb8aa8
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Sun Feb 14 19:17:58 2021 -0700

    update path to visualc README

commit 92506462e2a666008d9e6937ab74807fdeb0be9e
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Sun Feb 14 17:12:39 2021 -0700

    update some copy

commit be17004e676082eaab4e67aaeed270578ca7ec55
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Sun Feb 14 17:03:14 2021 -0700

    updated some notes around using a newer IDE

commit 7f1b833373cc0815d25fd2f3f6989bcc5f6942de
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Sun Feb 14 16:48:29 2021 -0700

    initial work

commit a2fbc452ca7cf9c5839e009ce111552f8db38e89
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 15 03:02:32 2021 +0300

    replace i386 checks with __i386__

commit cf15faae683050075d8d6fc725e41827a113e4e6
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun Feb 14 14:24:38 2021 +0600

    Change "memset" to "SDL_zero"

commit c5f9e061b5c619bc05feba3d6e1356acd7d98551
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun Feb 14 13:13:34 2021 +0600

    Disable FreeBSD console mouse when initializing evdev input
    Enable it again after quitting evdev input.

commit d4d32833f4d558c8c1da67023abd67598d2667c5
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Feb 14 11:30:22 2021 -0400

    macOS: Fix Xcode project when deployment target is > 10.7
    
    SDL_mfijoystick.m requires ARC, but the Xcode project's macOS targets weren't compiling the file with ARC enabled.

commit b34d92bf37e72c06cc6aa8a707924d0df0726223
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Feb 14 11:56:40 2021 +0300

    further .gitignore updates

commit 0d92507d7195c6fbed65d6d950258c1df44e46d3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Feb 14 11:55:50 2021 +0300

    regenerated configure

commit 2faa4783256e6862371f426f0ef2dc239aef1d53
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Feb 14 11:55:24 2021 +0300

    further .gitignore updates

commit a6388cf2ca50164a5ce7915a57fa9f659261ef7f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 13 23:02:26 2021 -0500

    Add the usual "vi" comment to the end of pre-push-hook.

commit 3da58b47f62f049bff686312ed851d966d438c0e
Author: Misa <infoteddy@infoteddy.info>
Date:   Sat Feb 13 15:11:40 2021 -0800

    Fix errors with fallback impls of SDL_isxdigit() and SDL_ispunct()
    
    SDL_isxdigit() should only accept A-Fa-f, not A-Za-z (it shouldn't use
    SDL_isalpha()).
    
    SDL_ispunct() shouldn't accept spaces (it should use SDL_isgraph()
    instead).

commit fe6f62e6ce6cdf2583b513a4b39ec4f3d93dec87
Author: Joshua Saxby <joshua.a.saxby@gmail.com>
Date:   Wed Feb 10 15:17:02 2021 +0000

    Add ALIAS targets to all installed SDL2 targets
    This provides a linking interface that matches the one available when `find_package()` is used, by aliasing all of SDL's public targets into the SDL2:: namespace. Thus, dependees link to the same-named targets regardless of how SDL was acquired.
    This approach permits the use of wrappers around CMake's FetchContent API such as https://github.com/cpm-cmake/CPM.cmake

commit dfe219ec715e465328dc72bd03712ef435b0eb3c
Author: Misa <infoteddy@infoteddy.info>
Date:   Sat Feb 13 11:21:19 2021 -0800

    Add all missing "is characteristic" stdlib functions
    
    SDL has been missing a bunch of these 'isX' functions for some time,
    where X is some characteristic of a given character.
    
    This commit adds the rest of them to the SDL stdlib, so now we have:
    - SDL_isalpha()
    - SDL_isalnum()
    - SDL_isblank()
    - SDL_iscntrl()
    - SDL_isxdigit()
    - SDL_ispunct()
    - SDL_isprint()
    - SDL_isgraph()

commit 88f1c2c1b04c4c7026e806bd0de35d02174731c4
Author: Cacodemon345 <wahil1976@outlook.com>
Date:   Sun Feb 14 00:42:37 2021 +0600

    Replace "echo -en" with "printf" in autoconf script
    
    Fixes summary output on FreeBSD.

commit 67a9d6ba98fdba24c44fbf59928a5213fcaccafa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Feb 13 20:50:24 2021 +0300

    updates to .gitignore

commit 3937eefcfb8f7a9ad1df49449d9cdaf52dd06578
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Fri Feb 12 19:43:32 2021 -0700

    a draft for a pull_request template

commit 1a48ca666ffbdbbdf2b7d36f7cab0228b098da0f
Author: Charlie Birks <charlie@daft.games>
Date:   Thu Feb 4 16:20:54 2021 +0000

    emscripten: Create directory recursively in GetPrefPath

commit fa367cdd5c8cf768b746744b1ccd6122d91f1a4b
Author: Stephan Vedder <vedder@mbits.info>
Date:   Tue Nov 24 10:56:50 2020 +0100

    emscripten: Fix alt key being a nav key

commit 20be1d634b71db251af0c2ba096cbc9cdaec15b7
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Wed Jul 15 09:13:03 2020 -0700

    emscripten: Automatically resume audio contexts
    
    This uses the mechanism added in emscripten-core/emscripten#10843
    which was applied to SDL1 and OpenAL. This adds the same for SDL2.
    
    This also reverts commit 865eaddffed50dbd13e6564c3f73902472cf74e8
    which did something similar, but the new mechanism is more effective.

commit edaf3f9c9c13bde969e1627cb9e1240da9114275
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Apr 21 15:02:06 2020 +0100

    emscripten: Extend the "nav key" blacklist
    
    Add the F keys and Ctrl/Alt+*. Consistent with other naviagtion
    disabling. Also, none of these generate keypress events anyway.

commit 82a96afa70212da94de758df859e94cccdb2c805
Author: Erik Yuzwa <erikyuzwa@gmail.com>
Date:   Sat Feb 13 09:49:31 2021 -0700

    Update wiki.libsdl.org urls to libsdl-org/SDL/wiki (#4069)

commit 5cbe62eac01cdf7256231b0f97824ed6c67c8f7b
Author: erik yuzwa <erikyuzwa@gmail.com>
Date:   Fri Feb 12 19:28:57 2021 -0700

    ignore vs2019 meta folder

commit 9f71a809e9bd6fbb5fa401a45c1537fc26abc1b4
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Feb 12 22:01:29 2021 +0000

    Rename .hgignore to .gitignore

commit a99eec7751133599f6c3d71c2268da9c40bffd08
Author: Ethan Lee <flibitijibibo@gmail.com>
Date:   Fri Feb 12 14:31:43 2021 -0500

    wayland: Minor whitespace fix

commit 0e9fd0f8bbec01ee6c087bd9f7d939b3df7f51f5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 12 17:12:56 2021 -0500

    Added a script that can be used to show commit URLs during a `git push`.
    
    Just symlink/copy it to .git/hooks/pre-push and make sure it's executable!

commit 65fbf36c9e31ba3e64b5434bb22744f6dd537c05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 12 14:46:49 2021 -0500

    Cleaned up a few more Bugzilla mentions.

commit 60a99b0b592c909e89ada007341a1383581ea89b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 12 14:41:11 2021 -0500

    BUGS.txt now points to GitHub Issues instead of bugzilla.libsdl.org.

commit 4ff51d29c31b01876792967719b5e9f08e8c0500
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 12 14:15:29 2021 -0500

    Deprecate SDL_GetRevisionNumber and update things for git instead of hg.
    
    Fixes #4063

commit ee25a1e6e2373652b31e289da0ab8c85a630ba81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 12 08:54:08 2021 -0800

    The revision defaults to the empty string

commit 9deffcd325ed1b35c23b2f3724885484c0a1800d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 12 08:50:16 2021 -0800

    Updated the revision header with git revision

commit 39153f81b927e0f832c46bb73e04c448b0638817
Author: soredake <5204968+soredake@users.noreply.github.com>
Date:   Thu Feb 11 09:37:58 2021 +0200

    add Linux mapping for Ipega PG-9087S, closes #3783

commit f443a6fc7afd6fda907cd1475385e2e3ce5ee533
Author: Jay Petacat <jay@jayschwa.net>
Date:   Thu Feb 11 02:05:02 2021 -0500

    Fix format string warnings for width-based integers
    
    The DJGPP compiler emits many warnings for conflicts between print
    format specifiers and argument types. To fix the warnings, I added
    `SDL_PRIx32` macros for use with `Sint32` and `Uint32` types. The macros
    alias those found in <inttypes.h> or fallback to a reasonable default.
    
    As an alternative, print arguments could be cast to plain old integers.
    I opted slightly for the current solution as it felt more technically correct,
    despite making the format strings more verbose.

commit 5427f4861bfd7cb20c1950fa475879a27d8d169b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 11 17:28:07 2021 -0800

    Added support for trigger rumble for all Microsoft Xbox One controllers

commit 1f7ec3fa4e7c713d62494d05618351e709254a07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 11 17:27:22 2021 -0800

    Added support for the PowerA Xbox One Series X Wired Controller

commit f9046b4cab1a274f34dd5bde5dc6962919f0f644
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 11 17:35:42 2021 -0500

    We're in Git now! Updated docs.

commit cad67082f325ea29a742bc9bf6ee5eba83372c79
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Thu Feb 4 19:04:56 2021 -0500

    wayland: Check for both _WAYLAND_CLIENT_H and WAYLAND_CLIENT_H

commit 31e8a4627a2d798bbe8724dd29e45a8b5daa0fa4
Author: Vladislav Dmitrievich Turbanov <vladislav@turbanov.ru>
Date:   Wed Feb 10 20:54:15 2021 +0300

    * Fixed closing the test window.

commit ef52560a2494217b8c6f0c3ea230f5e3863f14a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 9 15:10:06 2021 -0800

    Fixed bug 5539 - Clang 11 fails to compile a CMake build with conflicting types for _m_prefetchw
    
    vladius
    
    In SDL_cpuinfo.h it seems like <intrin.h> is not included when __clang__ is defined, as the comment in the file explicitly reads:
    "Many of the intrinsics SDL uses are not implemented by clang with Visual Studio"
    
    However, the SDL_endian.h header does include <intrin.h> without any precautions like:
    >#ifdef _MSC_VER
    >#include <intrin.h>
    >#endif
    
    Maybe it should be changed to something like:
    >#ifdef _MSC_VER
    >#ifndef __clang__
    >#include <intrin.h>
    >#endif
    >#endif

commit 629334f2836fafe1d5487aa39641898d013fdfb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 9 15:02:55 2021 -0800

    Fixed bug 5543 - Wayland: Fix waylandvideo.h warnings
    
    wahil1976
    
    This patch fixes the warnings seen when compiling the Wayland backend. This will also be required in the future to avoid issues with compilation.

commit f70e197363f21e8734fd28452c19f9f9bf89dc11
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Feb 8 18:31:08 2021 -0600

    Fix waiting on condition variables with the SRW lock implmentation
    
    When SleepConditionVariableSRW() releases the SRW lock internally, it causes
    our SDL_mutex_srw state to become inconsistent. The lock is unowned yet inside,
    the owner is still the sleeping thread and more importantly the owner count is
    still 1.
    
    The next time someone acquires the lock, they will bump the owner count from 1
    to 2. At that point, the lock is hosed. From the internal lock state, it looks
    to us like that owner has acquired the lock recursively, even though they have
    not. When they call SDL_UnlockMutex(), it will see the owner count > 0 and not
    call ReleaseSRWLockExclusive().
    
    Now when someone calls SDL_CondSignal(), SleepConditionVariableSRW() will start
    the wakeup process by attempting to re-acquire the SRW lock. This will deadlock
    because the lock was never released after the other thread had used it. The
    thread waiting on the condition variable will never be able to wake up, even if
    the SDL_CondWaitTimeout() function is used and the timeout expires.

commit d9ba20442e2980a6a99431eb03f178c4f985d69b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 8 16:55:01 2021 -0800

    Backed out changeset 852a7bdbdf4b
    This causes a use-after-free memory error

commit 4183211a544b3a4e7c8c3222c223527fa17c1812
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Feb 8 16:01:37 2021 -0800

    free the 'display' after it was added to global list

commit 005e2c59a7ea1e07eb6c5282cc722dd5334eb033
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Feb 9 00:57:25 2021 +0100

    [KMS/DRM] Bugfix number #5535: Improve reliability, by wahil1976.

commit 2170c7bfde8470b158aa8d35829e6c6e501ba56a
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Feb 8 23:55:50 2021 +0300

    make AddressSanitizer optional and disabled by default

commit 5045d299a6a73219d0e70abb74d6a17186a4db0f
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Feb 8 20:50:00 2021 +0300

    enable AddressSanitizer only for GCC 5 onwards (bug #5533)

commit 066960c207bf72d9f0f1eef4e2f59f3b382e498d
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Feb 8 02:15:50 2021 +0300

    add '-shared-libasan' to debug flags (bug #5533)

commit dc45a228b92351aab02a1d7b4c6470c3798db53d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Feb 8 00:20:56 2021 +0300

    avoid some pedantic warnings in array initializers

commit 9c3aa7f0553c0dda250575d567f8b536a6402ec4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 6 15:43:17 2021 -0800

    SDL: fix packet handling for original version of Stadia FW

commit bb9e049d1d30f5263983bb2524d73f34cf99dbe8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Feb 7 00:37:00 2021 +0300

    minor updates to libc function checks

commit 19fa85d8afd675ab760feec202d5e5a6225ec57c
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Feb 6 16:05:55 2021 +0100

    [KMS/DRM] Fix build warning.

commit 6ee53258cd1984da0f96cafbf8fd8293dcb046d0
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Feb 6 14:03:53 2021 +0100

    [KMS/DRM] Replace indent tabs with spaces, as intended.

commit 59cd46c24ac50bf2c1003296e029d9078b266041
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Feb 5 22:16:50 2021 +0100

    [KMS/DRM] Merge patch for bug #5532: No need to correct cursor position now that all windows are fullscreen. Link: https://bugzilla.libsdl.org/show_bug.cgi?id=5519.

commit 538f7ad6b72f054663eb02aea086370f5c397fff
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Feb 5 00:27:11 2021 +0100

    [KMS/DRM] Remove redundant SDL_SendWindowEvent() call.

commit 7beba05013106fc1f69de9f848473d745a552912
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Feb 4 23:35:52 2021 +0100

    [KMS/DRM] Restore all-windows-are-fullscreen functionality, since there is no window manager in KMSDRM.

commit f4d58689e0cfb760f56b0c273804b691eb05283d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Feb 3 18:00:22 2021 -0600

    Fix Xbox Series X controller on macOS
    
    There were two different implementations of IsBluetoothXboxOneController(), one
    in SDL_hidapi_xbox360.c and one in SDL_hidapi_xboxone.c. The latter had been
    updated to include USB_PRODUCT_XBOX_ONE_SERIES_X_BLUETOOTH while the former had
    not.
    
    This mismatch led to the Xbox Series X failing on macOS only. We have special
    code for handling the 360Controller driver for macOS which requires us to use
    the Xbox 360 driver for wired Xbox One controllers, and the SDL_hidapi_xbox360
    version of IsBluetoothXboxOneController() was used to determine which devices
    were wired.
    
    In addition to adding the missing USB_PRODUCT_XBOX_ONE_SERIES_X_BLUETOOTH, this
    change moves IsBluetoothXboxOneController() into a single shared function which
    will ensure this bug won't happen again.

commit 525196dd8b3634ac723d87fff440e0e6723cd892
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 4 10:47:16 2021 -0800

    Updated runtime dependency on libudev

commit ff297753db29f07bf83c1237e0f8e09a9dcecde6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 4 10:46:34 2021 -0800

    Fixed compiler warning

commit a60af1e4d06827dda56d55f014ed16136c533892
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 4 07:00:06 2021 -0800

    Backed out changeset 1cde3dd0f44d - this breaks windows which are created and then set to FULLSCREEN_DESKTOP

commit d74779b7483d6692c247b30b15d97823096cfe02
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 4 13:50:56 2021 +0100

    Android: documention update

commit e404b525f1c9b06091fc745b8afb43479f8c26b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 3 21:31:50 2021 -0800

    KMSDRM doesn't have a window manager, so all windows are fullscreen

commit 549bc13362a6f8c37cc91cf4f8aedc9507b3b46f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Feb 3 09:51:42 2021 +0100

    SDL_vulkan_utils: minor code clean-up

commit c0166a29b71fa1f5198e94c2a6da4224c2a2009a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Feb 3 09:32:09 2021 +0100

    SDL_ConvertColorkeyToAlpha: remove and clarify a FIXME
    This function doesn't handle bpp 1 or 3 case, because those formats never have an alpha channel

commit 85235985fb555367ee7fa4e2645ddb958e26807a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 2 11:53:31 2021 -0800

    Fixed detecting the paddles on the Xbox Elite Series 1 controller

commit 69e9b2acee6272030e1cc9b0f8c51ecb5095863d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 1 22:35:46 2021 -0800

    Fixed bug 5471 - Creating a fullscreen desktop window goes windowed temporarily
    
    This is caused by the Metal renderer recreating the window because by default we create an OpenGL window on macOS.
    
    It turns out that at least on macOS 10.15, a window that has been initialized for OpenGL can also be used with Metal. So we'll skip recreating the window in that case.

commit ef2f13e125a7951d5b4362f17232531601067b20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 1 22:30:31 2021 -0800

    Added test command line options to force different window types

commit 2426949a188a7440b88e1333b16dc1931de5337d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 1 21:56:56 2021 -0800

    Removed support for clock_gettime_nsec_np()
    
    SDL_GetTicks() was broken and it's not adding any real value here.

commit 42798cec8b48f8cbe5b1cc94a128185c2e5c707c
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Mon Feb 1 20:25:24 2021 -0800

    cmake: enable AddressSanitizer in Debug builds if supported

commit fadfa5102209a2f756adc4e567509f5a352f1d06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 1 09:21:11 2021 -0800

    Don't uncorrelate while rumble is active and stay correlated longer in case raw input messages are lagging a bit.

commit e862856e6f8c56ec2d3aba5168c9b8b3958561a7
Author: Sebastian Krzyszkowiak <sebastian.krzyszkowiak@puri.sm>
Date:   Mon Feb 1 08:57:39 2021 -0800

    wayland: Don't crash when the properties of already existing wl_output change

commit cef198c9cb95713c973f661aa9313cebb490ccb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 1 08:55:48 2021 -0800

    Fixed bug 5524 - Pass NSString to NSLog()
    
    Hiroyuki Iwatsuki
    
    If you pass the C string directly to NSLog(), it will be garbled with Japanese and probably other language strings, or no log will be output at all.
    
    NSLog("Hello, World!"); // => "Hello, World!"
    NSLog("こんにちは、世界！"); // => No output...
    
    Therefore, you need to convert the string to an NSString before passing it to NSLog().
    
    NSString *str = [NSString stringWithUTF8String:"こんにちは、世界！"];
    NSLog(@"%@", str); // => "こんにちは、世界！"
    
    Thank you.

commit b7f711cd76ba925fa62bdbedd0b9ce01c065b5cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 31 19:11:49 2021 -0800

    Don't enable address sanitize flags without checking compiler first

commit 0ed16ceddb007d0b960a5859398546c937654bd3
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun Jan 31 19:10:02 2021 -0800

    free 'outputs' in 'Wayland_DestroyWindow'

commit a44678465f9b84a07077c993afbfdce10bd9e3f9
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun Jan 31 19:09:44 2021 -0800

    free the 'data_device_manager'

commit f8b4a6e25a3cd914d0abe6be5907a75d50a5f8fb
Author: Christian Rauch <Rauch.Christian@gmx.de>
Date:   Sun Jan 31 19:09:25 2021 -0800

    cmake: enable AddressSanitizer in Debug builds

commit 3ae2ec34fa3a8aec0471ad49c1941b6b4966f41e
Author: Sebastian Krzyszkowiak <sebastian.krzyszkowiak@puri.sm>
Date:   Sun Jan 31 19:06:37 2021 -0800

    wayland: Fix transform and scale handling when setting display mode

commit 2c76433151ec22c752d7b7346c4895b9f7020617
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jan 31 04:04:26 2021 +0100

    [KMS/DRM] Merge patch for bug 5522#: Implement KMSDRM_GetWindowWMInfo().

commit bfa51c3845687ed16f651e3d9c7ef92183662088
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jan 31 03:48:29 2021 +0100

    [KMS/DRM] Fix for bug #5518: only do async pageflips when hardware supports them.

commit 79cd8cab08615a656e51b021e0e8397fd869d1a3
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Jan 27 20:41:36 2021 -0600

    Add default handler for Alt+Tab while keyboard grab is enabled
    
    By default, we will minimize the window when we receive Alt+Tab with a
    full-screen keyboard grabbed window to allow the user to escape the
    full-screen application.
    
    Some applications like remote desktop clients may want to handle Alt+Tab
    themselves, so provide an opt-out via SDL_HINT_ALLOW_ALT_TAB_WHILE_GRABBED=0.

commit 9d70711342d7660231108449bfef318354fc26cf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 30 20:09:35 2021 +0100

    Revert checks on destination scaling size (see bug #5510)

commit 088fb52579c779259b672bb501aa1a75ff8dc9c9
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 29 23:32:42 2021 +0100

    [KMS/DRM] Correct small omission on bugfix #5513: y-coord correction has to be done on WarpMouseGlobal, too.

commit 2cc70ca39e07f4e29effdf2389ede9f463543826
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 29 13:04:01 2021 -0800

    Fixed crash if the GameCube controller hasn't been opened yet

commit 091a4649e8349cc0c9e91495b7f4a918dfb14258
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 29 23:11:13 2021 +0300

    added --enable-xinput switch for windows builds

commit d6a6662fa19e521574a472e9e9e25c3dcabe7fac
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 29 20:34:20 2021 +0100

    Remove checks on destination scaling size (see bug #5510)

commit 8d95aba1741a6b17778c23e6ea603586c7f109e9
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 29 18:17:16 2021 +0100

    [KMS/DRM] Remove unused KMSDRM_SetWindowGrab prototype in header file.

commit b17c49509b78beb19c44a736972abba211c971a3
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 29 18:08:04 2021 +0100

    [KMS/DRM] Patch for bug #5513. KMSDRM backend can now manage and use several displays.

commit a78bce9e383fcfd41ecd3811759bce6f8c418ef8
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jan 28 20:02:01 2021 -0600

    Properly handle keys already down when the hook is installed
    
    For keys that are already down when we install the keyboard hook, we need to
    allow the WM_KEYUP/WM_SYSKEYUP message to be processed normally. This ensures
    that other applications see the key up, which prevents the key from being stuck
    down from the perspective of other apps when our grab is released.

commit dc0ec827aa9b8cebea79dfc2839e75a4d850a046
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 29 13:38:39 2021 +0100

    Remove old YUV fixme

commit ebb814310acff35ce40b405c4ef4fa8dbdd49a42
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 29 12:04:48 2021 +0100

    Add checks for maximun scaling size (see bug #5510)

commit 7f710e93f05dcdc73ee0914e20afd0da275796d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 28 14:54:01 2021 -0800

    Make sure we don't create a game controller mapping for HID devices that aren't supported by HIDAPI

commit 7e19c634c16a61c2669b0fa7fcb5a95af9396ffb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 28 14:53:59 2021 -0800

    Note that the Logitech G29 (PS4) is a racing wheel

commit 431b79cf346501e4a52e8b7fae286d7ff1c48b9b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 29 00:55:00 2021 +0300

    SDL_config_os2.h: remove some duplicated lines.

commit 582e1f4a1c789f8248836b74897ad2d5f7de2962
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 28 23:03:50 2021 +0300

    config.guess and config.sub updates from mainstream

commit d59f8dafe4be0d1fce900b12416654978c8157be
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 28 15:34:33 2021 +0100

    Fixed bug 5510 - simplify the scaling functions blit auto (generated file)

commit 0b338bffe6017509ab6b783594cdd3c211020454
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 28 15:33:47 2021 +0100

    Fixed bug 5510 - simplify the scaling functions

commit dd6e02df630fb9921bd8c692b7c9ffbedb1b7984
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 28 11:03:45 2021 +0100

    SDL_stretch: remove un-used vars, same notation as blit functions

commit 1dc9180fb6acf5f9e015fdbf5fb924159f3d80df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 21:30:25 2021 -0800

    Fixed compiler warnings

commit d59a926837d1161c1961d36d2babfbfc08a94c3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 21:30:21 2021 -0800

    Fixed build warning

commit eb83da023473f2f2afc7247a79eae2b17fa983ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 21:30:17 2021 -0800

    Fixed PS4 controllers over Bluetooth on Windows 7

commit d95a9eaedc6981cdda811fb6af196ce765330343
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 21:30:13 2021 -0800

    Added WIN_IsWindows8OrGreater() for internal use

commit 808249a5ca282454dd8ab777019f480a3eb87349
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Wed Jan 27 19:40:55 2021 -0600

    X11: Ungrab the keyboard when the mouse leaves the window
    
    GNOME Mutter requires keyboard grab for certain important functionality like
    window resizing, interaction with the application context menu, and opening the
    Activites view. To allow Mutter to grab the keyboard as needed, we'll ungrab
    when the mouse leaves our window.
    
    To be safe, we'll do this for all WMs since forks of Mutter and Matacity (and
    possibly others) may have the same behavior, and we don't want to have to keep
    track of those.

commit 87f090070119fcb9314cd8571440277a383fa0ae
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 28 00:11:24 2021 +0300

    SDL_LowerSoftStretchLinear: assign result from scale_mat() to ret.
    
    otherwise it would always return -1 when SSE and NEON instrinsics
    are absent.

commit 24d6fda2c31cb7c936cee4f565819ff8f3aa604e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 12:50:09 2021 -0800

    Fixed bug 3816 - asm code in video/SDL_stretch.c
    
    Sylvain
    
    I propose this new version for SDL_stretch.c that drops mprotect and asm
    
    Code is similar to the StretchLinear, but the steps computation are kept similar to the nearest.
    so that:
    - it's pixel perfect with nearest
    - as fast as asm I think
    - no asm, nor mprotect
    - benefit for all archicture

commit d81eaf8da5e98d4e3475cbff25a6c62b2bb0569b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 12:43:35 2021 -0800

    Added explicit case from Uint8 to int before subtracting offset

commit bec9d740ecceaedb5e7a4f7aaa31a01af2579f00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 12:41:58 2021 -0800

    Fixed compile warning

commit a4db44fa71d8c279eed8581385a2225d626498e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 12:41:37 2021 -0800

    The Sharkoon Skiller SGH2 headset hangs in DirectInput enumeration, so avoid it here just in case.
    
    See bug 5485 for details.

commit 06ad887f44203966b194cdcf95309046a2a1a2ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 11:39:03 2021 -0800

    Fixed bug 3816 - asm code in video/SDL_stretch.c
    
    Ozkan Sezer
    
    - adds MSVC __declspec(align(x)) support,
    - disables asm if PAGE_ALIGNED no macro is defined,
    - still disables asm for gcc < 4.6, need more info,
    - drops Watcom support.

commit 1e5f0073c6b9d4c91b2319a1999c8303d9b32b10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 27 10:58:36 2021 -0800

    Fixed building with mingw64

commit 70b353d1a553bf6bdc4ce7de7783db72488172b3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 27 10:54:49 2021 +0100

    SDL_Update{YUV,NV}Texture: also intersect rect with texture dimension

commit 13626c3681d81b72864add756a32ed98bb0605d3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 27 10:20:13 2021 +0100

    SDL_UpdateTexture: intersect update rect with texture dimension
    - fix crash with software renderer
    - fix non texture update with opengl/gles2

commit 5e3cf0d1f4a18a7918283626fef8e5252ae45b4a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 27 09:34:23 2021 +0100

    SDL_SoftStretch: disable asm path if mprotect isn't available (see bug #3816)

commit 6b057c67839e707a0e593fd61e7f4577c8fae333
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Jan 26 19:16:17 2021 -0600

    Expose separate keyboard and mouse grab support
    
    This adds SDL_SetWindowKeyboardGrab(), SDL_GetWindowKeyboardGrab(),
    SDL_SetWindowMouseGrab(), SDL_GetWindowMouseGrab(), and new
    SDL_WINDOW_KEYBOARD_GRABBED flag. It also updates the test harness to exercise
    this functionality and makes a minor fix to X11 that I missed in
    https://hg.libsdl.org/SDL/rev/02a2d609369b
    
    To fit in with this new support, SDL_WINDOW_INPUT_CAPTURE has been renamed to
    SDL_WINDOW_MOUSE_CAPTURE with the old name remaining as an alias for backwards
    compatibility with older code.

commit ff827fc767bd236f5dbcddfec92e641d09e35213
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 26 21:15:15 2021 +0100

    SDL_SoftStretch: re-enable USE_ASM_STRETCH path for gcc >= 4.6

commit a1d288bea1c108b0eb714d5ef995021ade85ed74
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Tue Jan 26 00:05:01 2021 -0600

    DirectFB: Split input grab handling into keyboard and mouse parts
    
    The grabbed_window field is superfluous now since SDL added the
    SDL_GetGrabbedWindow() function, so it can be removed.
    
    DirectFB_SetWindowMouseGrab() is also simplified because SDL handles ungrabbing
    any previously grabbed window prior to calling SetWindowMouseGrab() now.
    
    Compile-tested only.

commit de85d6125633d8b0d02a410eb12278bca3154876
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 25 20:51:47 2021 -0800

    Fixed bug 5497 - SDL_COMPOSE_ERROR is wrong
    
    UMU
    
    #define SDL_COMPOSE_ERROR(str) SDL_STRINGIFY_ARG(__FUNCTION__) ", " str
    
    I think SDL_STRINGIFY_ARG should be removed.
    
    #define SDL_COMPOSE_ERROR(str) __FUNCTION__ ", " str
    
    (verified with Visual Studio 2019)

commit de1c19b3f51cd3d5681c7d3d319672a51c0c31f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 25 20:43:21 2021 -0800

    Fixed bug 5481 - iOS-specific main sources not used for CMake build.
    
    Aaron Barany
    
    The CMake build for SDL doesn't set SDLMAIN_SOURCES on iOS to the sources in src/main/ios. As a result, SDL fails to initialize since it falls back to the dummy main. Adding the line file(GLOB SDLMAIN_SOURCES ${SDL2_SOURCE_DIR}/src/main/uikit/*.c) fixes the issue.

commit ac72a2ba8e0473257d0e2cc5d3cfb0e9f071399a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 25 20:38:50 2021 -0800

    Fixed bug 5493 - Hint to let the user opt out of having Switch controllers' Home button lit when opened
    
    jibb
    
    New hint to let the user opt out of having Switch controllers' Home button lit when opened.
    
    This is more consistent with the Switch itself (which doesn't light the button normally) and may be preferred by users who may disconnect their controller without letting the application close it.
    
    I think this warrants a Switch-specific hint because the default behaviour is unusual (inconsistent with using a Switch controller on a Switch itself or with some other programs on PC), and because of that it's distinct from other lights (the player number on Switch controllers and the player colour on PlayStation controllers).

commit f23022ef97feeb49b6de78211e06c3a0582771a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 25 20:03:21 2021 -0800

    Removed non-functional window grab implementations

commit a0d3c6c63c42ded69fcdb3f37a10c2a7f6b5abac
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Mon Jan 25 21:42:14 2021 -0600

    Rename SetWindowGrab() to SetWindowMouseGrab()

commit d133a5f6f7c1ae4a2c89eb767c29d19723252358
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Sun Jan 24 17:19:48 2021 -0600

    wayland: cancel key repeat when keyboard focus is lost
    
    SDL_SetKeyboardFocus(NULL) will lift any keys still pressed when keyboard focus
    leaves the window, but then key repeat comes behind our backs and presses the
    key down again. This results in an infinite stream of SDL_KEYDOWN events when
    focus leaves the window with a key down (particularly noticeable with Alt+Tab).

commit 2793c9cfb0af642aabf0f83700a84e441b2ca035
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jan 25 18:40:26 2021 -0600

    Fix grabbing Alt+Tab and Alt+Esc on Windows 7

commit e1f73e642b7613129db68081ec1fc1cc4222ae53
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Sat Jan 23 16:22:44 2021 -0600

    Refactor keyboard grab to be managed by the video core
    
    This gives us flexibility to add others hints to control keyboard grab behavior
    without having to touch all of the backends. It also allows us to possibly
    expose keyboard grab separately from mouse grab for applications that want to
    manage those independently.

commit f40551c5f67964e43a744a6406a649eba2073bd1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 25 22:17:11 2021 +0100

    GLES2 SDL_Renderer: remove old ZUNE_HD defines and simplify shader cache

commit aa4a6b0b88b2e0b1206a147570bb7af3aff15350
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 25 04:11:40 2021 +0300

    better check for clock_gettime_nsec_np() -- cf. bug #5467.

commit d327bbfbfdbe4495dc5625bef2b8dd0c90330f8f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 24 17:37:24 2021 +0300

    CMakeLists.txt: fix check_symbol_exists() for clock_gettime_nsec_np

commit b852590ba57039ff4993748ac5f9edcdc342379e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 24 17:02:40 2021 +0300

    minor clean-up in SDL_os2audio.c

commit 141f441633e7ea860e5fa3cc2573b88e393269d6
Author: Brandon DeRosier <x@bdero.me>
Date:   Sun Jan 24 03:55:04 2021 -0800

    fix build failure due to -Werror=declaration-after-statement (bug #5500)

commit 8e1005f8b00c0ef7d015e20ae9e88eb6bef41242
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Jan 23 22:47:06 2021 +0100

    [KMS/DRM] Bugfix for #5489: Non-FULLSCREEN windows incorrecty use videomode changing to look fullscreen.

commit e787282ba8021388d955a7481027beee46ea4f65
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Sat Jan 23 15:40:22 2021 -0500

    Implement Wayland_SetWindowResizable

commit 360e04dd23088a1a0687ff246b972fb8f33ac340
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 23 13:15:02 2021 -0800

    Added Stadia controller source file to Visual Studio and Xcode projects

commit c16cfc0e92833a446c10e04a2bf338982bff3303
Author: Simon McVittie <smcv@collabora.com>
Date:   Sat Jan 23 11:22:35 2021 -0800

    waylandtouch: Don't export interface structs
    These are explicitly written in C code rather than generated at build
    time, so they weren't affected by changing how we invoke
    wayland-scanner.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit c857b5e0c96f5ca1dcfc5b487466b8ade27fbdbc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 23 11:21:01 2021 -0800

    Minor cleanup

commit 1981d23f4b5bd1a8ff8ea382516beda88ebbf673
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 23 11:06:35 2021 -0800

    Fixed bug 5466 - Add haptic support for Stadia Controller
    
    Dimitriy Ryazantcev
    
    Consider adding support for Stadia Controller haptics.
    
    Here is example code how to deal with it:
    https://github.com/chromium/chromium/blob/99314be8152e688bafbbf9a615536bdbb289ea87/device/gamepad/hid_haptic_gamepad.cc#L45

commit 96cfb81232e3e7679e68665c05b84249a069cd75
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 23 09:50:43 2021 -0800

    Fixed bug 5467 - SDL sys timer Mac OS update proposal
    
    David Carlier
    
    Change of api from 2016 which reduce code complexity a bit.

commit 0f57864c9eb60807da20d793290d9f4b1a19d756
Author: JibbSmart <JibbSmart@localhost>
Date:   Mon Jan 18 19:57:29 2021 +0800

    Hint SDL_HINT_JOYSTICK_HIDAPI_JOY_CONS added so we can recognise a Joy-Con as half a Pro Controller, so we can read its analog input and read its sensors just like we do a Pro Controller.

commit bd553ea868d1babfff9b3d2fc97ab7949ddb2e4d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Jan 20 21:17:20 2021 -0600

    Implement support for inhibiting the screensaver on Wayland
    
    We support both the org.freedesktop.ScreenSaver D-Bus API (same as the X11
    backend) and the Wayland idle_inhibit_unstable_v1 protocol.
    
    Some Wayland compositors only support one or the other, so we need both to
    for broad compatibility.

commit 7ff3832e4de0434c4287aeeec24a8064b69e493e
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Fri Jan 22 19:22:17 2021 -0600

    Fix continuous scrolling speed on Wayland
    
    Wayland compositors seem to have standardized on 10 units per "wheel tick" for
    continuous scroll events, so we need to convert these axis values to ticks by
    dividing by 10 before reporting them in SDL_MOUSEWHEEL events.

commit 8c921d820180b46eb6eb9fabaeeea5b7397473c9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Jan 22 19:40:26 2021 -0600

    Implement keyboard grab support for Windows
    
    This is implemented via a low-level keyboard hook. Unfortunately, this is
    rather invasive, but it's how Microsoft recommends that it be done [0].
    We want to do as little as possible in the hook, so we only intercept a few
    crucial modifier keys there, while leaving other keys to the normal event
    processing flow.
    
    We will only install this hook if SDL_HINT_GRAB_KEYBOARD=1, which is not
    the default. This will reduce any compatibility concerns to just the SDL
    applications that explicitly ask for this behavior.
    
    We also remove the hook when the grab is terminated to ensure that we're
    not unnecessarily staying involved in key event processing when it's not
    required anymore.
    
    [0]: https://docs.microsoft.com/en-us/windows/win32/dxtecharts/disabling-shortcut-keys-in-games

commit fd65aaa9a86410083673d057c65e214f10362069
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 17:30:50 2021 +0300

    move outdated winmm and psp joystick codes to struct _SDL_JoystickDriver
    
    build-tested only. (bug #5472.)

commit 8f1025899a128815b0cd5dc4fa8f00bc632e06bc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 17:28:10 2021 +0300

    os2audio: changed backend name from MMOS2 to DART (like SDL-1.2)

commit 2376458841839cec2e92da4b99037b1c5322e8f7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 17:24:28 2021 +0300

    renamed SDL_JOYSTICK_USBHID_MACHINE_JOYSTICK_H to SDL_HAVE_MACHINE_JOYSTICK_H

commit 02e61a88fbca33d1ca11058fbc0747615a1128e7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 17:18:09 2021 +0300

    added SDL_JOYSTICK_OS2 to SDL_config.h.in and SDL_config.h.cmake

commit d0c5097cdc19875e35001fe1cbacfd68511de01e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 03:41:02 2021 +0300

    minor autotools build system updates.

commit 4eb2b9f809e5fd847b28e5980cf6587ec7c64759
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 23 03:03:55 2021 +0300

    fix permissions of config.guess and config.sub

commit f68b36df75f70a54fc3e2a3171bbdb2fd62f8c1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 22 11:42:42 2021 -0800

    Added support for the EVORETRO GameCube Adapter in PC mode

commit 9c88eac8563bfa09e45a16e48afb077d0853e8ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 22 11:40:20 2021 -0800

    ControllerList: fix typo

commit 11fce32162d7ec97bcfcbc394c224f870c22724a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 22 20:20:02 2021 +0300

    SDL_dinputjoystick.c: fixes to dfDIJoystick2[] array from Wine git.
    
    Fix V/A/FSlider dwOfs values in c_dfDIJoystick2
    https://source.winehq.org/git/wine.git/commitdiff/af2f4194263702a946c65d255580176ee50b5914
    
    Add missing ASPECT flags for c_dfDIJoystick2
    https://source.winehq.org/git/wine.git/commitdiff/e2e100272ffede3c720da7bbd11b53ac0bcee8eb
    
    Closes bug #5474.

commit 4a776557af99915bf1a8f19d99795057b389cc3a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 22 20:10:02 2021 +0300

    old os2 analogue joystick code ported from SDL-1.2. disabled by default,
    
    build-tested only.

commit e91f83c1e07848a16e923db5be02185a8f35a40b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 22 20:03:50 2021 +0300

    hidapi.h: adjust so that it gives a smaller diff against mainstream

commit d4794028bb3d28fd7a828e668c9a201db294ce26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 22 08:45:38 2021 -0800

    Fixed build

commit 9e45372a2f735e7d73adf16608ffdde4b6dc26d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 21 22:47:37 2021 -0800

    Fixed build on Android and iOS

commit 19236b462a8af09670c9fd5490cea293d3fc2b75
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jan 21 21:49:13 2021 -0600

    Implement support for minimizing windows on Wayland
    
    This required a bit of extra code to deal with the transition from minimized
    back to fullscreen

commit cf84ec441f8192ee50ae2aa8c6f8bf70c3bb91ca
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Wed Jan 20 23:19:24 2021 -0600

    Improve reliability of cursor hiding on GNOME Wayland
    
    Hiding the cursor doesn't appear to work reliably on GNOME when another window
    steals mouse focus right as we call SDL_ShowCursor(SDL_DISABLE). This can happen
    when the keyboard shortcut inhibition permission prompt appears in response to a
    call to SDL_SetRelativeMouseMode() with SDL_HINT_GRAB_KEYBOARD=1. The result is
    that the default cursor is stuck locked in position and visible on screen
    indefinitely.
    
    By redrawing the cursor on pointer focus enter, the cursor now disappears upon
    the first mouse motion event. It's not perfect but it's way better than the
    current behavior.

commit bf53651d737f3182f7961f32fb3b085014f4d9b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 21 22:32:17 2021 -0800

    Make sure we only do GameCube adapter initialization if we were able to load libusb

commit 3527b49459ab730a09cb646361ae7528a26a2cf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 21 22:30:34 2021 -0800

    Fixed initializing the Nyko and EVORETRO GameCube adaptors
    
    This requires root on most Linux distributions, as we have to directly send USB messages to the devices to enable input reports.

commit b6ae9a7cbaea91b905aaf6de34948fbf1a3c78ad
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 21 21:20:10 2021 +0300

    renamed my_gradd.h to SDL_gradd.h

commit 178ae70a2965f6184e5ff964bfa4d4cb1dfa02a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 20 12:18:10 2021 -0800

    Don't add paddle mappings for the Xbox One Elite Series 1 controller, since they can't be unmapped and read directly on that controller.

commit d789ba83324eb66e90e37bd628bd80e1d38959da
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Tue Jan 19 18:20:07 2021 -0600

    Implement keyboard grab support for Wayland
    
    Use zwp_keyboard_shortcuts_inhibit_manager_v1 to allow SDL applications
    to capture system keyboard shortcuts like Alt+Tab when keyboard grab is
    enabled via SDL_HINT_GRAB_KEYBOARD.

commit 6e97170e965ba630b4d26bd9ea6a7399ab68aeb2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Jan 8 21:16:06 2021 -0600

    Use PS4 rumble hint as the default for the PS5 rumble hint
    
    Existing SDL applications may not know about the need to set a specific
    hint to enable rumble on PS5 controllers, even though they may already
    set the equivalent SDL_HINT_JOYSTICK_HIDAPI_PS4_RUMBLE hint for PS4
    controller rumble support.
    
    Rather than requiring those developers update their apps, let's use the
    SDL_HINT_JOYSTICK_HIDAPI_PS4_RUMBLE value as an indication of the behavior
    they are expected for all PlayStation controllers.

commit 07f83cd5a674ba49a102d942d3c6a2220a7ed32a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 19 19:50:10 2021 +0300

    hidapi/libusb/hid.c: fix race condition on device close (bug #5484)
    
    From hidapi mainstream git: https://github.com/libusb/hidapi/issues/142
    https://github.com/libusb/hidapi/commit/d2c3a9862eefe2d3f4db0f00c0238277bfb4e44b
    
    Read callback may fire itself on its own even after its been requested
    to stop and exactly before the calling code waits for its completion in
    indefinite loop.  Explicitly preventing re-fireing the submission loop
    fixes the issue.

commit ee93f0edeedde9891e79093a7d2c3e84ee310eda
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Jan 19 15:35:43 2021 +0100

    [KMS/DRM] Revert unaproved fix for bug #5465.

commit 6393d14de585f0f0b6f6a3d7b820548aa93999ef
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 19 15:50:28 2021 +0300

    SDL_virtualjoystick.c: remove wrong #endif comment.

commit 327ea974361ab35b406083f3e7d30496f601b837
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 19 15:50:02 2021 +0300

    hidapi/libusb/hid.c: whitespace tidy-up.

commit 282558379ee328b4815b1e6983314301c2ffdba8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 19 14:55:20 2021 +0300

    fix AC_CHECK_HEADER for libusb.h

commit 4fbb9f31ab8506c3df7c6a71e1754da9f63df391
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 19 11:01:00 2021 +0100

    Fix declarations after statement

commit 0e7d435f13e84f33c0fdd7942f3d0a5bc82a776c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 19 10:40:42 2021 +0100

    Add basic testgles2_sdf program to demonstrate sign distance field with opengles2

commit e1d932f8b66bcc2580e283606167cb4a541e99e2
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jan 17 21:33:51 2021 +0100

    [KMS/DRM] Fix for bug #5468: corruption on dynamic cursor changing caused by wrong buffer size.

commit 99facb1df3019ba2608d4c7a6834a554bb52d567
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jan 17 21:17:01 2021 +0100

    [KMS/DRM] Fix for bug #5470: ratio correction for fullscreen windows with no matching resolution. Correct bracket position in else statements so they follow the coding style.

commit c265e73f3bcf126d86da1afdb924d4f3677ed19f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 17 10:05:11 2021 -0800

    Fixed bug 5473 - Add WSCONS support for NetBSD
    
    wahil1976
    
    This patch adds WSCONS support for NetBSD.

commit f3835702d33dfdb65a835b98fe24aa1586a1bb72
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jan 17 05:00:50 2021 +0300

    fix build with --disable-directx

commit 2ea393bd83caa3d268efdeecc483f9f3f40b42fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 15 14:36:21 2021 -0800

    Fixed the screenshot button mapping on third party Bluetooth Nintendo Switch Pro controllers

commit 03665004d0b5d1aa51cfdaade1aa190038f46495
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 15 15:00:17 2021 +0100

    [KMS/DRM] Small fix to KMSDRM_Waitpageflip(). More comments on how it works.

commit bdb3e6b84ffa08ea173de60ce9919381ccaaf4cb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 15 12:40:00 2021 +0300

    SDL_hidapi_switch.c: fix build with older compilers

commit 69bd7ebbcadf5dda6216a7a95f5c108a04be2602
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 15 00:02:33 2021 -0800

    Fixed build

commit e3dbae501031eef619adaafd3ff15dd6b776ea10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:41 2021 -0800

    Get the serial number for the Nintendo Switch Pro controller

commit 5fc743c4fd570ddc04cb720d92a6577bb8c83cbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:37 2021 -0800

    Phantom Nintendo Switch Pro Controller initialization problem

commit 92742306a6f90d62c7159adf433a778ffb1f4ddd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:33 2021 -0800

    Fixed rumble reset failing for Switch Pro controllers in USB mode

commit d0b87fede62f2b16bd80eaa76f7ae7924330914a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:27 2021 -0800

    Added HIDAPI rumble debug info

commit e2f46ed8ef5c62b2a12db93dddcbbed9cfffa05a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:20 2021 -0800

    Always lock the HIDAPI device when closing, in case rumble is pending

commit 907b8eebc312ce395be14b797caa604e7ff76f01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 23:49:16 2021 -0800

    Make sure the HIDAPI device is locked when closing it, in case there is rumble pending that didn't complete

commit b3848c5120a3a9c06838ced21f03a068e24db7b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 15:15:57 2021 -0800

    Fixed bug 5445 - Incorrect Switch Pro Controller face buttons when SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS disabled
    
    jibb
    
    I'm testing with DualShock 4, DualSense, Switch Pro Controller, and PowerA Switch Controller.
    
    I'm using the standard mapping file from here:
    https://raw.github.com/gabomdq/SDL_GameControllerDB/master/gamecontrollerdb.txt
    
    With SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS turned off (set to "0") I expect the button positions to be the same on all devices, based on Xbox controller button naming (eg SDL_GameControllerGetButton(g, SDL_CONTROLLER_BUTTON_Y) gives me whether the North face button is pressed).
    
    However, the Switch Pro Controller layout is wrong (matching labels rather than positions, so X and Y are swapped and A and B are swapped). And with the PowerA controller the East and West buttons are correct, but the North and South buttons are swapped instead.
    
    Mathias Kaerlev
    
    Also seeing this on 2.0.14. This is most likely a regression, since we weren't seeing this on an earlier SDL version.
    
    I suspect it might be caused by this commit:
    https://github.com/spurious/SDL-mirror/commit/a569b211881c6d4c73f3f1019e9f66e754ca546b#diff-da9344d94c66b8c702a45e7649f412039f08bba83bd82de33f5c80ea9c8c39d5
    
    It seems like both the HIDAPI driver and SDL_gamecontroller.c will try to swap the buttons if the hint is set to 0, causing the button remap to cancel out.

commit bdc6e4ffc5db34940b11bb63e2379bcf194ed990
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 15:03:11 2021 -0800

    Fixed bug 5195 - Replugging in "mixed" controller types crashes on macOS
    
    RustyM
    
    This is related to Bug 5034, but crashes under a somewhat different condition.
    
    In the latest tip (changeset 13914) or with the SDL 2.0.12 source + David?s 5034 patch, unplugging and then replugging in certain controller types on macOS will crash. A mix of new controllers like Switch Pro, PS4 and Xbox One all work without issue. But if a controller without a rumble function, like many SNES retro USB gamepads, is mixed with a PS4 or Switch Pro controller it will crash.
    
    File: joystick/darwin/SDL_sysjoystick.c
    Function: static recDevice *FreeDevice(recDevice *removeDevice)
    On line 159: while (device->pNext != removeDevice) {
    Causes: Thread 1: EXC_BAD_ACCESS (code=1, address=0x188)
    
    This can be reproduced in testgamecontroller" by starting the test program with both a ?retro? controller plugged in and a ?modern rumble? controller (Switch Pro/PS4). This may crash on launch, but it depends on which controller ends up as device 0. If it doesn?t crash, unplug the ?modern rumble? controller and plug it back in.
    
    Some of the "retro" controllers I?ve seen this crash with:
    - iBuffalo SNES Controller
    - 8Bitdo SN30 Gamepad (in MacOS mode)
    - Retrolink NES Controller
    - HuiJia SNES Controller Adaptor
    
    The issue appears macOS specific. Seen on 10.12.6 and 10.14.6. Not seen on Windows 10.
    
    The while loop in FreeDevice() assumes that every device is not NULL.
    
        recDevice *device = gpDeviceList;
        while (device->pNext != removeDevice) {
            device = device->pNext;
        }
        device->pNext = pDeviceNext;
    
    So maybe we should check for NULL here? Or instead prevent adding NULL devices to the list in the first place? Checking device for NULL before entering the loop appears to work.
    
        recDevice *device = gpDeviceList;
        if (!device) {
            while (device->pNext != removeDevice) {
                device = device->pNext;
            }
        }
        device->pNext = pDeviceNext;

commit d54b125a860e83dac32efc0029e0055f0d1435c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 14:53:34 2021 -0800

    Fixed bug 5287 - Support building for UWP with CMake
    
    Jan Niklas Hasse
    
    Actually the SDL2-static target works, if I set SDL_SENSOR to OFF. Awesome!
    
    See this patch: https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/0003-sdl2-fix-uwp-build.patch

commit 351abc585bef3508c87fc25ab03435dff72c9875
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 14:50:15 2021 -0800

    Fixed bug 5463 - generated Wayland interfaces are included in the library's ABI
    
    Simon McVittie
    
    In versions since 1.15, the `code` mode is a deprecated alias for
    `public-code`, which emits symbols with default visibility, overriding
    SDL's -fvisibility=hidden option.
    
    Use the `private-code` mode instead. This emits symbols with hidden
    visibility, so they do not affect the ABI of libSDL.
    
    See also: https://bugreports.qt.io/browse/QTBUG-73099,
    https://lists.freedesktop.org/archives/wayland-devel/2018-February/037097.html

commit 6a342954e8d00d461e55607a3d196e7d6f334298
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 14:42:53 2021 -0800

    Fixed bug 5451 - Can't create EGLSurface in Wayland from SDLWindow (no EGLNativeWindow pointer)
    
    sashikknox
    
    In some cases, need create EGLWindow with SDLWindow. In X11 i can get pointer to NativeWindow from **struct SDL_SysWMinfo wmInfo**
    ```C++
    struct SDL_SysWMinfo wmInfo;
    SDL_GetWindowWMInfo(ptSDLWindow, &wmInfo)
    #if defined(__unix__) && defined(SDL_VIDEO_DRIVER_X11)
    nativeWindow=(EGLNativeWindowType)wmInfo.info.x11.window;
    nativeDisplay=(EGLNativeDisplayType)wmInfo.info.x11.display;
    #endif
    ```
    than i can create EGLSurface
    ```
    eglCreateWindowSurface(nativeDisplay, EGL_CONFIG, nativeWindow, SURFACE_ATTRIBUTES);
    ```
    in Wayland i can do it with same way, just need pointer to **EGLWindow**, we already have pointer to **wl_display** from **SDL_sysWMInfo**, need add to **wl** struct in SDL_SysWMInfo another pointer to **struct wl_egl_window *egl_window;**. And in wayland backend, in function **Wayland_GetWindowWMInfo** return pointer to **egl_window** from **SDL_WindowData**
    Now i use patched statically built SDL2 in port of Quake 2 GLES2 for SailfishOS (it use QtWayland):
    link to SDL2 commit and changed string for patch:
    - https://github.com/savegame/lp-public/commit/6858a618cd179b766fe3cab36055f07cb03ad0ea
    - https://github.com/savegame/lp-public/blob/b1e29e87b9d15780e47f04918b329ac15554fc69/SDL2/src/video/wayland/SDL_waylandwindow.c#L463
    
    link to use in Quake2 port:
    1. here i get pointer to EGLNativeWindowType:  https://github.com/savegame/lp-public/blob/6d94fedb1b720da24999ae6286a1809cd3d55ff5/Engine/Sources/Compatibility/OpenGLES/EGLWrapper.c#L319
    2. then use it for create EGLSurface: https://github.com/savegame/lp-public/blob/6d94fedb1b720da24999ae6286a1809cd3d55ff5/Engine/Sources/Compatibility/OpenGLES/EGLWrapper.c#L391

commit b2aaab3d53b28223eafb42d2fca1ea92870b5e5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 14:34:24 2021 -0800

    Fixed bug 5462 - debug trap update/fix of assembly for Apple devices
    
    David Carlier
    
    updating preprocessor constant and proposing 32 bits variant.

commit 82aafa9aa8e132d484efab156737d9645dd771e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 14 14:32:11 2021 -0800

    Fixed bug 5461 - Add rewritten WSCONS driver for OpenBSD
    
    wahil1976
    
    This patch adds a written-from-scratch WSCONS driver for OpenBSD. It does not have hardcoded keymaps, and it features mouse support when wsmux is available.
    
    For this to work, it needs access to the /dev/wskbd* devices which are not available to non-root users by default. Access to those can be granted by changing /etc/fbtab to give the logging user the ownership of those devices.

commit 1adadc7702c7f82db9140a1ae2a7ecb5ec66e62a
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Jan 14 10:18:40 2021 +0100

    [KMS/DRM] Adjust come return values. Improve comments.

commit 57661e42c30e711f1d469e028402a1c1cc79ed58
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Jan 13 20:17:50 2021 +0100

    [KMS/DRM] Remove unused header.

commit ead3c406a25c9196372cc5ce0118dacd9174ea3f
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Jan 13 20:11:01 2021 +0100

    [KMS/DRM] Refactor, improve and re-comment async pageflips code.

commit fbd7c718b67f01e36a14e2236517091d0ee5d6b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 13 11:02:07 2021 -0800

    Don't blink the Xbox 360 LED when setting the player slot, it's probably already been set by a driver

commit d757ec7f5cdb6fde1b99c16f8cca7b68198eed59
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 13 11:02:01 2021 -0800

    Only select the gamepad interfaces on the Xbox 360 wireless adapter

commit c94283d4047448b4f73a8467fc276a56aea804b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 13 11:01:54 2021 -0800

    testgamecontroller: log which controller the event came from

commit aac74db6859d8471645688531f948520faf54f10
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Jan 13 15:54:26 2021 +0100

    [KMS/DRM] Enable async pageflips.

commit 9384e5956194987a0bd37eb08c8b8e608a09eb71
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Jan 12 20:15:37 2021 +0100

    [KMS/DRM] Add warning comentary to avoid future experiments with scaling.

commit b99543b68212f7509bf71b5586cf79103829d1dc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 11 20:40:11 2021 -0500

    opengl: More work on making line drawing match software renderer.

commit 844275491268fadcc7c6c2d0361f34a64c15d3ef
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Jan 12 00:22:58 2021 +0100

    [KMS/DRM] Refactor KMSDR_CreateSurface to group all non-Vulkan stuff in a block.

commit 87eb734c4e2f0b846948e53bf7756bdcad7c740f
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Jan 11 23:59:40 2021 +0100

    [KMS/DRM] Don't ask SDL to scale image when in Vulkan mode.

commit e9887045a2e17f102fc4a60a23642edc55d6a03f
Author: JibbSmart <JibbSmart@localhost>
Date:   Mon Jan 11 15:36:40 2021 +0800

    Gyro and Accel sensor support for Switch Pro Controller.
    Note that axes are changed to match the axes we're using with PlayStation controllers, since users will appreciate consistent behaviour across devices.

commit 85e8adf78d3b0bae0f7690822b8213de75958949
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Jan 11 22:28:27 2021 +0100

    [KMS/DRM] Unused code cleaning.

commit 5105ecf8b1b37ab4e4b8344550c90dd69f49909e
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Jan 11 21:02:07 2021 +0100

    [KMS/DRM] Move surface size info to window driverdata, for coherency.

commit 2067a7db8e4a36ba40ab34a55b3166ca28638a60
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Jan 11 20:29:09 2021 +0100

    [KMS/DRM] Fix fullscreen to windowed transition. Fix aspect ratio correction without using planes.

commit 958e5d5b34016f8e88728de75715363ab7daa751
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 11 10:01:24 2021 +0100

    SDL_UpdateNVTexture: fixed pitch/bpp for GLES2 (bug #5430)

commit 68815b6c062f43fcaa3cc23dcc710a084c10e041
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 10 22:21:12 2021 +0100

    Fixed bug 5465 - Invalid memcpy inside SDL_GestureDelTouch (Thanks dmikushin and Yuki Okumura)

commit b94718e0a7063e1cb585c178e6dcadf38438daea
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 9 21:22:21 2021 +0100

    SDL_UpdateNVTexture: for D3D11, same notation as SDL_UpdateTexture (bug #5430)

commit 850d9c8c0daff485a07f065846ef0b00d067b258
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Jan 9 02:25:13 2021 +0100

    [KMS/DRM] Cleanup remainings from plane/scaling usage.

commit 8636bc06debd00b178361024d7bd3377822665f6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jan 9 00:11:20 2021 +0300

    acinclude/libtool.m4: Apply macos11 patch from libtool bug #44605
    
    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=44605
    https://github.com/macports/macports-ports/blob/master/devel/libtool/files/dynamic_lookup-11.patch
    ( Also see https://debbugs.gnu.org/cgi/bugreport.cgi?bug=44684 )
    
    This also implicitly covers the macos10.10+ support patch from libtool
    mainstream which has been in since libtool-v2.4.3, i.e.:
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commit;h=e145288b059e14ab7e58fc6a304e82d9dad282a6

commit 2aeb317743c9abeb931ed76f8155a2f8baf7acf5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 8 22:00:28 2021 +0100

    [KMS/DRM] Fix vkQuake3 in OpenGL mode.

commit 8746788feaa815b555e0bd32453f98b0d263981e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 8 11:08:23 2021 -0800

    KMSDRM_LEGACY is no longer legacy

commit 29888bd69ad761356711121e1a4911aafae0667d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 8 21:56:00 2021 +0300

    fixed permissions of xcode project file

commit 8d3963421d660f3ec3af594575701f2d623bdcce
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 8 21:50:02 2021 +0300

    regenerated configure

commit 50ea3b77f1d76ea7248b106cac92dc84a306432d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 8 10:09:37 2021 -0800

    Fixed bug 5080 - SDL_netbsdaudio: Always use the device's preferred frequency
    
    Nia Alarie
    
    The NetBSD kernel's audio resampling code is much simpler and lower quality than libsamplerate.
    
    Presumably, if SDL always performs I/O on the audio device in its native frequency, we can avoid resampling audio in the kernel and let SDL do it with libsamplerate instead.

commit 2f72535c626a145c0197f91582c3060f81385976
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 8 09:54:55 2021 -0800

    Fixed joysticks generating SDL mouse events

commit a5dba7d3ab2bcdefb2dc9e590767bf345a81dfa5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 8 09:54:52 2021 -0800

    Fixed Xbox One Series X share button incorrectly triggering on newer firmware

commit b24494734b89c800d8a70fab9ff2c3d512ef4c40
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 8 18:57:12 2021 +0100

    [KMS/DRM] Go back to the LEGACY interface only because using planes breaks compatibility with HW, so no advantage on using ATOMIC.

commit 940e1b8dd94318a5307601f4b61d1cbf6b7dd757
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 8 16:33:50 2021 +0100

    [KMS/DRM] Small readability changes.

commit e5bf1850f58333330795ccc6c0a8f2ccda69d9c1
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 8 15:39:05 2021 +0100

    [KMS/DRM] Fix cpmpilation warnings. Thanks to Ozkan Sezer for pointing this out!

commit cef1bd0639058ce4cfa34f862f88b38b12d2a58f
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Jan 8 13:14:42 2021 +0100

    [KMS/DRM] Prevent creating another default cursor everytime a window is created. Other fixes and cleanups.

commit 70325397858bceb255afd9cb33765c089c75d416
Author: Jordan Christiansen <xordspar0@gmail.com>
Date:   Thu Jan 7 19:33:12 2021 -0600

    Disabled Bluetooth if BLE is not supported
    BluetoothManager is supported for Android API 18+. On older versions, skip
    Bluetooth instead of crashing.

commit 0f0946702d86505ef9d7635cae9480a8b170b9cc
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon Jan 4 19:51:56 2021 -0600

    Use Clang/GCC builtins for SDL byteswapping functions
    
    __builtin_bswap32/64 were introduced in GCC 4.3. __builtin_bswap16 was
    not available on x86 until GCC 4.8 due to a bug.
    
    __builtin_bswap32/64 were introduced in Clang 2.6. __builtin_bswap16
    was introduced in Clang 3.2.

commit e778881ada8decf93a744e19f3cb74e188ada502
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 7 11:49:28 2021 -0800

    Fixed bug 5449 - SDL_DROPFILE update mouse location of drop in Cocoa
    
    Dominik Reichardt
    
    Exult (http://exult.info) has an editor app that uses GTK+2. Up to now we were using X's drag'n'drop to allow dropping of assets from the editor onto Exult.
    There is now an experimental branch that makes use of SDL_DROPFILE. That works under X, dropping in Exult's SDL2 window puts the asset right at the spot you dropped at.
    On macOS with native Exult and Quartz GTK+2 this doesn't work, the location of the drop is where the mouse was last tracked before you left the window (usually one of the edges, unless you tabbed out).
    All we tried out pointed to the fact that the location update needs to be done by the dropfile event in SDL2, not by our own (which always only worked after the Exult window getting focus).
    
    This patch adds this to SDL_cocoawindow.m and it works perfectly, passing the correct coordinates to our code (SDL_GetMouseState()).

commit c8a64ad90c75a8ba2c39830dbf450fe69f3183e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 7 10:23:55 2021 -0800

    Fixed building when SDL_LIBUSB_DYNAMIC is defined

commit d079130c24221d25a89b57f40f6452d62780cb17
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Jan 7 18:44:34 2021 +0100

    [KMS/DRM] Don't use primary plane for scaling because that's unsupported on most LEGACY-only HW.

commit e23666f63e32d6eeed742acf41b6df8ffea5c53c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 7 17:40:00 2021 +0300

    update config.guess and config.sub from mainstream.

commit e168d1138c880ac92c54527ddf46d93de41f71c3
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Jan 7 14:40:24 2021 +0100

    [KMS/DRM] Correct drmModeSetCursor() dimensions.

commit 335d78ff8667d0f86f597bb25818cea6ce91dc85
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Jan 7 11:30:33 2021 +0100

    [KMS/DRM] Add the missing files for Vulkan support to the KMSDRM_LEGACY backend, had forgotted to do -hg add-.

commit 661bacfe27459bce724f80d9e612a56164a17fbf
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Jan 7 00:47:21 2021 +0100

    [KMS/DRM] Add Vulkan suport to the KMSDRM_LEGACY backend.Minor text spacing tweaks for better readability. Comment out unused function.

commit dfb0afe36a44579f38a304cb8b5b0138cf4164af
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jan 7 00:41:32 2021 +0300

    fix build after commit 5730b2005da1

commit 67e0b1dd4e57ff77ce599b3d50804a01d6f18276
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Jan 6 22:15:26 2021 +0100

    [KMS/DRM] Rewrite KMSDRM_LEGACY backend to accomodate Vulkan compatibility. Fix several bugs on that backend.

commit 57a5c45372ba05f88cfdd5f01cea1884c835add0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 22:06:51 2021 +0100

    Fix D3D11 UpdateTextureNV in non fullscreen (bug #5430)

commit fc61ecb25cf7690e363513fb55b08008da2abe4e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 21:54:03 2021 +0100

    Fix software UpdateNVTexture non fullscreen (bug #5430)

commit 204ef3b5098861907ee33a63f40171a1155e79e1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 20:38:31 2021 +0100

    Fix D3D11 UpdateNVTexture (bug #5430)

commit c0df40e00384240e8215d258ddd89564f998bc85
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 17:39:48 2021 +0100

    Add more SDL_HAVE_YUV defines

commit dc0e5de9749cedb4374e3d61e090c8acbe7d0cc2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 5 17:10:02 2021 +0300

    Update config.guess and config.sub from mainstream.
    
    Recognizes riscv32be and riscv64be.

commit 76295cecf345ade3c240ce22085f7f4d67df8ba2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 5 15:50:10 2021 +0300

    video/windows: ANSI/UNICODE updates (cf. bug 5435):
    
    - explicitly use UNICODE versions of DrawText, EnumDisplaySettings,
      EnumDisplayDevices, and CreateDC: the underlying structures have
      WCHAR strings.
    - change WIN_UpdateDisplayMode and WIN_GetDisplayMode() to accept
      LPCWSTR instead of LPCTSTR for the same reason.
    - change WIN_StringToUTF8 and WIN_UTF8ToString to the explicit 'W'
      versions where appropriate.

commit 265a1cc97a2c867abdf8d2c9be9c6dbdde644158
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 5 15:50:02 2021 +0300

    use WIN_StringToUTF8W instead of WIN_StringToUTF8 where needed (#2)
    
    cf. bug #5435.
    - SDL_wasapi_win32.c (GetWasapiDeviceName): pwszVal is WCHAR*
    - windows/SDL_sysfilesystem.c (SDL_GetBasePath, SDL_GetPrefPath)
    - windows/SDL_sysurl.c (SDL_SYS_OpenURL): wurl is WCHAR*
    - SDL_windowssensor.c (ConnectSensor): bstr_name is WCHAR*
    - windows/SDL_systhread.c (SDL_SYS_SetupThread): strw is WCHAR*

commit 516042b4d6fc46a2bf4113df16961fc8e0845eac
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 5 15:15:50 2021 +0300

    ran gendynapi.pl after SDL_UpdateNVTexture addition

commit 31751bdccead0fb9b708213c30c9fb792b0fc51a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jan 5 15:15:37 2021 +0300

    wmmsg.h: constified wmtab

commit b0325041620e2830a7f311641aee56703a189694
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:36:34 2021 +0100

    Fix unused variable warning on METAL (see bug #5430)

commit c1eb9ecf9966e535550dd595bea1662a90202108
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:29:43 2021 +0100

    Add SDL_UpdateNVTexture for META (bug #5430)
    (not tested)

commit 73d93dbc380325c1fdbfd4502d747af40ef37cdd
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:20:02 2021 +0100

    Fix compilation on Window10 (see bug #5430)

commit df6b8131089eaf434d5b99830946c37976106a16
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:16:32 2021 +0100

    Fix compilation (implicit declaration of function) (see bug #5430)

commit d1f031c8eecb5410049a92d41307e691a8840c9c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:08:16 2021 +0100

    Add SDL_UpdateNVTexture for d3d11 (bug #5430)
    (not tested)

commit f5eba2ccd63a3278fca726ae54e35878382cc2a3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 12:00:54 2021 +0100

    Fixed invalid read in yuv_rgb_sse() (see bug #5430)

commit be4cfd51c3aaf4f34ab6eab30db8ff8e4a89b885
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 5 11:56:22 2021 +0100

    Add SDL_UpdateNVTexture() to update NV12/21 Texture (bug #5430)
    for renderer software, opengl, and opengles2

commit d72dbd9883687c9d80b20d0487c89fe8f945cb4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 4 17:30:28 2021 -0800

    Fixed detection of the Wooting Two keyboard, which shows up as an Xbox 360 controller

commit b2a0c712cb929517c8a6e0c2b2763af23947b9df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 4 12:24:44 2021 -0800

    Allow setting the player index to -1, which turns off the player LED for PS5 controllers

commit bf754b52bf12a5ccbb0f407ed5eb9fc4a52e4973
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 4 12:17:24 2021 -0800

    Valve contributed code is under the Zlib license

commit 8cb421b26d4ffb6742e5270d6b84a8ac0bc57d32
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 10:20:10 2021 +0300

    SDL_windows_main.c: use new WIN_StringToUTF8W macro

commit a594b850314f2fda4bef5f2880dd655059005da1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 10:00:30 2021 +0300

    use WIN_StringToUTF8W macro instead of WIN_StringToUTF8, where needed:
    
    i.e. where the string is known guaranteed to be WCHAR*, in:
    - SDL_dinputjoystick.c (WIN_IsXInputDevice): VARIANT->var is BSTR (WCHAR*)
    - SDL_rawinputjoystick.c (RAWINPUT_AddDevice): string is WCHAR*
    - SDL_windows_gaming_input.c (IEventHandler_CRawGameControllerVtbl_InvokeAdded):
      string is WCHAR*
    
    There should be more of these..

commit 5b14bbff5fb143aba106b13f2445ebed0ca2b721
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 10:00:10 2021 +0300

    make ANSI/UNICODE versions of WIN??UTF8 macros individually available.

commit f2bd861cd7168effeda59aceaaa61b82bc43a87a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 08:50:00 2021 +0300

    move SDL_tcsstr definition to core/windows/SDL_windows.h

commit f414a43632988b1a8d8f294a3876ad68154569ba
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 03:00:10 2021 +0300

    simplify Watcom implementation of SDL_MostSignificantBitIndex32()

commit ae18109a92ff8c896363013ecdf75a02f5569d0e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    SDL_windowsjoystick.c (SDL_CreateDeviceNotification): use L, not TEXT()
    
    cf. bug #5435.

commit 390fd14f547239cd30056990df9927ef1ff33c78
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    SDL_windowswindow.c (SDL_HelperWindowCreate): adjust for ANSI/UNICODE:
    
    change SDL_HelperWindowClassName and SDL_HelperWindowName from WCHAR *
    to be const TCHAR*
    
    cf. bug #5435.

commit 398d2764c70e3c37d3fb9b3d763b13fa9dec1787
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    RAWINPUT_InitWindowsGamingInput: change pNamespace from LPTSTR to PCWSTR
    
    because WindowsCreateStringReference specifically accepts const WCHAR *
    - WGI_JoystickInit(): ditto.
    
    cf. bug #5435.

commit f09e0af7aa1da70343ae27fee79db9acbe3f3701
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    SDL_dinputjoystick.c (IsXInputDevice): adjust to be ANSI/UNICODE-agnostic
    
    cf. bug #5435.

commit ed39f2f3f9db269733486d140622ba1072702612
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    SDL_wasapi_win32.c (WASAPI_PlatformThreadInit): use L instead of TEXT()
    
    because AvSetMmThreadCharacteristicsW specifically accepts WCHAR* input
    cf. bug #5435.

commit 01a2f276791b65005b732fd0ae64cf7a34a1cecb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jan 4 01:23:50 2021 +0300

    consistently use TEXT() macro with LoadLibrary() and GetModuleHandle()
    
    cf. bug #5435.

commit 91a831e2d0a3062756b395abc8c1e33b1f80022c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jan 3 14:02:55 2021 -0600

    Implement SDL_MostSignificantBitIndex32 using MSVC intrinsics

commit 014f507c4007436c6063e9f3590e6bca834e3ec0
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jan 3 12:13:40 2021 -0600

    Use specific acquire and release variants of InterlockedExchange on ARM
    
    _InterlockedExchange_rel() is required for correctness on ARM because
    the _ReadWriteBarrier() macro is only a compiler memory barrier, not a
    hardware memory barrier. Due to ARM's relaxed memory model, this means
    the '*lock = 0' write may be observed before the operations inside the
    lock, causing possible corruption of data protected by the lock.
    
    _InterlockedExchange_acq() is more efficient on ARM because it avoids an
    expensive full memory barrier that _InterlockedExchange() does.

commit 393c8c1f16d342dd165f8b295aaea4f32db196f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 3 10:32:55 2021 -0800

    Fixed bug 5440 - MacCatalyst build failures
    
    C.W. Betts
    
    I tested building commit http://hg.libsdl.org/SDL/rev/7adf3fdc19f3 on Mac Catalyst and found some issues:
    
    * MTLFeatureSet_iOS_* enums aren't available under Mac Catalyst.
    * OpenGL ES is unavailable under Mac Catalyst.
    * Some Metal features are available under Catalyst but not iOS, such as displaySyncEnabled.
    * Set Metal as the default renderer on Mac Catalyst
    
    Attaching a patch that will make SDL2 build for Mac Catalyst.

commit 115d66e756d019c08539147da89990854522235c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jan 2 12:50:01 2021 -0600

    Use MSVC _byteswap intrinsics for SDL byteswapping functions
    
    This generates bswap on x86/x64 and rev on ARM

commit 6cbd4417f061a975a8b9285f5a1502094c62ac5c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jan 2 14:45:15 2021 -0600

    Add a hint for D3D9Ex to avoid having to choose at compile-time

commit 59594a7891c15e806085770c9f152fd71d21194c
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Jan 2 13:43:04 2021 -0600

    Implement PAUSE_INSTRUCTION() for Windows ARM platforms

commit 6f9e18da2ad41f092747a54a3683bc89d256d504
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 3 10:18:39 2021 -0800

    Fixed bug 5441 - Add support for endianness check on FreeBSD: Fixes endianness checking on at least powerpc64le, maybe also other architectures
    
    VVD
    
    Patch based on patch from FreeBSD port devel/sdl20:
    https://svnweb.freebsd.org/ports/head/devel/sdl20/files/patch-include_SDL__endian.h?view=log

commit fea49a3e2f9240364b973d18dbb9206e6240a67c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 3 15:24:47 2021 +0100

    SDL_stretch.c: compilation NEON on Windows 10

commit acccc71f2795303d1d04a2fae0cc6d7b3e26906e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 22:31:44 2021 +0100

    Fixed bug 5436 - MSVC 2019 ARM64 build fails to compile SDL_stretch.c

commit 9130f7c377c34cc4a2742202bb42d9332b7d8d7e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:25:38 2021 -0800

    Updated copyright for 2021

commit 414ddc32c504a1d91df1f30fdec5a60ab7c3472b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Jan 1 17:34:07 2021 -0600

    Do not wait in GetOverlappedResult() in hid_read_timeout()
    
    This is unsafe because the event is auto-reset, therefore the call to
    WaitForSingleObject() resets the event which GetOverlappedResult() will
    try to wait on.
    
    Even though the overlapped operation is guaranteed to be completed at
    the point we call GetOverlappedResult(), it will still wait on the event
    handle for a short time to trigger the reset for auto-reset events. This
    amounts to roughly a 100 ms sleep each time GetOverlappedResult() is called
    for a completed I/O with a non-signalled event.
    
    In the context of HIDAPI, this extra sleep means that callers that loop
    on hid_read_timeout() with timeout=0 will loop forever, since the 100 ms
    sleep each iteration ensures ReadFile() will always have new data.

commit 963c9495d3585f3d099df0fa750c72051380ef29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:11:08 2021 -0800

    Fixed bug 5431 - SDL_Metal_GetDrawableSize is inaccurate for high dpi displays if a Metal view has not already been created
    
    Caleb Cornett
    
    For a window created with SDL_WINDOW_ALLOW_HIGHDPI, SDL_GL_GetDrawableSize will return the high-dpi drawable size even before any GL context creation happens. But SDL_Metal_GetDrawableSize will return the size of the window if the Metal view has not been created. This is confusing and inconsistent behavior.
    
    An easy way to test this is to build testgl2 and testvulkan on macOS with the SDL_WINDOW_ALLOW_HIGHDPI flag enabled during window creation. The GL2 program will report a drawable size of 2x window width and 2x window height, while the Vulkan program will report the window size.
    
    This patch addresses the issue by falling back to using the content view dimensions if no Metal view exists in the window. (The code for this was taken directly from Cocoa_GL_GetDrawableSize.) With this change, the testvulkan behavior matches that of testgl2.
    
    Note that I haven't tested for this issue on UIKit. It's possible a similar change will need to be made there too.

commit d25eff65058319d099617da320d0f1d4bd852c6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:06:22 2021 -0800

    Fixed bug 5429 - spinlock implements PAUSE_INSTRUCTION for PPC platforms
    
    David Carlier
    
    This form of 'or' provides a hint that performance
    will probably be improved if shared resources dedicated
    to the executing processor are released for use by other
    processors

commit f0b6c78733607d50286e579d3fa953f19d5ced03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 09:58:08 2021 -0800

    Fixed Windows XP compatibility with recent hidapi commit

commit 3edf337d668d5d4395e64b15de4d746f05eaf5ff
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 17:29:34 2021 +0100

    Simplify RenderGetViewportSize

commit 2af765da110e94f5b0d290ff146c9f60442d4755
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 17:18:13 2021 +0100

    SDL_RenderGetViewportF: only need the size of viewport (see bug #5424)

commit 41597249e83083bf46c4714bf2015b89dd3eb154
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 16:15:22 2021 +0100

    SDL_RenderGetViewportF: remove debug messages

commit 8c48c4238a153ea7982b5996ee867ba4fe6336d5
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 16:12:30 2021 +0100

    Add SDL_RenderGetViewportF: fix lost of precision while scaling (see bug #5424)

commit c005267fb19f2fdd224ff91d68664483f22447b1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 09:38:19 2021 +0100

    SDL_BlitScaled: better and safer fix clipping bug #2687
    
    And re-use SDL_round(), since it's been re-added
    (remove in https://hg.libsdl.org/SDL/rev/34043108b7e4 )

commit 2127ed25741d2fbbc0888d23b126fd7e2cfdd64d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 2 09:28:16 2021 +0100

    SDL_SoftStretch: add a check for input pixel format
    and function re-naming

commit b5f0483cb3a937b3ecdde59040a58d4d579fe64c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Jan 1 22:30:28 2021 +0300

    fix permissions

commit ab55ec485028599255ec606785508ca83ab1f416
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 1 11:12:41 2021 -0800

    Fix use-after-free SBH corruption due to overlapped ReadFile in hidapi not being canceled for all threads before device close
    
    - hidapi already called CancelIo on hid_close but that only cancels pending IO for the current thread. Controller read/writes originate from multiple
      threads (serialized, but on a different thread nonetheless) but device destruction was always done on the main device thread which left any
      pending overlapped reads still running after hidapi's internal read buffer is deallocated leading to intermittent free list corruption.

commit 480c1f9fef73dece0ead7c95a60dcb67ec4e7ce7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 1 11:12:36 2021 -0800

    Make sure we're not starving report reads when there's lots of rumble

commit 223af86c62c0fb88cba69750daec4a815e955976
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 1 11:12:30 2021 -0800

    Added SDL_RenderGetD3D11Device() to get access to the device associated with the D3D11 renderer

commit 5f0b2a7f54d53e92b8209d09c92756dc5ac9c95c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 1 11:12:22 2021 -0800

    Fixed resource leak with D3D11 NV12 textures

commit 21003b7db25a9f484658f8bdbcdbb0862b8a7b01
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Dec 31 14:31:29 2020 +0100

    [KMS/DRM] Small refactoring on the SwapWindow function.

commit e1fb969b76df594046a3ce9bfaa343a37dcf36f9
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Dec 31 01:40:15 2020 +0100

    [KMS/DRM] Correct comments about last bugfix.

commit e34caa9779ce78dd723966b6eb7f53027468a4f1
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Dec 31 01:31:57 2020 +0100

    [KMS/DRM] Correct EGL/GL library loading on window creation, thus saving window re-creation.

commit d81fe9239fe6d9a8485a2f08eafde931729cce55
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 30 22:03:32 2020 +0100

    SDL_BlitScaled: remove un needed -1 +1 offset in calculation

commit 8476df3e3164dfdfe614f6f9889f15514f0db818
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 23:55:10 2020 +0300

    SDL_mixer.c: remove calls to non-existing m68k asm code.

commit 5b2e011e6d40fecc0f06fce8c1cedd13020e832f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 23:55:02 2020 +0300

    SDL_endian.h: minor fixes from SDL-1.2 branch
    
    ( forward-port of changesets 3909:6832b00d3594 and 5657:529d23724144 )

commit 5aba0827035cba9d4271bddfa3a339200fd2b20b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 30 11:38:51 2020 -0800

    Build SDL for Mac hardware when targeting iOS

commit 590a5469eddc0c29a012305b69a2d4965ee771b0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 30 16:12:14 2020 +0100

    Fixed bug 5424 - Renderer doesn't use entirely the viewport when scaling is used
    
    Viewport/Clip dimensions are calculated usingg SDL_ceil whereas all renders use SDL_floor

commit a88071deb5ced3e1a0f1818c3e64d6f7e8b47e23
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 15:55:00 2020 +0300

    configure.ac: directfb dynamic loading support updates:
    
    put back sed on find_lib result, remove debug messages,
    fix directfb_lib report to user.

commit f24cc903a23183504768200cad4e1654adf4910a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 15:53:56 2020 +0300

    remove CFLAGS save/restores from dbus.h and ibus.h header checks.
    
    CPPFLAGS is what AC_CHECK_HEADER needs.

commit 88eaf356a78fb3dff93d5c9bcc1b743fda8caa33
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 15:53:20 2020 +0300

    minor update to test/acinclude.m4 (pkg.m4)

commit 92edee232491e7854c6803cfe325665e48d338c2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:28:02 2020 +0300

    SDL_config_android.h: update SIZEOF_VOIDP define to respect __LP64__

commit 7c105f12d55eff179d9b663d4ced90c0306faaeb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:21:10 2020 +0300

    updates to SDL_config_os2.h

commit 1cdc1d48901b39eb38f1776f8fb970dbfb2e79f4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:00:24 2020 +0300

    SDL_config.h.cmake, SDL_config.h.in: update for SIZEOF_VOIDP define

commit 9fc139dfb57e189f58b5c844a2d69a5420684328
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:00:24 2020 +0300

    SDL_config_windows.h: add missing HAVE_STRTOULL along side HAVE_STRTOLL

commit b76b81b0e4b555ec800ddd67c3c84abdf325fb39
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:00:24 2020 +0300

    SDL_config.h.cmake, SDL_config.h.in: add os/2 driver defines
    
    in case autofoo or cmake is used for it some day..

commit 8a32ee24dbb56f5ddfd047e608835bae928a420a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 30 01:00:24 2020 +0300

    removed MSVC strtok_s use from SDL_strtokr().
    
    no other ??_s are used elsewhere in SDL_stdinc. besides, C11 has a
    strtok_s with a different signature.

commit 0684572ccc17db9b49ecf32842fce17592fba27f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 29 12:13:10 2020 -0800

    Added a hint to control whether the player LEDs should be lit to indicate which player is associated with a PS5 controller.

commit 6116ccf0354ae0c027341b2734fd2942f8635f5a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 29 21:20:28 2020 +0300

    fix configure warnings when checking dbus/dbus.h and ibus-1.0/ibus.h
    
    .. by adding DBUS_CFLAGS and IBUS_CFLAGS to CPPFLAGS:
    
    configure: WARNING: dbus/dbus.h: accepted by the compiler, rejected by the preprocessor!
    configure: WARNING: dbus/dbus.h: proceeding with the compiler's result
    configure: WARNING: ibus-1.0/ibus.h: accepted by the compiler, rejected by the preprocessor!
    configure: WARNING: ibus-1.0/ibus.h: proceeding with the compiler's result

commit f1758241720024bc8fcc43e5146eb81248ca7e19
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 29 20:51:10 2020 +0300

    config.sub, config.guess: go back to backtick `..` substitutions.
    
    see e.g. https://lists.gnu.org/archive/html/config-patches/2020-12/msg00000.html

commit 80cf8a8b763eba400abac4de934063267d93301f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 29 17:29:31 2020 +0100

     SDL_BlitScaled: also prevent crash if dest width or height is negative

commit f08b9a5b6bfd62741b6a1cd839ceee6a6e905828
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 29 16:02:52 2020 +0100

    SDL_BlitScaled: prevent crash if dest width or height is 0

commit 427c96ec11df3059c8295db5576a930c95bf93f7
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Dec 29 14:24:38 2020 +0100

    [KMS/DRM] Rework some functions.

commit 67f0b9b86dd16c38b8d4c6e16cceaa166d31a83e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 28 20:58:47 2020 -0800

    Fixed bug 5418 - Add system features detection for Elbrus (E2K)
    
    Ivan Kuzmenko
    
    MCST Elbrus 2000 (E2K, https://en.wikipedia.org/wiki/Elbrus_2000) is a russian processor architecture based on VLIW/EPIC instruction set (like Intel Itanium (IA-64) architecture). Architecture has half native / half software support of most Intel/AMD SIMD (e.g. MMX/SSE/SSE2/SSE3/SSSE3/SSE4.1/SSE4.2/AES/AVX/AVX2 & 3DNow!/SSE4a/XOP/FMA4).
    It also has built-in x86/x86_64 <-> e2k binary translators  (RTC, http://www.mcst.ru/rtc and Lintel, http://www.mcst.ru/lintel) that can run code for x86/x86_64 architecture (Transmeta did something similiar with their Crusoe series) with SIMD extensions support.
    Attached patch allows SDL2 to detect extensions supported by E2K like MMX, 3dNOW!, AVX etc. (test/testplatform log: https://termbin.com/7qs3).

commit 8eae956c983fd568df92903ce14174352e2f3085
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 29 00:00:56 2020 +0300

    regenerated configure

commit 3cb0e840e6557404238b01e7df77434f1c1a5d36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 28 11:47:53 2020 -0800

    Fixed bug 5422 - KMSDRM_LEGACY: Add OpenBSD support
    
    wahil1976
    
    This patch adds support for OpenBSD to KMSDRM_LEGACY. Note that the patch won't be ported to the atomic KMSDRM backend because OpenBSD does not support atomic KMS properly yet.

commit 8fc0baad98673ad8d240ab62e45a43b9dbf0748f
Author: Joel Linn <jl@conductive.de>
Date:   Mon Dec 28 11:43:11 2020 -0800

    Add SDL_cond implementation using Windows Condition Variables
    Is automatically used when the SRW SDL_mutex implementation is active.
    Otherwise falls back to the generic implementation.
    
    v2: - Rebase onto master fa3ea1051a4b

commit 2443e51e0e410c729a43172d9766ce6dc03423f7
Author: Joel Linn <jl@conductive.de>
Date:   Mon Dec 28 11:42:49 2020 -0800

    Add optional suffix `_generic` to generic SDL_cond impl
    Allows for runtime selectable implementation

commit 7539ac8087eee1b6df16392907b77a5f0b7086dd
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Dec 28 18:22:07 2020 +0100

    [KMS/DRM] Restore hacky code to point to TTY buffer on surface destruction b/c I lack alternatives.

commit 5dabc4d72fdcabca54fa9588d82695331c877fff
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Dec 28 18:17:25 2020 +0100

    Revert changeset 14590  544ac819e8b3 , does not fully fix

commit 9efdafd43d1284143dc72b335620fed8ed5e98c1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Dec 28 18:07:03 2020 +0100

    SDL_RenderCopy: scale before doing intersection
    this prevents drawing 1 pixel outside the screen, in letterbox mode

commit 86b81abea68e74581a4141edefa3ef5bb3605de5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Dec 28 16:19:19 2020 +0100

    [KMS/DRM_LEGACY] Prevent mouse cursor from staying onscreen after window destruction. Patch by Ozkan Sezer.

commit 0feaf7d196b2044f49052616f59df9255c2bf2b5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Dec 28 14:37:58 2020 +0100

    [KMS/DRM][Vulkan] Correct non-existing property. Remove hacky surface destruction code (TTY buffer isn't there after a Vulkan window is created).

commit 7186584b8dfb2a0ec06e1b26874192b350f3ab07
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Dec 28 10:41:37 2020 +0100

    fix indentation (bug 5313)

commit 9e22f62e0db9995d62bd0ecf3008c15754618634
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 28 11:50:02 2020 +0300

    arm64 implementations of SDL_Swap16/32 (bug #5419.)
    
    patch from David Carlier.

commit 2355dea4488d1900019dcbb83f5b3dacf292371d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 28 08:00:50 2020 +0300

    revert 'arm64 implementations of SDL_Swap16/32' for now (bug #5419)

commit 2f99bc07e7dc59372ff91ec2f0092fb2ca95e779
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 28 07:20:20 2020 +0300

    arm64 implementations of SDL_Swap16/32 (bug #5419.)
    
    patch from David Carlier.

commit c2735c0bb941ee7321ce37e0a5c4c116810638f7
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 27 23:53:28 2020 +0100

    Better scaling fallbacks for the SW renderer (bug 5313)

commit a6beb2d264f5e13141be9117eca3593de12e2d17
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 28 01:10:02 2020 +0300

    SDL_PrivateLowerBlitScaled: remove unused local var 'a'

commit 30df2e4e3659b461017b4840b3e69d476cd5330c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 27 23:00:11 2020 +0100

    Scaling fallbacks for the SW renderer (bug 5313)

commit 040bd7a91bf12049bea90751cd5ce8a872a200e8
Author: Luca Weiss <luca@z3ntu.xyz>
Date:   Mon Dec 28 00:55:28 2020 +0300

    Fix udev not detecting ID_INPUT_KEY devices when udev is not running
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=5308
    
    The udev code labels devices that are found by this code with
    ID_INPUT_KEY which in turn gets used by SDL to label the devices as
    SDL_UDEV_DEVICE_KEYBOARD.
    
    This was missing for the code path when udev is not running and as such
    devices such as the power button of a phone was not detected as keyboard
    input and no devices were emitted.

commit f9b5f6cc0f4d486ab960b582d3b9fa802cb72c5e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 27 20:28:24 2020 +0100

    Forward scale mode to SW renderer (Bug 5313)

commit 471d3c363e654c7ad10782f50cb47e639c0646c3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 27 14:00:30 2020 +0300

    fix bug #5415 -- fatal error: 'Cocoa/Cocoa.h' file not found in iOS build

commit a6c6e5f5826299905d917f1dd988809091a81053
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 27 14:00:02 2020 +0300

    configure.ac: fix POSIX conformance issues (bug #4261.)
    
    Patch from Matt Whitlock:
    There are actually two distinct classes of problems at play here.
    On the one hand, libsdl2's configure.ac has some POSIX conformance
    issues - namely, the use of 'echo -n' and the passage of arguments
    containing embedded backslashes to 'echo', neither of which is
    defined by POSIX. The attached patch takes care of these issues.

commit 9f6fddb40ffe1d02e341fdcea95685f0f0bae2f4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 27 05:20:10 2020 +0300

    CMake: don't check for --no-undefined linker flag for OpenBSD (bug #5174)
    
    it now matches autotools.

commit 46d31d570d2c9bee52776981ae9f0e8e1c5625ef
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Dec 27 00:43:06 2020 +0100

    [KMS/DRM][Vulkan] Fix segfault when changing fullscren mode and permanent cursor when changing between Vulkan and GL renderers in vkQuake3. Tidy up window destruction code.

commit e7c479414b8df47c3aafdb7fcc525fa8833d394a
Author: Joel Linn <jl@conductive.de>
Date:   Fri Dec 25 17:10:02 2020 +0300

    Disable WaitOnAddress SDL_sem implementation on Windows Phone
    Apps that use the required APIs do not pass certification.

commit 5b64fdc9bf897a4d4825b91cccde2ecc699d0117
Author: Joel Linn <jl@conductive.de>
Date:   Fri Dec 25 10:41:20 2020 +0300

    thread/windows: Remove synchronization.lib from WinPhone81 dependencies
    synch APIs are implicitly available on this platform.

commit d6afc1c608a6a67ebd64fd52f8c7b3410bf8a314
Author: Joel Linn <jl@conductive.de>
Date:   Fri Dec 25 04:00:20 2020 +0300

    thread/windows: Statically link synchronization APIs on WINRT
    GetModuleHandleW is not available on those platforms
    ---
     .../WinPhone81_VS2013/SDL-WinPhone81.vcxproj         |  8 ++++----
     VisualC-WinRT/WinRT81_VS2013/SDL-WinRT81.vcxproj     | 12 ++++++------
     src/thread/windows/SDL_sysmutex.c                    | 12 ++++++++++++
     src/thread/windows/SDL_syssem.c                      | 11 +++++++++++
     4 files changed, 33 insertions(+), 10 deletions(-)

commit ff913a22f48fa26cbbdaa3c88c431d65d1fea4a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 16:16:55 2020 -0800

    Fixed compile warnings on platforms without hidapi support

commit 047b20e3b61aeb90489990d05ccc6f3fb21cb096
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 16:11:16 2020 -0800

    Fixed compile warnings on platforms without hidapi support

commit 9838611a8bef54c71e85751d467327506016c900
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 15:52:12 2020 -0800

    Fixed compiler crash building for iOS with clang 11.0.3

commit 2b760c36973a27770e3e0ac88c101517bfa611a4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 01:55:00 2020 +0300

    attempt to fix emscripten-buildbot: s/wasm/wasm32/

commit b9eb43a5c6f50bdcc8bde79c6f4e769e443692a6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 01:32:10 2020 +0300

    build-scripts: update install-sh and mkinstalldirs from automake-1.16.3

commit 3c4103b87dcd0afd1b4037c007f584c202c789d7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 01:20:00 2020 +0300

    fix config.guess permissions

commit fd3cb20b0f95ed8ff2dc869ca07a97df9fb3a526
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 14:09:01 2020 -0800

    Fixed bug 5411 - config.guess and config.sub outdated
    
    Ozkan Sezer
    
    Our config.guess and config.sub are rather outdated.
    Attached new versions of them here.
    
    However, build-scripts/config.sub.patch do not apply
    to these new versions: I don't know if and where that
    patch is still needed.

commit 5ed3d21f6e4ffc9516fd8c0c17e825d42fa317cb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 00:55:30 2020 +0300

    testsem.c: fix -Wmissing-braces warnings.

commit 4aebad77bd7c5623578c9ef4e1a5a6efaf07b112
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 23 22:50:50 2020 +0100

    SDL_SoftStretchLowerLinear: try to make xcode buildbot compile (Bug 5313)

commit 93ccdee8c1895e88ca77347711257ef0549a438a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 13:47:49 2020 -0800

    Fixed bug 5404 - stdlib: Added SDL_round, SDL_roundf, SDL_lround and SDL_lroundf
    
    Cameron Cawley
    
    stdlib: Added SDL_round, SDL_roundf, SDL_lround and SDL_lroundf
    
    The default implementation is based on the one used in the Windows RT video driver.

commit d0b8295c0db6e6f369bbec5eabc0cb4224618fa5
Author: Joel Linn <jl@conductive.de>
Date:   Wed Dec 23 13:36:46 2020 -0800

    Add SDL_sem implementation using Atomics and WaitOnAddress API.
    Keep Semaphore Kernel Object impl for Windows 7 and older - choose at runtime
    
    v2: - Fix mixed int/LONG types
        - Reorder definitions
        - Add missing include
    
    v3: - Use `GetModuleHandle()` to load the API Set

commit 2b040cebbe2e40db011b0bc64620528c8636594a
Author: Joel Linn <jl@conductive.de>
Date:   Wed Dec 23 13:36:23 2020 -0800

    Atomic test: Fix use after free
    SDL_SemPost() was called by the FIFO threads after the semaphore was
    freed because the main thread actually synchronized on the
    `writerRunning`/`readersRunning` count and not the semaphores itself.

commit 6267b951777540fa57e3e3a1cf5cd25a3db5e382
Author: Joel Linn <jl@conductive.de>
Date:   Wed Dec 23 13:36:02 2020 -0800

    Semaphore test: Add overhead tests.

commit 95a6d4e84871be6df723e05928e1377a43663c45
Author: Joel Linn <jl@conductive.de>
Date:   Wed Dec 23 13:35:35 2020 -0800

    Semaphore test: Put test into separate function.

commit 548cb9089353d07323bb079976524562c1a5c8ed
Author: Joel Linn <jl@conductive.de>
Date:   Wed Dec 23 13:33:36 2020 -0800

    Add SDL_mutex implementation using Windows Slim Reader/Writer Locks Keep Critical Section impl for Windows XP/Vista - choose at runtime
    v2: - Add SRW definitions as suggested by Ozkan Sezer
          Allows building against older platform headers.
        - Rename "hidden" function parameter `mutex_` to `_mutex`
    
    v3: - Use GetModuleHandle instead of LoadLibrary
        - Fix typo in comment

commit 090fffac6a9c0911740441bdd232af6bd6777f05
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 00:29:40 2020 +0300

    test/Makefile.os2: add warning switches to CFLAGS.

commit 239c8f1f4c4bdf00214d5a02466c2fbc1606be14
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 00:28:50 2020 +0300

    testvulkan.c: fix -Wmissing-braces warnings. also fix whitespace.

commit 20ca1192d2ce2fffc15c27ca3f906f8be565f387
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 00:26:32 2020 +0300

    testgesture.c: comment out unused drawLine()

commit b064028c2d26fd1ebf9caa6097399492b5bb1b5e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 24 00:25:40 2020 +0300

    testatomic.c: fix warnings due to SDL_AtomicDecRef() use

commit 8e20376f1aefcbc4035323051abf8c5d68313623
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 23 22:09:01 2020 +0100

    SDL_SoftStretchLinear: use SDL_INLINE (bug 5313)

commit 7b8d5b7dc311328a3980548554020114b781f8ad
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 23 22:02:28 2020 +0100

    SDL_SoftStretchLinear: fix implicit conversion (bug 5313)

commit 15fea3391592f447e89d2085817134534fb40284
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 23 23:47:10 2020 +0300

    ran gendynapi.pl after addition of SDL_SoftStretchLinear

commit ae8a270f614bd16b52e40bf74358dcad3d240b5d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 23 21:37:40 2020 +0100

    Add SDL_SoftStretchLowerLinear() (Bug 5313)

commit 050ee9a4106321ad2425b119991a6ed40eb77541
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 23 21:32:01 2020 +0100

    Split SDL_SoftStretch in Lower and Uppler functions (Bug 5313)

commit 09fcc9ed17a954067084856a3c04c44bc8c833bb
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Dec 23 16:45:23 2020 +0100

    [KMS/DRM][Vulkan] Fix small warning, thanks to Ozkan Sezer for spotting it.

commit a6dc838d52df3e4d02c7882f377d94149bdfb6c0
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Dec 23 16:22:46 2020 +0100

    [KMS/DRM][Vulkan] Only try to create a display mode when no suitable mode is found.

commit 0ed4d92938a0ecacc50901a4552aeb9b13f5ca60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 23 04:53:23 2020 -0800

    Fixed setting player LEDs for PS5 controllers over Bluetooth

commit 6341bb35a55adf82b8294c2de29698f5d6436c86
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 21:51:59 2020 -0800

    Fixed controller disconnect detection for PS4 and PS5 controllers over Bluetooth

commit a30adae5676a20729d26cb9616c461853ea53c4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 20:58:32 2020 -0800

    Make it possible to turn on PS4 rumble effects at runtime using the hint

commit 390b2cf0d3e7ccff6d648c749e1f7618a8487b39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 20:53:27 2020 -0800

    Enable PS5 enhanced functionality for testgamecontroller

commit c93947a2cb96ce3237f1799f3a9e4b42131fb8bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 20:12:03 2020 -0800

    Make it possible to turn on PS5 rumble effects at runtime using the hint

commit 058a0ab47f5bcb3503abbce8a46639d0e01395f9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 14:38:32 2020 -0800

    Set the pad lights on the PS5 controller corresponding to the player index
    
    Also allow setting the player index from testgamecontroller using the number keys

commit 6a57072eef5504aa1ba14cf95b2eeb529e9a005d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 14:10:08 2020 -0800

    Only add the touchpad and sensors to the PS5 controller if effects are enabled

commit 4ec776c334f6ed07ad82270e146aca33741178e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 13:29:23 2020 -0800

    Don't switch the PS5 controller out of DirectInput mode by default

commit b4b674dabbe40108f76d18e75000df7ddf5b687e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 22:10:50 2020 +0300

    CMakeLists.txt: sync DYLIB_CURRENT_VERSION to Xcode project

commit 350f1b0d1697715a4bbcf407b2288f87099b6c1b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 22 10:36:15 2020 -0800

    Updated SDL to version 2.0.15 for development

commit 13244de5c2af4a0f0a880c53eee89a6e464c5406
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Dec 22 17:17:30 2020 +0100

    [Buildsystem] Only build KMSDRM support if EGL+OpenGL is detected by CMake.

commit a19c008a7f2c519924fc787fe3a3e4b0a87b3407
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:10:02 2020 +0300

    use GetModuleHandleW() to retrieve kernel32.dll handle (bug #5390.)
    
    SDL_systhread.c and SDL_syslocale.c used to call LoadLibrary() without
    calling FreeLibrary() later.  GetModuleHandleW() should always succeed
    because GetModuleHandleW() itself is imported from kernel32.dll and we
    don't need to bother releasing it.

commit 9f655fe5227d20f6d2825d1f389efa0f3b3bed83
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:03:20 2020 +0300

    regenerated configure

commit 5ad564575732ed60f8114b428867b0f4123ef3be
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:01:50 2020 +0300

    acinclude/pkg.m4: update from mainstream pkgconfig tree.

commit 86191351c0961653292a570f9676f1adaaa95585
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:00:28 2020 +0300

    acinclude & sdl2.m4 updates:
    
    - acinclude/alsa.m4, esd.m4: Ran through autoupdate to replace several
      AC_TRY_[COMPILE|LINK|RUN] with corresponding AC_???_IFELSE , so that
      autoconf-2.70 doesn't warn.
    - sdl2.m4: Ditto.
    - test/acinclude.m4 (sdl2): Ditto.

commit f117db51863beba71f98280e0a1d2c272902d37a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:00:11 2020 +0300

    sdl2.m4 updates:
    
    - remove HP/UX 9 (%@#!) support
    - change fopen() mode from "a" to "w" in test code.
    - bump its serial num to 2.
    - test/acinclude.m4: same sdl2.m4 updates.

commit 087de97b5646538cc477495cc285659cf0be1550
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 17:00:00 2020 +0300

    acinclude/esd.m4: update from mainstream esound tree,
    
    - revise for better compatibility with new autoconf,
    - remove HP/UX 9 (%@#!) support from it,
    - replace system("touch conf.esdtest") with fopen/fclose in the
      test code (see, e.g. glib-2.0.m4 -- sdl.m4 does the same.)

commit 15abab9cf8799091e73c60b1a4e9f29d2a430ca1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 22 16:25:00 2020 +0300

    regenerated configure

commit 2fc987c28f14668a9ce360331f591e32e20c3906
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Dec 22 14:15:33 2020 +0100

    [Buildsystem] Add guards for not building with KMSDRM support if EGL is not available.

commit 05dcec0ae1bfe5e70e263390b0825f650cc71b7b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 21 14:43:38 2020 -0800

    Added tag release-2.0.14 for changeset 97dfa8874ea0

commit 4cd981609b50ed273d80c635c1ca4c1e5518fb21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 21 09:44:25 2020 -0800

    Fixed whitespace

commit 537f824f38c86567909a434f76b04fc2cb12678b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 21 20:40:10 2020 +0300

    test/Makefile.os2: wlib must run case-sensitively.

commit 8766d6040b9d2b6e4b143de859846ae9080982a3
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Dec 21 17:29:24 2020 +0100

    [Video/KMSDRM] Fix potetial access to freed structure and complete errorchecks.

commit b06ef3a18cee1595844161736fc644268ab40f11
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Dec 21 01:53:11 2020 +0100

    [Video/KMSDRM] Manually re-show the cursor on window creation, if needed.

commit 4198f0e52c00b7b3393039e0bf589d9a78f3024b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 21 01:20:30 2020 +0300

    fix uninitialized warnings in KMSDRM_CreateCursor()

commit a8dbcab132c39726e53a164354844f730c3f5a05
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Dec 20 21:48:05 2020 +0100

    [Video/KMSDRM] Don't copy the cursor bitmap to the cursor GBM BO until we're showing it.

commit 67e9132dd560bc242d6f6a862c6916e13bdfcf9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 20 12:22:28 2020 -0800

    Fixed circular dependency problem when building in the test directory

commit ee180efda7a697c27008d9a5edc4ed482d038f55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 20 12:08:49 2020 -0800

    Fixed bug 5406 - Upstreaming DragonFlyBSD changes from DeltaPorts (patch from David Carlier)

commit 22275b35e4074ddc3136d89868c19b466d1bb9f8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 20 21:55:02 2020 +0300

    cmake: fix building for mac (bug #5407.)

commit 2756b0f337ba7ba7ada025153fde46691d29e9ba
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Dec 20 14:29:58 2020 +0100

    [Video/KMSDRM] Init and deinit mouse stuff at the same time that GBM stuff.

commit e91153f278d9aa50d7f3c20c8401bbabf5064ec1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 20 03:03:21 2020 +0300

    fix non-ARM h/w on FreeBSD builds (bug #5405, patch from David Carlier.)

commit cf71e017345ea76190b24c96e634a9a6fd5acc3a
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Dec 19 23:32:09 2020 +0100

    [Video/KMSDRM] Remove auxiliary AMDGPU compatibility workarounds not needed anymore.

commit af1f91cb36dee394d08d8d1c7528fcdd8a629432
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Dec 19 20:21:07 2020 +0100

    [Video/KMSDRM] Correct typo.

commit cf489556809807dab90a90c6b227b6ac5c3462d0
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Dec 19 20:15:50 2020 +0100

    [Video/KMSDRM] Honor the device index in Vulkan. Add notes about the display index.

commit ab3a390e26737d54fa7810e4f069275fb3a00d3b
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Dec 19 17:35:04 2020 +0100

    [Video/KMSDRM] Better ATOMIC caps testing: patch by Oskan Sezer.

commit 436499f3ec528106651e0b129bc3313f4a90643b
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Dec 19 02:08:59 2020 +0100

    [Video/KMSDRM] Comment out some debug info, adjust comments for future work.

commit 6b81cac4202c5ca0eb93b9d2a17fe24eb5aa02aa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 19 01:25:50 2020 +0300

    remove duplicated SDL_SetError after calling check_atomic_modesetting()

commit 8952a6132472f22ec303bd11de3a6aa65fced772
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Dec 18 23:17:42 2020 +0100

    [Video/KMSDRM] Re-arrange display members setup.

commit f60f8d5d84eeac4e115617070606a83f71abc61d
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Dec 18 22:53:51 2020 +0100

    [Video/KMSDRM]: Add Vulkan support to the KMSDRM backend.

commit cbe13d232d40ff3cdd5313057a09e6ff4e1fad56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 18 13:10:36 2020 -0800

    Fixed controller hotplug detection when joystick thread is not enabled

commit 6ac0b23d3a7709c301f527b2dcd8a30f83765608
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 18 21:37:20 2020 +0300

    SDL_DirectFB_video.c: DSPF_ABGR requires directfb >= 1.5.0 -- add guard.

commit f0577bc9ea7b25f81fd2865cb39fda3971bfd6fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 18 10:09:06 2020 -0800

    ControllerList: setup the ps5 default deadzone to match PS4 instead of defaulting to same a XboxOne/Switch

commit 5f7cd1fa8827437f4b0fe84a90ee76da4a3b3a20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 18 10:08:59 2020 -0800

    Added hints to control whether SDL updates joystick and sensor state in the main event loop

commit 6c4ab48471ce82151a2d9b111000f66f0ea957ba
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 18 17:50:02 2020 +0300

    SDL_kmsdrmvideo.c: check atomic modesetting in check_modesetting()
    
    .. so that KMSDRM_CreateDevice() can fail and SDL_VideoInit() would
    move on to next bootstrap member which is kmsdrm_legacy.  hopefully
    fixes bug #5393.

commit 5c654d0df4b4a1610228b83b9af5952b0a4bb788
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 18 17:00:00 2020 +0300

    tests: regenerate configure using autoconf patched for AC_PATH_X11
    
    Specifically this patch which does not invoke _AC_PATH_X_XMKMF and
    _AC_PATH_X_DIRECT internal autoconf routines when cross-compiling:
    http://git.savannah.gnu.org/gitweb/?p=autoconf.git;a=commitdiff;h=33c3a47c04ab70a4dd54963fe433a171bc03747f
    
    Without this, CFLAGS would brokenly have system include paths like
    -I/usr/include/X11 when cross-compiling e.g. for windows.  (And it
    also resulted in annoying imake crashes for my setup...)

commit 6bd4c717a1a11b4fc9cc941490e1535bd720023c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 17 21:41:23 2020 -0800

    Fixed bug 5402 - ARM support little update proposal
    
    David Carlier
    
    No fix but mostly an update for ARM architecture.

commit 10625f9d8901123175245a214e3f72c1891a67f5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 17 23:50:00 2020 +0300

    SDL_windowsmessagebox.c: go back to hg rev 14458 state.
    
    encountering a NULL caption in AddDialogString() is intended, i.e.
    AddDialogStaticIcon() sends it as NULL on purpose.

commit 4d6eb30523bffef971595a444f64c9606657d7b6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 17 23:28:20 2020 +0300

    SDL_windowsmessagebox.c (AddDialogControl): add back NULL caption check.
    
    because AddDialogStaticIcon() sends a NULL caption -- fixes bug #5401.

commit 90456670b5061c1d77e91859c05af819c1ed1a4a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 17 14:11:00 2020 +0300

    more "'for' loop initial declarations are only allowed in C99 mode" fixes

commit ed4fcb2cfce31508481bf6dd061b7637e11e62b4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 16 03:24:10 2020 +0300

    kmsdrm_legacy build fixes:
    
    - add missing '_LEGACY' to symbol names
    - perform missing 2.0.14 portage
    - fix 'for' loop initial declarations are only allowed in C99 mode errors

commit f484abbdc80a8657f75bd7c71df49f126700b16c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 15 14:57:51 2020 -0800

    Added Android mapping for the Xbox One Series X controller over Bluetooth

commit cdd397118f07eba0f664535c14f6b4f1ab499744
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 15 14:57:49 2020 -0800

    Fixed the Xbox Series X controller showing up twice on Android

commit 14f977348d3f7b9ca00c7c6d216101ef1ace1a6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 15 14:57:47 2020 -0800

    Fixed whitespace

commit 9940e71088d494b9a406812690f68147771c3345
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 16 00:10:30 2020 +0300

    Import two post-2.0.12 fixes to kmsdrm_legacy:
    
    Fix build breakage without EGL:
    https://hg.libsdl.org/SDL/rev/f2606fe53654e305ab9badb821d9d3afb7f92f49
    
    Fix KMSDRM_CreateWindow segfault when starting L?VE2D engine (bug 5199)
    https://hg.libsdl.org/SDL/rev/d2e69a78939463d9ff9448a5f4efd1e208bb97b0

commit f8839289b00df6fd4fc34a9955b62d257ff49e50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 15 12:22:48 2020 -0800

    Potential fix for bug 5393 - KMSDRM: using atomic mode setting breaks GPU compatibility
    
    Substring
    
    I was trying the KMSDRM video backend with some very simple programs that were working ok on 2.0.12. The same code won?t work on the current dev branch and I get:
    
    DEBUG: check_modesetting: probing ?/dev/dri/card0?
    DEBUG: /dev/dri/card0 connector, encoder and CRTC counts are: 4 5 6
    DEBUG: check_modesetting: probing ?/dev/dri/card0?
    DEBUG: /dev/dri/card0 connector, encoder and CRTC counts are: 4 5 6
    DEBUG: KMSDRM_VideoInit()
    DEBUG: Opening device /dev/dri/card0
    DEBUG: Opened DRM FD (3)
    DEBUG: no atomic modesetting support.
    DEBUG: Video subsystem has not been initialized
    INFO: Using SDL video driver: (null)
    DEBUG: Video subsystem has not been initialized
    
    After carefully checking, the radeon driver doesn?t support atomic modesetting. That?s not the only problem : the same happens with the amdgpu driver if we disable Display Core (kernel parameter amdgpu.dc=0, which is required to get analogue outputs working).
    
    This is a major regression in the KMSDRM driver.
    
    Using atomic mode setting is great, but having no fallback to the "standard KMS" is bad.

commit c02d88dd12253b62c9a2298b48843cec88a58c5a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 15 23:01:10 2020 +0300

    configury whitespace cleanup (no actual change.)

commit 6cb78120d4f9450e7374bcaa637e76ab8944affc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 15 00:42:17 2020 -0800

    Fixed bug 5399 - make install is broken as it depends on missing rule `build`
    
    Stephen Broadfoot
    
    I've tracked this down to the following changeset bb65ba8e039b
    
    https://hg.libsdl.org/SDL/diff/bb65ba8e039b/Makefile.in
    
    this changeset renames the rule `build` to `build/.created` but the rule `install-lib` still depends on the rule `build`
    
    This affects users who are trying to install via homebrew who are installing via source and not by the bottle as this invokes `make install`
    
    To be clear, the error I was hitting when running make install is
    
    make: *** No rule to make target `build', needed by `install-lib'.  Stop.

commit 716ac535d8dc07742dbe07cda69edb4ef55d4edc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 15 01:20:00 2020 +0300

    test/acinclude.m4: rename SDL_CONFIG to SDL2_CONFIG, regenerate configure

commit 637d425e3efcf93beb77e5a186ed34c50a3c8d47
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 15 00:11:10 2020 +0300

    whitespace.

commit f1c7cc710b6206c6892bb4074090e2db1cbb3afb
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Dec 14 12:36:04 2020 -0500

    winrt: Buildfix for older UWP SDKs

commit e65e4fd3ef32b02e00cd624daea9b2706329a1bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 14 09:48:51 2020 -0800

    Fixed detecting the guide button on Xbox One S controllers over Bluetooth on Linux

commit 169cfe5a7c9664291ddb519f2b8dae87fafdc774
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Dec 14 11:52:09 2020 -0500

    winrt: EffectiveLocation still needs an ifdef, IsApiContractPresent is for runtime

commit bfffa275ef59dd22f50e78a5cbcd892b85142258
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 14 09:23:53 2020 -0800

    Fixed bug 5397 - Fcitx input is truncated
    
    sowfelicity
    
    Split the long text input event into multiple shorten text input event.

commit 8795ca70676df80956c3ff41114db94f482ef7b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 14 09:15:47 2020 -0800

    Fixed bug 5241 - SDL on Linux needs a way to turn deadzones off
    
    pj5085
    
    I added some printf to verify the math being done.  Of the three joysticks I have, it works correctly for at least two, and seems to work correctly for the third.  I say "seems to" because, for the third joystick, the values never go through the AxisCorrect function, and thus never hit my printf statements, even though they did in the version I wrote my patch against.  I'm not sure what's going on there, but it at least seems to be working correctly in as much as I can tell.
    
    I note this result in particular, for an SNES Gamepad (min=0, max=255):
    
    Joystick value 0 becomes -32768
    Joystick value 127 becomes 0
    Joystick value 255 becomes 32767
    
    Without the code that forces a zero point, the 127 input value would become -129, so I think you see why I added that code to turn it into zero.  However, I think Kai Krakow has a point about how SDL shouldn't assume that there should be a center.
    
    Obviously in the majority of cases there actually should be a center, and the code that turns that 127 into an actual 0 is creating only a 0.2% error over 0.4% of this joystick's range.  However, what if there is an axis that is some kind of special control, like a 4-position switch, and, for whatever reason, the joystick reports it as an axis with 4 possible values, 0 to 3?  In that case, mutilating the two center values to the same value is much more of an error and and turns that 4-position switch into a 3-position switch.  If any joystick does this with a 2-position switch, then this code would render that control entirely useless as it would report the same value with the switch in either position.  Obviously the code could require that there be at least N possible values, to guess whether something is a proper axis or just some kind of switch, but the choice of N would be arbitrary and that's ugly.
    
    I guess the real problem here is that my gamepad is just kind of broken.  It should be reporting a range of -1 to +1 since that's what it actually does.  Also, as Kai Krakow points out, it's probably not SDL's place to fix broken hardware.  I'll add that, if SDL does fix broken hardware, it should probably actually know that it's broken rather than be merely guessing that it is.
    
    So, to the extent that SDL is able to do stuff like this, perhaps it's something better left for the user to configure in some kind of config file.

commit 44d4a61d924a56074fcfe91423bb517e7fc1d913
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 14 08:11:40 2020 +0300

    minor cleanups to configure.ac to reduce autoconf-2.70 warnings a bit.
    
    configure output is practically unchanged. there are still lots of
    AC_TRY_COMPILE/AC_TRY_LINK replacements needed to really eliminate
    the warnings, but that's for another time.

commit f8078d3d6c42678f09559e0261d3a21be073eb0d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 14 05:55:20 2020 +0300

    configure.ac: use AC_DEFINE for SDL_VIDEO_DRIVER_ANDROID

commit 3c2757ff89e756d9218f026f3d51daa0158b0a6f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 13 18:25:02 2020 +0300

    windows SDL_LoadObject: fix warning after commit 2ff650230d96

commit 15cbddf49751b46967738f5ae2b50d693c183517
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 13 18:00:20 2020 +0300

    linux/SDL_threadprio.c: fix build on older systems:
    
    SCHED_RESET_ON_FORK is in kernel >= 2.6.32.

commit 3b92933ac6564a93e45ae77b36622f6db0a11212
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 13 17:37:50 2020 +0300

    SDL_LoadObject (windows, os/2): prevent crash if dll name is NULL.

commit f674009c56d7b812d06d63e024a33baec231c133
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 13 16:51:20 2020 +0300

    fix typo from commit 63349df2610a (fixes bug 5396)

commit b6e63625c8bb40423e306814568788caafec35f6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Dec 13 15:32:24 2020 +0300

    fix bug #5395: handle old systems where inotify_init1 is not available

commit ee85a41a32076f03c1d5101e4eb35df2becf4a37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 13 02:10:46 2020 -0800

    Fixed compile warning

commit 64f448b26c40600fb584ce8de87b7a2490bf1735
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 13 02:01:39 2020 -0800

    libusb hid.c is already included in SDL_hidapi.c

commit 706f63759c75357c5a82115afd205a163e25d4f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 13 01:58:05 2020 -0800

    Fixed build for platforms with only libusb hidapi implementations

commit 80e5c689eb927153431d39c909f267f68d7263a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 13 01:20:38 2020 -0800

    Fixed the PS5 controller not disconnecting when powered off

commit c8ee06911b049972bb49b877fa4c1813e93be8c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 13 00:15:54 2020 -0800

    Added SDL_misc.h to the Xcode built frameworks

commit ce7c751c2cd24f1a9c3b7a69f86e08ece8f953a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 12 23:54:40 2020 -0800

    Document that the joystick deadzone hint defaults off

commit db0a2025c3de0e4dc7987d957eb12999ac3557ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 12 23:48:02 2020 -0800

    Fixed bug 5241 - SDL on Linux needs a way to turn deadzones off
    
    pj5085
    
    It occurred to me that my simple patch that comments out a few lines of code does not correctly remove the dead zone since the calculation presumably assumes the dead zone has been cut out of the range.  Then, while looking into how to make it output the correct range of values, I realized SDL wasn't returning the correct range of values to begin with.
    
    This line of code was already present:
    
    printf("Values = { %d, %d, %d, %d, %d }\n", absinfo.value, absinfo.minimum, absinfo.maximum, absinfo.fuzz, absinfo.flat);
    
    For my joystick this yeilds:
    
    Values = { 0, -127, 127, 0, 15 }
    
    Then this code calculates the coefficients:
    
    In SDL1:
    joystick->hwdata->abs_correct[i].coef[0] = (absinfo.maximum + absinfo.minimum) / 2 - absinfo.flat;
    joystick->hwdata->abs_correct[i].coef[1] = (absinfo.maximum + absinfo.minimum) / 2 + absinfo.flat;
    t = ((absinfo.maximum - absinfo.minimum) / 2 - 2 * absinfo.flat);
    if ( t != 0 ) {
      joystick->hwdata->abs_correct[i].coef[2] = (1 << 29) / t;
    } else {
      joystick->hwdata->abs_correct[i].coef[2] = 0;
    }
    
    In SDL2:
    joystick->hwdata->abs_correct[i].coef[0] = (absinfo.maximum + absinfo.minimum) - 2 * absinfo.flat;
    joystick->hwdata->abs_correct[i].coef[1] = (absinfo.maximum + absinfo.minimum) + 2 * absinfo.flat;
    t = ((absinfo.maximum - absinfo.minimum) - 4 * absinfo.flat);
    if (t != 0) {
      joystick->hwdata->abs_correct[i].coef[2] = (1 << 28) / t;
    } else {
      joystick->hwdata->abs_correct[i].coef[2] = 0;
    }
    
    Neither calculates the correct coefficients for the code in the AxisCorrect function.
    
    In SDL1:
    if ( value > correct->coef[0] ) {
      if ( value < correct->coef[1] ) {
        return 0;
      }
      value -= correct->coef[1];
    } else {
      value -= correct->coef[0];
    }
    value *= correct->coef[2];
    value >>= 14;
    
    In SDL2:
    value *= 2;
    if (value > correct->coef[0]) {
      if (value < correct->coef[1]) {
        return 0;
      }
      value -= correct->coef[1];
    } else {
      value -= correct->coef[0];
    }
    
    In SDL1, the calculated coefficients are coef[0]=15, coef[1]=-15 and coef[2]=5534751.  So with a full-scale input of 127, it calculates an output value of 37835, which is considerably out of range.
    
    In SDL2, the calculated coefficients are coef[0]=30, coef[1]=-30, and coef[2]=1383687.  So with a full-scale input of 127, it calculates the same output value of 37835.
    
    I tested it with the 3 joysticks I have, and it produces out-of-range values for all of them.
    
    Anyway, since dead zones are garbage, I just deleted all of that junk and wrote some code that takes the absinfo.minimum and absinfo.maximum values and uses them to scale the axis range to -32767 through +32767.
    
    I also made it detect when a range doesn't have an integer center point, e.g. the center of -128 to + 127 is -0.5.  In such cases, if either value to the side of the center is provided, it zeros it, but it otherwise doesn't implement any kind of dead zone.  This seemed important with my gamepad which provides only the values of 0, 127, and 255, since without this hack it would never be centered.
    
    Also, the previous minimum output value was -32768, but as that creates an output range that has no true center, I changed the minimum value to -32767.
    
    I tested it with the 3 joystick devices I have and it seems to create correct values for all of them.

commit 0ccb3afd374d26b78a42286cb90a591c230a5800
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 12 22:33:11 2020 -0800

    Fixed polling values after SYN_DROPPED event

commit 9ee0e8886c87dc91b3f566d0b539b629b15f9499
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 12 22:11:00 2020 -0800

    Whoops, make the hint actually default to false

commit 13a4caf1d7d767dbfc3e4705d898dd4a0605c536
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 12 22:08:02 2020 -0800

    Fixed bug 4286 - Joystick subsystem causes "not responding" when app is in the background
    
    Added a hint to control whether a separate thread should be used for joystick events.
    This is off by default because dispatching messages in other threads appears to cause problems on some versions of Windows.

commit bca9decbda38a5eaa0f673500bb2a0bf45e2e447
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Dec 12 23:28:10 2020 +0300

    fix bug #5394 - define _DARWIN_C_SOURCE only if not already defined

commit 5c212cb0c5d43f4fd80a6e7d900436e870435165
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 10 12:24:24 2020 +0300

    remove a few stale NULL message/title checks after commit e2b729b1756a
    
    top-level guarantees non-NULL message / title passed in messageboxdata

commit f1cab8aea61242f6fed248412f8376c5b89479d7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Dec 10 11:20:56 2020 +0300

    fix bug #5253: handle NULL title or message fields in SDL_MessageBoxData
    
    - SDL_video.c (SDL_ShowMessageBox): replace messageboxdata, set title
      or message field to "" if either of them is NULL.
    - SDL_video.c (SDL_ShowSimpleMessageBox):  set title or message to ""
      if either of them is NULL for EMSCRIPTEN builds.
    - SDL_bmessagebox.cc: add empty string check along with NULL check for
      title and message fields.
    - SDL_windowsmessagebox.c (AddDialogString): remove NULL string check
    - SDL_windowsmessagebox.c (AddDialogControl):  add empty string check
      along with the NULL check.
    - SDL_x11messagebox.c: revert commit 677c4cd68069
    - SDL_os2messagebox.c: revert commit 2c2a489d76e7
    - test/testmessage.c: Add NULL title and NULL message tests.

commit eec73dfd20667426312f8fa63ccbf08f49048a37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 20:31:00 2020 -0800

    configure.ac (CheckJoystickMFI): changed AC_TRY_COMPILE to AC_TRY_LINK
    
    so as to discover GameController and CoreHaptics frameworks at compile
    time.

commit 797a6910fd4575805c5f054f680f12f1924ec116
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 20:28:51 2020 -0800

    Fixed bug 5375 - WGI: Fix HSTRING memory leak.
    
    Joel Linn
    
    TLDR; https://godbolt.org/z/43fd8G
    
    Let's deduce this from C++ reference code:
    
    https://docs.microsoft.com/en-us/cpp/cppcx/wrl/how-to-activate-and-use-a-windows-runtime-component-using-wrl?view=msvc-160
    At the bottom of the page there is this snippet:
    ```
    int wmain()
    {
        /* ... more code ... */
    
        // Get the domain part of the URI.
        HString domainName;
        hr = uri->get_Domain(domainName.GetAddressOf());
        if (FAILED(hr))
        {
            return PrintError(__LINE__, hr);
        }
    
        // Print the domain name and return.
        wprintf_s(L"Domain name: %s\n", domainName.GetRawBuffer(nullptr));
    
        // All smart pointers and RAII objects go out of scope here.
    }
    ```
    
    `HString` is defined in `corewrappers.h` and the call chain for the destructor is:
    `~HString() -> Release() -> ::WindowsDeleteString()`
    
    QED

commit d3d2aee7f48d026c91c2740a4ce5af0a262da631
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 10:39:36 2020 -0800

    Fixed the name of the PS5 hint

commit a77a07152ae3f9d9c385bb8bf5c0a6a29e4cef91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:50:15 2020 -0800

    Disabled raw input debug output

commit d46dd103d959cd72c2688cf86d23c091c4e48c37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:49:07 2020 -0800

    Fixed typo in Vulkan load logic

commit 45e3521d0dfd9be2b214d45ce9892e789683c9d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:32:10 2020 -0800

    Backed out changes for 5366 - cmake build doesn't detect Metal on macOS
    
    These changes introduce regressions for other build environments, so I'm backing them out until we sort out the correct fix.

commit bd032c1f72078f0083baba2495d522f608318460
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:26:59 2020 -0800

    Fixed bug 5221 - libusb isn't detected correctly in CMake
    
    Sven-Hendrik Haase
    
    In CMake I currently have trouble activating hidapi support as libusb-1.0 isn't ever correctly detected as it's searched for by the wrong name.
    
    configure.ac correctly does this:
    
    PKG_CHECK_MODULES([LIBUSB], [libusb-1.0], have_libusb=yes, have_libusb=no)
    
    However, sdlchecks.cmake does this:
    
    pkg_check_modules(LIBUSB libusb)
    
    but it needs to be:
    
    pkg_check_modules(LIBUSB libusb-1.0)

commit 7fa5e95b6284f2cc7855022c9f0c2b086dcee43f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:23:47 2020 -0800

    Fixed bug 5213 - Add support to metal in iOS/tvOS simulator
    
    Vincent Hamm
    
    Xcode11 and ios13 added support for metal simulator.
    Here is a quick and dirty patch to enable it. Pretty early and only tested on a few samples for now. Required mostly to enable metal support on correct version of ios, generate simulator compatible shaders and enforce buffer alignments on simulator (same as osx).

commit cb361896924fe56d25fbc38533b956287e1ea8a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 07:16:22 2020 -0800

    Fixed bug 5235 - All internal sources should include SDL_assert.h
    
    Ryan C. Gordon
    
    We should really stick this in SDL_internal.h or something so it's always available.

commit 479db43058ad31e92a32f5c7197d84b5213b741c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 06:56:34 2020 -0800

    Fixed bug 5250 - updaterev.sh failed using CMake Tools on VSCode Remote
    
    Sebastian Vargas Vargas
    
    Running CMake configure from a Windows Subsystem for Linux using Visual Studio Code Remote doesn't generate the header file with the current source revision, it throws "/home/sebva/SDL/build-scripts/updaterev.sh: 13: cannot create /mnt/c/Users/sebva/.vscode/extensions/ms-vscode-remote.remote-wsl-0.44.4/include/SDL_revision.h.new: Directory nonexistent".

commit a69c61fbfd17de6d8c475a50775d0b8ac73e278a
Author: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date:   Fri Aug 14 12:08:58 2020 +1000

    Only assign context and mainloop once we have connected successfully
    
    If we fail to connect to the the pa server, we have an assigned context
    and mainloop that isn't connected. So, when PULSEAUDIO_pa_context_disconnect
    is called, pa asserts and crashes the application.
    
    Assertion 'pa_atomic_load(&(c)->_ref) >= 1' failed at pulse/context.c:1055, function pa_context_disconnect(). Aborting.

commit 88cb4962cda589c04f8046e81be35a565bd52e52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 06:42:31 2020 -0800

    Fixed bug 5291 - SDL_SetRenderTarget unnecessarily changes target when current target is the native texture of the passed in texture

commit f2fff21762203db2a1b902f9f322b8e25edf7b99
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 06:24:40 2020 -0800

    Fixed bug 5374 - WGI: Use fast-pass strings.
    
    Joel Linn
    
    Eliminate additional heap allocation for short-lived HSTRINGs.
    Uses `WindowsCreateStringReference()` to disable reference counting and memory management by the Window Runtime.

commit 42c5b4acdebabf57d436c04821c97acbd9b52ebc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 06:17:55 2020 -0800

    Fixed bug 5366 - cmake build doesn't detect Metal on macOS
    
    Tom Seddon
    
    2nd time lucky, perhaps. patch 2 applies to current HEAD at time of writing - 4eb049c9bb1ca94efe3c40b57beda3169984d0cb from https://github.com/SDL-mirror/SDL.
    
    This basically goes back to what was there originally, but now manually adding "-x objective-c" to the clang command line rather than "-ObjC". clang is then invoked without the "-x c" that was causing the problem, the snippet builds, and Metal is detected. (I had a quick trawl through the cmake code, but I couldn't see where this is handled.)
    
    I was moved to try this after finding SDL's own CHECK_OBJC_SOURCE_COMPILES macro, and noting what it does: https://github.com/SDL-mirror/SDL/blob/4eb049c9bb1ca94efe3c40b57beda3169984d0cb/cmake/macros.cmake#L67
    
    An alternative fix of course would be to use CHECK_OBJC_SOURCE_COMPILES instead of cmake's check_objc_source_compiles - but that had the same problem of getting confused by "return 0;". (Maybe that's because it's a macro? I'll defer to a cmake expert on this one.)
    
    I decided in the end to err on the side of leaving things looking basically the same as they were before my first patch.

commit 475405e0364817954f94b9f1cc66e3c7434ee826
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 9 12:03:24 2020 +0300

    CMakeLists.txt: sync DYLIB_CURRENT_VERSION to Xcode project

commit 250a055727a6206b317c06d87670a4fdec3a0a07
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Dec 9 12:01:10 2020 +0300

    fix bug #5384 -- define DLL_EXPORT in DLL builds and adjust begin_code.h

commit 50203d58b3a87defd5cfebc26232a3da50e1a32a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 22:00:06 2020 -0800

    Fixed bug 5329 - SDL_SetWindowGrab(SDL_FALSE) fails to unlock cursor if window is partially offscreen
    
    Ivan Mogilko
    
    With SDL 2.0.12 under MS Windows, if the window is partially offscreen calling SDL_SetWindowGrab(w, SDL_TRUE) works, but subsequent call to SDL_SetWindowGrab(w, SDL_FALSE) does not work.
    
    I tested this in both real program, and a small test app, where unlocking cursor worked perfectly while window is fully in desktop bounds, but did not work if it was at least few pixels outside.
    
    For the reference, following code is enough to reproduce the issue:
    
    #include <windows.h>
    #include <SDL.h>
    
    int WinMain(
        HINSTANCE hInstance,
        HINSTANCE hPrevInstance,
        LPSTR     lpCmdLine,
        int       nShowCmd)
    {
        SDL_Init(SDL_INIT_VIDEO);
        SDL_Window* w = SDL_CreateWindow("", SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED, 640, 400, 0);
    
        bool grabbed = false;
        bool want_quit = false;
        while (!want_quit)
        {
            SDL_Event event;
            while (SDL_PollEvent(&event))
            {
                switch (event.type)
                {
                case SDL_QUIT: want_quit = true; break;
                case SDL_KEYDOWN:
                    if (event.key.keysym.scancode == SDL_SCANCODE_SPACE)
                    {
                        SDL_SetWindowGrab(w, static_cast<SDL_bool>(!grabbed));
                        grabbed = !grabbed;
                    }
                }
            }
        }
    
        SDL_DestroyWindow(w);
        SDL_Quit();
        return 0;
    }

commit 3835f2008dc7d294d247483004eb9adb197d9307
Author: Alice Rowan <petrifiedrowan@gmail.com>
Date:   Sun Mar 3 12:38:23 2019 -0700

    Fix Nyko Airflo Ex Windows mapping, add Linux/Mac mappings

commit 43aad96681942b2558715e20b3be3f0af4f6bf9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 19:03:50 2020 -0800

    Fixed bug 5222 - Crash when running with -DHIDAPI=ON
    
    Mathieu Eyraud
    
    SDL dynamically loads libusb but does not check the return value of 'SDL_LoadFunction'.
    
    Also libusb is loaded and initialized several time because 'SDL_hidapi_wasinit' is never set to true.
    
    I made a patch if you want to test:
      - check that 'hid_init' is called once and only once,
      - check return value of 'hid_init',
      - check return value of 'SDL_LoadFunction',
      - check return value of 'SDL_malloc',
      - add some debug logging.

commit a2098a47b690d89929dc762d1a0d4cf9173a522f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 18:56:06 2020 -0800

    Updated SDL to 2.0.14 in preparation for release candidate

commit 2a9591a9eaec01ea04be0c0636bccbee00b6200a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 09:16:34 2020 -0800

    Accepted patch https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/fix-space-in-path.patch

commit 146d9b820115e96e2f5f46b79c553fe9e2266c56
Author: Mikhail Paulyshka <me@mixaill.tk>
Date:   Sun Sep 24 14:32:30 2017 +0300

    win32: fix symbols leakage for static libraries

commit 7f1c6e82b91ea8743a23d833efc93ee0acc67c38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 09:13:08 2020 -0800

    Accepted patch https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/enable-winrt-cmake.patch

commit 7665f8870aa13c2c116a42c6486ba008f1776255
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 09:07:21 2020 -0800

    Accepted patch https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/disable-wcslcpy-and-wcslcat-for-windows.patch

commit 695499ae6cbb067fde8945e01d12d327cf7569bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 8 09:04:28 2020 -0800

    Accepted patch https://github.com/microsoft/vcpkg/blob/master/ports/sdl2/disable-hidapi-for-uwp.patch

commit 5610e5ae48a8757b34b179dfb2d0fb04cc659739
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Dec 8 00:11:10 2020 +0300

    Makefile.os2: disable W303 (add -wcd=303 to CFLAGS)
    
    newer OpenWatcom versions enable W303 by default.  without this, we get
    multiple "Parameter '%s' has been defined, but not referenced" warnings.

commit c9723c407ff0792b5bb5708754fa760ae9144da6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 7 09:38:21 2020 -0800

    Fixed potential hang in joystick close if the rumble thread is blocked for some reason
    
    It's still possible to hang when shutting down, if the rumble thread is still hung, but it won't block indefinitely at runtime.

commit 3c68051eaf14f65a219efdae8321827c69af5e5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 4 15:47:28 2020 -0800

    Allow background input when testing game controllers

commit 09909d029dddfd9056e4aa674ec8ef6cdaf8edd4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 3 19:44:47 2020 -0800

    Fixed handling of BACK button on newer Xbox One S controllers

commit 54e5136b50610d08efac66bffef49fabb12b751f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 3 18:17:04 2020 -0800

    Refactored Xbox One Bluetooth protocol and verified Xbox One S, Xbox Series X, and Xbox One Elite Series 2 controllers

commit 1031231b2922142940eaa2c26d9debe17e5e5f09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 3 18:17:03 2020 -0800

    Fixed duplicating a device between XInput and HIDAPI

commit 59f28b7f4bd1d3a4a03d0458f26c045b5842db6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 3 18:17:01 2020 -0800

    Fixed whitespace

commit f487d63a6b4b1d18cbbafde5d99b0c32e377a96c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 3 18:16:56 2020 -0800

    Fixed crash when printing NULL wide character string

commit 754286c61c8e60b8bce1b30dfa8638ac59fbbae9
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 2 13:45:24 2020 +0100

    SDL Renderer: specify the correct flag when recreating the window

commit 035f8f239197e167c11ee098fdab54dc499010ec
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 2 13:37:59 2020 +0100

    SDL_RecreateWindow: allow clearing VULKAN when recreating the window

commit 93fbab0fac9693c26e7764b0e5f5c36591416f59
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 2 11:04:53 2020 +0100

    SDL_ReCreateWindow: allow to unload METAL window and switch back to OpenGL.
    
    On older mac, where METAL Renderer METAL fails to create, it allows to switch back to OpenGL SDL_Renderer
    by re-creating the window (METAL flags was previously persistent).

commit 9d40a0f317a94da2742336a97b09a88d711915df
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Aug 29 16:50:26 2020 -0700

    Fix joystick device add events containing invalid device indexes
    
    This can happen if the application has not yet processed SDL_JOYDEVICEADD when
    the same joystick is removed. It may also happen if two joysticks are added
    and the second joystick is removed before the first joystick's SDL_JOYDEVICEADD
    has been processed by the application.

commit 7854f43b6d7a142a2e9ae724ea3ae2072b8d7fa8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 14:43:15 2020 -0800

    Disable SDL_JOYSTICK_HIDAPI on iOS and tvOS by default
    
    It's only needed for Steam Controller support, and introduces a Bluetooth framework dependency which requires additional permissions on the App Store.

commit ebf315e0f210358ca3d9571902c1c2172dcc8ca0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 14:01:12 2020 -0800

    Fixed bug 5369 - iOS static library build copies public headers files into xcode archive
    
    Dominik Reichardt
    
    Trying to integrate the latest SDL2 changes into our iOS project of Exult I've stumbled over the fact that when I added the static iOS library the public header files were copied to the archive of our project when you let Xcode build the archive.
    This makes the archive invalid for upload to the AppStore Connect.
    
    To fix this you need to delete the public headers from the build phase:
    Open the xcode project, select the target "Static Library-ios", got to build phases, and in "headers" delete all the headers in the "public" group. This is safe to do as this actually just copies the public headers for some odd counterintuitive reason.
    
    I think this needs to be done for all the library build targets but likely not for the framework targets.

commit 4b35a18d8b4529944f537c4cf316395e10bc8f72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 13:50:42 2020 -0800

    Fixed bug 5366 - cmake build doesn't detect Metal on macOS
    
    Tom Seddon
    
    This is as of commit 50d804ea729accf9e3a9ce83238d0a2976a17545 from https://github.com/SDL-mirror/SDL, which is HEAD as I write (apologies, not confident with Mercurial)
    
    # Config
    
    macOS: 10.14.6 (18G6042)
    cmake --version: cmake version 3.16.20200101-g23e782c
    clang --version: Apple clang version 11.0.0 (clang-1100.0.33.17)
    Xcode version: Version 11.3.1 (11C504)
    
    # Repro steps
    
    Run the following commands in the shell.
    
     cd /tmp/
     git clone https://github.com/SDL-mirror/SDL
     mkdir build.SDL
     cd build.SDL
     cmake -G ../SDL/
    
    Examine cmake output.
    
    # Expected result
    
    Metal is detected.
    
    # Actual result
    
    It appears that Metal is not detected! Note this line in the summary:
    
     --   RENDER_METAL           (Wanted: 0): OFF
    
    # Fix
    
    Change check_c_source_compiles to check_objc_source_compiles. The cmake script tries to add -ObjC to the clang command line, but, for whatever reason, this doesn't seem to work.
    
    Change the test source to have an empty main. The "return 0;" line seems to confuse cmake somehow, causing it to crap out with an error about HAVE_FRAMEWORK_METAL being an unknown argument. (Maybe I'm just dense, but it's not obvious to me what the problem is here.)
    
    With these two changes:
    
     --   RENDER_METAL           (Wanted: ON): ON
    
    Patch attached.

commit 798b2288065cbf9968b302d569964e6199b042f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 13:46:34 2020 -0800

    Fixed bug 5367 - SDL_OpenUrl disabled on iOS due to unified Xcode project file
    
    Dominik Reichardt
    
    When you unified the Xcode project file you forgot to add the iOS file (/src/misc/ios/SDL_sysurl.m) to the project file, so the dummy in that folder takes over and the call does not work.
    
    Relevant commits:
    http://hg.libsdl.org/SDL/rev/c86bbf75f55e (SDL_OpenUrl enabled for macOS/iOS)
    
    http://hg.libsdl.org/SDL/rev/282c3dc1cf65 (and following: unified Xcode project files)
    
    Adding an ios group in the misc group of the project file and then adding /src/misc/ios/SDL_sysurl.m to it fixes the problem.

commit c78ca2d1700322ee906a2e83e9181ed5fbf7e6c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 13:38:42 2020 -0800

    Fixed bug 5371 - Rawinput: Fix truncating cast of string length.
    
    Joel Linn
    
    Fixes an implicit truncation of a string length on 64bit systems.

commit a3ccf9adcaf65fed8ef09036942d9785730000a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 1 13:36:41 2020 -0800

    Fixed bug 5373 - [PATCH] Rawinput: Get correlated XInput battery info
    
    Joel Linn
    
    Currently the rawinput driver always reports a device as "wired". This changes that to "unknown" and updates it once the device is correlated with xinput.

commit e3966e25cacf186b3f560e1d13a1a853c2392ba7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 30 13:04:30 2020 -0800

    Use the correct internal API for updating the battery level for PS5 controllers

commit f4ed07de066b456074c49025c921b53097a9492c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 30 13:02:34 2020 -0800

    We don't know whether the PS5 controller is Bluetooth or not when we open it

commit 04f0fd13b5dbceee58a74b1003c56a59fbf13e1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 18:57:42 2020 -0800

    Remember to close the game controller when we're done with it

commit 1f2f536bd25e6ceccf792c9b6ab1eb67386f1463
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 18:57:40 2020 -0800

    Fixed XInput correlation for raw input controllers after hotplug events

commit 012471e959f3a791ddc878ee32744a9f4dd48cd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 18:57:38 2020 -0800

    Open and test all connected controllers

commit 1c865c460b348e9085d84a48d5f4aca9fdfe5b71
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 18:57:36 2020 -0800

    Load the raw input device list at init time so it's available when DirectInput is doing device detection

commit a0c5bfa3bd32dc8edc7d5a2a1240fc525b436c8d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 13:08:40 2020 -0800

    Moved raw input event processing from the main thread to the joystick thread
    
    This allows fast joystick event delivery regardless of what the main thread is doing.

commit 4fbefbe20d64ab7550fdace503ecf4fe0b5db317
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 11:33:53 2020 -0800

    Sort the raw input axes by usage, so X comes before Y, etc.

commit 4ddac485db44208ed06cc8c214a94be50c116830
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 11:33:51 2020 -0800

    Backed out minor optimization that prevented correlation_id from being set

commit 8973a25849b30c7e778c49e73d6f546b9a5d155a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:56 2020 -0800

    Enable dispatching of WM_INPUT_DEVICE_CHANGE events directly, in case the application hasn't created a window with the normal message loop

commit e8adc648109546b20af2cb8a766648aa1e1f5975
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:55 2020 -0800

    Enable dispatching of WM_INPUT events directly, in case the application hasn't created a window with the normal message loop

commit 0252235e820fb9af6112529e219ba5f2d5c4c1f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:53 2020 -0800

    Recheck devices if another API queries raw input for a new device

commit a7dede7e366d0b2653c99b371afc67727f7a3928
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:51 2020 -0800

    Re-enable axis correlation for raw input controllers, for twin stick shooters that don't need face buttons

commit ce77966da85aeb68a1015c5eb5319ceea60350af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:49 2020 -0800

    Fixed RAWINPUT_IsDevicePresent() not returning TRUE for Xbox One controllers

commit 8a449de20d5e8f648bda271ad88412af4b29ed3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 10:44:47 2020 -0800

    Fixed Xbox 360 wireless controller being picked up by WGI when it's being managed by RAWINPUT

commit 37c9e4afa3794fbb3919c96fe011035e75984b58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 06:03:15 2020 -0800

    Fixed processing WM_INPUT_DEVICE_CHANGE at startup

commit 248fc75bd2244fda36961a13b321114929301ef0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 05:53:56 2020 -0800

    Correlate just based on buttons, joystick axes are not as precise and could potentially cause incorrect uncorrelation.
    
    It's okay if the triggers aren't precise until someone presses a button on their controller.

commit e7e615de26b5bf909aea18ef4e5661502fdc0a4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 05:53:54 2020 -0800

    Removed extraneous windows message pumping
    
    Most of the raw input events are dispatched in the main windows message loop. We only dispatch device change messages separately when we need them to be completely up to date.

commit 2931eccd842d73807ac7a9d6152418556b887625
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 05:53:52 2020 -0800

    Fixed detecting Bluetooth raw input devices, which have device names longer than 128 characters

commit 849ce8037676f33771510aeecdd3c296804ef629
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 05:53:50 2020 -0800

    Renamed SDL_JOYSTICK_RAWINPUT_GAMING_INPUT to SDL_JOYSTICK_RAWINPUT_WGI

commit 219a28dd8a8d66f482a0931fc7a83abab3566f34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 27 03:45:05 2020 -0800

    Fixed D-pad uncorrelating raw input controllers (thanks Jimbly!)

commit 2c079a2f6c7379c83fb9790e25487244a4ce7c11
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Nov 27 09:42:14 2020 +0100

    SDL_FillRects: prevent empty SDL_surface from raising an error message
    
    It's legitimate to have a surface with 0 width or height (null 'pixels' pointer).
    But calling SDL_FillRects would wrongly set the error "You must lock the surface".

commit 3fbff2a45badadb87286e4f912436adcd1e9da81
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 26 10:47:33 2020 +0300

    SDL_rawinputjoystick.c: fix ambiguous 'else' warning
    
    src/joystick/windows/SDL_rawinputjoystick.c: In function 'RAWINPUT_HandleStatePacket':
    src/joystick/windows/SDL_rawinputjoystick.c:1343:9: warning: suggest explicit braces to avoid ambiguous 'else'

commit 845b903324b19e863fd026436ef9b2016ecb0626
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 16:46:42 2020 -0800

    Implemented trigger rumble for raw input controllers

commit 517be8082200da7a3e7ab5683343c66f30ec0d8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 16:05:19 2020 -0800

    Implemented battery status for Bluetooth Xbox One controllers
    
    Also switched the rumble loop count to 0xEB (one hour) to match Windows driver

commit 24cc0012f071f3c95ecf288959c9d75507df335f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 16:05:15 2020 -0800

    Some controllers don't always reset their triggers to zero when they are released (e.g. Xbox One S in Bluetooth mode), so only trigger rumble if the trigger is pulled halfway or more.

commit 6a7f29cdbb80e125891103b471686b02419423a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 11:31:17 2020 -0800

    Fixed compiling on tvOS

commit 9ec2cf562981f30a1f50a55eebce5edd91be0897
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 10:31:59 2020 -0800

    Fixed building with Windows.Gaming.Input enabled

commit 3c07dd12f08d4af1be77fd50f6c5250ce9d745db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 10:28:48 2020 -0800

    Strip an extra '.' off of the HORI manufacturer name

commit e5783e1179b5acca343f23e6dd0ffe7fa95df1eb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 25 14:51:56 2020 +0300

    cmake: add missing checks for wcscasecmp, _wcsicmp, wcsncasecmp, _wcsnicmp

commit 7c18088f0002e7fd53995c32ba39d384293f5fff
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 25 14:51:56 2020 +0300

    SDL_config_os2.h: define HAVE__WCSICMP and HAVE__WCSNICMP

commit 159d1b3df50b351b5325c44d1ee20644f8f857d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 01:35:45 2020 -0800

    Don't set the serial number after the controller is opened
    
    We'll use the USB value instead so it's available as soon as it's opened.

commit 7d92b14f46b28047bd013ca07cdae3581138d6b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 25 01:18:18 2020 -0800

    Simplified Xbox One controller initialization state, and don't query for the serial number.

commit 9fc4a4c92c3e34573425b1b0ede7b3cf59dcf125
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 22:25:26 2020 -0800

    Revamped Xbox One HIDAPI init sequence
    
    Added support for querying the controller serial number on newer firmware

commit e16afa792f7e752b0ef5ce6ec2530aabfcb977e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 16:38:49 2020 -0800

    Automatically switch to testing a new controller when it's plugged in

commit 46a844786bea0871bcfbc3b30aa1282adf88e897
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 12:43:01 2020 -0800

    Added SDL_wcscasecmp() and SDL_wcsncasecmp()

commit e4b7d9a22109414bcac9af691e888a531c288a8d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:56:59 2020 -0800

    Removed usage of TARGET_OS_OSX for building with older SDKs

commit a7d91ebaa5a7dbff1a396898d47cd19454715548
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Nov 9 17:05:21 2020 -0500

    winrt: Add EffectiveLocation support for newer Win10 releases

commit 16d789fba9f001547802c53b5e1015fed564b23f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:30:39 2020 -0800

    Disable compiler warning when using -fobjc-weak building C code

commit a5cde4cb0c00995e831ec981f7e101631ae6d4fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:29:55 2020 -0800

    Fixed trying to use @available() on older SDK

commit b4338dda47c03d6a422e158eaa396cab6a605e67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:22:29 2020 -0800

    Enable -fobjc-weak when building MFI controller code

commit 97782e6c64adac3b3e5583fbbbed8a5b104ec74c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:11:49 2020 -0800

    Don't try to call IOS_SupportedHIDDevice() if it's not defined

commit a063b9fbfb9ec03d1ef82519580c4f1eeb3326d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 07:06:31 2020 -0800

    Fixed compiler warning

commit c63bbb06e9c0ee3f7f600c701ff70e5ac1cbe51d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 06:55:33 2020 -0800

    Including SDL_config_iphoneos.h enables MFI controller code

commit eba069eaf052e90e4f50545c9acc3ef14727b9d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 06:53:48 2020 -0800

    It looks like the Objective C support needed to build MFI controller code is in 10.8

commit 23ad4f4b8c7841d9eb1b19032a6eea613e579a08
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 24 14:10:30 2020 +0300

    configure.ac: check GameController framework support when targeting Darwin
    
    disables SDL_JOYSTICK_MFI for i386 or if MAC_OS_X_VERSION_MIN_REQUIRED < 1090
    --disable-joystick-mfi disables it unconditionally.

commit 711d4090325d0f20af28802ab6e5beb41b48b413
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 24 14:10:30 2020 +0300

    CMakeLists.txt: add src/joystick/iphoneos/*.m to Darwin joystick sources
    
    .. so that there won't be missing symbols.
    TODO: add checks for SDL_JOYSTICK_MFI ???

commit 7a05dbf4b955e40f5163e16e2ee2a9f3acfb88a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 06:42:53 2020 -0800

    Fixed building on FreeBSD
    
    Alex S
    
    Looks like we have a collision with https://hg.libsdl.org/SDL/rev/cd774daff9f6. (Again, the headers in the base system are intended for drivers and should not be used for compiling non-base applications. At least that's the policy for now: https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=240964#c19.)

commit feab9d42c1fa71ff3de5da79fabc305b7c87a4dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 24 06:40:13 2020 -0800

    5363 - Memory leak of joystick->sensors in SDL_JoystickClose
    
    Mathieu Eyraud
    
    Joystick->sensors is never freed.

commit 34bea84a544460d7774b262d42b714e387b35843
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 23:03:55 2020 -0800

    Fixed bug 5335 - Patch: enable joystick/haptic/evdev support by default on FreeBSD
    
    Alex S
    
    Ah, that's not quite enough. You need to:
      1. rename src/joystick/bsd/SDL_sysjoystick.c to something;
      2. regenerate configure.

commit 1e943e2ad248bf5b5be4993b30c5528816950056
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 22:59:22 2020 -0800

    Fixed building with an older SDK and macOS target

commit 1fc5ca648409dea75a379780bc49f06bfe4f25eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 22:24:54 2020 -0800

    Fixed building with an older SDK and macOS target

commit 4121ab620073e98773bc8244c51788c5a3b3d40b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 21:25:07 2020 -0800

    Fixed bug 5354 - DirectFB: Add Vulkan support
    
    Nicolas Caramelli
    
    This patch adds Vulkan support for the DirectFB video driver.
    A screenshot with SDL tests running on DirectFB is available on the HiGFXback project:
    
    https://github.com/caramelli/higfxback/wiki/DirectFB#sdl

commit e44bf8a080cfec1c2385ac8f408e863fb1b48483
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 21:18:37 2020 -0800

    Fixed bug 5359 - Incorrect sensor data from DualShock4
    
    multiply gyro values by sensitivity
    
    When the hardware calibration fails, values read from sensors need to be multiplied by default sensitivity (16 for gyro, 1 for accelerometer).

commit c8c818d7a4887f50382f49606fdd5a5d4f1ffa07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 21:14:37 2020 -0800

    Fixed bug 5360 - non-libudev joystick detection doesn't see controllers that were already connected
    
    Simon McVittie
    
    When watching for hotplug events we can poll the inotify fd, but we
    still need to scan /dev/input once per process, otherwise we'll fail
    to detect devices that were already connected.

commit 8e2746cfb6e1f1a1da5088241a1440fd2535e321
Author: Simon McVittie <smcv@collabora.com>
Date:   Mon Nov 23 21:10:48 2020 -0800

    joystick: Don't use udev in Flatpak or pressure-vessel container
    Flatpak[1] and pressure-vessel[2] are known to use user namespaces,
    therefore udev event notification via netlink won't work reliably.
    Both frameworks provide a filesystem API that libraries can use to
    detect them. Do that, and automatically fall back from udev-based
    device discovery to the inotify-based fallback introduced in Bug #5337.
    
    [1] <https://flatpak.org/>
    [2] <https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/tree/master/pressure-vessel>
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit e9869e07bf610e923d79bc729df01bdde699e065
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 21:08:19 2020 -0800

    Fixed bug 5335 - enable joystick/haptic/evdev support by default on FreeBSD
    
    Alex S
    
    Evdev headers aren't actually included in the base system (well, it has a private copy), they are available through the devel/evdev-proto port instead. We also have devel/libinotify and devel/libudev-devd shims, I didn't verify whether they work with SDL.

commit 38ab8bf74b417fc44e023aeb25d3c3232ce5546a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 21:03:43 2020 -0800

    Fixed bug 5362 - Mac OS ARM doesn't build Metal/Vulkan back-end/renderers
    
    C.W. Betts
    
    As it is, SDL2's built-in config on macOS for Metal excludes Apple Silicon. This is due to thinking that the 64-bit Mac platform would always be x86_64. My patch fixes this by using the catch-all of 64-bit platforms.

commit 62e39b5fa7b5ea73ead7682f2db47e2655643dec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 20:57:14 2020 -0800

    Fixed building with an older SDK and macOS target

commit 268aa456455ff31cab89396ceee8db61afffd3d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 20:26:28 2020 -0800

    Fixed compiling with SDL_JOYSTICK_RAWINPUT disabled

commit eaa53a19795f495fb856dc6c03060b2151da26f5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 23 22:16:07 2020 -0500

    joystick: On Linux, don't try to close an invalid inotify file descriptor.

commit 5c9577476f6df52ee93e6d9bfc4affa81d81f7a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 23 22:14:22 2020 -0500

    joystick: Fix up Linux joystick code to (mostly) compile on FreeBSD.

commit 179bd66581aefb6e92f9aafb99440b6dc88f2960
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 18:27:43 2020 -0800

    Don't enable PS5 controller support if DS4Windows is running - they conflict.

commit 5b3616c325c4461fe7e038706502ff6c300f539d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 18:24:05 2020 -0800

    Generalized the raw input controller driver and moved XInput/WGI detection into it for XInput devices
    
    This fixes bad report parsing for various newer Xbox controllers, and this driver is now preferred over XInput, since it handles more than 4 controllers.

commit 0ff5d55a0773fc55dd6d9b052a0ba1b068383077
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 23 21:07:28 2020 -0500

    x11: Don't try to grab the pointer on an unmapped window (thanks, Lee!)
    
    Fixes Bugzilla #5352.

commit 04b45b5581d72225a30a9dd4965d1dceec7ce5a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 14:28:30 2020 -0800

    Allow testing a specific controller

commit ff4bc1389c4bdc04a91edf188380b8de49e2ef5b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 23 14:28:16 2020 -0800

    Fixed mapping controllers after adding the touchpad button

commit 4c96faee578efcba3f2d6afe8e2122f26b1dfb0b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 23 20:37:10 2020 +0300

    remove non-existing tslib support from autofoo and cmake

commit fd89446782a33a4b93223110e8a2becf58f0a940
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 14:13:26 2020 -0800

    Fixed building on Mac OS X on the command line and with an older macOS SDK

commit 1df593fb16c931f6bd5aecea1fec36a31533fce2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 13:15:33 2020 -0800

    Fixed bug 5355 - Add GameController Framework support to macOS
    
    C.W. Betts
    
    This patch adds support to the GameController framework on macOS Big Sur and later, adding support for MFi controllers as well as rumble support for PS4 and Xbox One. There is some code to make sure that the IOKit joystick handler doesn't include two controllers at once.
    
    While the GameController framework is present in earlier versions of macOS, there was no public, approved way of checking if a specific IOHIDDevice is a controller that GameController could handle. This was changed in Big Sur.

commit 5e0644c15ab3f56cd16f6e8e56b5f831ff2a6eaa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 12:55:56 2020 -0800

    Disable libusb by default, as it breaks on Linux when trying to use it with non-root permissions on some distributions

commit 870841c414a81c1c04dd681d72a7348e7b98b24f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 11:59:01 2020 -0800

    Reset the LED state after Bluetooth connection has completed on the PS5 controller

commit 120dc280ca1103f2979346a6c4c8df0ba2b72d5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 11:25:26 2020 -0800

    Enable HIDAPI by default

commit a94fe009c609bf95466b788d5919820fe962aaaa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:40:27 2020 -0800

    Moved comment with the code it covers

commit 49f7be6d0d29f394e8fc5426594e43d0710a7d30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:37:56 2020 -0800

    Fixed compile warning C4127: conditional expression is constant

commit 63b52e8e675c559aeadae531f8fab813af73d816
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:34:32 2020 -0800

    Remove SDL dependency in Windows code

commit d4954eb090fdd0b0ca144096b3f38554f8cee9e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:26:43 2020 -0800

    Removed debug code

commit b442e617e95e9142a7a855b9f1b731317a3aefe8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:15:55 2020 -0800

    Fixed adding an extra zero byte for feature reports
    
    At least with PS4 and PS5 controllers DeviceIoControl() returns the correct value

commit 75721b191c074555a2f619c296744c320255954d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 18:01:23 2020 -0800

    Allow testing effects on PS4 controllers
    
    Note, this will switch the controller into advanced report mode which breaks DirectInput on Windows

commit 2e8e3854b8ea9db83cc75515f778bf5b5a097772
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 17:59:15 2020 -0800

    Fixed compile warning

commit 6b56b98fc32cb74df7d9b030dfedf941ff77ed0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 09:26:11 2020 -0800

    Fixed is_BLE() return value

commit 65c9f1d2cc9f9ddd7b8b9c50d42c9d037030a657
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 21 09:06:48 2020 -0800

    Fixed upstream bug: FD 0 is a valid file descriptor
    
    https://github.com/libusb/hidapi/issues/199

commit 549010f2a04ff9987f1efa5a36c44e120d475a5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 20 13:24:49 2020 -0800

    It takes 2 packets to stop audio haptics and start emulated rumble on the PS5 controller

commit 082558db334a048eef25bbd196f880cb4acdb0b2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Nov 20 12:20:02 2020 +0300

    SDL_os2messagebox.c (_makeDlg): fix crash if title and/or message is NULL.
    
    c.f.: bug #5253.

commit bf7d198d48137ea756117801987cb8c202e8fb7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 19:09:42 2020 -0800

    The HORI Fighting Commander should only show up as an XInput Switch Controller on Windows

commit 6cb7f9e39ab3a3ce62b3b68d7258f5031f1ebf51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 19:09:40 2020 -0800

    Respect SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS for Nintendo Switch Pro controllers using the HIDAPI driver

commit 9980766533594418878efb3b319c144a6fcb4756
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 19:09:38 2020 -0800

    Respect SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS for the Nintendo Switch Pro controller on Linux

commit 7366693f3b2190bc0c9acf52acf64c03ee64bffb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 19:09:36 2020 -0800

    Added support for a few more controllers on Linux

commit ffb4d960b20db06dde7f6ba9f111e8a6cdf5112f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 19:09:34 2020 -0800

    Disabled Xbox protocol debugging

commit c9b097e659e6eeb7c65921b2e96cc55a84feebb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 13:31:16 2020 -0800

    Clarify the meaning of the rumble enable bits for the PS5 controller

commit c85623d7907dc2c6690e9363ea2daf8b6fec0901
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 13:10:14 2020 -0800

    Re-enable haptic audio after rumble on PS5 controller
    
    Also make sure we don't set any other state when we're not intending to, and added more interesting effects which are currently not exposed via API

commit b0b76a61c7963e77eca9db66feefa562f309ceb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 19 07:12:53 2020 -0800

    Fixed rumble on PS5 controllers connected to Windows over Bluetooth

commit 8c3196da608cd19fac9b5c8f4d2c9281bdc3f62e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 18 21:33:11 2020 -0800

    Fixed some compiler warnings

commit 45f143754946744e4c93a547b0969e26ba4afb62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 18 20:34:12 2020 -0800

    Experimenting with requesting the serial number on an Xbox One controller

commit 963d8b3f4055079410d5075bed8fbf61a67ca9ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 18 20:34:10 2020 -0800

    Fixed bits in the initial Xbox One protocol ack

commit cd51a51f0028cf29ef3cdad314b0571a006454fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 18 20:34:08 2020 -0800

    Updated with a better understanding of the Xbox One controller protocol

commit 335cfa107bbf45e489a687f2200aa08590747c14
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 18 11:24:08 2020 -0500

    x11: Don't crash if a messagebox has a NULL title string.
    
    Fixes Bugzilla #5253.

commit 51ea6a6d44edeffc677ce0d48c497fd75b61ae44
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 17 22:09:52 2020 -0800

    Don't send controller gyro and accelerometer updates if the values haven't changed.
    
    This keeps SDL_PollEvent() from returning data continuously when polling controller state.

commit 463d84a8606db293b1f503feeca54d5ee2b2886f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 17 10:56:56 2020 -0800

    Added support for the PS5 controller gyro and accelerometer

commit fcb21aa8834f5f60bf24944101246c5b4324d35b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 17 10:30:20 2020 -0800

    Added API for sensors on game controllers
    
    Added support for the PS4 controller gyro and accelerometer on iOS and HIDAPI drivers
    
    Also fixed an issue with the accelerometer on iOS having inverted axes

commit b79e1baa360fdf0bc5cb09a3c833e85a1ebe9830
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 17 10:29:36 2020 -0800

    Added weak linking to hidapi framework
    
    Also added testsensor to the test project

commit 0150455d2c2050538a35c77574199b7a8fd4ad3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 17:42:04 2020 -0800

    Added SDL_crc32.c to the Windows RT projects

commit d140d88744d9b88d1946556753f7333e932f851e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 17:36:47 2020 -0800

    Added SDL_JoystickGetSerial() and SDL_GameControllerGetSerial()

commit 55e59a4f33a859477379a59f0e2db2f697c69455
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 16 18:48:13 2020 -0500

    crc32: Fixed include path.

commit dfc24e05bc19fba24c6fd1a5ba6a34b4d7021fc4
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 17 02:39:56 2020 +0300

    fix os/2 build

commit 7bbea0bb94b6831e8ff686cdba7ae431c97c82e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 15:10:02 2020 -0800

    Fixed build warning

commit 71e32f5e1b42ba324d270df0700beae34a85e845
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 15:00:15 2020 -0800

    Added SDL_crc32()

commit 3d48fc05c3e9c511b3056b8c62461c5c7f4b67b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 13:21:02 2020 -0800

    Added notes about the pad lights on the PS5 controller

commit 4514ad573eccc43f7f16886a065304ef62f8b6d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 13:07:11 2020 -0800

    Fixed updating LED state when starting application with Bluetooth PS5 controller connected

commit a37e3ae218a7b3b74d537d3f8050de2bf583772d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 11:21:58 2020 -0800

    Implemented PS5 effects over Bluetooth

commit c6c116e84710984eeb0c7863bda3171594e101ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 10:51:13 2020 -0800

    Implemented setting the LED color on the PS5 controller

commit fe4da4206a93afbe284e6e9b58821d43e3059474
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 10:39:44 2020 -0800

    Improve LED color calculation, don't set LED unless left thumbstick is moved

commit aa7c3eae195582290e282fc3971afd14db124f7e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 09:16:01 2020 -0800

    Fixed size of rumble packet

commit f28c01a4fbe3bbd0031b0c8d09562ffb60428cbb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 09:11:15 2020 -0800

    Fixed rumble order on PS5

commit eb94c19a6371b0e29fdd096754d95a96c3d7113d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 08:09:15 2020 -0800

    SDL: fix iOS build

commit 8243bd1dc6caf7aa84e25e6c05709043a71d59e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 08:09:13 2020 -0800

    SDL: Plumb PS5 rumble to output report

commit c0f7325b859e940e4beb21b850a50ae86dd45062
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 15 17:10:15 2020 +0300

    SDL_PrivateJoystickForceRecentering: fix wrong loop counter usage.
    
    The typo seems to have been added by commit c7782fd6142b

commit 1ed36d21b079f40ea606d827f8936123c2a74109
Author: Brian Kubisiak <brian@kubisiak.com>
Date:   Sun Nov 15 04:10:02 2020 +0300

    egl: Fix detection in configure script on systems without X11 (bug #5270)
    
    In recent versions of EGL headers on Linux, the MESA_EGL_NO_X11_HEADERS macro is
    deprecated and has been replaced with EGL_NO_X11. As a result, the configure
    script would fail the compilation check for EGL headers and disable EGL (and by
    extension, Wayland) support when X11 headers are not installed. Fix this by
    adding the correct macro to disable X11 support in the headers.

commit bbbec723e511e9e68f883b405a2f620eacf682cb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 14 14:03:40 2020 +0300

    SDL_config_windows.h: define HAVE_TRUNC[F] for Visual Studio >= 2013

commit 3e40b87f560469c3ed5d2f3637520a533f81b6a3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 14 14:03:40 2020 +0300

    SDL_config_os2.h: undefine HAVE_TRUNC
    
    trunc() exists only in OpenWatcom 2.0 fork, and its implementation
    already is the same as the fallback we have here..

commit bee8db3b0495f4c647c3a1a75174f08b2d23fba9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 14 02:16:41 2020 -0500

    config: Make sure HAVE_TRUNC and HAVE_TRUNCF are defined as appropriate.
    
    The configure/cmake scripts were checking for these functions but we didn't
    have the SDL_config.h.* pieces in place. The other config headers are best
    guesses.

commit 5c34c973e6431af2774ec34faea12808ad8223ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 13 19:40:25 2020 -0800

    Clarify that we're using button indices, not using gamepad button names

commit 9f51fad36188de6f539bb9cd3bbea458798252df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 13 18:01:29 2020 -0800

    Added support for the touchpad on PS4 and PS5 controllers

commit 78422fa3c898cb78d50ea3fc70458008643762d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 13 13:17:07 2020 -0800

    Added more detail on the PS5 controller state packet and enable full reports over Bluetooth

commit 30371f2d4dc48d5fc3e276f94b50df57f8c340a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 13 13:17:04 2020 -0800

    Fixed doubled report ID for Bluetooth Classic devices on Linux

commit 8cd4f364db5b1e8f157cf3fe906695830813a9e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 20:02:31 2020 -0800

    Mapped the touchpad click as SDL_CONTROLLER_BUTTON_MISC1 on the PS5 controller

commit 8e312a6a59dbef494c460dd2f61e813991270d50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 15:56:33 2020 -0800

    Fixed detecting Bluetooth XInput controllers on Windows

commit 8b29aaddbd58490d6944118f84b5c7b852445907
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 14:34:11 2020 -0800

    Fixed warning when building on Windows

commit e0018d08691c9266caf83c6a0a6b5452151b9a36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 14:23:56 2020 -0800

    Fixed Windows build

commit 0500c04468624e5858469f5e29a8e3f851e5cf14
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 07:53:05 2020 -0800

    Fix SDL_HINT_THREAD_FORCE_REALTIME_TIME_CRITICAL also applying to HIGH priorities
    
    As the name suggests, the hint should only apply to SDL_THREAD_PRIORITY_TIME_CRITICAL
    
    The resulting priorities for my current distro result in these values:
    
         | High         | Time Critical
    Hint |--------------|-----------------
     0   |  P=10 N=-10  | P=5   N=-15
     1   |  P=10 N=-10  | P=-21 N=0

commit 5b0d4329427b077533534f463f097e11e2cf951e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 07:53:03 2020 -0800

    Implemented trigger rumble in the HIDAPI Xbox One driver

commit e749c1266f86f0b1ae6e2ff82a081518cc2c55fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 07:53:01 2020 -0800

    Fixed overflow in trigger rumble calculation

commit 52486d018a0882da1fec5d0881b91c28fd1e6737
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 12 15:10:00 2020 +0300

    SDL_keycode.h (SDL_Keymod): remove comma at end of enumerator list

commit c122e9b9ceb2f7c1ec970ba5d956cf571a3116e6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 12 14:11:50 2020 +0300

    linux/SDL_sysjoystick.c (MaybeRemoveDevice): remove SDL_USE_LIBUDEV guards
    
    fixes bug #5349.

commit 94a047f718b4fd0cd1edcacc321f82fddca26b28
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 12 14:11:40 2020 +0300

    fix xcode project file permissions

commit 83b653d55d1cafd51b4c31a85b1d268228ba396c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 20:09:56 2020 -0800

    Fixed build warning

commit dc764496618723ad109f5453a5ce45187afeec51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:53:10 2020 -0800

    Backed out change for bug 5335 - enable joystick/haptic/evdev support by default on FreeBSD
    
    Building on FreeBSD fails:
    /buildbot/worker/SDL/sdl-freebsd-amd64/src/src/joystick/linux/SDL_sysjoystick.c:26:2: error: SDL now requires a Linux 2.4+ kernel with /dev/input/event support.
    #error SDL now requires a Linux 2.4+ kernel with /dev/input/event support.
     ^
    /buildbot/worker/SDL/sdl-freebsd-amd64/src/src/joystick/linux/SDL_sysjoystick.c:35:10: fatal error: 'sys/inotify.h' file not found
    #include <sys/inotify.h>
             ^~~~~~~~~~~~~~~

commit 76bd6cd2d9ebd0d139e04036978742c8fc02c0b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:45:56 2020 -0800

    Fixed bug 5326 - Logitech Extreme 3D joystick is listed as gamepad in linux section of SDL_gamecontrollerdb.h
    
    Spooky
    
    For some reason the Logitech Extreme 3D joystick was added to SDL_gamecontrollerdb.h  in the linux section only.
    
    This breaks the joystick in linux as it is not a gamepad.  I am unable to correctly use or map the Logitech Exteme 3D joystick in games that use SDL2 in linux.
    
    Please remove Logitech Extreme 3D from SDL_gamecontrollerdb.h  Linux section.  It is a joystick not a gamepad.

commit 3160c7d66fd0bc48951d75d9e687d144c3af3fb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:43:02 2020 -0800

    Fixed bug 5327 - When direct input fails to load, but a controlller is plugged in through another api, an access violation happens.
    
    Bart van der Werf
    
    When directinput fails to load, but a controlller is plugged in, an access violation happens.
    This is due to IEventHandler_CRawGameControllerVtbl_InvokeAdded calling SDL_DINPUT_JoystickPresent which does not check if dinput is assigned signalling initialization of directinput.

commit 502cfe314aceb88e0ea00cf35a5d6f4222a3d134
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:39:46 2020 -0800

    Fixed bug 5332 - WGI: Fix wrong level of indirection and implicit truncating cast.
    
    Joel Linn
    
    This fixes two types of MSVC compiler warnings.
    
    - One parameter in the function signatures of two WGI event handlers had one level of indirection too much (and did not match Windows SDK headers). The indirection was cast away so it still worked.
    - size_t was implicitly cast to UINT32 for a number of (constant) string lengths.

commit 1822f97e5fd3e0f63cf22432837d2e7a607d246e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:37:47 2020 -0800

    Fixed bug 5346 - Add FreeBSD evdev KBIO keyboard input driver
    
    wahil1976
    
    This patch adds the KBIO text input driver for FreeBSD, which allows text input to fully work without text spilling out into the console. It also supports accented input, AltGr keys and Alt Lock combinations.
    
    Tested with US accent keys layout and various AltGr layouts.

commit 38ed8a955a10b9420c87421eb85c1b2449f266c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:31:03 2020 -0800

    Fixed bug 5335 - enable joystick/haptic/evdev support by default on FreeBSD
    
    Alex S
    
    ...which allows SDL to talk to webcamd/iichid. (Webcamd actually bundles quite a few gamepad drivers.) Note that this does _not_ disable usbhid, both joystick backends will be compiled.

commit 320a7587d7e4f8f46cbc94d68cb5f35128ae6cea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 19:26:59 2020 -0800

    Fixed compiler warnings

commit 65847539dd14402d53fb6b2555b76e313ccd1e79
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:15:43 2020 -0800

    test: Add a unit test for input device classification heuristics
    This uses pre-recorded evdev capabilities, so that we can check for
    regressions without the devices having to be physically present.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit b0eba1c55df9b4c94ea4762859a47030058fd2df
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:15:32 2020 -0800

    joystick: Use inotify to detect joystick unplug if not using udev
    This improves SDL's ability to detect joystick hotplug in a container
    environment.
    
    We cannot reliably receive events from udev in a container, because they
    are delivered as netlink events, which are authenticated by their uid
    being 0. However, in a user namespace created by an unprivileged user
    (for example bubblewrap, as used by Flatpak and Steam's
    pressure-vessel-wrap), the kernel does not allow us to map uid 0, and
    the netlink events appear to be from the kernel's overflowuid (typically
    65534/nobody), meaning libudev cannot distinguish between genuine uevents
    from udevd and an attack by a malicious local user.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit aae53d59721c63a8beeb04159b0123d4a1e1b2a6
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:15:09 2020 -0800

    evdev: Detect whether input devices are accelerometers
    Anything with X, Y and Z axes but no buttons is probably an
    accelerometer (this is the assumption made in udev).
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit fdd945f2af0a3da1ec0609afc94e5799c3175a31
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:14:52 2020 -0800

    joystick: Use a better heuristic to guess what is a joystick
    Previously we only checked for at least one button or key and at least
    the X and Y absolute axes, but this has both false positives and false
    negatives.
    
    Graphics tablets, trackpads and touchscreens all have buttons and
    absolute X and Y axes, but we don't want to detect those as joysticks.
    On normal Linux systems ordinary users do not have access to these
    device nodes, but members of the 'input' group do.
    
    Conversely, some game controllers only have digital buttons and no
    analogue axes (the Nintendo Wiimote is an example), and some have axes
    and no buttons (steering wheels or flight simulator rudders might not
    have buttons).
    
    Use the more elaborate heuristic factored out from SDL's udev code path
    to handle these cases.
    
    In an ideal world we could use exactly the same heuristic as udev's
    input_id builtin, but that isn't under a suitable license for inclusion
    in SDL, so we have to use a parallel implementation of something
    vaguely similar.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 8db3171b98f0f72a39312f34966e857e73f8a86c
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:14:34 2020 -0800

    udev: Factor out SDL_EVDEV_GuessDeviceClass
    This works on capability bitfields that can either come from udev or
    from ioctls, so it is equally applicable to both udev and non-udev
    input device detection.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 13e7d1a9583df4323ac78b3afebdc97f48baf42a
Author: Simon McVittie <smcv@collabora.com>
Date:   Wed Nov 11 19:14:11 2020 -0800

    joystick: Allow libudev to be disabled at runtime
    Device enumeration via libudev can fail in a container for two reasons:
    
    * the netlink protocol between udevd and libudev is considered private,
      so there is no API guarantee that the version of libudev in a container
      will understand netlink messages from a dissimilar version of udevd
      on the host system;
    * the netlink protocol between udevd and libudev relies for security on
      being able to check the uid of each message, but in a container with
      a user namespace where host uid 0 is not mapped, the libudev client
      cannot distinguish between messages from host uid 0 and messages from
      a different, malicious user on the host
    
    To make this easier to experiment with, always compile the fallback
    code path even if libudev is disabled. libudev remains the default if
    enabled at compile time, but the fallback code path can be forced.
    
    Signed-off-by: Simon McVittie <smcv@collabora.com>

commit 72379ba510cb6229f65c92d34709264e417448e6
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Aug 25 21:22:00 2020 -0700

    windows: Fix handling of swapped mouse buttons
    
    GetAsyncKeyState() and GetRawInputData() report the state of the physical
    buttons without applying the user's primary/secondary mouse button swap
    preference. Swap the buttons returned from these functions, so we expose a
    consistent view of the buttons to SDL callers. This new behavior also matches
    the behavior of macOS and X11 backends.
    
    See the Remarks section of the GetAsyncKeyState() function on MSDN.

commit 771732ed32a3077c85d92c5d4f3d61497e64588d
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Aug 27 17:54:52 2020 -0700

    windows: Fix numpad arrow key scancodes with numlock off
    
    We should only perform the VK_LEFT, VK_UP, etc. mapping if none of the other
    special mappings apply. This allows the scancode normalization for the number
    pad to take place as intended.

commit 1e2caac58b87b8f9095a86450d4e0f29646aba9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 18:57:37 2020 -0800

    Added SDL_JoystickRumbleTriggers() and SDL_GameControllerRumbleTriggers()

commit 067630aef3880cded94804d527ffcfec47169e25
Author: John "Nielk1" Klein <John "Nielk1" Klein@localhost>
Date:   Wed Nov 11 03:47:08 2020 -0600

    Fix hidapi for unhandled DS4 headset microphone data corrupting controller state

commit b6238c87e4d91ccaa1de186c010ca333516f019d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 14:48:23 2020 -0800

    Don't try to build the RAWINPUT driver if HIDAPI is disabled

commit d1e10c313e42b66340f6790efec6bf241e9c2699
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 14:38:14 2020 -0800

    Removed debug output

commit 07eae7d67093ef94a9e32b827c4ee8e0d9d29acb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 11 08:47:18 2020 -0800

    Fix process randomly getting killed when SDL_THREAD_PRIORITY_HIGH/TIME_CRITICAL is set
    
    When we request realtime priority from rtkit, we have a rttime limit. If we exceed
    that limit, the kernel will send SIGKILL to the process to terminate it.
    
    This isn't something that most high priority processes will want, only processes
    that selectively opt into SCHED_RR/FIFO through SDL_HINT_THREAD_PRIORITY_POLICY
    should be subject to this level of scrutiny.
    
    This change:
      * Switches non-apple posix OSs to use SCHED_OTHER instead of SCHED_RR
    for SDL_THREAD_PRIORITY_HIGH/SDL_THREAD_PRIORITY_TIME_CRITICAL.
      * Fixes using a hardcoded RLIMIT_RTTIME, instead queries it from rtkit
      * Only sets RLIMIT_RTTIME for MakeRealtime rtkit requests
      * Adds a note regarding the possible SIGKILL with SDL_HINT_THREAD_PRIORITY_POLICY
      * Introduces SDL_HINT_THREAD_FORCE_REALTIME_TIME_CRITICAL to allow apps to acquire realtime scheduling policies on Linux

commit 59795822d0e2db2217d95ca9b9765a704b2a499c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 11 12:33:55 2020 +0300

    make SDL_SensorGetDeviceNonPortableType match its prototype.

commit 53b166797da547b11a473993ff912ee167766e95
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 11 12:33:55 2020 +0300

    SIZE_MAX need not be defined in limits.h
    
    it can be in limits.h (windows) or stdint.h.

commit e12457d8bff5f6c0d31a6c38cdbe7ea8a6ff8231
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 10 12:26:30 2020 -0800

    Added support for the Xbox Series X controller to the HIDAPI driver

commit 7b5a0a9f970aadc70c3f6ed339490c9bc1a9affb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 10 13:12:10 2020 -0500

    uikit: Don't implement main() twice for iOS static libs.
    
    I think this was a leftover from before the two Xcode projects were merged.

commit 940419b0a634abe2ae1081b3648ce9a00a1da658
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 10 13:09:59 2020 -0500

    uikit: Fixed a typo in a comment.

commit c3dea23120d88166993620bda5847c5b026e6c9d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 22:39:33 2020 -0800

    Added support for reading the paddles on a Xbox Elite Series 2 controller in Bluetooth mode

commit 02de82000825ff9a158ab97d5baf5da2f81bc8de
Author: Dylan Fan <DylanFan@zhaoxin.com>
Date:   Mon Nov 9 20:36:35 2020 -0800

    Add Zhaoxin processor support
    CPU Vendor ID "Shanghai" and "CentaurHauls" belongs to Zhaoxin.
    
    Background:
    Shanghai Zhaoxin Semiconductor Co., Ltd ("Zhaoxin") , established in 2013,
    headquartered in Zhangjiang, Shanghai, China. Zhaoxin aims at providing
    general-purpose x86 processors.
    
    Related Zhaoxin Linux Kernel patch can be found at
    https://lore.kernel.org/lkml/01042674b2f741b2aed1f797359bdffb@zhaoxin.com
    Best regards.

commit fb4a406af2c9cb48e8746d05afe097c92e3b96ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 18:45:22 2020 -0800

    Don't put 'm' in the GUID for Xbox and PS4 controllers on iOS

commit f656d8456e787db14b7bb40c3439eb24da834311
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 10:29:10 2020 -0800

    Fixed typo in the documentation

commit f8b8bd0ba161e3de7c119aff896bafc5fb73f305
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 10:12:02 2020 -0800

    ControllerList: recategorize controller as swtich  pro and not switch input-only controller

commit f76ca0572992a315fa259231fdf5a20d47f06fc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 10:11:59 2020 -0800

    ControllerList: add unknown xbox controller from minidumps

commit 94924f012b8676da98e64306397770da73accf84
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 10:11:55 2020 -0800

    Fix failing to set high priority for threads on Linux desktop.
    
    Debugging inside rtkit showed we were failing the RLIMIT_RTTIME check, now that we're asking for realtime and not just high-priority due to a change in SDL.
    
    Between that and the DBus code in SDL being wrong in previous changelist I'm not sure how this could have ever worked.

commit abf9dfd5c20f97585ce267b2688969c5d8701590
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 10:11:38 2020 -0800

    Fix MakeThreadRealtime DBus method call on Linux, type mismatch due to copy paste.
    
    Nov 02 20:34:15 redcore rtkit-daemon[2825]: Failed to parse MakeThreadRealtime() method call: Argument 1 is specified to be of type "uint32", but is actually of type "int32"
    Nov 02 20:34:15 redcore rtkit-daemon[2825]: Failed to parse MakeThreadRealtime() method call: Argument 1 is specified to be of type "uint32", but is actually of type "int32"
    
    Docs:
    
    http://git.0pointer.net/rtkit.git/tree/README
    
    CLIENTS:
            To be able to make use of realtime scheduling clients may
            request so with a small D-Bus interface that is accessible on
            the interface org.freedesktop.RealtimeKit1 as object
            /org/freedesktop/RealtimeKit1 on the service
            org.freedesktop.RealtimeKit1:
    
                    void MakeThreadRealtime(u64 thread_id, u32 priority);
    
                    void MakeThreadHighPriority(u64 thread_id, s32 priority);

commit 5d34e3c6906585b8ef5ce48db323979e6fbc2a22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 09:47:19 2020 -0800

    Fixed linking iOS shared library

commit 1577366c3690b140c294c2762687b7793881da3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 8 23:49:03 2020 -0800

    Fixed duplicated switch statement processing Xbox controller dpad state

commit 3d92e8c7422c6486caee13550d3aecf6cd7cf1a9
Author: Bart van der Werf <bluelive@gmail.com>
Date:   Wed Oct 21 10:43:46 2020 -0400

    hidapi: Also parse data[12] with dpad values on the xb1s controller

commit 1ef45c1801cc1713d0fa09bc87e64eaef425672c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 8 23:40:17 2020 -0800

    Fixed bug 5339 - Minor memory leak in SDL_x11events.c
    
    wcodelyokoyt
    
    The atom name that X11_GetAtomName() returns never gets freed, which result in a minor memory leak (14 bytes?) every time the user drops a file on a window.
    You can see the line in question here:
    https://github.com/spurious/SDL-mirror/blob/6b6170caf69b4189c9a9d14fca96e97f09bbcc41/src/video/x11/SDL_x11events.c#L1350
    
    Fix: call XFree on name after the while loop.

commit 723d76c8ecf2c091aafe3305d8b7e42e3ae2c707
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 8 23:34:59 2020 -0800

    Fixed bug 5333 - Replace character of legacy code page with utf-8 one.
    
    Joel Linn
    
    This patch fixes a MSVC warning, which is dependent on the regional settings of the build system. Although the character is inside a comment and harmless, it is undesirable to disable the warning for this.

commit c3a32605f8ad15c140005990826e404d673addd3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 9 04:55:15 2020 -0500

    testvulkan: Patched to compile with SDL's internal Vulkan headers.

commit 0e4ce8480195a9c436ff0f484d808af7e8a63b60
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 8 20:57:17 2020 -0500

    opengl: Make diagonal lines match the software renderer.
    
    OpenGL leaves the final line segment open, SDL's software renderer does not,
    so we need a tiny bit of trigonometry here to move one more pixel in the right
    direction.

commit da49f7950029671cf5e13bd3ab5bcc89f4960218
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 8 19:56:12 2020 -0500

    opengles: use glDrawArrays() correctly with GL_LINE_STRIP.

commit de6d0ac55a25a8e5c6ca031f8708abcf85665409
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 8 18:11:42 2020 -0500

    uikit: Patched to compile on older iOS SDKs.

commit 93a2c58c7ee3ddf897487a4526325021ab0104e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 8 12:37:09 2020 -0500

    opengl: Use GL_LINE_STRIP instead of breaking down into seperate GL_LINES.
    
    Surely GL drivers have improved in the last seven years. I hope...?

commit b198febb628f564d2c8aa0dae758238fd2f1e793
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Nov 8 10:22:27 2020 +0100

    Documentation: fix minor gamecontroller parameter warning

commit 731a5d1c530d3eb26c655f77059da69edd89bdb7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 8 03:18:05 2020 -0500

    metal: Fix line drawing, again.

commit 4ea1a10bd2c87c566b4b2ebc590f768a2c675065
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 7 02:49:22 2020 -0800

    Added stub controller LED functions for WGI and RAWINPUT (thanks meyraud!)

commit 009b62f1c267ccd7475a17946d2f21c1aa1becd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 7 02:22:15 2020 -0800

    Be explicit about mapping the new game controller paddle buttons

commit 3a4388489ac5bdb0262be633ecd62c1ad037ff9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 17:06:41 2020 -0800

    Document the Xbox One Elite paddle buttons

commit 749062e72bcf1db68186092de71d2e642417c39a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 16:53:13 2020 -0800

    Implemented SDL_GameControllerSetLED() for iOS/tvOS

commit faeac6e86c207de9d2340e93e08503cf672c8541
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 16:42:46 2020 -0800

    Added additional game controller button support on iOS/tvOS

commit cf8d3befe6472c54020a84cc2752a313e80b007e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 16:01:43 2020 -0800

    Added iOS controllermap test

commit 5a92edee035588116939d34a33ad32bfd15af312
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 15:54:18 2020 -0800

    Don't try to map the accelerometer as a game controller

commit d5e367a4666a792c61e0ca20a3fd100aee9583b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 14:45:36 2020 -0800

    Fixed build so CoreBluetooth framework is only needed by hidapi
    
    Also added plist keys for Bluetooth permission so testgamecontroller works with HIDAPI enabled

commit 59a644fb01e70ebb399082ec95fec7c5eda3b20b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 14:44:26 2020 -0800

    iOS should use the same size window for the controller tests as other platforms
    
    Otherwise the position of the button and axis elements won't be correct

commit fbf0484a178e6d9ce86022e482be245cc850abf5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 14:08:11 2020 -0800

    Embed the hidapi framework for the iOS and tvOS game controller test

commit 9a446aa92efc6beed17b46736a760a8c52ff4b3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 13:55:51 2020 -0800

    Note that SDL_CONTROLLER_BUTTON_AUX1 is sent for the PS4/PS5 touchpad button on the HIDAPI driver.

commit 1bd4b7fdf1754fa2bb3f274152bb8070f179e66c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 13:03:07 2020 -0800

    Updated iOS tests and demos for latest SDL linking requirements

commit e87fbb1aa777c747e8d851b5abdfbfcb23ac21cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 11:33:49 2020 -0800

    Removed old iOS-only project and demos

commit dc60b975f3bfd7f017633097a9f2a77f4a579bc0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 11:32:59 2020 -0800

    Removed old iOS-only project and demos

commit 3a3aaac221a7e896449568304a706cfc42bcc99c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 6 11:30:52 2020 -0800

    Added 4 auxiliary buttons to the game controller API
    
    Xbox Elite controllers use AUX1-AUX4 to represent the paddle buttons when using the HIDAPI driver
    PS4 and PS5 controllers use AUX1 to represent the touchpad button
    Nintendo Switch Pro controllers use AUX1 to represent the capture button

commit a22beef402b7375c72a7f3ef3634a51f9e0e0c4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 5 17:03:28 2020 -0800

    Moved the PS5 controller driver to a separate file, as the advanced feature protocol is very different from that of the PS4

commit bd2dd3f6bb26084b282d0e5ac25fcc1a4f136d56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 5 15:36:15 2020 -0800

    Added Android mapping for the Sony PS5 Controller

commit 4d79f9662f0093c6d8a1cde2785dd59ee14be950
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 5 15:02:54 2020 -0800

    Added initial support for the Sony PS5 Controller

commit e555d453310fbf4094c25feae5e63f4efc5526d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 5 11:07:54 2020 -0800

    Added SDL_JoystickHasLED
    
    Currently, this is only supported by the PS4 HIDAPI driver.

commit 83cddd2ebc685559b57c865c977093dbd8fcfedd
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Thu Apr 30 11:57:29 2020 -0400

    Add SDL_JoystickSetLED.
    
    Currently, this is only supported by the PS4 HIDAPI driver.

commit 1b8dee7caf9acfbe8279b2022fd3edc171ba6f10
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 31 11:32:40 2020 -0400

    coreaudio: Remove unnecessary include of CoreServices.h

commit 79221e85a00ee4d57563319cb6e8af936282cf3e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 29 20:00:20 2020 +0300

    SDL_stdinc.h: define _DARWIN_C_SOURCE on macOS for memset_pattern4()
    
    hopefully fixes https://bugzilla.libsdl.org/show_bug.cgi?id=5107

commit 311ae829c77df3ba7ac7fefcda39ee46086a0b1b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 28 14:03:05 2020 +0100

    Android: keep compatibility with older JDK

commit 97cf314526ad2a390e11acf5231a720659a82a67
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Oct 27 21:14:49 2020 +0100

    Android: apply code simplications found with lint / Android Studio

commit ddc0727bba6f76406af5d3beeb44be8be0a4ebdb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 27 09:00:42 2020 -0700

    Fixed implicit memcpy() when building for ARM64 on Windows (thanks Seigo!)

commit 010d5fba9324173f74ec6630acb971c26fe34fe1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 26 09:49:09 2020 -0400

    kmsdrm: Make this build with significantly older system libraries.
    
    This allows one to build Raspberry Pi versions on an ancient version of
    Raspbian and get both the KMSDRM and RPI video targets built into SDL, giving
    maximum binary compatibility from linking against an older glibc, etc, but
    also making one library that can access video on all RPi models and OS
    releases.

commit f0c5841714c5a91f4f4a927a66154a3b4da33ece
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 25 10:10:10 2020 +0300

    SDL_shape_internals.h: forward-declare struct SDL_ShapeTree.

commit a4040293ddc7ed6fd7e6679dd9446b6c5e6b0913
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 25 10:10:02 2020 +0300

    os2: misc build fixes

commit bfc80d83c280acd6c0744bc9308e3d8ffee03177
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 25 03:55:02 2020 +0300

    minor coding style cleanup

commit ba36eb0437d8b578b507fe9a10e70600c909aba9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 21 00:03:33 2020 -0400

    metal: Make line drawing match software renderer.
    
    Partially fixes Bugzilla #2711.

commit c33f808354fdcc514556ef9561b32c08346d521c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 20 11:12:49 2020 -0400

    render: Restoring line rendering fixes that were previously put on hold.
    
    (Backed out hg changeset 7a4240daba46)

commit 0360987f455b9d8718ef13eb4514386505060640
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Oct 24 20:31:04 2020 +0200

    Android: fix deprecated onCreateDialog() methods

commit 5dc6c3c951dd100cc13c1e5ef6ad2d95cb70c1b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 24 10:46:18 2020 -0700

    Updated Vulkan headers to version 1.2.158
    
    https://github.com/KhronosGroup/Vulkan-Headers

commit fbbc4ab33be2aed7ba8c01645396034a722499e0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 24 20:12:50 2020 +0300

    os2: can build with libsamplerate support if wanted to.

commit 967041681bdce0bb61f616937febae4d6edad476
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Oct 24 15:36:05 2020 +0200

    Android: fix Clipboard deprecated methods

commit 5682b066e9739c92f2e4a2bef4337fe17cc0aa15
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 19:51:57 2020 +0200

    kmsdrm: Add comment about KMSDRM_VideoQuit() changes.

commit 63b78277096439dc88ee66053fbfabb9c7ef0060
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 19:44:38 2020 +0200

    kmsdrm: properly exit with an error when ATOMIC interface is not yet available, instead of just segfaulting.

commit a3262205b545470699d6186b1670d025705fede3
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 17:55:45 2020 +0200

    kmsdrm: rearrange init function so we try ATOMIC compatibility first.

commit b1ea0be865c55d0d6f094bbf4fdd89afdd93ee50
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 17:06:34 2020 +0200

    kmsdrm: Add missing checks after SDL_calloc() calls.

commit ad9ec8b363f842cf7b88d8736c1df1d107b35c80
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 16:15:34 2020 +0200

    kmsdrm: Small fix, missing bracket.

commit 87a86675ed2819991a90ef6d5caa43cfae81a8ff
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 22 16:01:51 2020 +0200

    kmsdrm: Always use spaces for indentation. Always use SDL_calloc() for calloc.

commit cfc1362011d55b622cb655caa365acea5c9ac705
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 21 23:28:02 2020 +0300

    os2 video: updates to my_gradd.h

commit f1b603ac6a98f8a2f5f002a8fdd5284e25362b14
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 20 11:51:23 2020 -0700

    Fixed bug 5323 - SDL_SetWindowMaximumSize fails if Width or Height is equal to minimum Height or Width
    
    batyastudios
    
    Basicly there is problem and somewhat a solution: https://discourse.libsdl.org/t/setwindowmaximumsize-bug/28267
    
    If you SDL_SetWindowMaximumSize() after SDL_SetWindowMinimumSize() with one of axes have the same value, function will have no effect.
    
    This: (line 2144@SDL_video.c)
    if (max_w <= window->min_w || max_h <= window->min_h) {
        SDL_SetError("SDL_SetWindowMaximumSize(): Tried to set maximum size smaller than minimum size");
        return;
    }
    
    May be changed to this:
    if (max_w < window->min_w || max_h < window->min_h) {
        SDL_SetError("SDL_SetWindowMaximumSize(): Tried to set maximum size smaller than minimum size");
        return;
    }

commit cbadd1e3805f2ce252cf46bf4c4e63b773ed4f77
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 20 20:32:20 2020 +0300

    geniconv/os2iconv.c: make it build correctly against os2tk headers.

commit 554037a6f7a1dfb20562c1986218843f19aa957f
Author: Manuel V?gele <develop@manuel-voegele.de>
Date:   Sat Sep 26 09:30:08 2020 +0200

    audio: fix popping sounds caused by signed/unsigned conversion
    
    When converting audio from signed to unsigned values of vice-versa
    the silence value chosen by SDL was the value of the device, not
    of the stream that the data was being put into. After conversion
    this would lead to a very high or low value, making the speaker
    jump to a extreme positon, leading to an audible noise whenever
    creating, destroying or playing scilence on a device that reqired
    such conversion.

commit f311e0a826be475c20360b15ee5a6f72bca98df0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 19 17:29:16 2020 -0700

    Removed debug log message

commit f31ad57fdebe7ea92b2179ece79178d35bff43df
Author: Yiding Jia <yiding.jia@gmail.com>
Date:   Mon Oct 5 19:17:52 2020 -0700

    Implement keyboard repeat in wayland video driver

commit 73010da4dc8dbbba7017d6cef425d75e9e002119
Author: Alberts Muktup?vels <alberts.muktupavels@gmail.com>
Date:   Mon Oct 19 17:26:33 2020 -0700

    x11events: ignore UnmapNotify events from XReparentWindow
    UnmapNotify event does not mean that window has been iconified. It
    just reports that window changed state from mapped to unmapped.
    
    XReparentWindow can unmap and remap window if it was mapped. This
    causes unnecessary events - HIDDEN, MINIMIZED, RESTORED and SHOW.
    
    These events are problematic with Metacity 3.36+ which started to
    remove window decorations from fullscreen windows.
    
    - SDL makes decorated window fullscreen
    - Metacity removes decorations
    - SDL gets UnmapNotify and exits from fullscreen
    - Metacity re-adds decorations
    
    As SDL will also get MapNotify event it will try to restore
    window state causing above steps to repeat.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=5314

commit e37a9385e275401f67ea56038ca025215220297d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 19 04:33:03 2020 +0300

    Makefile.os2: remove duplicated OPTION QUIET directives from linker file

commit ffb307e4dc5c621a13624b7092d3885ddf13caee
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Oct 18 09:52:56 2020 +0200

    Fixed bug 5304 - add SDL_HasSurfaceRLE() (Thanks Rene Dudfield and Dan Lawrence)

commit 19a65a46a6cd41027326590c33ce4a9d8173bf65
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Oct 17 21:47:05 2020 +0200

    Fixed bug 5321 - crash in SDL_ConvertSurface with RLE surfaces
    keep RLE information in flags when converting the surface

commit c70191d2b7a4df1957b13161bb37c77ba3f9aef3
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 17 07:37:00 2020 +0300

    SDL_os2video.c (OS2_CreateDevice): remove duplicated assignment.

commit 77d0f043e5fc87c91906ee54c265dd3d876a2d62
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 16 23:50:00 2020 +0300

    os2video.c: add missing FOURCC_R666 define, enable FOURCC_R666 case in _getSDLPixelFormatData().

commit 99ed0d7ab990150f7101d1d9dafe91d62d0e90e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 16 12:40:12 2020 -0700

    Map the guide button by default on Android 11

commit 3755f6920fa94fb4b147c1d9ac38002d088a296b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 16 12:40:10 2020 -0700

    Added mapping for Xbox One S controller and PS4 controller on Android 11, including guide button

commit b8ed432c3ea047fa4eb8aea1de62ed097b652804
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 16 12:35:30 2020 -0700

    Added a note about Android 11

commit df52c5043456bbf071d1d98bfd9ae5bfd586c82a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 16 09:45:40 2020 -0700

    Backed out changeset 2f59f1264083

commit 52b319fec9bfb508e9b94ae94b7b2bd2f47f74a8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 16 02:50:10 2020 +0300

    minor update to os/2 config file and update.
    
    binary (dll) output doesn't change.

commit 58976bda31aa28e0577c4952818bba57a8d05bc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 15 12:00:15 2020 -0700

    Allow more than one window on iOS as long as they're on different displays

commit a90f0400a536024c8fde215978343fe4b51e9416
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 15 21:37:30 2020 +0300

    os2: a _lot_ of coding style cleanup, sot that they match the SDL style.
    
    also renamed the 'debug' macro to debug_os2: the former was dangerously
    a common name.
    
    the binary (dll) output is precisely the same as before.

commit bdc5129f1394bcaeb81eae38af1bfdd3be549e47
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 15 10:13:46 2020 -0700

    Use a high priority dispatch queue for GCKeyboard and GCMouse events for the lowest latency possible
    
    This appears to reduce latency between 1-4 ms on an iPad Pro.

commit a3a0ef7527d666c57562d77beeadc3cea02f47e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 15 10:13:44 2020 -0700

    Added support for low latency mouse and keyboard handling in iOS 14
    
    The mouse support in iOS 14.0 has a bug with accumulating duplicate mouse deltas that won't be fixed until iOS 14.1, so we don't enable it until then.

commit d9aea0c3a087ec24da2d2b2a1e2ea18000861d0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 15 10:13:42 2020 -0700

    Update the existing haptic player when we rumble on iOS

commit 645a3280ecacc41b0a339fe8f2fd5e507fe9a0d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 15 10:13:40 2020 -0700

    Fix iOS and tvOS builds
    
    - Fix iOS and tvOS scheme names
    
    - Add iOS/tvOS Developer signing identities and development team to iOS and
      tvOS shared library schemes

commit cca16c9cb191c2b3fb88fa08949232f2fbb53eac
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Oct 15 17:56:19 2020 +0200

    kmsdrm: merge GetDisplayDPI implementation by bms20 <brett@mynah-software.com>

commit d27238751ff8e0f757d91feffb2536c5ad3350eb
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:06 2020 +0300

    os2: integrate the port into main tree.

commit 20db1471e5afb614991dfaea1c945fb9fc1df432
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:06 2020 +0300

    added documentation docs/README-os2.md (based on original readme.os2).

commit 5807cb3d31dabd4a6744c53f501be59d0e1f8f79
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:06 2020 +0300

    os2: remove dependency to gradd.h from IBM's ddk which is non-free:
    
    Add a minimal my_gradd.h containing structures and constants only used
    by SDL_os2vman.c -- based on public knowledge from around the internet
    including pages from http://www.osfree.org and http://www.edm2.com .

commit b6965a177456c4dfe57b1652106773963ea8f447
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:05 2020 +0300

    os2: Andrey Vasilkin agreed that his code to be put under Zlib license:
    
    add SDL license headers to geniconv sources.

commit 1d9cf23e4c25e07695daec4f8bfe9259f7ddddb9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:05 2020 +0300

    os2: updated copyright dates for 2020. header guard fixes.

commit a3d7913c072c727f4e383b7f90bed2a4dc8029f0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:05 2020 +0300

    SDL_os2audio.c (OS2_OpenDevice): change spec->samples assignment:
    
    Original code assigned MCIMixSetup.ulSamplesPerSec value to it, but it
    is just the freq... We now change spec->samples only either if it is 0
    or we changed the frequency, by picking a default of ~46 ms at desired
    frequency (code taken from SDL_audio.c:prepare_audiospec()).
    
    With this, the crashes I have been experiencing are gone.

commit e112b776fc0c1be5aaf99582ea4809018726bc13
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:05 2020 +0300

    SDL_os2audio.c (OS2_OpenDevice): change {0} initializers to SDL_zero()

commit 72594e255af1755990e7fc08997a825a6c21c236
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:04 2020 +0300

    SDL_os2audio.c (OS2_OpenDevice): remove assignment to wrong spec member
    
    Correct assignment to 'format' member is done below, already.

commit fe2cc8d86c04e206d2e40e9c299ba5018fa72fe6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:04 2020 +0300

    OS2_VideoQuit(): avoid double free()ing of displays.
    
    Our caller SDL_VideoQuit() already frees display_modes, driverdata, etc.
    Noticed in bitwiseworks' version at https://github.com/bitwiseworks/SDL2-os2

commit fba32ee21faeb497549e2feabd6598c23e837192
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:04 2020 +0300

    OS2_VideoInit: zero the stSDLDisplay and stSDLDisplayMode variables
    
    Fixes testdisplayinfo.exe crashing in SDL2-2.0.13.  (How it did work before?..)

commit 54ced668c4930a345f2eb666be097d7eeb28fcec
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:04 2020 +0300

    port from 2.0.12 to 2.0.13 / current SDL-hg repository.
    
    - video:  VideoBootStrap->available() is gone.
    - thread: all important SDL_CreateThread internal data now put into
              struct SDL_Thread: changes to SDL_SYS_CreateThread().

commit 5da796fe52dc678bf8a4f4566d5b9b8cafb51d47
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:03 2020 +0300

    os/2: port from SDL2-2.0.5 to SDL2-2.0.12
    
    - events / video: SDL_SetDoubleClickTime() removed -- functionality
             moved to SDL_mouse.c:SDL_MouseDoubleClickTimeChanged().
    - video: struct SDL_VideoDevice-> CreateWindow and CreateWindowFrom
             members renamed to CreateSDLWindow and CreateSDLWindowFrom

commit 5d89217f6b90627d3ca9736c9e41390996a343c6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:03 2020 +0300

    os2/SDL_sysfilesystem.c: fix crash if one of the parameters is NULL
    
    Has been happening with testfilesystem from 2.0.6 and newer because
    of commit 572a721879ef.
    
    Also set error strings in certain error conditions.
    
    Also applied coding style / whitespace fixes, while I was there.

commit 222f026899ff01e0c44c54c50417c8e99257f888
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:03 2020 +0300

    os/2: port from SDL2-2.0.4 to SDL2-2.0.5:
    
    changes to SDL_os2audio.c, SDL_os2video.c, os2/SDL_systhread.c in order
    to accomodate SDL2-2.0.5 changes.
    - audio:  WaitDone() is gone, CloseDevice() interface changes.
    - events / video:  DropFile() changes:
              SDL_DROPBEGIN and SDL_DROPCOMPLETE events, window IDs for drops.
    - thread: struct SDL_Thread->stacksize

commit 5f3f67b16b3f5e568b7a911e8beaf181a87649b9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:03 2020 +0300

    os2/SDL_sysfilesystem.c: use OS/2 api DosCreateDir() instead of mkdir().
    
    mkdir() from watcom and emx differ - the latter being unix-ish, so this
    change avoids ifdefs.

commit 4551c633727a50f0d5b0a082f1498833faadb2a8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:02 2020 +0300

    os2: make testnative working -- imported from bitwiseworks' fork:
    
    https://github.com/bitwiseworks/SDL2-os2/commit/e2abc76b24c795051d0092cbd425544e73a0713e

commit 1b99d805dbbdb88a481539b0f41f55d43f714c92
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:02 2020 +0300

    os2: updates from Andrey Vasilkin's 2020-09-07 sources.

commit aa790837eb12e1a3c61f2555eb44ea4c0fd57055
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:02 2020 +0300

    os2: several warning fixes.
    
    mostly those "W007: '&array' may not produce intended result" warnings
    from Watcom, visible only in C++ mode.  one or two others here & there.

commit f9af19f51dbc59f32cb2e3065d0c8a30f77e2ed6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:02 2020 +0300

    os2: updates to SDL_systhread.c:
    
    removed lots of garbage.  added SDL_PASSED_BEGINTHREAD_ENDTHREAD guard,
    because the code requires it.

commit c218861946bfc4e61459c61564402bfa92f4cadc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:01 2020 +0300

    os2: added a 2-byte padding to os2 SDL_PrivateAudioData

commit d1323eb0a959b401c65e51c1c917ee101d6b880d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:01 2020 +0300

    os2: better error reporting from loadso

commit 861ac81b3746ee8bda45f68228dbe20955d2eec5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:01 2020 +0300

    os2: changes to debug macros

commit 110a0f7bb1c9c511f06fef45ebf99839a76a6bee
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:01 2020 +0300

    os2: update include paths. add missing libc includes to geniconv.

commit 74cfb81dbb5765aab963cce775437b0023daa1ee
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 23:01:00 2020 +0300

    os2: add port files for SDL2-2.0.4 from Andrey Vasilkin
    
    only geniconv/iconv.h (was from LGPL libiconv) is replaced with a generic
    minimal iconv.h based on public knowledge.

commit 93e14497648352ec2a4ecd250258d3a7c21b3247
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Oct 14 15:50:04 2020 +0300

    SDL_waylanddatamanager.c (mime_data_list_add): constify the buffer param
    
    Fixes -Wdiscarded-qualifiers warnings from Wayland_data_source_add_data()

commit eb1aba610596298dca4983be1613061883ca1b95
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:22 2020 -0700

    Make the CoreHaptics framework optional on iOS and tvOS

commit b9cbea354ff05c072626a3ac912336ff4e2cffa3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:20 2020 -0700

    video: Refresh Windows display list on WM_DISPLAYCHANGE
    
    - Displays may have been added, removed or changed and all cached monitor
      handles are invalidated as a result.
    
    - Display events are handled in three steps:
      1. Mark all currently know displays as invalid
      2. Enumerate all displays, adding new ones and marking known displays as valid
      3. Remove all displays still invalid after enumeration
    
    - Display connect/disconnect events are sent when displays are added or removed
      after initial setup

commit a558409b2e614e2a49aa7204163c349b533277b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:18 2020 -0700

    Only include CoreHaptics if we're building with rumble support

commit 75d5be974c7d16b1978cd7db0a65a1e76d481b40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:17 2020 -0700

    Fixed compiling with an older iOS SDK

commit 6b62494ee487eded3960c1c7e0a02fcb142642a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:15 2020 -0700

    Added support for controller battery status on iOS 14

commit 1b31e9f6dce360fdfce005677c1380ea5fe15321
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:13 2020 -0700

    Added support for game controller rumble on iOS 14

commit 2d7b33cb41c9d7cb588db64302cc1ecc5a77a254
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 13 21:08:11 2020 -0700

    Added support for the controller home button on iOS 14

commit 2daa670ce8e56a82f61c8cbee47566c2cd139d1e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 13 15:20:03 2020 +0300

    cmake: look for iconv in libc, too (bug #5316.)

commit 67568518369d5ff6bd0e4c66bd9d08251dcaec15
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 13 14:45:10 2020 +0300

    cmake: run updaterev.sh if(NOT CMAKE_HOST_WIN32)
    
    ... not if(NOT WINDOWS OR CYGWIN)
    This way, it generates SDL_revision.h in cross-build environments too.

commit 665cfa49812685e24631a89fe7a9cabd8653c7b5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 13 14:32:15 2020 +0300

    cmake: check for alloca() in stdlib.h and malloc.h, too (bug #5316)

commit fc795f89d35bd9f18b7019ef7a1caba7b6df76ae
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 13 05:20:00 2020 +0300

    SDL_cpuinfo.h: add missing const to size parameter of SDL_SIMDRealloc()
    
    so that the declaration matches the definition.

commit af06a60a9deb379c2c79c3d34ed6a94a6ef2d9be
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 13 00:33:56 2020 +0300

    Makefile.os2: remove some unnecessary stuff.

commit 48c03d9a75c0069ba82adc9447de974c374c0ed5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 12 02:40:00 2020 +0300

    cmake: reduce STDC_HEADER_NAMES list to only relevant headers,
    
    i.e. stddef.h, stdarg.h, stdlib.h, string.h, stdio.h, wchar.h, float.h.
    Fixes issue described at:
    https://bugzilla.libsdl.org/show_bug.cgi?id=4885#c2

commit 196cda69f2080058593861f92176a4ac56e6a67e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 12 01:02:28 2020 +0300

    build: fix / update sensors (windows) configuration
    
    - SDL_config.h.in: add missing defines SDL_SENSOR_COREMOTION
      and SDL_SENSOR_WINDOWS (configure did set SDL_SENSOR_WINDOWS
      but it never went in SDL_config.h or Makefile.)
    - SDL_config.h.cmake: remove duplicated SDL_SENSOR_XXX cmake
      defines.
    - autofoo, cmake: check for sensorsapi.h header before enabling
      windows sensors.

commit 10eb5108b6c13dba9e89df99870079378a0b2b69
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 11 20:00:20 2020 +0300

    test/Makefile.os2: add testlocale.exe to build.

commit 59022829f42aef9d817ddb27d170f96aa10255a9
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Oct 11 17:32:32 2020 +0100

    riscos: Implement SDL_OpenURL()

commit 34a82fca49156c8a2d9d0742a8315789ec7717db
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 10 20:50:02 2020 +0300

    SDL_cpuinfo.c (OS2): undefine HAVE_SYSCTLBYNAME

commit 5d42ad9eab80ae7585126624250b241c2d91a228
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Oct 10 03:00:04 2020 +0300

    Makefile.os2: minor re-order.

commit b546db2f854e885100bcb67991418cfff815ead2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 9 12:58:28 2020 -0700

    Only watch for display connect/disconnect events while the video subsystem is initialized

commit 7991cc38bc8d8e242596d698e5ab35f691857924
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 21:40:28 2020 +0300

    dynapi: move SDL_SIMDRealloc down below, after SDL_GetPreferredLocales.
    
    https://hg.libsdl.org/SDL/rev/884cb29cb80e  wrongly added it after its
    family i.e. SDL_SIMDAlloc, not at the end of the list.

commit 05438b28e03e573a47d040ad07420d5156d9c597
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 04:28:00 2020 +0300

    minor tidy-up to Makefile.os2

commit b79832ba1134e12a229d38a6f6f3f2cec717da4b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 8 21:11:09 2020 -0400

    cocoa: Cut and paste from HTML strikes again!

commit 19aaa2944d3d3bb33ebae77b86eddc95c5988d61
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 04:00:00 2020 +0300

    Fix https://bugzilla.libsdl.org/show_bug.cgi?id=5306
    
    (Also see: https://bugzilla.libsdl.org/show_bug.cgi?id=4822)
    
    Building the current tree against 10.8 SDK, clang emits the following warning:
    src/video/cocoa/SDL_cocoawindow.m:1846:27: warning: instance method '-isOperatingSystemAtLeastVersion:' not found (return type defaults to 'id') [-Wobjc-method-access]
                ![processInfo isOperatingSystemAtLeastVersion:version]) {
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    /opt/MacOSX10.8.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSProcessInfo.h:20:12: note: receiver is instance of class declared here
    @interface NSProcessInfo : NSObject {
               ^
    1 warning generated.
    
    isOperatingSystemAtLeastVersion is an 10.10 thing.

commit 69fbd60d2510650d13b92b03b8c4c41ffc0e3383
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 04:00:00 2020 +0300

    Fix https://bugzilla.libsdl.org/show_bug.cgi?id=4877#c2
    
    loadNibNamed:owner:topLevelObjects is available on 10.8 and newer.
    There is an issue report here about an app failing to function on
    10.7 and earlier: https://discourse.libsdl.org/t/28179

commit e58cc5fa0e03f96a8e2a71b50fd323514f9c8f33
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 03:28:30 2020 +0300

    minor whitespace fix

commit 79e625f017593abb6aa2e00206543e01837af805
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 8 17:01:28 2020 -0700

    Fixed trying to build OSX SDL_OpenURL on iOS and tvOS

commit bd14f2676c032f9249690513adfe6699992e08cb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 8 16:58:34 2020 -0700

    Removed unused variable

commit d86a74654299f4cfac956530d9612c5ad61c9ed1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 02:55:00 2020 +0300

    SDL_video.c: fix whitespace

commit 3aa418f451ed4e332424927215982e4221474914
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 9 02:50:15 2020 +0300

    SDL_video.h (SDL_DisplayEventID): remove comma at end of enumerator list

commit 76980e30f29e92529f62bc910a991e3baf233e2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 8 16:42:20 2020 -0700

    Added events for dynamically connecting and disconnecting displays, with an iOS implementation

commit cd703b5628e5efa4b8ed90453767d97d2f0f1bdc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 8 16:41:48 2020 -0700

    Fixed whitespace

commit 54bb9aaccb9c28e1f35edad5f1609c34efe3ff3c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 8 11:51:02 2020 +0300

    k_rem_pio2.c: fix typo in second memset(): iq, not q. fixes bug #5309.

commit 061256a3b3ac5e389c84264d105f1658b2d9f919
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 7 14:45:24 2020 -0400

    metal: Clear the framebuffer if presenting without any other operations.

commit b7b8ef59a33d3ed00f4303c1afa740a353a30419
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 7 17:32:07 2020 +0200

    Fixed bug 5307 - Crash when joysticks hats number is odd (Thanks Sockmonsters!)

commit bffbc7e316a48ea802fdcf96fcc79a797c98c6fb
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 7 14:55:23 2020 +0200

    Android: better readibility for pollHapticDevices()

commit 20c070d86922da86e81a48c679864abfcf5d5891
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 7 14:41:37 2020 +0200

    Android: better readibility for pollInputDevices()
    and move isDeviceSDLJoystick() test at first since there are
    always non-joystick devices present.

commit 003a16980c469bf5a0ded03c6179bdcbc6c601ba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 6 11:07:50 2020 -0400

    wav: Make sure the data size is a multiple of blockalign, not an exact match.
    
    I _think_ this is a right thing to do; it fixes a .wav file I have here that
    has blockalign==2 when channels==2 and bitspersample==16, which otherwise
    would fail.

commit 46274269944c6a68fe7dacd0355c3f7bc4ac24ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 6 00:42:17 2020 -0400

    url: WinRT actually works now (and has been tested, hooray!).

commit fc05a696ad3431805bf7ecb4dece2f269b9a2533
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 18:08:58 2020 -0400

    url: Attempt #23235 at WinRT support...

commit 02addf135d2c74a01930dadba985996c352a2ba6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 18:01:47 2020 -0400

    url: Another attempt at WinRT implementation.

commit 1f4b5d54caf585b4a8d6de954ccde8665e085194
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 6 00:20:20 2020 +0300

    windows/SDL_syslocale.c: make it build against older SDKs.

commit 6c6d2bdd359b458100910263e31b7aa09b2e6c70
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 16:25:48 2020 -0400

    url: Build WinRT-specific code as C++/CX instead of plain C++.

commit 7bec9df11afa2cbea59cdb895a2402dcdfac1adc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 16:10:10 2020 -0400

    url: Add to Xcode project files, iOS/mac fixes.

commit 57e3003d3f68d6cf0036711c8d7a3b8ad4929adb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 15:47:47 2020 -0400

    url: Attempt at WinRT support.

commit 566479c8ef9aa3a889c263a9a1c78f81b37faa31
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 15:37:37 2020 -0400

    url: ShellExecuteW returns an HINSTANCE, so deal with that more correctly.

commit b7b2995fbe881795df74de9102c93eba5ab34d00
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 15:27:32 2020 -0400

    url: Added to Visual Studio project files.

commit ee56090d3d57f25d8d7cbd68282ce3fbb9184492
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 15:03:44 2020 -0400

    url: Cleanups and compiler warning fixes.

commit cc158f2983f55b778215a59d9a370698f0f976d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:36:37 2020 -0400

    url: removed "extern" from function declaration.

commit a3802cc533cc8f7c68acccd06ddafa64caaedcdf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:30:33 2020 -0400

    url: Patched to compile on C89 compilers.

commit 66d847bd5cee7bcad3563fb864273d162036124f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 5 21:30:00 2020 +0300

    url: Patched to compile on OS/2.

commit 0099e38a9a9ffcc283393625d0096bd8338b81d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:21:03 2020 -0400

    url: More win32 fixes.

commit 3fe5ce7b9a714900f2a5457b8fd9809f23990192
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:08:45 2020 -0400

    url: Patched to compile on OS/2.

commit 1f4fecc5c11fcff73f30ca94c2da2dd011596dc4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:07:32 2020 -0400

    url: Patched to compile on Windows.

commit 777d0f19f803d3108c20823dadf121760667ac0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:06:25 2020 -0400

    url: patched to compile on macOS.

commit d068d05aa514f9b1c32fd489f2e1e6a45da1f70f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:01:08 2020 -0400

    url: Make sure Haiku's C++ implementation is flagged as 'extern "C"'

commit bf9fcb539a597329b585d0beb3c55a9c21d09e1c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 14:00:08 2020 -0400

    url: The function is "SDL_Unsupported" not "SDL_Unimplemented"

commit 2d82cf78e1b88ffe61836d8134bca2a20359503f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 13:59:03 2020 -0400

    url: put the Android bits in core/android

commit efd665e2c708654e9c6d1e03d740a2d02f03e5e0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 13:56:45 2020 -0400

    Backed out changeset a43cb4e54949
    
    Trying this a different way.

commit 913aa610b56f425f539e1d6da27c9bacd9bdecf3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 13:53:15 2020 -0400

    url: Include SDL_misc.h to get public function declaration.

commit 5f68812249973b4aa5247115716c2f4ea64a7546
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 13:52:52 2020 -0400

    url: patched to compile on Android.

commit 84f1b9500820abb43ff59abf6c3fdbd1c41d815d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 13:39:39 2020 -0400

    url: fixed wrong include.

commit 77c9d73b63219c445e68767d34b17c9f9311a674
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 5 11:30:33 2020 -0400

    Removed SDL_AndroidOpenURL, added SDL_OpenURL.
    
    Still needs to be wired into Xcode and Visual Studio projects.

commit a70bb58d4b97309a321a088f6540ebc6ccc278d0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Oct 5 14:09:31 2020 +0200

    Android: fix joystick allocation that can be never used

commit 2e38c9495056e3e634bd3fed8e59a4f3aec4c218
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Oct 5 09:56:03 2020 +0200

    Fix bug 5303 - Touch/Mouse events simulation doesn't work on Android 11

commit cd6670bff328e7f2491c207747a2d49a9b20648a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 2 10:48:27 2020 +0200

    SDL_Surface refcount: fix memory leak when blitting between stack'ed surfaces
    (see bug 5226)

commit 883509fc84b4d950c429516c00fe68016d532536
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 1 17:01:00 2020 +0300

    ran gendynapi.pl after new (android-only) api additions.

commit 0467e332af6caec48d1e40948f92bc26951d6644
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 1 15:11:28 2020 +0200

    Android: small change to access to device diagonal value

commit 62b029f33b06e3e03462eb715b1c60173dc2eb0a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 1 14:43:59 2020 +0200

    Android: missing import class Uri

commit dd55bfe89c93cffcca9d2a9dec31bf3e6c983d50
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 1 14:41:09 2020 +0200

    Android: add helper function to open an URL/URI (see bug 2783)

commit 45c644cc991f0e45c9aa4d9b70c72574194e1fd6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 28 21:19:45 2020 -0700

    Added support for the MOGA XP5-X Plus

commit 78c274cb5d262237647785405221a6fa03b393e2
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 26 19:18:09 2020 +0200

    kmsdrm: merge patches from Ozkan Sezer for removing c-99'isms and raising libgbm version reqeriments.

commit 7ad71563ce8a3b88ce5fe047dd8f30046a2a3d32
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Sep 25 10:42:07 2020 +0200

    Android: be sure shared libraries are loaded in onConfigurationChanged()
    
    This could fix a rare crash if:
    - onConfigurationChanged is called before onCreate();
    or
     shared libraries failed to load and onConfigurationChanged() is called

commit 955f3184f915321617c91e768f7ba960b4f84f22
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Sep 25 10:14:42 2020 +0200

    Fixed bug 5239 - Play audio on Android while backgrounded (Thanks Superfury)
    
    Add hint SDL_HINT_ANDROID_BLOCK_ON_PAUSE_PAUSEAUDIO not to pause audio when
    the app goes to background.
    (It requires SDL_ANDROID_BLOCK_ON_PAUSE as "Non blocking")

commit 7ef188a1fb1bee11eb071a109de51c2dc16cb18c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 19 14:01:57 2020 -0400

    jack: Fixed memory leak on device close.

commit ebfc98377b6ba0123a8c02c73054b30e4862d8ad
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 16 22:20:02 2020 +0300

    ac_check_define.m4: remove stray AC_DEFINE outside of the macro definition
    
    cf.: bug #5234 -- generated configure script does not change.

commit 3544bd9e7812026ac407607c43aaa550cddad092
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 16 08:00:20 2020 +0300

    ac_check_define.m4: AC_REQUIRE([AC_PROG_CPP]) -- fixes bug #5234.

commit 9a769da04ab2bd45f1632312e09258b5de7f6c91
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Mon Sep 7 20:10:50 2020 -0700

    X11: Remove our X11 error callback in X11_DeleteDevice()
    
    If we don't remove it, we will infinitely recurse if X11_CreateDevice() is
    called again and orig_x11_errhandler becomes X11_SafetyNetErrHandler().

commit 9c342e76ddc3492d24c854090c191b1cc27136fe
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Sep 13 21:41:10 2020 +0200

    kmsdrm: merge heap buffer overflow and cursor creation patches from meyraud705.

commit 0cb9bfa502cd37567cd3a0a54c0eb981726ae2d8
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 15:58:47 2020 +0200

    kmsdrm: less excessive error checkhing

commit 5bed30dd610ea0d8b5ba65d72ec54596a09d98e5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 04:56:55 2020 +0200

    kmsdrm: also do pending modeseting in SwapWindowDoubleBuffered().

commit 9e9227add3e72a3afc5dbb3d4b6252c7f9393085
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 04:52:56 2020 +0200

    kmsdrm: reimplement modesetting for fullscreen window scaling and AR-correction.

commit 4575c6942af88a110665b8f6d723eba4191bc1f1
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 02:36:02 2020 +0200

    kmsdrm: delete ununsed variable.

commit 01b0cf1c90ccb55886a1045c76be45dc91982d90
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 00:47:00 2020 +0200

    Backed out changeset 4a45d1a30d25
    
    kmsdrm: Fake KMSDRM_SetDisplayMode() is needed for some programs after all.

commit 7b67654872411e1b2615e7c6bed9664a975b4b51
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Sep 12 00:16:08 2020 +0200

    kmsdrm: don't fool SDL into thinking that changing the physical videomode is done.

commit a6d182d32638496e7f7f7409a04ce37d5f7bdee5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Sep 11 23:47:26 2020 +0200

    kmsdrm: no need to reconnect/reactivate things in SwapWindowDoubleBuffered().

commit 47e2d0304e097d8fdf91ae002af8088e12e7cd5c
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Sep 10 23:26:02 2020 +0200

    kmsdrm: greatly improve comments in SwapBuffersFenced() for future reference.

commit 3c6004feb79b2b24c6ace7809b2f205d79c64c7e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 10 15:07:23 2020 -0400

    kmsdrm: Choose how to swap buffers based on EGL extension availability.

commit c7e761f872aa753c0c58a454d16b4ac1eb749d5c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 10 15:05:55 2020 -0400

    kmsdrm: Patched to compile if EGL headers lack EGL_ANDROID_native_fence_sync.

commit 224aa45b59a605d8121c56266c50bc1d1540136b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 10 15:04:35 2020 -0400

    kmsdrm: Implement GL_DefaultProfileConfig for Raspberry Pi compatibility.
    
    If we think this might be a Raspberry Pi device, default to ES2. Otherwise,
    accept SDL's higher-level defaults.

commit 092162ede71e8eaee7215bea0169f9ca21ac6aa5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 10 15:02:51 2020 -0400

    video: Set up default before calling GL_DefaultProfileConfig().
    
    This way, the implementation can opt to do nothing to accept SDL's defaults.

commit e758dd53dcd90cbd4c3b48b73d689f35b0a08be4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 10 15:02:00 2020 -0400

    egl: Make SDL_EGL_HasExtension() available outside of SDL_egl.c.

commit 055cad49b60547e5f64edac41bc6dac3adc4ef0e
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Sep 10 02:15:53 2020 +0200

    kmsdrm: no need to re-connect/reactivate things in SwapWindow() anymore because we use a dumb buffer on KMS buffers destruction now.

commit 351219bfd8db0475519703f16d4ef0406da33cf8
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Sep 9 03:18:26 2020 +0200

    kmsdrm: On VideoQuit(), only destroy dumb buffer if it exists.

commit 8709f67ebcc26dd6da61373162b8b96cd54b6896
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 8 08:42:30 2020 -0700

    Fixed bug 5215 - Fixing filenames passed to dlopen for OpenBSD
    
    Brad Smith
    
    Attached is a patch to use the proper filenames when trying to dlopen the respective shared libraries on OpenBSD.

commit 1b6de9a98749a7189e2ad1530fd460c1a14d9e09
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Sep 5 15:01:45 2020 -0700

    Fix SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH=1 on Metal windows
    
    SDL_cocoametalview was consuming the first click rather than passing it
    through to the SDLView underneath which overrides [NSView acceptsFirstMouse]
    based on the user's SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH preference.

commit 244d0ad85483787af96cc1b862649a0735693554
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Sep 8 15:30:45 2020 +0200

    kmsdrm: Tell SDL that mouse has entered the window via artificial event. Fixes sticky mouse in Scummvm.

commit 550e153365cd56f13e7fad21be459cf81f26d9eb
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Sep 8 02:42:32 2020 +0200

    kmsdrm: No need to test for display driverdata when freeing a plane.

commit 6e03fab982bc9885db1444e42b6f6af8e8b01e46
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Sep 7 23:15:33 2020 +0200

    kmsdrm: add temporary RPI4_COMPAT define to try RPI4+current Rasbian compatibility.

commit 0f807fd607138660d8efcee3b1303ce40c625d4d
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Sep 7 22:54:15 2020 +0200

    kmsdrm: use a black dumb buffer for keeping the PRIMARY PLANE occupied when we destroy the KMS buffers, instead of using the TTY buffer, to avoid flickering.

commit 4d1c2a1857ce8d674ca8ef61919f4a2f5031ea3b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Sep 7 19:00:21 2020 +0200

    Fix false compiler warning: initialize the variable 'memdiff'

commit ebc12a2fd2bb692908884e7db6cc935941a591f2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Sep 7 18:50:30 2020 +0200

    SDL_Surface refcount: destination surface keep track of surfaces
    that are mapped to it and automatically invalidate them when it is freed
    
    - refcount is kept so that an external application can still create a reference
    to SDL_Surface.
    
    - lock_data was un-used and is now renamed and used as a list keep track of the blitmap

commit cce6c6051815dbbbd8968dcdd3c87c3f0e7cb98a
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Sep 7 01:33:04 2020 +0200

    kmsdrm: fix errors when trying to free up videomode driverdata pointers on quit.

commit 9501b1c698d1e7ed9f4a1a740eaa2f34dac193bd
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Sep 7 00:18:13 2020 +0200

    kmsdrm: fix scaling for SDL_WINDOW_FULLSCREEN windows.

commit daa752b10ee24f7c6a626ada7eac6f884c4f6ea0
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Sep 6 23:19:54 2020 +0200

    kmsdrm: fix first frame display: no need to wait for SwapWindow() for EGL surface creation.

commit 68ac9349aa7100c05e8bd15ef547c418e7190998
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Sep 6 12:48:39 2020 +0200

    kmsdrm: more coherent returns for SwapWindow.

commit d3d9d432ac905cf123687e293d2aaff3d16cc7a3
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Sep 6 12:17:27 2020 +0200

    kmsdrm: Remove debug printfs in SwapWindow.

commit d7aebbd58f3656e3a320c26b0ced9d37b902f910
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Sep 6 12:08:22 2020 +0200

    kmsdrm: Don't create surfaces until EGL context is available.

commit 97fad04551831c04e464ccd581f72be91478cf60
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Sep 2 19:38:03 2020 +0200

    Fixed bug 5278 - export SDL_AndroidRequestPermission() (Thanks Huki!)

commit f4e02a5c1bdd3e9fe212df31470f2a672af8bcda
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Aug 31 19:17:17 2020 +0200

    kmsdrm: Do NOT modify window size manually from the backend: doing so caused renderer scaling params miscalculation.

commit c09d1cee95e1c769d5a83d51aae3c0a08ab688ce
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Aug 28 23:04:00 2020 +0200

    kmsdrm: Apply window reconfiguration in SetWindowSize(), too.

commit 31b179453468ae7913c193fcf8e3876b221fcc5c
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Aug 28 22:38:26 2020 +0200

    kmsdrm: use PLANE and CRTC to do hardware-driven window scaling and AR-correction.

commit fe3f97961b7e357996459f5653457decc9b413e4
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 26 01:37:30 2020 +0200

    kmsdrm: unload EGL and GL lib only if using them.

commit 9b43464d81dc89288d6c2706c1615bff1c5d7a97
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 25 16:30:23 2020 +0200

    kmsdrm: Add programmer credits to the Atomic KMSDRM driver.

commit 9316a8d9790fcec1f39fbd7aadd1215002fc03f6
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 25 16:18:49 2020 +0200

    kmsdrm: move FENCE FD props setting to SwapWindow(), where it belongs.

commit 3f38009b2f1a4ea7b69d4850b10a3e21be74be3c
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 25 15:40:36 2020 +0200

    kmsdrm: comment out atomic commit fast-debugging printf.

commit 0d16761cbe39f51bf761db7b989610f58f8649bf
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 25 05:53:13 2020 +0200

    kmsdrm: fix segfault on quit beacuse of freed _this->egl_data.

commit d43e666eedfb711584f5b2634bfb078957e6c8a9
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 25 04:05:36 2020 +0200

    kmsdrm: Buffer management refactoring. Fixes for compatibility with more video drivers.

commit eade05ca03a01bb42e897d7c5338b8a1be4bdf31
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Aug 24 12:51:20 2020 +0200

    kmsdrm: Finetune integer type usage. Add some comments.

commit a76f1763616501cb1e0479d50280bbad64ff77e0
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Aug 24 01:10:11 2020 +0200

    kmsdrm: Move cursor plane setup and freeing to MouseInit() and MouseQuit(), for better consistency.

commit 0d593d7ead544d25d3ea95464cdd1940f5678b23
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Aug 23 23:44:07 2020 +0200

    kmsdrm: Add error control to plane prop setting function. Do most plane prop setting with a single function.

commit e06e9c35c8ea4ce4fe4b0d104e128c4005ecae67
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Aug 23 11:26:55 2020 +0200

    kmsdrm: move cursor-related atomic helper functions and related struct typedefs to the SDL_kmsdrmmouse unit.

commit 0b7b7721b94835a538217488677a6ebf2dc8a9f6
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Aug 23 03:13:50 2020 +0200

    kmsdrm: remove redundant function, use drm_atomic_setbuffers() for disconnecting planes instead.

commit 16c04f266ad6eb08625d21c7f2505b34feb357f2
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Aug 23 02:58:57 2020 +0200

    kmsdrm: Init cursor surface on SetCursor() ONLY. Removal of dynamic modeset because it causes A LOT of problems with some kernel video drivers. Some refactoring and cleanups.

commit 0d0ba111ae186017aec1ad70ebaf15ddbc96aff5
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 19 01:34:56 2020 +0200

    kmsdrm: correct parameter name.

commit 5d32eda956fa70e2e6d8a88f4e0d33d9666aec39
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 19 01:31:22 2020 +0200

    kmsdrm: implement smarter surface recreation function to be used in videomode changes. Other minor arrangements.

commit f79da8172123a914cbd8bc953717a27346c4d7ca
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Aug 18 01:52:15 2020 +0200

    kmsdrm: free all connector, crtc and plane memory on KMSDRM_VideoQuit().

commit 96d555e25afce86db68453cca3daa0f113f29a26
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Aug 17 20:09:01 2020 +0200

    Android: remove un-needed java import (bug 4297)

commit 965b466ee831a2b1fadb020be5e846fee61d32ba
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Aug 17 19:50:20 2020 +0200

    Fixed bug 4297 - Android StrictMode policy. Remove APK expansion support
    
    "In the second half of 2021, new apps will be required to publish with the Android App Bundle on Google Play"
    (see https://developer.android.com/guide/app-bundle)
    And "Android App Bundles don't support APK expansion (*.obb) files".

commit 92cb9192e330b0fc677df2e076740ee9a28a4750
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Aug 17 18:35:04 2020 +0200

    kmsdrm: move hardware cursor functionality to the ATOMIC interface. Disconnect the display plane from the GBM surface buffers before destroying the GBM surface.

commit c3ecf18cc43881cd4060f3af6f1903b28cc284b7
Author: Kai Krakow <kai@kaishome.de>
Date:   Tue Jul 21 23:38:42 2020 +0200

    Linux: Add hint for disabling deadzones

commit 86517d3eda559beee2ca7438435b08b6c2cac442
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 10 08:42:35 2020 -0700

    Fixed bug 5242 - KMOD_* flags unnecessarily macros; breaks OGRE
    
    Rainer Deyke
    
    While most of the KMOD_* flags are enums, the combination flags KMOD_CTRL, KMOD_ALT, KMOD_SHIFT and KMOD_GUI are defined as macros.  This breaks third-party code that uses these KMOD_* names for local identifiers, such as OGRE.  The correct thing to do is to make them all enums.

commit c094332825d23fca4ba42a4e3b79aec39e0cfae2
Author: Tudor Brindus <me@tbrindus.ca>
Date:   Tue Jul 21 13:14:24 2020 -0400

    wayland: defer pointer confine creation until pointer unlock
    
    It is a protocol error to attempt to create a pointer confine (i.e.
    `SDL_SetWindowGrab`) while a locked pointer is active, and vice-versa.
    Instead of aborting due to a protocol error, this commit makes SDL
    gracefully downgrade locked pointers to confines when appropriate.

commit a720d1a294f7af5ea1ea547f53307fde422af96e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 9 00:55:39 2020 -0400

    render: fixes to how we convert touch events for logical scaling.
    
    We now handle HiDPI correctly, and touches are clamped to the viewport. So
    if you are rendering to a logical 640x480 in a 720p window, and touch the
    letterboxing at point (640,700), it will report the touch at (0.5,1.0) instead
    of outside the documented range.

commit c437729b2198069a4c11f2a5d91e00aaf9aabd4c
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Aug 8 14:27:55 2020 +0200

    kmsdrm: separate requests in different functions so we only need one atomic commit for everything, as expected by atomic design.

commit 3b9f1073c68539cbdee884c6ebcd70064eabab3f
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Fri Aug 7 11:53:04 2020 +0200

    kmsdrm: wait for possible pending atomic commits before destroying surfaces, and before restoring video on quit. Move messages to the SDL_Log* functions.

commit 96c99693a2297e9dd55a76c7d84e08e5d1a7fc47
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Thu Aug 6 01:36:56 2020 +0200

    kmsdrm: wait for pending atomic commits before restoring videomode and crtc->buffer on VideoQuit, and simplify double-buffer SwapWindow() implementation.

commit 09692b617003da546c5fc3b240ef784a50eee687
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 5 18:55:22 2020 +0200

    kmsdrm: move videomode restoration on VideoQuit() to using the atomic interface instead of the legacy drmModeSetCrtc() function. Refactoring of get_plane_id().

commit fc722b2d214cf17190d26067e97615d2c106b1ad
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 5 15:28:51 2020 +0200

    kmsdrm: free memory for plane, crtc and connector property tables on VideoQuit.

commit 2d69ce08baf65322e7e5816ec8e122c93c8e82bc
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Wed Aug 5 02:06:59 2020 +0200

    kmsdrm: double and triple buffered versions of SwapWindow() are now both reimplemented in atomic pageflipping versions, and can be selected via SDL_VIDEO_DOUBLE_BUFFER env variable.

commit 8996ee1786644236113b3ea146835b2b5d408f14
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Aug 3 22:24:49 2020 +0200

    kmsdrm: update SwapWindow fn, moving it to triple-buffer.

commit ea171c05640ff23a1128631ad732a795975b21ba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 1 18:58:42 2020 -0400

    winrt: Another attempt at getting this to compile.
    
    IntPtr isn't a POD type like I thought, so hopefully we can just construct
    one that works out? C++/CX is so weird.

commit b131661c6d1250c79d9a3d7ba379cd9ae7a985d2
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sat Aug 1 18:23:34 2020 +0200

    kmsdrm: rewrite the new SwapWindow() fn to avoid tearing. Double-buffer only for now.

commit 282e4c65bf58ffd0e0707ecc269ab3272c423c1b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 31 19:42:23 2020 -0400

    winrt: Patched to compile...?
    
    Microsoft's C++/CX is weird, no idea if this will actually fix it.  :/

commit 1a5503ce9f257dc3c9e9594c3abba418af99d66f
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Tue Jul 28 21:11:25 2020 +0200

    kmsdrm: Moved to the ATOMIC KMS/DRM interface for buffer swapping, leaving DRM-legacy behind.

commit e410b34f92fa6633dc8f518fe56228d69d2ff682
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 24 22:24:03 2020 -0400

    stdlib: Corrected implementation of SDL_wcsncmp.
    
    It was a copy/paste of SDL_strcmp, apparently, not SDL_strncmp, so it ignored
    the maxlen parameter.
    
    Thanks to Jack Powell for pointing this out!

commit c7eb557d8955f28647ee04b3adb6b5c4036750cd
Author: RALOVICH, Kristof <tade60@freemail.hu>
Date:   Mon Jul 20 10:09:07 2020 -0700

    kmsdrm: do not leak drmModeConnector
    Previously conn was leaked on the success path (when available was
    set to SDL_TRUE).

commit 412b21b0e872ecc55bcb0bad20a41cbde0fc1972
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Mon Jul 20 11:42:23 2020 +0200

    Rename the gbm device struct from gbm to gbm_dev for better readabilty.

commit 155fdc7ac0b0a2e8edc2e7bbf204ab03fa5441f4
Author: RALOVICH, Kristof <tade60@freemail.hu>
Date:   Sun Jul 19 21:48:17 2020 -0400

    kmsdrm: settle with first card that has a connected connector
    Previously the first card with non-empty connectors, encoders
    and crtcs would be selected, however KMSDRM_VideoInit could still reject
    it if the connector was not connected. This allow finding the first card
    (in a multi GPU setup) that is actually connected to a display.

commit b78b88f7fbc3a5805ff464f8d63d3d2b53b3fd8a
Author: RALOVICH, Kristof <tade60@freemail.hu>
Date:   Sun Jul 19 21:46:41 2020 -0400

    kmsdrm: fix typo

commit 75fe4b14e3ce83a9b771191abd061a613f31af5b
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jul 19 19:53:57 2020 +0200

    Added comment about window creation behaviour in KMSDRM.

commit 2f660c4fdda344ac46ffbfd906a96d41ad64059d
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jul 19 19:11:02 2020 +0200

    Delete windata variable no longer needed in KMSDR_SetDisplayMode().

commit 3a1d7d9c9ac670bf35cfa8ebf3706a1e2a3e5de4
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jul 19 19:09:15 2020 +0200

    Surfaces have to be recreated immediately from KMSDRM_SetDisplayMode().

commit b6a818b6a286c5ec7a1b695c56e38a5a6bbde4ca
Author: Manuel Alfayate Corchete <redwindwanderer@gmail.com>
Date:   Sun Jul 19 18:45:29 2020 +0200

    Fix SDL_Window recreation: drmModeSetCrtc() has to be called everytime the EGL and GBM surfaces are recreated.

commit 71e9df99c7d84b094fa6f6f8796e90a239b36142
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 19 08:55:01 2020 -0700

    Fixed bug 5231 - Fix for hardware cursor: size and alpha-premultiplication.
    
    Manuel Alfayate Corchete
    
    I noticed pt2-clone had problems with it's optional hardware mouse on the KMSDRM backend: cursor had a transparent block around it.
    So I was investigating and it seems that a GBM cursor needs it's pixels to be alpha-premultiplied instead of straight-alpha.
    A
    lso, I was previously relying on "manual testing" for the cursor size, but it's far better to use whatever the DRM driver recommends via drmGetCap(): any working driver should make a size recommendation via drmGetCap(), so that's what we use now. I took this decision because I found out that the AMDGPU driver reported working cursor sizes that would appear garbled on screen, and only the recommended cursor size works.

commit b0ca8efd29debe76ce5a528049e00065f08cd4c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 17 22:21:37 2020 -0700

    Re-add check for Metal on x86, where it's not supported.

commit b7a4fdd31828b7fc5beefd3b0ecd1bc3b344f4e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 17 11:16:35 2020 -0400

    metal: Make sure we have a command buffer available before trying to present.
    
    This fixes a case where you render to the backbuffer, then render to a render
    target, set the current target back to the backbuffer, and then present
    without drawing anything else; in this circumstance, the Present command
    would never happen.
    
    Fixes Bugzilla #5011.

commit b5affd12e6f12eb24ca3729aff9d933d01786d90
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 16 13:28:59 2020 -0400

    Patched to compile.

commit 3b38e61a7d73cd7e01f34318a6aeb7c336e3b3e7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 16 13:25:50 2020 -0400

    winrt: Fix casting a pointer to int.
    
    Fixes Bugzilla #5202.

commit 8babda2c206949ad9c4f42e64bf8ae3e35b2e709
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 16 13:18:19 2020 -0400

    egl: SDL_EGL_LoadLibaryOnly() shouldn't set _this->gl_config.driver_loaded = 1
    
    This is handled in in the higher-level SDL_GL_LoadLibrary().
    
    All uses of SDL_EGL_LoadLibrary (which calls the Only version) are just
    target-specific wrappers for their own GL_LoadLibrary hook, with two
    exceptions which now handle driver_loaded correctly (although it's
    questionable if these init-if-no-one-did-it-correctly-already code blocks
    should exist at all, fwiw).
    
    Fixes Bugzilla #5190.

commit af71510cca017f7765558b9d879621f6e33da73a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 16 04:43:08 2020 -0400

    assert: Implement SDL_TriggerBreakpoint for Apple ARM hardware.

commit 45f5eb0615f1458e117de30b616fe797f2ce03e1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 16 04:37:14 2020 -0400

    configure: On Apple platforms, only exclude Vulkan on x86.
    
    This catches both x86-64 and ARM devices.

commit 968b830d142d8ece6510912d0a50031d88f6cc21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 15 16:12:44 2020 -0700

    Fixed bug 5232 - SDL2 configure script detects Apple Silicon Macs as iPhones; fails to build due to missing components
    
    jackmacwindowslinux
    
    I'm testing my application that uses SDL2 on the new Apple Silicon Macs. I set up the SDL 2.0.12 source code from the website and tried to build it. The first issue I ran into was that it was always building OpenGL ES, even if --disable-video-opengles was passed to configure. OpenGL ES headers do not seem to be present on the Apple Silicon macOS SDK, except for the iOS SDK headers. Then I had problems with the joystick driver, where some classes used on iOS were not available on macOS.
    
    After looking through the configure.ac script a bit, I found that iOS targets are selected when the build host matches "arm*-apple-darwin*". Clang on macOS 11.0 on arm64 reports the host as "arm64-apple-darwin20.0.0", which matches the iOS target. This means that ARM Mac compilation will always be detected as iOS. Unfortunately, there doesn't seem to be an easy way to detect Mac vs. iOS targets, since they now both use the same triplet & compiler for building.
    
    I'm not sure what the best way to fix this is, but maybe there could be an additional target flag to specify whether to build for macOS or iOS? This might break compatibility, though: with this approach, either all old scripts that used configure to build for iOS fail, or all new builds on macOS without a flag fail (silently?).

commit cab1a715f52eef086157f675339e943f971d7e64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 15 10:15:52 2020 -0700

    Fixed bug 5233 - PS3 Gamepad Motion Control not correctly ignored on Linux
    
    Igor Morgado
    
    PS3 Controller motion sensor string is being reported as
    
    `Gasia Co.,Ltd PS(R) Gamepad Motion Sensors`
    
    But `src/joystick/SDL_gamecontroller.c` line1690 only ignores if matches the string  `Controller Motion Sensors`.
    
    ```
    #if defined(__LINUX__)
        if (name && SDL_strstr(name, "Controller Motion Sensors")) {
            /* Don't treat the PS3 and PS4 motion controls as a separate game controller */
            return SDL_TRUE;
        }
    #endif
    ```
    
    Therefore, SDL is mapping 2 Game controllers instead one.
    
    Maybe reduce the substring to match `Motion Sensors` instead.
    
    
    A simple log from my application is shown below:
    
    INFO: Game controller device 0 - PS3 Controller:PS3 Controller found.
    INFO: Controller 0: Player 0: 054c:0268:8111 - PS3 Controller - PS3 Controller - Gasia Co.,Ltd PS(R) Gamepad
    INFO: Game controller device 1 - PS3 Controller:PS3 Controller found.
    INFO: Controller 1: Player 1: 054c:0268:8111 - PS3 Controller - PS3 Controller - Gasia Co.,Ltd PS(R) Gamepad Motion Sensors

commit a78b9763f1b61ffb8a337817d9ecc3dffb8edf65
Author: M Stoeckl <code@mstoeckl.com>
Date:   Tue Jul 14 19:18:16 2020 -0400

    Reuse Wayland connection from availability check

commit 8669a87f056ce7c9bf488131861185b222d9cbbd
Author: M Stoeckl <code@mstoeckl.com>
Date:   Tue Jul 14 21:13:27 2020 -0400

    Reuse X11 connection from availability check
    
    Instead of creating an X11 connection to test that X11 is available,
    closing the connection, and then reconnecting for real, use the same
    connection to handle both cases.
    
    The X11 connection retry delay mechanism in the case where X11 is
    dynamically loaded has been removed. It was only necessary to avoid
    authetnication token reuse from the XOpenDisplay call that used to
    exist in X11_Available. Now that this call is only made once, it
    is no longer needed.
    
    Also drop unused and inapplicable code from a comment.
    ***

commit 052a13738d9f6083cee03d4ea8309e6cde515662
Author: M Stoeckl <code@mstoeckl.com>
Date:   Sun Jul 12 19:11:15 2020 -0400

    Merge VideoBootStrap::available into VideoBootStrap::create
    
    The two are only ever called together, and combining them makes it possible
    to eliminate redundant symbol loading and redundant attempts to connect
    to a display server.

commit 49ec65587a0c5f38f12ceccad96c82c5c349fdf7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jul 11 08:10:02 2020 +0300

    fix bug #5228 -- Add AltiVec detection for FreeBSD.
    
    thanks Piotr Kubaj.

commit b162629546951c98fffe92c44748c74806a4caf6
Author: stfx <stfx@hotmail.de>
Date:   Wed Jul 8 17:28:34 2020 +0200

    cmake: Fix building with -DSDL_HAPTIC=Off

commit fe97f01bc6342fd2cde3260259d9130199a7fdb9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jul 5 22:33:10 2020 +0300

    configure: corretly print --enable-arm-simd default value.

commit 6aec6da4c3daad1259f9c8dedf933a1be1ade51a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 28 17:45:07 2020 -0400

    stdinc: Let Clang static analysis see more C runtime functions.
    
    For systems without strlcpy and strlcat, just declare them as if they exist;
    the analyzer possibly still knows the details of these functions and can
    utilize that in its analysis.
    
    Most of this patch was from meyraud705 at gmail and Martin Gerhardy. Thanks!
    
    Fixes Bugzilla #5163.

commit 0e98040d43dcdcfe7789eac30df8969432032f8d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 28 16:23:05 2020 -0400

    joystick: Linux joysticks now recover better from dropped events.
    
    Fixes Bugzilla #4830.

commit e594a6738a815a7d29e7c7d4474b68a16c393419
Author: Sylvain Beucler <beuc@beuc.net>
Date:   Sat Jun 27 16:25:47 2020 -0400

    emscripten: Introduce SDL_HINT_EMSCRIPTEN_ASYNCIFY
    
    See https://github.com/emscripten-core/emscripten/issues/10746
    
    and
    
    https://github.com/emscripten-ports/SDL2/pull/112
    
    Fixes Bugzilla #4997.

commit 01af7b02540ca7614188a34794287389f39fda48
Author: Sylvain Beucler <beuc@beuc.net>
Date:   Sat Jun 27 16:22:50 2020 -0400

    emscripten: support pseudo-synchronous screen refresh and events update using asyncify

commit 3b71ebecd62acabeb3937bf9514a21c58c86f069
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jun 27 02:38:13 2020 -0400

    configure: Accidentally deleted a ')'
    
    Sorry!

commit e294639a6dff23a35f3c0961eabb054c937893c4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jun 27 02:00:58 2020 -0400

    cmake: Fix Metal detection on macOS/iOS.
    
    Apparently the "-x objective-c" made it down to the linker, who then treats
    the .o file as Objective-C source code.  Apparently the -ObjC argument does
    the same thing but gets ignored by the linker.
    
    Fixes Bugzilla #4988.

commit 363fd52b41808e4d5ab1afbd248ffd79e6c95990
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 23:30:59 2020 -0400

    configure/cmake: Disable ARM SIMD and NEON by default.
    
    It's buggy at the moment.

commit 694fea8ad8fd074fae1ec30fe85267b6dc476f49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 21:37:29 2020 -0400

    video: Make SDL_CreateWindow use SDL_Init(SDL_INIT_VIDEO), not SDL_VideoInit.
    
    Otherwise, the video subsystem won't deinitialize during SDL_Quit().
    
    Fixes Bugzilla #5067.

commit 50fd0dd1430ce56bc0ad6b164fa2a1cabb50a34b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 21:35:54 2020 -0400

    test: testspriteminimal wasn't calling SDL_Quit() on exit.

commit 1947ca7028ab165cc3e6cbdb0b4b7c4db68d1710
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 20:16:43 2020 -0400

    video: Changed SDL_VIDEO_MINIMIZE_ON_FOCUS_LOSS to default to FALSE.
    
    Fixes Bugzilla #5106.  (and probably many others, too!)

commit 21482c15824f19789fbb42c62446176caa2ef685
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 20:11:32 2020 -0400

    cmake: Bump minimum required CMake to 3.0.0 and mark link libraries PRIVATE.
    
    Fixes Bugzilla #2992.

commit 718e1fb8b1a189790f088f3a006edbb50a9380a7
Author: stfx <stfx@hotmail.de>
Date:   Fri Jun 26 22:45:15 2020 +0200

    cmake: Fix building with -DSDL_SENSOR=Off

commit d955d63b03ffba9acb30487da6fce85131bedd75
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 17:42:30 2020 -0400

    cmake: Build Linux-specific files like the configure script does.
    
    Otherwise we unconditionally compile things we shouldn't.
    
    Fixes Bugzilla #5175.

commit dd753ce7e3a89121568507020ecbe240532bb91f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 26 15:04:57 2020 -0400

    cmake: Fix building with -DSDL_POWER=Off
    
    Fixes Bugzilla #5193.

commit ce293eed8d7f731117cdc34d4cd26f10cf217f03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 23 10:12:24 2020 -0700

    Fixed bug 5208 - Fix libGL loading on OpenBSD

commit c2b8530591f187987dcd0d5b0fb54971f391f2a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 23 10:09:29 2020 -0700

    Fixed bug 5209 - cpuinfo recognize OpenBSD ARM
    
    Brad Smith
    
    OpenBSD/arm only supports ARMv7 and and not any CPUs that do not support NEON.

commit 4ba0a84718a52b814486252f81c6248996633706
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 22 23:24:02 2020 +0300

    core/linux/SDL_threadprio.c: fix build against older glibc versions

commit b9f55b6d805446856b435b76442c59711603aef9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 10:37:14 2020 -0700

    Fixed bug 5199 - Fix KMSDRM_CreateWindow() segfault when starting L?VE2D engine.
    
    Manuel Alfayate Corchete
    
    This small patch fixes the KMSDRM_CreateSurfaces() call in KMSDRM_CreateWindow(), that was segfaulting deeper into SDL internals because the windata->viddata pointer wasn't set before the KMSDRM_CreateSurfaces() call.
    So that's what this small patch does.
    
    Now, L?VE2D works perfectly well on the Raspberry Pi 3, instead of just segfaulting.

commit 56622f9c92dcc6fd0bac4b069a5103df575e75c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 17 10:09:07 2020 -0700

    Fixed bug 5126 - MinGW compile error SDL_windowssensor.c
    
    Martin Gerhardy
    
    SDL_windowssensor.c includes InitGuid.h - but it should be initguid.h

commit f1d5ced167ae9c7f11dd90a412141e81df70a25b
Author: James Legg <jlegg@feralinteractive.com>
Date:   Wed Jun 17 12:48:40 2020 +0100

    x11: Fix spurious keyboard focus events

commit 48989e2a8796d77957eaa6fa70e445e844b0c5fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 17 08:47:27 2020 -0700

    Reverted comment change in previous commit

commit a7ff6e96155f550a5597621ebeddd03c98aa9294
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 17 08:44:45 2020 -0700

    Fixed overflow in surface pitch calculation

commit efe0935904fdfac1e7b5fc40ce91aadb7b76c609
Author: stfx <stfx@hotmail.de>
Date:   Mon Jun 15 10:31:16 2020 +0200

    Fix compile without DIRECTX

commit 9db16a6557351a4717a9ed118d9b54c9351c0651
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 14 12:21:02 2020 +0300

    fix permissions of some project files

commit 163896543f94db70d5aa8a00562d27ccc56e2c5e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jun 14 12:05:56 2020 +0300

    fix watcom build of SDL_test_common.c

commit 7c0986fba42a1100b0e64ba7f3e6232e5afc3db4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 12 10:30:46 2020 -0700

    Fixed bug 4938 - Suggestion: rename SDL_PIXELFORMAT_BGR888 to SDL_PIXELFORMAT_XBGR8888
    
    Ellie
    
    I just tripped over this: stb_image when requesting 3 channels with 8-bit actually returns them as 3 bytes per pixel with no alignment, so basically 4 pixels are 12 bytes with no padding (0...2, 3...5, 6...8, and 9...11). This I would have naively expected to be called RGB888 or BGR888, since there is no "dead" unused byte as I would expect for something called e.g. RGBX8888.
    
    However, SDL2's SDL_PIXELFORMAT_BGR888 uses 4 bytes, same as SDL_PIXELFORMAT_BGRX8888, even though the latter appears to be a longer storage format - which it isn't, internally. It's just swapped, in byte order X, B, G, R (instead of BGRX). So why isn't the macro name also swapped, as "XBGR888" instead of just "BGR888"?
    
    I find the formats therefore named inconsistently, and unless there is a reason for this I suggest these changes:
    
    1. deprecate SDL_PIXELFORMAT_BGR888 in favor of a new SDL_PIXELFORMAT_XBGR8888
    
    and
    
    2. deprecate SDL_PIXELFORMAT_RGB888 in favor of a new SDL_PIXELFORMAT_XRGB8888

commit 2aa8974f97a89aac05d532e10bfc6aefda0fe326
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Thu Jun 11 12:03:33 2020 -0400

    Add SDL_SIMDRealloc

commit 20aada0efcaafe2f7dbbf0d301ba14e3d6163299
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 10 09:38:43 2020 -0700

    Fixed bug 5170 - Build fails when using Visual Studio 2017 with Windows 10 SDK 10.0.19041.0 in uwp
    
    JackBoosY
    
    In src/video/winrt/SDL_winrtgamebar.cpp line 55:
    
        virtual HRESULT STDMETHODCALLTYPE add_VisibilityChanged(
            __FIEventHandler_1_IInspectable *handler,
            Windows::Foundation::EventRegistrationToken *token) = 0;
    
    The macro __FIEventHandler_1_IInspectable defined in windows.fondation.h(Windows10 SDK 10.0.17763.0) line 3576:
    #define __FIVector_1_Windows__CFoundation__CPoint ABI::Windows::Foundation::Collections::__FIVector_1_Windows__CFoundation__CPoint_t
    
    but no longer exists in Windows 10 SDK 10.0.19041.0.
    After searching this macro in the sdk include path, I found that it was defined in many header files. But it should be replaced in windows.system.h .

commit 4d15b5b893186d74de9a8921118992be8c9b908e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 10 09:36:10 2020 -0700

    Fixed building with Visual Studio 2019

commit 44f50c647ed4a9fe376ec6423a198367702407fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 21:47:41 2020 -0700

    Fixed bug 5171 - PollEvent impacts performance in 2.0.12
    
    On some systems, GetClipCursor() impacts performance when called frequently, so only call it every once in a while to make sure we haven't lost our capture.

commit 511a9702fc597ecbdefc0e1b8829b70f0ea2ea53
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 21:43:00 2020 -0700

    Fixed whitespace

commit aefe19ff08d3cc26fede93f193a9f1e1e3842953
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 11:31:39 2020 -0700

    Added support for the NACON Revolution Pro Controller 3 and the GameStop PS4 Fun Controller

commit 6f241bd520dd17fcaa2727c976cbabd482b4f6c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 10:47:29 2020 -0700

    Fixed build

commit 086be21e7a310dab4deefe513d0d21b36d7d9c59
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 10:47:27 2020 -0700

    ControllerList: add support for NACON asymetric controller and Revolution 3, Hori mini wireless ps4 controller, and 2 PDP switch controllers

commit 3b76109f647a328d28cb05ddd6df3d7934f2139e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 10:47:25 2020 -0700

    ControllerList: remove giotek controller from list - vid/pid appears to be reused in bunch of devies including ones with different fw/protocol and treating as ps4 controller breaks them.

commit a9cfac38353609eb93af14eddd0c9d4e15177980
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 9 10:47:23 2020 -0700

    Controller: Deadzone improvements

commit 9fa8d6d0bea18300f079f347ac43d5400bc01435
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 8 17:07:55 2020 -0700

    Define constants not available on older kernels

commit 3ac24bfc1a8deea44ca54bef17aaba8b03cf8488
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 8 17:01:50 2020 -0700

    Fixed mouse drag with an external mouse on iOS

commit d0947c1483dc29a6629b3b0215331f7ec2725130
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 12:30:25 2020 -0700

    Fixed exception if getManifestEnvironmentVariables() is called without a current SDL activity

commit ff53521bc6776350aa286bd58f5a1b4e6ce8433d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 12:26:57 2020 -0700

    Fixed Bluetooth audio output on Apple TV

commit cced5eb9376bea92e9005bdf99dc648fc541b200
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 09:23:18 2020 -0700

    Fixed bug 5169 - Can not build current sources because of recent thread management changes
    
    Manuel Alfayate Corchete
    
    I'm trying to build SDL2 with threads support here in GNU/Linux, both X86 and ARM, and it does not seem to be possible ATM:
    
    
    /home/manuel/src/SDLLLL/src/core/linux/SDL_threadprio.c:233:26: error: 'rtkit_max_realtime_priority' undeclared (first use in this function)

commit 958c42827cb246841dbabf72c0cad1f124dacbfa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 09:13:49 2020 -0700

    Fixed build warning

commit 49501a9860d1681a086970e05e4f7ba45af32cc3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 09:10:49 2020 -0700

    Updated configure with changes from configure.ac

commit 22ce194b17162ee61ba9f7b9ef7a3d07445a0e2a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 3 14:58:38 2020 -0700

    Make sure SDL_locale.h is included in the Xcode Framework for macOS

commit b9d5aebb3a09dd4ceb20aa4d4dd0db96fef73141
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 3 14:56:35 2020 -0700

    Make sure SDL_locale.h is included in the Xcode Framework for tvOS

commit 550b209e90565bd1c5c98b70ea1c54d5619b9d18
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 3 14:26:37 2020 -0700

    Make sure SDL_locale.h is included in the Xcode Framework

commit 60435712f2c9bffb7c244c69f8e406e9854f9376
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 3 16:42:19 2020 -0400

    video: Set window->surface NULL after freeing it.
    
    Otherwise, when SDL_CreateWindowFramebuffer() is called again, it will return
    the free'd surface instead of creating a new one.

commit eea0b0e088303404c658990bb994295fa7c34267
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 2 17:08:31 2020 -0700

    Fixed bug 5168 - Memory leak in RAWINPUT_JoystickOpen
    
    meyraud705
    
    Variable 'hwdata' is not freed in RAWINPUT_JoystickOpen if device->driver->OpenJoystick() fails.

commit 134362e7455873fd8cce255334f170ede39c4ec2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Apr 25 19:15:51 2020 -0700

    Enable Xbox One HIDAPI driver on macOS
    
    The Xbox One HIDAPI driver is required on macOS for Xbox One S Bluetooth
    support since https://hg.libsdl.org/SDL/rev/10c3a10908e9

commit ac1f174ad5d27bb2626dd7c2d8e65a7dbc1a0a62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 2 17:02:37 2020 -0700

    Fixed bug 5167 - Memory leak in GuessXInputDevice
    
    meyraud705
    
    Variable 'devices' is not freed if function GuessXInputDevice, in SDL_xinputjoystick.c, return early.

commit 06267f502886d0b3cf1925653d02de938ae0e3f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 2 16:59:54 2020 -0700

    Fixed whitespace in SDL_vulkan.h

commit d48c97c4a48cf66b7de891dd4c7aa44f73a928aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 2 16:57:20 2020 -0700

    Fixed bug 5147 - KMSDRM: SetWindowFullscreen() failing with SDL_WINDOW_FULLSCREEN_DESKTOP
    
    Manuel Alfayate Corchete
    
    This patch is needed so programs that do this work as expected:
    1) Start in a different video mode than the mode used by the system and then...
    2) Try to go fullscreen with the mode originally used by the system via SetWindowFullScreen() with the SDL_WINDOW_FULLSCREEN_DESKTOP flag.
    
    An example would be pt2-clone in https://github.com/8bitbubsy/pt2-clone.
    This program does this:
    
    Starts with:
    
    video.window = SDL_CreateWindow("", SDL_WINDOWPOS_CENTERED,
        SDL_WINDOWPOS_CENTERED, screenW, screenH, windowFlags);
    
    
    and then, *IF* the user has configured it in fullscreen mode in its .ini, it tries to go fullscreen with the desktop mode:
    
    SDL_SetWindowFullscreen(video.window, SDL_WINDOW_FULLSCREEN_DESKTOP);
    
    
    This sequence of operations is currently failing because SDL_SetDisplayModeForDisplay() in SDL_video.c fails because display->desktop_mode is not being initialized with its correct value: SetDisplayMode() in SDL_kmsdrmvideo.c will not be able to set the mode because it detects the mode to have a driverdata of 0x0 ("if (!modedata)") and rightfully returns an error.
    
    So, the included patch fixes this small problem, and programs that first change the video mode and then try to go fullscreen with the system video mode will now work.
    The patch simply fixes an small omission, but its really needed now that dynamic video mode changing was implemented on the KMSDRM backend.

commit 9325b22ef03302d80b6ab9a4eade362f22f9657e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 21:26:32 2020 -0700

    Fixed bug 5113 - SDL_UpdateWindowSurfaceRects BitBlt the entire surface on Win32
    
    Ryan C. Gordon
    
    As discussed here:
    https://discourse.libsdl.org/t/question-about-implementation-of-sdl-updatewindowsurfacerects/27561
    
    "As you can see this function [WIN_UpdateWindowFramebuffer, in src/video/windows/SDL_windowsframebuffer.c] calls BitBlt on entire screen, even though it accepts the rects. Rects variable is not even used in this function at all. Now my question is why is that the case?"

commit d000c1cd6dc8078e1f373376fbe2336f4a2c181f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 21:22:11 2020 -0700

    Fixed bug 5155 - HIDAPI_JoystickDisconnected incorrect array shift
    
    Anthony Pesch
    
    I was looking into my own input bug and noticed an issue in the HIDAPI code while looking over it. I don't have a controller that goes down this path to test and try to provoke the issue, but it looks pretty straight forward.
    
    The memmove to shift the joystick id array on disconnect isn't scaling the size by sizeof(SDL_JoystickID), likely corrupting the ids on disconnect.

commit a8400dc3bf7df7a39efdb3d2d54560f9c9503cea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 16:31:05 2020 -0700

    Fixed bug 5105 - sndio support not working in dynamic mode (dlopen)
    
    Giovanni Bajo
    
    The CMake build system supports several audio frameworks for Linux: one of them is sndio.
    
    All frameworks can be built with "runtime linking" (that is, using dlopen to load the library at runtime). In sdlchecks.cmake, there's code to do the same with sndio:
    
    =================================================================
    # Requires:
    # - n/a
    # Optional:
    # - SNDIO_SHARED opt
    # - HAVE_DLOPEN opt
    macro(CheckSNDIO)
      if(SNDIO)
        # TODO: set include paths properly, so the sndio headers are found
        check_include_file(sndio.h HAVE_SNDIO_H)
        find_library(D_SNDIO_LIB sndio)
        if(HAVE_SNDIO_H AND D_SNDIO_LIB)
          set(HAVE_SNDIO TRUE)
          file(GLOB SNDIO_SOURCES ${SDL2_SOURCE_DIR}/src/audio/sndio/*.c)
          set(SOURCE_FILES ${SOURCE_FILES} ${SNDIO_SOURCES})
          set(SDL_AUDIO_DRIVER_SNDIO 1)
          if(SNDIO_SHARED)
            if(NOT HAVE_DLOPEN)
              message_warn("You must have SDL_LoadObject() support for dynamic sndio loading")
            else()
              FindLibraryAndSONAME("sndio")
              set(SDL_AUDIO_DRIVER_SNDIO_DYNAMIC "\"${SNDIO_LIB_SONAME}\"")
              set(HAVE_SNDIO_SHARED TRUE)
            endif()
          else()
            list(APPEND EXTRA_LIBS ${D_SNDIO_LIB})
          endif()
          set(HAVE_SDL_AUDIO TRUE)
        endif()
      endif()
    endmacro()
    =================================================================
    
    The feature is gated by an option called SNDIO_SHARED. It is also fully implemented in SDL_sndioaudio.c
    
    Unfortunately, it seems there is a missing line in CMakeLists.txt, so SNDIO_SHARED is not defined:
    
    ======================================================================
    set_option(ALSA                "Support the ALSA audio API" ${UNIX_SYS})
    dep_option(ALSA_SHARED         "Dynamically load ALSA audio support" ON "ALSA" OFF)
    set_option(JACK                "Support the JACK audio API" ${UNIX_SYS})
    dep_option(JACK_SHARED         "Dynamically load JACK audio support" ON "JACK" OFF)
    set_option(ESD                 "Support the Enlightened Sound Daemon" ${UNIX_SYS})
    dep_option(ESD_SHARED          "Dynamically load ESD audio support" ON "ESD" OFF)
    set_option(PULSEAUDIO          "Use PulseAudio" ${UNIX_SYS})
    dep_option(PULSEAUDIO_SHARED   "Dynamically load PulseAudio support" ON "PULSEAUDIO" OFF)
    set_option(ARTS                "Support the Analog Real Time Synthesizer" ${UNIX_SYS})
    dep_option(ARTS_SHARED         "Dynamically load aRts audio support" ON "ARTS" OFF)
    set_option(NAS                 "Support the NAS audio API" ${UNIX_SYS})
    set_option(NAS_SHARED          "Dynamically load NAS audio API" ${UNIX_SYS})
    set_option(SNDIO               "Support the sndio audio API" ${UNIX_SYS})
    set_option(FUSIONSOUND         "Use FusionSound audio driver" OFF)
    dep_option(FUSIONSOUND_SHARED  "Dynamically load fusionsound audio support" ON "FUSIONSOUND" OFF)
    ======================================================================
    
    You can see that all frameworks define a "dep_option" NAME_SHARED, and SNDIO is the only one where the option is missing.
    
    This means that runtime loading of sndio is never activated. If sndio is found at configuration time, it is always activated in "linked" mode, so that the final binary will have a load-time dependency with libsdnio. This is unfortunate.
    
    To fix the problem, it is sufficient to add this line:
    
    dep_option(SNDIO_SHARED        "Dynamically load the sndio audio API" ${UNIX_SYS} ON "SNDIO" OFF)
    
    I've verified that this fixes the bug, and sndio can now be dynamically loaded as expected.

commit 2303d9218805f77efa95d840f2d7abc42c19105b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 16:28:56 2020 -0700

    Fixed bug 5145 - Fix whitespace in SDL_vulkan.h
    
    Colin Caine
    
    Everywhere else seems to use spaces.
    
    See patch diffed from a fresh hg checkout yesterday.

commit 77b0dad271470a458c24c9018bfbdc090f9806c1
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Mon May 25 20:55:29 2020 -0700

    cocoa: Change Caps Lock behavior to toggle instead of locking
    
    It currently behaves like a locking key which is pressed
    when Caps Lock is enabled and released when disabled. This
    means that apps that trigger events on Caps Lock key down will
    only fire these events every other time Caps Lock is pressed.

commit bdfd1b68ba169d6f6dc37d59efc4858aaf96b61e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 16:02:49 2020 -0700

    Fixed bug 5146 - SDL_RenderFillRect doesn't work in DirectFB
    
    Lacky
    
    It looks like refactoring of SDL2 internal API has broken SDL_RenderFillRect for DirectFB. In new version function SDL_RenderFillRect returns 0, but rectangle is not visible.
    
    Replacing "count" with "len" in the argument list for SDL_memcpy in DirectFB_QueueFillRects fixes problem.

commit a6ca61d732768568b8d9ee6657047c2400d2149c
Author: Tudor Brindus <me@tbrindus.ca>
Date:   Thu May 21 00:06:09 2020 -0400

    wayland: update pointer position on initial enter event

commit 68e1731e02fab9f94b51bc739932547c3a651ee2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 15:40:17 2020 -0700

    Don't bother logging security exception getting the device serial number
    
    This can happen anytime we haven't opened the device yet

commit eea450bc99925195beb649310d22a9d22dcc6a3f
Author: Sockmonsters <sdlbugs@sockmonsters.com>
Date:   Fri May 29 15:37:03 2020 -0700

    - Added exception handler for the new SecurityException in USBDevice getSerialNumber

commit ae9ff11bae20d9151f589dd8010afa979e38c00a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 14:54:07 2020 -0700

    The zero happens at a higher level now

commit 39c958bbaaf00069a42942c7c1b23df24eabaabc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 14:48:39 2020 -0700

    Initialize the raw_map before getting controller mappings from the driver

commit 2db049473bf6c873d1620f482223dfa84bb2af1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 14:48:05 2020 -0700

    Fixed variable names to be consistent across functions

commit 345b4d7e14a7ac1249bb39fcde71a592f4c66648
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 29 13:37:21 2020 -0700

    Fixed bug 5161 - Autodetect controller mappings based on the Linux Gamepad Specification
    
    Jan Bujak
    
    I wrote a new driver for my gamepad on Linux. I'd like SDL to support it out-of-box, as currently it just treats it as a generic joystick instead of a gamepad. From what I can see the only way to do that is to either 1) pick one of the already supported controllers' PID, VID and button layouts and have my driver send that (effectively lying that it's something else), or 2) submit a preconfigured, hardcoded mapping to SDL.
    
    Both of those, in my opinion, are silly when we already have the Linux Gamepad Specification which standarizes this:
    
    https://www.kernel.org/doc/html/v4.15/input/gamepad.html
    
    Unfortunately SDL doesn't make use of it currently. So I've took it upon myself to add it; patch is in the attachments.
    
    Basically what the patch does is that if SDL finds no built-it controller mappings for a given joystick it then asks the joystick backend to autodetect it, and that uses the relevant evdev bits to figure out which button/axis is which. (See the specs for more details.)
    
    With this patch applied my own driver for my controller works out-of-box with SDL with no extra configuration and is correctly recognized as a gamepad; this is also going to be the case for any other driver which follows the Linux Gamepad Specification.

commit e2dbed9cfe37bf775c705d105f5c47fa6c8ef425
Author: James Legg <jlegg@feralinteractive.com>
Date:   Fri May 29 13:05:37 2020 +0100

    SDL_blit: Fix undefined bitshift operations
    
    Arithmatic operations promote Uint8 to signed int. If the top bit of a
    Uint8 is set, and it is left shifted 24 places, then the result is not
    representable in a signed 32 bit int. This would be undefined behaviour
    on systems where int is 32 bits.

commit 032fa681a8b9599e85da50ba674a35c41ecdab32
Author: Brendan Shanks <bshanks@codeweavers.com>
Date:   Fri Apr 24 14:03:30 2020 -0700

    Add Logitech G29 to steering wheel list

commit aa259ed52d03864e1d8ee2f1c5a4227db15c75ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 15:18:41 2020 -0400

    wayland: Changed output removal in handle_surface_leave()
    
    No longer needs an extra malloc, handles unexpected cases like the same
    output being listed twice.

commit ce7ae4ec8d86cdd37160526d6ebd88e368dfd900
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 14:57:10 2020 -0400

    wayland: Move buffer copy into mime_data_list_add()
    
    It makes it clearer who owns the memory, and more reasonable to free it on
    failure in the creating function.
    
    (and, of course, pacifies static analysis.)

commit 22da9d4d777a1684364390c801d09736a26d5eaa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 14:47:55 2020 -0400

    wayland: assert that mmap() didn't return NULL.
    
    In practice, it never _would_, but in theory it _might_, so this assertion
    tells the static analyzer not to worry about it.

commit 1a1f1704a2b70146621f0253395f17d0a8643527
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:35:43 2020 -0700

    Don't include the iOS joystick driver if joysticks are disabled

commit 57149c2410e774c7c399944ae2682e41a4d2fafa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:27:20 2020 -0700

    Fixed building with --disable-joystick on iOS

commit cf01ee1694ae59c5cb242df8e7a303da38d46a9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:27:04 2020 -0700

    Fixed building with --disable-joystick on Linux

commit e9f567c707931cb9dd9946e5bd49c24796a35f2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:14:08 2020 -0700

    Fixed building on iOS with MFI controllers disabled

commit 97ca96bdee20411681d8bd49ab5fc2fbd06a67f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:13:01 2020 -0700

    Use nil instead of NULL for Objective-C objects

commit 2aec184e367375d9dd91d28d3c281e51dba4acbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 09:57:51 2020 -0700

    Fixed mkdir warning when running iosbuild.sh multiple times

commit 03a7abf80c783dbf95e8d30cf30bf85b0f20e7fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 09:57:26 2020 -0700

    Fixed building with --disable-joystick on macOS

commit af5eb56c7651cdc6fa3fe75cb5618ae9a32e276a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 09:28:03 2020 -0700

    Fixed uninitialized variable warning

commit 31916f11aa54f4157479d9c3354169399b1d56f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 09:22:12 2020 -0700

    Fixed compiler warning building on FreeBSD

commit bcbaa4ec1f6d36cd24fc2cbd2a3bd5b1057f54db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 16:34:50 2020 -0700

    If there isn't a GetGlobalMouseState() implementation, fall back to the normal one.

commit 437577f91e870eb837eef476b5685b05760eed9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 16:29:26 2020 -0700

    Fixed bug 5141 - KMSDRM: manage SDL_GetGlobalMouseState()
    
    Manuel Alfayate Corchete
    
    On the KMSDRM backend, there is no such thing as a desktop, yet some programs could (and DO) use SDL_GetGlobalMouseState().
    So I think its good idea that, in KMSDRM, it returns the same mouse coordinates anyway as SDL_GetMouseState() would return. There is nothing else it could return, as far as I can understand, since there is no desktop anyway.
    This small patch does precisely that.

commit 1df0a1e4971a15a64dacd480a2115742a81dd748
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 16:27:00 2020 -0700

    Fixed bug 5140 - KMSDRM: Dynamic vsync toggle does not work
    
    Manuel Alfayate Corchete
    
    The KMSDRM backend was doing things wrong because of some small (but important) misconceptions on how KMS/DRM works: to implement a largely broken non-vsync refresh mechanism, the SwapWindow() function was issuing new pageflips before previous ones had completed, thus causing EBUSY returns, buffer mismanagement, etc... resulting in general breakage on vsync disabling from apps, that would not allow vsync to work again without KMSDRM video re-initialization.
    To further clarify, on most DRM drivers async pageflips are NOT working nowadays, so all issued pageflips will complete on next VBLANK, NOT ASAP (calling drmModePageFlip() with the DRM_MODE_PAGE_FLIP_ASYNC flag will return error).
    
    The old code was assuming that can just issue a synchronous (=on VBLANK) pageflip and then pass a 0 timeout to the pull() function so we do not wait for the pageflip event, thinking that this will lead to correct non-vsynced screen updates from the program: That is plain wrong.
    Each pageflip has to be waite before issuing a new one, ALWAYS. And if we do not support ASYNC pageflips on the DRM driver level, then we are forced to wait for the next VBLANK. There is no way around it.
    
    I have also added many comments on the KMSDRM code. This is needed for future reference for me or others who may need to look at this code: KMS/DRM terminology regarding what SYNC and ASYNC mean in pageflip terms, and where to do certain things and why, is not trivial. It is not desirable or possible to invest time on researching the same concepts every time there is need to dive into this code. So please leave all these comments in the patch.

commit 15294e21212d679e4a8f8442049c79010dbfb38a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:54:47 2020 -0700

    Fixed iOS build

commit cc2fe84d73e3bdb57fcfc522c19712e3533f39d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:48 2020 -0700

    Getting closer.

commit 0713c5790d9edc16dd48717e8f98c70bbc0bd793
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:44 2020 -0700

    More Linux fixes.

commit c7d1dab1fe8b2f7bb94b1d7e331ea800e39498d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:41 2020 -0700

    Rename Linux-only variable.

commit b820a81ffba5b352e0fc933ea45441e604ae07b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:35 2020 -0700

    Include SDL_hints.h.

commit de866e66063e5e689ed78587e79b02e95c683383
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:29 2020 -0700

    Include SDL_hint.h.

commit abd584185025076b9d90c92ce7ece802c52e7053
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 13:19:19 2020 -0700

    Make some changes to SDL_SetThreadPriority to try and have SDL transparently handle more of the work.
    1. Comment that SDL_SetThreadPriority will make any necessary system changes when applying priority.
    2. Add a hint to override SDL's default behavior for scheduler policy.
    3. Modify the pthreads SDL_SetThreadPriority so that instead of just using the current thread scheduler policy it will change it to a policy that should work best for the requested priority.
    4. Add hint checks in SDL_SetThreadPriority so that #3 can be overridden if desired.
    5. Modify the Linux SDL_SetThreadPriority so that in the case that policy, either by SDL defaults or from the hint, is a realtime policy it uses the realtime rtkit API.
    6. Prior to calling rtkit on Linux make the necessary thread state changes that rtkit requires.  Currently this is done every time as it isn't expected that SDL_SetThreadPriority will be called repeatedly for a thread.

commit f16e6bfa8e31549d00a1a1f140c62c7a7657790c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 25 14:10:51 2020 -0700

    Fixed creating a metal renderer without specifying a metal window

commit f176d7fda0b1139260f24b16a7038d0b09211327
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 22 16:45:02 2020 -0700

    Added a note not to use XinputUap.dll for XInput support

commit 600a2fc7c39ef0cea2ce8e82d9b90c5ba9c15762
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 21 04:01:37 2020 -0400

    locale: Removed unused variable.

commit a299fdd7894706c5abb95b18e6ce0bd52ccef20a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 21 03:52:48 2020 -0400

    sensor: Fixed compiler warnings on mingw64.

commit ba11122ea0e2dee057306d386c4fe50f0781fdb7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 21 03:48:56 2020 -0400

    locale: Fixed compiler warning on Visual Studio.

commit b4e76b58e74aaf82d57f9cb078d9acd1fc3eb25f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 17:32:23 2020 -0400

    sensor: Fix overaggressive search/replace.  :)

commit 27c38eb22e7cae5c0ecf2fa795f3ef1355c22e89
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 17:22:52 2020 -0400

    sensor: Correct fix for redefinition of various symbols.

commit 5fe34a4079fb65ff9fe55ab0220632659e8b72fe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 17:01:25 2020 -0400

    hidapi: Fix compiler warning.

commit c9d358bce954c32299f25569cbad234327944f19
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 16:59:35 2020 -0400

    sensor: Fix build on various Windows compilers with various predefinitions.

commit 68777406e57c52e5d5781bd6e22450e5ebaff256
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 16:58:33 2020 -0400

    windows: Fix calls to CoCreateInstance() so last parameter is a LPVOID *.

commit 539125b89598704471b9449148fc323e1abd5846
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 16:43:02 2020 -0400

    locale: Fixed compiler warning on WinRT.

commit 8bd3b2c80118d582dec4c1d74a755944d64f4628
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 16:34:19 2020 -0400

    configure: fix fcitx tests.
    
    Otherwise Unix systems without D-Bus support will attempt to compile sources
    they can't handle.

commit d66b73666da90517e9c358937d219d7f281d1052
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 20 16:15:14 2020 -0400

    locale: Patched to compile on Windows Phone.

commit a5c654d5c3624f80d165912fb4fe36955032eed4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 13:22:01 2020 -0400

    configure: Just don't do the -idirafter on QNX.
    
    The compiler understands it, but the "qcc" compiler driver doesn't, and the
    standard Khronos headers upset QNX anyhow, since they try to include X11
    headers in the __unix__ section.

commit 72fdc8051204aadbd443a138eb7b1e9ba277286a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 12:30:26 2020 -0400

    configure: -idirafter needs a space, -I doesn't.
    
    Some compilers are apparently quite cranky about the -I not having a space!

commit 475afe216276babeb6167b1ca8b63d126473c875
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 12:08:05 2020 -0400

    configure: Do a real check for -idirafter anyhow.
    
    (The CMake project cheats around this by asking "are we GCC or Clang?" and I'm
    inclined to leave it like that for now.)

commit 2f565b4469ec2b6cbe2e8fbde746535fbb3a8965
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 11:52:15 2020 -0400

    configure: Regenerate configure script.

commit 0e08d237933111736fb9c2102f802e3c30139705
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 11:48:22 2020 -0400

    configure: Not all compilers understand -idirafter, use -I instead.
    
    If this is a problem, we can write a test for the compiler flag, but shouldn't
    we _always_ use our Khronos headers instead of depending on the system...?

commit da54eb7c3ae835790339388cd86960417a948aed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 11:38:18 2020 -0400

    checker-buildbot.bat: Removed. This is clearly not going to work like this.

commit 24a76b278aee3c7e4308d815ec3b35a01aa160a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 04:01:03 2020 -0400

    build-scripts: Attempt at a static analysis batch file for Windows.

commit 3808b120dcd80a7a5eb1a2ab52fd1de40a93c7eb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 03:14:46 2020 -0400

    locale: Make sure C++ implementations (Haiku!) use C linkage.

commit 20ed8019c98a08e4ed4188294d1977b3396b60db
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 02:59:02 2020 -0400

    os2-buildbot.sh: Fix upload path.

commit a1d7410ff8c486b7f16f5b94495de8979884cd87
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 02:56:02 2020 -0400

    windows-buildbot-zipper.bat: Attempt to update for new buildbot.

commit 863776f8dda7ddf723c8954eef1064a7d60f8666
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 01:19:52 2020 -0400

    haiku: Another attempt at fixing build.

commit e53d39cf359b13a5edc99abc61b3b1f59a8de42b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 19 00:09:59 2020 -0400

    haiku: Patched to compile.

commit e11a665cd6fdb7bc93cb49df8c47bf3eb7de124a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 21:20:11 2020 -0400

    raspberrypi-buildbot.sh: Fix output directory.

commit 9db4e6ed35097d978c38ba7263c2addb5993c362
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 21:10:20 2020 -0400

    os2-buildbot.sh: Fix output directory.

commit 3195551b2ec2f649cf16ff774d9fa9c25095a12e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 21:07:02 2020 -0400

    xcode: make sure locale sources are used in all targets.

commit 7558d960b68d68ebb3463ac87ff49221ffb4890b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 20:18:34 2020 -0400

    OS/2: Forgot to add locale source dir to makefile.

commit c26c348a3208c15005dd29f0342186e5d80cc405
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 20:06:16 2020 -0400

    raspberrypi-buildbot.sh: Leave files in the right place, don't nuke build dir.

commit b0f41e14213561889c31d83081178cda034136da
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 20:02:11 2020 -0400

    emscripten-buildbot.sh: Leave files in the right place, don't nuke build dir.

commit 5358882b104333d4be0fd2e36898082f3c8fbb2d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 16:33:29 2020 -0400

    emscripten-buildbot.sh: the SDK path changed on the new build worker.

commit 4c883383d41de523f965eb85fb1dd7a74d3720bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 15:52:51 2020 -0400

    checker-buildbot.sh: Use Ninja, not GNU make, and expect scan-build in $PATH.

commit c1ef5497457c38e23bfefbc94c243f3d40a069cd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 18 12:00:22 2020 -0400

    emscripten-buildbot.sh: target WebAssembly instead of asm.js.
    
    Fixes Bugzilla #5132.

commit db4246f695074745d1ffb60c8b90b07f95c722d0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun May 17 21:23:17 2020 +0200

    Only set colorkey, if converted surface has no alpha channel (2979)

commit f6197aec85b160f13eebaf031b4af6c88fd82d45
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun May 17 20:45:55 2020 +0200

    Fix issue with colorkey, palette and format conversion
    Set the colorkey information on the converted surface.
    Test-case in bug 3826/2979, conflicting with bug 4798

commit 39690a047897e470b68b51732463dc07a786cf5e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 15 21:33:47 2020 +0200

    Fix static analysis warning in SDL_render.c

commit 5b65e0af01873e26673c11da43001e7075986290
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 15 21:12:23 2020 +0200

    Fixed bug 5100 - compilation CMake Android armeabi-v7a (Thanks Steve Robinson!)
    fatal error: 'cpu-features.h' file not found on CMake Android armeabi-v7a

commit d31dac1563890041737789e5b9338cd7d6837270
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 14 21:54:51 2020 -0400

    docs: README-linux.md updated for a modern Ubuntu release.

commit ec2d70364a1418da218c0c115b1c97ff7d0fba17
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 14 21:49:29 2020 -0400

    docs: Fixed README-linux.md's line endings and word wrap.

commit 2d5de8faf9d9537a53a23459788c634e699755c0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 14 21:48:24 2020 -0400

    docs: Linux systems don't need to install wayland-protocols anymore.
    
    We ship the protocol xml files we need with SDL's sources now.

commit daf360e04048cd5bba6b78fa886c3990d0b497ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 13 16:48:42 2020 -0400

    emscripten: Fix crash in SDL_SetWindowTitle().
    
    This patch came from emscripten-ports, thanks!
    
    Fixes Bugzilla #5133.

commit 1a291ab118dab4bcf0d3df0752125583c4594911
Author: Tudor Brindus <me@tbrindus.ca>
Date:   Fri Apr 17 13:55:44 2020 -0400

    wayland: add support for SDL_SetWindowGrab

commit b47f577a9db3d06433a42be0b4e254a833842499
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 11 14:36:23 2020 -0700

    Fixed bug 5098 - macOS CreateWindowFrom doesn't work with high-dpi displays
    
    michaeljosephmaltese
    
    Display ends up taking only 1/4 of the screen area. It needs to call "setWantsBestResolutionOpenGLSurface:highdpi", like when creating a window the normal way.

commit eadc8693dd4a8d47fc63985ef70d082084081bab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 11 14:31:04 2020 -0700

    Fixed bug 5103 - Port fcitx support to both fcitx 4 & 5
    
    wengxt
    
    Due to the new major fcitx version is coming close, the existing code need to be ported to use new Fcitx dbus interface.
    
    The new dbus interface is supported by both fcitx 4 and 5, and has a good side effect, which is that it will work with flatpak for free. Also the patch remove the dependency on fcitx header. Instead, it just hardcodes a few enum value in the code so need to handle the different header for fcitx4 or 5.

commit 33642b47b28bbb326d347f49c8ce6cde42168eff
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 8 21:50:23 2020 +0200

    Android: robustness if locale failed to be detected at start

commit 2491f16f85e7e34f9cd0b55c2f39c255e35ba265
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 8 21:40:28 2020 +0200

    Android: send SDL_LOCALECHANGED when locale changes

commit 2a4ddeeea9b888f84019d73eaa9e847a4c33fafc
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 8 11:15:38 2020 +0200

    Android: fix missing prototype warning

commit 0059ace0b4394fc6e04d9f5edf254b45f1354e78
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri May 8 11:00:51 2020 +0200

    Android: factorize asset manager code (bug 2131 and 4297)

commit fa23e3d00b461b707bdcf4693e231229d3ad863b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 4 02:27:29 2020 -0400

    locale: Implemented SDL_GetPreferredLocales().
    
    This was something I proposed a long time ago, Sylvain Becker did
    additional work on it, then back to me.
    
    Fixes Bugzilla #2131.

commit 1e5dd06f83aa4bcaf060865954311fd35a0f24be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 6 12:19:58 2020 -0700

    Added support for the HORI Real Arcade Pro on Mac OSX and Linux

commit cd2bdaef1cee8f1f01bc987ed840ba855dfd4677
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 6 11:19:52 2020 -0700

    ControllerList: add PDP Faceoff Deluxe Audio Switch Controller and HORI Real Arcade Pro V Switch Edition

commit 0e5b48d2d8412bbec743942b91e4151605f53095
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 6 11:19:47 2020 -0700

    ControllerList: add NACON Revolution Unlimited (and it's dongle) and NACON Daija fight stick.

commit b3a34c94e02949567606a4f2103029c25324cb2b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 6 03:18:25 2020 -0400

    hid: Add Microsoft Precision Mouse to the joystick blacklist.
    
    Same deal as the Razer keyboards, it hangs the enumeration.

commit 85d97410d403ea2664474605aabb03f10c271fe2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 6 03:13:44 2020 -0400

    hid: Cleanup Windows joystick blacklist code, to make additions easier.

commit b0a20a153c50fb08e05831fac7d4e4bc24425f60
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 5 12:48:55 2020 -0400

    stdlib: Fixed compiler warnings about int vs size_t.

commit 0eb6512b537c529690ac2d3b65524c64d65f57e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 4 13:19:26 2020 -0700

    Fixed bug 5121 - Use SDL_calloc instead of calloc in Wayland_CreateWindow
    
    meyraud705
    
    'SDL_Windows::driverdata' of a Wayland window is allocated by calloc in 'Wayland_CreateWindow' but freed by SDL_free in 'Wayland_DestroyWindow'.

commit 65ad45340d23bfa86f0f163dec753b57026c1091
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 4 13:17:43 2020 -0700

    Improvement for bug 3446 - The haptic API does not allow to select the direction axes
    
    meyraud705
    
    I see how the documentation is confusing. I think that the choice of the axis is an implementation detail. The documentation should state the goal of this value, so I propose this wording:
    
        "Use this value to play an effect on the steering wheel axis. This provides
         better compatibility across platforms and devices as SDL will guess the
         correct axis."
    
    Value could even be renamed 'SDL_HAPTIC_STEERING_AXIS'.
    
    For Linux, sending an effect on the X axis with a Logitech wheel works. Others brands don't have driver for Linux as far as I know.

commit 11723411ab0befe4b7331ba11276ed9f59da449a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 4 10:16:10 2020 -0700

    Added support for the Razer Kishi

commit 8601996fbc50a58211190eea7432ef6474ba4476
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 3 22:13:48 2020 -0400

    hints: Allow specifying audio device metadata.
    
    This is only supported on PulseAudio. You can set a description when opening
    your audio device that will show up in pauvcontrol, which lets you set
    per-stream volume levels.
    
    Fixes Bugzilla #4801.

commit 11fef299d1ec8ca702123d3de1f6e2ed3ea554ef
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 3 20:56:18 2020 -0400

    hints: Fixed a doxygen comment.

commit 8b60d39cb00779e0af2c9ccfcbcde8bdf7e26f1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 2 14:43:17 2020 -0700

    Fixed bug 5112 - CMake won't compile in VS2019
    
    dark_sylinc
    
    Trying to build SDL with VS2019 using CMake will encounter a linking error
    
    More specifically:
    
        1>SDL_string.obj : error LNK2019: unresolved external symbol memset referenced in function SDL_vsnprintf_REAL

commit 05a60c2ea35756586c5edafec5f0286fe888bf38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 29 15:32:08 2020 +0000

    Fixed showrev.sh when using the Bourne shell

commit beab15b09ec3254321ea3791e14ef6930a9a4d2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 27 19:12:02 2020 -0700

    Added additional logging to track down why the NVIDIA controller doesn't send the back button

commit b0b12e46ba0798331b7c871b0fe1bdb8e682d8a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 27 13:31:10 2020 -0700

    Fixed running on older versions of iOS

commit 7ac827102a29189a6ac85aca06d58e4f1fef649b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 24 02:06:53 2020 -0400

    cmake: various Haiku settings were accidentally under "if(SDL_VIDEO)"

commit 01fd8130fdb6cfc963c303eb2a646cdaec9e7a26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 23 11:13:02 2020 -0700

    Fixed compiler warning

commit c6b24b4b7c0ef0aa695240cb14afab9c3e4fcb0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 23 11:07:07 2020 -0700

    Added support for the following controllers:
    * 8BitDo N30 Pro 2
    * 8BitDo SN30 Gamepad
    * 8BitDo SN30 Pro+
    * 8BitDo Zero 2
    * SZMY-POWER PC Gamepad
    * ThrustMaster eSwap PRO Controller
    * ZEROPLUS P4 Wired Gamepad
    
    In additional, all 8BitDo controllers use SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS to have the correct mapping based on user preferences.

commit 4727f7941663b8659a8965cee5cbef53354051df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 23 10:13:17 2020 -0700

    Don't use the WGI driver if another driver is already handling the joystick

commit 6ca7f510ae5815b1e97b6330056a13f2c1c57a0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 23 09:35:32 2020 -0700

    Fixed crash trying to get battery status on some devices

commit 0f374b069bfa212c80da4f728066bb5be4b010f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 22 15:42:32 2020 -0700

    Fixed build on older Visual Studio, enable new features on newer Visual Studio

commit 589d636bb9822ffcfeea3bde548abaa587b8bfc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 22 14:57:06 2020 -0700

    Fixed rare crash when creating an X11 window

commit d12ea89c1ecece9381749791432a96326079c4a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 22 10:50:50 2020 -0700

    Added support for the following controllers:
    * PDP Afterglow Switch Controller
    * Thrustmaster ESwap Pro PS4 controller
    * Giotek VX4
    * Generic PS4 controller vid/pid that several knock offs use

commit 3625b83c63965fc80358327eb7c2bc6bd8be2dd9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 01:32:48 2020 -0400

    hid: Add Razer Arctosa keyboard to hid enumeration blacklist.
    
    Hangs SDL, same as the Razer Lycosa.
    
    Fixes Bugzilla #5101.

commit 09ca66bf66d6efcc996ee2ea8b9997f24c3c503d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 01:30:36 2020 -0400

    SDL_error: simplified error string management.
    
    This patch removes deferred error string formatting: now we do it during
    SDL_SetError(), so there's no limit on printf-style arguments used.
    
    Also removes stub for managing error string translations; we don't have the
    facilities to maintain that and the way we set arbitrary error strings
    doesn't really make this practical anyhow.
    
    Since the final error string is set right away and unique to the thread,
    we no longer need a static buffer for legacy SDL_GetError(), and we don't
    have to allocate 5x 128-byte argument fields per-thread. Also, since we now
    use SDL_vsnprintf instead of parsing the format string ourselves, there's a
    lot of code deleted and we have access to more robust formatting powers now.
    
    This does mean the final error strings can't be more than 128 bytes, down
    from the theoretical maximum of around 768, but I think this is probably okay.
    They might truncate but they will always be null-terminated!
    
    Fixes Bugzilla #5092.

commit 67760f0ed7b30bfc9131608520c624a73bc8d8ad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 20 18:58:18 2020 -0400

    joystick: Don't report duplicate recentering events for game controllers.

commit c5f2a1ce4ebf1d3c73e0a4689b4e4375294178ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 20 16:01:36 2020 -0400

    joystick: On disconnect, recenter all game controller inputs.
    
    The joystick layer can't necessarily give us perfect centering, but we know
    that the game controller level has logical absolute idle positions that have
    nothing to do with the physical device.
    
    So send game controller events to make it look like the device is completely
    untouched before sending the final removal event.

commit 116b8c17f263b259dd562d86bb193e4e3534a724
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 19 00:05:54 2020 -0700

    Note which Windows SDK version is required for Windows Gaming Input support

commit aba279289685be3fec7cfd820ae66e2d09479efd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 18 21:41:37 2020 -0700

    Added a Windows Gaming Input joystick driver
    
    This driver supports the Razer Atrox Arcade Stick
    
    Some of the quirks of this driver, inherent in Windows Gaming Input:
    * There will never appear to be controllers connected at startup. You must support hot-plugging in order to see these controllers.
    * You can't read the state of the guide button
    * You can't get controller events in the background

commit b90b59279ed82576045f1383648370ab0f5715fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 17 21:30:58 2020 -0700

    Added support for the Razer Atrox Arcade Stick

commit dbcda0b212e3ace555c7170acb80e4c70e308e69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 17 21:30:56 2020 -0700

    Added support for the Razer Wolverine Ultimate

commit 2b3238550254e49a7052a5d3d47f2eb1fec43fbe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 17 15:08:48 2020 -0700

    Don't send rumble packets too quickly to Nintendo Switch Pro controllers over Bluetooth

commit c02f54a0ed936c1a99d6afb4d6bafc146e16a060
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 17 15:08:46 2020 -0700

    Fixed the default face button mapping for Nintendo Switch Pro controllers

commit eaaa809e407399b0feb10cb80a1bd10cfe0e050c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 15 13:33:09 2020 -0400

    hidapi: Blacklist the Razer Lycosa keyboard from enumeration.
    
    It's not a joystick and it hangs device enumeration.

commit a7a4e16b5b8d9a706e4031523e029f4b1efaa41b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 15 13:31:54 2020 -0400

    haiku: Patched to compile.

commit a990a34ac44003946ea35d020d0b6993da6e024a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 22:26:02 2020 -0700

    Cleanly switch between audio recording, playback, and both, on iOS

commit 14661d3f30f6d7efd17436c19b4b6bcec7625298
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 17:31:31 2020 -0700

    Added support for mousewheel on iOS

commit 2b7ce8c51d96f6ed688094394be5a87a07dcbeaf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 14 18:14:39 2020 -0400

    cmake: Set HAVE_VIDEO_WAYLAND_QT_TOUCH if appropriate (thanks, Michael!).

commit 50b1c19549994c3bd488a73942209ad30ee5d9c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 09:55:33 2020 -0700

    Fixed bug 5091 - Suspicious condition in HIDAPI_DriverXbox360_UpdateXInput
    
    meyraud705
    
    On line 220 of SDL_hidapi_xbox360.c https://hg.libsdl.org/SDL/file/4608f0e6e8e3/src/joystick/hidapi/SDL_hidapi_xbox360.c#l220
    
    if (!XINPUTGETSTATE(user_index, &xinput_state[user_index].state) == ERROR_SUCCESS) {
    
    logical not is only applied to the left hand side of this comparison.
    
    I think you mean:
    if (XINPUTGETSTATE(user_index, &xinput_state[user_index].state) != ERROR_SUCCESS) {

commit 2ae1c0f5d0c503ef9cf7ed3f2303794fce2eef60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 09:52:27 2020 -0700

    Allow Bluetooth headphones for iOS playandrecord mode

commit 2d1f7be270dc4a9f15fb18866f4f53efefdabfcf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 08:43:46 2020 -0700

    Remove development team override for iOS tests

commit b8590f1aecb0f0a73e267d8dafa5eab96865dd45
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 29 15:51:38 2018 -0400

    README-ios: added a note about enabling hidapi.

commit 87917b16a1e79d13c7ef5ed2cb7c68331c67e23e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 07:54:38 2020 -0700

    Removed CoreBluetooth framework dependency as part of fixing bug 4299

commit ed1d855865315d8156014db9335a61451f421535
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 07:41:00 2020 -0700

    Fixed bug 4299 - A recent change requires Core Bluetooth framework on iOS
    
    Caleb Cornett
    
    Just ran into this, and from my testing, whatever re-added the dependency is a _major_ regression. Not only is your app forced to link with CoreBluetooth, but iOS has apparently tightened up security and won't even let you _test_ your app unless it specifies the NSBluetoothAlwaysUsageDescription in an Info.plist. It doesn't even pop up an error message, it just straight up crashes.
    
    Adding the permission isn't a good solution either, since I'd really, really rather not have my app request users' bluetooth to always be enabled, especially if the only apparent reason is for Steam Controller support.

commit f34d2c60ccf83bf55a3267e13a730c9f23a84c0e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 14 07:35:35 2020 -0700

    Added zlib license for Steam Controller headers

commit 3e4856c97fe6baee990e7c397dd0fa3ef935ac4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 23:07:54 2020 -0700

    Fixed mouse button mapping on iOS

commit e1215e857f1be881e8bef04e1a772d0b9d67b2c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 22:50:46 2020 -0700

    Fixed mouse button mapping on iOS

commit dbf7f84fd917ae8921a7ad5b1e0082fed584ad89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 22:29:10 2020 -0700

    Implemented left/right mouse click detection on iOS

commit 171ba00a6acafaef4044bfd7ca54548f5ec7d6e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 19:44:26 2020 -0700

    Hide the mouse cursor appropriately on iOS

commit 9e3b259dec25b535c4586497f3426389bfb2935a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 19:17:28 2020 -0700

    Added virtual joystick sources to the Android build

commit 132f87c3a142b36527573cf4c4191d90451c95bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 22:06:12 2020 -0400

    opengl: Don't try to do Desktop OpenGL stuff if support isn't available.

commit a96d8a43558096e9cc7ec4616e983efaeb52a64f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 22:05:36 2020 -0400

    render: Fixed compiler warning about implicit cast.

commit 6f3fa02e27fe9c1892fd269b353f70a65b193e69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 18:25:38 2020 -0700

    Make sure we're using the bounds of the view for our mouse region

commit cab1ee9cbc11a85891717830346203a593e887a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 15:57:04 2020 -0700

    Don't build iOS mouse support on Apple TV

commit e5d3629931f3c713fec8a7e476d2a06a526f9c95
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 15:46:12 2020 -0700

    Added support for new mouse APIs in iOS 13.4

commit e96b05c395a1fd6d3a20e3ff099f04a6c411620f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 18:21:28 2020 -0400

    egl: Attempt to make this compile on WinRT, etc.

commit 1d8797876abff4ec8d76146e0013dc6551b070f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 13:24:56 2020 -0700

    Fixed implicit linkage to ftol2() on Windows

commit c302c1abb8f59ed8d06316c78a7884fd6ce26da7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 13:24:19 2020 -0700

    Fixed build

commit bf87604ef1cbe7e82ed0e9d116bb3ba9351f173a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 12:33:29 2020 -0700

    Fixed rare crash when unplugging Xbox controller on Windows

commit 952bac7c47302a472f6eb9782b412871c36edbfe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 15:22:09 2020 -0400

    cmake: use check_symbol_exists, not check_function_exists (thanks, Manuel!)
    
    This fixes the problem where we think iOS has fseeko64, etc, but doesn't.
    
    Fixes Bugzilla #4885.

commit c0a875faffce8e5966028cb50532cf25a9a842bc
Author: Conn O'Griofa <connogriofa@gmail.com>
Date:   Mon Apr 13 14:48:38 2020 -0400

    SDL_EGL_ChooseConfig: don't fall through if no matching format exists
    On Raspberry Pi 3 via the VC4 driver in firmware KMS mode, none of the
    found configs match the desired format, causing the function to fall through
    without any config being selected.
    
    Fix by first iterating over the found configs, and if no match exists,
    don't exclude the non-matching configs. This should fix RPI3 and possibly other
    targets without breaking targets that have a matching native format (such as RPI4).

commit 64617d259ac4fe17a629904adeef3b183e96073a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 14:45:40 2020 -0400

    opengl: Convert an int to an SDL_bool.

commit 389c8995d2f8930ee2b6ccc3967f6f00c344f93e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 13 14:44:21 2020 -0400

    opengl: Allow SDL_GL_MakeCurrent() to accept a NULL window (thanks, Martin!).
    
    This allows you to bind surfaceless contexts on a background thread to, for
    example, load assets in a separate context, for platforms that have different
    requirements about sharing surfaces, etc.
    
    Martin's notes on the matter:
    
    "Here's a patch that enables passing NULL windows to SDL_GL_MakeCurrent, if
    the involved APIs allow it. Currently, this is only the case for EGL, and
    even then only if some specific extensions are present (which they usually
    are).
    
    If "surfaceless" contexts are not supported, SDL_GL_MakeCurrent continues to
    generate an error (albeit with a more specific error message than it used to),
    so this should not break anything that wasn't broken before."
    
    (Please see https://bugzilla.libsdl.org/show_bug.cgi?id=3695 for more
    discussion.)
    
    Fixes Bugzilla #3695.

commit e6c640f31419ff60144a667b9d42e33298181b37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 08:18:16 2020 -0700

    Enable the virtual joystick API by default

commit ef147d2e29176dc731e482e75314455523d0c87f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 08:13:50 2020 -0700

    Enable virtual joystick API by default

commit 8a5ee3faf940a32075a9820bac6950bd93881ef4
Author: Jay Petacat <jay@jayschwa.net>
Date:   Sun Apr 12 00:55:52 2020 -0400

    video: NULL out pointer to freed window surface
    
    This behavior matches SDL_RecreateWindow and makes it less likely that
    another piece of code (e.g. a DestroyWindowFramebuffer implementation)
    will attempt to use or free the stale surface pointer.

commit abcc6706fdc3b94e79e2813127a0124865dad7f0
Author: James Le Cuirot <chewi@gentoo.org>
Date:   Sun Apr 12 13:24:36 2020 +0100

    build: Don't duplicate Libs in Libs.private in pkg-config file
    
    pkg-config already prepends Libs to Libs.private when you specify
    --static so there's no need to duplicate them. Most other projects
    don't do this.

commit 99f87a71583bb86329c7fac393819e62772efd4f
Author: James Le Cuirot <chewi@gentoo.org>
Date:   Sat Apr 11 23:38:34 2020 +0100

    build: Merge pkg-config Libs.private into Libs for static-only builds
    
    A project being built entirely statically will call pkg-config with
    --static, which utilises the Libs.private field. Conversely it will
    not use --static when not being built entirely statically, even if
    there is only a static build of SDL available. This will most likely
    cause the build to fail due to underlinking unless we merge the Libs
    fields.
    
    This is what the Meson build system does when it generates pkg-config
    files. This also also follows the behaviour of sdl2-config.
    
    At the same time, the runtime linker flags are not applicable to
    static-only builds so only add them for shared builds.

commit bd7b4f39ed804dd7c6ed06f7255e59dde4b22c46
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 13 08:05:29 2020 -0700

    Partial fix for bug 5086 - CMake builds on Windows broken by sensor support (thanks DominikD!)

commit 0918903f3cc33dc4a15b5eecb24f845e437b645d
Author: hmk <sdl@guu.fi>
Date:   Mon Sep 30 22:54:16 2019 +0300

    render: add a hint for toggling relative scaling
    
    Fixes Bugzilla #4811.

commit aa188048f1b67dcd4a078686248d4dc8a3888403
Author: hmk <sdl@guu.fi>
Date:   Fri Apr 10 12:23:08 2020 -0400

    render: Scale relative mouse motion better for logical sizing
    
    From hmk:
    
    "When scaling is enabled (e.g. via SDL_RenderSetLogicalSize, size not equal
    to window size), mouse motion events are also scaled.  Small motions are
    rounded up (SDL_max() when the value after scaling is less than 1), while
    larger motions are truncated by the floating point -> integer conversion.
    
    https://hg.libsdl.org/SDL/file/b18197f9bf9d/src/render/SDL_render.c#l658
    
    The end result feels something like mouse reverse mouse acceleration + angle
    snapping at low speeds, but less consistent (amount of truncation & rounding
    depends on how fast the mouse is moved) and potentially much worse if the
    scaling factor is large.  This pretty much makes it useless for anything
    where you need precise mouse aiming (think of games).  I suspect this is why
    aiming gets so terrible in some games that let you use scaling to reduce the
    render resolution (e.g. Ion Fury).
    
    With 4x4 scaling, I can reproduce a situation where it takes three fast flicks
    of the mouse across the pad to undo one slow sweep across the pad.  In other
    words, extreme reverse acceleration.  This does not happen when scaling is
    disabled.
    
    Furthermore, any game that uses relative mouse motion events for 3D camera
    rotation probably wants the raw mouse deltas and not a value that depends on
    scaling and resolution and rounding and truncation.  Ideal camera rotation
    just takes mouse input, multiplies it by sensitivity, and adds it to the
    angle-in-radians or whatever measure is used for yaw & pitch.  Pixels and
    screen resolution or window dimensions should not be a part of the equation
    at all, even if it could be implemented without rounding errors.
    
    [...]
    
    This [patch] completely eliminates angle snapping for me, and makes
    sensitivity consistent.  In other words, it's completely usable for, say,
    aiming in a first person shooter."
    
    Partially fixes Bugzilla #4811.

commit d292f6bd4f5e50ed4813cf7deac8aba667059a3c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 10 12:17:14 2020 -0400

    stdlib: Add SDL_trunc and SDL_truncf

commit a791689086631edba43bd792901d81d664f7912e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 10 00:37:35 2020 -0400

    metal: Added some support interfaces to Apple's Metal API (thanks, Caleb!).
    
    Caleb Cornett's comments:
    
    "A few weeks ago, Alex added a partial Metal API to SDL2:
    
    https://hg.libsdl.org/SDL/rev/22c8e7cd8d38
    
    I noticed it was missing a few features that would help Metal become a
    first-class citizen in SDL, so I went ahead and wrote them! Here are the new
    APIs:
    
    1. SDL_WINDOW_METAL flag for SDL_CreateWindow(). This allows the programmer
    to specify that they intend to create a window for use with SDL_MetalView.
    The flag is used to ensure correct usage of the API and to prevent
    accidentally defaulting to OpenGL on iOS.
    
    2. SDL_Metal_GetLayer(). This function takes a SDL_MetalView and returns a
    pointer to the view's backing CAMetalLayer. This simplifies things
    considerably, since in the current version of the SDL_Metal API the
    programmer is required to bridge-cast a SDL_MetalView handle to an NSView or
    UIView (depending on the platform) and then extract the layer from there.
    SDL_Metal_GetLayer automatically handles all of that, making the operation
    simple and cross-platform.
    
    3. SDL_Metal_GetDrawableSize(). This function already exists in the current
    SDL_Metal API (and is used behind-the-scenes for SDL_Vulkan_GetDrawableSize
    on Apple platforms) but was not publicly exposed. My patch exposes this
    function for public use. It works just like you'd expect.
    
    Tested on macOS 10.14 and iOS 12.4."
    
    Fixes Bugzilla #4796.

commit 258d4106532bf6485da408fd9a464e0b8cad4818
Author: Charlie Birks <admin@daftgames.net>
Date:   Thu Apr 9 15:57:12 2020 +0100

    emscripten: Add a few keyCode mappings for German keyboards
    
    From @sy2002 in https://github.com/emscripten-ports/SDL2/issues/108

commit babf010c6077edee10022a1aee7a707a3ea0782f
Author: Charlie Birks <charlie@daftgames.net>
Date:   Thu Apr 9 15:01:47 2020 +0100

    emscripten: Pass canvas id to request_pointer_lock
    Fixes pointer lock with DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1

commit 287772f5e9f8f0cac21f4c58f3016cfcace44f13
Author: Daid <daid303@gmail.com>
Date:   Thu Apr 9 15:01:45 2020 +0100

    emscripten: Let SDL_GetDisplayUsableBounds return the size of the window
    This does not account for scrollbars nor margins. But is much better then returning the full display size when not running fullscreen, but for example in an iframe.

commit fb3df3a18d8f8e7f9a948d2dbca60398b97ea27c
Author: Daid <daid303@gmail.com>
Date:   Thu Apr 9 15:01:41 2020 +0100

    emscripten: Fix the reported keys for the numpad. See https://github.com/emscripten-ports/SDL2/issues/94

commit 44716b02363b4933af7dba8ef43487d4f5991c0b
Author: Sylvain Beucler <beuc@beuc.net>
Date:   Thu Apr 9 15:01:37 2020 +0100

    emscripten: Send SDL_APP_TERMINATING before unload (#88)

commit 0380cbd792026c361f3fa1dc0308fd821d226f54
Author: Beuc <beuc@beuc.net>
Date:   Thu Apr 9 15:01:32 2020 +0100

    emscripten: Typo

commit d4f1b520c924e0951f7bb9326098ea3487e55e4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 19:16:31 2020 -0700

    Added support for press/release hardware keyboard events in iOS 13.4

commit e9c94ac0b39375f20ff1f71e4797a9de0534c3d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 10:27:30 2020 -0700

    Fixed Windows accelerometer data units

commit 3d942ccc15b2b2ee34b20dcbf2b39d9c4d75bee3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 09:02:02 2020 -0700

    Removed debug code

commit 09f552639a98f342455f1baa2b44abf6bb3350c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 09:00:10 2020 -0700

    Fixed memory leak and removed debug code from Windows sensor implementation

commit 55515a8c25006eca9e7c993bd915e837608cef61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 08:42:15 2020 -0700

    SDL: ps4 controller trigger bits on other controllers just mean that there's some activity, not saturation - only force it on if the analog value is 0.

commit ba95fa61522aa4c0600f6ae274c7c22af419db4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 08:42:09 2020 -0700

    Revert "Fix incorrectly terminated MakeThreadHighPriority dbus message"
    
    The first terminator is for input parameters. The second terminator was for the
    output parameters.
    
    If an error occurs when calling MakeThreadHighPriority(), e.g. a bad thread id,
    then the reply from connection_send_with_reply_and_block() will be null.

commit 9cd06ac33f808b15886e0151e74560cbfa34a660
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 08:41:55 2020 -0700

    Add perforce support to showrev.sh
    
    In order to generate meaningful output from SDL_GetRevision()

commit 3180ba81af4357b72845558e45620532863d3d17
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 8 08:34:27 2020 -0700

    First pass at Windows sensor implementation

commit 6e6b517789d1ccf7138f5780c31af82f05e18e8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 23:34:41 2020 -0400

    cocoa: Patched to compile.

commit 8c165adde7698ec77deb2ecf7c355cd3d9cc10d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 23:17:27 2020 -0400

    joystick: Remove force_centering flag; we handle this on disconnect now.

commit fba081e489afe3bbbaf8a27c1d2d6031281ea32a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 14:51:08 2020 -0400

    wasapi: Patched to compile on C89 systems, and use SDL_ceilf instead of ceilf.

commit 4c2be472071bf676390214cb942e4569f57a158f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 14:37:24 2020 -0400

    wasapi: Improve WASAPI audio backend latency (thanks, Anthony!).
    
    Anthony Pesch's notes on his patch:
    
    "Currently, the WASAPI backend creates a stream in shared mode and sets the
    device's callback size to be half of the shared stream's total buffer size.
    
    This works, but doesn't coordinate will with the actual hardware. The hardware
    will raise an interrupt after every period which in turn will signal the
    object being waited on inside of WaitDevice. From my empirical testing, the
    callback size was often larger than the period size and not a multiple of it,
    which resulted in poor latency when trying to time an application based on the
    audio callback. The reason for this looked something like:
    
    * The device's callback would be called and and the audio buffer was filled.
    * WaitDevice would be called.
    * The hardware would raise an interrupt after one period.
    * WaitDevice would resume, see that a a full callback had not been played and
      then wait again.
    * The hardware would raise an interrupt after another period.
    * WaitDevice would resume, see that a full callback + some extra amount had
      been played and then it would again call our callback and this process would
      repeat.
    
    The effect of this is that the pacing between subsequent callbacks is poor -
    sometimes it's called very quickly, sometimes it's called very late.
    
    By matching the callback's size to the stream's period size, the pacing of
    calls to the user callback is improved substantially. I didn't write an actual
    test for this, but my use case for this was my Dreamcast emulator
    (https://redream.io) which uses the audio callback to help drive the emulation
    speed. Without this change and with the default shared stream buffer (which
    has a period of ~10ms) I would get frame times that were between ~3-30
    milliseconds; after this change I get frame times of ~11-22 milliseconds.
    
    Note, this patch also has a change that removes passing a duration to the
    Initialize call. It seems that the default duration used (when 0 is passed)
    does typically match up with the duration returned by GetDevicePeriod, however
    the Initialize docs say:
    
    > To set the buffer to the minimum size required by the engine thread, the
    > client should call Initialize with the hnsBufferDuration parameter set to 0.
    > Following the Initialize call, the client can get the size of the resulting
    > buffer by calling IAudioClient::GetBufferSize.
    
    This change isn't strictly required, but I made it to hopefully rule out
    another source of unexpected latency."
    
    Fixes Bugzilla #4592.

commit 361417c0a4695bab3403e9c381ebaa6183633438
Author: Michael Maltese <michaeljosephmaltese@gmail.com>
Date:   Wed Mar 25 16:40:43 2020 -0700

    cocoa: allow calling CreateWindowFrom on an NSView
    
    This lets applications embed SDL with other widgets surrounding it.
    Already possible on Windows and X11.
    
    Fixes Bugzilla #5060.

commit 8641f6e99d54e10291c4c73aa25ec8e932c50cdb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 14:03:13 2020 -0400

    emscripten: support KaiOS's Left Soft Key and Right Soft Key (thanks, pelya!).
    
    Fixes Bugzilla #5027.

commit 309d6137aee5cb406b9371d6bf6c80d8b09a41ca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 14:01:25 2020 -0400

    cocoa: OpenGL setView and update must be used on main thread (thanks, Tim!).
    
    If called from background threads, use Grand Central Dispatch to use the
    main thread instead. On the main thread, just call them directly.
    
    Fixes Bugzilla #4932.

commit 486f0b6c60a2dec6828cf4e22eb92e02d40fbd8d
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Tue Apr 7 13:49:19 2020 -0400

    configure.ac: Fix stupid autotools errors
    
    Apparently, recent versions of autotools will issue an error if an empty
    description is supplied to AC_DEFINE(). Avoid these errors by just
    adding a space in the square brackets.
    
    Partially fixes Bugzilla #4908.

commit 024698779bf3d946e528409f4dd2fd5efad710a4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 13:30:46 2020 -0400

    wayland: Support wayland compositors with wl_seat version < 5 (thanks, Nia!).
    
    Fixes Bugzilla #5074.

commit 3cb62d52657b4553b9f8b81e2a4ad433b59e364d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 11:17:52 2020 -0700

    Fixed setting the controller name for the RAWINPUT driver

commit e62c25b693e96b04f550b783beb2484b2337eefc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 11:17:22 2020 -0700

    The 0x02ff product ID shows up for new firmware Xbox One controllers using the RAWINPUT driver

commit 88cecee495a4e2b76650fb01e2c5f14bffc6fbb8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 10:14:12 2020 -0700

    Fixed build warning

commit 50cb8e0f04d3a6622c19fe77eb4dd5b8187ae1ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 10:13:08 2020 -0700

    Fixed deadlock in new raw input joystick code
    
    The appropriate locking is done elsewhere, this prevents inverted lock acquisition

commit b6afbe6317d237626f3953b864dc9d96de5ed369
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 09:38:57 2020 -0700

    Added SDL_log.h to SDL_internal.h so logging is available everywhere

commit 488b94cb403abe334ccd7f6439f4acd290630ba6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 7 09:18:19 2020 -0700

    Don't interpret raw input messages with no mouse position
    
    This happens occasionally on touch devices when raw input is enabled

commit 0721931f5b92c96ff19bf936186bc4cf3dac38a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 6 19:21:56 2020 -0700

    Avoid sending regular mouse messages for touch input

commit c760c02c6cd2305abfb88500e834aa0b116b1646
Author: Jay Petacat <jay@jayschwa.net>
Date:   Wed Mar 25 01:34:15 2020 -0400

    Fix some format specifier warnings
    
    The warnings were produced by GCC 9.2.x for x86_64-linux-gnu or
    i386-pc-msdosdjgpp targets.
    
    Most of the fixes involve changing the type of a variable rather than
    the format specifier. For many of the affected test conuter variables,
    a basic int seems sufficient.
    
    Some format specifier warnings still remain for cases where changing
    type or casting seemed inappropriate. Those warnings will probably
    require some new format specifier macros (e.g. SDL_PRIu32).

commit dad73b1f0cfa9eac6703a98d055f6b999f4afaa2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 5 10:47:58 2020 -0700

    Fixed bug 5073 - SDL does not handle URL Schemes in MacOS
    
    Jason
    
    In iOS, URL Events trigger the DropFile event. I would also expect the same event to be fired on the macOS platform but this is not implemented at all in the AppDelegate.

commit 9525f9729a9e345b07d81cda838d58b948662764
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 5 10:44:51 2020 -0700

    Fixed bug 5076 - SDL_netbsdaudio: Add support for 32-bit LPCM
    
    Nia Alarie
    
    The kernel supports this, make SDL expose it so it can be used.

commit e05d92a17db7105c352fce001619f5fea0ed540e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 5 09:01:33 2020 -0700

    Fixed bug 5075 - Don't assume a GL library version number on NetBSD.
    
    Nia Alarie
    
    If you install X as part of NetBSD, the GL library is libGL.so.3, but if you install the GL library later as a package, it's libGL.so.1.

commit d4b561f472b40c37a5111aec9974ee574d19bed9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 5 08:58:47 2020 -0700

    Fixed bug 5015 - SDL_RenderReadPixels on DirectX 11.1 backend seems to be broken
    
    Konrad
    
    It appears that I cannot use SDL_RenderReadPixels on a bound framebuffer (SDL_Texture set as render target) as it simply results in gibberish data. However, drawing that framebuffer into the default target (window surface) does render it correctly. Other backends (OpenGL, software, Direct3D) do work fine.
    
    It looks to me like D3D11_RenderReadPixels just gets the general backbuffer and not the current render target and its backbuffer.
    
    Here is the patch which actually fetches the current render target and its underlying ID3D11Resource which is ID3D11Texture2D.

commit 89fe32ddf91bec36d1469dbd030e7d9e2e0f883d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 5 08:46:59 2020 -0700

    Fixed bug 5072 - Test resources missing when building with SDL_TEST and CMake
    
    DominikD
    
    There are several tests that need resources in the output directory to work:
    * `testiconv` depends on `utf8.txt`
    * `testoverlay2` and `teststreaming` depend on `moose.dat`
    
    This patch adds these two files to the `RESOURCE_FILES` variable.
    
    One could also copy `shapes\*.bmp` over to the output directory for `testshape` to use but this patch doesn't do that for three reasons:
    * executable takes path as an argument and doesn't need these files side by side
    * these are ~45MB and copying them over would cause build directory to swell
    * there are already files in the output directory that can be used with this test (`sample.bmp` and `button.bmp`)

commit f3e609679dd797762e4a9c125f9cded11ac35f12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 2 12:27:29 2020 -0700

    Fixed setting the "playandrecord" audio hint on Apple TV
    
    The Apple TV doesn't have record capability by default, so activating the audio session with AVAudioSessionCategoryPlayAndRecord fails.

commit 378a5cfb61307b2ab70db8c6d850b506cf80d0d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 1 16:39:05 2020 -0700

    Updated thread priorities for Apple operating systems

commit 377f2d35d5b18cd6ac922dafc7180283cf7e804d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 1 13:43:53 2020 -0400

    configure: Remove wayland-protocols check from configure and CMake scripts.
    
    We ship these with SDL now, don't need the system versions installed.

commit ccc8c5d2cf7ad1d771a1c6de7dadf6f8f27071bb
Author: Flamefire <git@grundis.de>
Date:   Tue Mar 17 08:46:34 2020 +0100

    Fix shared library suffix on OSX

commit 3154d92473651bd72ea39456d567a0876b55a47a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 30 14:26:21 2020 -0700

    SDL: plumb previously unused digital trigger bits for PS4 controllers. Victrix fight stick only sets these bits and doesn't send the analog values
    
    CR: SamL

commit f4a56d7e61f6c54faf8230fde91280c56f871c5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 30 14:26:15 2020 -0700

    Enable thread-safety features in libdbus
    
    There are multiple SDL APIs that internally sink into dbus calls, e.g. battery
    status, thread priority. If those calls happen in different threads simultaneously
    it can result in dbus crashes.
    
    To abide by dbus's multithreading guidelines we must call dbus_threads_init_default()
    to enable dbus's internal locking mechanisms:
    https://dbus.freedesktop.org/doc/api/html/group__DBusThreads.html#gac7b8a7001befc3eaa8c6b043151008dc
    
    Additionally, access to a DBusMessage must be synchronized between threads.
    SDL was already abiding that guideline as the DBusMessage structs aren't shared.
    
    The following email from the dbus mailing list hints that arbitrating access to
    the DBusConnection on the SDL may also be required:
    https://lists.freedesktop.org/archives/dbus/2017-September/017306.html

commit 2e667a8be93525a73080547eda33f222c3dcad53
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 30 14:26:10 2020 -0700

    Fix incorrectly terminated MakeThreadHighPriority dbus message
    
    Currently the message is double terminated, which results in SDL_DBus_CallMethodInternal()
    incorrectly assuming that the other party is always returning true.
    
    I'm not super familiar with dbus, so I'm not sure if this could also be the cause of this bug:
    https://github.com/ValveSoftware/steam-for-linux/issues/6901

commit 6e7465bd60b2f8971fb84493c76e2b85b4883503
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 28 15:43:55 2020 -0400

    Fixed Bug 4883, redux - connect SDL_GetDisplayDPI to UIKit_GetDisplayDPI
    
    SDL_GetDisplayDPI was failing on iOS, as UIKit_GetDisplayDPI was
    not getting assigned to SDL's internal field in SDL_VideoDevice:
    GetDisplayDPI.

commit 55b4f18e1adfacba9370b6829f4d04a8a557f6d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 29 01:54:00 2020 -0400

    coreaudio: The default SDL audio device now tracks the system output default.
    
    So if you go into System Preferences on a MacBook and toggle between a pair of
    connected bluetooth headphones and built-in internal speakers, SDL will
    switch the device it is playing sound through, to match this setting, on the
    fly.
    
    Likewise if the default output device is a USB thing and is unplugged; as the
    default device changes at the system level, SDL will pick this up and carry
    on with the new default. This is different from our unplug detection for
    specific devices, as in those cases we want to send the app a disconnect
    notification, instead of migrating transparently as we now do for default
    devices.
    
    Note that this should also work for capture devices; if the device changes,
    SDL will start recording from the new default.
    
    Fixes Bugzilla #4851.

commit 46bb47cf04065bc77ae97d026e11e3255d06f4f8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 26 22:14:59 2020 -0400

    thread: Put all important SDL_CreateThread internal data into SDL_Thread.
    
    This avoids the need to malloc something extra, use a semaphore, etc, and
    fixes Emscripten with pthreads support, which might not spin up a web worker
    until after SDL_CreateThread returns and thus can't wait on a semaphore at
    this point in any case.
    
    Fixes Bugzilla #5064.

commit abdc5cbf24375800965624915be597d2aeed5d6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 26 19:30:17 2020 -0700

    Allow background music to play in the "play and record" case on iOS

commit 369e5f33fba36aaeb057d7cc3c06d5cdb8018b2b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 26 20:28:04 2020 -0400

    dbus: System bus is optional, we only need a session bus (thanks, tamo!).
    
    Fixes Bugzilla #4795.

commit 07f231eeae5d11c4eabbfb0f6260fd2014011da4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 26 18:47:04 2020 -0400

    joystick: Make sure recentering events happen before disconnect events.
    
    Fixes Bugzilla #5063.

commit f2ff953ef7c284548a92833b6322dc51f444c902
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 26 13:42:56 2020 -0400

    cocoa: Just update the OpenGL context directly if on the main thread.

commit 9354aea19834ada7ffb90d379600a242a7aa820f
Author: Fabrice Fontaine <fontaine.fabrice@gmail.com>
Date:   Wed Mar 25 09:38:45 2020 -0700

    src/video/kmsdrm/SDL_kmsdrmvideo.c: fix build
    Build is broken without EGL since version 2.0.12 and
    https://hg.libsdl.org/SDL/rev/72cc4740dec2:
    
    /home/giuliobenetti/autobuild/run/instance-1/output-1/build/sdl2-2.0.12/src/video/kmsdrm/SDL_kmsdrmvideo.c: In function 'KMSDRM_CreateSurfaces':
    /home/giuliobenetti/autobuild/run/instance-1/output-1/build/sdl2-2.0.12/src/video/kmsdrm/SDL_kmsdrmvideo.c:394:5: error: unknown type name 'EGLContext'
         EGLContext egl_context;
         ^
    
    Fixes:
     - http://autobuild.buildroot.org/results/fafd20a01591032662f9ca025fcea3478239cf3c
    
    Signed-off-by: Fabrice Fontaine <fontaine.fabrice@gmail.com>

commit a4b0204b1a0a7fe5f3e5cf0907b9c605a1721567
Author: Fabrice Fontaine <fontaine.fabrice@gmail.com>
Date:   Tue Mar 24 10:05:51 2020 -0700

    src/video/directfb/SDL_DirectFB_render.c: fix build
    Build with directfb is broken due to a spurious '}' and a missing 'E'
    since version 2.0.12 and https://hg.libsdl.org/SDL/rev/4c2dcf490cba:
    
    /home/buildroot/autobuild/run/instance-2/output-1/build/sdl2-2.0.12/src/video/directfb/SDL_DirectFB_render.c: In function 'SetBlendMode':
    /home/buildroot/autobuild/run/instance-2/output-1/build/sdl2-2.0.12/src/video/directfb/SDL_DirectFB_render.c:202:9: error: case label not within a switch statement
      202 |         case SDL_BLENDMODE_MUL:
          |         ^~~~
    
    /home/buildroot/autobuild/run/instance-2/output-1/build/sdl2-2.0.12/src/video/directfb/SDL_DirectFB_render.c:205:67: error: 'DSBF_DSTCOLOR' undeclared (first use in this function); did you mean 'DSBF_DESTCOLOR'?
      205 |             SDL_DFB_CHECK(destsurf->SetSrcBlendFunction(destsurf, DSBF_DSTCOLOR));
          |                                                                   ^~~~~~~~~~~~~
    
    Fixes:
     - http://autobuild.buildroot.org/results/83ccefee68c2800c0544e6f40fa8bc8ee6b67b77
    
    Signed-off-by: Fabrice Fontaine <fontaine.fabrice@gmail.com>

commit 885b3f6948debb2726427a1e9de642b7e73afb93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 23 14:10:25 2020 -0700

    Don't check the HIDAPI driver for the virtual device created by xow

commit 2c02b7410cefdf1602c2ad953541bfa62458bb42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 23 12:10:05 2020 -0700

    Fixed bug 5052 - Interval between SDL_SENSORUPDATE events for gyroscopes is too high
    
    Andrei Kortunov
    
    Hello. I try to implement an application for Android, which uses a new sensors API from 2.0.9 to control a camera rotation via built-in gyroscope, using the code from the test/testsensor.c as an example.
    
    Gyroscope input itself works well, but an interval between SDL_SENSORUPDATE events is about 200ms (the SENSOR_DELAY_NORMAL, I believe), when I need the interval about 20-40ms (the SENSOR_DELAY_GAME or SENSOR_DELAY_FASTEST).

commit 68c7e80dc5446949d733ed6a3d3f9162d657f9af
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 23 14:54:31 2020 -0400

    iOS: fixed bug whereby some SDL testing apps weren't launching
    
    Test apps in Xcode-iOS/Test/TestiPhoneOS.xcodeproj weren't launching
    in the most-recent release of Xcode and the iOS Simulator (version 11.3.1).
    This was caused by their shared Info.plist file not defining a
    CFBundleShortVersionString (as reported by Xcode, when launching a test
    app from within Xcode).

commit e0a270561ff2ccc9edc20f027bd55cc5a61b3ca5
Author: Jay Petacat <jay@jayschwa.net>
Date:   Sun Mar 22 20:09:14 2020 -0400

    Do not overwrite window surface created by driver
    
    If a driver's implementation of CreateWindowFramebuffer sets the window
    surface, use that rather than overwriting it. A driver may set the window
    surface if data cannot be passed via the CreateWindowFramebuffer output
    parameters (e.g. surface palette colors).

commit 1fd548b67ac3eb3e98897c89da283f3829cf47f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 23 11:42:44 2020 -0700

    Fixed building back to Mac OSX using the 10.7 SDK

commit 19a5f4ab5da77cd98c24ac99a0a53b78fe7afe9c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 22 14:32:47 2020 -0400

    opengl: Don't enable/disable texturing except when actually rendering.
    
    Otherwise our cached state goes out of sync when updating a texture. Since
    these state changes aren't necessary, they were removed instead of updating
    the cached state.
    
    Fixes Bugzilla #4998.

commit cb8c91d956e5ac3661ea7de10d0b95b131e09b73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 22 11:01:14 2020 -0700

    Fixed bug 5051 - Switch Pro Controller hidapi driver does not report battery levels when connected via Bluetooth
    
    bluenaxela+sdl
    
    I've noticed that the Switch Pro Controller hidapi driver does not report battery levels when connected via Bluetooth, despite having code for setting joystick->epowerlevel.
    
    This is caused by the driver always using k_eSwitchInputReportIDs_SimpleControllerState via Bluetooth. Using that mode means that the state reports you get back from the controller do not include battery state. Not using the full controller state over Bluetooth effectively makes this driver's support for setting joystick->epowerlevel entirely pointless, only ever reporting SDL_JOYSTICK_POWER_WIRED.
    
    Is there a reason this was set to only use SimpleControllerState via Bluetooth?
    
    I've attached a patch I'm using to allow getting battery level for the Switch Pro Controller.
    
    A couple notes about this patch:
    1) It changes LoadStickCalibration to accept the input_mode that is selected, because that's really what should determine what is used for stick extents, since stick extents differ between the modes.
    2) In my patch I only use FullControllerState when the vid/pid matches the official Switch Pro Controller, as a cautionary measure in case some third-party controllers have problems with FullControllerState mode via Bluetooth (I noticed a HORI Wireless Switch Pad I had seemed to not read controller calibration correctly for stick extents. Maybe it's calibration data was uninitialized on account of having never been used with a Switch? I'm unsure, though if that guess is right maybe SDL2 should be detecting an uninitiated calibration state and using some sensible defaults)

commit f55cbdfd967db0710ea1cef95622ff4a26def88b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 21:05:07 2020 -0700

    Allow Valve devices in driver check, we know they're well behaved controllers

commit 6e646b615699a08eeeec9df73a39965abb384cd2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 20:53:26 2020 -0700

    Removed blacklist entries for devices that aren't game controllers, allow Steam Controllers

commit 5ed71f3bc0a4215cd00709ef4084b9fce36c0886
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Mar 20 13:44:50 2020 -0700

    Only enumerate HID devices on Windows that have gamepad HID usages
    
    There are a number of poorly behaved HID devices that time out on attempts to
    read various strings. Rather than end up on an endless treadmill of blacklisting
    broken devices, reduce our risk by only querying devices that are gamepads.
    SDL_hidapijoystick.c already checks these same usages, so we shouldn't
    exclude any working HID devices (caveat below).
    
    This also makes HidP_GetPreparsedData() and HidP_GetCaps() failure skip
    the device entirely, but that seems desired. If a device can't even return basic
    top-level collection data properly, we want nothing to do with that broken device.
    If we do find devices that work with HIDAPI joystick and fail these calls, we can
    add an exception via VID+PID matching.

commit 106ffd57d88b1bca9ea64cebde19494fed843025
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 20:45:30 2020 -0700

    Fixed bug 5049 - HORI Wireless Switch Pad does not connect properly via Bluetooth
    
    bluenaxela+sdl
    
    The HORI Wireless Switch Pad does not properly connect via bluetooth. I did some debugging and found that the code that tries to control the Home LED causes this controller to disconnect.

commit 269f8215b0d9184689a040a652000b60e4358f94
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 20:40:14 2020 -0700

    Fixed build warning when using mingw-64 - the SDL code doesn't have any undefined symbols

commit 891bd829328c5994af044b3a1fae3f0341fbc33c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 20:33:26 2020 -0700

    Fixed warning building version.rc using mingw-64

commit 1a6f6054c27aedc0fe172cc755e6801b23dd2e08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 19:51:54 2020 -0700

    Regenerated configure with configure.ac changes

commit 417713a75c6def409529852ff2429ffa1226a6a2
Author: Jimb Esser <wasteland@gmail.com>
Date:   Fri Mar 20 19:49:19 2020 -0700

    Probable fix for compile errors on Mac OS and (non-VS) Win32

commit dc36f133b46fa8b7a07943b8664bcd80725ad75a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 19:49:15 2020 -0700

    Backed out changeset c29d04c3fa49

commit 74ba3cb45b8b109b3a293b5397567d14bbde4877
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 19:48:26 2020 -0700

    Backed out changeset c5bb2de42684

commit 2db65a7fe7e45a778af5f5cfbbf066ed8e8b4b28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 19:47:46 2020 -0700

    Fixed compile warnings

commit c63bb51245badba5313db98afa45dd23cce7b7d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 19:42:59 2020 -0700

    Only build raw input support on Windows

commit b6eb09ff13b58882d218e0207ffc282fa128c983
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 15:55:02 2020 -0700

    Updated documentation so people know to set the SDL_HINT_NO_SIGNAL_HANDLERS hint before SDL_Init()

commit 90f9e8f8b69cb4bb9124fbc829adc74dd6fd5201
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 15:13:09 2020 -0400

    egl: Don't use SDL_LoadFunction to get GL entry points on Emscripten.
    
    This results in a dlsym() call, which causes Emscripten to panic if the game
    wasn't explicitly built dlopen support. eglGetProcAddress works just fine on
    this platform, so just let that codepath handle it.

commit f7c9502dfbcf6eef85b246780f9a0ef426ed81b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 20 12:13:26 2020 -0700

    Fixed bug 5044 - CMake messes up hidapi path when project directory contains spaces
    
    Eric Jing
    
    When the project directory path contains spaces, CMake butchers the include path for the hidapi files.
    
    I traced the problem to the cmake/sdlchecks.cmake file at line 1091, which sets flags for the build process. I surrounded the problem flag with double quotes, shown below, and CMake works with spaces in the project directory path.

commit 5b3b55a18129c66699c23bc4db5218025f1dc660
Author: Emir Marincic <learath2@gmail.com>
Date:   Fri Mar 20 11:52:18 2020 +0300

    [NSOpenGLContext update[ is prohibited outside the main thread

commit 7e5340c5ac1a07ff76b4a532e8c534d9c849a4fb
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 17 17:34:24 2020 -0400

    Fix for Bug 5034 - Replugging in a controller crashes on macOS in SDL 2.0.12
    
    This is a multi-part fix, and is the 2nd attempt at a fix for Bug 5034.  Here
    are the problems being addressed:
    
    1. On macOS 10.14.x and earlier, trying to call IOHIDDeviceUnscheduleFromRunLoop
       without a prior, paired call to IOHIDDeviceScheduleWithRunLoop, appears to
       lead to a crash.  A per-device flag has been added to make sure that these
       calls are paired.
    2. DARWIN_JoystickDetect was free'ing its SDL_joystick's hwdata field
       (via FreeDevice) without setting it to NULL, and DARWIN_JoystickRumble wasn't
       checking for a NULL hwdata.  FreeDevice will now set hwdata to NULL and
       DARWIN_JoystickRumble will check for a NULL hwdata.

commit 4c22a21e06421ff943b3e4fc9cf5c477f3109b67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 17 14:18:05 2020 -0700

    Fixed bug 3446 - The haptic API does not allow to select the direction axes
    
    meyraud705
    
    Added Linux implementation, otherwise you get "Unsupported direction type" error.
    Added documentation to explain why one would use SDL_HAPTIC_FIRST_AXIS.

commit e6189f4046f54f81723aca9be831b689f5ff587b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 17 15:47:30 2020 +0100

    Fix warnining implicit declaration of SDL_DetectPalette (Thanks meyraud705)

commit 838bbf1f7a3c5a18a523fa6967222cac732767e9
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 17 09:35:42 2020 +0100

    Fixed bug 5037 - Regression 2.0.12 Alpha value of 0 on palette may become opaque
    (see also bug 3827)

commit 36d58451528d7aad8cdc255d7592442e9e25b7fa
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 17 02:31:47 2020 -0400

    Backout prior fix for Bug 5034, which needs more research
    
    This backs-out the change, https://hg.libsdl.org/SDL/rev/14c961903135

commit 55a2a12ddf837245d8b0b32d3f4641b2e88ee93d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 16 22:34:33 2020 -0700

    Fixed compile warning

commit 9b879a08aafe9b6d06a7d93ee2aa2317d3f331cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 16 19:15:28 2020 -0700

    Fixed compiler warning

commit c2c5d0b392035059fb967d7e7e66dc15a19f52a5
Author: Jimb Esser <wasteland@gmail.com>
Date:   Mon Mar 16 16:52:49 2020 -0700

    Fix compile error

commit 197b14de4a613f15714d252a0a316909fccb1676
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 16 19:24:25 2020 -0400

    Fixed Bug 5034 - Replugging in a controller crashes on macOS in SDL 2.0.12
    
    The Darwin/macOS joystick driver was freeing its joystick's hwdata field
    without zeroing it out in any live instance of SDL_Joystick.

commit 47da53b91d69cbc1471b0104d026632ecc1d31be
Author: Jimb Esser <wasteland@gmail.com>
Date:   Mon Mar 16 14:49:20 2020 -0700

    Fix compiler warnings

commit 8cd08646bba0d8833e5cf6c0bbd8e28b8d1af8de
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 16 17:19:18 2020 -0400

    virtual joysticks: move variable decls to top of function (for C90 compat; Bug 5038)

commit 7379991778d8b9e1360fbf7e5f6a07b2e07dea6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 16 13:28:38 2020 -0700

    Fixed bug 3446 - The haptic API does not allow to select the direction axes
    
    Mathieu Laurendeau
    
    Consider a device supporting effects on multiple axes.
    There's currently no way to play effects against a single-axis direction.
    
    
    A device supporting effects against X and Y may not allow to play effects with a two-axis direction coordinate, even if one of the coordinates is null.
    
    My current (ugly) work around for this is to add a direction type SDL_HAPTIC_X_FORCE to play effects against a X-axis only direction (patch attached).
    
    This issue impacted two GIMX users using the following wheels:
    - Leo Bodnar SimSteering force feedback wheel
    - Accuforce direct drive wheel
    
    Playing constant/spring/damper effects against a X-axis direction worked well for the first wheel, but not for the second one.
    
    A better strategy seems to play the effects against the first axis reported by the DirectInput enumeration.
    
    This strategy also works with Logitech wheels (at least the DFGT).
    
    It's been more than a year that I have the latest patch (playing effects against the first axis only) in the GIMX software. It's being used by thousands of people, mostly for adapting their FFB wheel to the PS4. I had no report that proves this strategy to be wrong.

commit 543994b19309aa370f543f3bc21d3a99e9714e6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 16 12:25:02 2020 -0700

    Fixed bug 4477 - Support more than 4 XInput-capable devices on Windows
    
    Jimb Esser
    
    Add new RawInput controller API, and improved correlation with XInput/WGI
    
    Reorder joystick init so drivers can ask the others if they handle a device reliably
    Do not poll disconnected XInput devices (major perf issue)
    Fix various cases where incorrect correlation could happen
    Simple mechanism for propagating unhandled Guide button presses even before guaranteed correlation
    Correlate by axis motion as well as button presses
    Fix failing to zero other trigger
    Fix SDL_HINT_JOYSTICK_HIDAPI not working if set before calling SDL_Init()
    Add missing device to device names
    Disable RawInput if we have a mismatch of XInput-capable but not RawInput-capable devices
    
    Updated to SDL 2.0.13 code with the following notes:
    New HID driver: xbox360w - no idea what that is, hopefully urelated
    SDL_hidapijoystick.c had been refactored to couple data handling logic with device opening logic and device lists caused some problems, yields slightly uglier integration than previously when the 360 HID device driver was just handling the data.
    SDL_hidapijoystick.c now often pulls the device off of the joystick_hwdata structure for some rumble logic, but it appears that code path is never reached, so probably not a problem.
    Looks like joystick_hwdata was refactored to not include a mutex in other drivers, maintainers may want to do the same refactor here if that's useful for some reason.
    Something changed in how devices get names, so getting generic names.
    Had to fix a (new?) bug where removing an XInput controller caused existing controllers (that moved to a new XInput index) to get identified as 0x045e/0x02fd ("it's probably Bluetooth" in code), rendering the existing HIDAPI_IsDevicePresent and new RAWINPUT_IsDevicePresent unreliable.

commit 4dea340ca785757975598e5e90662ac60381769b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 16 12:23:38 2020 -0700

    Fixed bug 4477 - Support more than 4 XInput-capable devices on Windows
    
    Jimb Esser
    
    Add new RawInput controller API, and improved correlation with XInput/WGI
    
    Reorder joystick init so drivers can ask the others if they handle a device reliably
    Do not poll disconnected XInput devices (major perf issue)
    Fix various cases where incorrect correlation could happen
    Simple mechanism for propagating unhandled Guide button presses even before guaranteed correlation
    Correlate by axis motion as well as button presses
    Fix failing to zero other trigger
    Fix SDL_HINT_JOYSTICK_HIDAPI not working if set before calling SDL_Init()
    Add missing device to device names
    Disable RawInput if we have a mismatch of XInput-capable but not RawInput-capable devices
    
    Updated to SDL 2.0.13 code with the following notes:
    New HID driver: xbox360w - no idea what that is, hopefully urelated
    SDL_hidapijoystick.c had been refactored to couple data handling logic with device opening logic and device lists caused some problems, yields slightly uglier integration than previously when the 360 HID device driver was just handling the data.
    SDL_hidapijoystick.c now often pulls the device off of the joystick_hwdata structure for some rumble logic, but it appears that code path is never reached, so probably not a problem.
    Looks like joystick_hwdata was refactored to not include a mutex in other drivers, maintainers may want to do the same refactor here if that's useful for some reason.
    Something changed in how devices get names, so getting generic names.
    Had to fix a (new?) bug where removing an XInput controller caused existing controllers (that moved to a new XInput index) to get identified as 0x045e/0x02fd ("it's probably Bluetooth" in code), rendering the existing HIDAPI_IsDevicePresent and new RAWINPUT_IsDevicePresent unreliable.

commit cc37ee8a0c31bc2ebc60c8e8b5fc0ca17362087b
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 16 00:21:22 2020 -0400

    virtual joysticks: add autotools-build support (Bug 5028)
    
    Autotools support for virtual-joysticks turns it OFF by default.  To turn it
    on, pass the following into configure: --enable-joystick-virtual

commit 40625c4e795a53ff713cad1164a29f3fa3adc088
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 16:01:19 2020 -0400

    virtual joysticks: MSVC support part 2/2, add file refs to MSVC projects (bug 5028)

commit b2296506bc50796636e4ae3b53bc320e208ca8e4
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 15:05:36 2020 -0400

    virtual joysticks: MSVC support part 1/2, make driver's .c file be uniquely named

commit 513730c49c2c6c832555cae17e7f571ac0a688d7
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 14:40:51 2020 -0400

    iOS: fixed build error when building test apps via Xcode
    
    CoreBluetooth.framework needed to get linked into test apps, all of which
    are currently using statically-linked SDL.

commit 9b1ea290f8a9ccaa9d5f3c120c7f91b8e9baa536
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 14:21:05 2020 -0400

    virtual joysticks: added source files to Xcode projects (Bug 5028)

commit d64761558ccffb2dcf77cc2b7f67203402ee92b7
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 13:35:03 2020 -0400

    virtual joysticks: improved docs for SDL_JoystickSetVirtual* functions

commit cc908756471cde136b2f22b40561cb219e3c413a
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 15 13:25:49 2020 -0400

    virtual joysticks: removed ball support (Bug 5028)

commit 151c8fbf195b5a7c570f1dbb7c11b9a12fcf2378
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 14 17:45:00 2020 -0700

    Fixed build error
    
    Malte Kie?ling
    
    I get a build error in SDL_sysjoystick.c:74 for the merged patch, but its nothing to sweat about, just -Werror=declaration-after-statement doing its usual stuff.

commit 1ff483d1f3cce0d5f63e4008ececbf2fdfc7268e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 21:28:09 2020 -0700

    Added SDL_GetErrorMsg() to get the error message in a thread-safe way

commit 19c348446903d7d5c9005519694cd3944ba7eced
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 19:19:29 2020 -0700

    Fixed slow enumeration when Apple Cinema HD display 30" is plugged in

commit 133b4755863625c9d20a5eaa2ab00f349000db78
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Wed Mar 11 14:17:19 2020 -0400

    Use LIBUSB_CALL for hidapi's read_callback function

commit 2be75c6a61d5612f7773c543f3f6426d6afe82d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 19:08:45 2020 -0700

    Fixed bug 5028 - Virtual Joysticks (new joystick backend)
    
    David Ludwig
    
    I have created a new driver for SDL's Joystick and Game-Controller subsystem: a Virtual driver.  This driver allows one to create a software-based joystick, which to SDL applications will look and react like a real joystick, but whose state can be set programmatically.  A primary use case for this is to help enable developers to add touch-screen joysticks to their apps.
    
    The driver comes with a set of new, public APIs, with functions to attach and detach joysticks, set virtual-joystick state, and to determine if a joystick is a virtual-one.
    
    Use of virtual joysticks goes as such:
    
    1. Attach one or more virtual joysticks by calling SDL_JoystickAttachVirtual.  If successful, this returns the virtual-device's joystick-index.
    2. Open the virtual joysticks (using indicies returned by SDL_JoystickAttachVirtual).
    3. Call any of the SDL_JoystickSetVirtual* functions when joystick-state changes.  Please note that virtual-joystick state will only get applied on the next call to SDL_JoystickUpdate, or when pumping or polling for SDL events (via SDL_PumpEvents or SDL_PollEvent).
    
    
    Here is a listing of the new, public APIs, at present and subject to change:
    
    ------------------------------------------------------------
    
    /**
     * Attaches a new virtual joystick.
     * Returns the joystick's device index, or -1 if an error occurred.
     */
    extern DECLSPEC int SDLCALL SDL_JoystickAttachVirtual(SDL_JoystickType type, int naxes, int nballs, int nbuttons, int nhats);
    
    /**
     * Detaches a virtual joystick
     * Returns 0 on success, or -1 if an error occurred.
     */
    extern DECLSPEC int SDLCALL SDL_JoystickDetachVirtual(int device_index);
    
    /**
     * Indicates whether or not a virtual-joystick is at a given device index.
     */
    extern DECLSPEC SDL_bool SDLCALL SDL_JoystickIsVirtual(int device_index);
    
    /**
     * Set values on an opened, virtual-joystick's controls.
     * Returns 0 on success, -1 on error.
     */
    extern DECLSPEC int SDLCALL SDL_JoystickSetVirtualAxis(SDL_Joystick * joystick, int axis, Sint16 value);
    extern DECLSPEC int SDLCALL SDL_JoystickSetVirtualBall(SDL_Joystick * joystick, int ball, Sint16 xrel, Sint16 yrel);
    extern DECLSPEC int SDLCALL SDL_JoystickSetVirtualButton(SDL_Joystick * joystick, int button, Uint8 value);
    extern DECLSPEC int SDLCALL SDL_JoystickSetVirtualHat(SDL_Joystick * joystick, int hat, Uint8 value);
    
    ------------------------------------------------------------
    
    Miscellaneous notes on the initial patch, which are also subject to change:
    
    1. no test code is present in SDL, yet.  This should, perhaps, change.  Initial development was done with an ImGui-based app, which potentially is too thick for use in SDL-official.  If tests are to be added, what kind of tests?  Automated?  Graphical?
    
    2. virtual game controllers can be created by calling SDL_JoystickAttachVirtual with a joystick-type of SDL_JOYSTICK_TYPE_GAME_CONTROLLER, with naxes (num axes) set to SDL_CONTROLLER_AXIS_MAX, and with nbuttons (num buttons) set to SDL_CONTROLLER_BUTTON_MAX.  When updating their state, values of type SDL_GameControllerAxis or SDL_GameControllerButton can be casted to an int and used for the control-index (in calls to SDL_JoystickSetVirtual* functions).
    
    3. virtual joysticks' guids are mostly all-zeros with the exception of the last two bytes, the first of which is a 'v', to indicate that the guid is a virtual one, and the second of which is a SDL_JoystickType that has been converted into a Uint8.
    
    4. virtual joysticks are ONLY turned into virtual game-controllers if and when their joystick-type is set to SDL_JOYSTICK_TYPE_GAMECONTROLLER.  This is controlled by having SDL's default list of game-controllers have a single entry for a virtual game controller (of guid, "00000000000000000000000000007601", which is subject to the guid-encoding described above).
    
    5. regarding having to call SDL_JoystickUpdate, either directly or indirectly via SDL_PumpEvents or SDL_PollEvents, before new virtual-joystick state becomes active (as specified via SDL_JoystickSetVirtual* function-calls), this was done to match behavior found in SDL's other joystick drivers, almost all of which will only update SDL-state during SDL_JoystickUpdate.
    
    6. the initial patch is based off of SDL 2.0.12
    
    7. the virtual joystick subsystem is disabled by default.  It should be possible to enable it by building with SDL_JOYSTICK_VIRTUAL=1
    
    
    
    Questions, comments, suggestions, or bug reports very welcome!

commit 879f137aec1706cb0baab256a1d9f0b1ea518482
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 19:00:24 2020 -0700

    Added support for the older Xbox One S Bluetooth controller report format

commit d662a659640fc902960be864994cf3f6073e0d86
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 19:00:22 2020 -0700

    Fixed crash if manufacturer or product string is NULL

commit 255c9c23d473f2fcb0067bca1e788271185ed0cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 13:28:33 2020 -0700

    Fixed bug 4921 - Do not swap B/X buttons on GameCube controller unless it's requested
    
    
    The binding for the Mayflash GameCube controller adapter now respects the SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS hint

commit 6318765d54877457045fb3567985028d8610675c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 13:05:43 2020 -0700

    Handle entirely duplicated joystick product names, as well as vendor and product names that start with the name of the vendor, but with different case (e.g. 8bitdo 8BitDo)

commit de2001eeeefefc6c5c98a0c3d5d2fdf461260f61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 13:05:40 2020 -0700

    Fixed binding the D-PAD on the 8BitDo M30 controller

commit cb2f78b12d10b4d59771dcce54b04371b99e4c5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 13:05:38 2020 -0700

    Updated 8BitDo SF30 Pro mapping with hint support, added Android binding for the 8BitDo M30 Gamepad

commit cb986aff9f2aff6f5c5bb89701ef3aa904c3960c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 13:05:32 2020 -0700

    Fixed exception at shutdown if the controllers are closed after the HIDDeviceManager is shutdown

commit 80d075a01a92364d54837b4184beaf2c6d354336
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 13 09:43:48 2020 -0700

    Fixed compiler warnings

commit 5722e88481bd881355952ad9ebf833c09929357b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 12 19:49:33 2020 -0700

    Fixed build warnings

commit c44473ba733153b3b33f0697f7e0dfea3114d135
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 12 19:47:30 2020 -0700

    Unified code to standardize joystick names

commit db3b3a1d8483520c3ede8c45396ea27c67be4b62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 12 19:47:28 2020 -0700

    Added support for SDL hints in the game controller mapping database

commit 93ed3c8baf73594f6445aa449d2f44c82b1bb4b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:25:47 2020 -0700

    Updated SDL to version 2.0.13 for development builds

commit 1102678b6c437db4a475d23d1a1c4950e7926c49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:35:53 2020 -0700

    Added tag release-2.0.12 for changeset 7715fef44900

commit 983bbf9ef3e572a073a6f5877faf1c0b4803527c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:35:31 2020 -0700

    Backed out changeset 51622f74dc85

commit 9fdc6cf307b50df62c074352b62892758f599a00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:34:33 2020 -0700

    Removed Xbox HIDAPI debug code

commit 4fb06a2a38cc14da2502e826e2c36beea74b9de4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:25:47 2020 -0700

    Updated SDL to version 2.0.13 for development builds

commit 5c87b8e1eb78cd87bd5ac57cafbca64dbdd98602
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 18:17:41 2020 -0700

    Added tag release-2.0.12 for changeset 6915d6569091

commit fe9799218555309867cc1b163c9cebdf2193ad3d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 17:35:14 2020 -0700

    Read the buttons on Nintendo Switch and GameCube controllers as they are labeled, and swap them if the applications wants positional button data instead.

commit 4caa6a0688b3a31cb6a2885238f1eba954ce4574
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 16:41:42 2020 -0700

    Fixed bug 4921 - Do not swap B/X buttons on GameCube controller unless it's requested
    
    Ethan Lee
    
    Basically replicating the solution of the Switch Controller's button label issue. Physical layout should take priority unless it's explicitly requested by the user or application!

commit 342f62ca690972a0cc376d5377007f92f5a65a68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 10 16:29:28 2020 -0700

    Fixed bug 5022 - SDL_iconv_string can get stuck in an infinite loop when encountering invalid characters
    
    ciremo6483
    
    In `SDL_iconv_string` the `while (inbytesleft > 0)` loop can end up in a state where it never terminates because the library `iconv` function called from `SDL_iconv` doesn't consume any bytes.
    
    This happened when a `WCHAR_T` input string was being converted to `UTF-8` but contained invalid characters. It would first It would first skip a few bytes due to `case SDL_ICONV_EILSEQ` but when there were 3 bytes remaining of `inbytesleft` `iconv` just didn't consume anything more (but didn't throw an error either).
    
    It just so happens that the Microsoft Classic IntelliMouse `product_string` contains such invalid characters (`"Microsoft? Classic IntelliMouse?"`), meaning the function would get stuck with said mouse plugged in.
    
    A fix for this would be to check if `inbytesleft` was unchanged after an iteration and in that case either decrement the counter like when `SDL_ICONV_EILSEQ` is returned or simply break the loop.

commit 1f4965c8c49fd44eec553aa4a70249308c0519c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 8 21:24:06 2020 -0700

    Fixed warnings building with mingw64

commit 611403dd0eaf15ebf0a1010962a916979461f9cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 8 21:02:40 2020 -0700

    Clarified that the clip rectangle is defined relative to the viewport, and added a clip test to testviewport.c

commit c8c05a9fc3da6f1c3013681a8c5add8ed1ae18b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 8 19:23:21 2020 -0700

    Fixed bug 4991 - Pixel shader problem when recreating a texture for direct3d renderer
    
    
    cmediaplayer
    
    Hi, i already mentioned in the SDL discourse a bug that recreating of a texture occours pixel shader problem on direct3d renderer. There is no problem for direct3d11. You can see the issue by using my app named C Media Player which is available for Windows for free using my web site www.cmediaplayer.com. Just follow the steps:
    
    *Open a media file
    *When playing the file change the scale quality under the video menu.
    *You will see the problem.

commit 367a3561323871e9aad880c0405ca6a0d4188055
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 8 18:56:07 2020 -0700

    Don't release the backbuffer on error, we didn't acquire it.

commit 4e0fb110c805e262d028f815bca95915c4bfc1ec
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Mar 7 19:21:21 2020 -0800

    Clear the old player index slot when moving to a new one

commit 165ccaa85b8a9abaf38ad92e147a3710a0d7d0de
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Mar 7 17:20:04 2020 -0800

    Fix incorrect player index when assigning a joystick the same index twice
    
    Prior to this fix, we would hit the existing_instance >= 0 case and move the joystick
    again to a different index than the one requested by the caller. It also breaks the assumption
    that a SDL_JoystickID is only present in SDL_joystick_players at one location.

commit e152a3cedb70ba5a97e0f507a24b48876ddd0890
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Mar 7 13:59:42 2020 -0800

    direct3d: Don't attempt to create zero sized vertex buffer

commit 467434b92d0ca8f5a691e36059eb1ac673dfd6b2
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Mar 7 13:17:28 2020 -0800

    Added support for indicating player index on DS4 controllers

commit 82be6dd7c919c8d6b6e925294521ba485cc9b689
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 7 08:48:04 2020 -0800

    Fixed regression in bug 4966 - KMSDRM: Add dynamic modeset support
    
    Anthony Pesch
    
    I was just communicating with one of the Retropie developers regarding this.
    
    This change removed the forced window focus change on creation (https://github.com/inolen/SDL-mirror/commit/3534cb3793f4744509f020f1267f510ec7099366) as part of the change no longer assumes there's only a single window being created. This was perhaps an over-aggressive removal.
    
    Due to that change, joystick events are only received if SDL_SetKeyboardFocus is called explicitly, or if the app has specified SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS.
    
    I think that part of my change should be reverted to continue setting mouse / keyboard focus to the window being created. If SDL_WINDOW_INPUT_FOCUS is to be used as an input flag the code could be conditional, but that would still leave existing software broken.

commit 37faac0d815c10dd2abf8491bd743433c446e2cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 5 08:43:16 2020 -0800

    Fixed java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.WindowManager android.app.Activity.getWindowManager()' on a null object reference

commit 27889d0261b4c5b0fdfdac9cb85f08b406bbff94
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Mar 3 12:31:41 2020 -0500

    winrt: Wait for EnumerationCompleted before leaving WASAPI_EnumerateEndpoints

commit e9bc21fba5ac35cab335ea09baad8c5acb4a7bf9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 4 17:10:37 2020 -0800

    Fixed rumble for third-party Nintento Switch Pro controllers
    
    The 8BitDo SF30 Pro Gamepad will generate a single motor pulse for each rumble message, so we need to do this frequently to have continous rumble on this device.

commit 428cfddb4c3c998485eed7b65c69931c12a452f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 4 14:59:44 2020 -0800

    Fixed crash when a controller is disconnected while rumble is pending

commit 281d05a6d12692f0bfae890fa47750488fea360c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 4 09:42:10 2020 -0800

    Fixed handling the guide button with both V1 and V2 of the Xbox One Bluetooth wireless protocols

commit 69a8c8468c211d66ad547a352c4762470298aa36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 4 09:42:08 2020 -0800

    Fixed using more than one Xbox Bluetooth controller
    Don't prevent duplicate devices using hidraw, instead libusb takes precedence and all hidraw devices that aren't handled by libusb are available

commit 2a91f682b556ceac3e6f28705a8d2e66ee6a936c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 3 17:56:33 2020 -0800

    Fixed bug 5012 - KaiOS keycodes support
    
    pelya
    
    KaiOS is an OS for feature phones, with numeric keypad and non-touch screen, and typically 512 Mb RAM and 4 Gb flash.
    It is based on Firefox OS, all apps are made with HTML5 and Javascript. SDL can be cross-compiled using emscripten and packaged as native app.
    This patch adds support for star '*' and pound '#' keys on such phones to generate SDL events.

commit 96836ec643b2b01d459ebaa6dae559acae7caec1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 3 09:22:43 2020 -0800

    Add 500ms max wait time for hid_write to complete on Windows
    It appears that with some (presumably) flaky drivers or hardware that the WriteFile in hid_write never completes leading to GetOverlappedResult to block forever waiting for it.

commit 07000bfc331448ce03e56b67de45cde3eb9e45aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 17:31:58 2020 -0800

    Fixed bug 5010 - SDL_Init with SDL_INIT_JOYSTICK hangs for 10 seconds when playing audio from another application
    
    Jake Breen
    
    I have tracked it down to a call on
    hid_device_info() -> HidD_GetManufacturerString (Line 499 in src\hidapi\windows\hid.c)

commit c7a739bef4c20b280523e3362170201ccb4a2960
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 15:24:10 2020 -0800

    Fixed bug 4643 - Append EGL CFLAGS in CheckOpenGLESX11
    
    Danilo Spinella
    
    EGL need -DMESA_EGL_NO_X11_HEADERS in systems without X11 installed. Make CMake checks import EGL CFLAGS.
    
    Relevant bug: https://bugzilla.libsdl.org/show_bug.cgi?id=4243

commit aa384ad02b6e93ceb38c88ea2f3a8079bf0a0b64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 15:21:07 2020 -0800

    Fixed bug 5001 - Feature request: SDL_isupper & SDL_islower

commit a8f91340c8fb421f396aad473b66492e3072a190
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 15:14:52 2020 -0800

    Updated configure with change from last commit

commit 11b63facd52ddf77f73facff164df1f171e3511e
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Mon Mar 2 15:14:02 2020 -0800

    Prevent Mesa from including X11 headers if X11 is disabled
    This fixes compilation errors that occur when trying to compile SDL2 for
    a X11-less target. The errors were due to the fact that Mesa will
    include X11 headers unless a couple of macros are defined.
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit 3b3ae4d14df68e09ba0dab0f657da8512215b02e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 15:06:47 2020 -0800

    Possible fix for bug 5010 - SDL_Init with SDL_INIT_JOYSTICK hangs for 10 seconds when playing audio from another application
    
    Jake Breen
    
    When I run SDL_INIT with SDL_INIT_JOYSTICK it stalls for about 10 seconds (last report was 10,615ms), but only if I'm currently playing audio. (Like in Spotify for example.)
    
    querying something related to device access (last dll loaded)
    'BabbysFirst64.exe' (Win32): Loaded 'C:\Windows\SysWOW64\deviceaccess.dll'.
    
    I use a USB DAC because my mobo's audio out is pretty not great. And I've noticed unplugging it seems to solve the issue. I haven't noticed any other issues that are caused by my DAC.
    
    My DAC is the Sound BlasterX G1 https://us.creative.com/p/gaming-headsets/sound-blasterx-g1
    Vid = 041E
    PID = 3249
    
    My system specs:
    - Windows 10 Pro
    - Ryzen 2700x
    - 16GB Ram
    - Nvidia 2070 RTX
    
    Additional USB devices plugged in:
    - Valve Index
    - Xbox One Elite Controller

commit a19757ac8defbd380715e958bac8e25ea6edb3d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 14:55:40 2020 -0800

    Fixed bug 5007 - Segfault in KMSDRM_VideoQuit() on Raspberry Pi Zero with no display attached
    
    Charles Huber
    
    This patch fixes the segfault on my Pi, though the valid display index range reported by the CHECK_DISPLAY_INDEX() macro in src/video/SDL_video.c is a little weird:
    
    $ SDL_VIDEO_EGL_DRIVER=libEGL.so SDL_VIDEO_GL_DRIVER=libGLESv2.so ./a.out
    SDL_Init(): displayIndex must be in the range 0 - -1

commit f00ddd0a389bd9d2ad5594d8dd8faf2c05439d70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 11:39:44 2020 -0800

    Updated WhatsNew.txt with SDL 2.0.12 release notes

commit 25061816bf496889e0b13f317c8c8aa45b195c19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 10:58:08 2020 -0800

    Fixed compile warning

commit eb19631a1e0fec8123b01cf24706dbaec8f4bb5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 10:57:57 2020 -0800

    This controller firmware is supported on Windows, and is covered by the Bluetooth check on Mac OSX

commit 49564c8b8dc02ed21888963f1808a67b580811a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 10:47:48 2020 -0800

    Added support for the PDP Victrix Pro FS with Touch Pad for PS4

commit 4572dd2ae6e13836cd40ede273d840b06014996a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 10:37:28 2020 -0800

    Fixed bug 4854 - Add a way to extend the values in controller_type.h
    
    Added a hint SDL_HINT_GAMECONTROLLERTYPE to allow overriding the built-in controller type database

commit 27f346a058a91149f9e2b26304c8f77d423ff0e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 09:46:37 2020 -0800

    Fixed compile warning

commit 339612d5afdef86462a1cb68918e77b58984c670
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 09:35:12 2020 -0800

    ControllerList: add support for Victrix Pro FS w/ Touchpad for PS4

commit 52be663380fbedf2f9c6dddbcb6ec84e04532424
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 09:35:09 2020 -0800

    Use SDL math functions in Steam Controller support

commit 756d2073fe6bc6440698895c66ef0fdc7ca162da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 09:26:12 2020 -0800

    Updated the HIDAPI Xbox One driver with support for Bluetooth Xbox One controllers

commit 997f3e9e82932f369565c0954c2e417908c13229
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 2 09:03:55 2020 -0800

    Fixed build warnings

commit 11a84e4fa865c5d4e2ade74a98f61a3a8318b29b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 18:16:15 2020 -0800

    Make sure hidapi is built for the release DMG

commit bebc48677420472d708c55376eba372c395fdb49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 17:53:30 2020 -0800

    We already have a hidapi implementation for Windows, we don't need libusb

commit 74ed215618a82a3f1601431921af9fc4f09a9fff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 14:58:16 2020 -0800

    Updated version to 2.0.12 for release candidate build

commit 6590d078d78354acc1fabebdd35cf8c9ddbf383e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 14:52:49 2020 -0800

    Fixed bug 4996 - Mac: XBoxOne Bluetooth rumble isn't working
    
    rofferom
    
    I have an annoying issue on MacOS about XBoxOne Bluetooth rumble (Vendor: 0x045e, Product: 0x02fd).
    
    When 360controller is installed, rumble is working correctly. However, Bluetooth rumble isn't working at all, with or without 360controller installed (although it is working with Chrome + https://html5gamepad.com).
    
    I looked at the code, and it seems that XBox controllers are managed in MacOS in this file: SDL_hidapi_xbox360.c. The XBoxOne file is disabled for MacOS in SDL_hidjoystick_c.h.
    
    The function HIDAPI_DriverXbox360_Rumble() is called correctly, and hid_write() returns no error.
    
    I have tried a stupid test. I took the rumble packet from 360controller: https://github.com/360Controller/360Controller/blob/ec4e88eb2d2535e9b32561c702f42fb22b0a7f99/XBOBTFF/FFDriver.cpp#L620. With the patch I have attached, I manage to have rumble working on Bluetooth (with some stupid vibration level, but it proves it can if the packet is changed).
    
    But it breaks the USB rumble with 360controller. A comment in the function makes an explicit reference to 360controller, I think that's why I have broken this specific usecase.
    
    I don't know what is the correct way to fix this, but it seems that the current implementation has a missing case for Bluetooth support.
    
    
    Note that I also tested master this morning, and I have another issue:
        if (!device->ffservice) {
            return SDL_Unsupported();
        }
    
    test fails in DARWIN_JoystickRumble(). This test has been done quickly, I'm not totaly confident about its accuracy.

commit 534621636845137e72df2000a4e5e2aacfec90a3
Author: Romain Roff? <rofferom@gmail.com>
Date:   Sun Mar 1 13:01:53 2020 -0800

    mac: Fix gamepad detection

commit 51e9e98451c5d842ff15f4d638de7b6ddb4fd1fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 13:00:50 2020 -0800

    Fixed whitespace

commit 8a6f1aa5f5947c3e3e7a0bbf8bb2d9f6842d024d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 12:58:50 2020 -0800

    Fixed bug 4369 - Going fullscreen with green knob in MacOS freezes app for 15 seconds.
    
    
    Elmar
    
    creating a fullscreen window with SDL_CreateWindow(..SDL_WINDOW_FULLSCREEN_DESKTOP..) in MacOS works fine, except if it was triggered by the user with the green knob in the top left window title bar.
    
    Then "something" is different, and SDL_CreateWindow hangs for 15-20 seconds (tested in MacOS 10.13 and 10.14).
    
    Responsible for the hang is this code in SDL_cocoawindow.m - Cocoa_SetWindowFullscreenSpace:
    
            const int maxattempts = 3;
            int attempt = 0;
            while (++attempt <= maxattempts) {
                /* Wait for the transition to complete, so application changes
                 take effect properly (e.g. setting the window size, etc.)
                 */
                const int limit = 10000;
                int count = 0;
                while ([data->listener isInFullscreenSpaceTransition]) {
                    if ( ++count == limit ) {
                        /* Uh oh, transition isn't completing. Should we assert? */
                        break;
                    }
                    SDL_Delay(1);
                    SDL_PumpEvents();
                }
                if ([data->listener isInFullscreenSpace] == (state ? YES : NO))
                    break;
                /* Try again, the last attempt was interrupted by user gestures */
                if (![data->listener setFullscreenSpace:(state ? YES : NO)])
                    break; /* ??? */
            }
    
    One trivial workaround is to change 'const int limit = 10000' to 500. Then the freeze is so short that it doesn't look like a freeze to the user.
    
    Looking further into the problem, I observed that the function Cocoa_SetWindowFullscreenSpace recursively calls itself via some ObjectiveC messages. I managed to extract a callstack for this (copied below): Note how Cocoa_SetWindowFullscreenSpace in stack line 22 calls SDL_PumpEvents, which eventually arrives at  SDL_SendWindowEvent, which calls SDL_UpdateFullscreenMode (stack line 0), which then calls Cocoa_SetWindowFullscreenSpace again (not shown). This recursive second call is the one that hangs.
    
    Another "solution" that worked for me was to add a flag to SDL_Window that is set in Cocoa_SetWindowFullscreenSpace and causes this function to return immediately if called from itself.
    
    Obviously, this is also an ugly hack, but I don't have enough time to dive into this crazy Cocoa/ObjectiveC business deep enough to find a proper solution. But hopefully it's easy for one of the experts around.
    
    Note that there is a "failure to go fullscreen"-message involved, maybe using the green knob causes this failure at first.
    
    I can unfortunately not provide a minimum example.
    
    Best regards,
    Elmar
    
    0   com.yasara.View                     0x00000001007495af SDL_UpdateFullscreenMode + 207
    1   com.yasara.View                     0x00000001006e2591 SDL_SendWindowEvent + 401
    2   com.yasara.View                     0x0000000100775a72 -[Cocoa_WindowListener windowDidResize:] + 370
    3   com.yasara.View                     0x0000000100776550 -[Cocoa_WindowListener windowDidExitFullScreen:] + 512
    4   com.apple.AppKit                    0x00007fff3180a2a4 -[_NSWindowEnterFullScreenTransitionController failedToEnterFullScreen] + 692
    5   com.apple.AppKit                    0x00007fff31c59737 -[_NSEnterFullScreenTransitionController _doFailedToEnterFullScreen] + 349
    6   com.apple.AppKit                    0x00007fff3172aa53 __NSFullScreenDockConnectionSendEnterForSpace_block_invoke + 135
    7   libxpc.dylib                        0x00007fff6114b9b1 _xpc_connection_reply_callout + 36
    8   libxpc.dylib                        0x00007fff6114b938 _xpc_connection_call_reply_async + 82
    9   libdispatch.dylib                   0x00007fff60ec7e39 _dispatch_client_callout3 + 8
    10  libdispatch.dylib                   0x00007fff60ede3b0 _dispatch_mach_msg_async_reply_invoke + 322
    11  libdispatch.dylib                   0x00007fff60ed2e25 _dispatch_main_queue_callback_4CF + 807
    12  com.apple.CoreFoundation            0x00007fff33d39e8b __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
    13  com.apple.CoreFoundation            0x00007fff33d3959a __CFRunLoopRun + 2335
    14  com.apple.CoreFoundation            0x00007fff33d38a28 CFRunLoopRunSpecific + 463
    15  com.apple.HIToolbox                 0x00007fff32fd1b35 RunCurrentEventLoopInMode + 293
    16  com.apple.HIToolbox                 0x00007fff32fd1774 ReceiveNextEventCommon + 371
    17  com.apple.HIToolbox                 0x00007fff32fd15e8 _BlockUntilNextEventMatchingListInModeWithFilter + 64
    18  com.apple.AppKit                    0x00007fff3128deb7 _DPSNextEvent + 997
    19  com.apple.AppKit                    0x00007fff3128cc56 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1362
    20  com.yasara.View                     0x000000010076fab2 Cocoa_PumpEvents + 290
    21  com.yasara.View                     0x00000001006dd1c7 SDL_PumpEvents_REAL + 23
    22  com.yasara.View                     0x00000001007795cf Cocoa_SetWindowFullscreenSpace + 223
    23  com.yasara.View                     0x000000010074970b SDL_UpdateFullscreenMode + 555
    24  com.yasara.View                     0x00000001006e2476 SDL_SendWindowEvent + 118
    25  com.yasara.View                     0x0000000100774ff7 -[Cocoa_WindowListener resumeVisibleObservation] + 135
    26  com.yasara.View                     0x000000010077664c Cocoa_ShowWindow + 188
    27  com.yasara.View                     0x0000000100749492 SDL_FinishWindowCreation + 546
    28  com.yasara.View                     0x0000000100748da5 SDL_CreateWindow_REAL + 1573
    29  com.yasara.View                     0x000000010010d9b1 vga_setvideomode + 1347
    30  com.yasara.View                     0x00000001003f0d46 mod_initscreen + 2614
    31  com.yasara.View                     0x00000001003f344b mod_reinitscreen + 460
    32  com.yasara.View                     0x00000001003f370d mod_resizescreen + 383
    33  com.yasara.View                     0x0000000100418e39 mod_main + 815
    34  com.yasara.View                     0x000000010029ca5d main2 + 5766
    35  com.yasara.View                     0x000000010011d1b7 main.main_cpuok + 19

commit bd5da73afd831e0c82ed5b9d11cfcd09ed6b59c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 1 12:50:42 2020 -0800

    Fixed bug 4992 - UWP/WinRT does not set thread priority when using SDL_SetThreadPriority
    
    Ethan Lee
    
    Attached is a diff that I used to get SetThreadPriority working locally. I still have no idea what the minimum SDK version is since Microsoft never documented it, but it's worth pointing out that they're much more aggressive about using the latest VS and UWP SDK anyway (for example, an updated Xbox is no longer compatible with VS2017, and updates are required to have a network connection of any kind).

commit 1af31a26d180e8c92610f2abd90e8581f59cf4e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 27 13:53:32 2020 -0800

    Fixed trying to handle the HORI Wireless Switch Pad when connected via USB

commit 20d67446e023b9204cc8eaef6338269388ebb9b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 27 09:33:32 2020 -0800

    Xbox One controller rumble doesn't need synchronization if you use a packet counter of 0

commit 2cd88ddf99ed3a3f19670eab95c45ff56d14256f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 27 09:32:03 2020 -0800

    Temporarily disabled NEON optimizations added for bug 4365
    The ABGR to ARGB blit results in an empty surface, this needs to be looked at.

commit 9013c9169c089d7b2a35b7c6050128980b6e1e77
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 27 08:20:34 2020 -0800

    Fixed bug 5005 - warnings in kmsdrm
    
    Malte Kie?ling
    
    At the moment i get following warnings from kmsdrm:
    
     * in SDL_kmsdrmvideo.c KMSDRM_DestroySurfaces is return type int, but thats never returned or checked against
     * in SDL_kmsdrmvideo.c KMSDRM_DestroySurfaces the variable viddata is not used
     * in SDL_kmsdrmopengles.c KMSDRM_GLES_LoadLibrary a cast to NativeDisplayType is missing
    
    I attached a patch for them :)

commit 7f26ff237de8f247f09db78a680f6efebce05e7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 27 08:18:20 2020 -0800

    Fixed bug 4987 - Can't build on MinGW a recent state (15'th February, 2020): conflicting types

commit cbd1a2f7dcc6ae4bd1b14b4ecec7d3fc579c8333
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 25 14:52:03 2020 -0500

    cmake: Forgot to add this file to revision control.
    
    Fixes Bugzilla #5003.

commit 21a2e0c787cb3bbbca5dcab9320bd3e3dedbe5ac
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Feb 25 06:53:51 2020 +0100

    Fix compilation C90 mixed declarations and code (Thanks Cameron Gutman !)

commit e2b132ca747cbb23b1eb863b8458be7e573877d5
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 24 21:57:03 2020 +0100

    Better fix to set the palette opaque, when there is also a colorkey
    (see bug 3827)

commit e3b0713e40b94b3f0240109ecee53232c616056e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 12:07:18 2020 -0800

    Don't call setPreferredOutputNumberOfChannels on iOS, it breaks audio output

commit 2c9871a4a8d4c7cd3ac4c1840de1d0694b176607
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 10:25:57 2020 -0800

    Fixed surround sound support on Apple TV

commit f48576600538208f96a1b59101c0f73be5ba10e9
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Feb 23 23:07:15 2020 +0100

    Fix: set to opaque when a palette surface is converted to an alpha format.

commit bf8aa1edaea84997a2b27ee87a2bd1bb373bf58a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Feb 23 22:38:08 2020 +0100

    Fix regression: when a palette + colorkey is converted, it needs a blend mode.
    
    - Regression of test_1.c of bug 3827, after fix from bug 4798.
    - Blending is also needed when the palette contains alpha value, but not necessarily colorkey.
    - Clean up SDL_ConvertColorkeyToAlpha which doesn't seem to need 'ignore_alpha' parameter any-more.
    
    (see bug 3827)

commit 094655cff99949b8a511339636f88ebfac7142ac
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 23 14:49:03 2020 -0500

    cocoa: Make sure wait for button enable can't be infinite.

commit 723165187f5628677aa2d95224f19fd796081e7b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 23 14:48:48 2020 -0500

    cocoa: Removed a debug printf that was accidentally committed.

commit 9a7c2b2246b89e5318e8f5edded76072fb135600
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Feb 23 09:59:52 2020 +0100

    Fixed bug 4999 - Palette surface always promoted to alpha (Thanks Cameron Gutman!)
    
    MSVC Static analysis: Incorrect alpha_value check in SDL_render.c
    (see also bug 4425)

commit dd1d8ab62c1c7d49d12e7f3f2c79b3528bc52815
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 21 15:52:35 2020 -0500

    cmake: more proper sdl2-config.cmake work (thanks, Alexander!)
    
    Fixes Bugzilla #4970.

commit be4d488e04a29e6783b3cb1c207661d49284c206
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 21 15:51:04 2020 -0500

    cmake: Backed out changeset 9009d85d3762
    
    This is being replaced by a different patch (see Bugzilla #4970).

commit 4d9e6e5f7098a47181e4a367c293715f12960c32
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 21 14:50:09 2020 -0500

    cocoa: When exiting a fullscreen space, wait for window state to normalize.
    
    A good metric of this is when the titlebar's "minimize" button is reenabled,
    which doesn't happen by the time windowDidExitFullscreen triggers.
    
    This fixes minimizing a fullscreen window on macOS.
    
    Fixes Bugzilla #4177.

commit 8d14636326ee64cbe110438bcd5ad35a0bfe2fa2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 19 08:26:00 2020 -0800

    Fixed support for third party Xbox 360 wireless controller dongle

commit 44698c4970ec24ff4f78d9393cac7be6a994839d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 18 01:44:07 2020 -0500

    dynapi: Fixed build on non-Android platforms.

commit ad225047b6c5e3f50af8cba00de6186f8ea059f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 17 14:15:47 2020 -0800

    Added Android SDK conditionals to game controller mappings
    The Nintendo Switch Pro controller has a different mapping on Android 10 and newer

commit d7ece7ee6ff03daf9a93bf8b9594bbc235adf02c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 17 13:54:45 2020 -0800

    Made SDL_GetAndroidSDKVersion() available for applications

commit 93b26f172ce1e57b768c3b40153db4424c34c89d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 16:15:04 2020 -0500

    opengl: Backed out hg changeset 94f9f40a957f
    
    This is the OpenGL line drawing fix for Bugzilla #3182, but there's some
    disagreement about what the renderers should do here, so I'm backing this out
    until after 2.0.12 ships, and then we'll reevaluate all the renderer backends
    to decide what's correct, and make them all work the same.

commit 1b82606e1dbb2a1b0c581efcd46a257c752826dd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 16:11:18 2020 -0500

    x11: Wait a bit in SDL_SetWindowSize() to see if window manager vetoed change.
    
    Same idea as the fix for Bugzilla #4646.
    
    Fixes Bugzilla #4727.

commit e731522578c664c615d3db81d3cc161790d59357
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 15:02:37 2020 -0500

    x11: Don't delay an extra 10ms if we were just going to break out of the loop.

commit 367a8b9701108e20188a0a5b10dfbf14f4e16555
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 15:00:02 2020 -0500

    x11: Don't wait for the window to move if it's already in the place we want it.

commit 1d624aa5730adcccf846267de76b13285bc65fed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 16 00:08:36 2020 -0800

    Further improvements for bug 4128 - CMAKE: Generated target import file contains incorrect include path
    
    Mohamed
    
    It would be useful to be able to do either `#include "SDL2/SDL.h"` or `#include "SDL.h"`. This patch allows that and adds compatibility with other build systems. It also allows differentiating between SDL1 and SDL2.

commit 4a9dbfef6b23a10694e2e14594d55d35bdb16663
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 15 16:39:38 2020 -0800

    Fixed bug 4987 - Can't build on MinGW a recent state: conflicting types
    
    Vitaly Novichkov
    
    Recent attempt to build a recent HG state of SDL2 via AppVeyor gives the failure:
    
    https://ci.appveyor.com/project/Wohlstand/sdl-mixer-x/builds/30821858/job/359gqvypi2f18nok
    
    ```
    C:\projects\sdl-mixer-x\build-MinGW-w32-MinSizeRel-Win32-VB6-Binding\external\AudioCodecs\src\AudioCodecs-build\external\SDL2\src\SDL2HG\src\dynapi\SDL_dynapi_procs.h:56:29: error: conflicting types for 'SDL_CreateThread'
     SDL_DYNAPI_PROC(SDL_Thread*,SDL_CreateThread,(SDL_ThreadFunction a, const char *b, void *c),(a,b,c),return)

commit dc54add5e012128386bdd3a8b4267d2eaabe1bd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 18:21:58 2020 -0800

    Added some extra permissions and features likely to be used by SDL applications

commit 80cf4f07249024705d1fcd332ec0423d8dd0304f
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Feb 8 19:34:51 2020 +0000

    test: Improved detection of OpenGL support

commit 582f570600325c6927b69c38133a23dcdc34e73c
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Tue Feb 4 16:46:22 2020 +0000

    Improved CPU detection on ARM platforms

commit 8f1a916ac5fa7b77696755a445cb9b628683cf05
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Feb 13 20:50:47 2020 +0000

    Add basic support for compiling on RISC OS

commit 033aa51d878f01be158cb7a8e82d10f7db631c09
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Thu Feb 13 22:58:04 2020 +0000

    testfilesystem: Don't exit the application if SDL_GetBasePath isn't supported

commit 35704c983e6240d0a62c829c9533db7078a973fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 16:17:17 2020 -0800

    Fixed bug 4980 - Build fails for SDL_kmsdrm*.c
    
    Malte Kie?ling
    
    Since https://hg.libsdl.org/SDL/rev/f908bd722523 / bug 4966 i cannot build SDL anymore. The error i get is, essentially, caused by -Werror=declaration-after-statement in SDL_kmsdrmvideo.c and SDL_kmsdrmopengles.c

commit 715f8d42a2bd554c9f4960a45594dcc5f9236ebc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 16:15:46 2020 -0800

    Fixed bug 4986 - Memory leak in HIDAPI_JoystickConnected
    
    meyraud705
    
    Memory allocated for device->joysticks on line 589 of SDL_hidapijoystick.c is never freed.
    
    Also, use memmove because memory is overlapping.

commit f4e23553d7e97f56bd16de8fd1a06dfffc9b7d85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 15:19:34 2020 -0800

    Fixed audio not coming out of the phone speakers while recording on iOS

commit 922b3dc3e7bf599a889e9b7ca86687054641d4a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 14:18:12 2020 -0800

    Fixed re-setting the audio session category when closing an audio device

commit 229c2f8f5fea9e567fe6e6916a9bf9a73f247394
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 14 13:37:32 2020 -0500

    cmake: Add PACKAGE_VERSION and SDL2_VERSION to sdl2-config.cmake.in
    
    Fixes Bugzilla #4970.

commit d1df34370ea0a0c919ce3babd91d5b26186663c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 14 13:17:18 2020 -0500

    x11: SDL_SetWindowPosition should try to wait for the window manager.
    
    Wait up to 100 milliseconds, since the window manager might alter or
    outright veto the window change...or not respond at all.
    
    In a well-functioning system, though, this should help make sure
    that SDL_SetWindowPosition's results match reality.
    
    Fixes Bugzilla #4646.

commit a77a890d4ab23a7d1ab2e49bee72b9b33baf7289
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 14 00:58:36 2020 -0500

    wayland: Don't delay pending surface resize handling on Vulkan.
    
    OpenGL apparently needs to not do any drawing between wl_egl_window_resize
    and eglSwapBuffers, but Vulkan apps don't use SDL to present, so they
    never call into an equivalent of SDL_GL_SwapWindow where our Wayland code
    was handling pending resize work.
    
    Fixes Bugzilla #4722.

commit 7ad77bccb23e913aca562b7398953abd86d8ab3a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 14 01:08:21 2020 -0500

    wayland: Don't force the window into OpenGL mode if we want Vulkan.

commit 14bf532df3cb270f9492c2f6c05ec629e16936b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 16:10:52 2020 -0800

    Fixed opening audio on Android from the Steam Link shell activity

commit b4312864716b1c8eeaa140eb14245519f7c87fd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 10:19:05 2020 -0800

    Resolved conflict and added Android_JNI_RequestPermission()

commit e261bd4205dc24a497d7288c52639072472c2dba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 12 12:26:27 2020 -0800

    Improved fix for bug 4748 - Calling WIN_UpdateClipCursor() / WIN_UpdateClipCursorForWindows() on WIN_PumpEvents() causes beeping and choppy mouse cursor movement, right-click doesn't work

commit afb70f26811a60432bf9cfd0a373d6043cf07e75
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 12 13:09:38 2020 -0500

    test: Reimplemented SDLTest_CommonUsage() to restore binary compatibility.
    
    Fixes Bugzilla #4975.

commit 0a6d80abf73595499d6bfaaaa844cd110593576b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 12 13:08:29 2020 -0500

    mac: Wait a bit before activating app at startup.
    
    This is obnoxious and wrong, but the patch that activates the Dock before
    activating the app fixes the _menu_ not responding on Catalina, but the
    first window created by the app won't have keyboard focus without a small
    delay inserted.
    
    This obviously needs a better solution, but it gets it limping along correctly
    for now.

commit 6fe6946a2fceca155a6a706805c1027c3152b135
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 21:19:05 2020 -0800

    Fixed relative mode mouse events stopping if you click on the title bar

commit 6ec14b7fda0a056ba5700b720e4af8a8f7369f82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 16:23:43 2020 -0800

    Fixed iOS and Android build

commit 4bb95e84036132ea698a0ac9acc83b6c148109b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 16:14:02 2020 -0800

    Implemented OpenSL-ES audio recording on Android

commit fe8ce66b53fc26f7db13efee72c85218df367c65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 10:35:14 2020 -0800

    Attempt to make version detection safe for Mac OS X < 10.10

commit 52b410ab8ef63f22551636f22ed1a4ca8e82ad2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 10:21:31 2020 -0800

    Workaround for bug 4822 - Broken visual output in full screen mode with OS X 10.15
    
    sjordan
    
    We did some investigations into a different direction which I would like to share. As mentioned previously the scaling setting in the preferences play an important role for our problem and they also hint towards an issue with point/pixel scaling factors.
    
    We found an interesting correlation between our fail case and the behavior of [nsWindow.screen backingScaleFactor]. It turns out that whenever we encounter the fail case the scale factor is zero when we print it quickly after calling SDL_CreateWindow. After some time the value changes to a non-zero value. In the success case the scaling factor is nonzero 'immediately'. Note that we don't use that factor. We also find that the window backingScaleFactor does not show the strange behavior even in the fail case.
    
    We have also attempted to find out whether any event triggers the transition from zero to non-zero. We found the transition happening when we call SDL_PollEvent. We can even force this to happen by explicitly adding a SDL_PollEvent at an early stage, but it will only happen if a certain amount of time elapsed, so we need to add some sleep before the call to trigger the transition at an earlier stage. All that seems to imply that the transition happens async and that SDL_PollEvent merely causes the system to update its internal state at that time.
    
    We have also verified that the scaling setting in the preferences does NOT directly correlate to the scaling factor behavior. We find that a particular scaling setting can lead to a fail case for one resolution and a success case for another resolution. This shows that the scaling setting alone does not determine whether the problem will appear or not.
    
    We have also verified on another Mac with 10.14 that the scaling factor is always non-zero and we always have the success case.
    
    I have no idea how to interpret this initial-zero behavior and haven't found any usable information on the screen backing scale factor. It seems as 10.15 does some stuff more async than before and maybe the problem could be caused by unfortunate timings. I would be very interested to hear your opinion about that.
    
    ...
    
    Finally we found the cause of all our problems: it's the origin hack in Cocoa_SetWindowFullscreen:
    
            /* Hack to fix origin on Mac OS X 10.4 */
            NSRect screenRect = [[nswindow screen] frame];
            if (screenRect.size.height >= 1.0f) {
                rect.origin.y += (screenRect.size.height - rect.size.height);
            }
    
    If we comment this one out our game and testdraw2 do behave correctly.
    
    It turns out that if a window is not fully contained in the screen, it's screen property becomes zero and therefore we saw a zero when printing the backing scale factor (although it's not clear why it became nonzero later).
    
    We suggest to add a runtime check which skips this code for 10.15 (or possibly earlier if you happen to know that the hack is not needed for certain older versions).
    
    More info: consider the line
    
    NSRect screenRect = [[nswindow screen] frame];
    
    in Cocoa_SetWindowFullscreen. We found that this rect has the dimensions of the desktop
    on our OS X 10.15 setup. This is true both for the success case and the fail case. It seems as the success case is actually a fail case in disguise.
    
    On the other Mac with OS X 10.14 the same rect has the dimension of the newly created screen. This is what I would expect, because at that time the window has already been created successfully and there should be a newly created screen associated to the window.
    
    What are the cases in which the whole origin conversion code for the fullscreen case is supposed to have a non-trivial result?
    
    Today we found that if we print the dimensions of [nswindow screen] later, then we find them to be correct. So the conclusion seems to be that OS X 10.15 does indeed do the window/screen setup more async than before and that the origin correction code uses the [nswindow screen] at a time where the window/screen setup isn't finalized yet.

commit c31727c7e7c538ee5ee8452df7115e3e689dd0bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 10:08:22 2020 -0800

    Fixed bug 4748 - Calling WIN_UpdateClipCursor() / WIN_UpdateClipCursorForWindows() on WIN_PumpEvents() causes beeping and choppy mouse cursor movement, right-click doesn't work
    
    The problem here was calling ClipCursor() continuously in a tight loop. Fixed by only calling ClipCursor() if the clip area needs to be updated.

commit 668276fe81aa497b6ae1dc39047451cc42476eca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 09:41:55 2020 -0800

    Don't add a frame to borderless windows.
    It was done to allow hotkey resizing of borderless windows, but Windows will sometimes draw it, regardless of our WM_* message handling. See bug 4466 for more details.

commit f867cebbd4c63221759edf9c613935a574ec7f27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 08:36:13 2020 -0800

    Fixed bug 4709 - incorrect (not) handling of windows on-screen cursor keys
    
    Alex Denisov
    
    When using Win10 on-screen keyboard (tooltip.exe), the left and right cursor keys in it do not produce SDLK_LEFT and SDLK_RIGHT events.
    
    Windows messages generated by the on-screen keyboard, for some reason, have their scancodes set to zeroes. Here is the log from Spy++:
    
    WM_KEYDOWN nVirtKey:VK_LEFT cRepeat:1 ScanCode:00 fExtended:0 fAltDown:0 fRepeat:0 fUp:0
    WM_KEYUP nVirtKey:VK_LEFT cRepeat:1 ScanCode:00 fExtended:0 fAltDown:0 fRepeat:1 fUp:1
    
    Regular physical keyboard produces VK_LEFT (ScanCode:4B) and VK_RIGHT (ScanCode:4D) which are interpreted correctly.
    
    With on-screen keyboard, the switch statement in VKeytoScancode() does not check for VK_LEFT and VK_RIGHT, returning SDL_SCANCODE_UNKNOWN, which in turn does not get mapped to anything (because the scan codes are zeroes).

commit 232b7feef62050c3574c245bcabfa55bcde8625f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 08:26:46 2020 -0800

    Make it possible for the application to use different C runtime begin/end thread functions

commit 9feabd351cb7e40175c9003251ca0556cbfbb4fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 11 08:01:44 2020 -0800

    Make sure SDL_CreateThread has the same signature regardless of how the DLL was created.

commit 4378fcd9a77b22488f793511a758e9b68fdf02d2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 23:48:06 2020 -0500

    wayland: Fix building with -fno-common (which is now the default in GCC 10).
    
    Fixes Bugzilla #4957.

commit d55f47d564443c246b7285106e03cb71dd365e8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 13:59:05 2020 -0800

    Fixed compile warning

commit cbc65ce80d6f7f6d42596184dae8416746148be5
Author: Fabrice Fontaine <fontaine.fabrice@gmail.com>
Date:   Mon Feb 10 13:56:53 2020 -0800

    src/core/linux/SDL_threadprio.c: fix build without threads
    Add an include on SDL_error.h to avoid the following build failure
    without threads:
    
    /home/buildroot/autobuild/instance-0/output-1/host/opt/ext-toolchain/bin/../lib/gcc/arm-buildroot-linux-uclibcgnueabihf/8.3.0/../../../../arm-buildroot-linux-uclibcgnueabihf/bin/ld: build/.libs/SDL_threadprio.o: in function `SDL_LinuxSetThreadPriority_REAL':
    SDL_threadprio.c:(.text+0x0): undefined reference to `SDL_Unsupported'
    
    Fixes:
     - http://autobuild.buildroot.org/results/7f7712c5bd47de4a3fcec1e0d0526fd5a3ecd532
    
    Signed-off-by: Fabrice Fontaine <fontaine.fabrice@gmail.com>

commit ed10d9473f62131890166c3b6bcf71db5e53b444
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 12:53:54 2020 -0500

    opengl: Build out full GL_LINES and respect the diamond-exit rule.
    
    Likewise for the GLES1 and GLES2 renderers.
    
    This solves the missing pixel at the end of a line and removes all the
    heuristics for various platforms/drivers. It's possible we could still use
    GL_LINE_STRIP with this and save some vertex buffer space, assuming this
    doesn't upset some driver somewhere, but this seems to be a clean fix that
    makes the GL renderers match the software renderer output.
    
    Diamond-exit rule explanation:
    http://graphics-software-engineer.blogspot.com/2012/04/rasterization-rules.html
    
    Fixes Bugzilla #3182.

commit 13155b35b45745c53287b80edcc33b6b85899d37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 09:42:53 2020 -0800

    The scissor rect needs to be updated when the viewport changes in the Metal renderer

commit 3e935aecb91adad31e7f3bfaa371224b15ff69ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 11:44:22 2020 -0800

    Fixed bug 4966 - KMSDRM: Add dynamic modeset support
    
    Anthony Pesch
    
    * Remove triple buffering support. As far as I can tell, this goes against the libdrm API; the EGL implementations themselves control the buffering. Removing it isn't absolutely necessary as it seemingly works on the Pi at least, but I noticed this while doing my work and explained my reasoning in the commit.
    
    * Replace the crtc_ready logic which allocates an extra bo to perform the initial CRTC configuration (which is required before calling drmModePageFlip) with a call to drmModeSetCrtc after the front and back buffers are allocated, avoiding this allocation.
    
    * Standardized the SDL_*Data variable names and null checks to improve readability. Given that there were duplicate fields in each SDL_*Data structure, having generic names such as "data" at times was very confusing.
    
    * Removed unused fields from the SDL_*Data structures and moves all display related fields out of SDL_VideoData and into SDL_DisplayData. Not required since the code only supports a single display right now, but this was helpful in reading and understanding the code initially.
    
    * Implement KMSDRM_GetDisplayModes / KMSDRM_SetDisplayMode to provide dynamic modeset support.
    
    These changes have been tested on a Raspberry Pi 4 and a Dell XPS laptop with an HD 520.
    
    As an update, I went back over the triple buffer changes and left them in. I didn't entirely get the code originally, I had just seen it calling KMSDRM_gbm_surface_lock_front_buffer twice for a single swap and had removed it because I was paranoid of bugs stemming from it while working on the modeset changes.
    
    I've made a few small changes to the logic that had thrown me off originally and rebased the changes:
    * The condition wrapping the call to release buffer was incorrect.
    * The first call to KMSDRM_gbm_surface_lock_front_buffer has been removed. I don't understand why it existed.
    * Added additional comments describing what was going on in the code (as it does fix the buffer release pattern of the original code before it).

commit 64c58b9f1941a29fa0fda5af76de26785fdea1a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 20:20:37 2020 -0800

    Fixed NullPointerException

commit e5e54169754ca5d3e86339d968b20126d9da0a15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 20:19:32 2020 -0800

    Removed VID/PID 0x1532/0x0037, which was listed in the Linux kernel as a Razer Sabertooth, because at least one variant of the Razer DeathAdder mouse shows up with this VID/PID.
    Specifically the Razer DeathAdder 2013 has this VID/PID

commit 833f76ab7b72ebdc78f6e24c385d06915d115fff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 11:49:56 2020 -0800

    Fixed bug 4968 - NULL passed to memcpy in WriteProprietary in SDL_hidapi_switch.c
    
    meyraud705
    
    In SDL_hidapi_switch.c
    
    line 443: Function BTrySetupUSB call WriteProprietary with pBuf=NULL and ucLen=0
    line 376: WriteProprietary check its input (!pBuf && ucLen > 0) || ucLen > sizeof(packet.rgucProprietaryData): ucLen is 0 so it passes
    line 382: WriteProprietary call memcpy with pBuf=NULL

commit dd0ebfdf8b63ebdae32af36c004e572d03cfaca3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 11:45:32 2020 -0800

    Use the triggers to test rumble for more fine grained vibration feedback

commit 8ba77b35a50604b636ff13c2e6a1d302ac797e30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 11:44:57 2020 -0800

    Use the asynchronous HIDAPI rumble code for Nintendo Switch Pro controllers

commit 81256207bdd497535fcff83a96ce3fa730b70c24
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 7 11:02:34 2020 -0800

    Update for bug 4923 - Calling SDL_GameControllerRumble() often takes 8 ms
    
    meyraud705
    
    Dualshock4 on bluetooth need 78 bytes for the rumble data while SDL_HIDAPI_RumbleRequest can only hold 64 bytes.
    
    'volatile' is not meant for thread synchronization.
    
    The list of rumble request could grow infinitely if user call SDL_JoystickRumble too much. The documentation says "Each call to this function cancels any previous rumble effect", so overwriting pending request seem like a good idea.

commit d88f3f52260d523c6ff242dc7b289ec20ac834dc
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Feb 5 13:16:17 2020 -0500

    macOS: fix crash if and when joystick-init-on-add fails

commit a199cb89ad8729545d4dca2e3cc8810217ace9aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 5 09:29:46 2020 -0800

    Updated the Android Xbox One Wireless Controller mapping for the latest Xbox controller firmware update

commit dc1d3c2974fcfec86e2cefb3466d13d6bf47401b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 18:36:23 2020 -0800

    Catch both PS3 and PS4 motion controls and don't treat them as a game controller

commit 1d1a35ef648cb6cae90ea6cdb0aedb0c633478d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 16:05:39 2020 -0800

    Fixed Visual Studio build

commit 1bd120266f1fce1f0f0badf53cae92183e8ec50b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 15:42:49 2020 -0800

    Added SDL_hidapi_rumble.c to the macOS, iOS and tvOS builds

commit 7c7ae00294f81316ae8b7a3646c727d8d56a2ac9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 15:35:01 2020 -0800

    Added SDL_hidapi_rumble.c to the Visual Studio project

commit 65fd63369411240dd54cad74916c6a6739e9363b
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Jan 30 18:03:34 2020 -0500

    FIX for SDL-4927: CFRetain+CFRelease a game controller's IOKit object
    
    This fixes a crash whereby SDL could crash on macOS/Darwin, if and when a
    USB game controller gets unplugged.  SDL was not retaining a reference
    to the controller's OS/IOKit-provided 'device object', and was capable
    of trying to use it, after a device was hot-unplugged.

commit 02108cf7e5c6e2655beb78b8e74de83087b54f92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 15:27:25 2020 -0800

    Added missing files from previous commit

commit 1684606fdf6c341bd16806c416cb83ab3e17a4dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 15:26:56 2020 -0800

    Fixed long delay on main thread caused by blocking rumble writes in HIDAPI drivers
    There is now a thread that handles all HIDAPI rumble requests and a lock that guarantees that we're not reading and writing the device at the same time.

commit 6efebf176852a3bfedb57d81c409270cbeb4714f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 4 12:48:53 2020 -0800

    Moved rumble expiration to the main joystick handling level, and prevent sending the driver layer duplicate rumble requests.

commit 976eee77cc380364534e73fcda8167a7c8f00492
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Feb 4 07:23:44 2020 -0800

    Correct joystick hat indexes on linux
    The index and indices were swapped; Which is fine as long as there are
    no gaps in the ABS_HAT* event availability but otherwise things do get confused.
    
    Signed-off-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit d19006c5bef9575db9a021c0b6bd992d6d1e9165
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 3 16:38:07 2020 -0800

    Fixed bug 4965 - Update the .hgignore file
    
    Cameron Cawley
    
    This adds a number of files used by the build systems to the .hgignore file. Most of them are for CMake, but there are other additions as well.

commit ca2186a21b3308d876a6c7fbe7b92571bf9a5127
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 3 16:34:33 2020 -0800

    Fixed bug 4758 - hgignore clion build artifacts
    
    Malte
    
    clion builds into cmake-build-debug, cmake-build-release etc. by default. Also, it creates the .idea forlder in wich it places some (mostly local) config.
    
    Since SDL is perfectly buildable from within the IDE, i think it'd be nice to have the build and ide artifacts ignored by hg.

commit 4b585e75d94bab1af65574cefc818cb7f861044a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 3 08:06:52 2020 -0800

    Fixed bug 4833 - Use EGL for X11?
    
    Martin Fiedler
    
    To be precise, this is about *desktop OpenGL* on X11. For OpenGL ES, EGL is already used (as it's the only way to get an OpenGL ES context), as Sylvain noted above.
    
    To shine some light on why this is needed:
    In 99% of all cases, using GLX on X11 is fine, even though it's effectively deprecated in favor of EGL [1]. However, there's at least one use case that *requires* the OpenGL context being created with EGL instead of GLX, and that's DRM_PRIME interoperability: The function glEGLImageTargetTexture2DOES simply doesn't work with GLX. (Currently, Mesa actually crashes when trying that.)
    Some example code:
    https://gist.github.com/kajott/d1b29c613be30893c855621edd1f212e
    Runs on Intel and open-source AMD drivers just fine (others unconfirmed), but with #define USE_EGL 0 (i.e. forcing it to GLX), it crashes. The same happens when using SDL for window and context creation.
    
    The good news is that most of the pieces for EGL support on X11 are already in place: SDL_egl.c is pretty complete (and used for desktop OpenGL on Wayland, for example), and SDL_x11opengl.c has the aforementioned OpenGL-ES-on-EGL support. However, when it comes to desktop OpenGL, it's hardcoded to fall back to GLX.
    
    I'm not advocating to make EGL the default for desktop OpenGL on X11; don't fix what ain't broken. But something like an SDL_HINT_VIDEO_X11_FORCE_EGL would be very appreciated to make use cases like the above work with SDL.
    
    
    [1] source: Eric Anholt, major Linux graphics stack developer, 7 years ago already - see last paragraph of https://www.phoronix.com/scan.php?page=news_item&px=MTE3MTI

commit 67f4478867c7d6c50a755daefe06935a4c418ded
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 3 00:57:12 2020 -0800

    Fixed bug 4917 - Wayland: handle discrete pointer axis events
    
    Luis Caceres
    
    The current handling of Wayland mouse pointer events only handles wl_pointer.axis events, which, according to the Wayland documentation, deal with mouse wheel scroll events on a continuous scale. While this is reasonable for some input sources (e.g. touchpad two-finger scrolling), it is not for mouse wheel clicks which generate wl_pointer.axis events with large deltas.
    
    This patch adds handling for wl_pointer.axis_discrete and wl_pointer.frame events and prefers to report SDL_MouseWheelEvent in discrete units if they are available. This means that for mouse wheel scrolling we count in clicks, but for touchpad two-finger scrolling we still use whatever units Wayland uses. This behaviour is closer to that of the X11 backend.
    
    Since these events are only available since version 5 of the wl_seat interface, this patch also checks for this and falls back to the previous behaviour if its not available. I also had to add definitions for some of the pointer and keyboard events specified in versions 2-5 but these are just stubs and do nothing.

commit 68e702b657abfafd6c1859e9a757502caa7d953d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 3 00:51:35 2020 -0800

    Fixed the hidapi Info.plist for submission to the Apple App Store

commit b5849daf3e2553a6183e04eae92031bd16d722ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 1 09:23:04 2020 -0800

    Fixed build warnings on Android

commit 212609b3f2acdef662ef1772c7a5dfacb04102c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 31 14:09:23 2020 -0800

    Map the right pad on the Steam Controller to the right stick in the game controller API

commit 39a498c940c762d2e15d3ebb82e07d779178ed4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 31 13:09:20 2020 -0800

    Build the hidapi framework and weak link it on Mac OS X

commit 91121ee4bb0932c0a0b0ffe2926025477e70353f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 31 10:45:04 2020 -0800

    Weak link the hidapi framework on iOS and tvOS

commit 1190343f36c591bbd7924d9522ed85d458097ce6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 16:02:56 2020 -0800

    Build hidapi as a framework on iOS, so it can be linked by the application as well.

commit 62a3d6c00448f7dff756b833b70ebd1be544a213
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 14:58:41 2020 -0800

    Fixed build

commit 4e33c013d4e15fcd7e0985d0eeb7a7a31566676b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 14:53:18 2020 -0800

    More Xcode project improvements

commit 37278066f210a290932310c3eec63125c36dd543
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 14:51:33 2020 -0800

    Export SDL functions for iOS application delegates

commit 66579dbd1a21811684a26a9ab03954c2708f6427
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 30 13:47:48 2020 -0500

    test: Common framework now accepts --usable-bounds command line argument.

commit 80e7e2eb9d453678749af291ddc33fe1cdf2cb3f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 30 13:47:19 2020 -0500

    test: change path in a comment from '\\' to '/' char. Nothing serious here.

commit 0641711e9fcb170bba99ff178ae1e1a7a53d9e06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:59 2020 -0800

    Added missing file from previous commit

commit bc6851632690ae86e32a2b5098bc4405f5c23bf7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:18 2020 -0800

    Added a unified Xcode project for macOS, iOS and tvOS

commit 0897f2359c57190f717daf6d524c87b9de0b413d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:16 2020 -0800

    Fixed compiler warning

commit 214eb88f0f2eda030f3c50aafc38eb35b5c4952f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:14 2020 -0800

    Added SDL_hidapi_steam.c to the iOS and tvOS dylib build targets

commit c7a62b410b5211f21144a9e0e40c747ac71d8e01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:12 2020 -0800

    There are lots of unused macros in the Steam controller code

commit 355f0b54ec03ccbe145f10c80d7c8da3162c60e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:11 2020 -0800

    Added support for the Steam Controller on mobile devices

commit c9c89783cb4609ab5918e473870c397f96f8f6b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 29 20:09:08 2020 -0800

    Miscellaneous pending fixes

commit 598cf694759959c4f45e58081c151b639c3cd51f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 28 21:41:13 2020 -0800

    Fixed member order to make more sense

commit 43b377b077688c109af9bca4316e880f1e5a1081
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 28 17:11:17 2020 -0800

    Fixed wired PS4 controller support on Android

commit 39563b7bfa79f4c16dfd7966a05817c6f5e34d47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 28 13:51:24 2020 -0500

    x11: Use XSync when changing window position instead of XFlush.
    
    Attempt to fix regression in Bugzilla #4646.

commit c7e1b289eefa6236cfff4de0a93cff1cbb5d5bd3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 27 17:15:12 2020 -0500

    cocoa: Fix command line apps' menu bar not working on macOS Catalina.
    
    Fixes Bugzilla #4937.

commit 059de38c2c7fcb3dac5fcd94e585a98c84e41313
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 27 15:44:48 2020 -0500

    darwin: Don't pass NULL device refs to IOHIDDeviceGetValue().
    
    Possibly fixes Bugzilla #4961.

commit b4c2e29eed165911d520279d43f3fe45e9f91b84
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 27 10:58:30 2020 -0500

    video: Added a hint to override the display's usable bounds.

commit 7ea3f5b464e1526a1ba16c1f9658d142685856f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 26 12:48:35 2020 -0800

    Fixed bug 4898 - No rumble because of integer overflow in SDL_JoystickRumble
    
    meyraud705
    
    Switch hidapi and xinput also need to check for overflow, attached a patch for them.

commit 5e649983e74a7e75f13b3d129cdbfe61e3f013c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 26 12:40:32 2020 -0800

    Don't enumerate devices we can't open

commit adb53d0b1fb87ac0522d6ff6d06f8a1b9a291fb6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 26 10:32:39 2020 -0800

    Fixed disabling the Xbox 360 wireless HIDAPI driver

commit ce7c51a9cc9d9dae560f7fefe7cf6ddf465d885d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 26 00:37:48 2020 -0800

    Always release devices in onPause in case we're going to be force stopped, and for consistency with interacting with other activities that might use the controller

commit c9f672fde4e16b31a3073ea68f59a2290022a177
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 22:24:24 2020 -0800

    Fixed compiler warnings

commit 2ae41b9c61d76afb8f70dd2636dd51db4565b370
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 12:53:43 2020 -0800

    Fixed mapping for both versions of the Xbox One Elite Series 2 controller firmware connecting over Bluetooth

commit 48240ac88e32eb4bf2aa513e9642b9b5fe8caf38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 12:53:41 2020 -0800

    Added mapping for the Xbox One controller connected via the wireless dongle using xow

commit 6dc172d093d46f528be802bbf06a54d3f9921d37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 12:53:39 2020 -0800

    Turn off rumble on drivers which don't respect the replay.length value

commit 30ff5fcfc01d175d8848e7a6dc638077431e329e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 01:03:23 2020 -0800

    SDL_LEAN_AND_MEAN defaults off

commit b5e3d264f294013c4ce3dd49e9b55ed22a897f49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 01:00:52 2020 -0800

    Added a single SDL_LEAN_AND_MEAN define to turn on minimal SDL builds
    Protected more code with #ifdefs to reduce the size of minimal shared library builds

commit b1c6e7c24474c673dfc7fdbaa7c1133e0852b634
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 23 00:32:34 2020 -0800

    Fixed compile warning

commit 443bce741b2e20580c9eb5e9fcc03b4688dd2a1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 22 11:28:35 2020 -0800

    Added support for the paddles on the Xbox One Elite Series 1 controller

commit 6f89b059f7fd873159d19e1ff4b1f3ad03d4f3a3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 22 15:23:44 2020 +0100

    Documentation of the footprint #defines

commit f30ef6ed3d63ba87a5b913bd9b5cbb7e5d7896ba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 21 17:40:16 2020 -0500

    audio: Fixed a '//' style comment.

commit dbe5c14b339ccc10183205646b4d4316f1c3a91f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 21 15:49:37 2020 -0500

    audio: Calculate a legitimate SDL_AudioSpec::silence in SDL_LoadWAV_RW().

commit 55afc281fadaed9b8cdfb47f9e607aea120e39d2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 21 22:06:09 2020 +0100

    Add #define SDL_HAVE_BLIT_N_RGB565 to compile out RGB565 LUT

commit 7df22cf2c2ee9776f680bbbea9bc5d0bf6563ac7
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jan 21 21:33:40 2020 +0100

    A few #defines to reduce SDL2 footprint.
    Only applied when library is statically linked

commit 25c88ea90327bbbbe8244272574bdfb9c92f7b0c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 20 13:53:40 2020 -0800

    The Xbox One 0x01 initialization packet is an ack packet

commit 9c3d1602ab622b30e28f86e3375e51eda172acb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 19 11:43:36 2020 -0800

    Refactored code so SDL_GetJoystickGameControllerType() is called less during controller detection

commit ff068011061569ad9bf31ee3f254cbc67d593d41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 18 11:21:42 2020 -0800

    Added missing file from previous commit

commit 43aa1fa9e7ebd716b51087032556850ff675efd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 18 11:21:14 2020 -0800

    Added support for detecting previously unknown Xbox 360 and Xbox One controllers using the HIDAPI driver with libusb and Android

commit 27035425e0335c53f0d549b83d7cd6b30467d41b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 17 11:09:57 2020 -0800

    There are multiple bindings for XBox One controller model 1708, depending on firmware revision

commit bde1a371d18d0c23f2e5d0064cd9cd833d84ab37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 17 11:07:19 2020 -0800

    Added support for the NACON GC-400ES

commit 0a7fe18fe6f6a30df44f2425df4bdd02f63a9081
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 17 11:06:02 2020 -0800

    On Mac OSX there are spurious hat events at program start, so skip these

commit 4e682461cc6668c860405560446ae33de3490f27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 17 10:43:14 2020 -0800

    Reattach the kernel driver after closing USB controllers

commit 005e2dff21dde479177cd48c9b38c18c1f213c9d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 17 12:41:54 2020 +0100

    Android: prevents rare crashes when app goes to background or ends.
    
    Make sure the thread is actually paused, and context backep-up, before
    SurfaceView is destroyed (eg surfaceDestroyed() actually returns).
    
    Add a timeout when surfaceDestroyed() is called, and check 'backup_done' variable.
    
    It prevents crashes like:
    
      #00  pc 000000000000c0d0  /system/lib64/libutils.so (android::RefBase::incStrong(void const*) const+8)
      #01  pc 000000000000c7f4  /vendor/lib64/egl/eglSubDriverAndroid.so (EglAndroidWindowSurface::UpdateBufferList(ANativeWindowBuffer*)+284)
      #02  pc 000000000000c390  /vendor/lib64/egl/eglSubDriverAndroid.so (EglAndroidWindowSurface::DequeueBuffer()+240)
      #03  pc 000000000000bb10  /vendor/lib64/egl/eglSubDriverAndroid.so (EglAndroidWindowSurface::GetBuffer(EglSubResource*, EglMemoryDesc*)+64)
      #04  pc 000000000032732c  /vendor/lib64/egl/libGLESv2_adreno.so (EglWindowSurface::UpdateResource(EsxContext*)+116)
      #05  pc 0000000000326dd0  /vendor/lib64/egl/libGLESv2_adreno.so (EglWindowSurface::GetResource(EsxContext*, EsxResource**, EsxResource**, int)+56)
      #06  pc 00000000002ae484  /vendor/lib64/egl/libGLESv2_adreno.so (EsxContext::AcquireBackBuffer(int)+364)
      #07  pc 0000000000249680  /vendor/lib64/egl/libGLESv2_adreno.so (EsxContext::Clear(unsigned int, unsigned int, unsigned int, EsxClearValues*)+1800)
      #08  pc 00000000002cb52c  /vendor/lib64/egl/libGLESv2_adreno.so (EsxGlApiParamValidate::GlClear(EsxDispatch*, unsigned int)+132)

commit d52ba78b2968373888fc3e3664967f8fc2e688ce
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 17 12:04:18 2020 +0100

    Fixed bug 4246 - Android: orientation between portrait<->landscape doesn't work
    
    Improve handling of landscape/portrait orientation. Promote to SCREEN_ORIENTATION_SENSOR_* when needed.
    Android window can be somehow resizable.
    If SDL_WINDOW_RESIZABLE is set, window size change is allowed, for instance when orientation changes (provided the hint allows it).

commit a8780c6a287bb97549ec4411cff7ade560db441f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 16 20:49:25 2020 -0800

    Updated copyright date for 2020

commit 572f4a8509965148e3dc83e8dd5dd43c2adf5cd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 16 15:54:20 2020 -0800

    Fixed bug 4929 - Software renderer produces bugs when optimizations are turned on with Visual C++ 2019
    
    Konrad
    
    I took the liberty of rewriting this function a bit as it seemed to be unnecessary extended with ifs regarding flags (we can check everything in one pass which seem to be the thing which confuses Visual C++ 2019 as well).
    
    Also, I have made CPU features an int instead of uint because if we check it against flags which are all ints it might as well just be int (no signed/unsigned bitwise comparison).

commit c6817a2c195da52a600a47d5ba796f33dc05dfad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 16 15:32:41 2020 -0800

    Added support for the paddles on the Xbox One Elite Series 2 controller

commit 4e1cc124d2bd68134cfb48e36f34b32077c4a3a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 16 15:32:39 2020 -0800

    Improved Xbox One controller initialization

commit 981e0d367c9c5320970bfd39a8ba8747a7c2e393
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 16 08:52:59 2020 -0800

    Fixed bug 4903 - Lack of color multiply with alpha (SDL_BLENDMODE_MOD + SDL_BLENDMODE_BLEND) blending mode for all renderers
    
    Konrad
    
    This kind of blending is rather quite useful and in my opinion should be available for all renderers. I do need it myself, but since I didn't want to use a custom blending mode which is supported only by certain renderers (e.g. not in software which is quite important for me) I did write implementation of SDL_BLENDMODE_MUL for all renderers altogether.
    
    SDL_BLENDMODE_MUL implements following equation:
    
    dstRGB = (srcRGB * dstRGB) + (dstRGB * (1-srcA))
    dstA = (srcA * dstA) + (dstA * (1-srcA))
    
    Background:
    
    https://i.imgur.com/UsYhydP.png
    
    Blended texture:
    
    https://i.imgur.com/0juXQcV.png
    
    Result for SDL_BLENDMODE_MOD:
    
    https://i.imgur.com/wgNSgUl.png
    
    Result for SDL_BLENDMODE_MUL:
    
    https://i.imgur.com/Veokzim.png
    
    I think I did cover all possibilities within included patch, but I didn't write any tests for SDL_BLENDMODE_MUL, so it would be lovely if someone could do it.

commit 669729a8a010918a9b588df8d47451f6f4eb0263
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 15 22:18:31 2020 -0800

    Improved Xbox One controller initialization sequence
    This sequence works across Microsoft, PowerA, PDP, and HORI controllers.
    The newer Microsoft XBox firmware requires synchronizing the rumble sequence number, when SDL sees it after the initial connect
    The Razer Wildcat controller requires waiting for init responses before continuing the initialization sequence.
    The PDP Battlefield 1 controller takes over a second to be ready for initialization, and if initialization is attempted before then, it will fail.

commit 3448600526aca98ab7a15bcb44d1a8fdee373aa7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 15 22:18:29 2020 -0800

    Added support for the HORI Fighting Commander

commit 6705e27c9fbf27756445d2ca7d219adf64a3b3c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 22:05:58 2020 -0800

    Added D-PAD bindings for the Linux Steam Controller

commit cb800d1c27819572a5ba3c12c0d19c0f8e5fa1d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 22:05:56 2020 -0800

    Fixed compiler warning

commit 7775f7cedf09f6255e4f5daaf72f2ad8ede7d841
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 22:05:54 2020 -0800

    Fixed deadlock in HIDAPI joystick system

commit 3a796d6a58409afcf02ce369fdc49d11b25a9e3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 15:35:54 2020 -0800

    Free the joystick player index when the joystick is removed

commit 1d321850b6483ce169ad64710d2ac8531804a1a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 15:35:52 2020 -0800

    Added support for claiming individiual interfaces on USB devices on Android
    This is needed for supporting multiple wireless Xbox 360 controllers

commit acbf25935eed2556d64bd3da43faa316c63cf874
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Jan 13 11:46:17 2020 -0500

    Emscripten: build fix for testoverlay2.c

commit 3ce56f621c86d8652f8ec68cba61150638333ca3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 13 08:12:10 2020 -0800

    Fixed error formatting

commit d2cda502ccccc82bed5acba4a914b9b7ee0fce50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 12 17:22:24 2020 -0800

    Send the full Xbox One controller sequence for Microsoft controllers
    This switches Bluetooth controllers back into USB report mode for the latest Xbox One S and Xbox One Elite Series 2 firmware

commit 196f69984a598f48b48ae6de5d4f1c56ff783086
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 11 22:03:06 2020 -0800

    Fixed NEON detection on arm64 CPUs
    This probably breaks RISCOS, but we need a better fix from Cameron Cawley for this

commit c14a59d999322fa551ce94dcd14f493dcdbe0bae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 11 13:38:50 2020 -0800

    Worked around an issue where the kernel would lose the force feedback effect

commit e3cedf967d73998f678868276109653ab148163b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 11 04:38:13 2020 -0800

    Add the destination format to the error when conversion isn't possible

commit d33b122f4f355ea63338a1c66cb8c0d9f099e107
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 11 04:34:28 2020 -0800

    The Xbox One S Bluetooth controller with older firmware uses b16 as the guide button. The same controller with newer firmware uses b12 as the guide button. Map both buttons so both firmware revisions will work with the same mapping.

commit a7bf6af8c4b0c6497c3133d121d345be2907aa2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 11 04:34:23 2020 -0800

    The Amlogic TVB-906X is Android TV

commit 5d28c31548353ba7361bc90997403bad590ea5f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 9 14:53:34 2020 -0800

    Only initialize Xbox One controllers once they're ready for initialization (or if they are silent until init)
    This fixes the Hyperkin Duke Xbox One controller showing the Xbox startup animation every time an SDL application launches

commit 47abe4e3b37e14191321408ea791f693ca1c982c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 9 14:53:30 2020 -0800

    Fixed crash when unplugging a HIDAPI controller

commit f34795d05f13d4f092cbbe7cf2c3a64226c7552e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 8 18:55:53 2020 -0800

    Added support for the updated Hyperkin Duke Xbox One controller

commit a56aaea1391558737866156a5f0be811b956725b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 7 16:47:56 2020 -0800

    Fixed handling the 8BitDo M30 in Nintendo Switch mode

commit f4375e86f933ba69318a86431225ada1ed3a5f6f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 7 18:43:40 2020 -0800

    Added support for the 8BitDo M30 GamePad

commit 78ce18f5cf9f0a3ed0f38c4b0d74e0b53aca4f89
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Mon Jan 6 20:26:52 2020 +0000

    riscos: Add CPU feature detection

commit eb3d39bc8b3ae3e3818db91add91e75909c004fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 6 12:18:51 2020 -0800

    Added support for the 8Bitdo FC30 Pro

commit 598bcfc5f66cd60f8ba1f13346d4b6a8616e1d04
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 6 07:06:58 2020 -0800

    Fixed bug 4928 - CMakeLists.txt: put cmake package helpers in proper libdir
    
    Tiago O.
    
    Use LIB_SUFFIX variable to determine the correct path.

commit 2b1edf4113750745b707d3376664abfa647c6cee
Author: Dmitry V. Levin <ldv@altlinux.org>
Date:   Sat Jan 4 11:05:06 2020 -0800

    X11_InitKeyboard: do not call XAutoRepeatOn unnecessarily
    Use XGetKeyboardControl to initialize the current XKeyboardState, and
    skip XAutoRepeatOn invocation if global_auto_repeat is AutoRepeatModeOn.
    
    This fixes SDL2 when the X11 client is untrusted.

commit ed514cd0e4140847f28ed388bb2e8e8fab866226
Author: Dmitry V. Levin <ldv@altlinux.org>
Date:   Sat Jan 4 11:03:04 2020 -0800

    have_mitshm: use XShmQueryExtension to check for MIT-SHM extension
    Do not try to guess MIT_SHM extension availability from the string
    returned by XDisplayName, use the appropriate API instead.
    
    This fixes SDL2 inside hasher.

commit cdbeae521ee8730ee80e910e0b54c2417d43759e
Author: Michael Forney <mforney@mforney.org>
Date:   Sun Dec 29 23:10:39 2019 -0800

    wayland: support wl_data_device_manager version < 3

commit d9c4be06485d93b699a9ac0d72c5d2b69d9e8288
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 1 08:13:40 2020 -0800

    Added support for the Hyperkin Duke controller

commit 41dad5d7f3e9ad6036c5fdcf73cf5905bba0b31b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 31 10:40:30 2019 -0800

    Fixed bug 4357 - iosbuild.sh broken with SDL 2.0.9
    
    Christoph Charles
    
    The new source files for coremotion sensors don't seem to have been included correctly in configure.in. This leads to the build script ios-build.sh to fail at link time, complaining about missing symbols, namely about missing SDL_COREMOTION_SensorDriver.

commit 4c9628a0029b71926c68497063b948237685036a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 17:56:56 2019 -0800

    Fixed GameCube controller axis and trigger ranges and X and B button being swapped

commit 58a11d30dee0ab11dfb0437c9af976754f2c1671
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 13:21:47 2019 -0800

    Fixed bug 4920 - Wider support for seconds of battery life left on Linux platforms using sys interface
    
    Murad
    
    On my system, SDL_GetPowerInfo() returns -1 seconds of battery life left. I have quickly investigated that in my case SDL uses sys interface to get battery data. It tries to read "time_to_empty_now" file which is not always present. However, it is still possible to calculate remaining lifetime using "energy_now" and "power_now" files. This is what my simple patch (included as attachment) tries to accomplish.
    Best wishes.

commit 8b0660b25acd1ce0a5f763fffb3d9e6f0cd8de8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 13:18:57 2019 -0800

    Fixed bug 4918 - SDL failed to build due to error LNK2019: unresolved external symbol memset referenced in function SDL_SetJoystickIDForPlayerIndex with MSVC x64 on Windows
    
    LinGao
    
    We build SDL with Visual studio 2017 compiler on Windows Server 2016, but it failed to build due to error LNK2019: unresolved external symbol memset referenced in function SDL_SetJoystickIDForPlayerIndex with MSVC x64 on Windows on latest default branch. And we found that it can be first reproduced on 0fff06175109 changeset. Could you please help have a look about this issue? Thanks in advance!
    
    Steps to Reproduce:
    1.hg clone https://hg.libsdl.org/SDL D:\SDL\src
    2.Open a VS 2017 x64 command prompt as admin and browse to D:\SDL
    3.msbuild /p:Configuration=Release /p:Platform=x64 /p:WindowsTargetPlatformVersion=10.0.17134.0 VisualC\SDL.sln /t:Rebuild
    
    Actual result:
     Creating library D:\SDL\src\VisualC\x64\Release\SDL2.lib and object D:\SDL\src\VisualC\x64\Release\SDL2.exp
    SDL_joystick.obj : error LNK2019: unresolved external symbol memset referenced in function SDL_SetJoystickIDForPlayerIndex [D:\SDL\src\VisualC\SDL\SDL.vcxproj]
    D:\SDL\src\VisualC\x64\Release\SDL2.dll : fatal error LNK1120: 1 unresolved externals [D:\SDL\src\VisualC\SDL\SDL.vcxproj]
    Done Building Project "D:\SDL\src\VisualC\SDL\SDL.vcxproj" (Rebuild target(s)) -- FAILED.

commit 98ce0e50b76b5b0b913205b4932e63891e655e08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 11:09:03 2019 -0800

    Removed unnecessary setlocale() on Mac
    https://github.com/signal11/hidapi/commit/240bad3b669ad4874c8aa2d68e18e82232d63e35

commit a9482a1d6058634f9faee9af244d5586c71e4bf4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 09:44:32 2019 -0800

    Added support for the Nintendo GameCube adapter, tested on Steam Link hardware

commit 9340cfa9a1409d3ffb69086d1c3da41acdef7592
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 27 23:01:10 2019 +0300

    SDL_x11events.c (X11_DispatchEvent): remove FIXME and use SDL_strtokr().

commit ef3ca2cc46afc317cca0a484eb3187b810db9f69
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Dec 23 19:55:10 2019 +0300

    Fix build error in SDL_render_metal.m (bug #4916.)
    
    Patch provided by Konrad. Error was introduced by commit 522164980828 for bug #4914.

commit 6d639fce2d5328b90232597113144bf66bc1e312
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Dec 23 16:47:00 2019 +0100

    SDL_ScaleMode: fix compilation GLES renderer

commit 131e13a773689206ec1018821ae2a8ad81dc2bff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 22 20:48:43 2019 -0500

    direct3d11: Always set vertex buffers when updating them (thanks, Konrad!).
    
    Fixes Bugzilla #4913.

commit 982f8a83ec71c8a98ed87f1d4c71c6d38459ee9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 22 13:56:50 2019 -0800

    Fixed bug 4910 - Missing joystick-driver type check in haptic
    
    meyraud705
    
    On Linux and MacOS, some haptic system functions access joystick->hw_data without checking the driver type.

commit f21e17276780ca0ec042ab8bbdfd3309ac2d3db9
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Fri Dec 20 22:25:49 2019 -0800

    Use IOHIDManagerRegisterDeviceRemovalCallback() to monitor for HID removal
    
    The function we currently use, IOHIDDeviceRegisterRemovalCallback(), often
    fails on Catalina with a "__CFRunLoopModeFindSourceForMachPort returned NULL"
    error message. Once a removal callback is missed, we will eventually crash when
    the joystick is closed attempting to use the invalid IOHIDDeviceRef.
    
    https://forums.developer.apple.com/thread/124444

commit dd5987e80a31f888e0b69ce2cc81e08afb73f249
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 22 13:42:20 2019 -0800

    Fixed bug 4911 - Build broken when hidapi enabled
    
    meyraud705
    
    SDL_hidapi.c is added twice to 'SOURCES' which causes "multiple definition error" when linking.

commit 5e19e66c73a8caf1be85a6f76f56d0434acf0b42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 22 13:39:44 2019 -0800

    Fixed bug 4914 - Expose SDL_ScaleMode and add SDL_SetTextureScaleMode/SDL_GetTextureScaleMode
    
    Konrad
    
    This was something rather trivial to add, but asked at least several times before (I did google about it as well).
    
    It should be possible to dynamically change scaling mode of the texture. It is actually trivial task, but until now it was only possible with a hint before creating a texture.
    
    I needed it for my game as well, so I took the liberty of writing it myself.
    
    This patch adds following functions:
    
    SDL_SetTextureScaleMode(SDL_Texture * texture, SDL_ScaleMode scaleMode);
    SDL_GetTextureScaleMode(SDL_Texture * texture, SDL_ScaleMode *scaleMode);
    
    That way you can change texture scaling on the fly.

commit f0cee3edec830544892cbe6dd348b8e9d2cbc3ed
Author: Zack Middleton <zack@cloemail.com>
Date:   Sun Dec 22 13:15:11 2019 -0800

    Fix shutting down HIDAPI device with multiple joysticks
    Using Wii U GameCube USB adapter with multiple controllers attached and
    restarting SDL input in a game results in extra joysticks with NULL name.
    
    HIDAPI_CleanupDeviceDriver() shut down joysticks by iterating through
    device->num_joysticks but each HIDAPI_JoystickDisconnected() decreases
    device->num_joysticks and shifts joysticks array down. Resulting in only
    half of controllers being shutdown. It worked with only 1 controller
    attached though.
    
    Disconnect HIDAPI device joystick 0 until there are none left.

commit d000a592ab0cb6dc99cbe65210241ca3c15142f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 21 22:33:21 2019 -0800

    Fixed windows build

commit d004cc705093d3abdbfb3f9af6cef190f4cbb01a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 21 22:40:33 2019 +0100

    Android: same way as in nativePause(), resume events are sent from SDL thread

commit 45a9b5fa2ef806480b39fd63ee11466a4adadc89
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 21 21:18:02 2019 +0100

    Android: fix call of glFinish without context.
    
    Message in the log, when going to background:
    "call to OpenGL ES API with no current context (logged once per thread)"
    
    Because of SDL_WINDOWEVENT_MINIMIZED is sent from the Java Activity thread.
    It calls SDL_RendererEventWatch(), _WindowEvent() and glFinish() without context.
    
    Solution is to move sending of SDL_WINDOWEVENT_MINIMIZED to the SDL thread.

commit f3a547d00a75b848ff34c62b6c75082a2ea6989c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 20 21:40:28 2019 -0800

    Added support for the Hori Dragon Quest Slime Controller

commit 868551b1218511892b5f619aefbec728081c8a43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 20 21:00:16 2019 -0800

    Fixed duplicate controller entries on Mac OS X when using libusb, due to the HID interface number not being available in the Mac OS X HID code.

commit 46e1377d49ddd2d25b3c2b2c23b91788093f2392
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 20 20:12:03 2019 -0800

    Automatically assign player indexes to game controllers, and allow changing the player index for game controllers and joysticks.
    Added the functions SDL_JoystickFromPlayerIndex(), SDL_JoystickSetPlayerIndex(), SDL_GameControllerFromPlayerIndex(), and SDL_GameControllerSetPlayerIndex()

commit f050309ee92ea71abe0ef81cb91d94182a7c17da
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Dec 20 15:58:59 2019 +0100

    Android: fix IllegalStateException in onBackPressed()
    
    Rare exception, not catch-able, which appears when the activity gets in a broken
    state.
    
    java.lang.IllegalStateException:
      at android.app.FragmentManagerImpl.checkStateLoss (FragmentManagerImpl.java:1323)
      at android.app.FragmentManagerImpl.popBackStackImmediate (FragmentManagerImpl.java:493)
      at android.app.Activity.onBackPressed (Activity.java:2215)
      at org.libsdl.app.SDLActivity.onBackPressed (SDLActivity.java)
      at android.app.Activity.onKeyUp (Activity.java:2193)
      at android.view.KeyEvent.dispatch (KeyEvent.java:2685)
      at android.app.Activity.dispatchKeyEvent (Activity.java:2423)
      at org.libsdl.app.SDLActivity.dispatchKeyEvent (SDLActivity.java)

commit 9996d1bb712027296ef7c812af9c47949f35e41b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Dec 20 14:33:37 2019 +0300

    fix xcode project file permissions

commit 95d40e8a28c722429c9e1fd73084faa2e9fef8ea
Author: Paul Cercueil <paul@crapouillou.net>
Date:   Thu Dec 19 21:47:43 2019 -0800

    kmsdrm: Fix busy-loop within libc's dlopen()
    For some obscure reason, the order in which the libdrm/libgbm libraries
    are loaded matters.
    
    Without this fix, the first call to check_modesetting() will work and
    load then unload all symbols properly, but the second call to this
    function will lock up as soon as dlopen() is called on libdrm.
    
    Swapping the order in which the libdrm and libgbm libraries are loaded
    is enough to fix (or work around?) this issue.
    
    Fixes #4891:
    https://bugzilla.libsdl.org/show_bug.cgi?id=4891
    
    Signed-off-by: Paul Cercueil <paul@crapouillou.net>

commit 6b767872090cb3c087b7a6056c82a2d682cbe36e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 21:45:44 2019 -0800

    Make sure the Xbox 360 driver doesn't try to talk to the wireless controllers

commit 1db56619de2b18a29e08f324ae33c5982e32af5b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 18:03:28 2019 -0800

    Fixed rare infinite rumble in HIDAPI controller driver

commit 25bd5070f50f95a77e2e4b3db5b6dc2f9bcf8752
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 18:00:08 2019 -0800

    Fixed GameCube rumble

commit 202c966a4405b2ea40f42ddbdab41baee62afb37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 16:14:22 2019 -0800

    Added support for the Nintendo GameCube Controller, using the Mayflash GameCube adapter.

commit 2481ab934039e546efb91c7ce281a10c5efdabbd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:58:16 2019 -0800

    Fixed compiler warning

commit c5024a182d806a9c4e76e12f55317ca8640b1acd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:21:44 2019 -0800

    Backed out debug code

commit 20daf54fd81a5810ff90c25a5b3dd28bceaab184
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:18:50 2019 -0800

    Added new HIDAPI driver files to the Xcode projects

commit 8d742d474558c1cfbc218b5cbe224c563a2a1bb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:12:36 2019 -0800

    Added new HIDAPI driver files to the Visual Studio project

commit fead0b24e1dc432d96548b080d9185bae8323973
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:02:12 2019 -0800

    Added missing files from previous commits

commit e22e77dadc2f6188af9719a0517332e26dcbbb5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:01:35 2019 -0800

    Added an untested driver for the Nintendo GameCube adapter, based on code contributed by Ethan Lee

commit 15d30298cf2f2b1fffc112aff984d357cf9e84b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:01:32 2019 -0800

    Added support for wireless Xbox 360 controllers using the HIDAPI driver

commit e7f7e3f40f2b2e603cb9d1f7629c87b865278bd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 15:01:30 2019 -0800

    Refactored HIDAPI controller code to support dongles and hubs that dynamically attach controllers

commit 5d5a56717f32d2978c3107ef74bf67bd4d767f37
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 19 13:54:03 2019 +0100

    Fixed bug 4906 - Pressing Back button terminates app after SDL_StartTextInput

commit 4237b1834e025f8721ec37b26ba604ccee93547c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 19 04:31:00 2019 -0800

    Fixed compiler warning

commit 7b2826f6c24d42e124f77dfa2488c1000c379fb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 17 12:03:57 2019 -0800

    Added Android support for the Hyperkin X91 and the SteelSeries Stratus Duo

commit 52b6ab21961b2d4cc0dada7c7191892a1bc2a5ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 16 17:11:23 2019 -0800

    Added support for the SteelSeries Stratus Duo

commit bc430d405c11d675db89bc42b5b078e09bd7caed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 16 10:26:36 2019 -0800

    Update for bug 4883 - Add approximation for display DPI on iOS
    
    Aaron Barany
    
    I realized I made a minor mistake in my patch: I changed the constructor prototype for SDL_DisplayData, but didn't update the declaration in the .h file. The compiler and linker don't complain, but it would probably be best to fix in case a later change runs into a problem from the mismatch. I have attached a patch to fix this.

commit a7ae9175c331fd962caf6b6e42dded4a1a186f41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 16 10:20:03 2019 -0800

    Fixed bug 4898 - No rumble because of integer overflow in SDL_JoystickRumble
    
    meyraud705
    
    On a Dualshock 4 controller using hidapi driver, calling SDL_JoystickRumble with a duration too long (SDL_HAPTIC_INFINITY for example) causes the rumble to stop immediately.
    
    This happens because of integer overflow on line 301 of SDL_hidapi_ps4.c
    (https://hg.libsdl.org/SDL/file/a3077169ad23/src/joystick/hidapi/SDL_hidapi_ps4.c#l301), which sets expiration time in the past.

commit 4d4e5584eaabf48e4d0058786d7cc1102f07a5f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 12 19:07:26 2019 -0800

    Fixed binding D-pad on NES30 controller

commit 9f8009f2e1f0560c46c0617a9e94d77adfa678a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:12:41 2019 -0800

    Added mappings for the Razer Serval on Windows and Mac OSX

commit cf9af481e0a6c90b06ce2f85be3a69e06a602be9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:12:39 2019 -0800

    Added support for the 8Bitdo NES30 GamePad in wired mode

commit c2b6d6f9ed1356ed72f95a33526b642c2239188f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:12:37 2019 -0800

    Enable the LED on PowerA Xbox One controllers

commit 511df4a53fafaf7b532e624218ab4b4784e0431e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:12:35 2019 -0800

    Added support for the BDA XB1 Spectra Pro

commit 55f8eabfaebc6a9d857ee8bb0cf2286499c7cfb4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:12:33 2019 -0800

    Identified the BDA XB1 Classic Controller

commit 0352814a8aa9b6fa990398bdc7780d2c375cb08b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:07:25 2019 -0800

    Added general remapping of controller manufacturer

commit b51d7f35aaf0ae449804e52e73516a8a6c0c0acb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 13 16:07:22 2019 -0800

    Added support for the HORI PAD A

commit 23c39a2e448ec711708de17fc9282faa7c379a55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 12 19:14:37 2019 -0800

    Strip trailing whitespace on controller manufacturer identification

commit cd515bd1b9b1726502d94e7830f862db2b4bd92e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 12 14:26:34 2019 -0800

    Fixed Xbox 360 Controller support using libusb on Linux

commit 1ac7eabaca371437c284a60a67485bd7c28b2a57
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 12 14:25:02 2019 -0800

    Fixed comment typo

commit 13e101516989635a06add09b8c81e4e3c3c1f44f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 12 20:33:11 2019 +0100

    Android: use SDL_arraysize()

commit 210f6dda957a2aa56c7bec58d33b2c0288579286
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 12 18:38:36 2019 +0100

    Android: use 'RegisterNatives' to export the native methods
    
    "The advantages of RegisterNatives are that you get up-front checking
    that the symbols exist, plus you can have smaller and faster shared
    libraries by not exporting anything but JNI_OnLoad"
    
    https://developer.android.com/training/articles/perf-jni#native-libraries

commit a613fc7cc25257ba5b9653e216dd270e886760a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 19:24:40 2019 -0800

    Added names for official Microsoft controllers, since they don't have descriptive product names

commit 0f52916027f68ffd6a20f319e485a328e8db7731
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 17:47:01 2019 -0800

    Added custom names for some controllers

commit e029fdbb383d9a4436ef5ee55b8da71a1b88e467
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 17:46:59 2019 -0800

    Shorten "Performance Designed Products" to "PDP"

commit 325a2efb3d7abe04dbc55b5e60a2bb59a0c7a3cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 17:46:57 2019 -0800

    Added support for the full line of PDP Xbox 360 and Xbox One controllers

commit 8b50dcb21bd0fd0ea33c43dfd3691a907efe86dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 17:46:54 2019 -0800

    Use the controller product string instead of hard-coding controller names

commit 89401b21e92191a14575b062f6fe27e876359b82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 10 13:09:52 2019 -0800

    Added support for the Razer Raion Fightpad for PS4

commit a21f6b7a9171cdb30c74852075e9d553cc29353d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 10 11:46:22 2019 -0800

    Add the manufacturer to the joystick name on Mac OS X, for consistency with other drivers

commit 2a161e7adddd93af9d52c9aa7cf5160b11bcbd4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 10 11:30:56 2019 -0800

    Remove any duplicate manufacturer in the joystick name

commit 3469481ef6bcec91dc69f5deae9f146f1bc05317
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 10 10:00:49 2019 -0800

    Don't include the manufacturer if it's already included in the product string

commit bb37a1ebf5515b041c77796c26025904876b97e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 10 09:38:10 2019 -0800

    Fixed the name of the Razer RAION Fightpad

commit 82d2c357c3048a2f9cea304f8785635fe121350b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 9 16:52:11 2019 -0800

    Fixed rumble after Xbox controller initialization
    When we initialize the controller it has an internal rumble sequence number, and if our rumble sequence number doesn't match that, rumble won't happen. To fix that we cycle through the range of sequence numbers, and at some point we'll match up with the controller's sequence number and it'll roll forward until it matches our next rumble sequence number.

commit 3d34750ced48dba6adb03ba88f04be27d313f047
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 9 13:54:05 2019 -0800

    The PowerA Mini controller blocks while writing feature reports, so don't try to use the HIDAPI driver for it on Linux

commit 3626506369adf78821d8e628e43dcd7a011c48c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 9 13:54:03 2019 -0800

    Added some missing Xbox controller names

commit 140918bb6fbb7d710da204012f9e4657329444a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 8 11:36:40 2019 -0800

    Fixed bug 4883 - Add approximation for display DPI on iOS
    
    Aaron Barany
    
    There appears to be no way to directly access the display DPI on iOS, so as an approximation the DPI for the iPhone 1 is used as a base value and is multiplied by the screen's scale. This should at least give a ballpark number for the various screen scales. (based on https://stackoverflow.com/questions/25756087/detecting-iphone-6-6-screen-sizes-in-point-values it appears that both 2x and 3x are used)
    
    I have updated the patch to use a table of current devices and use a computation as a fallback. I have also updated the fallback computation to be more accurate.

commit 54748a39bedee30e52f44f3de66f8e810f0a958b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 8 11:33:06 2019 -0800

    Fixed bug 4890 - Add hint for SDL that the graphics context is externally managed
    
    Aaron Barany
    
    Add SDL_HINT_VIDEO_EXTERNAL_CONTEXT hint to notify SDL that the graphics context is external. This disables the automatic context save/restore behavior on Android and avoids using OpenGL by default when SDL_WINDOW_VUKLAN isn't set.
    
    When the application wishes to manage the OpenGL contexts on Android, this avoids cases where SDL unbinds the context and creates new contexts, which can interfere with the application's operation.
    
    When using Vulkan and Metal renderer implementations, this avoids SDL forcing OpenGL to be enabled on certain platforms. While using the SDL_WINDOW_VULKAN flag can be used to achieve the same thing, it also causes Vulkan to be loaded. If the application uses Vulkan directly, this is not necessary, and fails window creation when using Metal due to Vulkan not being present. (assuming MoltenVK isn't installed)

commit 135a90539b1d0816cd856809f212eefc38005193
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 6 13:48:13 2019 -0800

    Fixed the Apple TV remote menu button on tvOS 13.2 (thanks Romain Tisserand)

commit 7a51ad6a501f8b6a4af59fcc73d65aade045cb4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 6 13:48:10 2019 -0800

    Fixed the game controller menu button on tvOS 13.2 (thanks Romain Tisserand)

commit 597f11e563084270b7139b42927d38d35467c416
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 5 17:27:06 2019 -0500

    cocoa: Patched to compile on older compilers.

commit 8342fa7c7e657122b01bf11a79fdd60267d40a11
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 13:48:08 2019 -0800

    Fixed controller mapping issues caused by PS3 gyro jitter

commit 8ce894a316ea54d883104863e4183a6d2ec2de92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 13:18:56 2019 -0800

    Ignore axis jitter when mapping controllers

commit 6d00166813b76e799b03bc0df8e3df5baab2888e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 13:18:53 2019 -0800

    Get full axis range for PS3 controller triggers on Linux

commit ca2c8609e1eef465c340c32ce00f3a271b6c6180
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 4 12:20:24 2019 -0500

    cocoa: SDL_GetDisplayDPI() should account for Retina displays.
    
    Fixes Bugzilla #4856.

commit b7576025e3fb5e224489a180aeca219ee27d71c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 3 22:07:58 2019 -0800

    Fixed bug 4882 - Fix build for iOS when disabling OpenGL
    
    Aaron Barany
    
    Since OpenGL is deprecated on iOS, it is advantageous to be able to remove all OpenGL related code when building SDL for iOS. This patch adds the necessary #if checks to compile in this case.

commit e5af951eae47e1e0454a7e166cee57d87719a49e
Author: Alex Smith <asmith@feralinteractive.com>
Date:   Mon Dec 2 15:41:25 2019 +0000

    Fix sending SDL_WINDOWEVENT_RESTORED after unminimizing windows on X11
    
    SDL_SendWindowEvent will only send a RESTORED event if the window has
    the minimized or maximized flag set. However, for a SHOWN event, it
    will clear the minimized flag. Since the SHOWN event was being sent
    first for a MapNotify event, the RESTORED event would never be sent.
    Swapping the SendWindowEvent calls around fixes this.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=4821

commit 55eb76218db1a76d9ade39422862951624230bf1
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Wed Nov 20 20:27:45 2019 -0800

    Use stat() to minimize input device opens when not using udev
    
    Calling open() on input devices can generate device I/O which blocks
    the main thread and causes dropped frames. Using stat() we can avoid
    opening anything unless /dev/input has changed since we last polled.
    
    We could have used something fancy like inotify, but it didn't seem
    worth the added complexity for this uncommon non-udev case.

commit 7a3ae590377a3991ff83e43308853e4171ec08e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 3 07:12:55 2019 -0800

    Fixed bug 4877 - Add support for loading menus from a nib/xib instead of building a hardcoded minimum set
    
    Eric Shepherd
    
    Currently, SDL on Cocoa macOS creates a rudimentary menu bar programmatically if none is already present when the app is registered during setup.
    
    SDL could be much more easily and flexibly used on macOS if upon finding that no menus are currently in place, it first looked for the application's main menu nib or xib file and, if found, loaded that instead of programmatically building the menus.
    
    This would then let developers simply drop in a nib file with a menu bar defined in it and it would be installed and used automatically.
    
    Attached is a patch that does just this. It changes the SDL_cocoaevents.m file to:
    
    * In Cocoa_RegisterApp(), before calling CreateApplicationMenus(), it calls a new function, LoadMainMenuNibIfAvailable(), which attempts to load and install the main menu nib file, using the nib name fetched from the Info.plist file. If that succeeds, LoadMainMenuNibIfAvailable() returns true; otherwise false.
    * If LMMNIA() returns false, CreateApplicationMenus() is called to programmatically build the menus as before.
    * Otherwise, we're done, and using the menus from the nib/xib file!
    
    I made these changes to support a project I'm working on, and felt they were useful enough to be worth offering them for uplift. They should have zero impact on existing projects' behavior, but make Cocoa SDL development miles easier.

commit 3da6a0b20e1591fbb5da6eac3ffa1e22364ed6ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 3 03:53:06 2019 -0500

    pulseaudio: don't let FlushCapture get stuck in an infinite loop on shutdown.
    
    Fixes Bugzilla #4645.

commit 7b08eb481d34ecc3d7b0fb976d768d5cdd463f86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 3 03:07:34 2019 -0500

    direct3d11: Fixed incorrect texture coordinates (thanks, Martin!).
    
    Fixes Bugzilla #4860.

commit c8a2ef863e09ad52da5e390d8d61622da0285e33
Author: Gerasim Troeglazov <3dEyes@gmail.com>
Date:   Tue Dec 3 02:49:01 2019 -0500

    haiku: Disable pointer history
    
    (note from PulkoMandy on Bugzilla #4442 about why this is a desirable patch:
    "The event mask: note that the window and GL view run in their own thread
    which I don't expect to be too much CPU bound, and will quickly pop these
    messages and forward them to the main thread in our SDL code. Therefore the
    B_NO_POINTER_HISTORY should be no problem, and is the default on Haiku
    anyway (it was not in BeOS, but we changed that and added a
    B_FULL_POINTER_HISTORY flag to request the old behavior explicitly). So, this
    seems fine.")
    
    Partially fixes Bugzilla #4442.

commit 183929bd2923605802ddc23cff2cdc13f95b89f4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 3 02:42:53 2019 -0500

    cmake: ${SDL_CMAKE_DEBUG_POSTFIX} needs to be wrapped in quotes.
    
    Otherwise, if it's an empty string, it causes problems.
    
    Fixes Bugzilla #4117.

commit b98808f6394760896612cccab2e8635a16f3bb16
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 28 14:23:24 2019 -0800

    Updated DPAD binding for 8Bitdo Zero controller

commit 2fd3f756d251eb11d4e55099dffff8d8800786e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 28 11:44:17 2019 -0800

    Fixed trying to use the HIDAPI driver for the original Xbox One S Bluetooth controller

commit 8aaf945b2fd7a1125deeb6626215219180a041a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 28 11:44:15 2019 -0800

    Fixed mapping controllers that have axes that start at -32768 and then snap to 0 at the first input report

commit a3a8fcef77c4c5552f650866dc52cea24b38ef6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 28 10:04:05 2019 -0800

    Added support for the 8Bitdo SN30 Pro, wired connection

commit 4a7761388123d0625f8b9f422e976d8d1e302909
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 18:26:57 2019 -0800

    Added the full Xbox One Elite Series 2 controller initialization sequence, to start input reports after switching out of Bluetooth mode.

commit d4e1c797205822e8da645b148a4d784c29abcd5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 17:17:03 2019 -0800

    Backed out changeset 36b79874a9c8, which fixed bug 4775
    This change broke individual key events, so I'm reverting the change until we can investigate a better fix.

commit b8d65da459256f762689a0d0982e240dd3a81148
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 15:27:21 2019 -0800

    Check for duplicates in the supported controller list

commit 0b863f8a5cdbb164a4c0926d95d213f241cabec3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 15:27:19 2019 -0800

    Sorted controller entries by type and VID/PID to more easily find entries in the list

commit 84f8e53c854d1f3d263f2e2bdbd83d73df04d76f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 15:27:16 2019 -0800

    Fixed detection of the Mad Catz FightPad Pro

commit 98cc9cf208b6dff44b5d40d01ceb200f21f51a2a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 12:38:53 2019 -0800

    Added support for the Google Stadia Controller

commit 43cb7b3c51fcdc02910c9b3b19fe004f1578887d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 12:38:51 2019 -0800

    Added support for the Hori Fighting Commander

commit a76e5474774938608ee3159de6f0e18160b4b5d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 12:38:48 2019 -0800

    Added support for the PowerA XB1 Fusion Fight Pad

commit 0d0ec5fe5260f132cfe6650b851c15e7765155f0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 26 20:41:00 2019 +0300

    CMakeLists.txt: sync DYLIB_CURRENT_VERSION to Xcode project

commit a5e6b87ce632731a20946ae7a0db09b0dda9b5c1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 26 08:35:41 2019 -0800

    Added support for a variant of the PowerA FUSION Pro Controller

commit 532164366e4596cf86aefb4fc99ffdaffa438da0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 16:29:12 2019 -0800

    Use the same logic to get the config descriptor in hid_open() as in hid_enumerate()

commit f3d95396d6dd802240c9dd6b8f246d6f7b305b7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 15:02:54 2019 -0800

    Added some missing controller names

commit 8243a3e80190ae1eaffb21679c3c1182bebe282e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 15:02:50 2019 -0800

    Added support for the Hyperkin X91

commit de6397cfff0e87ea9d823730046994a7efe2c8a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 15:02:48 2019 -0800

    Use SDL_hidapi.c instead of the platform specific hid.c implementations when libusb isn't available

commit 494af7a6e7e34940a1219bf7522c56ff1144ae27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 15:02:45 2019 -0800

    Backed out change to dynamically load udev - it's already happening in SDL_hidapi.c

commit 2713a1aae0f92fce94f9723cd3128f125038e9a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 13:27:26 2019 -0800

    Moved the SteelSeries controllers into the "known controller" section

commit 26d53fbb8377f4b551244ccaaa78c75876810148
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 25 11:12:09 2019 -0800

    Updated identification for the SteelSeries Stratus Duo

commit 308e7f2fecf5accbc543794ba5d8adb145837e0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 23 12:11:20 2019 -0800

    Linux hidapi code dynamically loads udev

commit 359ae75bb26cdd4efd5542bb37352c9ff855a907
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 23 12:11:16 2019 -0800

    Fixed DragonRise Generic USB PCB showing up as a PS3 controller

commit 116bd7eb7a516610b36bd3c1cc3d5abbd6224114
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 23 11:35:20 2019 -0800

    Added the Linux hidraw sources when libusb isn't available

commit 8e153922e48fbb0f8dd3fd24c0194da679097a3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 22 17:46:30 2019 -0800

    This packet didn't end up being needed to initialize input for the Xbox One Elite Series 2 controller

commit 6fc38864416b9fab128be8e17bae185a954cee45
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Nov 23 03:28:02 2019 +0300

    SDL_gamecontroller.h: remove comma at end of enumerator list

commit 6dce9733d98972817e968dee5edd216d31450b2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 22 16:23:37 2019 -0800

    Use SDL_zeroa() appropriately

commit 733f25252a12feba7d6d8cdbee7b495b83bf8f29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 22 14:09:24 2019 -0800

    Fixed build

commit 13006ba9e1f997c72a39770a9b381cfee51598e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 22 13:44:40 2019 -0800

    Added support for the PDP Versus Fighting Pad

commit b5aff9d7c347cd9346759fdb8ab0982a3f44bd4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 22 13:12:12 2019 -0800

    Added SDL_GameControllerTypeForIndex() and SDL_GameControllerGetType() to return the type of controller attached.

commit c0650aca21c1c33d2942d201abec862e102ce326
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 14:04:48 2019 -0800

    Added support for the PDP Battlefield One controller

commit a132b183cd89a5e2aeb436a71aeacd7e37073f81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 13:09:00 2019 -0800

    Fixed the guide button on the NVIDIA Controller v01.04

commit cc4f8905219ee590597d04c879b0da3b6407d45a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 12:11:47 2019 -0800

    Added support for the NVIDIA Controller v01.04 on Linux and Mac OS X

commit b8d325c83043377f47cc805d2886cdc1315e2902
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 21 23:04:20 2019 +0300

    fix xcode project file permissions

commit 2a7b635b9beca2633258ff0c08f4f48c6092cbe2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 11:52:50 2019 -0800

    Added support for the NVIDIA Controller v01.04 on Android

commit 51487a71b980c1ce4cf2054710dddc4750f9ee2d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 10:14:57 2019 -0800

    Added support for the MOGA XP5-A Plus

commit c8896e4681a5492316019972ee5ae23faf7ad9da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 21 10:09:26 2019 -0800

    Turned on controllermap debug output by default

commit 405a3c821b0328e7b56b01b49855fbfdb240c04f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 21 11:50:50 2019 +0300

    ran gendynapi.pl after newly added SDL_string.c functions.

commit f7df146d1549cb803fbc4b58bb975ae987996008
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 21 11:33:50 2019 +0300

    updated os/2 config file

commit 8cdb4526d96bdb25f1a6594b2830b4a3677b89fa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 21 10:33:56 2019 +0300

    CMakeLists.txt: add several missing function checks for unix case.

commit d3232a82a008f81fad670b9d4d01dc4a45f20295
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 21 10:02:02 2019 +0300

    configure: add back mistakenly removed strtok_r check, and regenerate.

commit 650964461ee9202b8f073bc8c3369530fab1a1a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 20 16:42:50 2019 -0800

    Improved XInput VID/PID detection and added SDL_wcsstr() and SDL_wcsncmp()

commit eb8f14bb6a42aa36ad297916527fb9a5fae375cc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 20 20:40:50 2019 +0300

    added SDL_strtokr() as a replacement for POSIX strtok_r (bug #4046.)

commit ce8411c5877537a49aa1ca1f38e2a89c174c0993
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 20 08:43:24 2019 -0800

    Fixed Xbox One Elite Series 2 showing up as 2 devices in Bluetooth mode on Windows

commit 200d37dabbeff38526514969cc97e10838ce53ce
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Nov 20 02:47:40 2019 +0300

    SDL.c (SDL_ExitProcess): unconstify its param to match its declaration.

commit 972a70d8449bcaca225b210a0c09843310d86352
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 19 15:15:00 2019 -0800

    Added support for the Xbox One Elite Series 2 controller on Mac OSX

commit 68d8fc5c7b7c645ba3906e9f67126e35c9955b73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 15:46:13 2019 -0800

    Added support for the Xbox One Elite Series 2 controller in wired mode

commit 2bfcf5cd9684fc5759088b022288004c5f36e3fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 14:08:05 2019 -0800

    Added Linux controller mapping for the Xbox One Elite Series 2 controller in Bluetooth mode

commit 1e24a1514d534f0b796ad2249a4f7988aecdef64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 11:51:39 2019 -0800

    Added names for some missing Xbox controllers

commit 144956442d0aa281d916f6df104b405bd4457105
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 11:44:51 2019 -0800

    Added identifiers for the Xbox One Elite Series 2 controller

commit df728f859171209f2e1fa69372d20696bb4360ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 10:48:14 2019 -0800

    Fixed unused function warning on Android

commit dd7fe0af089dacf4d6168d81241ec0702124b0ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 22:45:49 2019 -0800

    Fixed bug 4814 - Missing scancodes on Linux
    
    Michael Roe
    
    The mappings for keyboard scancodes on Linux do not include keypad left and right parentheses (used on some Microsoft keyboard), keypad plus/minus, LANG1 and LANG2 (used on Korean keyboards), XK86MenuKB, and F20 (remapped to Audio Mic Mute in the usual X11 config).

commit b1539c4c49e9205001159320899dcd93282894d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 22:35:48 2019 -0800

    Fixed bug 4819 - Attempting to create an OpenGL ES context with unachievable MSAA parameters under X11 dooms the program
    
    Solra Bizna
    
    I have written a program that, in the event that the user requests more MSAA samples than their hardware supports, attempts to gracefully fall back to the best MSAA available. This code works with my conventional OpenGL renderer, but if I change nothing about the code except to make it request an OpenGL ES profile instead, Xlib kills the program with an error that looks like:
    
    X Error of failed request:  BadWindow (invalid Window parameter)
      Major opcode of failed request:  4 (X_DestroyWindow)
      Resource id in failed request:  0x5c00008
      Serial number of failed request:  188
      Current serial number in output stream:  193
    
    To trigger the bug, attempt to create a window with the SDL_WINDOW_OPENGL flag, with SDL_GL_CONTEXT_PROFILE_MASK set to SDL_GL_CONTEXT_PROFILE_ES, and with SDL_GL_MULTISAMPLESAMPLES set to any unsupported value. SDL_CreateWindow properly returns NULL, but at this point the program is already doomed. Xlib will shortly terminate the program with an error. Calling SDL_CreateWindow again will immediately trigger this termination.
    
    I have attached a skeletal program that reproduces this bug for me. Replacing SDL_GL_CONTEXT_PROFILE_ES with SDL_GL_CONTEXT_PROFILE_COMPATIBILITY avoids the bug (but, obviously, doesn't create an OpenGL ES context).
    
    As I suspected, the problem was with XDestroyWindow being called twice on the same window. The X11_CreateWindow function in src/video/x11/SDL_x11window.c calls SetupWindowData. If initialization fails after that point, XDestroyWindow gets called on the window by a subsequent call to X11_DestroyWindow. But, later in the same function, iff a GLES context is requested and initializing it fails, X11_XDestroyWindow (which wraps XDestroyWindow) is manually called. Shortly after, the intended call to X11_DestroyWindow occurs, which attempts to destroy the same window again. Boom.
    
    (The above confusing summary involves three separate, similarly-named functions: XDestroyWindow, X11_DestroyWindow, X11_XDestroyWindow)
    
    I have attached a simple patch that removes the redundant X11_XDestroyWindow calls. I've tested that XDestroyWindow still gets called for the windows in question, and that it only gets called once.

commit 85aabec27e26c118ccec93549a343eb6e5027c69
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Fri Oct 11 22:08:53 2019 +0100

    atomic: Support compiling on ARMv3

commit 20ddf45ede720be22fa9305809f3aa7b922cde97
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sat Nov 2 22:58:52 2019 +0000

    Added SDL_PIXELFORMAT_BGR444

commit a9ac9e3865ba69b2c6dbe2d07ca666abd95ed703
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 19:58:29 2019 -0800

    Don't try to use this driver with the Xbox One S in Bluetooth mode on Linux

commit 9ca5373024f3579e8b50c7c3c9ad74705033650f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 19:55:53 2019 -0800

    Added support for the Xbox One S controller in Bluetooth mode on Linux

commit 9d4c3f12cd788738aae4074e610007b3f671b68c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Nov 16 22:59:56 2019 +0100

    Fix missing prototype warning

commit 2dab79bcc2b6e9c3cbd65ede1108651c7c9bef1f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Nov 16 22:55:36 2019 +0100

    Fix crash when detecting SIMD

commit cf33f1f0ef4d43f604388a3169a51044fbe6ec27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 13 21:53:01 2019 -0800

    Added a utility function to simplify the hint handling logic

commit a63e93a193ac9e5e677b1278ac8c1df0fc5501bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 13 15:46:58 2019 -0800

    Supported Android and Apple hardware has ARM SIMD capability

commit 9a76bebfbc4984ffd78663e4e0c09e8a90f14958
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 13 14:24:48 2019 -0800

    SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS defaults to true, to match Steam's default behavior

commit 8bd3398020cbdac06832f438d367630b44714fc0
Author: Anuj Mittal <am.devel@gmail.com>
Date:   Wed Nov 13 10:51:02 2019 +0300

    configure: check for build dir when building version res (fix bug #4858)
    Fixes a race where we try to build version res file in build directory
    before it has even been created. Prevents errors like:
    
    /bin/bash ../SDL2-2.0.10/build-scripts/updaterev.sh
    /bin/bash ../SDL2-2.0.10/build-scripts/mkinstalldirs build
    mkdir -p -- build
    x86_64-pokysdk-mingw32-windres --include-dir=/home/pokybuild/yocto-worker/meta-mingw/build/build/tmp/work/x86_64-nativesdk-mingw32-pokysdk-mingw32/nativesdk-libsdl2/2.0.10-r0/recipe-sysroot/opt/poky/3.0/sysroots/x86_64-pokysdk-mingw32/usr/include ../SDL2-2.0.10/src/main/windows/version.rc build/version.o
    x86_64-pokysdk-mingw32-windres: build/version.o: No such file or directory
    Makefile:692: recipe for target 'build/version.o' failed
    make: *** [build/version.o] Error 1
    make: *** Waiting for unfinished jobs....
    touch build/.created
    WARNING: exit code 1 from a shell command.
    
    Extension of fix:
    https://hg.libsdl.org/SDL/rev/bb65ba8e039b
    
    Signed-off-by: Anuj Mittal <am.devel@gmail.com>
    ---
     configure.ac | 2 +-
     1 file changed, 1 insertion(+), 1 deletion(-)

commit b44fe0f8380af860945da6cd941f0310f8e90179
Author: EXL <exlmotodev@gmail.com>
Date:   Tue Nov 12 17:24:37 2019 -0500

    haiku: Rename BE_* entities to HAIKU_*
    In favor Bugzilla #2349.
    Update copyright years to 2019.
    
    Partially fixes Bugzilla #4442.

commit 33ae5e5e990bce6951136850edb6abc70b4d2204
Author: Peter Kosyh <p.kosyh@gmail.com>
Date:   Mon Nov 11 22:23:33 2019 -0500

    haiku: mouse_relative fix
    
    Partially fixes Bugzilla #4442.

commit 79510b75690ab4cdd0bd756e58d53545e0510edd
Author: Peter Kosyh <p.kosyh@gmail.com>
Date:   Mon Nov 11 22:22:40 2019 -0500

    haiku: mouse->ShowMouse method added
    
    Partially fixes Bugzilla #4442.

commit 95a402d7455dcf437d0a64bb50ec8d3cee4252fd
Author: Gerasim Troeglazov <3dEyes@gmail.com>
Date:   Mon Nov 11 22:21:17 2019 -0500

    haiku: Add support for relative mouse mode.
    
    Partially fixes Bugzilla #4442.

commit bd648bd5a3406b87f42035b5e75eea1ccae1b803
Author: Gerasim Troeglazov <3dEyes@gmail.com>
Date:   Mon Nov 11 22:18:21 2019 -0500

    haiku: Add simple relative mode for mouse.
    
    Partially fixes Bugzilla #4442.

commit 3b516e633b4a170ba54b6e96b069e89fa59b3dbc
Author: Adrien Destugues <pulkomandy@pulkomandy.tk>
Date:   Mon Nov 11 22:14:00 2019 -0500

    haiku: Fix crash when opening window.
    
    - _num_clips was not set in constructor, so a NULL _clips could be
      mistakenly dereferenced.
    - As _clips is accessible outside the class, it is not a good idea to
      free/reallocate it. Try to limit this by reallocating only when it needs to
      grow.
    
    Partially fixes Bugzilla #4442.

commit 50806eeea2b2eec3b5c78fb570bac8e8e029df19
Author: Jerome Duval <jerome.duval@gmail.com>
Date:   Mon Nov 11 22:04:10 2019 -0500

    haiku: use addr_t instead of size_t for OpenGL dynamic loading.
    
    Partially fixes Bugzilla #4442.

commit 55b5d8dce67c45ab717a203868b1e71047857177
Author: Peter Kosyh <p.kosyh@gmail.com>
Date:   Mon Nov 11 21:59:39 2019 -0500

    haiku: Invert mouse wheel values to match what SDL expects.
    
    Partially fixes Bugzilla #4442.

commit b22fb9e2bacbc954be20f2e2bc7fbb8f2e665ccf
Author: EXL <exlmotodev@gmail.com>
Date:   Mon Nov 11 16:44:40 2019 -0500

    haiku: Implement message box for Haiku
    
    Add implementation for functions:
    
    SDL_ShowSimpleMessageBox()
    SDL_ShowMessageBox()
    
    Add simple customization support also.
    Fix build for x86_gcc2.
    
    Partially fixes Bugzilla #4442.

commit a365c7f6fb941359166752489c94ba41370a42f0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 4 11:15:24 2019 +0300

    ran gendynapi.pl after SDL_HasARMSIMD() addition

commit b70222d056e19aed30e01df14e1a1bd0d46652f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 1 04:32:44 2019 -0400

    Fixed a comment typo (thanks, Dominus!).
    
    https://twitter.com/iniquitatis/status/1190064278365188102

commit 303646a69766281244212d81e89fc3d9a34d7118
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 31 15:53:10 2019 +0100

    Android: some readability: redundant casts, deads stores, redundant control flow

commit fea3c8bdef9fef6f9ca94ef188ae3489ea407cee
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 31 17:10:02 2019 +0300

    SDL_qsort.c: sync comments with version 1.15 from mainstream

commit 88ba6798e9c538337037a778266bea79ab021791
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 21:12:36 2019 +0100

    Wayland: touch events, use of memory after it is freed

commit 86ae245bc0cdfa0632adbe289a1118580bc76625
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 17:59:20 2019 +0100

    Use correct enum: typo in org_kde_kwin_server_decoration_mode
    instead of org_kde_kwin_server_decoration_manager_mode

commit 81cdd5000202d70f37187a034b86709eee84e1f2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 17:35:40 2019 +0100

    Remove redundant 'SDL_GetErrBuf' declaration

commit 9e509e4a4fbd9b542f30fce2d591a75d622e8fac
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:45:53 2019 +0100

    SDL_render_gles2: remove ineffective widening cast
    warning: either cast from 'int' to 'size_t' (aka 'unsigned long') is ineffective, or there is loss of precision before the conversion [bugprone-misplaced-widening-cast]

commit ce308a784169faebc45738d669815649e60c86d8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:33:32 2019 +0100

    revert this const parameter for X11 function

commit dab55a8d2321efa13aab35921bc03c7daacd294a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:20:58 2019 +0100

    Readability: remove redundant cast

commit f16e51068bb7616ff552891b88d60662d2f7c059
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:17:59 2019 +0100

    Fix const warning in RLE getpix functions

commit 25d53a44754007e283810e34aa112f3e1ff66c4c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:12:39 2019 +0100

    SDL_syspower.c: remove redundant expression

commit d4a67e2541cdbffca3c5f73e288d62e259672392
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 16:06:51 2019 +0100

    Readability: change some pointer parameter to be pointer to const

commit 3d100df36f29acbaf6fd30a3ea3fb5f08620f272
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 15:43:49 2019 +0100

    Readability: remove const-qualifation from function declaration
    const-qualification of parameters only has an effect in function definitions

commit 60d3965ece87308ed00719bbc8e181ef309a64ba
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 15:36:17 2019 +0100

    Readability: remove redundant return, continue, enum declaration

commit b458d7a28fd39e265958e435b88715368eb4693b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 15:13:55 2019 +0100

    Readability: remove redundant cast to the same type

commit 56cbe12037fbd34c9eef97cd2c3c2ea6da602d9f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 14:37:06 2019 +0100

    BlitAuto: remove redundant cast to the same type

commit 735691ecd6d58cb489a2b2c356cc30c1de0afcd1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 14:29:41 2019 +0100

    Remove nested redundant #ifndef

commit ff0d9245a98228a7cab00e92df2355b10a066df6
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 30 14:26:18 2019 +0100

    SDL_syspower: remove dead store warning
    Value stored to 'str' during its initialization is never read

commit 42153342ab9c457ae38277542e44c43317232e66
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Oct 29 16:13:41 2019 +0100

    Use fill_function for FillRect SIMD/NEON (bug 4365)

commit bda618a2af6bf3465bb95925a9128b778875b0d8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 27 11:41:48 2019 -0300

    iOS: remove some unused code, minor code style cleanup.

commit df49e2a57234abd517c1e3fa16c50c1968b8d432
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 27 11:41:11 2019 -0300

    iOS: replace a deprecated function call with a non-deprecated equivalent.

commit 7289e5e21564448d3f3f2c47ba06ec08851aa10f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Oct 27 15:22:28 2019 +0100

    Android: remove warning in blit_features
    "integer constant not in range of enumerated type 'enum blit_features'"

commit 463bf5c2d84b72f3afd94b36adfc6d4471825696
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Oct 27 14:52:09 2019 +0100

    Android: fix compilation error of SDL_cpuinfo.c on android-r13b (bug 4365)

commit c0255be458e23b6a8d34023035213415cb26da45
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 26 23:58:55 2019 -0400

    x11: check if the X server honored our XMoveWindow() call (thanks, R.E. Rust!).
    
    This can happen if a window is still grabbed when we try to move it, or if
    the X11 ecosystem is just in a bad mood, I guess.
    
    This makes sure that SDL will report the correct position for a window;
    otherwise, SDL_GetWindowPosition will just report whatever the last
    SDL_SetWindowPosition call requested, even if the window didn't actually move.
    
    Fixes Bugzilla #4646.

commit a963e36e2d1241902e182b04aa777b766c99f57f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 26 15:27:51 2019 -0300

    macOS: more robust detection and switching of exclusive-fullscreen display modes (bug #4822).

commit a9b867ab078965fca599f33a4499b7cef77cd11a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 26 14:39:50 2019 -0300

    macOS Fix potential memory leaks in the Metal renderer caught by clang's static analyzer.

commit 1ce1364b29e90af81133c0ddcb4a92d9e81f6b49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 26 12:56:18 2019 -0400

    d3d11: Don't fail if there's no vertex data to upload (thanks, Martin!).
    
    Fixes Bugzilla #4832.

commit 6dffc5d461f5549cf748b915c8d235e446e3063c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 25 00:07:30 2019 -0400

    cpuinfo: Remove incorrect #warning when building for non-ARM architectures.

commit b7df26037b869d4989890801ee2da1c634d8b33d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 24 23:17:19 2019 -0400

    cmake: added support for enabling the ARM SIMD/NEON code.

commit d5e9fcf16ffd2f837dae1ad237faf18db3d68e86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 24 21:51:55 2019 -0400

    configure: Regenerate configure script with the ARM SIMD/NEON changes.

commit 07029549097d10bd09e27322c617b8982c51defd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 24 21:41:03 2019 -0400

    configure: warn about MIT-licensed code if using ARM SIMD/NEON optimizations.

commit 72f8044a42aed3f1c9fbcb58c47fa3d4417a9ba7
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:17:52 2019 -0400

    ARM: NEON assembly optimization for SDL_FillRect

commit 1187b013a5892ceb594633288b6e31cfa6427208
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:17:38 2019 -0400

    ARM: NEON assembly optimization for function BlitARGBto565PixelAlpha

commit 2dfe06056413d4c919f73ac0d936cef25e2144a9
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:17:19 2019 -0400

    ARM: NEON assembly optimization for function BlitRGBtoRGBPixelAlpha

commit a6bfdd103f6251f688979824defebd6dd7cd89cc
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:17:05 2019 -0400

    ARM: Create configure option --enable-arm-neon to govern assembly optimizations

commit 74846657ece9cd0f227752b3b80bdf002b39d7bc
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:15:50 2019 -0400

    ARM: SIMD optimization for 4:4:4:4 to 8:8:8:8 normal blits

commit becc649ae2cf681bbbb28e977e64782b1f002eba
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:15:35 2019 -0400

    ARM: assembly optimization for SDL_FillRect

commit 7ac733f0254997b4bb9b578f8ea2ff4817125627
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:15:21 2019 -0400

    ARM: SIMD assembly optimization for BGR-to-RGB 32bpp normal blits

commit 8425d9d5d0eb199bf51c00f6261f3ff960418f92
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:15:09 2019 -0400

    SDL_blit: use a named enum for required hardware bits in dispatch tables

commit 0eaa52cedf6b63ed65768f88bb335db7aca40685
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:13:56 2019 -0400

    ARM: SIMD assembly optimization for function BlitARGBto565PixelAlpha

commit 57723b83e8654139d3d09a488f15e97e1d3628eb
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:13:05 2019 -0400

    ARM: SIMD assembly optimization for function BlitRGBtoRGBPixelAlpha
    
    Much of the heavy lifting of this optimization is lifted from the Pixman
    project, which is distributed under an MIT-style license. As far as possible,
    these elements have been relicensed to the zlib license.

commit 6a6a05289ef9bdbef646b2b8e6d998444212bcfa
Author: Ben Avison <bavison@riscosopen.org>
Date:   Thu Oct 24 21:12:08 2019 -0400

    ARM: Create configure option --enable-arm-simd to govern assembly optimizations

commit 59beaccd50f7bbc9e6cca8a32d93081b5eb66935
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Oct 24 20:15:54 2019 -0300

    macOS: Expose high dpi-capable display modes on macOS 10.13+.
    
    Fixes an issue in macOS 10.15 where the displayed content would move up after entering, exiting and re-entering exclusive fullscreen when certain display modes were used (bug #4822).
    Bug #3949 is also related to this change.

commit 8081f11773d69b3cfdb070ad86868d8d2bc900fa
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 24 18:07:30 2019 +0200

    Fixed bug 2014 - Hardcoded srcA value in SDL_Blit_auto.c functions

commit 59352cea8bfcd36d6d01414c5f256fac33836162
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 11:25:16 2019 +0200

    Fixed bug 4775 - Japanese on Android, remove inputtype PASSWORD (Thanks Tamo!)

commit 3a8b8994285d67471b38276c6ee75173498e8f98
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 11:07:11 2019 +0200

    Android: remove eglGetProcAdded busted comment (bug #4040)

commit 0f871c033c9f990250b62bd9c5d71441c1266c97
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 09:53:23 2019 +0200

    Fixed bug 4843 - Passing NULL to memset in SDL_PrivateLoadButtonMapping
    (Thanks!)

commit ed469fa586e436b1e3cf41924e36090a0ebbfd17
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 09:36:41 2019 +0200

    Fixed bug 4842 - Redundant condition in MS_ADPCM_Decode and IMA_ADPCM_Decode
    (Thanks!)

commit c9d0e2ae0ae43f32f55061401b509807f7440c97
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 09:26:27 2019 +0200

    Fixed bug 4840 - Read of uninitialized memory in DXGI_LoadDLL (Thanks!)

commit d5d34de4dbc9bf4696b7514c92fe2b48f7263f52
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 09:17:53 2019 +0200

    Fixed bug 4839 - Read of uninitialized memory in Win32_ResizeWindowShape
    (Thanks!)

commit 758badffa5e197b088de14f7534f3b32a77a7c46
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 08:58:52 2019 +0200

    Fixed bug 4841 - Misplaced parenthesis WIN_WindowProc / WM_ACTIVATE / ClipCursor
    (Thanks!)

commit b7ab3b39842a9cbe91776147359963feb92073bf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 08:50:57 2019 +0200

    Fixed bug 4838 - Use after free in SDL_JoystickUpdate (Thanks!)

commit 3ac67cf458bb23c8ed481c24b9f8ddf84a0ef4fd
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Oct 23 08:46:59 2019 +0200

    Fixed bug 4837 - Use after free in SDL_SensorUpdate (Thanks!)

commit 5025109f2927391b0303aa075fb596bac5582b76
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 15:43:58 2019 -0700

    Fixed accidental whitespace

commit 9da4bfc141d191fcf7941c2423c6a72663d1455d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 10:57:07 2019 -0700

    Added support for the Power A Nintendo Switch Enhanced Wireless Controller

commit f96da11f93926d9838eb16c477b1c063b703a739
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 10:28:51 2019 -0700

    Reordered Power A Switch controllers so they're grouped together

commit 9e7894efacf8e630bcc8df2c77ccd79007b1b4d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 10:27:30 2019 -0700

    Added support for the PowerA - Super Mario Controller

commit 4a25a099a0d15e2e392d55638951cbbdd3486fff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 10:26:49 2019 -0700

    Fixed the location of controller_type.h in the Visual Studio project

commit 7bf6c887c7ef1e603cf2e311b35d01cdcbd75736
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 10:25:55 2019 -0700

    Fixed the location of controller_type.h in the Visual Studio project

commit 9530ccba0f8de171109fc65369d4a2502d630755
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 21 22:22:28 2019 +0300

    SDL_endian.h: Use endian.h for OpenBSD.
    
    Patch from OpenBSD CVS, authored by Donovan Watteau.

commit 7c7801f1663cc02cfa59691c5d7eaf070ceb8d59
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 21 10:20:25 2019 +0300

    Fix typo with __MIPSEB__ preprocessor check (bug #4836.)
    
    Patch from Simon Howard

commit 9ececeeaa4013950fe59563e4eb315c5b7a9c7ca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 22:17:59 2019 -0400

    cpuinfo: Use a better default alignment value (thanks, Simon!).
    
    Fixes Bugzilla #4835.

commit cdc7181e6daddcc3bb082092da5d8e06a3a9d869
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 19 01:54:02 2019 -0700

    Don't try to use the Xbox HID protocol with the NVIDIA Shield controllers

commit 336a75491e277a30e8d2ff45c55eb1aa7bc1e17a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Oct 19 09:23:40 2019 +0200

    remove warning prototype SDL_ExitProcess()

commit 9c14c789adf74b5dd0a4c6133c8d27038f2e6119
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 18 23:10:00 2019 +0300

    updated includes for _exit()

commit 24bee6e5e2c01074c92d311c9259dde2bbcfdf91
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 18 21:47:30 2019 +0200

    Add internal function SDL_EGL_GetVersion()

commit b060b2eadd0abf0d7d6ba309c10808fbcd934bc6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 18 08:56:54 2019 -0700

    Fixed whitespace

commit 412ab7e1aabca47bcdcd6f323db5d18edc864d3c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 18 14:23:37 2019 +0200

    Fixed bug 4829 - Sensor events incorrectly disabled

commit e5bd20030d1bb177e1848d2de9e6f887c470d29b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 18 14:08:07 2019 +0200

    Android: enable eglGetProcAddress (bug #4040, bug #4794)

commit 03f27a3a75c74dce72f68f940d7e0ca91bf9109a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 18 13:27:58 2019 +0200

    Add robustness getting the EGL version (see bug #4040)

commit 3ecce84749b2189dfb8b7adafc025e85acb5ea10
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 18 00:07:32 2019 -0400

    egl: adjust how we load symbols in SDL_EGL_GetProcAddress.
    
    Use eglGetProcAddress for everything on EGL >= 1.5. Try SDL_LoadFunction first
    for EGL <= 1.4 in case it's a core symbol, and as a fallback if
    eglGetProcAddress fails. Finally, for EGL <= 1.4, fallback to
    eglGetProcAddress to catch extensions not exported from the shared library.
    
    (Maybe) Fixes Bugzilla #4794.

commit 4f304fd88cd2b3a00ac1591941192051ecf7928d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 18:07:52 2019 -0700

    Added support for the BDA PS4 Fightpad

commit a1349d4627433f8d307b2f1190140b7ba7980271
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:51:36 2019 -0700

    Build fix for the build fix

commit 097b9c3084399bd356f599644237474b02dbbcf0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:51:49 2019 -0700

    Better fix for iOS build

commit 8984d25bfaebbd65847e06fbddee4468561a1a9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:47:27 2019 -0700

    Fixed build on iOS

commit bf9092cf4a035f2832b6a6b57262b80460edd27f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:47:11 2019 -0700

    Removed unused variable

commit b3470f04b136057d672f9790b13237b873a2f431
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:32:47 2019 -0700

    Added the hint SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS to control whether Nintendo Switch controllers use their button labels or button positions for game controller button reporting.

commit e6ac16ef2fbaacd867bc57b940037ff4ad77c470
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 16:59:05 2019 -0700

    Added support for third party Nintendo Switch controllers that don't support the full protocol

commit 43c5f62d44bfbb23d4b7f13c1e1c800da5bc2883
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 16:14:17 2019 -0700

    Merged latest data from Steam

commit 216f5b98aceaf49c27b3e4bf64b05173aa2f0125
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Oct 17 18:48:58 2019 -0300

    metal: Fix compilation when using older Apple SDKs (bug #4828).

commit 6be83e6141b4ae8d57dd527f4a12ae2164faf3db
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 16 13:54:35 2019 -0400

    emscripten: Patched to compile (thanks, Caleb!).
    
    Fixes Bugzilla #4827.

commit 1b4de45d05f2391391674f5f93214e5a8c8f3039
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 16 08:45:54 2019 -0700

    Fixed bug 4785 - SDL_CreateRGBSurface creates 1-bit surfaces with zero pitch
    
    Sylvain
    
    Seems to be a regression in this commit: https://hg.libsdl.org/SDL/rev/7fdbffd47c0e
    SDL_CalculatePitch() was using format->BytesPerPixel, now it uses SDL_BYTESPERPIXEL().
    
    The underlying issue is that "surface->format->BytesPerPixel" is *not* always the same as SDL_BYTESPERPIXEL(format);
    BytesPerPixel defined as format->BytesPerPixel = (bpp + 7) / 8;
    vs
    #define SDL_BYTESPERPIXEL(format)  ... (format & 0xff)
    
    Because of SDL_pixels.h format definitions, one is giving a BytesPP 1, the other 0.

commit ed7483f82c999e3061ffcb921ac537ffd73c52f6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 22:36:08 2019 -0400

    x11: On macOS, look for X11 install in /opt/X11 instead of /usr/X11R6.
    
    This is where Apple installs XQuartz now (and apparently, the compatibility
    symlink at /usr/X11R6 can be missing).
    
    Fixes Bugzilla #4706.

commit 02a2ec986f5ff2669cbcac6c8b8f270551096a93
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 14:55:09 2019 -0400

    video: Make sure SDL_FillRects()'s fill_function isn't used unitialized.

commit eb066a716c73f00169cd1bdc94c2c42456b7a8a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 14:17:32 2019 -0400

    include: Removed a FIXME comment.
    
    Using (1 << 14) instead of 0x4000 might be clearer for the maintainer, but
    it makes it harder to look up these flags when debugging an app. The value
    has to be written once by one person, the has to be read by tons of people
    over and over.

commit 9f636be8c04f86e709b731e1bd5f1a00572b988c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 14:04:43 2019 -0400

    video: Removed unused variables.

commit e23067eab291890a9c12a3e7a05c2d7ad8098ccc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 14:03:01 2019 -0400

    video: speed up SDL_FillRect[s] slightly (thanks, Jakub!).
    
    "This patch does the following:
    
    * Instead of SDL_FillRects calling SDL_FillRect in a loop the opposite
    happens -- SDL_FillRect (a specific case) calls SDL_FillRects (a general case)
    with a count of 1
    
    * The switch/case block is moved out of the loop -- it modifies the color
    once and stores the fill routine in a pointer which is then used throughout
    the loop"
    
    Fixes Bugzilla #4674.

commit e9c1e1269cf587e5cb49e9857263d73b1a4d1803
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 12:02:19 2019 -0400

    test: Fixed wrong verbose flag check (thanks, watcom.hecht!).
    
    Fixes Bugzilla #4826.

commit 16dee35cfe1b39018bd4a722259a5330b6a47ac0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 09:07:12 2019 -0400

    windows: Remove /ARCH:SSE option from x64 Visual Studio builds.
    
    Fixes Bugzilla #4561.

commit aa0a6518a27c15d345544756f3c808d9eb773a15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 08:54:25 2019 -0400

    test: Fixed compiler warning on Visual Studio.

commit 31ee4d3d813206077e9ab198982dd1d5514b5f70
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Sat Nov 3 15:46:42 2018 -0700

    Reduce delay to 1 ms in SDL_WaitEventTimeout() and SDL_WaitEvent()
    
    The 10 ms delay effectively caps input polling at 100 Hz and rendering
    at 100 FPS if applications use these functions in their event loop. The
    delay may also lead to dropped frames even at 60 FPS due if they are
    unlucky enough to hit the delay and rendering takes longer than 6 ms.

commit 526b9bdf1c11b434706b318394b4fd4d0a9dbd08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 22:41:27 2019 -0700

    Backed out changeset b0241180cdc5
    Better commit incoming!

commit cd8652d8f3850f8d4cba7e81a2124557ca119f7a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 01:13:44 2019 -0400

    events: SDL_WaitEvent()'s polling loop now sleeps 1ms instead of 10ms.
    
    Fixes Bugzilla #4356.

commit d5e378d19827aae4fb96638d720ce0768fd61813
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 15 00:59:10 2019 -0400

    cocoa: Implement SDL_WINDOW_ALWAYS_ON_TOP support (thanks, Gabriel!).
    
    Fixes Bugzilla #4809.

commit ec04110d8ed6a034a8190d4d970788fb81c6234d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 14 12:41:06 2019 -0400

    dynapi: Deal with failure cases better, other fixes.
    
    Fixes Bugzilla #4803.

commit fe20c35be80d1b20e6d977ddd11c02b0488be439
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Oct 14 16:40:46 2019 +0200

    Fixed race condition when scaling Touch events, and changing the renderer
    target.
    Always read the output size of the main renderer.
    (similar to bug 2107)

commit 074f6a512dcd9f8bb6fe6203a2a0b6dca78d6b5c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Oct 14 00:51:53 2019 -0300

    macOS: Fix the initial window background not being black since macOS 10.14.2 or so, when OpenGL is used (bug #4810). Also fixes "CGContext: invalid context 0x0" errors when an OpenGL window is created (bug #4470).

commit 009226c61e4637c57d5e0bea3ca86866da5651fb
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 13 21:39:20 2019 -0300

    macOS: Fix non-highdpi OpenGL contexts not scaling properly in macOS 10.15 (bug 4810 and 4822).

commit 72660a51dd685d64c9227e9ae10e854ba58b6e17
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Oct 13 20:52:52 2019 +0200

    Fixed bug 4825 - SDL Renderer OpenGL: Buffer overflow (SDL_RENDERCMD_DRAW_LINES)

commit f8bdefe1b56afecbec45da1dfa8d3b5e4f2bd512
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 13 15:18:28 2019 -0300

    macOS: Fix asserts in SDL_Render's metal scissor code when the window is resized.

commit 1773da89f94491e037289cebd00e577b37f5bf72
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 13 12:16:40 2019 -0300

    macOS: Fix a new issue in 10.15 where the window decorations don't always get restored after SDL_SetWindowFullscreen(window, 0).

commit 3b0dcaf474cf8137119adb23fa3f5b5b6c208aa8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Oct 12 18:47:56 2019 +0200

    Fixed bug 4797 - SDL fails to compile with Mesa Master (thanks Michael Olbrich!)
    
    fix building with Mesa 19.2
    
    With Mesa 19.2 building fails with:
    
    /include/GLES/gl.h:63:25: error: conflicting types for 'GLsizeiptr'
    
    The same type is defined in include/SDL_opengl.h for OpenGL and the two
    headers should not be included at the same time.
    This was just never noticed because the same header guard '__gl_h_' was
    used. This was changed in Mesa. The result is this error.
    
    Fix this the same way GLES2 already handles this: Don't include the GLES
    header when the OpenGL header was already included.
    (https://hg.libsdl.org/SDL/rev/6a3670d6108d)

commit e5198bd29d73d2351c36dc8c02efd8e231b6a694
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Oct 11 06:18:24 2019 +0200

    Remove 'Enum' suffixes (bug 4813)

commit a0934a23fd0c308a58ec0b7c908829980f34fb6b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 10 17:40:00 2019 +0200

    Fixed bug 4813 - Give enums their own name
    * SDL_PIXELTYPE_
    * SDL_BITMAPORDER_
    * SDL_PACKEDORDER_
    * SDL_ARRAYORDER_
    * SDL_PACKEDLAYOUT_
    * SDLK_
    * SDL_LOG_CATEGORY_

commit 97901b9f971c6fc501301467173ed388b327f178
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Oct 10 17:21:46 2019 +0200

    Fixed bug 4820 - SDL assumes RW_SEEK_SET == SEEK_SET

commit a747106c974a68f95468bfc0a6bb18c4fd988187
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 9 19:38:16 2019 -0400

    linux: If D-Bus isn't available on the system, don't keep trying to load it.
    
    Fixes Bugzilla #4476.

commit cf092eca909a263d892080baa67deaaaaef457d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 9 13:42:13 2019 -0400

    mouse: Save initial position yet even if xrel and yrel are 0.
    
    The X11 target sets mouse->last_x and last_y in EnterNotify and then calls
    SDL_SendMouseMotion(), which throws away the new position because it matches
    the mouse->last_x and last_y we just set, meaning that if the pointer is
    in the window when it created, SDL_GetMouseState() will report a position of
    0,0 until a MotionNotify event (the pointer moves) arrives and corrects the
    mouse state.
    
    Mostly fixes Bugzilla #1612.

commit b38a5ba0628f1b3d1b5b3862f6451ccb5793aad3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 5 20:19:10 2019 -0400

    dynapi: Make gendynapi.pl work on older Perl releases.

commit c61ca915fb59d81b89dafe071c9420ac98fd6d4b
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Oct 2 14:55:02 2019 -0400

    WinRT: fix a link-time error when building UWP + x64

commit 3b3dbb5adbdbc1eaa558220b52023c719bb1941d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 1 08:50:04 2019 -0700

    Removed unused volume check interval

commit ffc7d0919733cc3f96c37d88a3cf4796d047b4c5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 1 14:00:02 2019 +0300

    endpointvolume.h checks not needed since changeset 13078:8ab094a9df6b .

commit 7d47f526a7630e9c03ce29bb48c9b98e9dddf742
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Oct 1 09:26:30 2019 +0200

    SDL_LockTextureToSurface: robustness of locked region compared to texture size

commit a664e95d656b6a5feed02690de1cb23c13052086
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 1 00:05:50 2019 +0300

    dynapi: move new SDL_LockTextureToSurface addition to the end of file.

commit 1ae61f1009abff4cf7c5d85d33da4b3d7b4e208b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Sep 30 20:58:44 2019 +0200

    Added a helper function SDL_LockTextureToSurface()
    Similar to SDL_LockTexture(), except the locked area is exposed as a SDL surface.

commit f46ac1e9f73dd3a1edbdf8f53884a429ee005835
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Sep 27 20:15:42 2019 -0300

    macOS: Fix SDL_metal.h not being copied to the framework's Headers folder when SDL.framework is built using Xcode.

commit 191fe25b1ad473b2da487912f55b20300c6e3159
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 15:21:31 2019 -0700

    Fixed rtkit feature guard

commit 84dc44e24d7c5f65befc08409c64fa2c83317b91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 15:21:27 2019 -0700

    Fix the RealtimeKit dbus include guards
    
    The SDL_USE_LIBDBUS define is set inside SDL_debug.h, therefore the
    circular dependency made it impossible for this feature to be enabled.
    
    Instead, guard SDL_dbus.h based on the autoconf variable HAVE_DBUS_DBUS_H
    
    Additionally, fix one of the rtkit comments. CAP_SYS_NICE isn't required
    to achieve high priority. But there is some scheduler config that rtkit
    needs the app to setup.

commit 4001e6b3513e2895eabdc823ddd115222aaee64d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 26 13:44:49 2019 -0400

    stdlib: Patched to compile.

commit 987aa3113c2f91c47d21c2e6e2c4c0e256ac84f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 26 12:55:05 2019 -0400

    stdlib: Try to coerce VS2019 to not replace some loops with memset() calls.
    
    Fixes (?) Bugzilla #4759.

commit aef1ed4ac66fa11a551389153089c414947033d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 25 15:40:27 2019 -0400

    audio: Set (something close to) the correct silence value for U16 audio.
    
    Partially fixes Bugzilla #4805.

commit 693755f0b2268541a5aefd131626f533f7d923b0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 25 15:07:07 2019 -0400

    coreaudio: Apple doesn't support U16 data, so convert in that case.

commit ee6d504ae937ae911ddaa5a85330a52e79782a3d
Author: Brandon Schaefer <brandon.schaefer@epicgames.com>
Date:   Tue Sep 24 17:49:53 2019 -0400

    offscreen: Define missing define on a older EGL for an EXT function which it wont have

commit 8a41948e7fa8707ca197001d32b55985ec98e096
Author: Brandon Schaefer <brandon.schaefer@epicgames.com>
Date:   Tue Sep 24 17:27:51 2019 -0400

    offscreen: Avoid using EGLDeviceEXT as it causes issues with older platforms, which is just a void*

commit 68985371a071b97b961df56d040fbb5ca6493cf3
Author: Brandon Schaefer <brandon.schaefer@epicgames.com>
Date:   Tue Sep 24 16:36:48 2019 -0400

    offscreen: Add new video driver backend Offscreen
    
    The Offscreen video driver is intended to be used for headless rendering
      as well as allows for multiple GPUs to be used for headless rendering
    
    Currently only supports EGL (OpenGL / ES) or Framebuffers
    Adds a hint to specifiy which EGL device to use: SDL_HINT_EGL_DEVICE
    Adds testoffscreen.c which can be used to test the backend out
    Disabled by default for now

commit 3d55a514827712e28a6f5aea3f0b8a479e328e10
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 23 18:30:22 2019 -0400

    CMake: tabs to spaces in new parts of README-cmake.md

commit 00bc7f6b9634a659700f98248a4c1050147556da
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 23 18:27:14 2019 -0400

    CMake: document iOS/tvOS support in README-cmake.md

commit 6398abe5889d11b28928c979986f5ccbffbf9da7
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 23 18:24:03 2019 -0400

    CMake: bug-fix for tvOS support
    
    tvOS Device support wasn't working, at least not with the current-latest tvOS release (13.0), with CMake failing during its configuration stage.

commit 4e518f98a88b786461c7c47794d55c97252a8ca4
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 23 17:48:14 2019 -0400

    CMake: add version strings to Apple Info.plist files
    
    This fills in the CFBundleVersion and CFBundleShortVersionString fields,
    if and when SDL's test-apps are built via CMake.  This is needed to install
    the .app bundles on iOS 13+ (using 'xcrun simctl install booted path/to/testsuchandsuch.app')

commit ec65a34b8ee7f4811d02e809de877d7b590ef508
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:30:20 2019 -0400

    CMake: tvOS support/fixes
    
    To use, set the following CMake variables when running CMake's configuration stage:
    - CMAKE_SYSTEM_NAME=tvOS
    - CMAKE_OSX_SYSROOT=<SDK>  (examples: appletvos, appletvsimulator, appletvos12.4, /full/path/to/AppleTVOS.sdk, etc.)
    - CMAKE_OSX_ARCHITECTURES=<semicolon-separated list of CPU architectures> (example: "arm64;x86_64")

commit b13c951cca352598be8cbba3d4f050862b2769d2
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:07:43 2019 -0400

    CMake: iOS support added
    
    When using a recent version of CMake (3.14+), this should make it possible to:
    - build SDL for iOS, both static and dynamic
    - build SDL test apps (as iOS .app bundles)
    - generate a working SDL_config.h for iOS (using SDL_config.h.cmake as a basis)
    
    To use, set the following CMake variables when running CMake's configuration stage:
    - CMAKE_SYSTEM_NAME=iOS
    - CMAKE_OSX_SYSROOT=<SDK>  (examples: iphoneos, iphonesimulator, iphoneos12.4, /full/path/to/iPhoneOS.sdk, etc.)
    - CMAKE_OSX_ARCHITECTURES=<semicolon-separated list of CPU architectures> (example: "arm64;armv7s")
    
    Examples:
    - for Simulator, using the latest, installed SDK:
        cmake path/to/SDL -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphonesimulator -DCMAKE_OSX_ARCHITECTURES=x86_64
    
    - for Device, using the latest, installed SDK, 64-bit only
        cmake path/to/SDL -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphoneos -DCMAKE_OSX_ARCHITECTURES=arm64
    
    - for Device, using the latest, installed SDK, mixed 32/64 bit
        cmake path/to/SDL -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphoneos -DCMAKE_OSX_ARCHITECTURES="arm64;armv7s"
    
    - for Device, using a specific SDK revision (iOS 12.4, in this example):
        cmake path/to/SDL -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphoneos12.4 -DCMAKE_OSX_ARCHITECTURES=arm64
    
    - for Simulator, using the latest, installed SDK, and building SDL test apps (as .app bundles):
        cmake path/to/SDL -DSDL_TEST=1 -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphonesimulator -DCMAKE_OSX_ARCHITECTURES=x86_64

commit abd1dd6617321061a215627af0770d062e5a0358
Author: Jinke Fan <fanjinke@hygon.cn>
Date:   Wed May 15 19:54:36 2019 +0800

    Add Hygon Dhyana processor support
    
    Background:
        Chengdu Haiguang IC Design Co., Ltd (Hygon) is a Joint Venture
        between AMD and Haiguang Information Technology Co.,Ltd., aims at
        providing high performance x86 processor for China server market.
        Its first generation processor codename is Dhyana, which
        originates from AMD technology and shares most of the
        architecture with AMD's family 17h, but with different CPU Vendor
        ID("HygonGenuine")/Family series number(Family 18h).
    
    Related Hygon kernel patch can be found on:
    http://lkml.kernel.org/r/5ce86123a7b9dad925ac583d88d2f921040e859b.1538583282.git.puwen@hygon.cn
    
    Best regards.

commit a74d33b796ef3977d5a073478753755e28770fc7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Sep 22 21:41:20 2019 +0300

    SDL_messagebox.h: remove comma at end of enumerator list

commit 213de488876f98cf19b5cf3eb595eccd23703547
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Sep 22 20:47:00 2019 +0300

    update version number in Makefile.os2 too

commit 3fe2d8368cbbb400c33a3fde7d35f157278a823e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 22 10:37:16 2019 -0700

    Updated SDL development builds to version 2.0.11

commit cbde0ffa3d7607cb9a4699505fd8ded2ec45a4e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 19 16:50:49 2019 -0700

    The PS4 is ignoring the volume values in the report, so we don't need to fill them in.

commit 3efea5ea282702da9bc7133c5f5adb8bc36b344d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 11 15:08:37 2019 -0700

    Don't have Windows headers define min/max, in case they're defined by application code

commit 79e388bfd8b3e568bd9ff039a4fa3bb8235d2f22
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Sep 10 17:12:34 2019 +0200

    Fixed bug 4798 - PNG w/transparency breaks in SDL 2.0.10 but works in SDL 2.0.9

commit 32bb8b4b406832b70e483463867f2a9879c70259
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 10 10:03:20 2019 +0300

    test: replace some exit()s with returns.

commit 791df27a302c8245df2805f924dee5ff730c558d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 9 13:50:46 2019 -0700

    Fixed compiler warning on Android

commit 715e070d299fc547cce8c52915b75e6316af6bff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 6 08:50:19 2019 -0700

    SDL_blit_N.c: Correct vec_perm() application on little-endian 64-bit PowerPC
    
    The LE transformation for vec_perm has an implicit assumption that the
    permutation is being used to reorder vector elements (in this case 4-byte
    integer word elements), not to reorder bytes within those elements.  Although
    this is legal behavior, it is not anticipated by the transformation performed
    by the compilers.
    
    This causes pygame-1.9.1 test failure on PPC64LE because blitted pixmaps are
    corrupted there due to how SDL uses vec_perm().
    
    From RedHat / Fedora: https://bugzilla.redhat.com/show_bug.cgi?id=1392465
    Original patch was provided by: Menanteau Guy <menantea@linux.vnet.ibm.com>

commit 2d37d29183176304b11a22fdacb6d31620175285
Author: Conn O'Griofa <connogriofa@gmail.com>
Date:   Fri Sep 6 08:44:46 2019 -0700

    KMSDRM_GLES_SwapWindow: fix non-vsync case
    If KMSDRM_drmModeSetCrtc is called when the swap interval is
    set to 0, the driver behaves as though vertical sync is engaged by
    limiting framerate to the refresh rate, but performance is much worse
    than with vertical sync enabled.
    
    Resolve this issue by ensuring that the Crtc is only set up once,
    and KMSDRM_drmModePageFlip is called, albeit without any followup
    queueing or waiting for flips.

commit aaec90e5c5a0e75045428ffec41dd1d59d482ec1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 6 08:42:54 2019 -0700

    Fixed bug 4789 - Linux accelerometers no longer available as joysticks
    
    Daniel Drake
    
    A long time ago, it was possible to play neverball on Linux using the accelerometer found in HP laptops.
    
    The kernel exposes the accelerometer as a joystick (/dev/input/jsX) as well as an evdev device (/dev/input/eventX). I guess it worked fine when SDL was using the js interface, but then stopped working here: http://hg.libsdl.org/SDL/rev/fdaeea9e7567
    
    Looking at current code which uses udev to discover joysticks, it looks for the udev tag ID_INPUT_JOYSTICK.
    
    However udev's internal input_id logic specifically tags accelerometers as ID_INPUT_ACCELEROMETER and nothing else.
    
    This looks like a good fit for SDL_HINT_ACCELEROMETER_AS_JOYSTICK.

commit 8a394209c4fe515f64babd10d4cd3769d251a93a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 5 20:47:20 2019 +0300

    SDL_windowsevents.c: remove isVistaOrNewer (not used since 8cb1dc50bb28)

commit 51df932efbcb4a29e1806af9188666c9b2e73589
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 5 13:21:02 2019 +0300

    fix permissions

commit bf2f4703f290f2e7c9e0a1c5ac3665e9365c8af4
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Sep 5 10:49:53 2019 +0200

    SDL_windowsmessagebox.c: remove unused variable

commit 1b5e3c19a293872fb04b4fa227d8dcdc8f2e827c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Sep 5 10:08:47 2019 +0200

    SDL_bmp.c: remove unused variable warnings

commit e5580e18bab85e630588ba89e981fa0dace84e5e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 4 09:27:58 2019 -0700

    x11: add a hint to force the VisualID used when creating a window.

commit f49c07b5c464f702ac5f6b48361a96d98930b17f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 4 00:39:47 2019 -0400

    stdinc: On macOS and iOS, use memset_pattern4() for SDL_memset4().
    
    Fixes Bugzilla #4724.

commit 892c8d5058d3bb6edb948724c9756aec9ed57e74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 3 11:55:20 2019 -0700

    Fixed bug 4536 - Heap-Buffer Overflow in SDL_GetRGB pertaining to SDL_pixels.c
    
    Ozkan Sezer
    
    As for the issue: This bmp reports bpp=0, therefore SDL_CalculatePitch()
    returns pitch==0, which is then fed to SDL_malloc() (which is malloc())
    and malloc(0) returns _something_ which is not NULL but not someting
    that we expect..  Then testsprite.c:LoadSprite() accesses the pixels
    as *(Uint8*)pixels which valrind reports as:
    
    ==15533== Invalid read of size 1
    ==15533==    at 0x8048C08: LoadSprite (testsprite.c:45)
    ==15533==    by 0x80492FC: main (testsprite.c:224)
    ==15533==  Address 0x449e588 is 0 bytes after a block of size 0 alloc'd
    ==15533==    at 0x40072B2: malloc (vg_replace_malloc.c:270)
    ==15533==    by 0x4045719: SDL_CreateRGBSurface (SDL_surface.c:126)
    ==15533==    by 0x40403C1: SDL_LoadBMP_RW (SDL_bmp.c:237)
    ==15533==    by 0x8048BB2: LoadSprite (testsprite.c:36)
    ==15533==    by 0x80492FC: main (testsprite.c:224)
    
    Besides, valrind also reports this:
    ==15533== Conditional jump or move depends on uninitialised value(s)
    ==15533==    at 0x40403F3: SDL_LoadBMP_RW (SDL_bmp.c:247)
    ==15533==    by 0x8048BB2: LoadSprite (testsprite.c:36)
    ==15533==    by 0x80492FC: main (testsprite.c:224)
    
    
    Easy/quick solution would be early-rejecting a bmp with 0 bpp from SDL_bmp.c:SDL_LoadBMP_RW()

commit b21338eb548bbd57b8d4a8397fa7e043fd52d15e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Sep 2 12:35:00 2019 +0300

    SDL_bmp.c: restore most of the original formatting.

commit 847bd8d98375ad9917edae89f0c840bfab7c4d91
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 2 00:11:58 2019 -0400

    direct3d: Be more aggressive about resetting state when textures go away.
    
    Fixes Bugzilla #4768.

commit a3804ba1daf929a7299bd7e7a6eb855bc447598e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 1 22:41:44 2019 -0400

    d3d11: Fixed VB state, avoiding unnecessary recreation (Thanks, Alex!).
    
    Fixes Bugzilla #4779.

commit 6c295129ba6121c6ba3fe1488067eb07fc350796
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Aug 31 22:58:11 2019 +0200

    LoadBMP: fix some warnings

commit 830979c5555274daccfe9575bef492a030f5dffc
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Aug 31 22:52:15 2019 +0200

    LoadBMP: use code from SDL_image which allows loading compressed BMP files

commit cc64b369fbfd5c40389e9925f95da00533c26d78
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 30 15:32:15 2019 -0700

    Allow mouse messages from Wacom pens, e.g. right click pen buttons, etc.

commit afb9ff9507f013cc413f091f558479433508ba83
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 30 08:03:19 2019 -0700

    Fixed bug where the Steam overlay would generate an event and stop input processing for the frame.

commit 9c8e403f6ba01a5743c3b092b33c7be73b0e6ec6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 30 11:35:20 2019 +0300

    use 'U' suffix on constants instead of (unsigned int) cast.

commit d52080c0abc5e325c5cba38901fef340d6c798aa
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Aug 30 09:00:06 2019 +0200

    Android: minor warning

commit 70dc8d16485c8e84966da0183aec55ac10a6be46
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Aug 30 08:55:20 2019 +0200

    Android: fix corresponding warnings

commit 6794ec6670b305340410222e947714deb058b723
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Aug 30 08:43:13 2019 +0200

    Android: add more warning flags

commit 0a9c74aa9ad94c5b26cb8475798824bdfe3dac61
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Aug 27 11:38:43 2019 +0200

    Fixed bug 3918 - HIDAPI, CMake support for android project

commit 13c4d5e7e3393441ba2d331420317d2406884ef9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 26 17:43:01 2019 -0700

    Fixed Windows relative mouse coordinates when capturing the mouse over RDP

commit 0c2637384227fc95661f934c47a5ff7be9dfbfc9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Aug 26 18:49:04 2019 -0300

    gl/gles/gles2 render: fix SDL_RenderClear being affected by the clip rect in some situations.

commit ce3b16fc9e985c7d1bc1db2be9addaf58a4eebf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 26 10:08:25 2019 -0700

    Fixed bug 4475 - add Gasia Co. Ltd PS(R) Gamepad support
    
    Frank
    
    This gamepad/controller is sold in Germany https://www.amazon.de/gp/product/B01AQTPSA6/ref=ppx_yo_dt_b_asin_title_o03__o00_s00 but isn't supported right now. It identifies as "Gasia Co. Ltd PS(R) Gamepad"

commit 1e47790c8d2aac850aacc751f169f4ef0456521e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Aug 26 18:41:40 2019 +0300

    RPI_FreeCursor: set global_cursor to NULL to prevent double-free (bug 4769)

commit 2cb26188e14966fae45a04406add0e12b3180aba
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Aug 24 20:40:37 2019 +0200

    Fixed bug 1663 - SDL_EventState(SDL_DOLLARGESTURE,SDL_IGNORE) etc. has no effect

commit 7d6f7e8d34a491eb84e04a8dd03a232769107f0f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 23 03:01:10 2019 +0300

    fix permissions

commit 455944c870c7038c10d6b17afb6c3f29cd466d8b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 22 16:12:16 2019 -0700

    Fixed whitespace

commit b521df66c3384b1bf1dea92dc2489da27c8fc461
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 22 16:09:42 2019 -0700

    [SDL][IOS] Audio fix - applies stream to sound data when resampling or reformatting is required.

commit 5c15e81cfbe473671bf6829039fbc927e2b0ad1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 22 15:58:00 2019 -0700

    Prevent the SPEEDLINK COMPETITION PRO joystick from switching into Android controller mode when enumerated over HID on Windows 10.

commit dd29abb4789b1612a994ebdef039aa4daf3cdb6d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 22 19:23:52 2019 -0300

    macOS: Use the proper type (NSSize instead of CGSize) for the bounds of metal views.

commit 2937317f12e3490bc3eb8fe228d2c3019edd0c79
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Aug 22 10:15:33 2019 +0200

    Fixed bug 4172 - remove logging Gesture error "NumPoints = 0"
    - not necessary when app isn't recording gesture.
    - happen when gesture path has less than 2 different points

commit 05f35c242075973a6d0a99867521c2028cdc83fe
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Aug 19 21:23:47 2019 +0200

    Fix audio conversion U16_to_F32_SSE2 (bug 4186)

commit 1d220401ce75cc5ec8bcf4bf46359aa4014db77b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Aug 19 20:35:02 2019 +0200

    Fixed bug 4186 - ARM/NEON audio converters cause strange clicking noises
    reverse the order when storing ouput buffer

commit c0fc94f2de6f9780395d7207b396f810fbb0a029
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Aug 19 16:57:15 2019 +0200

    Fixed bug 4186 - ARM/NEON audio converters cause strange clicking noises
    reverse the order when storing ouput buffer

commit bfdb0e97435f2e1833897c0287f8de9417e6a056
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Aug 18 10:38:32 2019 -0300

    metal renderer: optimize SDL_RenderFillRect slightly.

commit ff7888e698a026eda9cb71f2f43d19f70100b8e8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Aug 18 09:35:11 2019 -0300

    render: fix colors not being set properly after the previous change

commit 1be03b4089df447fce67ab0adf8ed9fc06cf32b9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 17 22:26:33 2019 -0300

    render: avoid a couple redundant memcmp calls in all drawing functions. Improves performance slightly.

commit e8278d0d5b34d98fe38eae84f6f245072d186faa
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 17 16:53:08 2019 -0300

    metal renderer: use vertex attributes instead of indexing into a buffer with the vertex id in the shader. Allows for more flexibility with vertex setup in the future.
    
    Also optimize vertex buffer binding slightly.

commit 55a46abf0aed120badc20c2b4e54b944c1bf6a52
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 17 01:09:30 2019 -0300

    metal renderer: more closely match buffer data alignment requirements from the metal specification.

commit 69c6924ccc9470eebc405adb97cc8436b8cb112a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 17 00:43:44 2019 -0300

    render: simplify vertex and uniform data allocation. Improves performance of various SDL_Render functions (bug #4764).

commit e5acccc7c3a77cd05f6dc844732375a3e864b846
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 17 00:37:22 2019 -0300

    metal renderer: use the device address space instead of the constant address space for colors.
    
    It doesn't negatively impact GPU performance in my tests, and it removes the need for 256 byte memory alignment of color data on macOS.

commit 3fb5cabe5e06f6b5f1525f3f79e51bc8b8365871
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 16 22:13:30 2019 -0300

    metal: Update compiled shaders based on compilation script changes

commit 9e57e3e5957d23aa265ccfb1790f12cad274a109
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 16 22:11:50 2019 -0300

    metal: Update shader compilation script with fixes for newer xcode versions and for running on older platforms

commit 79cd6cfc947d94792ec433e18617aa8222ffdc4c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 15 19:38:12 2019 -0300

    iOS: Fix issues with Split VIew on iPad (bugs #4586, #4705).

commit 7f9016f2652c0a1f989fc8c8c4bc174b37039ab2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Aug 15 20:38:25 2019 +0200

    Android: remove tabs/indent

commit 412775f5a81fab129278ccba55689c9ee15d09f9
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Aug 13 16:00:08 2019 +0200

    Android: SDL_image/SDL_mixer/SDL_ttf partially compiling with CMake (bug 3918)

commit 7a84dd4277b738ac4d60215c6afa7c1299016928
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 12 13:35:36 2019 -0700

    Disable HIDAPI by default, as it breaks on Linux when trying to use libusb with non-root permissions on some distributions

commit 155087d106042a382badf531d6fb5e28cb662037
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Aug 11 15:23:37 2019 +0200

    Fixed bug 3918 - CMake support for android project

commit 7f5fc74c573029740f9de36582006e32b6aa14f5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 8 23:35:02 2019 +0300

    fix permissions

commit cbdee4d6566e46b93ee337c9d22bce10dc647114
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 8 13:26:05 2019 -0700

    [ SDL ] Fix compile error building for Windows/ARM64 on Visual Studio 2017 Win10 SDK 10.0.18362.0 which requires ar,74intr.h/arm64_neon.h header instead of armintr.h/arm_neon.h for intrinsics.
    
    @saml

commit c76f0f5b6b1e07b0b7549efd7518c20bbd32082b
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Aug 6 23:08:01 2019 -0400

    hidapi: Explicitly include locale.h, for setlocale

commit 2a1adf71ab3dc748e79aa6b76ff1d40c7db77c67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 5 23:52:16 2019 -0700

    Fixed bug 4747 - [Patch] SDL_ShowMessageBox ignores BUTTON_RETURNKEY_DEFAULT flag
    
    Caleb Cornett
    
    SDL_ShowMessageBox on UIKit doesn't do anything special with buttons that are marked with the flag SDL_MESSAGEBOX_BUTTON_RETURNKEY_DEFAULT. According to Apple's documentation on UIAlertController, a button can respond to a return key if it's marked as the preferredAction of the controller. SDL doesn't set a preferredAction currently, so I've attached a patch to fix that.

commit e9ec7d41b340655933e48b18c330286f4e7f253a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 5 23:46:09 2019 -0700

    Fixed bug 4354 - CMake builds do not correctly enable IME on Linux
    
    Callum McGing
    
    While the CMake build checks for ibus and does enable the ibus backend with set(HAVE_IBUS_IBUS_H TRUE), this does not define SDL_USE_IME, thus CMake built SDL2 (as in Arch Linux) cannot use IME at all.
    
    The attached patch fixes this behaviour when building against ibus. IME support will still fail when only fcitx is available on the build system.

commit afdb40af61a6aa12d97a8ad64c659c7cb65b1152
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 5 23:38:48 2019 -0700

    Fixed bug 4689 - SDL fails to detect compositor shutdown on Wayland -- program keeps running
    
    M Stoeckl
    
    To reproduce:
    
    1. Run any SDL-based program with a Wayland compositor, orphaning it so that it doesn't have an immediate parent process. (For example, from a terminal, running `supertux2 & disown`.) The program should use the wayland backend, i.e. by setting environment variable SDL_VIDEODRIVER=wayland.
    2. Kill the compositor process.
    
    Results:
    
    - The SDL program will keep running.
    
    Expected results:
    
    - The SDL program should close. (What close should mean here, I'm not sure - is injecting an SDL_Quit the appropriate action when a video driver disconnects?)
    
    Build data:
    
    2019-06-22, hg tip (12901:bf8d9d29cbf1), Linux, can reproduce with sway, weston, and other Wayland oompositors.

commit aa09e612231f19f08036f5d39e5f1b6b5b15ff55
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Sun Aug 4 00:01:38 2019 -0400

    Port libusb hid.c to SDL, add to MinGW configure

commit aebaa316c7801f0d7534c31870755051e00417e3
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Aug 5 12:35:32 2019 -0300

    Add public APIs for creating a Metal view attached to an SDL window. Add SDL_metal.h.

commit f3683d3a098570438dd2ace7a6d56862071e30b4
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Aug 4 23:30:55 2019 -0300

    macOS: fix a typo in touch handling code.

commit 109cbd6e8bd621ed4d7df59d70071cf1ba2d4e42
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Aug 4 16:56:40 2019 -0300

    Fix touch-related compile errors on Linux.

commit 6f8910e398535fab99b689e460bd742dfd3b6aed
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Aug 4 14:56:02 2019 +0300

    minor warning fixes.

commit 2fb71ac52d3bda3e48a921567e793dca9106842b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Aug 4 00:34:23 2019 -0300

    Implement touch window IDs on x11/xinput2.

commit 42e4219c1adfc1f8d572dfbe8bc9503b7769878b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Aug 3 12:50:28 2019 +0300

    fix permissions

commit edc158894c6dd7dbd4a0e8c95e3cdd52ff521906
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Aug 3 12:49:50 2019 +0300

    remove test/aclocal.m4

commit 67fa8601d933b4b3b9889bcf3dfd130265901449
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 2 18:14:31 2019 -0700

    Fixed building on Mac OS X without libusb

commit e92fe23c830c7a7e0657f49b5dcc031c9d08bae3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 2 17:20:00 2019 -0700

    Fix nullptr crash on android
    
    nullcheck the device coming back from InputDevice.getDevice(deviceId) in new code added to sdlactivity.onkey.
    
    
    java.lang.NullPointerException:
      at org.libsdl.app.SDLSurface.onKey (SDLActivity.java:1793)
      at android.view.View.dispatchKeyEvent (View.java:13321)
      at android.view.ViewGroup.dispatchKeyEvent (ViewGroup.java:1912)
      at android.view.ViewGroup.dispatchKeyEvent (ViewGroup.java:1912)
      at android.view.ViewGroup.dispatchKeyEvent (ViewGroup.java:1912)
      at android.view.ViewGroup.dispatchKeyEvent (ViewGroup.java:1912)
      at com.android.internal.policy.DecorView.superDispatchKeyEvent (DecorView.java:685)
      at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent (PhoneWindow.java:1869)
      at android.app.Activity.dispatchKeyEvent (Activity.java:3447)
      at org.libsdl.app.SDLActivity.dispatchKeyEvent (SDLActivity.java:496)
    
    @dang @saml @dave

commit 63197c433814599d3a211cbed89b3a99133a2c8d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 2 17:19:50 2019 -0700

    Fix bug where the wrong button was the default in the old message box because buttons were added backwards, breaking the indexing used by GetButtonIndex.
    
    Add messagebox flags to explicilty request left-to-right button order or right-to-left.  If neither is specified it'll be some platform default.

commit d52ffcf9859eb4e2d2051fc50e6237844b861383
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 2 17:12:49 2019 -0700

    Added support for a few controllers on Android

commit d5ec735a3342beaf7a5f89f1e7e5eb618cf57f53
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 1 18:22:12 2019 -0300

    Add a windowID field to SDL_TouchFingerEvent (bug #4331).
    
    This is unimplemented on some platforms and will cause compile errors when building those platform backends for now.

commit 59ea0735f0d60bf399164bc334a077753ba91f47
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 1 17:41:40 2019 +0300

    configury: allow libusb-less hidapi for macosx.

commit c37c6cbbca2cfdbe8448ea87f2c945b10b5d5e7e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 23:37:02 2019 +0300

    use WIN_IsWindowsVistaOrGreater() from core/windows for isVistaOrNewer

commit f7d82e561634fc47f62150d428f0a60c854c9a81
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Wed Jul 31 12:20:55 2019 -0400

    hidapi: Add SDL_hidapi.c, allows support for multiple hidapi backends.
    
    This is currently supported on Linux and macOS. iOS and Android are not
    supported at all, Windows support could be added with some changes to the libusb
    backend. The Visual Studio and Xcode projects do not use this feature.
    
    Based on Valve Software's hid.cpp, written in collaboration with Andrew Eikum.

commit c10a87429d8a4175ae76b6e143948d33c3752013
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 31 10:20:37 2019 -0700

    Make sure HIDAPI is initialized whenever we call HIDAPI_IsDevicePresent()

commit c172f36bf442614ed006facbf17cc09ab5f22942
Author: Andrew Eikum <aeikum@codeweavers.com>
Date:   Wed Jul 31 11:14:48 2019 -0500

    joystick: Ensure HIDAPI is initialized before calling it

commit e149f4c4b0a90e15acd4226beb7334efbd22ce6a
Author: Andrew Eikum <aeikum@codeweavers.com>
Date:   Wed Jul 31 11:34:00 2019 -0500

    cmake: Fix locating libusb header at configure-time
    
    Removing the CheckUSBHID call is necessary to avoid caching the failed header
    check result before we find libusb via pkg-config.

commit 1b7fc81e3f7546bbc6da03e212c417bfe3aa949d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 19:40:50 2019 +0300

    minor whitespace tidy-up.

commit f8400cbba9bb5cc64fdbe4b14729ff8497700a1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 31 09:11:20 2019 -0700

    Fixed bug 4692 - Command line parsing
    
    Galadrim
    
    As I have seen, SDL implements its own command line parser for Windows in SDL_windows_main.c. Unfortunately, it doesn't seem to allow command line arguments with trailing backslashes if quoting is required.
    
    Usually, when you write an application that gets command line arguments passed as argc and argv, the parsing is done by parse_cmdline. The Windows API also provides the function CommandLineToArgvW, so an application can parse itself if only the command line string is provided. Both functions behave almost identically according to their documentation. If the argument "\\" (including the quotes) is passed, they both turn it into a single backslash.
    
    The SDL command line parser on the other hand doesn't recognize the second quote character as the closing character in this example and therefore includes it in the parsed argument. The parser does not count the number of backslashes preceding a quote. It always treats a quote as escaped if a backslash is in front of it. Therefore, it should be impossible to quote and escape an argument correctly, if it has a trailing backslash and contains characters that require quoting.
    
    Of course, each application is allowed to implement its own parsing rules, so SDL is free to do so. But the problem I see is that there are arguments, that are impossible to be passed to the parser correctly, as I described above. Is there a reason, why SDL does not simply use CommandLineToArgvW instead of implementing its own parser?
    
    Here are some links that show that correct argument parsing, as it is usually done in Windows, is quite complicated:
    
    https://docs.microsoft.com/en-us/windows/desktop/api/shellapi/nf-shellapi-commandlinetoargvw
    
    http://www.windowsinspired.com/how-a-windows-programs-splits-its-command-line-into-individual-arguments/

commit 4953e050f5dd690ae2f22eeb3ba8db524ddaeabc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 05:11:40 2019 +0300

    use SDL_zeroa at more places where the argument is an array.

commit 7a47c292c0e171225f9287f31110e34d49986b59
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 01:22:02 2019 +0300

    Fix bug 4746 - introduce SDL_zeroa macro.

commit f96d7cc0fd8c4c5b97896d66a229b822122c469e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 01:19:26 2019 +0300

    minor build fix.

commit fdc67c3c60a616b902e0c893ce617bcc9c55a0d0
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 00:10:00 2019 +0300

    MS_ADPCM_Decode: fix assigning an array to a pointer (lose '&').

commit 2ea0ec6207fdf2e2278c91d1687aa35745a09531
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 00:07:15 2019 +0300

    better readability..

commit 5f04ed5fbd4f3f6591b3ec59642b5ff608a93c43
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 00:06:50 2019 +0300

    SDL_iconv_string: add (char*) casts before SDL_malloc() calls.

commit ceee7def8474e0a8940e31ef8ea900298ab7ce49
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jul 31 00:05:28 2019 +0300

    minor build fixes.

commit 97fefd050976bbbfca9608499f6a7d9fb86e70db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 30 11:00:00 2019 -0700

    Fixed bug 4538 - validate image size when loading BMP files

commit 738dff4bbc1ea2a00666cd858312f595ba080447
Author: Andrew Eikum <aeikum@codeweavers.com>
Date:   Thu Jul 25 08:05:13 2019 -0500

    hidapi: Update repository URLs
    
    Upstream hidapi has been re-homed. Update the repo URLs to help guide folks
    where to contribute fixes.

commit a5433610038aa2ec84d66c4c26add1b78359b2cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 30 10:15:49 2019 -0700

    Fixed bug 4742 - SDL 2.0.10 DMG has duplicated files (instead of symlinks)

commit 31cb854f9818244330fb4fc0265322ec5ac8f58f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 30 10:04:46 2019 -0700

    Fixed bug 4745 - 2.0.10 fails to build against macOS 10.11 SDK
    
    Joshua Root
    
    NSEventSubtypeMouseEvent was added in 10.12, so it needs to be defined on 10.11 as well

commit 18bcafffcedbf5c7ad6d74a7e74fd18aa02e0aca
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jul 27 20:21:42 2019 +0200

    Fixed bug 4739 - Android: loading native libs, generated by bundletool (Thanks akk0rd87)

commit 39e8b007a7a2b58c6b94530d4d4d8caf8a4be0d2
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jul 27 14:08:51 2019 -0300

    macOS: fix atomics using deprecated functions instead of compiler intrinsics, when SDL is built with the Xcode project.

commit dc714389f05a05ae5a441785b3f188ed7baf2ebc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 25 15:21:44 2019 -0700

    Don't call hid_enumerate() if the HIDAPI drivers are all disabled

commit aaffbb2ef65b86251fb7b300abbb6621708af7c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 25 11:04:36 2019 -0700

    Added tag release-2.0.10 for changeset 969a6f84b061

commit 0e9560aea22818884921e5e5064953257bfe7fa7
Author: Andrew Eikum <aeikum@codeweavers.com>
Date:   Tue Jul 23 14:41:00 2019 -0500

    hidapi: Zero out new hid_device_info structs

commit bf9bf602e77f7f94dee4eaad993f95dbdf450e51
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Wed Jul 17 23:20:57 2019 -0400

    Copypaste SDL_NSLog to UIKit backend, document it as such

commit e954e32b0e4bd4becc67a5cb3dd4651beed40380
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 18 19:33:17 2019 -0700

    Fixed bug 4726 - Fix for tvOS GetPrefPath
    
    Caleb Cornett
    
    Unlike iOS and macOS, tvOS does not have any persistent local storage. In fact, the ApplicationSupport directory pointed to by the existing Cocoa GetPrefPath() throws an error whenever any attempt is made to access it. To get any local storage on an Apple TV, our only option is to use a temporary cache directory.
    
    This patch changes the tvOS PrefPath to this cache directory and also logs a critical warning that this if developers want their save data to persist across game sessions, they must use some form of iCloud storage.

commit 52e62329c865f5b659c450583fac069f12b6b1bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 17 16:47:19 2019 -0700

    Fixed build error

commit a06d8cd0d4a80ce830ea9afe52b2a875d8e60d24
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 17 16:47:17 2019 -0700

    Merged latest changes from Steam into controller_type.h

commit 1dc24160a133abbaa6aae47eeb27beaf09d9da80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 17 16:47:13 2019 -0700

    Add linked list of opened HID devices to prevent accessing already freed devices in device removal callback that is sometimes called even after being unregistered

commit 89de2512e5c665de2988580c12ab31ca380e6cc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 17 13:01:44 2019 -0700

    Added support for the Victrix Pro Fight Stick for PS4

commit a4bfe2a4ae371a00fa369e14369abec78886bacb
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Mon Jun 24 21:08:26 2019 -0700

    Allow hotplugging joysticks without udev

commit e7c2cf107a7bc63ab10e232383acc87c232763fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 15 09:36:53 2019 -0700

    Fixed bug 4704 - SDL_HINT_ANDROID_SEPERATE_MOUSE_AND_TOUCH on Windows?
    
    superfury
    
    I notice that, somehow, when locking the mouse into place(using SDL_SetRelativeMouseMode), somehow at least the movement information gets through to both mouse movement and touch movement events?
    
    My app handles both, so when moving a touched finger accross the app(using RDP from an Android device) I see the mouse moving inside the app when it shouldn't(meaning that the touch movement is ignored properly by the app(press-location dependant) but the mouse movement is still performed due to the mouse movement events)?

commit 064d1223f0ee7cd1ae4906c630e5055acc9727f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 14 16:59:39 2019 -0700

    Fixed bug 4723 - Generic Xbox pad controller bindings seem odd/broken
    
    
    alexrice999
    
    I have a knock off wired xbox 360 controller called afterglow for xbox 360 controller. Despite there being a few afterglow controllers in the controller mapping the guid of my controller seems to map to Generic Xbox pad. This binding is as follows:
    ```
     "030000006f0e00001304000000010000,Generic X-Box pad,a:b0,b:b1,back:b6,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b8,leftshoulder:b4,leftstick:a0,lefttrigger:a2,leftx:a0,lefty:a1,rightshoulder:b5,rightstick:a3,righttrigger:a5,rightx:a3,righty:a4,start:b7,x:b2,y:b3,",
    ```
    When running openmw I have a strange issue that the joysticks work for up and down movements but not for side to side. I managed to track this down to the side to side events being classified as joystick events instead of gamepad events.
    I believe this is due to both "leftstick" and "leftx" being bound to "a0" which seems odd to me. If I change openmw's mappings to remove these the controller works as expected. I was hoping someone who knows a lot more than me (as I have only been exploring this today trying to fix my controller) would know what is happening

commit 6a7161dceb918c8766691284055aef31a40b9522
Author: Jimb Esser <wasteland@gmail.com>
Date:   Sun Jul 14 16:48:31 2019 -0700

    Blacklist Corsair device causing hang

commit 8fb8adfc90fa5ffb059d9b38cec061f7bbcbfc49
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jul 13 17:04:02 2019 -0300

    macOS: Fix SDL_GL_CreateContext/MakeCurrent on non-main threads causing a Main Thread Checker warning when built with Xcode 11 / the macOS 10.15 SDK.
    
    Fixes bug #4714.

commit 73536d93ea66c4736e36cc0567a6a41785d9b0be
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 12 21:28:43 2019 -0400

    ios: Fixed MFi guide button not being detected (thanks, Caleb!).
    
    Fixes Bugzilla #4721.

commit 70f0b093ff8f3621dfb0267c24811cb5121b33e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 12 13:40:58 2019 -0400

    cmake: Add setupapi library to Windows build dependencies (hidapi needs it).
    
    Fixes Bugzilla #4719.

commit 27ad8e5d721494885682c051f19f0dac73e95e86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 11 01:07:14 2019 -0400

    cocoa: Set keyboard mod state correctly when turning off capslock.
    
    Fixes Bugzilla #4716.

commit 86965eecd33f7a8e4188713b03affb3980ea0b49
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jul 10 10:06:28 2019 +0200

    x11: prevent a synthetic mouse event when using a touchscreen
    
    With multitouch, register to receive XI_Motion (which desctivates MotionNotify),
    so that we can distinguish real mouse motions from synthetic one.
    
    (bug 4690)

commit 6ef01e5236a47f22c3c2008ac7caf44191acdd15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 9 17:28:02 2019 -0400

    x11: set some modality things on message boxes with parent windows.

commit 6625203514e5a12a76ba968331bb3c6beea0c109
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jul 9 11:46:42 2019 +0200

    SDL_Mouse/Touch: discard synthetic events when hints are not set.
    Those are generated/flagged by platform layer.

commit d550867aef0463ddf9a0539b0803695c3d874eee
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jul 9 08:55:00 2019 +0300

    fix permissions

commit 66d4d8e25dfdb59bc00011539eac7396e15e3ec6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 8 16:46:52 2019 -0400

    cmake: Added HIDAPI support.

commit 4df22d812cfcc03f7dfef12e08f3ef7865d94f6f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 8 16:08:16 2019 -0400

    configure: Windows and macOS now respect --enable-hidapi.
    
    (and it defaults to "yes" on those platforms. Other places, which use libusb,
    still default to no because they probably need root permissions to work.)

commit 7e09718dfeb8421fe15eaf290227a04fbd17c68f
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Jul 7 11:23:16 2019 -0700

    Ignore synthetic mouse events generated for touchscreens
    
    Windows generates fake raw mouse events for touchscreens for compatibility
    with legacy apps that predate touch support in Windows. We already handle
    touch events explicitly, so drop the synthetic events to avoid duplicates.

commit e841b066fd76aa1eb7cf2be9a46cc82798ab3c33
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 8 13:41:01 2019 -0400

    cocoa: Another attempt at mouse vs touch support.
    
    This time, we make anything we think is a MacBook trackpad report its touches
    as SDL_MOUSE_TOUCHID, even though they're not _actually_ synthesized events,
    and let all mouse input--even if the OS synthesized it from a multitouch
    trackpad on our behalf--look like physical input. This is backwards from
    reality, but produces the results most apps will expect.
    
    Note that if you have a real touch device that doesn't appear to be the
    trackpad, it'll produce real touch events with unique device ids, so it's
    not a total loss here, but also note that the way we decide if it was the
    trackpad is an imperfect heuristic; it happens to work out right now, but
    it's not impossible that a real touchscreen could come to the Mac at some
    point and (incorrectly?) call it a "mouse" input, etc.
    
    But for now, good enough.
    
    Fixes Bugzilla #4690.

commit 680e7937e088ee5e52adc5170802194ed5698dd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 7 09:10:56 2019 -0700

    Fixed bug 4710 - audio/alsa: avoid configuring hardware parameters with only a single period
    
    Anthony Pesch
    
    The previous code first configured the period size using snd_pcm_hw_par-
    ams_set_period_size_near. Then, it further narrowed the configuration
    space by calling snd_pcm_hw_params_set_buffer_size_near using a buffer
    size of 2 times the _requested_ period size in order to try and get a
    configuration with only 2 periods. If the configured period size was
    larger than the requested size, the second call could inadvertently
    narrow the configuration space to contain only a single period.
    
    Rather than fixing the call to snd_pcm_hw_params_set_buffer_size_near
    to use a size of 2 times the configured period size, the code has been
    changed to use snd_pcm_hw_params_set_periods_min in order to more
    clearly explain the intent.

commit 67bb882e1334b04641f58c1ffc651bdad69a8163
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 3 15:57:55 2019 -0700

    Fixed bug 4707 - SDL_SetRelativeMouseMode fails on Vivante
    
    Cameron Gutman
    
    The bugfix in https://hg.libsdl.org/SDL/rev/ca9417a52f18 caused SDL_SetRelativeMouseMode() to begin failing on Vivante (Steam Link). Even though Vivante doesn't have a SetRelativeMouseMode() or WarpMouse() function, it's in relative mode already (because it uses evdev) so the function was actually working as intended.
    
    I think providing a no-op SetRelativeMouseMode() function for Vivante is a reasonable fix. Since it's already getting relative events through evdev, it really is a no-op to "enter relative mode".
    
    In fact, this is probably the right thing to do for all backends that use evdev (vivante, raspberry, and kmsdrm). Raspberry and kmsdrm both have WarpMouse() implementations so SDL_SetRelativeMouseMode() isn't failing there, but it still seems to make sense not to have to do the fake warping if they're evdev-based anyway.

commit f994da0ef0bc7d4a6393681aeae39cd38b5c5aec
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jul 3 13:37:54 2019 +0200

    Fixed bug 4702 - Android back button does not send SDL_KEYDOWN event
    fallback when event.getSource() is SOURCE_UNKNOWN

commit 3fc447dfc9162c302ad8c953d1e08b17fc879bf7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 3 02:37:15 2019 -0700

    Fixed bug 4708 - testdropfile: double-free
    
    
    Juha Niemim?ki
    
    SDLTest_CommonEvent seems to free the file name so testdropfile prints some garbage to console and crashes when freeing the name again.

commit b46c77199475f70d40376fb3564cf2f7822ef258
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 2 16:49:35 2019 -0400

    raspberry: Actually commit the whole patch.  :)   (Thanks, Joe!)
    
    Fixes Bugzilla #4699.

commit d2d06f444393c8e35fc8b7d20c4931620236556b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 2 12:29:36 2019 -0400

    cocoa: Don't report trackpad mouse events as synthesized touches.
    
    Fixes Bugzilla #4690, sort of. I guess.

commit d2058b45ae7744c665266409ac12a4e951b39737
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 2 10:26:54 2019 -0400

    raspberry: Fixed missing mouse cursor (thanks, Joe!)
    
    "Starting with changeset 12433, the mouse cursor is not displayed on the
    Raspberry Pi platform, due to a bug in the handling of the new
    "global_cursor" in RPI_ShowCursor(). Currently, if cursor == global_cursor,
    the function immediately returns 0. The function should not return here.
    Instead, if cursor == global_cursor, it shouldn't try to hide the current
    cursor and update global_cursor = cursor. However, it *should* still continue
    through the rest of the function."
    
    Fixes Bugzilla #4699.

commit d5ebbcb4e5beba57ccac1da693908d903efb9acd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 2 09:43:26 2019 -0400

    dbus: Don't SimulateUserActivity if we're already inhibiting the screensaver.

commit 94658099e5d3712d013576c0de4f8a7c12551732
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 2 09:38:31 2019 -0400

    dbus: Add org.freedesktop.ScreenSaver.SimulateUserActivity support.

commit 027887da159055a82b88034edc70138c62488772
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jul 1 14:52:56 2019 -0300

    iOS: Fix the window size not being set properly when Split View is used on an iPad (bug #4586).

commit 972bdfb47f03c3f47f73fe9f0aea15a872d4cda2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 1 09:05:15 2019 -0700

    Made it more explicit that 2.0.10 and newer are required for the SDL_RW* functions

commit 60606dfb31203c2e67e53bedcd578d05fa5acb81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 1 09:02:04 2019 -0700

    Documented that the SDL_RW* macros no longer exist, and you can't use an older SDL library if you build with SDL 2.0.10.

commit 959cfc428ea17679bb2132d946022a7e45695d71
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 30 23:58:31 2019 -0700

    Fixed memory barrier macro check so it isn't quite so fragile

commit a8bea85810e48d75862de9eb20bc4ad2e088a246
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 30 23:55:28 2019 -0700

    Limit the compile error to the case where we actually define the memory barrier macro as the function

commit cc47810d36f6dab28ff1a8977d4a5c5996f6b815
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 30 23:26:16 2019 -0700

    Fixed bug 4683 - SDL_atomic infinite recursion on armv6/armv5 w/ thumb
    
    The real problem is that SDL_atomic.c was built in thumb mode instead of ARM mode, which is required to use the mcr instruction on ARM platforms. Added a compiler error to catch this case so we don't generate code that does infinite recursion.
    
    I also added a potentially better way to handle things on Linux ARM platforms, based on comments in the Chromium headers, which we can try out after 2.0.10 ships.

commit 797d2c5957e36fe917443c66589f8f14220256ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 30 22:48:13 2019 -0700

    Fixed bug 4436 - [OpenBSD] fix D-pad
    
    daniel.c.sinclair
    
    Hi, this patch breaks dpad/hat input on my PS4 controller.  The attached patch restores functionality.  Calling SDL_PrivateJoystickHat() at the end of BSD_JoystickUpdate was setting the hat state to zero on every kind of input, instead of just the HUG_DPAD events.

commit 22a2decf64e6a162e374aeb634fbcb21550c43a0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jun 28 16:38:42 2019 +0200

    Android: concurrency issues, make sure Activity is in running State when calling
    functions like SDL_CreateWindow, SDL_CreateRenderer, Android_GLES_CreateContext
    
    Bugs 4694, 4681, 4142

commit cfed0b773867d58724274c8b1cc1dd36d0a5956e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jun 28 16:14:50 2019 +0200

    Add an "error" label in SDL_CreateRenderer (no op)

commit aa45af7fcb14923db0e0ef07fbe89eb334cdc9be
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jun 28 16:05:20 2019 +0200

    Android: explicitly expand Android_GLES_MakeCurrent/Android_GLES_CreateContext
    from SDL_egl_c.h

commit 57e08c27ef4a54e48c20c6bfd7c841216a6b70b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 26 13:21:43 2019 -0400

    cocoa: Check for capslock in -[NSResponder flagsChanged], not with IOKit.
    
    Using IOKit for this pops up a warning at startup on macOS 10.15 ("Catalina"),
    asking the user to authorize the app to listen to all keyboard input in the
    system, which is unacceptable.
    
    I _think_ we were using IOKit under incorrect presumptions here; the Stack
    Overflow link mentioned in it was complaining about not being able to use
    flagsChanged to differentiate between left and right mod keys, but that's not
    an issue for capslock.
    
    It's also possible this code was trying to deal with capslock changing when
    the window didn't have focus, but we handle this elsewhere now, if we didn't
    at the time.

commit 0beadea57474f188503d20b41961e6c6ab2120b2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 26 01:29:01 2019 -0400

    windows: Call GetWindowText() with the correct parameters (thanks, Zebediah!)
    
    GetWindowText() wants you to tell it the size of the buffer--including the
    terminating NULL char--but we weren't counting that last char, losing the
    last char of the string in the process. This was only seen with the special
    case of SDL_CreateWindowFrom() to use an existing native window, not
    the usual SDL_CreateWindow() codepath.
    
    Fixes Bugzilla #4696.

commit 282b2b939504de790f55a4c3965ff79f48c6f2e7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 25 11:47:02 2019 +0300

    define __ARM_NEON for Windows only if _M_ARM or _M_ARM64 is defined.  fixes Visual Studio builds.

commit 83a713f1a0679f12862158de443374af3ebae56f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 24 23:51:10 2019 +0300

    update version in os/2 makefile

commit bcb357d45156c2dd20ed6b5ad43075dabd242d4d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Jun 24 23:50:20 2019 +0300

    fix permissions

commit ccba8d469174b3cb0afb4eb5431ebe824ed83c53
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jun 24 18:08:11 2019 +0200

    Android: export Lock/Unlock activity API

commit 7f78d0f0d3870dc1784f257661aa99843fab9e06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 21 22:01:27 2019 -0700

    Fixed bug 4684 - GLES1 variables missing under Android with CMake
    
    Braden Obrzut
    
    https://hg.libsdl.org/SDL/file/7dc39b047055/CMakeLists.txt#l911
    
    I believe the following should also be specified there:
    
    set(SDL_VIDEO_OPENGL_ES 1)
    set(SDL_VIDEO_RENDER_OGL_ES 1)
    
    As it is now GLES1 support is missing when building for Android despite it linking to the library.

commit 31bb95f11f96aec4ce87cfcf62611611cf05ec95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 21 15:07:39 2019 -0400

    direct3d: Use D3DPOOL_DEFAULT for vertex buffers after all, release correctly.
    
    Fixes Bugzilla #4679.
    Fixes Bugzilla #4537.

commit 51555a85ccf0e85b05ccc5723ed52e992ed0048e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 21 10:58:30 2019 -0700

    Enable Raspberry Pi video by default

commit e681623cb2bfe0b681b9b98b1faa4ed03911117b
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Thu Jun 20 19:51:00 2019 -0700

    direct3d: Fix dirty textures failing to update
    
    Even if the texture itself has not changed since last time, the data may have
    so we must call UpdateDirtyTexture() to handle that possibility.

commit f3226457e075b30d0d74cd2a5b100c92e69772ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 19 17:11:20 2019 -0700

    Fixed bug 4672 - Warnings in SDL_LogEvent()

commit be6cda9f95463cd3bc44ad7d51b724e9b4058e8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 19 15:54:21 2019 -0700

    Rolling back GameCube HIDAPI support
    It causes the HIDAPI devices to always be opened on enumeration, which causes crashes in the Windows drivers when multiple applications are reading and writing at the same time. We can revisit this after 2.0.10 release.

commit 56e2b9a4ee3e9b89293bd2076c1bb4b1882b8652
Author: Zack Middleton <zack@cloemail.com>
Date:   Wed Jun 19 06:43:54 2019 -0700

    Handle GameCube WaveBird controller differences
    Make wireless GameCube controllers use unknown power level instead of
    wired and don't allow rumble (it doesn't have hardware for it).

commit 6f63c1c37faade7f5af02802a4966a3ba1529c20
Author: Zack Middleton <zack@cloemail.com>
Date:   Wed Jun 19 06:43:36 2019 -0700

    Make GameCube controllers only rumble if both USB cables are connected
    The Nintendo USB GameCube Adapter has two USB connectors. Black for data
    and grey for additional power for rumble. The Wii U and other software
    require both cables to use rumble. The rumble is weaker without the
    second USB cable. Other than that I don't know if there is any negative
    side affects from using rumble with only one cable.

commit b23cce282eae48a088f9bd4c69105810b844edb4
Author: Zack Middleton <zack@cloemail.com>
Date:   Wed Jun 19 06:43:04 2019 -0700

    Fix GameCube controller power level being reset to unknown
    HIDAPI_DriverGameCube_OpenJoystick() set power level to wired and then
    it was set to unknown in SDL_JoystickOpen().

commit bd95290075acac3fd188f23672764b8d37e7c39a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 19 06:40:50 2019 -0700

    Use SDL C runtime functions

commit faed7f836d0ac9d93c376a9cb87da7e8212ca219
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jun 19 10:11:38 2019 +0200

    KMSDRM: fix inverted strcmp, remove useless if test (Bug 4624)

commit 5998c51324112f9c534a0c1f9a8b96e66db272f8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jun 19 09:16:53 2019 +0200

    KMSDRM: fix compilation on linux, no d_namlen (Bug 4624)

commit d0fa93d63ced22e90ae8dfab07419e44f2983635
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 19 00:52:34 2019 -0400

    wayland: Fixed C99-style variable declaration inside for-loop.

commit 667c872b42e8f0f3435824967cd5bb2d87b0b0b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 21:50:57 2019 -0700

    Fixed building DMG archive on Mac OS X

commit 7162649f785107d5c4da21ab2bf3ab0f787fcf26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 18 18:58:39 2019 -0400

    opengl: Be more robust in failing cases.
    
    Load all possible symbols, not just until one fails, in case they get used
    during shutdown, etc.
    
    Fixes Bugzilla #4093.

commit 8ab907baa67771b0e377b555922c4c155b07de72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 14:24:26 2019 -0700

    Only warp the mouse to set focus if we're definitely going into relative mode

commit 14e8b93e370ed1a24a2d3958d833b95197faa52b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 14:24:24 2019 -0700

    Fixed compiler warning

commit 99abcbb2bc3f1696e92681e840658933e05362cb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 14:15:10 2019 -0700

    Fixed bug 4624 - KMS/DRM fails on FreeBSD because /dev/dri/card* nodes are symlinks
    
    Jan Martin Mikkelsen
    
    Patch to scan /dev/dri based on names rather than file type
    
    Loading KMS/DRM on FreeBSD fails because the "available" code in the driver checks for character device nodes under /dev/dri and the /dev/dri/card* files are symlinks rather than device nodes nodes on FreeBSD. The symlink points to /dev/drm/0.
    
    The attached patch counts /dev/dri/card* entries rather than directory entries which are character devices.

commit d3bedda4dfbf94f7a5fe55e964c83ed531d4a793
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 18 16:53:49 2019 -0400

    cocoa: Patched to compile and also handle possible malloc failure.

commit 3e720d2a80e00a962f2489bc4a5f54d4e84a76e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 13:41:38 2019 -0700

    Fixed potential double-free in mouse cleanup code

commit 5dcac4ccdf6f90b147f6279ce614f0b04d6b6cf1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 10:08:19 2019 -0700

    Fixed 4669 - Using the software SDL_Renderer on Android leads to GL errors & black screen when window resizes
    
    Sylvain
    
    I think what happening with the software renderer is:
    
    * you're somehow in background (so texture creation is not possible)
    * it resizes and wants to push a SDL_WINDOWEVENT_SIZE_CHANGED
    It call:
    https://hg.libsdl.org/SDL/file/a010811d40dd/src/render/SDL_render.c#l683
    * GetOutputSize
    * SW_GetOutputSize
    * SW_ActivateRenderer
    * SDL_GetWindowSurface
    * SDL_CreateWindowFramebuffer which is mapped to SDL_CreateWindowTexture
    and it ends up re-creating the surface/a texture, while being in background

commit e96d4760ac72accafc362918202872f7486f36c0
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 18:53:58 2019 +0200

    Android: resize with software rendering, reverted again (Bug 4669)

commit 12b92260ccd85cd3bf3c06b225c00edeb71e6a05
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 18:40:40 2019 +0200

    Android: try to fix resize with software rendering (bug 4669)

commit 8a20d40d903cc607b8b9995b7dba4ec5c3a1dd03
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 18:22:18 2019 +0200

    Android: revert commit SW_GetOutputSize, again (Bug 4669)

commit 63506ae195f0541267a5dea9b3584eba0ceb2bc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 08:35:31 2019 -0700

    Added a patch note about batched rendering

commit e89789bb4bd1e7f4db5b7bfcd95a0684fcc4f3b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 07:55:30 2019 -0700

    Added patch notes for 2.0.10

commit eb71cd800d771034540adb891ac86e87bcdb7bd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 18 06:53:32 2019 -0700

    Make sure we haven't changed the size of the SDL_Event structure and broken binary compatibility.

commit 5418d41626e45ede40e17885f94df4b4d2bb2977
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 11:35:30 2019 +0200

    Android: prevent ignoring surfaceChanged() in MultiWindow

commit 98cc7589b1bf2e2b2d9b31ec1e9f3c4abd11f849
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 10:41:11 2019 +0200

    Android: prevent using SW_GetOutputSize with software renderer (Bug 4669)

commit a55c0e1479264c8efa4e6e89da1b4f116263fa3b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 18 10:23:19 2019 +0200

    Android: revert previous commit (Bug 4669)
    (Refs #1)

commit f2157b6c25d70433192b5edfdad36aa03cc763ff
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jun 17 22:31:36 2019 +0200

    Fixed bug 4669: Android software renderer, black screen when window resizes
    
    Using the software SDL_Renderer on Android leads to GL errors & black screen when window resizes

commit 6c4765a17ae4d13b13ab6675b1fa4889fad852ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 17 11:10:20 2019 -0700

    Removed extraneous fprintf() call

commit 67c67f3a6bad1cc6d023f2fca45bd5ee9ba84089
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 17 10:13:28 2019 -0700

    Updated version to 2.0.10

commit 93a5e4ce069b7cb791c2ee0bf678eafc3615f03b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 17 08:38:33 2019 -0700

    Fixed bug 4667 - Build errors on Linux when building without Threads support
    
    Manuel Sabogal
    
    There is an issue on the latest commit of the mercurial repo when SDL_THREADS_DISABLED is set:
    
    src/core/linux/SDL_threadprio.c:79:28: error: unknown type name 'Sint64'; did you mean 'int'

commit 9306ef9b10a62b7843e7e38ba4244c36607dffcf
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jun 16 14:10:30 2019 -0300

    Fix synthetically generated mouse events getting lost forever after the device orientation changes (or the window is otherwise resized) while a finger is touching the screen.

commit f4625f52f2cf1bfffc7e9f821c705b972db1798a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jun 16 13:52:27 2019 -0300

    iOS: remove some code which could affect the state of UIViews that aren't owned by SDL.
    
    It was originally added to work around an input event problem in the code of a specific app which mixed SDL and native UIViews, but that app solved its problems in a better manner since then.

commit fffa791fce70733ce81f29ec9a44ad6073a3daba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 22:29:13 2019 -0400

    assert: Another attempt to quiet compiler warnings.

commit 59e510b0b664886171259141c1352cf462453942
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 21:39:51 2019 -0400

    assert: Possibly fixing compiler warning on Android.

commit ed8b78d36b979a5dba1d09f59bbc3ac54dc095a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 21:18:53 2019 -0400

    cocoa: ignore compiler warnings about OpenGL being deprecated.

commit 90e2dc9891774868d23a718e4031442f7cd75571
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 18:23:51 2019 -0400

    A few minor changes to placate static analysis.

commit 4eb3c0c38791d7b06a5540bbc902f750994e471c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 14 13:56:52 2019 -0700

    Added support for Xbox and PS4 wireless controllers on iOS and tvOS
    Also implemented SDL_JoystickGetDevicePlayerIndex() on iOS and tvOS, and added support for reading the new menu button state available in iOS and tvOS 13.

commit 1213fe79d8160f879e982c9aebe5f12dad190d54
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 14 13:56:42 2019 -0700

    Worked around "Undefined symbol: ___isPlatformVersionAtLeast()" link error on Xcode 11 beta

commit 289d1092453ed9fecb610e4f1e55ef8926c94b8d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 16:52:42 2019 -0400

    audio: Attempt to fix build on ARM versions of Visual Studio.

commit 33b235f4c3dcac56fdc9f05b02289e4396df9c6e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 15:52:48 2019 -0400

    audio: Fix ARM NEON audio converter bugs.
    
    (Patch from Sylvain, I'm just applying it.)
    
    Fixes Bugzilla #4186.

commit 5c56c888240d8f2cea2cd263b9cf6af4e989ada4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 14 15:47:32 2019 -0400

    audio: patched to compile.

commit 5bd9b8b167a883a3b6c25de96c067d62e2e3e599
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Fri Jun 14 09:51:22 2019 -0400

    Check src alignment for S32_to_F32 conversions

commit d9a2eff26f1088535c2f6e608be042b524498e7b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 13 21:31:03 2019 -0400

    cocoa: Another attempt at synthesized mouse/touch events.

commit 294574647dcc48b82c22555e023a9f7231ce13a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 13 01:57:13 2019 -0400

    cocoa: Revised synthesized mouse/touch event strategy.
    
    I _think_ I understand what Sylvain is working on here now, so hopefully I
    got this right.
    
    Fixes Bugzilla #4576.
    
    (I think!)

commit 50f5123190be36051b3378f09f4a6ad689ea6c2b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jun 12 19:57:30 2019 -0300

    macOS: Fix the coordinate space of SDL_GetDisplayUsableBounds (thanks Tim!)
    
    Fixes bug #4518.

commit 74e86a51d87a2a1a0c26776f1e4a8b19e4ca5128
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jun 12 19:15:56 2019 -0300

    iOS: Remove didAddSubview override in NSWindow, its code breaks things which rely on focus changing within SDL's UIWindow (bug #4659).

commit 2fa33d6f987d706752430556ef779a047d85acb0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 12 15:43:08 2019 -0400

    wave: Fixed static analysis warning about dead assignment.
    
    (technically, this function never returns an error at this point, but since
    it _does_ have an "uhoh, is this corrupt data?" comment that it ignores, we
    should probably make sure we handle error cases in the future.  :)  )

commit 32ead2cb46400b60bdf1a8168fcf7110a5c7760b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 12 15:37:07 2019 -0400

    vulkan: Fixed use-after-free bug.

commit b530d75afbe4fecfb885d6ae84b2bf8d679712c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 12 15:35:06 2019 -0400

    assert: Fixed some compiler warnings.

commit 747df96eb09c854a6df86fc08ed51267c25381ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 12 10:38:49 2019 -0700

    Better patch to make it more clear what's going on

commit 3fbaa5da057ff3e4c333233ec485fac498fddbb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 12 10:35:47 2019 -0700

    The hat index passed to the application should be zero-based with no holes

commit a1a2f9b9f85145179c7f763be412d7bfb9e467be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 12 10:32:36 2019 -0700

    Fixed bug 4486 - Segfault when pressing a trigger on the Steam Controller (Linux)
    
    Matteo Beniamino
    
    Pressing a trigger button on a Steam Controller causes a segmentation fault both with stable version and latest mercurial head on Linux. I'm using the recent hid_steam kernel module with lizard_mode disabled (that is no keyboard/mouse emulation). I suspect this is what's happening: the driver exposes two hats. The two hats have indices 0 and 2. Inside linux/SDL_sysjoystick.c two hats are allocated in allocate_hatdata for joystick->hwdata->hats. In HandleHat function the hat parameter (that can be 2) is directly used as the index of the array that only has two elements, causing an out of bounds access. SDL is not expecting to have "holes" between hats indices.
    
    The index 2 is calculated in HandleInputEvents() as (ABS_HAT2X - ABS_HAT0X) / 2 where ABS_HAT2X is the value associated to the hat inside the hid_steam module.

commit d01150abc22adf011a615fc3eb8062532a5e1223
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 12 07:55:48 2019 -0700

    Fixed bug 4665 - Add support for single touch evdev devices
    
    Jan Martin Mikkelsen
    
    The attached patch adds support for single-touch evdev devices.
    
    These devices report ABS_X, ABS_Y and BTN_TOUCH events. This patch sets them up as MT devices with a single slot and handles the appropriate messages.

commit 797b28133c9441384b1870f49b1fe91d5e214a9f
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Wed Jun 12 00:55:05 2019 +0200

    wayland: HiDPI support

commit 09142eb7153dfe8ee40276441180f79023f68bb8
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 12 13:56:20 2019 +0300

    fix permissions

commit cd011bb1e79dd063665a95728a1c98e1a25c4383
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jun 12 10:42:02 2019 +0200

    SDL_Wave: missing field 'length' initializer

commit f5a347853dd4509321b8da3b539ac356bb18aa36
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 21:57:30 2019 -0400

    assert: mark SDL_ExitProcess as SDL_NORETURN again.
    
    Put in a hack to (hopefully) make MingW happy.
    
    Fixes Bugzilla #4100.

commit 04b50f6c6bef67b744b192c78775771b51ff2141
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 16:19:01 2019 -0400

    cocoa: Backed out CVDisplayLink code for macOS vsync.
    
    This was to deal with broken vsync support in macOS 10.14, which we assumed
    would remain broken indefinitely, but a later 10.14 released fixed it.
    
    This is a loss of late-swap support, but there are several subtle problems
    in our CVDiplayLink code that are also evaporating, to be fair.
    
    Fixes Bugzilla #4575.
    
    (Backed out changeset 8760fed23001)

commit 39733dc6b9f9f82ef3201b348ccc118031adc689
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 11 19:58:10 2019 -0700

    Fixed bug 4615 - RPM Build fails due to unpackaged files
    
    devbeer
    
    The current SDL2.spec fails to build with:
    
    Checking for unpackaged file(s): /usr/lib/rpm/check-files /tmp/build/rpmbuild/BUILDROOT/SDL2-2.0.9-2.x86_64
    error: Installed (but unpackaged) file(s) found:
       /usr/lib64/cmake/SDL2/sdl2-config.cmake
    
    
    RPM build errors:
        Installed (but unpackaged) file(s) found:
       /usr/lib64/cmake/SDL2/sdl2-config.cmake

commit 69d27a69cde943e973c35992d485f4641dece7fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 11 18:13:46 2019 -0700

    Fixed bug 4570 - Support Vulkan Portability rather than MoltenVK specifically
    
    Dzmitry Malyshau
    
    Current code, search paths, and error messages are written to only consider MoltenVK on macOS as a Vulkan Portability implementation. It's not the only implementation available to the users. gfx-portability [1] has been shown to run a number of titles well, including Dota2, Dolphin Emulator, and vkQuake3, often out-performing MoltenVK in frame rate and stability (see Dolphin benchmark [2]).
    
    There is no reason for SDL to be that specific, it's not using any MVK-specific functions other than the WSI initialization ("VK_MVK_macos_surface"). gfx-portability exposes this extension as well, and a more generic WSI extension is in process. It would be good if SDL was written in a more generic way that expect a Vulkan Portability library as opposed to MoltenVK specifically.
    
    [1] https://github.com/gfx-rs/portability
    [2] https://gfx-rs.github.io/2019/03/22/dolphin-macos-performance.html

commit 3e9bf284135585981a96d2120e9bafbc42f2f728
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 15:06:35 2019 -0400

    software: Fixed compiler warning and dos2unix'd the endlines.

commit 04fedce0e8f3a7ee8cb00d16d40518a18975516f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 14:09:53 2019 -0400

    software: Correctly track viewport and cliprect.
    
    Fixes Bugzilla #4457.

commit a2f2b735548689812fbeecc6000431e147a27704
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 13:02:56 2019 -0400

    direct3d: Use D3DPOOL_MANAGED for vertex buffers.
    
    Fixes Bugzilla #4537.

commit aa80d279d31a0260dbd1c85da5b1b266654480c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 11 08:33:30 2019 -0700

    Fix build with the 10.10 SDK

commit f7b7a9727b784d46ef6cc100935fde18f9f13b05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 10:12:47 2019 -0400

    direct3d: Fixed SDL_RenderSetClipRect usage.
    
    Fixes Bugzilla #4459.

commit 4f59d372f8d98c91b5b48d5841e0d9d88b99dd06
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 09:29:48 2019 -0400

    direct3d: don't dereference bogus pointer if current texture was destroyed.
    
    Fixes Bugzilla #4460.

commit 4392c6ff146e668b2099de86993317f50072e007
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 11 11:01:15 2019 +0200

    Android: fix coordinates for Surface.ROTATION_180
    https://discourse.libsdl.org/t/android-screen-orientation-issues-2-0-9/26262

commit 45a3dd171d974e3b3b32d578bb5231b56f083242
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Jun 11 10:19:26 2019 +0200

    Android: revert wrong fix typo calling onBackPressed() (Bug 4657)

commit f71454c0ad8a9b7f097238635cba07d0ba9a694d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 02:32:43 2019 -0400

    testoverlay2: Changed some C runtime calls to be SDL equivalents.

commit a6af0b8291ae7d63b88a2dbe531fb833bc4a6106
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 02:31:57 2019 -0400

    direct3d: Fixed more compiler warnings on Visual Studio 64-bit builds.

commit 5fb20b3093d92c2b8fb264050963c90c62f39858
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 02:14:59 2019 -0400

    video: fixed compiler warning on Visual Studio.

commit 254eb67775c786274a52595fbd4430018c3c5b57
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 02:08:31 2019 -0400

    windows: Don't let Visual Studio insert an implicit dependency on memset().
    
    Fixes Bugzilla #4662.

commit 399df540e3ec946b65ac899d741e8193c8c56105
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 11 01:14:24 2019 -0400

    windows: Drop WM_ACTIVATE when window is hidden, but only if being activated.
    
    Fixes Bugzilla #4571.

commit f9a9193e2c65edd84f204455d13ee7bd204b61ef
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jun 10 21:58:03 2019 +0200

    Android: add MinimizeWindow function (Bug 4580, 4657)
    shouldMinimizeOnFocusLoss is un-activated (return false)

commit 3f4e189b27cb62d983a85ac24971e9430573252c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jun 10 21:41:22 2019 +0200

    Android: fix typo calling onBackPressed() (Bug 4657)

commit 1e8d9e01dc31d9f8833fc20d6a951503040728d1
Author: Benjamin Valentin <benpicco@googlemail.com>
Date:   Sun Mar 17 23:47:12 2019 +0100

    Add mapping for Chinese-made Xbox Controller
    
    This device is a copy of the Xbox Controller S and currently the one most sold
    when shopping for a 'new' Xbox gamepad on eBay and AliExpress.
    Except for the quirky USB ID id behaves just like a normal Xbox controller (when
    ignoring the subpar build quality)

commit d8da33c03f26e1c6cb1cd0c78dcccaa2ae2ea47e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 10 08:49:26 2019 -0700

    Fixed bug 4662 - SDL failed to build due to error LNK2019: unresolved external symbol _memset referenced in function _IMA_ADPCM_Decode with MSVC on Windows
    
    LinGao
    
    We build SDL with Visual studio 2017 compiler on Windows Server 2016, but it failed to build due to error LNK2019: unresolved external symbol _memset referenced in function _IMA_ADPCM_Decode on latest default branch. And we found that it can be first reproduced on ca7283111ad0 changeset. Could you please help have a look about this issue? Thanks in advance!

commit 9891c31ba07a9ba6d7db90e9d5bbb598edcf8a68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 10 08:46:20 2019 -0700

    Fixed bug 4641 - clang and clang-cl builds on windows create -Wpragma-pack warnings

commit 781692c03cc174e356e6c64253c0b5d8f4bcf287
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 9 19:27:25 2019 -0400

    cocoa: report proper input IDs for mouse/touch events.
    
    Otherwise, we generate incorrect mouse events for MacBook trackpads (which
    are also multitouch devices), etc.
    
    Partially fixes Bugzilla #4576.

commit e43550c0393512afea3cfa41d4cfb0a108ba0bd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 9 14:08:18 2019 -0700

    Fixed bug 4658 - iOS 12 fullscreen flag and SDL_HINT_IOS_HIDE_HOME_INDICATOR not working
    
    Caleb Cornett
    
    On iOS 12, creating a window with the SDL_WINDOW_FULLSCREEN flag does not dim the home indicator or defer system gestures. The same goes for setting the SDL_HINT_IOS_HIDE_HOME_INDICATOR to "2" -- it has no effect at all.
    
    I've tracked down the source of this misbehavior to a timing issue. The initial `setNeedsUpdate...` calls were happening too early and getting applied to the launch screen by mistake. In the attached patch, I've added a call to those functions right after the launch screen is hidden so that they apply to the main view controller instead. This appears to fix the issue, at least on my iPhone 6s Plus.

commit 225ae6909ee534736f7e87b698fff33e0b0db3cb
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Sun Jun 9 11:54:51 2019 -0400

    Add notes for SDL_WinRTRunApp and SDL2-WinRTResources for non-C++ projects

commit 762b788f67e63c1a3652debc99d8150b1a662267
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 9 12:46:10 2019 -0700

    Cleanup on bug 3894 - Fuzzing crashes for SDL_LoadWAV
    
    Simon Hug
    
    Attached is a minor cleanup patch. It changes the option name of one hint to something better, puts one or two more checks in, and adds explicit casting where warnings could appear otherwise.
    
    I hope the naming of the hints and their options is acceptable. It would be kind of awkward to change them after they get released with an official SDL version.

commit b5e9ebbafa7f4ad1e989448d8421028c37348135
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 19:12:05 2019 -0700

    Fixed compiler warning
    warning C4018: '<' : signed/unsigned mismatch

commit a21b5b30181ee3f63037fc5735966029e2c1fda2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 19:09:43 2019 -0700

    Fixed build

commit 990e166a3bc4825e48e9b174d05fe974366f6a29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 19:02:42 2019 -0700

    Fixed bug 3894 - Fuzzing crashes for SDL_LoadWAV
    
    Simon Hug
    
    I had a look at this and made some additions to SDL_wave.c.
    
    The attached patch adds many checks and error messages. For some reason I also added A-law and ?-law decoders. Forgot exactly why... but hey, they're small.
    
    The WAVE format is seriously underspecified (at least by the documents that are publicly available on the internet) and it's a shame Microsoft never put something better out there. The language used in them is so loose at times, it's not surprising the encoders and decoders behave very differently. The Windows Media Player doesn't even support MS ADPCM correctly.
    
    The patch also adds some hints to make the decoder more strict at the cost of compatibility with weird WAVE files.
    
    I still think it needs a bit of cleaning up (Not happy with the MultiplySize function. Don't like the name and other SDL code may want to use something like this too.) and some duplicated code may be folded together. It does work in this state and I have thrown all kinds of WAVE files at it. The AFL files also pass with it and some even play (obviously just noise). Crafty little fuzzer.
    
    Any critique would be welcome. I have a fork of SDL with a audio-loadwav branch over here if someone wants to use the commenting feature of Bitbucket:
    
    https://bitbucket.org/ChliHug/SDL
    
    I also cobbled some Lua scripts together to create WAVE test files:
    
    https://bitbucket.org/ChliHug/gendat

commit 48ac92af548607e91fc6744872ad490717d277b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 18:40:11 2019 -0700

    Fixed bug 4041 - Android, SDL_Renderer OpenGLES 1 is loading GLESv2 library
    
    Sylvain
    
    On Android, if you set no attribute using SDL_GL_SetAttribute(), and try to create a SDL Render OpenGLES 1:
    
    - it loads first by default GLESv2 libraries
    - creates the rendere OpenGLES 1
    - recreates the Window to have a context 1.1 ( https://hg.libsdl.org/SDL/file/4db4cfd59470/src/render/opengles/SDL_render_gles.c#l298 )
    
    But it doesn't unload libraries, then reload GLESv1 lib. So the SDL_Renderer OpenGLES 1 is working with GLES 2 libs, which seems inconsistent.
    
    
    If you, at first, set
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_ES);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 1);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 1);
    It will correctly load GLES v1 libraries.
    
    Here's a small patch to reload egl libs when SDL_RecreateWindow() is called.
    It fixes the issue, also the case from bug 4042
    
    ( SDL_RecreateWindow() is used by SDL_Renderer gl, gles1, gles2. )

commit 1b73d578f3d60ddf3e6d33eeafd6e106a2aa8458
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 18:32:29 2019 -0700

    Temporary fix for bug 4254 - a _lot_ of strict aliasing warnings
    
    Ozkan Sezer
    
    A horde of strict aliasing violation warnings are emitted from joystick
    layer, and also from a few other places. This happens with gcc-4.4.7 on
    Linux CentOS 6.10.  Some other sysjoystick would possibly have the same
    warnings.
    
    Attached my full log here. Example entry:
    src/joystick/SDL_joystick.c: In function 'SDL_GetJoystickGUIDInfo':
    src/joystick/SDL_joystick.c:1094: warning: dereferencing pointer '({anonymous})' does break strict-aliasing rules

commit 31765242d692353912d68f85a91fac2a2a4b3b55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 18:22:18 2019 -0700

    Fixed bug 4294 - Audio: perform more validation on conversion request
    
    janisozaur
    
    There are many cases which are not able to be handled by SDL's audio conversion routines, including too low (negative) rate, too high rate (impossible to allocate).
    
    This patch aims to report such issues early and handle others in a graceful manner. The "INT32_MAX / RESAMPLER_SAMPLES_PER_ZERO_CROSSING" value is the conservative approach in terms of what can _technically_ be supported, but its value is 4'194'303, or just shy of 4.2MHz. I highly doubt any sane person would use such rates, especially in SDL2, so I would like to drive this limit further down, but would need some assistance to do that, as doing so would have to introduce an arbitrary value. Are you OK with such approach? What would a good value be? Wikipedia (https://en.wikipedia.org/wiki/High-resolution_audio) lists 96kHz as the highest sampling rate in use, even if I quadruple it for a good measure, to 384kHz it's still an order of magnitude lower than 4MHz.

commit 3f19a6d5e85c71df0fb2b4626b943457d38c2031
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 18:07:58 2019 -0700

    CVE-2019-7578: Fix a buffer overread in InitIMA_ADPCM
    If IMA ADPCM format chunk was too short, InitIMA_ADPCM() parsing it
    could read past the end of chunk data. This patch fixes it.
    
    CVE-2019-7578
    https://bugzilla.libsdl.org/show_bug.cgi?id=4494
    
    Signed-off-by: Petr P?sa? <ppisar@redhat.com>

commit 316ff3847b4d9d87d9b0aab15321461db0e8ae0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 17:43:23 2019 -0700

    Fixed bug 4526 - replace SDL_RW* macros with functions for using in bindings
    
    ace
    
    I got this bug in SDL_ttf:
    https://bugzilla.libsdl.org/show_bug.cgi?id=4524
    Sylvain proposed solution:
    SDL_RWseek(RWops, 0, RW_SEEK_SET);
    
    And it works, but i can use it my project, because it written in C# with SDL2-CS wrapper and there not export for macroses:
    #define SDL_RWsize(ctx)         (ctx)->size(ctx)
    #define SDL_RWseek(ctx, offset, whence) (ctx)->seek(ctx, offset, whence)
    #define SDL_RWtell(ctx)         (ctx)->seek(ctx, 0, RW_SEEK_CUR)
    #define SDL_RWread(ctx, ptr, size, n)   (ctx)->read(ctx, ptr, size, n)
    #define SDL_RWwrite(ctx, ptr, size, n)  (ctx)->write(ctx, ptr, size, n)
    #define SDL_RWclose(ctx)        (ctx)->close(ctx)
    
    Therefore, I suggest replacing this macros with functions so that they can be exported and used in bindings

commit 2b6473dc05f70f59fa85fe54670b0b1313939b73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 15:10:20 2019 -0700

    Fixed bug 4533 - Update ANGLE to load d3dcompiler_47.dll instead of d3dcompiler_46.dll
    
    msmshazan
    
    Update ANGLE Libraries to support d3dcompiler_47.dll since chrome does not ship with d3dcompiler_46.dll and d3dcompiler_43.dll

commit 0442d19fc89a7ce159dfe2eedbdaa837590e40f7
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Mar 4 12:16:43 2019 -0500

    cocoa: Fix assert to use SDL_assert

commit a73dacbf625c173228c318860fcd0bb450af5a12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:58:49 2019 -0700

    Backed out Ben's chinese Xbox controller patch, as the generic catch-all for Xbox controllers should handle it.

commit f3c6b1f51af950e9c51aa95f5b9e524336cbd5f5
Author: Benjamin Valentin <benpicco@googlemail.com>
Date:   Sun Mar 17 23:47:12 2019 +0100

    Add mapping for Chinese-made Xbox Controller
    
    This device is a copy of the Xbox Controller S and currently the one most sold
    when shopping for a 'new' Xbox gamepad on eBay and AliExpress.
    Except for the quirky USB ID id behaves just like a normal Xbox controller (when
    ignoring the subpar build quality)

commit 8728ce4448abf2d41beec8df71625f3dd02e3593
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:54:37 2019 -0700

    Fixed bug 4557 - SDL_SIMDAlloc and *Free should be in the public interface
    
    Martin Gerhardy
    
    These functions are really useful and should get exposed imo.

commit 56b7f4cf3100cd252a0325973fb9093ce0a629ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:40:27 2019 -0700

    Fixed bug 4583 - PollAllValues appears to use an incorrect index for all axes above 0x18
    
    Noam Preil
    
    In src/joystick/linux/SDL_sysjoystick.c:
    
    The ConfigJoystick function's axes detection starts with a for loop using an index i for Linux's axes names. When i gets to ABS_HAT0X, it's set to ABS_HAT3Y and a continue statement appears, to skip the hats. This makes sense, as SDL handles hats separately from axes.
    
    However, in PollAllValues, *two* indices are used: a and b. Both start out the same, and remain so until the hats are reached. At that point, a becomes identical to the i from ConfigJoystick's loop, but b is equal to a - (ABS_HAT3Y - ABS_HAT0X), or a - 8.
    
    While all the joystick->hwdata->abs_* structures in ConfigJoystick used i - which would here be a - as both the index and the ioctl argument, PollAllValues uses b for the structure index and a as the ioctl argument.
    
    It would appear, however, that no joystick HAS such axes, and that the b index is entirely unnecessary.
    
    I tested three separate joysticks, and while that was far from a complete listing, I was unable to find a joystick with an axis above 0x08.

commit 59483c6446ccd60e8a0e722fb80ea9b3efd9ca91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:36:03 2019 -0700

    Fixed bug 4593 - Respect CMake's BUILD_SHARED_LIBS default behavior
    
    tschwinger
    
    Respect the BUILD_SHARED_LIBS variable when defined, and build either shared or static libs, which is CMake's default behavior (See https://cmake.org/cmake/help/latest/variable/BUILD_SHARED_LIBS.html).
    
    If the variable is not defined, the current behavior remains unchanged and both variants are built where the platform supports it. This way, it remains possible to build both in one shot, which seems convenient for distro builds and useful to promote some consistency between them.

commit 68bb8d6c13a284f36e87f36aae171735fae916dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:34:38 2019 -0700

    Fixed bug 4594 - Fix install location of CMake targets on Apple platforms
    
    tschwinger
    
    Followup to #3651
    
    As already noted by Ryan, no framework is being built, so we better install to lib/cmake.
    
    That code was originally part of a patch submitted by David Demelier, whose credit BTW got lost (I combined his patch for #3572 with fixes for #2576 and #3613 resulting in #3651 because things started to depend on another).
    
    I tested that the configuration files are found correctly in the new location on MacOS X based on a hint to the root (see https://cmake.org/cmake/help/latest/command/find_package.html#search-procedure).

commit d97387ccff116dd01f2ec7a840c515c814bd1da4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:32:19 2019 -0700

    Fixed bug 4600 - Dualshock 4 touchpad press is not detectable with SDL_JoystickGetButton
    
    Dexter Friedman
    
    When using a Dualshock 4 controller (model numbers CUH-ZCT1U and CUH-ZCT2U), pressing anywhere on the center touchpad does not send an SDL_JOYBUTTONDOWN event. I have verified this with testjoystick:
    
    Repro steps:
    1. Plug in a DS4 over USB
    2. Compile testjoystick and run: testjoystick.exe 0
    3. Press and hold the touchpad. Observe that no lime green box appears
    
    Expected behavior:
    A lime green box appears while the touchpad is pressed.
    
    Notes:
    I've attached a patch here that works on my PC and produces the expected behavior in testjoystick, for both DS4 model numbers I listed earlier.
    
    If I understand correctly, by exposing this as a joystick button, the gamecontroller API mapping can be modified with a change to gamecontrollerdb.txt in the future.

commit 30a5e90ba815ea12d088dfb263047985d24c957c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 14:29:05 2019 -0700

    Fixed bug 4603 - The iOS Test Xcode project file needs to add the metal framework
    
    Dominik Reichardt
    
    Similar to bug #4088 the iOS test suite needs the metal framework to link. Same linking error in the final linking phase.

commit 8a37848de926356e65572ecbde169aaa34e191e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 13:41:46 2019 -0700

    Fixed bug 4605 - WASAPI_WaitDevice hang
    
    Matt Brocklehurst
    
    We've noticed that if you are playing audio on Windows via the WASAPI interface and you unplug and reconnect the device a few times the program hangs.
    
    We've debugged the problem down to
    
    static void
    WASAPI_WaitDevice(_THIS)
    {
    
       ... snip ...
     if (WaitForSingleObjectEx(this->hidden->event, INFINITE, FALSE) == WAIT_OBJECT_0) {
       ... snip ...
    }
    
    This WaitForSingleObjectEx does not havbe a time out defined, so it hangs there forever.
    
    Our suggested fix we found was to include a time out of say 200mSec
    
    We have done quite a bit of testing with this fix in place on various hardware configurations and it seems to have resolved the issue.

commit 82af42761e131341503789cfceaa1612e5a81b79
Author: Zack Middleton <zack@cloemail.com>
Date:   Sat Jun 8 13:36:59 2019 -0700

    hidapi: Use GameCube adapter controller port for player index
    The Nintendo USB GameCube adapter has four controller ports. Return
    the port number as 0 to 3 from SDL_JoystickGetPlayerIndex() and
    SDL_JoystickGetDevicePlayerIndex().

commit e7b514d8ffc6312baacd6bb03328a8df8d54cdd1
Author: Cameron Cawley <ccawley2011@gmail.com>
Date:   Sun Jan 13 23:36:31 2019 +0000

    riscos: Fix iconv warnings

commit 15bae953b12f2b53fd5da4e896e0442c85888261
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 13:03:36 2019 -0700

    Fixed bug 4642 - Rework SDL_netbsdaudio to improve performance
    
    Nia Alarie
    
    The NetBSD audio driver has a few problems. Lots of obsolete code, and extremely bad performance and stuttering.
    
    I have a patch in NetBSD's package system to improve it. This is my attempt to upstream it.
    
    The changes include:
    
    * Removing references to defines which are never used.
    * Using the correct structures for playback and recording, previously they were the wrong way around.
    * Using the correct types ('struct audio_prinfo' in contrast to 'audio_prinfo')
    * Removing the use of non-blocking I/O, as suggested in #3177.
    * Removing workarounds for driver bugs on systems that don't exist or use this driver any more.
    * Removing all usage of SDL_Delay(1)
    * Removing pointless use of AUDIO_INITINFO and tests that expect AUDIO_SETINFO to fail when it can't.
    
    These changes bring its performance in line with the DSP audio driver.

commit f2c8d8e9c4a593db7c79a458998a6bd1a9963311
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 10:47:43 2019 -0700

    Fixed bug 4443 - Incorrect scan code reported for numpad 5
    
    bplu4t2f
    
    When num lock is on, the scancode reported for numpad 5 is SDL_SCANCODE_KP_5, which is correct. However, when num lock is off, windows reports the VK_CLEAR virtual key code, which is incorrectly translated into SDL_SCANCODE_CLEAR inside of the VKeytoScancode(WPARAM vkey) function.

commit 5cb14f4467408a9213bb8d8e201f07693cdc5665
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Tue Apr 30 20:37:49 2019 -0700

    Ignore Xbox One S gamepads with older firmware in HIDAPI
    
    This older firmware had a different HID report style that we don't support.

commit b1100ec18c3fa7c388ed35ea6fedfe2805c22c3d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 10:23:52 2019 -0700

    Fixed Android build warning

commit 03cf24162ffbd56e9848303ed9a0d762a0f55c45
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 8 10:21:38 2019 -0700

    OpenSL ES audio cleanup and added a note with low latency audio discussion

commit 166d15fd75fdd3bfcb36319dd3c1fa78376842cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 7 15:09:15 2019 -0700

    Fixed surround sound channel setup for Android OpenSL ES audio driver

commit 23a2b47790fc19a1edd6e5f96a12136c0b362001
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 7 09:00:26 2019 -0700

    Protect against NULL device in the Android hidapi implementation

commit 9261e473d668bf3831da4d7a7da301f9aeebfee5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 7 09:00:24 2019 -0700

    Potential fix for a crash we're seeing on Android that should in theory never happen.

commit 20ec8664845e5ee67807e33e4ffa1727224094ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 6 08:20:53 2019 -0700

    Added support for the Rotor Riot gamepad, and upcoming Xbox and PS4 controller support on iOS and tvOS
    Patch contributed by Nat Brown

commit 6c0b304c93e08d7d8195d6a3fffe541118ce5fd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 5 12:03:45 2019 -0700

    Fixed bug 4655 - evdev is available on FreeBSD, check in 'configure' limited to Linux
    
    Jan Martin Mikkelsen
    
    The evdev interface is available on FreeBSD, with the xf86-input-evdev for include files in /usr/local/include/linux, so <linux/input.h> works, or when build with the native evdev option, where <dev/evdev/input.h> is available.

commit 23569362dcdab7c5bdc4e32b3059dc5aff796dab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 5 12:01:26 2019 -0700

    Use SDL sized types

commit 3e3294645f380ee192e91934b3c7ec4a51a4e512
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 5 08:54:07 2019 -0700

    Fixed bug 4656 - SDL_evdev.c uses Linux specific integer types
    
    Jan Martin Mikkelsen
    
    The file src/core/linux/SDL_evdev.c uses the Linux specific types __u32 and __s32. This breaks things on FreeBSD when building with evdev.

commit 723d01433665c9387c16e5d55f6ca08b7b8db988
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 4 17:32:15 2019 -0700

    Fixed bug 4171 - SDL_GetQueuedAudioSize is broken with WASAPI
    
    Cameron Gutman
    
    I was trying to use SDL_GetQueuedAudioSize() to ensure my audio latency didn't get too high while streaming data in from the network. If I get more than N frames of audio queued, I know that the network is giving me more data than I can play and I need to drop some to keep latency low.
    
    This doesn't work well on WASAPI out of the box, due to the addition of GetPendingBytes() to the amount of queued data. As a terrible hack, I loop 100 times calling SDL_Delay(10) and SDL_GetQueuedAudioSize() before I ever call SDL_QueueAudio() to get a "baseline" amount that I then subtract from SDL_GetQueuedAudioSize() later. However, because this value isn't actually a constant, this hack can cause SDL_GetQueuedAudioSize() - baselineSize to be < 0. This means I have no accurate way of determining how much data is actually queued in SDL's audio buffer queue.
    
    The SDL_GetQueuedAudioSize() documentation says: "This is the number of bytes that have been queued for playback with SDL_QueueAudio(), but have not yet been sent to the hardware." Yet, SDL_GetQueuedAudioSize() returns > 0 value when SDL_QueueAudio() has never been called.
    
    Based on that documentation, I believe the current behavior contradicts the documented behavior of this function and should be changed in line with Boris's patch.
    
    I understand that exposing the IAudioClient::GetCurrentPadding() value is useful, but a solution there needs to take into account what of that data is silence inserted by SDL and what is actual data queued by the user with SDL_QueueAudio(). Until that happens, I think the best approach is to remove the GetPendingBytes() call until SDL is able to keep track of queued data to make sense of it. This would make SDL_GetQueuedAudioSize() possible to use accurately with WASAPI.

commit b5d3b6fc25fc8d464938515c13937e0cb0390664
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 28 17:39:13 2019 -0400

    test: unify all the command line usage logging.

commit 9b5811592d6f2764a1ddd111f301aa2fe043587d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun May 26 18:53:36 2019 -0300

    iOS: return SDL_GetWindowSize from SDL_GL_GetDrawableSize if there's no GLES view in the window (matches the behaviour of SDL_GL_GetDrawableSize on other platforms). Addresses bug #4629.

commit dce56ab9fa9979e6a635d5d108a65d72a186a175
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 23 14:19:00 2019 -0700

    Added a function to get the current Android SDK version at runtime

commit f3e76ea1d050d20967a3b4410ece33d43ca4de14
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 23 13:47:30 2019 -0700

    Use the OpenSL ES audio driver by default on Android, as it has the lowest latency.

commit 02f9667a08409e493f97acad6da0c9647ae50441
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 23 13:47:27 2019 -0700

    Fixed static and buzzing when trying to use floating point audio on the OpenSL ES audio driver.

commit e401b950258065d810033d24877d1ed7731982b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 23 11:32:36 2019 -0700

    Return an error if both mouse relative mode and mouse warping are unavailable, instead of asserting.

commit 8b57331e71b02731be780bd5180ed5506c338792
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 23 11:05:43 2019 -0700

    Fixed hiding the Android virtual keyboard when the return key is pressed

commit f91b87859c4fd2097cb9c7290bd0fcf58c9dd56c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu May 23 09:08:40 2019 +0200

    Android: minimum size for IME, so that it takes focus
    
    In API 28, 0 width views can't take focus, so if someone tries to position the IME without setting a width, they'll stop getting text events.
    
    Tested on Android 9: with a 0 size, it would send correctly letters a, b, c, etc. but not numbers.

commit 7ec514d48f14b329f381806d89d463220ee75ff6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 22 17:39:51 2019 -0700

    Improved iOS Bluetooth keyboard support
    * Don't stop text input after the return key is pressed
    * Handle arrow and escape keys

commit 50aab1987794940559d14e715a3eed8532daad4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 21 17:33:31 2019 -0700

    Fixed bug 4639 - CMake build does not generate libhidapi.so for Android
    
    Manuel Sabogal
    
    I noticed that the current Android.mk builds a libhidapi.so library for Android but the CMake build hasn't been updated to do so. I'll attach a patch that fixes this issue.

commit 9b2202828af4c4b6f083587a25ef6e4b59eb2150
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sun Apr 28 17:37:49 2019 -0700

    Fix use-after-free when pumping the event loop after SDL_DestroyWindow()
    
    Closing the window is asynchronous, but we free the window data immediately,
    so we can get an updateLayer callback before the window is really destroyed which
    will cause us to access the freed memory.
    
    Clearing the content view will cause it to be immediately released, so no further
    updateLayer callbacks will occur.

commit a4e33b9cc45a0f40cbcd6ec80c3ab7c29fe99a5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 20 14:31:03 2019 -0700

    Added support for Bluetooth keyboards on iOS
    In this case the keyboard is shown and immediately hidden, but we still want to accept text input

commit 582a3c994dcd3b331533c872fef7afba9c73d53a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 20 14:08:35 2019 -0700

    Fixed mouse focus for touch events on iOS

commit 4bd808346ace68fbb713089ddedca89b25beedd1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 20 00:41:18 2019 -0400

    vulkan: Swapped out a free() that should have been an SDL_free().
    
    Fixes (for real this time!) the Visual Studio builds.

commit ebbb295e85add5355f3f22bf6ce88f90b5c84432
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 19 23:29:50 2019 -0400

    vulkan: Patched to compile on Visual Studio.

commit d778b26dd181ed959c362eb89e74fc14167cf077
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 19 20:25:02 2019 -0400

    Patched to compile in C89 mode.

commit 5f341620308fd099b02fde629c0d5425b13afdbb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 12:06:58 2019 -0700

    Fixed bug 4474 - Add support for an ASUS Gamepad variation
    
    Trent Gamblin
    
    This patch adds a variation of the ASUS Gamepad to the game controller DB. All the values are the same except the GUID.

commit 41c718db859de054daa9fa192406d3f9a44a54fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 12:04:06 2019 -0700

    Fixed bug 4469 - make SDL_CreateTextureFromSurface pick a more appropriate format
    
    Sylvain
    
    Currently SDL_CreateTextureFromSurface picks first valid format, and do a conversion.
    
        format = renderer->info.texture_formats[0];
        for (i = 0; i < renderer->info.num_texture_formats; ++i) {
            if (!SDL_ISPIXELFORMAT_FOURCC(renderer->info.texture_formats[i]) &&
                SDL_ISPIXELFORMAT_ALPHA(renderer->info.texture_formats[i]) == needAlpha) {
                format = renderer->info.texture_formats[i];
                break;
    
    It could try to find a better format, for instance :
    
     if SDL_Surface has no Amask, but a colorkey :
       if surface fmt is RGB888, try to pick ARGB8888 renderer fmt
       if surface fmt is BGR888, try to pick ABGR8888 renderer fmt
     else
       try to pick the same renderer format as surface fmt
    
    if no format has been picked, use the fallback.
    
    
    I think it goes with bug 4290 fastpath BlitNtoN
    when you expand a surface with pixel format of size 24 to 32, there is a fast path possible.
    
    
    So with this issue:
    
    - if you have a surface with colorkey (RGB or BGR, not palette), it takes a renderer format where the conversion is faster.
      (it avoids, if possible, RGB -> ABGR which means switching RGB to BGR)
    
    - if you have a surface ABGR format, it try to take the ABGR from the renderer.
      (it avoids, if possible, ABGR -> ARGB, which means switch RGB to BGR)

commit c377de54409933b19ae5eb3855fdf203448d1f98
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 11:56:26 2019 -0700

    Fixed bug 4436 - [OpenBSD] fix D-pad
    
    Thomas Frohwein
    
    Hi,
    
    If a gamepad lists the Dpad as 4 buttons (Dpad Up,Down, Left, Right) like with the Xbox 360 gamepad / XInput report descriptor used by OpenBSD (https://github.com/openbsd/src/blob/master/sys/dev/usb/uhid_rdesc.h#L184), this is not recognized by the SDL BSD backend and no hat or any other listing for the D-pad exists, e.g. in sdl2-jstest (https://gitlab.com/sdl-jstest/sdl-jstest).
    
    The attached diff fixes this and makes the D-pad on my Xbox 360 and Logitech F310 controllers usable. It adds a hat to nhats when usage HUG_DPAD_UP is found, reads the state of the D-pad buttons into array dpad[], and turns the value of dpad[] into an SDL hat direction (dpad_to_sdl()).
    
    Tested and works with Xbox 360 controller and Logitech F310 in XInput mode. Software-side tested with sdl2-jstest and Owlboy where this worked without problems or regressions.
    
    I don't know if this would be applicable to other *BSDs and don't have an install to test it with, therefore wrapped it in __OpenBSD__ ifdefs.
    
    Thanks,
    
    thfr

commit 510b01f5fc79c29f3ba3a6dac9fcb4aa2b55f81e
Author: Serhii Charykov <laammaar@gmail.com>
Date:   Mon Dec 3 20:14:35 2018 +0200

    Fix WORKING_DIR parameter

commit ee0a482a876460e2599cece7a274b78a5983ed18
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 11:52:25 2019 -0700

    Fixed bug 4401 - SDL_GetWindowPosition() wrong after SDL_SetWindowPosition() until window is moved on macOS
    
    Removed incorrect call to SDL_SendWindowEvent(window, SDL_WINDOWEVENT_MOVED, x, y);
    If the position of the window isn't adjusted in the SetWindowPosition() call, then sending the window event would have no effect because x and y equals the window x and y. If the position of the window is adjusted in the SetWindowPosition() call, then we don't want to clobber it with values that the user passed in.

commit 2ee9b1ddce5a44e12db57fce5bc85d3ae92c98cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 11:01:36 2019 -0700

    Fixed bug 4025 - SDL_Renderer OpenGL : add support for textures ABGR, RGB, BGR
    
    Sylvain
    
    OpenGLES2 SDL renderer has support for textures ARGB, ABGR, RGB and BGR, whereas OpenGL SDL renderer only had ARGB.
    
    If you think it's worth adding it, here's a patch. I quickly tried and it worked, but there may be missing things or corner case.

commit 8dea23c705dce35e949208aa0e44618e628a5cf5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun May 19 10:44:14 2019 -0700

    Fixed bug 3911 - SYSWM generic X11 events missing event data
    
    Andrei Drexler
    
    For X11 GenericEvents, the associated data is only available between a call to XGetEventData and the matching XFreeEventData, i.e. in X11_HandleGenericEvent. Trying to call XGetEventData a second time on the same event will fail, so an application that wants to inspect XInput2 events (e.g. for stylus pressure) has no way of retrieving its data from queued SYSWM events.
    
    The attached patch (based on SDL-2.0.7-11629) sends SYSWM messages from X11_HandleGenericEvent while the data is still available, allowing client code to register an event filter/watcher and process the event inside the callback.

commit 29f34453164d90fe64ff1be1b4e88b39b3b39f4b
Author: Wladimir J. van der Laan <laanwj@gmail.com>
Date:   Sun May 19 10:36:44 2019 -0700

    video: Add Vulkan support for vivante fb
    Vivante drivers use the VK_KHR_display extension for rendering directly
    to the frame buffer. This patch adds support to the video driver for
    Vulkan rendering using that method.
    
    - Add an utility function SDL_Vulkan_Display_CreateSurface that creates
    a surface using this extension. The display to use (if there are
    multiple) can be overridden using the environment variable
    "SDL_VULKAN_DISPLAY".
    
    - Use this function in a new compilation unit SDL_vivantevideo.c,
    which implements the SDL_VIDEO_VULKAN methods of the driver structure.

commit 00e5eeb40ec395ed575bc28cfa528f14d84c85b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 19 01:45:15 2019 -0400

    test: added SDLTest_CommonDefaultArgs()
    
    This is for test apps that don't need custom command line arguments; it lets
    us reduce the boilerplate code a tiny bit.

commit 18d83093a8e45b64d063828b7518453f92c221a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 18 23:47:57 2019 -0400

    test: configure/make shouldn't build GL/GLES1/GLES2 programs if unsupported.

commit 62a57970883eaee9a920e413c3686bcc7d8361cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 15 14:01:15 2019 -0700

    Windows are not in a minimized state when they are shown
    This fixes https://github.com/ValveSoftware/steam-for-linux/issues/4313
    "Exiting game a in Steam Big Picture Mode gets semi-windowed BPM"

commit abcfe804804f7f9ee11f51a211c6e7d1d5039651
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 14 14:20:54 2019 -0700

    [SDL] iOS fix bug with audio interrupted by a phone call not restoring.

commit 59da5b720245fd01623045e12035fe6447dd3e9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 14 07:55:42 2019 -0700

    [SDL] ios Touch Fix.

commit ba0fc92deddab2d301c61cda662c9b0ccce1aa79
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 11 12:41:21 2019 -0400

    Patched to compile.

commit 6eb052113104fd8663865f43a42071ce7ee19c91
Author: Charlie Birks <charlie@daftgames.net>
Date:   Thu May 9 12:09:45 2019 +0100

    Emscripten: Use EMSCRIPTEN_EVENT_TARGET_*

commit 4e5b5cba121f9c14a59d0726b09ec609a04b9ada
Author: Charlie Birks <charlie@daftgames.net>
Date:   Thu May 9 12:09:40 2019 +0100

    Emscripten: Switch from canvas[XY] to target[XY]
    Allows mouse/touch events to work on non-default canvases

commit 60c48ed787c1f97fc222b3711c063cbd3ccb64f1
Author: Charlie Birks <charlie@daftgames.net>
Date:   Thu May 9 12:09:34 2019 +0100

    Emscripten: Store canvas id in WindowData
    Also replace all hardcoded uses of "#canvas" or NULL

commit f0a4fea89f984d031fef00c39fa22d7221fed814
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 25 14:17:07 2019 -0700

    Fixed bug 4608 - Android: not getting SDL_WINDOWEVENT_FOCUS_GAINED on start of our app
    
    Dan Ginsburg
    
    I've seen this on several devices including Moto Z running Android 7 and a Snapdragon 845 running Android 9.
    
    What happens is as follows:
    
    SDLActivity.onWindowFocusChanged(true) happens pretty early on, but it's before we've done SDL_CreateWindow and so Android_Window is 0x0 thus this message does not get sent:
    
    JNIEXPORT void JNICALL SDL_JAVA_INTERFACE(nativeFocusChanged)(
                                        JNIEnv *env, jclass cls, jboolean hasFocus)
    {
        SDL_LockMutex(Android_ActivityMutex);
    
        if (Android_Window) {
            __android_log_print(ANDROID_LOG_VERBOSE, "SDL", "nativeFocusChanged()");
            SDL_SendWindowEvent(Android_Window, (hasFocus ? SDL_WINDOWEVENT_FOCUS_GAINED : SDL_WINDOWEVENT_FOCUS_LOST), 0, 0);
        }
    
        SDL_UnlockMutex(Android_ActivityMutex);
    }
    
    When the window does get created, in Android_CreateWindow it does this:
    
     window->flags &= ~SDL_WINDOW_RESIZABLE;     /* window is NEVER resizeable */
        window->flags &= ~SDL_WINDOW_HIDDEN;
        window->flags |= SDL_WINDOW_SHOWN;          /* only one window on Android */
        window->flags |= SDL_WINDOW_INPUT_FOCUS;    /* always has input focus */
    
        /* One window, it always has focus */
        SDL_SetMouseFocus(window);
        SDL_SetKeyboardFocus(window);
    
    The SDL_SetKeyboardFocus does send an SDL_WINDOWEVENT_FOCUS_GAINED message, but it gets eaten in SDL_SendWindowEvent because we've forced SDL_WINDOW_INPUT_FOCUS beforehand:
    
     case SDL_WINDOWEVENT_FOCUS_GAINED:
            if (window->flags & SDL_WINDOW_INPUT_FOCUS) {
                return 0;
            }
            window->flags |= SDL_WINDOW_INPUT_FOCUS;
            SDL_OnWindowFocusGained(window);
            break;
    
    I can fix the problem if I comment out this line from Android_CreateWindow:
    
        window->flags |= SDL_WINDOW_INPUT_FOCUS;    /* always has input focus */
    
    I would propose that as a fix unless there is a reason not to.

commit 1a38853e02ecc0c22945a42731458deb4dbf4a9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 24 12:53:15 2019 -0700

    Fixed bug 4566 - Hot-plugging Bluetooth controller causes force-quit on Android
    
    Anthony @ POW Games
    
    I tried adding different configChanges and sure enough, "navigation" worked! Now bluetooth controllers hot-plug nicely. So shall we add it as a default to the AndroidManifest.xml?
    
    Funny that this is how this activity is described:
    
            "navigation" The navigation type (trackball/dpad) has changed. (This should never normally happen.)
    
    I think the reason behind this is because the bluetooth game controller I was testing doubles-up as a keyboard, which probably comes with a DPAD? It's a MOCUTE-032X_B63-88CE

commit 53a6196b32f134c9dc9ff62fdfb3db45175bb094
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 16:57:34 2019 -0700

    Don't redefine __SSE__ and related macros if they're already defined

commit f5252530d28a7013789b591344f057eeef8e99d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 14:08:14 2019 -0700

    Change my previous fix based on feedback from dev @saml

commit 624f8ca80db460e4fcb2e96315d9e27e2a49d35a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 14:08:09 2019 -0700

    Created Xcode schemes for building on iOS and tvOS

commit ecce803d54637221fe9e06f0cddb600ec6801fc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 12:59:28 2019 -0700

    Fix compile errors I hit when building org.libsdl in source2 (part 2 of 2) @saml

commit 45b5453b16a4280bfdde406fddfbaa8b75a7e818
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 12:59:20 2019 -0700

    Fix compile errors I hit when building org.libsdl in source2 (part 1 of 2)

commit f79190f40741613ed06855dd1e8708a8cf20daaf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 23 07:59:31 2019 -0700

    Use _Exit() when available

commit 46af90d8c3646cb820354e6a562cb823c89efc8f
Author: Hugh McMaster <hugh.mcmaster@outlook.com>
Date:   Sun Apr 7 23:01:07 2019 +1000

    Add a configure option allowing users to choose whether to install sdl2-config
    
    sdl2-config is installed by default if no flag is specified.

commit 2c92c8e85a4f5a1f6fd488da3dfc947c58fbec2e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 23 14:24:58 2019 +0200

    Android: add static variable initialization in non blocking event loop

commit cb18117c92159e1ab59b711eada97fd4712fe653
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 22 16:34:42 2019 -0700

    Added a helper function to tell whether or not a window can be minimized

commit f1b57f3785d99fa7371be4b5dee0c9f1458905b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 22 16:25:49 2019 -0700

    Only leave fullscreen mode if we're actually going to minimize

commit 9950271bb6a1ed51b7c4df09df64d6c007c7045a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 22 16:19:52 2019 -0700

    Fixed bug 4580 - Android 8: immersive fullscreen notification causes flickering between fullscreen and non-fullscreen and app is unresponsive
    
    Sylvain 2019-04-18 21:22:59 UTC
    
    Changes:
    - SDL_WINDOWEVENT_FOCUS_GAINED and SDL_WINDOWEVENT_FOCUS_LOST are sent when the java method onWindowFocusChanged() is called.
    
    - If we have support for MultiWindow (eg API >= 24), SDL event loop is blocked/un-blocked (or simply egl-backed-up or not), when java onStart()/onStop() are called.
    
    - If not, this behaves like now, SDL event loop is blocked/un-blocked when onPause()/onResume() are called.
    
    So if we have two app on screen and switch from one to the other, only FOCUS events are sent (and onPause()/onResume() are called but empty. onStart()/onStop() are not called).
    The SDL app, un-focused, would still continue to run and display frames (currently the App would be displayed, but paused).
    Like a video player app or a chronometer that would still be refreshed, even if the window hasn't the focus.
    It should work also on ChromeBooks (not tested), with two apps opened at the same time.
    
    
    I am not sure this fix Dan's issue. Because focus lost event triggers Minimize function (which BTW is not provided on android).
    https://hg.libsdl.org/SDL/file/bb41b3635c34/src/video/SDL_video.c#l2653
    https://hg.libsdl.org/SDL/file/bb41b3635c34/src/video/SDL_video.c#l2634
    
    So, in addition, it would need to add by default SDL_HINT_VIDEO_MINIMIZE_ON_FOCUS_LOSS to 0.
    So that the lost focus event doesn't try to minimize the window. And this should fix also the issue.

commit 2f6c988e7c0595ee533fae7b4fb2099909930d06
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 21 21:34:14 2019 -0400

    configure: Cleaned up audio/video summaries when building for Windows.

commit 90b08881abdca55f51508b9ff78f925a5864d91a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 17 20:41:05 2019 -0300

    iOS: Remove code trying to support compilation on the iOS 7 SDK, the deployment target has been set to iOS 8 for years and there's other unconditionally compiled code that depends on newer SDKs so that code is useless.

commit 9d7b26155a59cdfb7de0d7cba5ed59402762f0ee
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 17 20:14:40 2019 -0300

    macOS: Fix compilation when using the 10.9 SDK or older.

commit cf87d5764d00c8866dfa18fd2def924ac9bf14ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 16 20:00:14 2019 -0700

    Explicitly load hidapi as a dependency of the SDL library
    This fixes loading on Android 4.2

commit f07c992bb8377f4c6c5a60cb00a9cae232f2bf90
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Sun Mar 17 12:36:40 2019 -0400

    hidapi: Add GCN L/R buttons, just in case someone wants them...

commit bd344c2287220dffdc7ab67dd44be0851056b2e4
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Apr 12 23:15:26 2019 +0200

    Android: when event loop is not blocking in pause, backup EGL context (Bug 4578)
    Backup the EGL context when SDL_APP_DIDENTERBACKGROUND has been removed from the
    event queue.

commit 00c824a8b0c052a5b5a98c4084f9e3f7c1af887d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 10 22:30:58 2019 -0300

    Fix disabling OpenGL vsync on macOS 10.14.4+ (bug #4575).

commit aae49015daf1e9cd389d8ed3ec0cba2bd4273104
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Apr 10 10:59:53 2019 +0200

    Fixed bug 4581 - generate synthetic mouse events at window boundaries
    when real touch events are actually outside the window.

commit cfefe5434a119d788a165eb5d749e38b2a9a280f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Apr 8 21:27:24 2019 +0200

    Fixed bug 4581 - mouse events with SDL_TOUCH_MOUSEID make window lost focus
    Virtual mouse events should never leave the window or change focus for single window applications.

commit d68e501db4bdf4dcdc06456572ab70f44f43125e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Apr 8 13:43:48 2019 +0200

    Fixed bug 4582 - Maximize/Resize not working on Windows 10
    When viewport is set, projectionAndView changes, but ID3D11DeviceContext_UpdateSubresource was not called.

commit eb7affeeb8f225cd228f92cdeb6a676ffddb0ef1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Apr 6 21:52:51 2019 +0200

    SDL_HINT_MOUSE_TOUCH_EVENTS: move tracking appart in case of 'window' is null

commit a1a9fd50c69647cc4e339debec7c5f42a4a2d8a8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Apr 6 21:43:16 2019 +0200

    Bug 4581: move tracking appart so it doesn't require the window to have focus

commit a46af76b076ad570690bf82d8f9c96ce0bc31c4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 5 08:15:01 2019 -0700

    Fixed bug 4579 - SDL_android.c s_active not being atomic
    
    Isaias Brunet
    
    This bug cause a false assert due to multiple threads modifying the same variable without any atomic operation.

commit 9eac91dd29a55fa5ea8da9833251f8ce58250e2c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 5 08:10:12 2019 -0700

    Set SDL_HINT_MOUSE_TOUCH_EVENTS for iPhone and iPad as well

commit b6f33a6870a34fd4e9f142d1e1418330c8d51f9c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 5 07:51:11 2019 -0700

    https://bugzilla.libsdl.org/show_bug.cgi?id=4577
    
    SDL_GetWindowDisplayMode was returning an incorrect result on iPhone Plus devices (tested on iOS 12.1/12.2).  The problem was that the value returned by UIScreenMode was assumed to be the physical pixels on the display, rather than the scaled retina pixels.  The fix is to use the scale returned by UIScreen.scale rather than the nativeScale.

commit 05333a6e9f9990407f6798b4d20067f567bcf4a2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Apr 5 09:16:30 2019 +0200

    Android: add hint SDL_HINT_ANDROID_BLOCK_ON_PAUSE
    to set whether the event loop will block itself when the app is paused.

commit b470cd9b09087556660579a5d20b1ff06b3056f3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Apr 5 08:36:31 2019 +0200

    Android: default SDL_HINT_MOUSE_TOUCH_EVENTS to 1 as previous behaviour

commit 6f732d4ee8ef78da503a7a960da328308c09a8b3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 4 20:24:22 2019 +0200

    Update WhatsNew.txt

commit 458c60e6a4a72d17ed94e5e3edc48aedb615872d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 4 20:10:55 2019 +0200

    Update WhatsNew.txt

commit bfdd0b228a7d629ef621ab0449783e5851d8611f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 4 17:01:02 2019 +0200

    Android: remove SDL_HINT_ANDROID_SEPARATE_MOUSE_AND_TOUCH
    java layer runs as if separate mouse and touch was 1,
    Use SDL_HINT_MOUSE_TOUCH_EVENTS and SDL_HINT_TOUCH_MOUSE_EVENTS
    for generating synthetic touch/mouse events

commit e41576188d17fd09c95777d665f6c4532574f8ac
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 4 16:51:50 2019 +0200

    Add hint SDL_HINT_MOUSE_TOUCH_EVENTS for mouse events to generate touch events
    
    controlling whether mouse events should generate synthetic touch events
    By default SDL will *not* generate touch events for mouse events

commit ab03892ddfa65da9f5136721c1e88ec2f2f0285a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Apr 4 15:19:00 2019 +0200

    Bug 4576: track both FingerId and TrackId

commit e39c0a1f7d07e3449a2a52208b695817bdc5e507
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Apr 3 10:14:42 2019 +0200

    Bug 4576: fix wrong scaling

commit 236b86067f0a0bb2890e582760c834e1d3f56bf2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 18:07:27 2019 +0200

    Bug 4576: one more warning

commit b45abbb2a758dde64a725a9fc588f32daa10f620
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:57:27 2019 +0200

    Bug 4576: fix warning and compile

commit 9b3c2258aa9b9a8aedaee653c8570f4f81030f6d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:23:55 2019 +0200

    Bug 4576: remove touch/mouse duplication for Android

commit 9d28156f12b66929162586a2e4f0406d648fdb27
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:18:47 2019 +0200

    Bug 4576: remove touch/mouse duplication for IOS

commit 42de5f97ccb13dc34c50d1d55ca33b19beb7b2a5
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:13:22 2019 +0200

    Bug 4576: remove touch/mouse duplication for WinRT

commit b086edc9158f8c3bbdce5dcdf72ee918569768f2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:10:29 2019 +0200

     Bug 4576: remove touch/mouse duplication for Emscripten

commit b8e5c561d8c05f39fb404e2e0dee706cdff7ed50
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:07:54 2019 +0200

     Bug 4576: remove touch/mouse duplication for Wayland

commit 6bc2d9de1f0dfb5f78e6e50edd39f52d7c64ae83
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 17:03:58 2019 +0200

    Bug 4576: remove touch/mouse duplication for linux/EVDEV

commit 1a4c3b57b7586a1d8d93e5fd9bac85d0e776a0a3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 16:58:11 2019 +0200

    Bug 4576: remove touch/mouse duplication for Windows

commit a3f2c446ef320fa0986cfe4d3501316be0d45244
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Apr 2 16:46:17 2019 +0200

    Bug 4576: handle mapping of TouchEvents to MouseEvents at higher level

commit 1febfedf85760f06ea8dbb76d2dcb1151e8e3726
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 2 05:31:08 2019 -0700

    configure.in: Rename configure.ac to fix an 'aclocal' warning

commit 14b385f2bf1d50083c19d01b436ff9040cdfbe13
Author: Hugh McMaster <hugh.mcmaster@outlook.com>
Date:   Wed Mar 27 20:58:33 2019 +1100

    docs: Replace references to configure.in with configure.ac

commit af4bbb3064ce958ea02c4719961c4e598e4a8e89
Author: Hugh McMaster <hugh.mcmaster@outlook.com>
Date:   Mon Mar 25 23:01:32 2019 +1100

    configure.in: Rename to configure.ac to fix an 'aclocal' warning
    
    Also rename references in related files.

commit 9a8d5215c6f6ce426a94f70ef7cc0dc5c2bd187a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 27 08:17:05 2019 -0700

    Handle potentially calling SDL_JoystickUpdate() and SDL_JoystickQuit() at the same time.

commit 2fbfe8b9127e8f07ba0efd03e0c5dc885a350d2c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 25 12:59:30 2019 -0400

    coreaudio: Set audio callback thread priority.
    
    Fixes Bugzilla #4155.

commit 6a3356ab3f0458f2ce1286de5c4426d4f775fb18
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 25 12:24:38 2019 -0400

    Backed out changeset cec31de4e126
    
    This was meant to migrate CoreAudio onto the same SDL_RunAudio() path that
    most other audio drivers are on, but it introduced a bug because it doesn't
    deal with dropped audio buffers...and fixing that properly just introduces
    latency.
    
    I might revisit this later, perhaps by reworking SDL_RunAudio to allow for
    this sort of API better, or redesigning the whole subsystem or something, I
    don't know. I'm not super-thrilled that this has to exist outside of the usual
    codepaths, though.
    
    Fixes Bugzilla #4481.

commit 8ab698af15f7d8ae91a750bf5c7b219381ff3587
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 21 10:39:49 2019 -0400

    opengles2: Fix static analysis warning.
    
    Not clear if this could ever dereference NULL in real life, but better safe
    than sorry!

commit 01c924fa9ee5bd91d048739b4eea19719ba00f03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 17:20:54 2019 -0700

    Hopefully fixed the mingw32 build

commit deb7d08c282d1747891f7483091a1877537b9f1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 17:05:22 2019 -0700

    Fixed Visual Studio build

commit ac23d78f7ac23c797315830f233fc03f0870fde1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 16:53:55 2019 -0700

    Didn't need to add SDL_windows.h include, that was already included

commit b2e76d860f53d94f8a983963919fae7ab8d312ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 16:52:09 2019 -0700

    Fixed Windows RT build

commit a71489221bef17fd8e6f3c1cd47560f4724567ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 11:02:43 2019 -0700

    Fixed archiving the SDL dynamic library on iOS and tvOS

commit a0ac5ffc9ffd3843aeaa732d3a9704278a99f507
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 10:59:41 2019 -0700

    Fixed building with C++

commit 03fc5eebcbf82709f70f25f2c5a7e7c2d92df599
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 10:56:46 2019 -0700

    Fixed building with C++

commit 8177388e5ee6b42ee0f5cf2b7f1ec400251fac61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 08:29:34 2019 -0700

    Fixed declaration of SDL_main_func for C++

commit 4d8ac6b8b2f09d0de5b390b3320a4ae56b375732
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 07:53:39 2019 -0700

    Added support for building SDL as a dynamic library on tvOS

commit de82759c8412fdcd4657a006918f521831c38b0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 19 07:53:33 2019 -0700

    Added support for building SDL as a dynamic library on iOS

commit edebdeb47f1f7c1cbed1a6526f08ad7200da53b6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 17 12:45:19 2019 -0400

    testgesture: Make the background gray.
    
    This is so you can see it on systems that have a minimal window manager and
    a black background.

commit 82ebe63f9aac7c9d395441af727dc3ae2fb7ac5e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:46:37 2019 -0700

    Fixed Visual Studio build

commit d49f1faeb1fa9837914217dec5614461798db11f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:46:27 2019 -0700

    Fixed iOS build

commit cf7c05c282fa80039dff1ee8ebca577250fc4d13
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:44:04 2019 -0700

    Fixed Mac OS X build

commit fd946a48dceb254ac6ca1f62092784563eb6e72a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:32:59 2019 -0700

    Fixed configure error if pkg modules aren't available

commit 6311c7cf9516a8ea34874ffa934758dc35f6f6ad
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sat Mar 16 19:08:59 2019 -0700

    emscripten: force resize event when pixel ratio changes
    Without this, applications can't react to changed canvas size on window zoom.

commit b8bd0aa0bdccb6c7e906f898db5925e0d04442ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:07:34 2019 -0700

    Fixed bug 4450 - SDL_mouse.c fails to compile with CMake generated Visual Studio files if SDL_VIDEO_VULKAN 0/undefined
    
    Max Waine
    
    SDL_mouse.c, if compiled for Windows, requires GetDoubleClickTime to compile (available from winuser.h). Without Vulkan present this fails to compile as the include chain for winuser.h is the following.
    
    SDL_mouse.c -> SDL_sysvideo.h -> SDL_vulkan_internal.h -> SDL_windows.h -> windows.h -> winuser.h.
    Problem is that SDL_vulkan_internal.h doesn't include SDL_windows.h if Vulkan isn't present, so under MinGW/GCC it will give a -Wimplicit-function-declaration warning for GetDoubleClickTime, and under MSVC fails to compile completely.
    
    The solution to this would be to simplify the include chain: including SDL_windows.h under the same condition as GetDoubleClickTime (#ifdef __WIN32__) in SDL_mouse.c (or another file that isn't quite so indirectly included).

commit faf97978ea447f241a462114699508396aa3e613
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 19:03:13 2019 -0700

    Fixed bug 4511 - SDL_gamecontrollerdb Mapping for Sony Playstation USB controller
    
    Renaud Lepage
    
    Simply submitting a new mapping.

commit b6a45f1a8ddd01406b235cc7fa2579b6d8f8e035
Author: Silent <zdanio95@gmail.com>
Date:   Thu Feb 14 20:46:58 2019 +0100

    Fixed DualShock 3 mapping

commit 35255342cdca52ba45466364eefeb04c62d00873
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 18:48:21 2019 -0700

    Fixed bug 4525 - Fix crash in ALSA_HotplugThread caused by bad return value check
    
    Anthony Pesch
    
    Fix snd_device_name_hint return value check
    
    According to the ALSA documentation, snd_device_name_hint returns 0 on
    success, otherwise a negative error code. The code previously only
    considered -1 to be an error, which let other error codes through
    resulting in a segfault when hints (which was NULL) was dereferenced

commit 55f18d362568cf20a46df20ff597583e665717d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 18:45:10 2019 -0700

    Fixed bug 4544 - SDL2.m4 SDL2.framework patch made it impossible to fail detection
    
    Stian Skjelstad
    
    check if $sdl_framework is set, before checking if directory exists
    
    Patch that was merged here https://hg.libsdl.org/SDL/rev/ad4968de54ec made it impossible for the SDL2 detection to fail, since one of the if statements fails to check if a variable is set or not.
    
    if test -d $sdl_framework; then
    
    can evaluate to true in some shells. I guess it falls into undefined behaviour when looking at the POSIX standard.

commit 8bc59f87ecb8d7cd1e47b8a6c2c30d9c58ecf7a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 18:34:33 2019 -0700

    Fixed CVE-2019-7635 and bug 4498 - Heap-Buffer Overflow in Blit1to4 pertaining to SDL_blit_1.c
    
    Petr Pisar
    
    The root cause is that the POC BMP file declares 3 colors used and 4 bpp palette, but pixel at line 28 and column 1 (counted from 0) has color number 3. Then when the image loaded into a surface is passed to SDL_DisplayFormat(), in order to convert it to a video format, a used bliting function looks up a color number 3 in a 3-element long color bliting map. (The map obviously has the same number entries as the surface format has colors.)
    
    Proper fix should refuse broken BMP images that have a pixel with a color index higher than declared number of "used" colors. Possibly more advanced fix could try to relocate the out-of-range color index into a vacant index (if such exists).

commit 0f148eb6517f77445cbca47501e21489423aeeeb
Author: Jimb Esser <wasteland@gmail.com>
Date:   Sat Mar 16 18:12:26 2019 -0700

    Fix polling left trigger reporting right trigger's values.

commit 58ca76bee3ea3c8f74564ef5923f69ecef529116
Author: Jimb Esser <wasteland@gmail.com>
Date:   Sat Mar 16 18:11:09 2019 -0700

    Fix DirectInput error codes being lost

commit c528615626d9f7789a5681a946cb3d5bd5d68c2c
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Mar 12 20:27:54 2019 -0400

    hidapi: Add support for Wii U/Switch USB GameCube controller adapter.
    
    Note that a single USB device is responsible for all 4 joysticks, so a large
    rewrite of the DeviceDriver functions was necessary to allow a single device to
    produce multiple joysticks.

commit 938a5508d1ce2fb9bb8d0aa6163af694a6cf0add
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 17:47:59 2019 -0700

    Fixed bug 4452 - Please replace AC_HELP_STRING with AS_HELP_STRING
    
    Hugh McMaster
    
    AC_HELP_STRING is deprecated and is considered an obsolete macro in autoconf 2.69.
    
    Please replace AC_HELP_STRING with AS_HELP_STRING.

commit 40e3c015f127add554766808a4647be57dc179d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 16 17:39:15 2019 -0700

    Added missing PKG_CONFIG macros

commit cada4b8b8e7b5ec805dbc76bf171f205dfd57aed
Author: Hugh McMaster <hugh.mcmaster@outlook.com>
Date:   Sun Feb 3 20:06:18 2019 +1100

    Use host system pkg-config when (cross-)compiling and convert to PKG_CHECK_MODULES
    
    Fixes Bug 3575

commit 12c5cda6bfbb93eb036330d8ca1a4b707e3e3a68
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 16 00:08:19 2019 -0400

    Fix compiler warnings.

commit 08dc8cc20a304f4593454d181cfd2d5b79d79ee3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 23:54:42 2019 -0400

    testgesture: Add dependency to SDLtest to Visual Studio project.

commit 6727408d2c5fba9bd9c630d291e29bdeb4cc752f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 22:39:31 2019 -0400

    testgesture: cleaned up code formatting, etc.

commit 7cc0a606d84a6408f1189946c484b3d437aeee0c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 22:17:21 2019 -0400

    testgesture: minor cleanups.

commit 5897ed85f50a87ce5ad7dcc9ef6b9cb919300763
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 22:16:02 2019 -0400

    test: Moved testgesture.c over to the common SDLtest framework.

commit f95ca7bb8e0200c111f9ae4697631ce77cea7cf6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 16:13:19 2019 -0400

    events: Disable all the signal-handling code on platforms without support.
    
    So on Windows, for example, this mostly becomes a few empty functions.

commit 8a5a05c1685c8d3c8a100945d399b43e51106935
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 15:51:05 2019 -0400

    events: Let arbitrary signals to simulate iOS/Android backgrounding events.
    
    This lets you build a custom embedded device that roughly offers the "this
    process is going to the background NOW" semantics of SDL on a mobile device.

commit 911bf6241b28437255dca540096eb0228577258b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 15 14:08:30 2019 -0400

    events: Make debug logging of the event queue a hint instead of an #ifdef.
    
    This makes it easy to toggle it on when debugging a new platform (or just
    getting more visibility into an app) without having to rebuild SDL.

commit cbe80d47080f7e5b11d952e0978f9ca3b4bbb480
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Mar 13 14:54:51 2019 +0100

    KMSDRM: valid file descriptors could positive or 0. -1 is invalid. (Bug 4530)

commit 3bc1a8b61971a798df287cfccf9f61444a163427
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Mar 13 14:08:21 2019 +0100

    Android: minor comment update

commit 063c0c2a7369c62169facb313f78989d5dc99634
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Mar 13 09:39:30 2019 +0100

    Android: check SDL is initialized before sending the event
    Avoid error message:
    SDLActivity thread ends (error=Video subsystem has not been initialized)

commit 82758efc46cf015b09a118dcc74a017e88ec6e56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 12 14:45:04 2019 -0700

    [iOS DAC] Fix touch events getting from SDL2 to source2.

commit d05eec7207093be9de578289eacc6bcc2fcdddd2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 12 14:44:25 2019 -0700

    Fixed initial display orientation at Android app start

commit 1a8e3a027064bb98c34ada5b77854cae35408dfa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 12 14:44:12 2019 -0700

    HIDAPI: fix bug that caused non-HID class parts of composite devices to have windows HID functions called on them.

commit cddb285cdbdfa48bd3db8093eaabdd1ffeed3e36
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 12 20:04:08 2019 +0100

    Fixed bug 4513 - Wayland, fix crash when remove event is sent (from Sebastian Krzyszkowiak)

commit 052b4f2969aa9d9d9adf63cf0d1ec40472eb5038
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 12 14:20:37 2019 +0100

    SDL_EVDEV_kbd_init: uninitialized data for ioctl (Bug 4530)
    
    Only two chars are used but the full prototype is:
    
    int tioclinux(struct tty_struct *tty, unsigned long arg)
    
    ==5010== Syscall param ioctl(TIOCLINUX) points to uninitialised byte(s)
    ==5010==    at 0x53E73C7: ioctl (syscall-template.S:78)
    ==5010==    by 0x4A887DA: SDL_EVDEV_Init (SDL_evdev.c:163)
    ==5010==    by 0x4A7D157: KMSDRM_VideoInit (SDL_kmsdrmvideo.c:509)
    ==5010==    by 0x497D959: SDL_VideoInit_REAL (SDL_video.c:529)
    ==5010==    by 0x487ACBC: SDL_InitSubSystem_REAL (SDL.c:171)
    ==5010==    by 0x487B052: SDL_Init_REAL (SDL.c:256)
    ==5010==    by 0x488F7D6: SDL_Init (SDL_dynapi_procs.h:85)

commit b28e956b8c2a9548d411e39971a96d4d7b211fcf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Mar 12 07:59:53 2019 +0100

    Fixed bug 4542 - Image flipped vertically when rendering on texture
    
    Have to recompute  viewport because projection/glOrtho is different
    wether rendering is on target texture or not

commit 28f54ee43908c420a6093f8280a5a26cecb1d650
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Mar 11 15:31:46 2019 +0100

    SDL_MouseQuit(): clear mouse->cur_cursor (Bug 4530)

commit 7b27594274f2f4b3a78abb943ae41ac22bb39ac2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Mar 11 15:27:42 2019 +0100

    KMSDRM: missing return value in VideoInit() (Bug 4530)

commit 3b49ee52610d57da8cabbb873920e64f8706e268
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Mar 11 15:22:40 2019 +0100

    KMSDRM: change calls free() to SDL_free() (Bug 4529)

commit 2fd4aee149d69ae2f39bd193f4ccfac742206fc8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Feb 23 09:36:56 2019 +0100

    Un-activate some routine on mips because they are slowers (Bug 4503)

commit 47fb781b9445d1db281e668737a6ad832d252390
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Feb 22 09:30:45 2019 +0100

    BlitNtoN BlitNtoNKey: remove non-aligned word read/store (bpp 3<->4) (Bug 4503)
    
    Mips and (old) ARM doesn't allow word read/write when adress isn't 4bytes
    aligned. So just remove that.

commit 6fbe9e23faafa685fc32c4e03d636827139ca059
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 19 23:46:54 2019 -0500

    raspberry: expose second display.
    
    This lets apps see and choose between both an HDMI and DSI-connected display,
    such as a television and the Pi Foundation's official touchscreen. It only
    exposes the second display if the hardware reports that it is connected.

commit 90a075d75f1255fef0d63f0abec1d8c4f2ba911f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 18 22:48:14 2019 +0100

    Fix windows build

commit e9a7b6973a73db63c243ca0539bcf83b79b0fd21
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 18 22:06:53 2019 +0100

    Fix bug 4053: Blit issues on Big Endian CPU

commit ea4c4cfc28e19ec1fc7ae69a70f70943f7933b38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 18 07:50:33 2019 -0800

    Fixed bug 4500 - Heap-Buffer Overflow in Map1toN pertaining to SDL_pixels.c
    
    Petr Pisar
    
    The reproducer has these data in BITMAPINFOHEADER:
    
    biSize = 40
    biBitCount = 8
    biClrUsed = 131075
    
    SDL_LoadBMP_RW() function passes biBitCount as a color depth to SDL_CreateRGBSurface(), thus 256-color pallete is allocated. But then biClrUsed colors are read from a file and stored into the palette. SDL_LoadBMP_RW should report an error if biClrUsed is greater than 2^biBitCount.

commit afd1b3dae479db3428476b23c2e901b91121c999
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Feb 17 16:20:23 2019 +0100

    Fix invalid memory access and optimise Blit_3or4_to_3or4__*
    
    Fix invalid write at last pixel of the surface:
      when surface has no padding (pitch == w * bpp) and bpp is 3
      with Blit, no colorkey, and NO_ALPHA same or inverse rgb triplet
    
    Optimise by using int32 access:
    
    BGR24 -> ARGB8888 :  faster x1.897875   (362405 -> 190953)
    RGB24 -> ABGR8888 :  faster x1.660416   (363304 -> 218803)
    
    ABGR8888 -> RGB24 :  faster x1.686319   (334962 -> 198635)
    ARGB8888 -> BGR24 :  faster x1.691868   (324524 -> 191814)
    BGR24 -> RGB888 :  faster x1.678459   (326811 -> 194709)
    BGR888 -> RGB24 :  faster x1.731772   (327724 -> 189242)
    RGB24 -> BGR888 :  faster x1.690989   (328916 -> 194511)
    RGB888 -> BGR24 :  faster x1.698333   (326175 -> 192056)

commit 1aa2ad2fe8ac7337d7620b159b53ef3a5a2ed7d1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Feb 9 17:40:32 2019 +0100

    Better naming for the blit permutation variables

commit f6a2ae60078f6bf717788442144e5ad57676e0b6
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Feb 9 17:20:53 2019 +0100

    Faster blit colorkey or not, applied to bpp: 3->4 and 4->3
    
    ===== BlitNtoNKey ========
    ABGR8888 -> BGR24 :  faster x3   (2168709 -> 562738)
    ABGR8888 -> RGB24 :  faster x3   (2165055 -> 567458)
    
    ARGB8888 -> BGR24 :  faster x3   (2169109 -> 564338)
    ARGB8888 -> RGB24 :  faster x3   (2165266 -> 567081)
    
    BGR24 -> ABGR8888 :  faster x3   (2997675 -> 891636)
    BGR24 -> ARGB8888 :  faster x3   (2985449 -> 892028)
    BGR24 -> BGR888 :  faster x3   (2961611 -> 891913)
    BGR24 -> BGRA8888 :  faster x3   (3116305 -> 891534)
    BGR24 -> BGRX8888 :  faster x3   (3179654 -> 896978)
    BGR24 -> RGB888 :  faster x3   (2968191 -> 895112)
    BGR24 -> RGBA8888 :  faster x3   (2998428 -> 893147)
    BGR24 -> RGBX8888 :  faster x3   (2976529 -> 914853)
    
    BGR888 -> BGR24 :  faster x3   (2161906 -> 563921)
    BGR888 -> RGB24 :  faster x3   (2168228 -> 566634)
    
    BGRA8888 -> BGR24 :  faster x4   (2270501 -> 561873)
    BGRA8888 -> RGB24 :  faster x3   (2163179 -> 567330)
    
    BGRX8888 -> BGR24 :  faster x3   (2162911 -> 562322)
    BGRX8888 -> RGB24 :  faster x3   (2169617 -> 570927)
    
    RGB24 -> ABGR8888 :  faster x3   (2977061 -> 925975)
    RGB24 -> ARGB8888 :  faster x3   (2978148 -> 923680)
    RGB24 -> BGR888 :  faster x3   (3001413 -> 935074)
    RGB24 -> BGRA8888 :  faster x3   (2959003 -> 924096)
    RGB24 -> BGRX8888 :  faster x3   (2965240 -> 927100)
    RGB24 -> RGB888 :  faster x3   (2983921 -> 926063)
    RGB24 -> RGBA8888 :  faster x3   (2963908 -> 925457)
    RGB24 -> RGBX8888 :  faster x3   (2967957 -> 931700)
    
    RGB888 -> BGR24 :  faster x3   (2173299 -> 563226)
    RGB888 -> RGB24 :  faster x3   (2218374 -> 566164)
    
    RGBA8888 -> BGR24 :  faster x3   (2166355 -> 561381)
    RGBA8888 -> RGB24 :  faster x3   (2170322 -> 566729)
    
    RGBX8888 -> BGR24 :  faster x3   (2168524 -> 564072)
    RGBX8888 -> RGB24 :  faster x3   (2163680 -> 566956)
    
    ===== BlitNtoN ========
    
    BGR24 -> BGRA8888 :  faster x3   (2458958 -> 797557)
    BGR24 -> BGRX8888 :  faster x3   (2486085 -> 797745)
    BGR24 -> RGBA8888 :  faster x3   (2422116 -> 797637)
    BGR24 -> RGBX8888 :  faster x3   (2454426 -> 799085)
    
    BGRA8888 -> BGR24 :  faster x4   (2468206 -> 524486)
    BGRA8888 -> RGB24 :  faster x4   (2463581 -> 525561)
    
    BGRX8888 -> BGR24 :  faster x4   (2583355 -> 524468)
    BGRX8888 -> RGB24 :  faster x4   (2477242 -> 524284)
    
    RGB24 -> BGRA8888 :  faster x2   (2453414 -> 818415)
    RGB24 -> BGRX8888 :  faster x3   (2414915 -> 800863)
    RGB24 -> RGBA8888 :  faster x3   (2461114 -> 798148)
    RGB24 -> RGBX8888 :  faster x3   (2400922 -> 799203)
    
    RGBA8888 -> BGR24 :  faster x4   (2494472 -> 526428)
    RGBA8888 -> RGB24 :  faster x4   (2462260 -> 526791)
    
    RGBX8888 -> BGR24 :  faster x4   (2541115 -> 524390)
    RGBX8888 -> RGB24 :  faster x4   (2469059 -> 525416)

commit 604b44f20fbd027e27adbf932bfa517346b485c1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Feb 8 17:15:30 2019 +0100

    Fix wrong access and simplify

commit 5ed30f844d3f3eb92aab50a95b7221f4b1388fa8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 22:45:50 2019 +0100

    Some simplification of previous commit

commit 5fd228921cacdfad74bb80f0e666ff1abb085d11
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 22:03:30 2019 +0100

    Faster blit with CopyAlpha, no ColorKey
    Applied to following formats:
    
    ABGR8888 -> BGRA8888 :  faster x3   (2727179 -> 704761)
    ABGR8888 -> RGBA8888 :  faster x3   (2707808 -> 705309)
    
    ARGB8888 -> BGRA8888 :  faster x3   (2745371 -> 712437)
    ARGB8888 -> RGBA8888 :  faster x3   (2746230 -> 705236)
    
    BGRA8888 -> ABGR8888 :  faster x3   (2745026 -> 707045)
    BGRA8888 -> ARGB8888 :  faster x3   (2752760 -> 727373)
    BGRA8888 -> RGBA8888 :  faster x3   (2769544 -> 704607)
    
    RGBA8888 -> ABGR8888 :  faster x3   (2725058 -> 706669)
    RGBA8888 -> ARGB8888 :  faster x3   (2704866 -> 707132)
    RGBA8888 -> BGRA8888 :  faster x3   (2710351 -> 704615)

commit 704e62bbf491ffc7ea29b98d65268e2590d6f9ac
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 21:49:24 2019 +0100

    Code factorization of the pixel format permutation

commit 0a007a9bea12f12de11236398e548e5db0822d95
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 18:52:49 2019 +0100

    Fix wrong comment

commit e5192384d0acda3b481a12d17443583f6d6aa086
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 18:51:14 2019 +0100

    Faster blit with no ColorKey
    Applied to following formats:
    
    ABGR8888 -> BGRX8888 :  faster x5   (3177493 -> 630439)
    ABGR8888 -> RGBX8888 :  faster x5   (3178104 -> 628925)
    
    ARGB8888 -> BGRX8888 :  faster x4   (3141089 -> 629448)
    ARGB8888 -> RGBX8888 :  faster x5   (3216413 -> 630465)
    
    BGR888 -> BGRA8888 :  faster x4   (3145403 -> 637701)
    BGR888 -> BGRX8888 :  faster x4   (3142106 -> 630144)
    BGR888 -> RGBA8888 :  faster x4   (3202685 -> 649384)
    BGR888 -> RGBX8888 :  faster x4   (3170617 -> 658670)
    
    BGRA8888 -> BGR888 :  faster x4   (3203308 -> 657697)
    BGRA8888 -> RGB888 :  faster x5   (3201475 -> 631747)
    BGRA8888 -> RGBX8888 :  faster x5   (3274544 -> 630409)
    
    BGRX8888 -> ABGR8888 :  faster x4   (3149753 -> 638682)
    BGRX8888 -> ARGB8888 :  faster x5   (3164101 -> 631273)
    BGRX8888 -> BGR888 :  faster x4   (3144454 -> 630712)
    BGRX8888 -> RGB888 :  faster x4   (3160490 -> 638047)
    BGRX8888 -> RGBA8888 :  faster x5   (3308988 -> 631232)
    BGRX8888 -> RGBX8888 :  faster x5   (3216775 -> 638065)
    
    RGB888 -> BGRA8888 :  faster x4   (3143135 -> 655146)
    RGB888 -> BGRX8888 :  faster x4   (3141790 -> 653771)
    RGB888 -> RGBA8888 :  faster x5   (3214402 -> 637001)
    RGB888 -> RGBX8888 :  faster x4   (3143082 -> 630009)
    
    RGBA8888 -> BGR888 :  faster x3   (3157048 -> 920375)
    RGBA8888 -> BGRX8888 :  faster x5   (3196692 -> 632996)
    RGBA8888 -> RGB888 :  faster x4   (3141570 -> 652151)
    
    RGBX8888 -> ABGR8888 :  faster x5   (3175401 -> 631218)
    RGBX8888 -> ARGB8888 :  faster x4   (3144690 -> 639440)
    RGBX8888 -> BGR888 :  faster x4   (3144250 -> 630171)
    RGBX8888 -> BGRA8888 :  faster x5   (3220321 -> 630731)
    RGBX8888 -> BGRX8888 :  faster x4   (3178453 -> 637445)
    RGBX8888 -> RGB888 :  faster x5   (3203623 -> 632596)

commit 7372295ec916abe098754544850a9bd31a90b426
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 17:52:28 2019 +0100

    Faster blit when using No Alpha or Set Alpha, + ColorKey
    Applied to following formats:
    
    ABGR8888 -> BGRX8888 :  faster x4   (2794295 -> 610587)
    ABGR8888 -> RGB888 :  faster x4   (2835693 -> 615561)
    ABGR8888 -> RGBX8888 :  faster x4   (2880475 -> 610479)
    
    ARGB8888 -> BGR888 :  faster x4   (2802718 -> 610702)
    ARGB8888 -> BGRX8888 :  faster x4   (2792481 -> 606311)
    ARGB8888 -> RGBX8888 :  faster x4   (2821621 -> 624745)
    
    BGR888 -> ARGB8888 :  faster x4   (2791705 -> 637889)
    BGR888 -> BGRA8888 :  faster x4   (2793195 -> 652299)
    BGR888 -> BGRX8888 :  faster x4   (2800713 -> 609326)
    BGR888 -> RGB888 :  faster x4   (2812260 -> 610471)
    BGR888 -> RGBA8888 :  faster x4   (2792327 -> 629288)
    BGR888 -> RGBX8888 :  faster x4   (2799224 -> 607073)
    
    BGRA8888 -> BGR888 :  faster x4   (2800520 -> 606897)
    BGRA8888 -> RGB888 :  faster x4   (2825274 -> 616156)
    BGRA8888 -> RGBX8888 :  faster x4   (2812530 -> 610340)
    
    BGRX8888 -> ABGR8888 :  faster x4   (2793940 -> 628596)
    BGRX8888 -> ARGB8888 :  faster x4   (2822686 -> 638899)
    BGRX8888 -> BGR888 :  faster x4   (2818141 -> 613659)
    BGRX8888 -> RGB888 :  faster x4   (2929017 -> 611794)
    BGRX8888 -> RGBA8888 :  faster x4   (2799709 -> 629750)
    BGRX8888 -> RGBX8888 :  faster x4   (2911010 -> 605640)
    
    RGB888 -> ABGR8888 :  faster x4   (2800671 -> 631542)
    RGB888 -> BGR888 :  faster x4   (2802644 -> 604461)
    RGB888 -> BGRA8888 :  faster x4   (2801919 -> 628729)
    RGB888 -> BGRX8888 :  faster x4   (2938244 -> 604135)
    RGB888 -> RGBA8888 :  faster x4   (2912447 -> 642185)
    RGB888 -> RGBX8888 :  faster x4   (2831676 -> 634293)
    
    RGBA8888 -> BGR888 :  faster x4   (2928896 -> 614960)
    RGBA8888 -> BGRX8888 :  faster x4   (2821422 -> 608146)
    RGBA8888 -> RGB888 :  faster x4   (2825927 -> 617184)
    
    RGBX8888 -> ABGR8888 :  faster x4   (2803852 -> 654129)
    RGBX8888 -> ARGB8888 :  faster x4   (2923615 -> 642644)
    RGBX8888 -> BGR888 :  faster x4   (2806523 -> 610447)
    RGBX8888 -> BGRA8888 :  faster x4   (2813388 -> 630305)
    RGBX8888 -> BGRX8888 :  faster x4   (2800052 -> 607881)
    RGBX8888 -> RGB888 :  faster x4   (2807722 -> 610263)

commit bb9a9080dc0d432e867dbd2bd4bd3224ec6d9b42
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 16:13:25 2019 +0100

    Fix pointer warnings

commit 3543a44ae4ad7894d4f2bb6b5883388ab6d71cc2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Feb 7 15:12:17 2019 +0100

    Faster blit when using CopyAlpha + ColorKey
    Applied to following formats:
    
    ABGR8888 -> ARGB8888 :  faster x7   (3959672 -> 537227)
    ABGR8888 -> BGRA8888 :  faster x7   (4008716 -> 532064)
    ABGR8888 -> RGBA8888 :  faster x7   (3998576 -> 530964)
    
    ARGB8888 -> ABGR8888 :  faster x7   (3942420 -> 532503)
    ARGB8888 -> BGRA8888 :  faster x7   (3995382 -> 527722)
    ARGB8888 -> RGBA8888 :  faster x7   (4259330 -> 543033)
    
    BGRA8888 -> ABGR8888 :  faster x7   (4110411 -> 529402)
    BGRA8888 -> ARGB8888 :  faster x7   (4071906 -> 538393)
    BGRA8888 -> RGBA8888 :  faster x6   (4038320 -> 585141)
    
    RGBA8888 -> ABGR8888 :  faster x7   (3937018 -> 534127)
    RGBA8888 -> ARGB8888 :  faster x7   (3979577 -> 537810)
    RGBA8888 -> BGRA8888 :  faster x7   (3975656 -> 528355)

commit 03cbac40406bbc742e9c05f4b5c5839aa61d6ff2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Feb 5 15:14:15 2019 +0100

    Android/openslES: fix warnings, comment out un-used interface

commit 614c8aea2088c13da464e5ca9fd9f8457c38b94c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Feb 5 15:09:41 2019 +0100

    Android/openslES: set number of buffers of DATALOCATOR to internal NUM_BUFFER
    If we increase NUM_BUFFER, Enqueue won't fail with SL_RESULT_BUFFER_INSUFFICIENT

commit bf823bf2dce9f3933f025b12709fb0f3978754a5
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Feb 5 15:05:32 2019 +0100

    Android/openslES: prevent to run out of buffers if Enqueue() fails.

commit 40781dfb15ca2000a5b2365b41094af40ad37a14
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 4 23:35:18 2019 -0500

    opengles2: patched to compile.

commit b7504f311b57dc666973558d29ff7b84edc335e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 4 23:32:28 2019 -0500

    opengles2: keep cached texturing state correct.

commit a609c03ac6ca55a4d7ebf5ee7cf34e29972b863c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 4 23:24:10 2019 -0500

    opengles1: keep cached texturing state correct.

commit 40a52ceef7bbafb9b89115a471503cd161d13baf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 4 18:55:39 2019 -0500

    render: Fix OpenGL draw state cache for various points of texture binding.

commit 670f3d3327912b299e8e5ea9de4f01bd833414cc
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 4 09:11:07 2019 +0100

    Fixed bug 4484 - use SIMD aligned memory for SDL_Surface
    
    Surfaces are allocated using SDL_SIMDAlloc()
    They are marked with SDL_SIMD_ALIGNED flag to appropriatly free them with SDL_SIMDFree()
    (Flag is cleared when pixels is free'd in RLE, in case user would hijack the pixels ptr)
    
    When providing its own memory pointer (SDL_CreateRGBSurfaceFrom()) and clearing
    SDL_PREALLOC  to delegate to SDL the memory free, it's the responsability of the user
    to add SDL_SIMD_ALIGNED or not, whether the pointer has been allocated with SDL_malloc() or
    SDL_SIMDAlloc().

commit 9292dc7ca15c20fab361ff014961493f61841f81
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 4 08:43:37 2019 +0100

    Fix include path compilation

commit 9a98dcc5169c0eebef28dec60428b7d3dfc1311b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Feb 4 08:34:24 2019 +0100

    Rename surface aligned memory flag to SDL_SIMD_ALIGNED

commit 65e07b38842acc74f7740247074c9962701f0ab4
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jan 31 19:52:47 2019 -0400

    iOS/tvOS: fix support for SDL_GameControllerGetButton(controller, GUIDE) with MFi controllers (thanks Caleb!)
    Fixes bug #4463.

commit e5d194e9027bc1daa7ce2b35e46be85ab820a867
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 31 11:45:31 2019 +0100

    Add SDL_MEMALIGNED flag for SDL_Surface using aligned memory.
    
    If an SDL_Surface has an aligned memory pointers, it should be freed
    using SDL_SIMDFree() (will be used by SDL_ttf).

commit 7b8bac5958466852f527a266730015f076c7f824
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 30 22:50:20 2019 +0100

    Add fast paths in BlitNtoNKey
    
    All following conversions are faster (with colorkey, but no blending).
    (ratio isn't very accurate)
    
    ABGR8888 -> BGR888 :  faster x9   (2699035 -> 297425)
    
    ARGB8888 -> RGB888 :  faster x8   (2659266 -> 296137)
    
    BGR24 -> BGR24 :  faster x5   (2232482 -> 445897)
    BGR24 -> RGB24 :  faster x4   (2150023 -> 448576)
    
    BGR888 -> ABGR8888 :  faster x8   (2649957 -> 307595)
    
    BGRA8888 -> BGRX8888 :  faster x9   (2696041 -> 297596)
    
    BGRX8888 -> BGRA8888 :  faster x8   (2662011 -> 299463)
    BGRX8888 -> BGRX8888 :  faster x9   (2733346 -> 295045)
    
    RGB24 -> BGR24 :  faster x4   (2154551 -> 485262)
    RGB24 -> RGB24 :  faster x4   (2149878 -> 484870)
    
    RGB888 -> ARGB8888 :  faster x8   (2762877 -> 324946)
    
    RGBA8888 -> RGBX8888 :  faster x8   (2657855 -> 297753)
    
    RGBX8888 -> RGBA8888 :  faster x8   (2661360 -> 296655)
    RGBX8888 -> RGBX8888 :  faster x8   (2649287 -> 308268)

commit cd25c83aad93067d57b49cf5efe28a865f7dd7d2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 30 17:16:08 2019 +0100

    Fix blit with blending (Blit_A) to RGB332 which has no palette

commit 5b07148f73ceae19b8bc0f3d6b8f9e72885dd4ce
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 30 16:36:47 2019 +0100

    Fixed failing SDL_ConvertSurface() when blit has failed.
    
    Some blit combination are not supported (eg ARGB8888 -> SDL_PIXELFORMAT_INDEX1MSB)
    So prevent SDL_ConvertSurface from creating a broken surface, which cannot be blitted

commit a052d81bdfa139735fa0131ce18cb8bebe2f4cde
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 30 15:31:07 2019 +0100

    Add explicit unsigned int and char types in (for bug 4290)

commit 1128d57316ee62459ba2aa2e1d909ecbba14d652
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 30 15:23:33 2019 +0100

    Fixed bug 4290 - add fastpaths for format conversion in BlitNtoN
    
    All following conversion are faster (no colorkey, no blending).
    (ratio isn't very accurate)
    
    ABGR8888 -> ARGB8888 :  faster x6   (2655837 -> 416607)
    ABGR8888 -> BGR24 :  faster x7   (2470117 -> 325693)
    ABGR8888 -> RGB24 :  faster x7   (2478107 -> 335445)
    ABGR8888 -> RGB888 :  faster x9   (3178524 -> 333859)
    
    ARGB8888 -> ABGR8888 :  faster x6   (2648366 -> 406977)
    ARGB8888 -> BGR24 :  faster x7   (2474978 -> 327819)
    ARGB8888 -> BGR888 :  faster x9   (3189072 -> 326710)
    ARGB8888 -> RGB24 :  faster x7   (2473689 -> 324729)
    
    BGR24 -> ABGR8888 :  faster x6   (2268763 -> 359946)
    BGR24 -> ARGB8888 :  faster x6   (2306393 -> 359213)
    BGR24 -> BGR888 :  faster x6   (2231141 -> 324195)
    BGR24 -> RGB24 :  faster x4   (1557835 -> 322033)
    BGR24 -> RGB888 :  faster x6   (2229854 -> 323849)
    
    BGR888 -> ARGB8888 :  faster x8   (3215202 -> 363137)
    BGR888 -> BGR24 :  faster x7   (2474775 -> 347916)
    BGR888 -> RGB24 :  faster x7   (2532783 -> 327354)
    BGR888 -> RGB888 :  faster x9   (3134634 -> 344987)
    
    RGB24 -> ABGR8888 :  faster x6   (2229486 -> 358919)
    RGB24 -> ARGB8888 :  faster x6   (2271587 -> 358521)
    RGB24 -> BGR24 :  faster x4   (1530913 -> 321149)
    RGB24 -> BGR888 :  faster x6   (2227284 -> 327453)
    RGB24 -> RGB888 :  faster x6   (2227125 -> 329061)
    
    RGB888 -> ABGR8888 :  faster x8   (3163292 -> 362445)
    RGB888 -> BGR24 :  faster x7   (2469489 -> 327127)
    RGB888 -> BGR888 :  faster x9   (3190526 -> 326022)
    RGB888 -> RGB24 :  faster x7   (2479084 -> 324982)

commit 3b4e369365161e1db6e3b9d2ceb13e3443288fec
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Jan 29 12:21:22 2019 +0000

    Emscripten: No need for Runtime. for dynCalls

commit 53ead95e1db1d1b50153de5618bad9e2295c4551
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Jan 29 12:19:36 2019 +0000

    Emscripten: Avoid SDL2 in JS global scope
    After this fix, closure works with the LLVM wasm backend on SDL2.

commit 6d89a7bc7106669be685f8353eb92919408321f3
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:19:32 2019 +0000

    Emscripten: remove GLES_DeleteContext implementation
    It was calling glClear without a context. The issue it was trying to
    solve was actually that after destroying a window and creating a new one
    , the contents of the old window were preserved. This no longer happens
    since we resize the window to nothing on destroy.

commit 04b1494cf8aa9a756345138954c44df7032496a8
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:19:23 2019 +0000

    Emscripten: resize canvas to 0x0 in DestroyWindow
    Closest we can get to actually destroying it

commit d60546aaa8c138dcf8bb5151221d490c1b9a196e
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:19:06 2019 +0000

    Emscripten: don't zero the display mode before adding it

commit 4a2888af10a69a63836ee7ed534272cc96717092
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:19:03 2019 +0000

    Emscripten: use UTF8ToString instead of Pointer_stringify

commit aacb1091dff2235f7d0d5b52c2ec06ff5b3eb86a
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:19:00 2019 +0000

    Emscripten: call emscripten_sample_gamepad_data

commit 8dab9c956f486dcaaf5782134a7c8e9a4fdb9379
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:18:56 2019 +0000

    Emscripten: Use set_canvas_element_size
    This will be needed for supporting multiple canvases and set_canvas_size
    is deprecated anyway.

commit ed66a430c9eba3454c83f606738e5c25601d5446
Author: kichikuou <KichikuouChrome@gmail.com>
Date:   Tue Jan 29 12:14:54 2019 +0000

    Emscripten: Do not consume mouseup event outside of the canvas

commit 2838abb5b2d2230a27dd0d216a5a7b62b4a2ff7c
Author: Sylvain Beucler <beuc@beuc.net>
Date:   Tue Jan 29 12:14:44 2019 +0000

    Emscripten: fix duplicate mousebuttonup/mousebuttondown events when touch events are disabled

commit 1767d09187795bab98ebab86f7496483badcb896
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:14:41 2019 +0000

    Emscripten: use a fake size for external sizing check
    The check would fail if the canvas happened to be the correct size
    already. (#66, mentioned in #58)

commit 80d690a2a0d251aa0c5f89d2539d0486af354ebf
Author: Charlie Birks <charlie@daftgames.net>
Date:   Tue Jan 29 12:14:33 2019 +0000

    Emscripten: reset fullscreen_window when leaving fullscreen
    If the browser left fullscreen mode by the user pressing ESC, the next
    call to SDL_SetWindowFullscreen(1) will fail as it thinks the window is
    already fullscreen. (#65)

commit 82b2c849f0873b52a9820b7cae9395b4f7f8e654
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 21 23:41:43 2019 +0100

    Fixed bug 4024 - GameController error "Unexpected controller element"
    
    If mapping string is terminated with a comma, there is no more values to parse.

commit adabfdc0c5912c54d7e8d4d5c4121615d95a4581
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 21 20:49:08 2019 +0100

    Revert SDL_gamecontrollerdb.h and sort_controllers.py from bug 4024

commit d984f323fc69b89fc470956679680782b4bd6174
Merge: 7b354dda7 2bd26b8da
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 21 19:53:06 2019 +0100

    Fixed bug 3827 - issue with MapRGB, palette and colorkey
    
    For palette surface, SDL_MapRGB() returns different values whether colorkey is
    set or not.

commit 2bd26b8da86591ad35b46ea1ed94ab97c4510acd
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 21 18:45:15 2019 +0100

    Fixed bug 3827 - issue with MapRGB, palette and colorkey
    
    For a palettized surface, prevent SDL_MapRGB() value to change whether colorkey is set or not.

commit 7b354dda7613569bb225e621ffd290a8b070e82e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 20 13:53:16 2019 -0800

    Fixed compiler warning

commit 8ad4000ce21ce998327a30aa3334c0f14e6a05f4
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 20 22:17:41 2019 +0100

    Android: some typos

commit b9aa3768aca1a7c89031de743f9c4b344ce78e1f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 20 22:11:56 2019 +0100

    Android: automatically attach to the JVM non-SDL threads
    
    It allows a thread created with pthread_create() to access the JNI Env

commit 61827c6d1a277d2996b618878c16a129639c4c9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 20 12:02:12 2019 -0800

    Fixed compiler warning on Android

commit 07548602d6df4feb03276c32eeffa49b246f4a1a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 19 16:47:43 2019 +0100

    Fixed bug 3657 - Color-key doesn't work when an alpha channel is present
    
    When surface format is the same as renderer format, it still needs an
    intermediate conversion to transform colorkey to alpha.

commit 9d10c73853c5876c67428398c1b716fe920ec6ea
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 16:30:19 2019 +0100

    Android: remove duplicate code in SDLGenericMotionListener_API24
    and use parent method

commit 55838d8bd6406dc9ef3ef6aa9b824a4d7c5d2cfe
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 14:59:46 2019 +0100

    Android: remove another hard-coded constant for Samsung DeX (no op!)

commit 56f4a711e3f0eb3ac7814b2ab84f054a69c14314
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 13:42:13 2019 +0100

    Android: minor change in the evaluation of SOURCE_CLASS_JOYSTICK (no op!)
    
    InputDevice.SOURCE_CLASS_* are one bit
    More readable to check that the source has this class_joystick set,
    compared to the other statements, where the source is gamepad or dpad.
    (Clean-up from bug 3958)

commit 8f828a8e1b108f5cae9b9abcfbb58b7379dd27c3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 12:25:19 2019 +0100

    Android: remove hard-coded constant for Samsung DeX (no op!)
    
    12290 = 0x3002 = SOURCE_MOUSE | SOURCE_TOUCHSCREEN
    
    SOURCE_MOUSE            Constant Value: 8194 (0x00002002)
    SOURCE_TOUCHSCREEN      Constant Value: 4098 (0x00001002)
    SOURCE_CLASS_POINTER    Constant Value: 2    (0x00000002)
    
    https://developer.android.com/reference/android/view/InputDevice.html

commit e5f8801f559982ab64ac3eab662018b847ea7a04
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 11:05:05 2019 +0100

    Android: prevent concurrency in Android_SetScreenResolution() when exiting
    by checking Android_Window validity
    
    - SDLThread: user application is exiting:
        SDL_VideoQuit() and clearing SDL_GetVideoDevice()
    
    - ActivityThread is changing orientation/size
        surfaceChanged() > Android_SetScreenResolution() > SDL_GetVideoDevice()
    
    - Separate function into Android_SetScreenResolution() and Android_SendResize(),
        formating, and mark Android_DeviceWidth/Heigh as static

commit 6690a469417a074300afaa08596de9aae640d680
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 17 09:28:30 2019 +0100

    Android: also update APP_PLATFORM to android-16 in Application.mk
    
    https://hg.libsdl.org/SDL/rev/701c83eeb6e7
    https://hg.libsdl.org/SDL/rev/0a69e71b715a

commit ede0fc4f4cf5bd62c8fff6851cbee557592bab18
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 14:03:35 2019 +0100

    Fixed bug 4024 - remove trailing comma of Controller mappings
    because it reports an error "Unexpected controller element"

commit 8a19ff3e2d8ecc45ab349442640790156bbbfaf8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 10:48:28 2019 +0100

    Android: add mutex protection to onNativeOrientationChanged
    
    it's possible receive try to send an event between the check first for SDL_GetVideoDevice
    and SDL_VideoQuit is called

commit e994be58337d5c0e9e8d4f49ed696c2bd6c0e1b8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 10:31:51 2019 +0100

    Android: move static variable isPaused/isPausing to SDL_VideoData structure
    
    - remove unneed check to Android_Window->driverdata
    - add window check into context_backup/restore

commit 291f6006a19a583bff845c7d7a265047e2776d57
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 09:22:20 2019 +0100

    Android: merge SDLJoystickHandler_API12 and SDLJoystickHandler_API16

commit a86754167c5f67d1454819612c97936a4a6bcd21
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 09:12:31 2019 +0100

    Android: remove trailing spaces

commit d86de288d44d5de7dd18801db989cd96f778c6c3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 16 09:11:13 2019 +0100

    Android: remove old code after Android-16 has been set as minimum requirement

commit 861a21f98b7c8bdd779c0949e5ec067bfefc5ec6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 14 19:43:25 2019 -0500

    evdev: don't debug log on a BTN_TOUCH from a non-touch device.

commit 2755a505a344e8356ae05ad735847b1c609659e7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 14 19:36:54 2019 -0500

    evdev: Add touchscreen mouse emulation and pressure support (thanks, Zach!).
    
    This also solves reports of this log message:
    
    "INFO: The key you just pressed is not recognized by SDL. To help get this
    fixed, please report this to the SDL forums/mailing list
    <https://discourse.libsdl.org/> EVDEV KeyCode 330"
    
    (EVDEV KeyCode 330 is BTN_TOUCH.)
    
    Fixes Bugzilla #4147.

commit dc263450ff4b3c8814e54e84d74865bdf84dee83
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 23:33:48 2019 +0100

    Android: create Pause/ResumeSem semaphore at higher level than CreateWindow()
    
    - If you call onPause() before CreateWindow(), SDLThread will run in infinite loop in background.
    
    - If you call onPause() between a DestroyWindow() and a new CreateWindow(), semaphores are invalids.
    
    SDLActivity.java: the first resume() starts the SDLThread, don't call
    nativeResume() as it would post ResumeSem. And the first pause would
    automatically be resumed.

commit 1b24b2eca5d19c19a94807e8884c332fc610e8af
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 22:56:57 2019 +0100

    Android/openslES: fix Pause/ResumeDevices when openslES is not used

commit ae41831e0dd9df1b57d4e94a2f8c3e5d4ac67629
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 21:34:12 2019 +0100

    Android: minor, remove static attributes, move mIsSurfaceReady to SDLSurface

commit 647b1f6a6d098b673700779c0d26e0af79752245
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 14:36:13 2019 +0100

    Android/openslES: check for non NULL variable, some intialization.
    use the previous naming

commit 7b1cc441dd35f61538823b50d2b9450b00bbd11a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 14:31:06 2019 +0100

    Android/openslES: start playing, after creating ressources

commit 955d87894b25916e75d5b90efb524a2bfd1794c1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 12:33:29 2019 +0100

    Android/openslES: set audio in paused/resumed state for Android event loop
    And also in "stopped" state before closing the device.

commit 59c8c7b684467a8180bff4a1ec21ba51a5986145
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 10:58:57 2019 +0100

    Android/openslES: move a few static variables to SDL_PrivateAudioData structure

commit 5aeeaaab7017bcc98d8249599f9e7a2f0da63b69
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 10:16:26 2019 +0100

    Android/openslES: register and use CloseDevice function.

commit 365fd9c6026e81572fbd021982323e4330fcbdfb
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 14 10:04:54 2019 +0100

    Android/openslES: some space and indentation to match SDL conventions

commit 7dc92a766972595bd8472c22fec7992176d3d319
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 12 12:18:44 2019 -0800

    Initial Android OpenSL ES implementation, contributed by ANTA

commit fb8cb95fbc63f3d64b2a5fbe385c680608e65171
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 12 12:12:43 2019 -0800

    Fixed compiler warning

commit 390459d83e54791e9080c7a68186d80b87400994
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 12 12:11:06 2019 -0800

    Updated minimum supported Android version to API 16, to match latest NDK toolchain

commit be991f3a78cf164bd963bdbb800574bd348640eb
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 12 13:34:03 2019 +0100

    Fixed bug 4453 - GLES / GLES2: first white renderer clear cmd is drawn as black

commit 7b42f03fd9ff09245fc4365e4897f95f97bbf070
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 21:52:43 2019 +0100

    Android: move and group JNIEnv helper functions

commit 7f3478305fc4f8d31bb9a4184e3515a7aeb3af86
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 21:42:52 2019 +0100

    Android: change the way JNIEnv is retrieved
    
    - Currently, it tries to Attach the JVM first and update the thread local storage, which are two operations.
      Now, it simply gives back the JNI Env stored for the thread.
    
    - Android_JNI_SetupThreadi() should only be used for external.
      For internal SDL thread, it's already called in RunThread() (SDL_systhread.c),
      and other thread are Java threads which don't need to be attached. i
      (even if it doesn't hurt to do it, since it's a no-op).
    
    - JNI_OnLoad is filled with pthread_create, GetEnv, AttachCurrentThread...
      It's called for all shared libraries which may don't want this setup,
      and loading libraries can be also modified to be done from a static context,
      or with relinker. So it's not really clear how, who and what it sets up.
      => Reduce this function to the minimal

commit dc10d96cde2eaac4cf12eae7783538828242badf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 15:36:16 2019 +0100

    Android: use the same naming for JNI env local variables

commit 3cfd907df7f2f116ec86f611602affcb184c6b3e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 15:33:02 2019 +0100

    Android: Audio thread is already setup for the JVM
    In 'src/thread/pthread/SDL_systhread.c' RunThread() calls first 'Android_JNI_SetupThread()'

commit 9d82f4e985f8218f6144e4736d576f97c451889e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 15:27:53 2019 +0100

    Android: use pthread_once for creating thread key 'mThreadKey'

commit 9a98e5afe1ac5fd06e9d021344d8ea4b618c15b4
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 14:50:43 2019 +0100

    Android: don't call Android_JNI_ThreadDestroyed() for Java SDLThread
    
    SDLThread is a Java Thread, it's not needed to call 'Detach' from the JVM.
    Clear mThreadKey, so that the pthread_create destructor is not called for this
    thread.

commit 42e18bd0c2081cdbe342d13f273fe5708cb3e079
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 11 14:25:32 2019 +0100

    Android: fix bad merge from previous commit

commit b44a7aea8f19b4551367c2eee0652d79a772661a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 21:49:00 2019 +0100

    Android: fix prototype of Android_JNI_InitTouch

commit 7a1d1baefc48a5a312a58ebfe4095f8703bca42d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 21:40:57 2019 +0100

    Android: add name for Touch devices and simplification, from bug 3958

commit d23c2f07e3c994b99e4646ce3c1cad413a1a5a74
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 18:05:56 2019 +0100

    Fixed bug 3930 - Android, set thread priorities and names
    
    SDLActivity thread priority is unchanged, by default -10 (THREAD_PRIORITY_VIDEO).
    
    SDLAudio thread priority was -4 (SDL_SetThreadPriority was ignored) and is now -16 (THREAD_PRIORITY_AUDIO).
    
    SDLThread thread priority was 0 (THREAD_PRIORITY_DEFAULT) and is -4 (THREAD_PRIORITY_DISPLAY).

commit 0e0e0272b895f215e4b73fb3cc4de16038cfcf36
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 16:04:52 2019 +0100

    Android: remove deprecated PixelFormat in surfaceChanged()
    
    Can be check by adding in build.grable:
    
    gradle.projectsEvaluated {
        tasks.withType(JavaCompile) {
            options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
        }
    }
    
    SDLActivity.java:1691: warning: [deprecation] A_8 in PixelFormat has been deprecated
            case PixelFormat.A_8:
    SDLActivity.java:1694: warning: [deprecation] LA_88 in PixelFormat has been deprecated
    SDLActivity.java:1697: warning: [deprecation] L_8 in PixelFormat has been deprecated
    SDLActivity.java:1700: warning: [deprecation] RGBA_4444 in PixelFormat has been deprecated
    SDLActivity.java:1704: warning: [deprecation] RGBA_5551 in PixelFormat has been deprecated
    SDLActivity.java:1716: warning: [deprecation] RGB_332 in PixelFormat has been deprecated

commit 5c11e5ef92ce75dac7f70d497a66f56d45ddf39b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 15:48:43 2019 +0100

    Android: some simplification, don't need mExitCalledFromJava

commit 66fbfe1d00282783c6cbdf0d2f6630f84a6eec24
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 15:43:07 2019 +0100

    Android: nativeQuit for SDLActivity thread
    
    - destroy Android_ActivityMutex
    - display any SDL error message that may have occured in this thread,
      since SDL_GetError() is thread specific, and user has no access to it.

commit dad8161103d41b357e50b17fd4f2ae1b46be40e5
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 15:35:46 2019 +0100

    Android: only send Quit event to SDLThread if it's not already terminated
    
    And it avoids reporting errors using Android_Pause/ResumeSem that are NULL.

commit 61d37de099d4d8c4136659493bceeb8f492a9ee6
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 10 15:29:37 2019 +0100

    Android: un-needed transition to Pause state.
    
    - Don't need to go into Pause state, since onPause() has been called before.
    - Don't need to call nativePause is SDLThread is already ended

commit 8dd915507e2e59bea0b4b17fee5c0826861ffc5d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 9 23:19:26 2019 +0100

    Android: prevent a dummy error message sending SDL_DISPLAYEVENT_ORIENTATION
    
    In the usual case, first call to onNativeOrientationChanged() is done before
    SDL has been initialised and would just set an error message
    "Video subsystem has not been initialized" without sending the event.

commit 02f292eb130c026bb3374cd844a9eddcbd32cd7d
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 9 22:49:49 2019 +0100

    Android: add some SetError for Android_SetWindowFullscreen
    
    First error could happen if Android_SetWindowFullscreen somehow gets
    called between SurfaceDestroyed() and SurfaceCreated()
    
    Second error should not happen has native_window validity is guaranteed.
    (It would happens previously with error -19)

commit 68c0e69f0ae3e7a803e8ed2f292cd0a6e165ccb6
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 9 22:41:52 2019 +0100

    Android: native_window validity is guaranteed between surfaceCreated and Destroyed
    
    It's currently still available after surfaceDestroyed().
    And available (but invalid) between surfaceCreated() and surfaceChanged().
    
    Which means ANativewindow_getWidth/Height/Format() fail in those cases.
    
    https://developer.android.com/reference/android/view/SurfaceHolder.html#getSurface()

commit 1803944bb2bc5665d54eb705d3213c17850d18cf
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 9 15:18:41 2019 +0100

    Android: concurrency issue for Android_SetWindowFullscreen()
    
    It accesses data->native_window, which can be changed by onNativeSurfacedChanged().
    
    Currently, Android_SetWindowFullscreen() may access data->native_window after it
    has been released, and before a new reference is acquired.
    
    (can be reproduced by adding some SDL_Delay() in onNativeSurfacedChanged and
    Android_SetWindowFullscreen() ).

commit 59df6d6b13a095cd8bb0bcc48531b1f3e85a820a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 7 17:06:50 2019 +0100

    Android: don't allow multiple instance of SDLActivity
    
    Default launch mode (standard) allows multiple instances of the SDLActivity.
    ( https://developer.android.com/guide/topics/manifest/activity-element#lmode )
    
    Not sure this is intended in SDL as this doesn't work. There are static
     variables in Java, in C code which make this impossible (allow one android_window) and
     also Audio print errors.
    
    There is also some code added in onDestroy as if it would be able to
    re-initialize: https://hg.libsdl.org/SDL/rev/27686adb08c3
    
    Bug Android activity life-cycle seems to show there is not transition to get out
    of onDestroy()
    https://developer.android.com/reference/android/app/Activity#ActivityLifecycle
    
    ( can be tested with "adb shell am start  my.package.org/.MainActivity"
      and "adb shell am start -n  my.package.org/.MainActivity" )
    
    Send me a message if there are real use-case for this !

commit cfe2924d07dcdcb2314c6911644e6591d092e857
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Jan 7 11:35:31 2019 +0100

    Android: some robustness when quitting application from onDestroy()
    
    Make sure there is not pending Pause accumulated, so the the application doesn't
    remain paused and stucked in onDestroy().
    
    Can be tested by adding:
     SDLActivity.nativePause();
     SDLActivity.nativePause();
     mSingleton.finish();

commit 462e62e1549fa3401d6241f3ef1691988619a1fe
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 6 20:25:54 2019 +0100

    Android: better fix for bug 3186. Run those commands from SDL thread.

commit 9f23d1815f30e72e395bd0a11c751b55ded94320
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Jan 6 17:35:42 2019 +0100

    Android: allow multiple calls to nativeResume()
    
    Doesn't seem to happen manually, but symetrical to the pause handling.
    
    Can be tested by adding:
    
    mNextNativeState = SDLActivity.NativeState.PAUSED;
    handleNativeState();
    mNextNativeState = SDLActivity.NativeState.RESUMED;
    handleNativeState();
    mNextNativeState = SDLActivity.NativeState.PAUSED;
    handleNativeState();
    mNextNativeState = SDLActivity.NativeState.RESUMED;
    handleNativeState();
    
    Before, it ends in 'paused' state.
    Now, it ends in 'resumed' state.

commit 911f1d3e67ea1237ea7ceba38047558869bb129b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 5 22:49:50 2019 +0100

    Android: remove SURFACE_TYPE_GPU, deprecated in API level 5.
    
    https://developer.android.com/reference/android/view/SurfaceHolder
    
    This constant was deprecated in API level 5. this is ignored, this value is set automatically when needed.

commit e4f558a50c5747c30d45682ad9eba004974b44dd
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 5 22:46:52 2019 +0100

    Android: un-needed check of "isPausing" and minor typos

commit 35722b64232301fefc87548f26acc544fc45941e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Jan 5 22:27:25 2019 +0100

    Android: fix wrong state after immediate sequence pause() / resume() / pause()
    
    It may happen to have the sequence pause()/resume()/pause(), before polling
    any events.
    
    Before, it ends in 'resumed' state because as the check is greedy.
    Now, always increase the Pause semaphore, and stop at each pause.
    It ends in 'paused' state.
    
    Related to bug 3250: set up a reconfiguration of SurfaceView holder.
    Turn the screen off manually before the app starts
    (repro rate is not 100%..)

commit d4c0f498dba38b083ddc38e86cf5854845629d0e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 4 22:09:38 2019 -0800

    Fixed bug 4255 - SDL_GetGlobalMouseState() returns incorrect Y on secondary display
    
    Julian Raschke
    
    I use an open Mac laptop with an additional external monitor. The coordinate spaces from SDL_GetGlobalMouseState() and SDL_GetWindowPosition() match on the primary display, but not on the secondary display.
    
    Cocoa window coordinates are vertically flipped in relation to the primary display:
    
    https://github.com/spurious/SDL-mirror/blob/release-2.0.8/src/video/cocoa/SDL_cocoawindow.m#L219-L222
    
    However, Cocoa_GetGlobalMouseState inverts the cursor Y coordinate per-display:
    
    https://github.com/spurious/SDL-mirror/blob/release-2.0.8/src/video/cocoa/SDL_cocoamouse.m#L320-L323
    
    Suggested fix: Replace the for-loop with this simpler calculation:
    
        *x = (int) cocoaLocation.x;
        *y = (int) (CGDisplayPixelsHigh(kCGDirectMainDisplay) - cocoaLocation.y);

commit 5e13087b0f46ad0bc9dc0ad8b64623eedb1b3e41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 4 22:01:14 2019 -0800

    Updated copyright for 2019

commit 2a885eb0364418846efedcebfe773cec5205e191
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 4 23:39:27 2019 +0100

    Android: fixed immediate transition to pause and resume.
    
    "Pause" transition will add events:
     SDL_WINDOWEVENT_ENTER
     SDL_WINDOWEVENT_FOCUS_LOST
     SDL_WINDOWEVENT_MINIMIZED
     SDL_APP_WILL ENTER BACKGROUND
     SDL_APP_DID ENTER BACKGROUND
    
    "Resume" transition will add events:
     SDL_APP_WILL ENTER FOREGROUND
     SDL_APP_DID ENTER FOREGROUND
     SDL_WINDOWEVENT_FOCUS_GAINED
     SDL_WINDOWEVENT_RESTORED
    
    If Android application doesn't empty the event loop in between, it enters in
    "paused" state when SDL_WINDOWEVENT_RESTORED is fetched.
    
    See bug 3250 for pratical case.

commit cf12234454360fc37f9f7dad4789959e0534f161
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Fri Jan 4 23:11:21 2019 +0100

    Android: make Android_PumpEvents() more readable
    No behavior change in this commit.

commit ca184ac386d05852e8ebec09d98f3d1f80ba05da
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 23:22:50 2019 +0100

    Android: concurrency issue with egl_surface EGL_BAD_SURFACE - (bug 4142)
    
    Occurs when application goes to background:
    - Java activity is destroying SurfaceView holder and "egl_surface" (in onNativeSurfaceDestroyed())
    - While native thread is in Android_GLES_SwapWindow(), prepared to call SDL_EGL_SwapBuffers()
    
    The error is "call to eglSwapBuffers failed, reporting an error of EGL_BAD_SURFACE"
    
    It an be reproduced easily by adding a SDL_Delay(100) at the begining of SDL_EGL_SwapBuffers(),
    and putting the application into background.

commit 2e19343df6bfaa5156c57fe17a631466c2eb5a1e
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 20:18:29 2019 +0100

    Android: use Mutex instead of Semphore for bug 4142

commit 23478642bdd3ee78ea4ec7cca5c87134c00ed45a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 16:22:33 2019 +0100

    Android: prevent the error message from SDL_EGL_CreateSurface() to be masked.

commit cc8f1136b677e3b6384f00b68cd3a77a5216abc4
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 14:18:06 2019 +0100

    Fixed bug 4142 - Concurrency issues in Android backend
    
    Use a semaphore to prevent concurrency issues between Java Activity and Native thread code, when using 'Android_Window'.
    (Eg. Java sending Touch events, while native code is destroying the main SDL_Window. )

commit d11f7615fa4da05b554361c9f0c1035b888c5ae3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 13:38:33 2019 +0100

    Android: minor preparation for bug 4142 (concurrency issues)

commit 5dc25fef3bf4ea9e2e76de1f7055d71b01e7ec91
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Jan 3 13:14:16 2019 +0100

    Android: preparation bug 4142, reduce usage of global variable Android_Window

commit a95f91bceaa7dc47af8fed021699a95d4c94b380
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 2 18:06:33 2019 +0100

    Fixed bug 3250 - Wrong backbuffer pixel format on Android, keep getting RGB_565
    
    Use the egl format to reconfigure java SurfaceView holder format.
    If there is a change, it triggers a surfaceDestroyed/Created/Change sequence.

commit a02998a2923755a918cea4a0111d0993f0d09bd3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 2 17:41:33 2019 +0100

    Android: make sure surfaceChanged try to enter into 'resumed' state.

commit 4d2b5c791e1028f2974912a09c33d9cb5cba08d8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Jan 2 17:08:01 2019 +0100

    Fixed bug 4424 - Android windowed mode is broken (Thanks Jonas Thiem!)

commit 03b0e1dee03494c04ebb5d391fbcea06e276d8f8
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 30 22:44:25 2018 +0100

    Android: on rare occasion, prevent Android_JNI_GetNativeWindow() from crashing
    
    If Java getNativeSurface() returns null, then ANativeWindow_fromSurface() would crash().

commit 1e22fc1513317a51b48dd61131e79802424abcd6
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 30 15:41:28 2018 +0100

    Android: fixed comments and spaces

commit 2a412eb94c31b2aa7ba36e7a713f665db8352b39
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 30 15:39:37 2018 +0100

    Fixed bug 3186 - Android SW keyboard not restored when app becomes foreground.

commit d09774a47cccfc539c5cbf263809bea22553aef2
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 30 14:23:25 2018 +0100

    Fixed bug 3511 - documentation to end an Android application

commit 9cdd0dd9969bee6a5c51061bbf73d7a37bc8f80a
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 29 17:59:34 2018 +0100

    PSP renderer: use colors from 'draw' union (very likely, but un-tested)

commit ebd9efb3616d070d41a50651dfdd7e8b197d76bb
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 29 16:37:44 2018 +0100

    opengles 1: same fix as in bug #4433

commit 87b76369187067a8a36a82951e159590d9626df1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 29 16:34:50 2018 +0100

    opengles 1: use color from 'draw' union in SetDrawState()

commit dc3443602b8352e76b6e5b89eca00909469b22eb
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 21 20:53:31 2018 -0400

    render: Fix internal state getting out of sync when destroying a texture that was just rendered and then creating a new one, in the GL and GLES2 backends. Fixes bug #4433.

commit 0a70590118c90d56caac772c82162cbabc9d46b7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 19 18:10:02 2018 -0500

    render: Prefer the Metal renderer over OpenGL.
    
    This is the best option for macOS and iOS, the only platforms with Metal.
    
    Pre-Metal versions of these platforms will fall back to OpenGL (ES), as
    appropriate.
    
    Huge thanks to Alexander Szpakowski, who worked incredibly hard to get the
    Metal renderer to such a high-quality state!

commit c7db6ade7dc126a39ecd658c3d1984c7f78ddac7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Dec 19 18:27:21 2018 -0400

    metal: Implement SDL_LockTexture for YUV formats.

commit ce8c716ada230c525d3715a35580c718e0d68f5b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Dec 18 14:23:05 2018 -0400

    metal: Implement SDL_LockTexture for non-YUV textures.

commit c0c8f2d70386dfa776c568af510010d9208c095f
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sun Dec 16 11:15:21 2018 +0100

    Gesture: remove warnings when ENABLE_DOLLAR is undefined.

commit c3e3503ee82bed86019dc8f435c48be44f35085f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 16 01:04:07 2018 -0500

    testgl2: Press 'o' or 'p' to decrease/increase OpenGL swap interval.

commit 13869f194c5b975aefac6517e58998f11108d722
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 16 01:03:17 2018 -0500

    cocoa: Implement OpenGL swap interval support with CVDisplayLink.
    
    Not only does this fix macOS 10.14 ("Mojave")'s broken NSOpenGLCPSwapInterval
    support, it also lets us implement "adaptive vsync" on macOS!
    
    CVDisplayLink is supported back to macOS 10.4 ("Tiger"), so we just use it
    universally without version checks and dump NSOpenGLCPSwapInterval, Mojave or
    not.

commit 1ed60219600562ec49eae61526f020d53c98bbe3
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 15 16:21:24 2018 +0100

    Fixed bug 4426 - allows re-creation of software renderer
    
    Switching between renderers "software -> opengl -> opengles2 -> software" fails.
    
    "opengl -> opengles2" calls SDL_RecreateWindow() and frees "window->surface"
    without marking it as "surface_invalid".

commit 1829692753cc60d9bc31c9ae5a6caebc74ee8c6a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 15 09:57:05 2018 -0500

    emscripten: SDL_PrivateJoystickAdded() wants an instance id, not device index.

commit e5476c653dd820b935e809b3fe4397c28e650e78
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Sat Dec 15 14:50:12 2018 +0100

    Fixed bug 4425 - promote to alpha format, palette surface with alpha values.
    
    SDL_CreateTextureFromSurface() forgets to choose a texture format with alpha for
    surfaces that have palettes with alpha values.

commit bd08d72dec641722bf0c83cb563a25e4fa2f9a8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 11 20:04:10 2018 -0800

    Fixed building with the 10.10 SDK

commit 98829d37e8bd2c3e5a617d19d41a103e330d1bc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 11 19:50:58 2018 -0800

    Handle both "Sony Interactive Intertainment" and "Sony Computer Entertainment" when ignoring motion sensors

commit 71b6645177bfe25d373e8f1cf1f27c01667d0c21
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Mon Dec 10 13:32:24 2018 +0100

    Rename _SDL_sensor_h in public header, not to trigger Wreserved-id-macro

commit 0b6e24f7e731abe8ac75be044f75cf86a865c9b5
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Thu Dec 6 14:26:18 2018 -0500

    Linux Haptic: Fix periodic.magnitude value

commit 39e8e3951cff8a6f6c284c1dcd0e3e5d66438f81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 8 11:22:50 2018 -0800

    Fixed bug 4379 - fix parallel build with slibtool
    
    orbea
    
    I am having a parallel build problem with -j3 or higher using the autotools build and slibtool instead of GNU libtool. Basically slibtool is faster than GNU libtool and it will start working before mkdir starts or finishes creating the build/ directory.

commit 1c9595b16f8f4a78aa8aebffd448c9632e36100a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 8 11:06:40 2018 -0800

    Fixed bug 4415 - SDL menu bar is nonstandard on Mac
    
    foo.null
    
    I'm on macOS 10.14 and I think I'm using or around SDL 2.0.9. This is about the menu bar that SDL sets up which looks like:
    
    <App Name> <Window> <View>
    
    1. View menu never proceeds after the Window menu in any Mac application (it is always before).
    2. For SDL, the only purpose of the View menu is for a single fullscreen menu item, which is not justifiable enough to reserve space for a menu. The View menu should thus be removed, and the full screen menu item should be added at the end inside of Window's menu. See built in apps like Dictionary, Chess, App Store (on 10.14) that do this.
    3. SDL should add a "Close" menu item to the Window's submenu, and it should be the first item. Its key equivalent should map to command w. Without this, you cannot close the game window via this shortcut, and you cannot close the app's About window via this shortcut.
    4. Apps typically use "Enter Full Screen" or "Exit Full Screen" depending on context, not "Toggle Full Screen" which is less user friendly -- I personally care about this point the least.

commit 70ce0f2e064ccf3dc5779df289e0a07cbbacff52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 7 12:02:08 2018 -0800

    Added the hint SDL_HINT_GAMECONTROLLERCONFIG_FILE to specify a file to load at initialization containing SDL game controller mappings

commit 898644d18e15fe1ab65acf7e987f5fabeca0c920
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 6 09:09:05 2018 -0800

    Made it more clear that the values being compared are floats

commit f9192ab8fc8ed80b447c1dc3a1503971a682e95c
Author: Brandon Schaefer <brandontschaefer@gmail.com>
Date:   Thu Dec 6 10:39:33 2018 -0500

    wayland: Do not try to lock on an invalid pointer
    
    This happens if you try to lock the pointer and (caps & WL_SEAT_CAPABILITY_POINTER) is false
    Leading to input->pointer being NULL which ends up bringing the wayland client down (at lease on weston)

commit 7468d1e096d5f5c37765d2a2abcf3fbe915cbf18
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 6 15:46:40 2018 +0100

    Fix warnings detected on Android build

commit 39ec1699e7e5bbe6fcf0aa54986b8230598b960c
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 6 10:24:44 2018 +0100

    opengles2: fix prototype of glDeleteBuffers

commit 252dc85e95892fe54e4991fb70f60c8f5a1389bb
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Thu Dec 6 09:22:00 2018 +0100

    Fix warnings detected on Android build

commit a7563bcd3dcc3f226aaa2e4ddaeef5181c39afbb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 19:03:15 2018 -0500

    joystick: Removed unused variable.

commit c7b713714a52dac2a499a1840d2d066dacabf973
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 17:53:38 2018 -0500

    Whoops, forgot to add a new source file.  :/

commit 6ed76ae18f0efba9776210b01a04b982ddd2a3a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 5 14:46:03 2018 -0800

    Fixed the ROCCAT Tyon mouse showing up as a joystick on Windows

commit fbead63540b3867e7ea7edb172c79bbfc27e7e51
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 16:55:59 2018 -0500

    joystick: Added controller config for IMS Passenger Control Unit Devices.

commit 2878d4f80caa150fefcce2d64052f91cc9ecd8b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 16:53:15 2018 -0500

    egl: Don't force X11 support when testing for EGL.
    
    Fixes building Wayland support on embedded systems without X11.
    
    (TODO: maybe move the EGL test out of the X11 tests at some point, too.)

commit 1689e9f910adcdb3d3317922a482c25bad41b40c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 16:51:22 2018 -0500

    linux: Move SDL_LinuxSetThreadPriority() elsewhere to fix build.
    
    Fixes Bugzilla #4393.

commit bd3ee07c83746ff35d6ee6aed9493312b727490e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 5 16:49:38 2018 -0500

    wayland: Send SDL_TOUCH_MOUSEID mouse events for touches.

commit 6259a72636ebf9568c5c446b716d6775a22c09af
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Wed Dec 5 16:13:12 2018 +0100

    Warnings: fix a documentation warning and missing prototypes

commit db320e460aba368ff046949413456a8ebdd90e89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 4 14:21:29 2018 -0800

    Fixed the PS4 motion controls showing up as a separate game controller on Linux

commit 69c256c102baedbfe5082cb48d5465b442edcfae
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 4 18:15:45 2018 +0100

    Fix comment and end of lines

commit f64c94337086c7d06398121b68371af8d8b73d2b
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 4 17:13:13 2018 +0100

    Update comment URL of USB document (HID Usage Tables 1.12)

commit 09b462044f776ed1888403be23ae3a2ccb2443f1
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 4 16:50:31 2018 +0100

    Windows: NEON detection and intrinsic includes on Visual Studio
    
    Visual Studio doesn't define __ARM_ARCH nor _ARM_NEON, but _M_ARM and _M_ARM64,
    so SDL_HasNEON() was bypassed.
    
    PF_ARM_NEON_INSTRUCTIONS_AVAILABLE doesn't see to be defined (but still works
     when defined as 19).

commit aea7e56a246436ac5ccff71467701261e6433d71
Author: Sylvain Becker <sylvain.becker@gmail.com>
Date:   Tue Dec 4 12:34:45 2018 +0100

    android: use __ARM_NEON instead of __ARM_NEON__ to include <arm_neon.h>
    
    Only __ARM_NEON is defined with Android NDK and arm64-v8a
    Tested on ndk-r18, ndk-r13 and also Xcode.
    (Visual Studio needs a different fix).
    
    Fixes Bugzilla #4409.

commit cca9d24cde52d7c9311293c4ba7ce9f6f871bfdd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 3 09:26:05 2018 -0500

    direct3d: be more aggressive about resetting invalidated cached state.
    
    Fixes Bugzilla #4402.

commit 939bf1c4d8c3d35f5d9e99efa80140b4a7873565
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 3 02:06:17 2018 -0500

    render: fix some static analysis warnings.

commit 33f78eb1630b445b59022726b28663afb78be23e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 3 01:58:23 2018 -0500

    direct3d: Make sure streaming textures update before being used for drawing.
    
    Fixes Bugzilla #4402.

commit b744108af81bfde3308e7e0a5f983d62912f2561
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 2 21:57:33 2018 -0500

    Patched to compile on C89 compilers.

commit 3c9361509b3dba949ad019763f3d197bc4887331
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 2 20:55:57 2018 -0500

    direct3d: Release and NULL out vertex buffers on reset.
    
    Otherwise they are irretrievably lost on window resize, etc, which makes
    rendering freeze and other disasters.
    
    Fixes Bugzilla #4358.

commit d4a21f54b8f78ecd9f4abf9a23d7b7bc6c3f1575
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 2 02:43:32 2018 -0500

    cmake: Comment out some debug logging that can upset build environments.
    
    Something about the dashes, colons, numbers makes some builders believe this
    is an error message.

commit 65a7c98c6f3ce23866ac6a2453c3bb3ba88ddd31
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 2 02:33:06 2018 -0500

    directfb: Updated render backend to new internal API.
    
    Totally untested, beyond it now compiles again. Probably needs some fixes.
    
    Fixes Bugzilla #4405.

commit 583f61b202ce4fa092367837ef9d724f0dcd3ebb
Author: Sergey Zhuravlevich <zhurxx@gmail.com>
Date:   Sat Dec 1 16:31:56 2018 -0500

    kmsdrm: Check for resources when validating KMSDRM device in check_modesetting.
    
    Fixes Bugzilla #4403.

commit b3ac87d559cd03122be2a6f4801e80b3574cb384
Author: Sergey Zhuravlevich <zhurxx@gmail.com>
Date:   Sat Dec 1 13:09:00 2018 -0500

    kmsdrm: uninitialized KMSDRM fixes
    
     * Search for valid encoder in connector when it doesn't have an
       encoder ID set.
    
     * Search for valid CRTC in resources and encoder's possible CRTCs
       when encoder doesn't have one set.
    
     * Select default mode if CRTC doesn't have a valid one.
    
     * Pick current_mode's W/H/Refresh Rate basing on current and
       valid CRTC mode, not the saved one.

commit 3323b355c93e29111c1fb5dc6faeaa13b997188d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 1 12:19:11 2018 -0500

    android: use cpufeatures to support SDL_HasNEON() (thanks, Sylvain!).
    
    Fixes Bugzilla #4406.

commit 1e4acca8515ce1b606cffc4064fa16f7cb948740
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 1 12:17:34 2018 -0500

    Added some detail to a Doxygen comment (thanks, Sylvain!).

commit fac40f8e4ca213651f1db0fb7b7f76a182c0f024
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 1 11:14:20 2018 -0500

    Patched to compile on Linux with threads enabled.  (whoops!)

commit c4bc59a50e05943939d5a979f1f2f515cf387a49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 1 10:36:26 2018 -0500

    Patched to compile on Linux with --disable-threads.
    
    Fixes Bugzilla #4393.

commit f205f3a8c290f0bbcf9d4e523d798fa7430a7e1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 27 15:10:26 2018 -0800

    Added support for the Razer Raiju Mobile

commit a95291c9c895c706615459ffada1c7ca7eadf768
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 27 11:16:04 2018 -0800

    Fixed the hotspot for cursors on Raspberry Pi

commit aea483577a78591b2e9592e570a4b86f48350c8b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 27 10:20:29 2018 -0800

    Fixed bug changing cursors on Raspberry Pi

commit 3f0d520a49219c4d8c457e60ded077767dc7f0fd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Nov 26 19:55:01 2018 +0300

    SDL_touch.h (SDL_TouchDeviceType): remove comma at end of enumerator list.

commit 37b1f989cee0900d846544f10ae716ef56d0b960
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 25 22:13:09 2018 -0400

    metal: use a staging texture in SDL_UpdateTexture, to make sure it doesn't stomp texture data being drawn in a previous frame on the GPU.

commit 7b306bf34d08f334eaf3fe1d7760f7c1b1505605
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 23 21:29:42 2018 -0800

    Added atomics support for armv8-a (Raspberry Pi 3)

commit bd0ae0a5ddf9222a169fab5107f41872e2f2b7b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 23 21:11:11 2018 -0800

    Do a second pass to find libraries without a single version digit after the .so
    This finds libsndio.so.6.1 on Raspberry Pi

commit 872936a485ecf2ba00f5028190087274d8fe0d01
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Nov 21 23:46:37 2018 -0400

    metal: Fix an incorrect division.

commit 4a58722b9f89ccff51703dbdfaaad91867152809
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Nov 21 23:37:23 2018 -0400

    metal: SDL_RenderFillRects uses one draw call per 16k rectangles (within the given FillRects call), instead of one draw call per rectangle. Reduces CPU usage when drawing many rectangles.

commit 5f9805145761df7a7a43b382e25c6e96ab226a3d
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Sun Nov 4 21:08:40 2018 +0100

    wayland: ask xdg-decoration protocol extension to use server-side decorations if possible.

commit 14e389eadcad493f5d54185a8b4bb6c3e9db5892
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 20 10:55:00 2018 +0300

    minor update to Makefile.os2, added a test/Makefile.os2.

commit 5c5ba0e3317c07b309a80d62fbe3b78b5d8534b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 19 21:35:59 2018 -0800

    Fixed bug 4394 - Crash in SDL_PumpEvents() after SDL_DestroyWindow()
    
    Cameron Gutman
    
    After updating to SDL 2.0.9, I got a user report that my app was crashing when closing a SDL_WINDOW_FULLSCREEN window to return to my Qt-based UI. It looks like the dead SDL window is getting a spurious updateLayer call which is causing SDL to dereference a null SDL_WindowData pointer.
    
    For some reason, this only happens when using SDL_WINDOW_FULLSCREEN and not windowed or SDL_WINDOW_FULLSCREEN_DESKTOP. I was also unsuccessful in my attempt to get a simple reproducer for this crash. The Session.cpp code is available https://github.com/moonlight-stream/moonlight-qt/blob/688c4a90d994aa23e7b0af3ffcbb8707886db780/app/streaming/session.cpp but I slightly modified it (adding a SDL_PumpEvents() call at 1179 to immediately trigger the issue, otherwise it happened when Qt next pumped the event loop).
    
    The crashing line is:
    
        NSMutableArray *contexts = data->nscontexts;

commit ac15de18bd587b5af9322a38afe3838a2bb7c733
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 19 21:28:52 2018 -0800

    Fixed bug 4392 - SDL_cpuinfo.h breaks compilation with C bool type
    
    Luke Dashjr
    
    Bug 3993 was "fixed" by #undef'ing bool. But this breaks C99's stdbool.h bool too.
    
    For example, mpv's build fails with:
    
    ../audio/out/ao_sdl.c:35:5: error: unknown type name ?bool?
    
    It seems ill-advised to be #undef'ing *anything* here - what if the code including SDL_cpuinfo.h actually wants to use altivec?

commit b73703b9c616939ffd73fdc97da346ec4343a6e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 19 21:17:00 2018 -0800

    Fixed bug 4391 - hid_enumerate() sometimes causes game to freeze for a few seconds
    
    Daniel Gibson
    
    Even though my game (dhewm3) doesn't use SDL_INIT_JOYSTICK, SDL_PumpEvent() calls SDL_JoystickUpdate() which ends up calling hid_enumerate() every three seconds, and sometimes on my Win7 box hid_enumerate() takes about 5 seconds, which causes the whole game to freeze for that time.

commit d3fa42b8c489a6af78c0e16450e1728ffeb042c7
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 18 19:28:20 2018 +0300

    os/2 bits for SDL_malloc.c -- from libffi

commit 1a02403ea7b75cd43afced9991915270c535026a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 18 11:50:20 2018 +0300

    libm: Watcom defines huge=__huge: undefine it to fix build using Watcom.

commit ed8413c937fabd8e26570f3db3f30953573ba5a9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Nov 18 11:50:02 2018 +0300

    Makefile.os2: build libm as a static lib and add it to linkage.
    
    in case it is needed some day.

commit 457e58c40bbbd40f9c748bcdbc45f446e43ef822
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 17 16:24:52 2018 -0500

    opengles: Fixed compiler warnings.

commit 9719f89db2a2ded41606bdd6b75aa895356a368e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 17 12:12:29 2018 -0800

    Back out change initializing renderer blend mode incorrectly.

commit fde7592adab846cde1f2497ebe9ae8b75523cc04
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 17 14:39:42 2018 -0500

    direct3d11: Fixed missing rendering of solid primitives.
    
    Fixes Bugzilla #4388.

commit 782f1685ffc3b191bcb96648fff362f8153f694b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 17 14:37:51 2018 -0500

    Fixed a few compiler warnings.

commit 29e15ce62df1b5657c807300bd4ecd0a2339bf16
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 17 00:58:45 2018 -0800

    The default draw blendmode is SDL_BLENDMODE_NONE

commit 1f6bd95110ac7ae59340fe423c6a7aa5926cf6d6
Author: Sylvain Beucler <beuc@beuc.net>
Date:   Thu Nov 15 18:22:30 2018 +0000

    Emscripten: make CloseAudio actually close audio
    cf. https://bugzilla.libsdl.org/show_bug.cgi?id=4176

commit 43d47f6b2479581ef0faab9dca14bad04f638f63
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 15 07:20:02 2018 +0300

    fix permissions

commit 9262c0de9b661c7b4f5b910a7277f426c19012c3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 14 22:38:58 2018 -0500

    software: fix blits with color mods that change during a command queue run.

commit 2e348c1f5991fb7baedcd044b4ae391cbe9136b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 14 13:37:22 2018 -0800

    Fixed bug 3193 - Dualshock 3's motion sensors overwrite analog stick
    
    maxxus
    
    The Dualshock 3's motion sensors don't seem to be reported by the call to EVIOCGBIT but they still send EV_ABS events.  Because they're not reported by EVIOCGBIT they're not assigned a proper axis ids and the default of 0 is used, which is the valid id for the left analog sticks left/right axis.

commit 1a4c0d4e17e6299d2b84640ba0dcf4738ad4d268
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 12 19:23:49 2018 -0800

    Fixed bug 4377 - SDL_PIXELFORMAT enum is anonymous, which prevents its use in a templated function
    
    zen3d
    
    While trying to build Pixie lisp (https://github.com/pixie-lang/pixie), which uses SDL for multimedia output, the mandelbrot example won't build. The problem is that internally pixie uses a templated function to dump a value, and gcc chokes because SDL_PIXELFORMAT_RGA8888 is an anonymous enum.
    
    I solved the problem locally by changing from:
       enum {
          SDL_PIXELFORMAT_UNKNOWN,
          ... etc. ...
          SDL_PIXELFORMAT_YUYV = ... etc ...
       };
    to:
       typedef enum {
          SDL_PIXELFORMAT_UNKNOWN,
          ... etc. ...
          SDL_PIXELFORMAT_YUYV = ... etc ...
       } SDL_PIXELFORMAT_ENUM;
    The net result of this change is that the enum containing SDL_PIXELFORMAT_* is no longer an anonymous enum and can now be used by a templated function.
    
    This local change fixes Pixie lisp for me.
    
    I did notice that you use the idiom
       typedef enum {
          ... etc ...
       } SDL_FOO;
    elsewhere in your code, so that change to SDL_PIXELFORMAT doesn't look like it would have a negative impact.

commit b815ad56fc62b8bc4fe8acb5da96a127a93009ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 12 16:42:49 2018 -0800

    Fixed bug 4366 - Compile throws a warning on RPI (Raspbian Stretch)
    
    midwan
    
    When trying to compile on a Raspberry Pi 3, running Raspbian Stretch (fully updated), a warning appears:
    
    /home/pi/projects/SDL/src/test/SDL_test_memory.c: In function ?SDL_TrackAllocation?:
    /home/pi/projects/SDL/src/test/SDL_test_memory.c:112:109: warning: format ?%llx? expects argument of type ?long long unsigned int?, but argument 5 has type ?unw_word_t {aka unsigned int}? [-Wformat=]
                     snprintf(entry->stack_names[stack_index], sizeof(entry->stack_names[stack_index]), "%s+0x%llx", sym, offset);

commit 5e1531944ce66135e15cf1663671d0bea6a44917
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 12 16:34:58 2018 -0800

    Fixed bug 4367 - compatibility version decreased between 2.0.8 and 2.0.9
    
    Joshua Root
    
    The change resulting from Bug 4208 changed the compatibility_version of libSDL2 from 9.0.0 to 1.0.0. This is simply wrong.
    
    This means that programs linked against 2.0.9 are considered by the dynamic linker to be compatible with all previous versions of libSDL2. This is not the case since new public symbols have been added.
    
    The way compatibility_version and current_version are meant to work is:
     * current_version increases every time the library changes in any way.
     * compatibility_version is increased to match current_version whenever new public symbols are added.
    
    Thus both versions should only ever increase. The solution to the Xcode project and autotools not having matching versions should have been to increase the version(s) in the Xcode project.
    
    Reference: https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Concepts/VersionInformation.html

commit c525ff354d73f62da2a2dbeee6bc72db6006793a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Nov 10 20:56:23 2018 -0400

    cocoa: fix building with the macOS 10.7 SDK (thanks Riccardo!)
    
    Fixes bug #4368

commit 5029d50ea8c9a7e231dd35721a14b6bd7524c209
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Nov 10 16:15:48 2018 -0400

    Add SDL_TouchDeviceType enum and SDL_GetTouchDeviceType(SDL_TouchID id).
    
    Touch device types include SDL_TOUCH_DEVICE_DIRECT (a touch screen with window-relative coordinates for touches), SDL_TOUCH_DEVICE_INDIRECT_ABSOLUTE (a trackpad-style device with absolute device coordinates), and SDL_TOUCH_DEVICE_INDIRECT_RELATIVE (a trackpad-style device with screen cursor-relative coordinates).
    
    Phone screens are an example of a direct device type. Mac trackpads are the indirect-absolute touch device type. The Apple TV remote is an indirect-relative touch device type.

commit 2196e5765c04f5f755912b95d6e8aa411e84048b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 7 07:52:39 2018 -0800

    Used confflags +=, so each option can be enabled individually, if desired

commit 44c5d803ba0428d8261a65f53db2cd96cbe56a68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 7 07:38:11 2018 -0800

    The Debian maintainers aren't using these rules, so enable dynamic loading of shared libraries by default for the Steam Linux Runtime

commit 9665a50891db893ddf812897b8c71247b939d9e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 6 16:57:07 2018 -0800

    Added Vulkan headers version 1.1.91
    Downloaded from https://github.com/KhronosGroup/Vulkan-Headers

commit 48917e0e709d0f8efb7a0c476bb96652e1dd4ba3
Author: Sebastian Krzyszkowiak <dos@dosowisko.net>
Date:   Wed Nov 7 01:08:35 2018 +0100

    wayland: fix resizing and fullscreen toggling
    For starters, we need to correctly respond to 0,0 configure after unsetting
    fullscreen. Also, turns out that there should be no drawing calls at all
    in between eglSwapBuffers and wl_egl_window_resize, as otherwise EGL can
    already allocate a wrongly sized buffer for a next frame, so handle those
    together.

commit ed694ec61f6bc7ddd7165b36d568a08d63427f55
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 6 23:45:50 2018 +0300

    close_code.h: #error if included without matching begin_code.h

commit a60751b7a734f94ba82b2e44c29d2c4e487cdbab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Nov 6 20:50:24 2018 +0300

    fix bug #4362 - SDL_syswm.h with SDL_PROTOTYPES_ONLY broken in C++ mode

commit 1dbf7dc2f8f93a662523c3015f6ed3f392e548e3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 4 21:11:07 2018 -0500

    os2: Do a distclean instead of removing files manually in buildbot script.

commit e45ed114c5c8128ce1184fa274f1a69445d5b59c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 4 20:47:17 2018 -0500

    os2: Added a script for the buildbot.

commit 244b79e194334aa91f2fa5dfb0a11d2b4a62401f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 4 14:31:56 2018 -0400

    metal: SDL_RenderReadPixels on macOS synchronizes the render target's texture data if it's managed, before reading from it.

commit c9fed272899906acf996bb5d0d7a42ba1442669c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 4 12:31:02 2018 -0400

    metal: fix the SDL_RENDERER_PRESENTVSYNC flag not being set on the renderer info on macOS, when vsync is used.

commit c2bba9e4483dd2f53ab73df0f0ceec3656f9ec2f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 4 12:24:05 2018 -0400

    metal: fix the size of the buffer used for constant data.

commit bc57ac27f9780e1c3d77be8a75804d9ee39d7cc0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 2 21:34:17 2018 -0400

    mir: Removed mir client support.
    
    Fixes Bugzilla #4288.

commit 4026f89d19394ea6819fd263ebd81425ae8247bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 2 18:07:11 2018 -0700

    Fixed bug 4308 - Prebuilt SDL.dll files not compiled with ASLR support (DYNAMICBASE)
    
    Cameron Gutman
    
    The current SDL 2.0.8 and the prerelease SDL 2.0.9 are compiled without the DYNAMICBASE flag to indicate that ASLR may relocate the DLL at load-time. https://docs.microsoft.com/en-us/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2017
    
    When I build SDL.dll myself using the VS2010 project, the DLL has the DYNAMICBASE flag set (as is the default). Similarly, MinGW-w64 also enables ASLR by default on all binaries for a couple years now (https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=836365)

commit cc39c7a0cbc98fb1b5ecff29a12e88a41dce3a81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 2 17:25:00 2018 -0700

    Fixed bug 4320 - Android remove reflection for HIDDeviceBLESteamController
    
    Sylvain
    
    Uneeded use of reflection to access connectGatt method in HIDDeviceBLESteamController.java
    
    The method is API 23
    
    https://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#connectGatt(android.content.Context,%20boolean,%20android.bluetooth.BluetoothGattCallback,%20int)

commit 67a94893c0ec08cdbd98b013c518b032e5811d0a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 2 17:22:15 2018 -0700

    Fixed bug 4319 - Android remove reflection for PointerIcon
    
    Sylvain
    
    Since SDL2 min requirement is Android SDK 26, and PointerIcon is 24. We don't need reflection to access it.

commit 47fb450bebbbbfbba7c3416e575233d84823e005
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 2 17:18:03 2018 -0700

    Fixed bug 4315 - little Warning in Android_JNI_CaptureAudioBuffer
    
    Sylvain
    
    SDL_android.c
    src/core/android/SDL_android.c:1302:5: warning: variable 'br' is used uninitialized whenever switch default is taken [-Wsometimes-uninitialized]
        default:
        ^~~~~~~
    src/core/android/SDL_android.c:1306:12: note: uninitialized use occurs here
        return br;
               ^~
    src/core/android/SDL_android.c:1270:12: note: initialize the variable 'br' to silence this warning
        jint br;
               ^
    
    
    Maybe we could add some basics warning flags, not to see all warnings, but so that new warnings are caught sooner.
    
    I would go for -Wall -Wextra, and some -Wno-warning for the allowed warnings.

commit 6a9f45f2de7c0818a3a1cfc87072f8af811a8333
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Fri Oct 12 22:05:58 2018 -0700

    Remove machine-specific IncludePath from SDL.vcxproj
    
    These IncludePath values seem to not actually be needed since nobody
    noticed they were wrong for the past couple months.

commit 457390fcf80bd5382cdbcb8072240b885f5e6b48
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 1 20:24:21 2018 -0300

    metal: avoid an extra buffer allocation and GPU data copy in RunCommandQueue, it's not needed. Improves overall performance.

commit 4e86dfd8d1eedd0695e2221f190e54e0900beaa9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 1 19:49:01 2018 -0300

    metal: remove an obsolete section of a constant buffer.

commit 0d79a8a1b2670a506abca3dd60b4e44b0f62cc87
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 1 20:04:24 2018 +0300

    fix build using Watcom :
    
    ./src/render/SDL_render.c(2168): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2168): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2175): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2175): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2322): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2322): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2322): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2322): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2329): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2329): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2329): Error! E1054: Expression must be constant
    ./src/render/SDL_render.c(2329): Error! E1054: Expression must be constant
    
    ./src/render/software/SDL_render_sw.c(602): Error! E1054: Expression must be constant
    ./src/render/software/SDL_render_sw.c(602): Error! E1054: Expression must be constant
    ./src/render/software/SDL_render_sw.c(602): Error! E1054: Expression must be constant
    ./src/render/software/SDL_render_sw.c(602): Error! E1054: Expression must be constant

commit 4659e73892959be3a2b15ef14b39529dcfefdee9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 1 12:31:45 2018 -0400

    merge fallout: Patched to compile, fixed some compiler warnings, etc.

commit 62494a2e2785346126a85eae46e62ca60d4366d4
Merge: eb2536c46 ff3bb857f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 31 15:03:41 2018 -0400

    Merge SDL-ryan-batching-renderer branch to default.

commit eb2536c466c40097f6bd341fe1db0ddf9a48508f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 31 14:50:20 2018 -0400

    Closing SDL-ryan-batching-renderer branch.

commit a5ebd4d7753a17570909c6cc5038a095a3d4778e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 29 10:14:59 2018 -0400

    wayland: ask KDE protocol extension to use server-side decorations if possible.

commit 8340b0f0e2b84957e2eee444ae83b6b506d9b15d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 23 01:34:03 2018 -0400

    render: Add floating point versions of various draw APIs.

commit ff3bb857ff73647f129a9257694a43efb2edc30f
Author: Steven M. Vascellaro <svascellaro@gmail.com>
Date:   Mon Oct 22 10:55:18 2018 -0400

    joystick: Add Linux mappings for "Xbox One Wireless Controller (Model 1708)"
    
    Adds controller bindings to support the "Xbox One Wireless Controller
    (Model 1708)" on Linux. The Model 1708 was released in 2016 alongside the
    Xbox One S. It is the current model being sold by Microsoft as of writing.
    (October 22, 2018)

commit d42728ec10c1082c368cb570cfc475b26c55134b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Nov 1 12:35:00 2018 +0300

    fix NetBSD C90 build failure
    
    src/vendor/SDL2/src/joystick/bsd/SDL_sysjoystick.c:353:5: error:
    ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
    
    reported by 'bch' at https://discourse.libsdl.org/t/25231

commit 329f2eb99edc16e85dd592d8278ed198916f0ffe
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Wed Oct 31 20:17:53 2018 -0700

    Fix crash when GL_LoadFunctions()/GLES2_LoadFunctions() fails
    https://bugzilla.libsdl.org/show_bug.cgi?id=4350
    
    We can't safely call GL_DestroyRenderer() until GL_LoadFunctions()
    succeeds because we will be missing functions that we try to use
    when activating the renderer for destruction if we have an GL context.

commit aeee424f656f164660f8f91d3b0af51d3d294b59
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 31 15:16:51 2018 -0700

    Fixed bug 4349 - SDL_CreateWindow fails with KMS/DRM after upgrading Mesa to 18.2.3
    
    Rainer Sabelka
    
    After I did an upgrade of my arch Linux installation (resulting in an update of Mesa to version 18.2.3), all my SDL2 applications which use the KMS/DRM driver stopped working.
    Reason: Creating a Window with SDL_CreateWindow failed because the call to EGL
    eglCreateWindowSurface() returns an error "EGL_BAD_MATCH".
    After investigating with the debugger I figured, that the configuration, which has been selected from the output of eglChooseConfig(), has an "EGL_NATIVE_VISUAL_ID" which does not match the "format" of the underlying gbm surface.
    
    The attached patch fixes the problem. It does so, by mimicking Weston's behavior.
    All configurations returned from eglChooseConfig() which have an visual_id different from the gbm format are discarded, and only from the remaining ones the "best" match is selected.

commit 9af581bd75cae989dd300832feabc2396abc3e40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 31 15:01:20 2018 -0700

    Fixed bug 4347 - Keyboard LEDs don't work on linux console
    
    Rainer Sabelka
    
    When using SLD2 on a Linux console with the KMS/DRM video backend and Linux evdev keyboard support, the caps lock, scroll lock, and num lock leds do not work.
    
    The attached patch adds ioctls for setting the LED state in SDL_evdev_kbd.c

commit 6c029f127d2238c01f800e59e22debc92396371f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 31 10:18:05 2018 -0700

    Added tag release-2.0.9 for changeset c75013b56028

commit c49ecf6f7c10b668ebd87b89dfc3c7bfd215cb75
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 30 20:11:02 2018 +0300

    rename os2 makefile so that 'make dist' catches it; update it a bit.

commit da56cefa8bcaf4a33b33f4299921098278250867
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 30 07:00:03 2018 -0700

    Fixed bug 4188 - Software renderer SDL_RenderCopyEx blits corrupt image under certain cases
    
    Sylvain
    
    Re-opening this issue.
    
    It fixes the test-case, but it introduces a regression with another bug (bug #4313).
    
    So here's a new patch that activate cropping of the source surface to solve the issue.
    It also reverts the wrong changeset.
    It prevents unneeded colorkey error message.

commit 950f39e23b76cc54e33810aa20dcc35132ff9269
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 29 19:58:59 2018 -0700

    Backed out changeset 2944045e695b, SDL_JOYSTICK_HIDAPI is only used on iOS for Steam Controller support, which is not publicly available.

commit e542d1a36d6c5883ab0afbfc82f342588faf1615
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 29 20:18:50 2018 -0400

    winmain: Patched to compile on C89 compilers.

commit f434a98c26b5cd2ad67a4f4ae67065cf4a6b8299
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 29 20:00:03 2018 -0400

    winmain: Don't use SDL_malloc (or SDL_stack_alloc, which might be malloc).
    
    Otherwise, we are using the allocator before the app can set up its own hooks.
    
    Now we use VirtualAlloc, and WideCharToMultiByte (because SDL_iconv uses
    SDL_malloc, too!) to get ready to call into SDL_main.
    
    This also makes console_wmain() call into the same routines as everything
    else, so we don't have to deal with those allocations, too. Hopefully we
    end up with the same results from GetCommandLine() as we do in wargv.
    
    Fixes Bugzilla #4340.

commit b43f427fa660d4c1f7da57bad49cc85adc0854b0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 29 15:51:38 2018 -0400

    README-ios: added a note about enabling hidapi.

commit 91820998fc8561b69de0464c58b7f740a9a24728
Author: Micha? Janiszewski <janisozaur+sdl2image@gmail.com>
Date:   Sun Oct 28 21:36:48 2018 +0100

    Add and update include guards
    
    Include guards in most changed files were missing, I added them keeping
    the same style as other SDL files. In some cases I moved the include
    guards around to be the first thing the header has to take advantage of
    any possible improvements compiler may have for inclusion guards.

commit df89abb23ef27c1e10eb5311a47bf81a640139bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 28 14:17:21 2018 -0700

    Fixed bug 4335 - Android NDK build error
    
    dmuratshin
    
    LOCAL_SRC_FILES shouldn't use $(LOCAL_PATH)

commit e381a1599dabb0a33971c378969265ac5c17e4ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 28 10:31:06 2018 -0700

    Updated Android project files and documentation

commit 14c55ac890d5ebddbeec50a7e16649da67130e69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 26 20:20:28 2018 -0700

    This change looks okay in the general case.
    If we run into problems where these events aren't dispatched (initialized on a different thread than the main thread?) we may need to create a separate thread to handle device notifications like we do with the windows joystick subsystem.

commit be8ef94f180c698fcb843fd50f431fe27a4de270
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 26 14:43:39 2018 -0400

    hidapi: Don't run a separate event loop for device notifications.
    
    Fixes Bugzilla #4286.

commit 91da4963d317e85f64a9af0d34048af63f77e2eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 26 09:49:27 2018 -0700

    Added patch note for SDL_GameControllerGetPlayerIndex() and friends

commit b08bdc440139ce92b7da22374883219b35f9514c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 26 09:27:31 2018 -0700

    Don't build SDL_JOYSTICK_HIDAPI by default on iOS
    If you enable this, you'll need to link with CoreBluetooth.framework and add something like this to your Info.plist:
    <key>NSBluetoothPeripheralUsageDescription</key>
    <string>MyApp would like to remain connected to nearby bluetooth Game Controllers and Game Pads even when you're not using the app.</string>

commit 14329256cb240dde7bf8da110b96892787a6dc0e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 25 16:53:14 2018 -0700

    Generalized the XInput user index into a player index

commit 545febcf21023c87276d105a8567ca2c962f0684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 25 13:22:34 2018 -0700

    Fixed initializing XInput user index

commit 9987ca69f3da9e958a622c8c2ef35e4e3871d96b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 25 12:54:42 2018 -0700

    Added SDL_JoystickGetXInputUserIndex()

commit 4d4e18c4bbdb4e797d10c2d3308f971639af1bb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 25 12:54:39 2018 -0700

    Added vi style for the Emscripten joystick code

commit 04761d7d6be7750c862731a1f4f189f75ba67e91
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 25 11:11:02 2018 +0300

    CMakeLists.txt: set dylib version numbers properly. (bug #2915.)

commit b699ddc0a91fea4f3be79e29587a6cf548386dc2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 23 12:40:25 2018 -0700

    Fixed reinitializing the SDL joystick subsystem on Android

commit f0549cc9c98de855a4d5380881a13e1f2ea1b2db
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Oct 23 09:10:02 2018 +0300

    fix permissions

commit d7fa11204f409c414160ebdf8e872dc093611555
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 22 14:55:47 2018 -0700

    Change our fullscreen wait logic to only wait if we need to. (thanks Rachel!)

commit e6068b5b15a2b014b60e70470fe7bdbebc5ba2d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 22 14:55:45 2018 -0700

    Handle failure to load hidapi gracefully

commit c4918db58094ec85f672bf2c22358b846598bcb7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 22 14:55:42 2018 -0700

    Add exception handling to Android hidapi.

commit 4a50a04213b9f2c214702a77af3254f08f550c1b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 21 22:40:17 2018 -0400

    wasapi/win32: Sort initial device lists by device GUID.
    
    This makes an unchanged set of hardware always report devices in the same
    order on each run.

commit 1ec56f730231b1bc62b5ab5d253efa2a1f1c2929
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 20 21:35:48 2018 -0400

    x11: Fixed incorrect function signature for XkbSetDetectableAutoRepeat.
    
    It needs to use Bool (which is an int) and not BOOL (which is CARD8), which
    causes problems on platforms with different byte order and alignment, etc.
    
    Fixes Bugzilla #4326.

commit 1fb20f0ab9f1b1ad51a79dbf59c50db5cc91d6f9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 18 23:38:27 2018 -0400

    cocoa: Put a mutex around GL_SwapBuffers.
    
    Prevents deadlock when swapping two different GL contexts on two different
    threads at the same time on macOS 10.14 ("Mojave").
    
    Fixes Bugzilla #4278.

commit cad0a2f73083296727e75322e713ab73fec79e1d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 18 12:05:05 2018 -0400

    cocoa: Fix OpenGL rendering on macOS 10.14 ("Mojave").
    
    Fixes Bugzilla #4272.
    (transplanted from 54729119b348e8a4a916192d1d6cb8d115656255)

commit 072e17bf982be19028722db8017b9c5c3e3b1d39
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 18 11:59:48 2018 -0400

    cocoa: GL_GetDrawableSize only uses -[NSView convertRectToBacking] for highDPI.
    
    On Mojave, this will report large numbers for retina displays in fullscreen
    mode, which isn't how it works on previous versions.
    (transplanted from c6c1731780e2bef94f944a4795e2dfbba46d9500)

commit b262b0ebc90d0555ec5efdb1990fe7c494296e88
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 22 20:50:32 2018 -0400

    Small stack allocations fall back to malloc if they're unexpectedly large.

commit eedf2c965da616998aee0d56d0d18a82ac22ed0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 6 17:08:04 2018 -0400

    opengles2: Fixed several incorrect things.

commit 6ecd0b2c3576fe105b8aca89e2df4adf25b0bfec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 21:10:42 2018 -0400

    opengles2: removed useless memcpy.

commit ef3d970acee2d7b32af01219e2923f9aa469b1f8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 20:22:28 2018 -0400

    opengles2: Fixed incorrect cliprect state.

commit 208c4b0361130048c0092c48f40f0984b3012d69
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 20:21:58 2018 -0400

    metal: CopyEx transform matrix must be aligned for constant buffer access.

commit 638d624f5a8880bd0d8f44cc9bbb6cf0b478f0f7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 20:21:23 2018 -0400

    metal: Don't try to create a zero-byte vertex buffer.
    
    (Which will cause a crash in Metal, or an assert in the validation layer.)

commit 1ecf4dfc5f95b584160c2dae7dddb51b7808ebcb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 16:34:44 2018 -0400

    render: Added SDL_RenderFlush().

commit 09140bd8bc81117f1d597a3d0e04daed6b7cd6ee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 4 16:11:43 2018 -0400

    render: Move PSP backend to new interface.
    
    I have no idea if this works (or if it ever worked, having now examined this
    code), as I have no way to compile or test this.
    
    If it's broken, send patches.  :)

commit 9fedff997ba80eeb568e6b8891803d149ccc95ae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 3 23:37:29 2018 -0400

    render: moved software renderer to new interface.

commit bd08a4e6b1fb5c58024550edd20260a240be4611
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 3 19:05:20 2018 -0400

    render: D3D11 now cycles through 8 vertex buffers.
    
    This means it doesn't have to block while the current frame finishes using the
    vertex buffer; it just moves on to the next, probably-not-in-use buffer.

commit a9094a21a82bfa407f374c67b4da316b1cc1b64a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 3 18:23:53 2018 -0400

    render: D3D11 renderer patched to compile.

commit 6e6f7382a7ce9aad584e833ba81dc9bdc49d693b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 3 00:52:37 2018 -0400

    render: first (untested!) shot at converting D3D11 renderer to new interfaces.
    
    Probably doesn't even compile yet.

commit 0c2e10dce4596aa114be06a5e56521638d4bf8e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 1 22:53:45 2018 -0400

    render: Make the GL backends cache and defer more state changes.

commit fcb46813363505c5d9da51d3f0e33309bdf67d54
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 1 13:41:15 2018 -0400

    render: D3D9 doesn't need to check for stream offset support anymore.
    
    We don't use offsets at all now. Too slow.

commit 709f5ee417311e63dbbc3150500a724747b47e90
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 1 11:32:08 2018 -0400

    render: Set the D3D9 stream source once and choose offsets during draw calls.
    
    This is _much_ faster than setting the offsets with SetStreamSource!

commit 9870746bd9c61759f437f4571cdb797132a97354
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 1 03:02:54 2018 -0400

    render: Patched to compile.

commit 5e644cfdfb8e8aa21bc826b947e8d196e5c2cf16
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 1 01:23:02 2018 -0400

    render: first shot at moving Direct3D 9 backend to new interface. Untested!

commit fdc52a65dda5c3c36eac05fd9def407e0611e43a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 29 04:00:38 2018 +0000

    render: patched to compile on C89 compilers, other untested code fixes.

commit daad53af13cceb488fecccbbcaa90b09f13c9b2a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 28 19:48:14 2018 -0400

    opengles1: set some non-zero drawstate defaults.

commit c20a858da53f39307176e61463d96e14e40ce5ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 28 19:47:44 2018 -0400

    render: moved opengles2 over to new interface.

commit 22475bf3f04c05ec41b7a79b476d4d8a48eca05b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 26 20:10:32 2018 -0400

    cocoa: Force an OpenGL context update when the window becomes key.
    
    Fixes missing rendering on macOS 10.14 ("Mojave").
    
    Fixes Bugzilla #4272.
    (transplanted from aee4797c84ef90464e270b1f6095a6dd7ce280c1)

commit 0d588cc4c935f88c67130254ec78f3d700696a15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 21:35:09 2018 -0400

    render: Do state cache improvements for GLES1, too.

commit d04e55240e1949c521e609766f78a46186187808
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 19:20:31 2018 -0400

    render: OpenGL renderer now caches some state, to improve non-batching mode.
    
    (other minor bug fixes in here, too)

commit 06461bba73e4f4e483a5242a68a2cde3f206fe95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 17:04:47 2018 -0400

    render: Move non-batching flushes to different place.
    
    This lets us batch up a few commands that are all related to the same API
    call.

commit 43f15e05ddd09536e617b16c001453e9a1654f7a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 16:17:10 2018 -0400

    render: opengles renderer actually works now.  :)

commit b2db99cb9f8eb4ad76aa6e57682c70934a8a846e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 10:41:25 2018 -0400

    render: First shot at converting opengles renderer to new interfaces.

commit c01da21756597e157a434aac95c61d1afe33f01c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 24 12:30:47 2018 -0400

    render: get rid of the predeclared functions in the GL and Metal renderers.
    
    (others to come as I continue to update render backends!)

commit 051d1cfcd1c5f34b8d94b671bc267a79f5d1fc53
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 24 02:08:34 2018 -0400

    render: Make opengl backend take advantage of new high-level features.

commit 8ac5c00a43563d22cedc27347128617d4374259a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 24 02:07:35 2018 -0400

    render: Add command queue debug logging.

commit 2241b33f55054b5d725c1ad74ec92e3f176120b3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 23 23:22:56 2018 -0400

    render: Update Metal and GL backends to use new high-level features, etc.
    
    Now nothing is uploaded as dynamic data with Metal's setVertexBytes, etc; it's
    all in the one big vertex buffer, now.

commit cc56de44a4efbadc21641bb35b21476da4da4fd6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 23 23:20:40 2018 -0400

    render: A bunch of high-level improvements.
    
    - high-level filters out duplicate render commands from the queue so
      backends don't have to.
    - Setting draw color is now a render command, so backends can put color
      information into the vertex buffer to upload with everything else instead
      of setting it with slower dynamic data later.
    - backends can request that they always batch, even for legacy programs,
      since the lowlevel API can deal with it (Metal, and eventually Vulkan
      and such...)
    - high-level makes sure the queue has at least one setdrawcolor and
      setviewport command before any draw calls, so the backends don't ever have
      to manage cases where this hasn't been explicitly set yet.
    - backends allocating vertex buffer space can specify alignment, and the
      high-level will keep track of gaps in the buffer between the last used
      positions and the aligned data that can be used for later allocations
      (Metal and such need to specify some constant data on 256 byte boundaries,
      but we don't want to waste all that space we had to skip to meet alignment
      requirements).

commit 8955fb9b3148645b50466599fa783d108f8af600
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 20 16:40:04 2018 -0400

    render: First shot at moving metal backend over to new batching system.

commit 55cb9966dba46a1aa7f7563e6e2414b96d3c7816
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 20 16:36:54 2018 -0400

    render: first shot at reworking opengl backend for new batching system.

commit 5fb67f9f5529fe1e9ba45e5a99e29471e480a3f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 20 15:46:02 2018 -0400

    render: Move to a batching system for rendering (work in progress).

commit e0cc19f2d880e1cb2de4818ac9592dbadd7fd2b6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 20 15:41:57 2018 -0400

    testsprite2: report average FPS in blocks of five seconds.
    
    This makes the reporting more accurate, vs startup inefficiencies and other
    scheduling burps.

commit a2f7af9a47760e7ef3e01f7894d08b638ac2227e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 9 15:09:38 2018 -0400

    gles2: Make render command queue dynamic.
    
    It now uses a growable linked list that keeps a pool of allocated items for
    reuse, and reallocs the vertex array as necessary. Testsprite2 can scale to
    20,000 (or more!) draws now without drama.

commit 0d3275297d468a563c7b46ef649c1b2d067270ef
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 8 18:26:11 2018 -0400

    gles2: Major renderer optimization. Work in progress!
    
    This moves all the rendering to a command list that is flushed to the GL as
    necessary, making most common activities upload a single vertex buffer per
    frame and dramatically reducing state changes. In pathological cases,
    like Emscripten running on iOS's Safari, performance can go from a dozen
    draw calls killing your performance to 1000 draw calls running smoothly.
    
    This is work in progress, and not ready to ship. Among other things, it has
    a hardcoded array that isn't checked for overflow. But the basic idea is
    sound!

commit 7ed7cb5e65dd3d28d0db7adc8f31bc0d8da822ab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 25 10:45:37 2018 -0400

    Created SDL-ryan-batching-renderer branch for the WIP renderer rewrite.

commit 264b81b48156852c2a6168fb72af76746cdd8555
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 6 00:56:13 2018 -0400

    metal: Make sure layer drawableSize is adjusted on resize.
    
    Fixes Bugzilla #4250.

commit 0cf1ae9d0bcff94a26aa4b2916dd8b822cd5e66e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 5 21:24:13 2018 -0400

    Fixed a comment typo.

commit a0b3dcc26aae845f6dea3d2199ab263e772dc077
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 15:54:46 2018 -0700

    Fixed bug 4002 - Android, nativeRunMain() fails on some phone with arm64-v8a
    
    Sylvain
    
    The issue is totally reproducible on P8 Lite.
    
    "The dlopen() call doesn't include the app's native library directory. The behavior of  dlopen() by Android is not guaranteed".
    
    Workaround in getMainSharedObject()
    
    Just replace
        return library;
    with
        return getContext().getApplicationInfo().nativeLibraryDir + "/" + library;

commit 80021c21b6a9bc7096fb7e98acca15310dc2a9a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 15:28:06 2018 -0700

    Speculatively disable rumble on the Razer Panthera Evo, which doesn't have rumble motors and probably hangs in the same way the Panthera does.

commit e987bedfe26a0e2bb8fe734e499867aafb249ae3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 13:04:50 2018 -0700

    Updated Xcode library version to match libtool output with Ozkan's change

commit 96259f1f851506f0bc2d8e0c2e6c9b1a80f1849f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 12:16:01 2018 -0700

    Don't overwrite the default binding when changing the binding for a controller that was using the default.

commit 963e74d68c374b092fc536f8b290d12f6682b3ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 11:24:23 2018 -0700

    Added binding for Mad Catz FightStick TE S+ (PS3) on Mac OS X

commit c152e380be6ab6b1212e23180a94f769642204d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 5 11:18:50 2018 -0700

    Added support for the Razer Panthera Fightstick
    Fixed bindings for the Mad Catz FightStick TE S+

commit 9753b9cc46d3dbfc7a93805760a653a841ae7e9d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Sep 2 23:57:06 2018 +0300

    CMakeLists.txt: fix typo SDL_SENSORS_DISABLED -> SDL_SENSOR_DISABLED

commit aae29c9ebd4fb64fbe7f9914976e8288af2fae9f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 2 00:35:11 2018 -0400

    test: Makefile should copy .dat files for testoverlay2.

commit 3634e563c4a2a09c3bdb12e15ab1a057c446e14d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 1 20:47:12 2018 -0400

    metal: SDL_UpdateYUVTexture shouldn't swap planes based on format.

commit 34237b80f48199f906031bf28f647dc4161c929f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 31 18:10:21 2018 -0700

    Better fix to make sure we're only returning controllers from the HIDAPI joystick API

commit 4ffcd88ca23d62e0a8a567896925ed1bf084c3c5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 31 17:47:34 2018 -0700

    Removed VID/PID 0x1532/0x0037, which was listed in the Linux kernel as a Razer Sabertooth, because at least one variant of the Razer DeathAdder mouse shows up with this VID/PID.

commit faf8f8b86b13a4a4d43599c4d2b17038c9d06d6f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 30 12:50:10 2018 +0300

    fix permissions

commit 5ef8eb49be25f5b751fe6cb018c9dc62bdf615b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 29 20:55:02 2018 -0700

    Don't show the Razer Raiju sound interface as a game controller

commit 90a5607d32f4d191cb7ed3947c7e9edf60ea2209
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 29 20:23:42 2018 -0700

    Fixed compiler warning and use higher precision in angle calculation

commit 207428b4443e1453a40af4386521ab95b406f0b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 29 20:23:39 2018 -0700

    Don't rumble Bluetooth PS4 controllers by default, as that switches the controller into extended input report mode, which breaks games that use DirectInput.

commit 16ccff3c56527b1981f220f28fe005a1267b48ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 29 20:23:36 2018 -0700

    Fixed whitespace

commit fda14741ac614abb94e01a0d70d0e1227f0f97be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 29 18:56:54 2018 -0700

    Fixed Xbox One S Bluetooth support on Mac OS X

commit b6aaefc79132f2fbe0d08a66f4a1105e6fcf7760
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Aug 29 11:04:02 2018 +0300

    SDL_evdev.c:  undefine _THIS before redefining it.
    
    src/core/linux/SDL_evdev.c:104:1: warning: "_THIS" redefined
    In file included from src/core/linux/../../events/SDL_events_c.h:26,
                     from src/core/linux/SDL_evdev.c:45:
    src/core/linux/../../events/../video/SDL_sysvideo.h:146:1: warning: this is the location of the previous definition

commit 92396f7d74d33d62fa7324eae9468ac4871fe6c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 28 16:19:31 2018 -0700

    Fixed Windows build

commit 404ba5eea85dffe74ed320a758879ee581e32563
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 28 13:37:11 2018 -0700

    Fixed bug 4229 - Add support for ABGR format in DirectFB renderer
    
    Alexandre
    
    DirectFB supports 32-bit ABGR pixel format via DSPF_ABGR, but SDL doesn't map SDL_PIXELFORMAT_ABGR8888 to DSPF_ABGR.
    
    A patch is attached and should add support for ABGR pixel format devices.

commit 87bc1fb55240839f00e4346e56576ea9f7a20d67
Author: Andreas M?ller <schnitzeltony@gmail.com>
Date:   Tue Aug 28 12:57:51 2018 -0700

    GLES2: Get sin/cos out of vertex shader
    The only place angle is activated and causes effect is RenderCopyEx. All other
    methods which use vertex shader, leave angle disabled and cause useless sin/cos
    calculation in shader.
    
    To get around shader's interface is changed to a vector that contains results
    of sin and cos. To behave properly when disabled, cos value is set with offset
    -1.0 making 0.0 default when deactivated.
    
    As nice side effect it simplifies GLES2_UpdateVertexBuffer: All attributes are
    vectors now.
    
    Additional background:
    
    * On RaspberryPi it gives a performace win for operations. Tested with
      [1] numbers go down for 5-10% (not easy to estimate due to huge variation).
    * SDL_RenderCopyEx was tested with [2]
    * It works around left rotated display caused by low accuracy sin implemetation
      in RaspberryPi/VC4 [3]
    
    [1] https://github.com/schnitzeltony/sdl2box
    [2] https://github.com/schnitzeltony/sdl2rendercopyex
    [3] https://github.com/anholt/mesa/issues/110
    
    Signed-off-by: Andreas M?ller <schnitzeltony@gmail.com>

commit 044b00dcaeb01bdcfaef5007fa47ef1bea84573a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 27 11:51:05 2018 -0700

    Fixed the DirectFB renderer not being enabled in autoconf builds

commit a1ca84411e695103f4da1a32d0ac5f02d4898c02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 26 20:37:23 2018 -0700

    Update the cursor clipping each frame, in case it was stolen by another application.

commit 15b3794f119190d39a453676d9668c8326190a65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 26 10:34:23 2018 -0700

    Only reset the clip rect if it's currently the rect we previously clipped.
    This prevents us from clearing the clip rect globally when another application has set it.
    
    There's also an experimental change to regularly update the clip rect for a window defensively, in case someone else has reset it. It works well, but I don't know if it's cheap enough to call as frequently as it would be called now, and might have other undesirable side effects.
    
    Also fixed whitespace and SDL coding style

commit 09ab752aa399f54dddc558442d05aa39b5b48d80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 24 10:41:57 2018 -0700

    Implement SDL_HapticStopEffect on Android (thanks Rachel!)

commit a794126d569ec689b56e4f59c859752257ff71bb
Author: Jeremy Ong <jeremycong@gmail.com>
Date:   Fri Aug 24 09:49:48 2018 -0400

    vulkan: SDL_Vulkan_GetInstanceExtensions should accept a NULL window.
    
    Fixes Bugzilla #4235.

commit a003fa0a053e2310f34be7367a5d7aed7a9e627c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 23 14:05:25 2018 -0700

    Implemented SDL_GetDisplayOrientation() on Android (thanks Rachel!)

commit df5d565f480e72278f8636da6cb16a822397e4ce
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 23 14:32:30 2018 -0400

    cmake: add sensor subsystem to the build.

commit 8adadf8f0eb3fe83ee97ae37f5ed82f35d21b79d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 23 10:51:54 2018 -0700

    Added documentation for additional Android sensors

commit 84e78320180d2ffe1cd013e91b3d649b4abfb560
Author: Thomas Perl <m@thp.io>
Date:   Thu Aug 23 14:47:38 2018 +0200

    Fix "unresponsible application" issues in Wayland
    
    Polling without wl_display_flush() never responds to ping requests.
    In that case ping-pong works only on other events, such as user input
    or on frame swapped.
    
    From https://git.merproject.org/mer-core/libsdl/merge_requests/3
    Original author: Alexander Akulich <a.akulich@omprussia.ru>

commit 568068048fa3a808fcd5e83902e7a007b6d77da4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 18 15:41:50 2018 -0700

    Fixed bug 4324 - Xcode 10 - more cleanup for macOS and iOS projects
    
    Dominik Reichardt
    
    Xcode warns about
    "Traditional headermap style is no longer supported; please migrate to using separate headermaps and set 'ALWAYS_SEARCH_USER_PATHS' to NO."
    Just doing the latter is enough to silence the warning without ill effects on compiling. This affects the macOS Xcode projects as well as the iOS projects. Definitely not a bug but an annoying warning that could go away.

commit 30def8e26b83d244a62cf01fe52d6f71daff950b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 18 15:40:39 2018 -0700

    Fixed bug 4324 - Xcode 10 - more cleanup for macOS and iOS projects
    
    Dominik Reichardt
    
    Similar to bug/patch #4228, the iOS Demo Xcode project needs to add the CoreBluetooth framework.

commit f677377339919eea90339c0385ef15dc84285093
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 18 12:05:05 2018 -0400

    cocoa: Fix OpenGL rendering on macOS 10.14 ("Mojave").
    
    Fixes Bugzilla #4272.

commit eac3fd28d84b5c8ff6e44de35e33fc53ad231601
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 18 11:59:48 2018 -0400

    cocoa: GL_GetDrawableSize only uses -[NSView convertRectToBacking] for highDPI.
    
    On Mojave, this will report large numbers for retina displays in fullscreen
    mode, which isn't how it works on previous versions.

commit 4db5e872aab0c8338c29b2fb8d3d0e8941983769
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Oct 18 11:58:00 2018 +0300

    use less ancient versions of autofoo scripts

commit 3e3ce6e95cfbebeae030f99e1e570dfca0c31b68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 16 15:00:43 2018 -0700

    Fixed bug 4318 - Android move Haptic code to API26 class
    
    Sylvain
    
    - Create SDLHapticHandler_API26
    - No need of reflection since SDL2 compile with Android 26 as a min requirement.
    - remove spaces

commit 708ad1fd8ddf597868c0313bef8e7114a540ec0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 16 14:58:07 2018 -0700

    Fixed updating the rumble parameters on Linux

commit b0c48dd9dd55b460ab1f6f69604f182f6a7b33e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 16 08:29:27 2018 -0700

    Support vibration magnitude on Android 8.0 (thanks Rachel!)

commit 7be4fca62cd0e1f7a9ba820afd016f054922d447
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 15 11:01:00 2018 +0300

    SDL_power.c: Adjust SDL_POWER_DISABLED ifdefs to avoid zero-size array
    
    Otherwise if SDL_POWER_DISABLED is disabled (eg with --disable-power):
    
    ... with clang -pedantic:
    src/power/SDL_power.c:48:50: warning: use of GNU empty initializer extension [-Wgnu-empty-initializer]
    static SDL_GetPowerInfo_Impl implementations[] = {
                                                     ^
    src/power/SDL_power.c:48:50: warning: zero size arrays are an extension [-Wzero-length-array]
    2 warnings generated.
    
    ... with gcc -pedantic:
    src/power/SDL_power.c:48:50: warning: ISO C forbids empty initializer braces [-Wpedantic]
    src/power/SDL_power.c:48:50: warning: ISO C forbids empty initializer braces [-Wpedantic]
     static SDL_GetPowerInfo_Impl implementations[] = {
                                                      ^
    src/power/SDL_power.c:48:30: error: zero or negative size array ?implementations?
     static SDL_GetPowerInfo_Impl implementations[] = {
                                  ^~~~~~~~~~~~~~~
    
    ... with Watcom:
    ./src/power/SDL_power.c(85): Error! E1112: Initializer list cannot be empty

commit dae4a01361a83ef5f4bf3a83a8ac0229fb6b1336
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 15 00:46:43 2018 -0400

    x11: Don't hardcode limit on lines of text in message boxes.
    
    Plus other text parsing fixes.
    
    Fixes Bugzilla #4306.

commit ee97d4f4c11940a5dd0acb01a7545e10997df17e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 14 23:56:56 2018 +0300

    add a minimal config and makefile to test watcom/os2 builds.

commit 703361e47dca8b1800b777c3877b1b7785e8cd29
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 14 23:55:02 2018 +0300

    SDL_GetPowerInfo_Hardwired is static in SDL_power.c
    
    .. therefore, comment out its extern declaration in SDL_syspower.h.

commit cbacb0f1ea05de098642a56914a982aa0acfffab
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 14 23:50:50 2018 +0300

    add missing include.

commit e2ad654f2e29d4bccc9a4852f40f78997f99f575
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Oct 14 17:26:10 2018 -0300

    iOS: Don't ignore the requested alpha bit size when determining whether to use an RGBA8 backbuffer.

commit cd63709ed817c4c363a9d6480e7a959bba2fde80
Author: Charlie Birks <charlie@daftgames.net>
Date:   Sat Oct 13 17:18:59 2018 +0100

    Emscripten: Load eglQueryString and eglGetError
    This prevents an assertion on context creation failure (calling a null
    function pointer).

commit 8c41e2624e49b994dcd1b1fe39be077c4d0bab5b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 13 03:36:42 2018 -0300

    metal: Fix SDL_RenderReadPixels to wait for the GPU to finish rendering to the active texture before reading its pixels.

commit d8022d19b4bf1a73b3d17737f68fdd154dbd43c8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Oct 12 23:23:52 2018 -0300

    macOS: Fixed MoltenVK dynamic library loading code.

commit d9094421e16594438f248ac73491b7a75224ad77
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Oct 12 17:55:42 2018 -0300

    metal: Fix high dpi and resizing on macOS, and clean up iOS code. Fixes bug #4250.

commit 9a98e4b6472aed466ef76a53f1698d2818d0a1ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 11 15:14:48 2018 -0700

    Allow Android haptics to work when SDL is reinitialized (thanks Rachel!)

commit 0e5a3f6ecfd0581a5febea5fd621254a925fccec
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Oct 12 01:03:40 2018 +0300

    SDL_thread.h: undefine SDL_CreateThreadWithStackSize before redefining.

commit acb05f50d810cd805c03b867bd8057f56cfcd187
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 11 16:40:01 2018 -0400

    thread: make SDL_CreateThreadWithStackSize() a public API.

commit eff5f65096d406191ba87102b0909aac9fc2a98b
Author: Cameron Gutman <cameron.gutman@gmail.com>
Date:   Tue Oct 9 23:01:43 2018 -0700

    Implement SuspendScreenSaver for Win32
    
    Creating a full-screen SDL renderer on Windows will keep the screensaver
    suspended by DirectX, as is default for full-screen DX applications. However,
    for applications that render in windowed-mode, the screensaver will
    still kick in, even if SDL_DisableScreenSaver() is called or
    SDL_HINT_VIDEO_ALLOW_SCREENSAVER is set to 0 (default). Implementing
    a SuspendScreenSaver() function for Win32 fixes this behavior.

commit 04cbf132613dbf425f328131150a9492f8efb2fb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 10 15:20:56 2018 -0400

    audio: All device names reported by SDL must be unique.
    
    This means that if you have two devices named "Soundblaster Pro" in your
    machine, one will be reported as "Soundblaster Pro" and the other as
    "Soundblaster Pro (2)".
    
    This makes it so you can't into a position where one of your devices can't
    be opened because another is sitting on the same name.

commit 0378529e1e2dda29d6b584e220a85b7439a711fd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 10 14:55:24 2018 -0400

    audio: clean_out_device_list() already sets this flag to false for us.

commit f5a21ebf0c450e57d1f9924188030d4fea5566c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 9 20:12:43 2018 -0700

    Added support for surround sound and float audio on Android

commit 4679f6826d15fa8baf102306fa289b0fceb61334
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 9 20:12:40 2018 -0700

    Removed unneeded variable qualifiers

commit 82c2f04e611e33bb886a3ca32d3673fd665091e2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 9 17:41:40 2018 -0700

    Fixed bug 4188 - Software renderer SDL_RenderCopyEx blits corrupt image under certain cases
    
    duckgrease
    
    SDL_RenderCopyEx blits wrong image (in some cases it's bunch of alternating horizontal lines, some cases it's image from the wrong coordinate, and in some cases it's just a bunch of garbled pixels), when the following conditions are met:
    - Use software renderer.
    - Enable either horizontal or vertical flip.
    - source and destination rectangles must have same width and height, and must be smaller than the size of the texture.
    - source rectangle's X and Y coordinates must be 0.

commit 88b3252555f8984adf5a3c9c6b346eaa97966031
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 9 00:27:55 2018 -0400

    kmsdrm: find available card if called without index.
    
    This work was done by Michael Grzeschik, I just cleaned up the patch a little.
    
    Fixes Bugzilla #4241.

commit 62f806ed6c6c4cbe7133ecb1c6efbf206c31cf01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 19:46:01 2018 -0700

    This device gets Xinput driver loaded on windows.

commit 337cea44110d1223b12a7509613f03caa56d3045
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 12:49:30 2018 -0700

    Fixed life-cycle issues with two activities sharing HIDDeviceManager

commit 1e728f5075a2449678de210e527133037c96035f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 12:49:28 2018 -0700

    Close on shutdown, for consistency

commit e4c9806f4f40dcfdcc370ee8d4968b551f5898ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 12:49:26 2018 -0700

    Trying to track down NullPointerException in USB input thread

commit 4d771c598a9eaf14ab8fd666ec0030ae092629cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 12:49:25 2018 -0700

    Don't flash the navigation bar when destroying a fullscreen SDL window

commit 53260b31b529e51d2b9f5a2b4146d9b15b1449dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 8 12:49:23 2018 -0700

    There are legitimate reasons to skip full cleanup at shutdown, don't assert in that case.

commit 3ac9e2aa4e8352ca410f07b18d80a23686cfbaf6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 5 17:06:05 2018 -0700

    Fixed bug 4296 - kmsdrm video driver leaks 1 bo in KMSDRM_GLES_SetupCrtc()
    
    Icenowy Zheng
    
    One front buffer is locked in GLES_SetupCrtc() and overrides the next_bo just locked in KMSDRM_GLES_SwapWindow, then the next_bo gets lost and is not released even when quitting the video.
    
    It may leads to problems with GLES drivers that doesn't clean up GBM correctly if there's any bo left (e.g. the Mali Utgard r6p2 blob). In the case of Mali Utgard r6p2 blob, the DRM device file is still hold by the blob, and if you try to SDL_Quit to let another program to run (this is done by EmulationStation), the new program will fail to open DRM device.

commit 367f9b915c7c0a4cae8f1d27f2337430d31e67ab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 5 17:24:03 2018 -0400

    wayland: Fixed missing window sizing events.
    
    Fixes Bugzilla #4242.

commit f01cdcedbcd2eb82af3a2aa4ad989f889657b11a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 5 01:41:59 2018 -0700

    It turns out HIDAPI for Xbox controllers doesn't allow background input, so we won't enable it by default on Windows.

commit a0c53668e6a85e59c4a80a3b4e8c95e78cd6e2e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 4 16:29:17 2018 -0700

    Allow SDL to use ReLinker if present.
    This fixes issues for applications that have a large number of shared libraries
    For more information, see https://github.com/KeepSafe/ReLinker for ReLinker's repository.

commit 41ee51b9a8436908ea485c4d5293c949102fc7c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 4 15:23:42 2018 -0700

    Fixed updating bindings for controllers using the wildcard mappings

commit b60e5b82fb484a0a985b0762ee50bd35c38aa9d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 3 15:48:26 2018 -0700

    Update documentation to note that this hint works on Android too (thanks Trent!)

commit 93fb710a46dc7144d003f9a8e01e6c81b93c0c4b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 3 16:54:24 2018 -0400

    evdev: Don't initialize struct sigaction with "{ 0 }".
    
    It causes warnings on some platforms, depending on the actual definition of
    sigaction, and since this is static data, it'll be zero'd out anyhow.

commit 19445561716eb96f7bae6ae7f1c25adc2c8d7794
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 2 20:51:33 2018 -0700

    Make sure we don't read and write to HIDAPI at the same time, it's not thread-safe on Windows

commit ae5317e84452e69ed03750a77a83caca5b3ac3b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 2 13:17:31 2018 -0700

    The Amlogic X96 is a set-top box

commit 679d3553170318ef690a920c7157e029206fcf05
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 1 14:52:28 2018 -0700

    Fixed UnsatisfiedLinkError when initializing the HIDDeviceManager in some cases

commit 6e35e4214559c8db22e3f45734daa3dada42da1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 1 14:43:03 2018 -0700

    Working on bug 3921 - Add some Fastpath to BlitNtoNKey and BlitNtoNKeyCopyAlpha
    
    Sylvain
    
    I did various benches. with clang 6.0.0 on linux, and ndk-r16b on android (NDK_TOOLCHAIN_VERSION=clang).
    
    - still see a x10 speed factor.
    - with duff_loops, it does not use vectorisation (but doesn't seem to be a problem).
    
    on linux my patch is already at full speed on -O2, whereas the duff_loops need -O3 (200 ms at -03, and 300ms at -02).
    
    I realized that on Android, I had a slight variation which fits best.
    both on linux with -O2 and -O3, and on android with 02/03 and armeabi-v7a/arm64.
    
    Here's the patch.

commit 922623e1b6fe201516f69d20d04ec993d94020c9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Mon Oct 1 21:29:11 2018 +0300

    SDL_blit_N.c (BlitNtoNKeyCopyAlpha):  fix -Wshadow warnings by adding _
      suffix to the temp Pixel local in the DUFFS_LOOP.
    SDL_blit.h (ASSEMBLE_RGB):  add _ prefix to temp Pixel locals to avoid
      any possible shadowings.
    
    
    The warnings were like the following:
    
    In file included from src/video/SDL_blit_N.c:26:0:
    src/video/SDL_blit_N.c: In function 'BlitNtoNKeyCopyAlpha':
    src/video/SDL_blit_N.c:2421:24: warning: declaration of 'Pixel' shadows a previous local [-Wshadow]
                     Uint32 Pixel = ((*src32 & rgbmask) == ckey) ? *dst32 : *src32;
                            ^
    src/video/SDL_blit.h:475:21: note: in definition of macro 'DUFFS_LOOP8'
         case 0: do {    pixel_copy_increment; /* fallthrough */             \
                         ^
    src/video/SDL_blit_N.c:2419:13: note: in expansion of macro 'DUFFS_LOOP'
                 DUFFS_LOOP(
                 ^
    src/video/SDL_blit_N.c:2399:12: warning: shadowed declaration is here [-Wshadow]
         Uint32 Pixel;
                ^

commit b251876126e07891122abde462114d867d957204
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 1 09:47:10 2018 -0700

    commit c6b28f46b8116552ec2b38d1d3c8535df28ba7a1
    Author: Anthony Pesch <inolen@gmail.com>
    Date:   Fri May 4 20:21:21 2018 -0400
    
        Added SDL_AUDIO_ALLOW_SAMPLES_CHANGE flag enabling users of SDL_OpenAudioDevice to get
        the sample size of the actual hardware buffer vs having a stream created to handle the
        delta

commit de5367a612f8c808fb0ab1dee144252e94c40d67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 23 02:48:47 2018 -0700

    Added display event files to the Visual Studio projects

commit 5901fe466b73a82424604e717d07a0609def6cf1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 23 02:24:31 2018 -0700

    Added display event files to the Mac OS X project

commit 50d50025332b32f18eb8f079b643a93cd09868e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 23 02:21:17 2018 -0700

    Fixed build

commit 088070e5a87023bc94c90d1aa29e65a73fbdf581
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 22 23:47:29 2018 -0700

    Moved display orientation handling on iOS out to a separate function for Qt apps

commit f225af0c1ecc45a56d922808318a19a76e1128c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 22 21:48:28 2018 -0700

    Added SDL_GetDisplayOrientation() to get the display orientation, and added a new event SDL_DISPLAYEVENT to notify the application when the orientation changes.
    Documented the values returned by the accelerometer and gyroscope sensors

commit f1bc1c1274207850f6cac9bfc59e9d68dc7af206
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 22 17:44:28 2018 -0700

    Fixed crash trying to open HIDAPI controller as a haptics device on Windows

commit 38ae49880f9d37d6287bf4019d6fcce5e499cb45
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 20:46:25 2018 -0700

    Updated required Android SDK to API 26, to match Google's new App Store requirements

commit 7f4860e2be573ef267939eaf2300f3cfe6880206
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 20:38:22 2018 -0700

    Doh.. __IPHONEOS__ is defined on tvOS

commit 74e99f741678d537d27f247e8caa21f32818dfd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 20:34:09 2018 -0700

    Don't use CoreMotion on tvOS

commit b8ae2c1860d7f33daaa5c8073e70f2015485e464
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 20:20:54 2018 -0700

    Fixed UWP build

commit 6f758ad25f72aa450128ad2b67aeaa7ce1a5249c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 20:03:54 2018 -0700

    Moved SDL_IsTablet() to a cross-platform API function

commit e9f6805fc67d69b087e243aee642a4e0c906b385
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 19:42:19 2018 -0700

    Removed dependency on C++ runtime on iOS

commit c6647bf9c9bce3b4b2457d1dcb91d8e6ca011c52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 17:24:12 2018 -0700

    Added the iOS sensor implementation

commit bdbc06b027e8471ba140568b3e3850a6c0b44f03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 16:47:44 2018 -0700

    Fixed bug 4228 - Clean-up Xcode projects
    
    C.W. Betts
    
    This cleans up the Xcode project by setting the Xcode groups to the corresponding directories. This also removes the Resources folder in OS X's Products group and adds the CoreBluetooth framework to the iOS tests (this is needed due to the addition of hidapi.

commit c5bcefa7e8866089d67cdc920afb2b60bd04d3aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 13:44:11 2018 -0700

    Fixed duplicate definition of SDL_JoystickID

commit 7749ee2a43495460a18ab71e093e4cdd6175580a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 13:42:44 2018 -0700

    Added the dummy sensor driver to the Visual Studio projects

commit 3e5dbc694a41ee0a79c9e6136411ed4bc0bf6b07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 13:29:21 2018 -0700

    Added a dummy sensor driver

commit 7c3040e08a65d017aa2feb9a364b0e8a27237b43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 12:11:34 2018 -0700

    First pass on the new SDL sensor API

commit c2791fc60d61b25e2e4c0ca55ff07401683e05f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 11:59:13 2018 -0700

    Don't crash if the app doesn't have Bluetooth permissions

commit 2a4999b4bbbc66df11d958e4e5670af138f4577c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 11:44:08 2018 -0700

    By default just build for 32-bit ARM and x86

commit 109544ca04345802834c815d92a658dba4042a41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 11:23:47 2018 -0700

    Add SDL_IsTablet() to Android and iOS SDL.

commit b09b25f6e4f0bad1ff2a9f893f69221c115373bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 11:07:56 2018 -0700

    Don't crash if the app doesn't have Bluetooth permissions

commit ad1e3c2a4ceb76516113f21ef012ab66a5ab5663
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 10:37:26 2018 -0700

    Fixed Android build error

commit 0d22559e307eb0b910388615c9d32dfa280fcb01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 21 10:25:30 2018 -0700

    Fixed Android build error

commit 5dfa4043a3f6a4604c67c8b2bc7de9bef59977a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 20 21:19:17 2018 -0700

    Fixed warnings building on Mac OS X 64-bit

commit 6b3f11e2a3c85e2fc8e6239a3cda2320a99d3271
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 20 21:18:56 2018 -0700

    Fixed code style

commit aeea6b9b1f841dfdbfe656550b9b7bbb0c545050
Author: Ryan Speets <ryan@speets.ca>
Date:   Sat Aug 18 12:30:04 2018 +0100

    Emscripten: Fixed SDL_SYSTEM_CURSOR_SIZEALL

commit 90454b1ece9b394e7be6029df1c26d38b397c8ef
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 16 11:01:02 2018 +0300

    SDL_hidapi_ps4.c: define NTDDI_VISTA / _WIN32_WINNT_VISTA if not defined
    
    it still needs a Vista or newer Platform SDK to build, though.

commit 7d3a7ef827ba16bc75d6d839bfe8e540aeaa8099
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 23:35:54 2018 -0700

    Use a single hint for both Xbox 360 and Xbox One controllers, since they are often the same driver.

commit a2add1f6839ed9777ef522688ace2df69135b39b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 23:14:45 2018 -0700

    Use the HIDAPI driver for Xbox controllers on Windows, and determine the XInput mapping at runtime for extended functionality like rumble and guide button.

commit 3f5ff751fe06b1e0eb01639fe11bfbddf9fb4c90
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 23:14:43 2018 -0700

    Use a unified name list for Xbox 360 and Xbox One controllers for drivers that can handle both

commit aad340eb862ef2707bfe220fba113732a563344a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:36 2018 -0700

    Added Windows Xbox controller state packet handling, for completeness.

commit 63107524f6c0bb8922553ecd4fe9150e761802dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:34 2018 -0700

    Fixed input from the Steam Virtual Gamepad on Mac OS X

commit 0903e8355316484fb7af91d86bf67da95ffc682d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:31 2018 -0700

    Use SDL specific window class to avoid conflicting with Steam

commit c88666580e4270901c3ee0400d5dcb813ef1d3b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:30 2018 -0700

    Catch device removal as well as device arrival on Windows

commit 641c674f2a537732588a47e103bc2a315e86d526
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:28 2018 -0700

    Turned off debug messages

commit 51902010c6152c358354d9d158b105573fcba4e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:26 2018 -0700

    Remove the HIDAPI device if we get a read error from it
    This fixes detecting PS4 controller disconnect on Mac OS X, where there isn't any device removed notification

commit dfbd7f65a93bfecdc7d2caeaf5a3234ea4da7f65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:24 2018 -0700

    Fixed Mac OS X build

commit ec74c318b9abcb3d856f94be510c1bdf5087cdc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 15 19:53:22 2018 -0700

    Polling hid_enumerate() every 3 seconds causes freezes and stutters on some USB audio devices and mice.
    We'll only enumerate devices when we get notification that the system devices have changed

commit 2dc04b4c11a14b6761e5543ad41b5a815abbaf49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 15:22:02 2018 -0400

    libm: one more static analysis fix.

commit 67a48ad13a4f809746792a10c69210041b65feb9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 15:04:08 2018 -0400

    haiku: Patched to compile with new joystick interfaces.

commit e1ac643b32573b6b8d3e80ddf623f85089c771f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 14:54:26 2018 -0400

    bsd: Patched to compile.
    
    (I think.)

commit 67764070f00a0db56d5951c53bdf6dffb7081565
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 14:42:40 2018 -0400

    bsd: Update joystick code for new interfaces.
    
    (this is an untested push to see if buildbot likes it.)

commit b692c3523760a0807fe0a54c9b47ecda0434d8aa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 14:32:30 2018 -0400

    emscripten: Patched to compile with new joystick interfaces.

commit 941f8ecffd7f6616bc18568c9a0bbbe122ea8e1f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 14:10:47 2018 -0400

    joystick: define inline to SDL_INLINE

commit 0b2863d45e041abeb94cef4dd23072d6065da84c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 10 14:09:44 2018 -0400

    joystick: #if 0'd out some things that aren't currently used.
    
    Fixes some compiler warnings.

commit a7c3d2af81aa00742d4d3c79be2411434deaf571
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 10 11:50:55 2018 +0300

    SDL_hidapi_ps4.c: lowercase windows header names.

commit f159d798dd7dc80ad9fcbc1c574e23e12d186661
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 10 11:50:01 2018 +0300

    chmod -x Android.mk

commit 5930b508554a56972297ae82e9072b4db9a093d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 22:53:43 2018 -0700

    Re-enabled the HIDAPI joystick driver on Windows and Mac OS X

commit 4f41f07d43cae7d827c1558d47bc5ac5e17401e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:05:48 2018 -0700

    Added missing files from previous commits

commit 31b0224397773296ed708cf326df5d4e4b5e6d15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:45 2018 -0700

    Added notes that this code was contributed by Valve

commit 99759bac82872c02d5c964ae0e68bea068ccacde
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:34 2018 -0700

    There's no controller that's supported by both XInput and HIDAPI

commit ab07ce1166a54288a4a221485b57491542df1251
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:30 2018 -0700

    Don't update the device list for devices we know aren't supported
    This should reduce HID enumeration (hitting the USB bus) if for some reason we're getting spammed with false device insert/removal events

commit cf823094a20e6fa722b848b20cce8e716ba49ac5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:25 2018 -0700

    The MINIX NEO-U1 is now being reported as Android TV

commit 28e0c0eef7fbef44e985b01842fae65c9f5d1d73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:21 2018 -0700

    Sam Lantinga <slouken@libsdl.org> 2018-08-06 13:00 -0700
    Backed out changeset 794a209b2270
    http://hg.libsdl.org/SDL/rev/2e2ecdac957c

commit 25a952e76fac9a94cc5028237df19a968db7edab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:04:18 2018 -0700

    Sam Lantinga <slouken@libsdl.org> 2018-08-06 11:58 -0700
    Removed mapping for VID/PID 0x0079/0x0006, which is a generic PCB used in many different devices
    http://hg.libsdl.org/SDL/rev/794a209b2270

commit b37518b3d879deff21eadc13859d0f016f7876b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:03:55 2018 -0700

    SDL: disable HIDAPI in SDL on Windows/Mac.

commit 888bf1af69492fb5044a5a7082132e7e2ee0fdf3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:03:50 2018 -0700

    Worked around bug with Sony PS Now PS3 controller where DirectInput polling will continue to return success after the controller is unplugged.
    The code is now reliant on SDL_PrivateJoystickAdded() and SDL_PrivateJoystickRemoved() being called correctly when devices are added or removed on Windows

commit f35e97ba8add8beec1a9a3ca9707e96ec0b48b04
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:03:29 2018 -0700

    Fixed Windows build

commit d2042e1ed4e0808103168bf1bf2135601b969c4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 9 16:00:17 2018 -0700

    Added HIDAPI joystick drivers for more consistent support for Xbox, PS4 and Nintendo Switch Pro controller support across platforms.
    Added SDL_GameControllerRumble() and SDL_JoystickRumble() for simple force feedback outside of the SDL haptics API

commit ba90412cda5dd8a3c07030fce4c22fd78b206d3c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 8 15:39:20 2018 -0400

    libm: Don't let Visual Studio generate an implicit memset() call.

commit 4cb84b8f4bd447ba09f9d988a96b5f77ea25cfa7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 8 12:36:54 2018 -0400

    backout INFINITY change...of course Visual Studio doesn't have it.

commit 257071fc2038c8f093235e43df9766f1e741381f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 8 12:19:01 2018 -0400

    e_exp: One more compiler warning.

commit 550437edbed3dd6d24d7cef4447a95aef1310bbd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 8 12:13:56 2018 -0400

    libm: Fixed all static analysis warnings.

commit c0aa626ba3dd01c235cea1724792f48889d9a22f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 8 10:26:22 2018 -0400

    e_exp: Fixed compiler warning on Visual Studio.

commit 941c5b47605693412635a6376d4268fc40881134
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 7 18:07:11 2018 -0400

    haiku: Rename internal functions from BE_* to HAIKU_*
    
    Fixes Bugzilla #2349.

commit c0ac09edcc59aff759ac33b712986929ef8853a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 7 17:28:07 2018 -0400

    configure: Make wayland sources depend on generated headers.
    
    Otherwise occasionally the sources will try to compile before the headers it
    needs are generated.
    
    Fixes Bugzilla #3977.

commit f59b0056d30c6db928268703da8492a0aaed3608
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 7 16:56:46 2018 -0400

    evdev: On sudden termination, make sure keyboard isn't lost (thanks, Tadek!)
    
    "In release 2.0.6, when Linux evdev keyboard support has been moved to a
    separate source file, a feature was added to disable normal keyboard event
    processing to prevent "spilling" keystrokes to background virtual console.
    
    This feature has one unpleasant side effect: if application fails to call
    `SDL_Exit` before termination or crashes with fatal signal, console is left
    in unusable state with keyboard not working and no possibility to switch
    virtual console. If user has a chance, he can login remotely and restore
    keyboard with `kbd_mode`, otherwise the only option is to reboot the machine.
    
    This patch fixes that problem by intercepting fatal signals (with `sigaction`)
    and process termination (with `atexit`), to restore keyboard state, if it
    wasn't properly restored with `SDL_Exit`.
    
    The function registered with `atexit` also restores original signal handlers,
    to prevent leaving invalid handlers after SDL library is unloaded, if it was
    loaded dynamically with `dlopen`.
    
    No signal handlers or `atexit` function are installed if SDL boolean hint
    `SDL_HINT_NO_SIGNAL_HANDLERS` is `SDL_TRUE`.
    
    Additionally, if environment variable `SDL_INPUT_LINUX_KEEP_KBD` exists,
    keyboard initialization function completely skips disabling keyboard. This
    can be useful for debugging."
    
    Fixes Bugzilla #4193.

commit 623a6defd378cda35c2fb668cc9b734690164ebc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 7 16:49:18 2018 -0400

    alsa: optionally run entire pipeline non-blocking.

commit 56f44cfa0f52d72349d94fc03e19ec78f37c9330
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 7 13:04:15 2018 -0400

    audio: Deal with device shutdown more carefully.
    
    This would cause problems in various ways, but specifically triggers an
    assert when you close a WASAPI capture device in an app running over RDP.
    
    Related to (but not the actual bug) in Bugzilla #3924.

commit e714f6590ef4f8ad46243c511e5c0582ee4f732a
Author: Mai Lavelle <mai.lavelle@gmail.com>
Date:   Tue Aug 7 12:06:31 2018 -0400

    haptic: Fix initial detection of haptic devices on Linux system
    
    SDL_UDEV_Scan must be called during SDL_SYS_HapticInit to ensure devices
    outside of the 0-31 range are added to the list of haptic devices.
    
    Fixes Bugzilla #3923.

commit a37d3e0b1ec7c7494e95f5f33d2b004558c43e6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 6 13:00:11 2018 -0700

    Backed out changeset 794a209b2270
    It turns out the mapping is correct, just the name was confusing

commit cc682f201371402c445316f2a73c8ae02affa871
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 6 11:58:08 2018 -0700

    Removed mapping for VID/PID 0x0079/0x0006, which is a generic PCB used in many different devices
    
    Different device with same vid/pic that is kind of a Saitek shape:
    https://www.trust.com/en/product/17416-gxt-24-runa-compact-gamepad
    
    n64 with same ID
    https://bbs.archlinux.org/viewtopic.php?id=163488
    
    PS shaped with numbers for buttons
    https://pineight.com/mw/index.php?title=USB_game_controller#DragonRise_Inc._Generic_USB_Joystick
    
    fightstick with same vid/pid
    https://retropie.org.uk/forum/topic/7594/bartop-2-player-zero-delay-encoders-not-working

commit f45f33bdc0d031357c2264c6f6b9014e58571e49
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Aug 5 10:01:01 2018 +0300

    SDL_expf: return SDL_exp() instead of SDL_uclibc_exp() for consistency.

commit b4fe7412f931135071066b010d9ca13c2cfa2443
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Sat Aug 4 11:52:46 2018 -0400

    SDL_exp

commit 4d4bb2b0edbdaf87559c2f5c873425673099b1d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 2 16:21:43 2018 -0400

    cmake: use WINDOWS instead of WIN32.

commit e061a92dc954443cabd33613f7787498ca860d77
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 2 16:03:47 2018 -0400

    Some drag'and'drop improvements.
    
    First: disable d'n'd events by default; most apps don't need these at all, and
    if an app doesn't explicitly handle these, each drop on the window will cause
    a memory leak if the events are enabled. This follows the guidelines we have
    for SDL_TEXTINPUT events already.
    
    Second: when events are enabled or disabled, signal the video layer, as it
    might be able to inform the OS, causing UI changes or optimizations (for
    example, dropping a file icon on a Cocoa app that isn't accepting drops will
    cause macOS to show a rejection animation instead of the drop operation just
    vanishing into the ether, X11 might show a different cursor when dragging
    onto an accepting window, etc).
    
    Third: fill in the drop event details in the test library and enable the
    events in testwm.c for making sure this all works as expected.

commit 8f0cc4a4b75acebc5b684be29261335acbd37cd6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 22 19:42:08 2018 -0400

    Backed out changeset 2e42ec46061e.
    
    This change isn't correct. See comments in Bugzilla #4183.

commit 1089944bee3c4fe88d062d1c715a99906098710c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 22 19:40:42 2018 -0400

    libm: Fixed signature mismatches for __ieee754_rem_pio2 and __kernel_rem_pio2.
    
    Fixes Bugzilla #4201.

commit 862aa4b47d586efef87a2669016c3d2852982e94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 22 19:28:27 2018 -0400

    windows: Fixed some Visual Studio warnings about shadowed variables.
    
    Fixes Bugzilla #4118.

commit 3a11bba267ba54eb2cbfe2591271693707f9b1e3
Author: Vitaly Novichkov <admin@wohlnet.ru>
Date:   Fri Jun 29 18:29:17 2018 +0300

    Remove "lib" prefix from DLL file on MinGW builds
    
    closes bug #4209.

commit c3178e67ca80d905d1812265bd8459c90fdb486b
Author: Marc Di Luzio <marcdi@unity3d.com>
Date:   Thu Jul 12 16:52:45 2018 +0100

    Ensure we still clear the X locale modifiers even if not compiled with ibus or fcitx support

commit b5a420cb113beeb84b4aa02fe5d22b49722d598a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 13 17:53:24 2018 -0400

    dbus: Deal with undefined behavior with va_args.
    
    Parse out a copy of the varargs ourselves to get to the reply portion, since
    the original passed to D-Bus might modify or not modify the caller's copy,
    depending on system ABI.

commit fd8e8f9f20b84be71bbccfaeed5ebe841c7b9e1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 13 12:55:50 2018 -0700

    Clean up captured pointer code to avoid logcat clutter on pre-8.0 systems (thanks Rachel!)

commit df0d3f1364bdd9e32cc669148f89b78f9f31b8a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 12 13:28:15 2018 -0700

    More controller drivers support CARTESIAN coordinates.
    This fixes rumble on the Saitek Cyborg V.3 Rumble Pad

commit ff8c9538bcb7be6144f6bfe98a4e41879ce0c986
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 12 13:28:13 2018 -0700

    Allow trapping the back button so right mouse click can work on some Android systems (thanks Rachel!)
    Also, added a function SDL_AndroidBackButton() so applications can respond to the back button directly

commit c74837fbb9bb876bfa76f3abd9b378f94f20e01e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Jul 5 23:01:10 2018 +0300

    ltmain.sh: make OSX autofoo builds' compatibility version match Xcode builds.
    
    closes bug #4208.

commit ff8c62f2279cff22d3d703224fbdc5bb826d78f3
Author: Wohlstand <admin@wohlnet.ru>
Date:   Mon Jul 2 03:53:57 2018 +0300

    Fixed bug 4210 - SSE2-based converter makes junk result of S32 -> Float
    
    At the HG state abdd17144682, 64-bit assemblies are using SSE2-based resampler, produces junk sound when converting the S32 -> Float32 -> S16 chain. The `NEED_SCALAR_CONVERTER_FALLBACKS` thing works perfectly.
    
    If I will find a reason that caused this mistake, I'll send a patch by myself.

commit 507e271b3ef45d1be6e6d740f14453361acfa761
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jul 1 19:50:00 2018 +0300

    made the wasapi configury option consistent with others.

commit 885779162798221937faa5ec747e4ba1ced7dd74
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Jul 1 17:01:04 2018 +0300

    make WASAPI configurable in autofoo and cmake (default is on.)
    
    closes bug #3798.

commit 013b146de9e6cbf2a72efa04048d9cd760e89985
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 30 20:55:51 2018 +0300

    SDL_windowstaskdialog.h (struct _TASKDIALOGCONFIG): make unions anonymous
    
    otherwise build fails. (at least with my VS2005. and the code accesses the
    arms of the unions anonymously anyway.)

commit 949b8bd8c530679bcdaeae8e258212bc1250ff02
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 30 20:10:40 2018 +0300

    correct the comment correction..

commit 67f18a1973715c61f7d0eeed6e77943a1f44e08d
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 30 20:04:01 2018 +0300

    comment correction

commit cf7b94f292cf067c2fa58243ffc2c3adbd13f8db
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Jun 30 20:03:23 2018 +0300

    ran 'chmod -x' on two files

commit 7c2028f8e9cf96f8e246255c0998780f9b323c03
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 29 16:56:11 2018 -0400

    Attempt to fix "cast from pointer to integer of different size" warnings.

commit 52857de251d7b7f28d5113c518850b885b98c85c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 29 16:55:55 2018 -0400

    Corrected a comment.

commit 3b173f818d5c91bb978480666c4105f437235cff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 23:00:38 2018 -0400

    Patched to compile on Visual Studio (typo).

commit 58168a8c3c70527c9ed12e4e861a634fac05d55d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 16:34:16 2018 -0400

    atomic: Fight with all the assemblers that don't like REP NOP.  :/

commit 5f123e31a31f6315872b01f6b6cd8bdd1774e812
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 15:58:35 2018 -0400

    atomic: Spin locks now try to use the x86 PAUSE instruction for short waits.
    
    Fixes Bugzilla #4151.

commit 5a8ecf4e79c845560a0e83c9bef7e137844558a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 13:14:52 2018 -0400

    yuv: Patched to make static analysis happy (warned about unused variable).

commit 4773690d0fa6c2454af79f6ca0ea7bb81095b362
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 12:55:23 2018 -0400

    Deal with possible malloc(0) calls, as pointed out by static analysis.

commit 4f5bd53e8f4eb875a507797ca0e44e3c61a0b8d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 09:37:25 2018 -0700

    wayland: Keep protocol XML files in-tree.
    
    Now you don't need the latest Wayland installed to build with
    newer protocols supported, as they'll build correctly; even if
    your system can't use them, we can make intelligent decisions
    at runtime about what's available on the current machine anyhow.
    
    This also simplifies some logic and possible failure cases in
    the configure and CMake scripts.
    
    Fixes Bugzilla #4207.

commit 915a7e0341756e5fa1a823c5d6811bf57e555d47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 25 01:57:28 2018 -0400

    gles2: Whoops, overzealous copy/paste on my part.  :)

commit c8ac9096747f42f22a2b73d1eac3ff1236f0e9bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 24 22:42:36 2018 -0700

    wayland: Implemented xdg-wm-base support.
    
    This is just in parity with the existing zxdg-shell-unstable-v6 code. Making
    the Wayland target robust (and uh, with title bars) is going to take a lot
    of work on top of this.

commit e8237e2b02d11d7a6d9353106cce958a5749ed14
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 24 15:21:01 2018 -0400

    android: Android.mk should only preserve debug symbols in debug builds.
    
    Fixes Bugzilla #4111.

commit 0a7faa4ae54c0d4f355e3ee0f86fdcd4852f796a
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Fri May 4 21:58:39 2018 -0400

    Fix Linux haptic scaling, add 2.1 FIXME

commit de9f5415b368f03d2ce375a61fd41b3cb19dd5a6
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Aug 13 12:52:52 2018 -0400

    Filter both SIZE_CHANGED and RESIZED on any SIZE_CHANGED

commit 95579f5f19e524ea313b780a97bb28318d7c4f62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 1 09:40:58 2018 -0700

    Fixed bug 4220 - SDL_GL_CONTEXT_DEBUG_FLAG can fail silently on some Android devices

commit 48f7e7f34de4db74678b5717d4161b4b9a351d11
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 30 22:43:12 2018 -0700

    Corrected PS4 controller entry

commit f8b4cd410bf616083757d1221207434194e11dc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 30 19:53:26 2018 -0700

    Re-enable drag-and-drop events by default

commit fb485986eb64e01e6d60398ee1024d118bd3a698
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 30 11:26:41 2018 -0300

    macOS: Fix a crash when the video subsystem quits, if SDL_MAC_NO_SANDBOX was defined when SDL was compiled.

commit 56ec349d2aff14972f15e83a5e30de8c660386f7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 29 16:48:15 2018 -0400

    audio: disable NEON converters for now.
    
    To be revisited after 2.0.9 ships!
    
    (doesn't fix Bugzilla #4186, but stops the regression for the time being.)

commit e77ec8896974a37c172f765fffeef1ecdb85c2b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 29 02:14:46 2018 -0700

    Fixed tablet detection on Android

commit 35422bd893f17019cb9003b46cf44e92c15d82d6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 29 09:20:50 2018 +0300

    fix permissions

commit c17d62996fbbaf1fd041c60c27471c387f63b0cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 21:19:27 2018 -0700

    Mark a subsystem as dummy, not disabled, if it was intended to be compiled in.
    
    From Tom Black:
    
    I'm having problems initializing the sensor module. I'm compiling with a standard ./configure && make && sudo make install, and the module says it's enabled, but SDL_Init(SDL_INIT_EVERYTHING) is failing with SDL_GetError() returning "SDL not built with sensor support".

commit 14d2ec80e741ab6092f183f2707e10b2de920470
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 21:03:39 2018 -0700

    commit 8f4dedc039190f5e734c47dcc4fc021b5793b659
    Author: Micha? Janiszewski <janisozaur+signed@gmail.com>
    Date:   Fri Sep 28 20:38:04 2018 +0200
    
        CMake: fix building tests on Linux
    
        In case where libunwind.h has been found, it will be used by compiler,
        but linker wasn't updated to reflect use of this new library.

commit 9e8e0fb7b14034a19365f0d4c3b8c250cd441163
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 20:48:18 2018 -0700

    Fixed bug 4283 - SDL's version of memset is different from libc's
    
    janisozaur
    
    memset's documentation reads:
    
    * The memset() function shall copy c (converted to an unsigned char) into each of the first n bytes of the object pointed to by s. (http://pubs.opengroup.org/onlinepubs/9699919799/functions/memset.html)
    * Sets the first count characters of dest to the character c. (https://msdn.microsoft.com/en-us/library/1fdeehz6.aspx)
    * write a byte to a byte string (https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man3/memset.3.html)
    
    The highlight here is they all mean a single _byte_, even though memset receives a parameter of type int, which can hold more data than a single byte. SDL's implementation of memset, however, does not clear any of the higher bits, causing an erroneous behaviour when passed an argument bigger than 0xff.

commit 74638ea3c5b3f8c0fa3b2514b1b6b61483ceb216
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 20:39:57 2018 -0700

    Ensure we wait on the surface resize before returning from setting fullscreen mode.

commit 31596f23cec7f20e83e91f8cc8393c512a1d8a77
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 29 01:24:10 2018 +0300

    SDL_vsnprintf:  implemented '+' flag for signed integers printing.
    
    it is, of course, ignored for %u, %x, %o and %p.

commit 49803c8660d54ee795d5c4cfbd2a38f405f9bd71
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 29 00:51:24 2018 +0300

    SDL_vsnprintf: fix numerics if both zero-padding and a field are given.
    
    it used to place zeroes between the sign and the number. (space-padding
    from within SDL_PrintString() seems OK:  spaces are added before sign.)
    
    also fixed the maxlen handling if the number has a sign.

commit 5454765a2293863f0a3925ab7d2c710fbe481afd
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 17:01:24 2018 +0300

    replace bool stuff in controller_type.h with SDL_bool.
    
    remove bool<->SDL_bool dance in SDL_joystick.c:SDL_IsJoystickSteamController()
    after the controller_type.h change.

commit fde82e5972fdb072f4c31f068a075451d98af872
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 14:01:40 2018 +0300

    SDL_hidapi_ps4.c: add HAVE_ENDPOINTVOLUME_H check to win32 volume code.
    
    this makes it build with my old toolchain with mingw-w64 1.0.10 headers

commit cf7d64f2662cee538f0b5dce9fea926a45127e23
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 13:44:10 2018 +0300

    hidapi/windows/hid.c: comment out ntdef.h include after windows.h.
    
    not necessary and can cause redefinition errors in some toolchains.

commit b11c75e9f47823b41b356ac4ccd9d1afdddecbd1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 13:41:04 2018 +0300

    configury, cmake:  add check for endpointvolume.h :
    
    add HAVE_ENDPOINTVOLUME_H, HAVE_MMDEVICEAPI_H and HAVE_AUDIOCLIENT_H
    in SDL_config.h.in, SDL_config.h.cmake, SDL_config_windows.h, and in
    SDL_config_winrt.h.

commit cf7460e477dffa3c4addd8e9513b9b84b9cfe000
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 11:30:50 2018 +0300

    configury, cmake: make wasapi option independent of directx.

commit 9aa8a75d26547bb789f46a12ad1b67dabd60f5d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 01:18:54 2018 -0700

    Fixed building with Xcode 10.0

commit 283680f2c1ecaff1779e6e60c1fdec4764e1ac61
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 28 11:04:55 2018 +0300

    hidapi/windows/hid.c: fix misplaced #if 0
    
    VendorID && ProductID are only used by the test main(),
    otherwise they are unwanted globals.

commit f964ce03b4d77a0b74cb50d8c5b409c9c9395d98
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 01:00:47 2018 -0700

    Fixed mingw-w64 build

commit 20dfda44894cb8871fd13c7e2d70b8ef1eb947ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 28 00:40:35 2018 -0700

    Fixed mingw-w64 build

commit 88f9f0307dfae9523f00c15f57c1d57f01f259be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 27 23:54:40 2018 -0700

    Added patch notes for SDL 2.0.9

commit 7df0f4fdacea9ba2d7184738522f6e31c4260d60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 27 14:56:29 2018 -0700

    Fixed bug 4277 - warnings patch
    
    Sylvain
    
    Patch a few warnings when using:
    -Wmissing-prototypes -Wdocumentation -Wdocumentation-unknown-command
    
    They are automatically enabled with -Wall

commit d9fb77a3c196e4091e9150df3c4cfca4d7e8a372
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 27 11:55:02 2018 +0300

    SDL_atomic.c, SDL_spinlock.c: use lock prefix with xchg in Watcom asm.

commit bb5516ac8edcd52edb41e216ebb496983fd4ff8e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 27 09:37:36 2018 +0300

    SDL_vsnprintf() updates for zero-padding:
    
    - remove force-enabling of pad_zeroes for %u for compatibility
     (was added in https://hg.libsdl.org/SDL/rev/701f4a25df89)
    - ignore pad_zeroes for %s and %S
    - ignore pad_zeroes for %d, %i and %u if a precision is given

commit 7689162ca0a35f8bf60cad46d7dc4bef49548b6c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 26 20:10:32 2018 -0400

    cocoa: Force an OpenGL context update when the window becomes key.
    
    Fixes missing rendering on macOS 10.14 ("Mojave").
    
    Fixes Bugzilla #4272.

commit 6eeb8593ba8eb46fe37d1345587e3563e4c54f57
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 27 01:10:50 2018 +0300

    SDL_string.c (SDL_PrintString): avoid MSVC signed/unsigned mismatch warning

commit 5342ae2bba2957793db2eea716746f9df4681d8e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 27 01:00:50 2018 +0300

    SDL_string.c (SDL_IntPrecisionAdjust): avoid MSVC generating a memset()

commit d2131ac16554582a4952e8064a2f0feda3ad2404
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Sep 27 00:32:15 2018 +0300

    SDL_vsnprintf: implement precision for the integral value printers.

commit 55b24b93b406d8213e7eaa7c0b319f138225c9c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 26 11:17:43 2018 -0700

    Fixed bug 4265 - SDL window falls to the bottom of the screen when dragged down and stuck there
    
    Alexei
    
    On WM_WINDOWPOSCHANGED event, WIN_UpdateClipCursor() is called. SDL_WINDOW_INPUT_FOCUS is set even when the mouse pointer is not inside the SDL window and therefore ClipCursor(&rect) is called. When dragging the window and rect.bottom=800 (i.e. the bottom edge of the screen) the SDL window is clipped to the bottom of the screen and it is not possible to move it back to the center of the screen.

commit ffc19ee25551f6ec807831805ee22d7b038a08fa
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 26 20:47:34 2018 +0300

    SDL_string.c: added comments to three SDL_FormatInfo members.

commit bc6c1997904f1e5cf69113d35b05da1e9de66c9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 26 10:08:14 2018 -0700

    Updated version to 2.0.9

commit 8743e9759e82bc07f19ee64fbb610d76da02f6d9
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 26 17:11:40 2018 +0300

    SDL_vsnprintf: when '.' is specified, take precision as 0 if it is < 0.

commit 69ab8541a912fcd3bcec9b084dda3b611ab8b9d1
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 26 10:40:02 2018 +0300

    SDL_vsnprintf: string printer now honors the precision. (bug #4263.)

commit d0e9a364608a9ff12d16fcaf8fb7119bc775715f
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Sep 26 10:38:40 2018 +0300

    SDL_vsnprintf:  %.* and %* now parse precision and width. (bug #4263.)

commit d40657bfc99f461557116c98b4fe7c40cbe60de3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 25 20:11:52 2018 -0700

    Fixed bug 4270 - Android HIDDeviceManager function needs to be public
    
    Sylvain
    
    Can't run an android app without declaring the JNI interface function as public.

commit e236e8435a85862265c039cdc06f701520497ff9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 25 20:08:51 2018 -0700

    Fixed bug 4268 - Android_JNI_OpenAudioDevice function has error
    
    alittle
    
    where iscapture == 1
    
    1.param set error
    
    (*env)->CallStaticIntMethod(env, mAudioManagerClass, midCaptureOpen, sampleRate, audioBuffer16Bit, audioBufferStereo, desiredBufferFrames)
    
    param:audioBuffer16Bit need change to captureBuffer16Bit
    
    2.logic error
    
    if (is16Bit) {
            // ALITTLE Modify the source code
            if (iscapture) {
                audioBufferFrames = (*env)->GetArrayLength(env, (jshortArray)captureBuffer);
            } else {
                audioBufferPinned = (*env)->GetShortArrayElements(env, (jshortArray)audioBuffer, &isCopy);
                audioBufferFrames = (*env)->GetArrayLength(env, (jshortArray)audioBuffer);
            }
            // if (!iscapture) {
            //     audioBufferPinned = (*env)->GetShortArrayElements(env, (jshortArray)audioBuffer, &isCopy);
            // }
            // audioBufferFrames = (*env)->GetArrayLength(env, (jshortArray)audioBuffer);
        } else {
            // ALITTLE Modify the source code
            if (iscapture) {
                audioBufferFrames = (*env)->GetArrayLength(env, (jbyteArray)captureBuffer);
            } else {
                audioBufferPinned = (*env)->GetByteArrayElements(env, (jbyteArray)audioBuffer, &isCopy);
                audioBufferFrames = (*env)->GetArrayLength(env, (jbyteArray)audioBuffer);
            }
            // if (!iscapture) {
            //     audioBufferPinned = (*env)->GetByteArrayElements(env, (jbyteArray)audioBuffer, &isCopy);
            // }
            // audioBufferFrames = (*env)->GetArrayLength(env, (jbyteArray)audioBuffer);
        }

commit 60afec79bf7828d451d7d73a221b42bb835a21a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 25 19:53:16 2018 -0700

    Removed redundant SDL_GetColorKey() call. (thanks Sylvain!)

commit 7f9854b9b2177dea32eb5d2f4434609ea5dd58d5
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Sep 25 01:45:12 2018 -0400

    WinRT: Wait until audio device activation is complete and PrepDevice during OpenAudio

commit aa9683bb6fe21f1ae328b2016b604d02d445871e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 25 19:41:33 2018 -0700

    Added 8bitdo SF 30 PRO controller support for Linux / DInput mode (thanks Frank Hartung)

commit fb0e68ae0f01fa951a8481d4a1f893d4cec1a6a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 25 08:23:57 2018 -0700

    Fixed building with newer Android NDK

commit 870c44bfed01542b36aaa205d34f19245bb7ad88
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Sep 25 09:20:56 2018 +0300

    safer this way, just in case..

commit da89b81c3c8328c9545189e4496e8053e49bb2da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 20:31:24 2018 -0700

    Fixed rare null pointer dereference

commit ef34704875475eb39e31131449169af33e7a77e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 16:41:55 2018 -0700

    Fixed bug 4264 - SDL_CreateTextureFromSurface generates error message but returns ok
    
    Anthony @ POW Games
    
    SDL_CreateTextureFromSurface makes an internal call to SDL_GetColorKey which can return an error and spams the error log with "Surface doesn't have a colorkey" even though the original function didn't return an error.

commit cd90e2ca58fa485d456532ab420e25120296c462
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 16:33:14 2018 -0700

    Fixed bug 4267 - linkage failure with --enable-hidapi because of missing libudev symbols
    
    Ozkan Sezer
    
    hidapi dynamic udev initial patch

commit e0fe8f3cb3864de60273535431e8276df00fdaf4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 11:53:04 2018 -0700

    Support relative mouse for Samsung DeX on Samsung Experience 9.5 or later (Android 8.1 or later)

commit 5febdfcece40145f8394e6fe676db9436c6394df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 11:49:25 2018 -0700

    Fixed whitespace

commit 58021b3834fcb32b0ece202753a6163d4c80d767
Author: Drew Pirrone-Brusse <drew.pirrone.brusse@gmail.com>
Date:   Sat Aug 18 17:23:40 2018 -0400

    Correct the name of the SDL shared library in CMake for Mac OS

commit 8aaef4b914f6ca68cc9e963dd8c8cc066da1603e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 24 08:41:59 2018 -0700

    Fixed bug 3166 - It would be nice, if SDL would support including SDL project as a subdirectory into another CMake project
    
    Wayde Reitsma
    
    After attempting to use SDL2 in the way described in this bug, I found the main issue was the includes not being added to the compiler command.
    
    I found the issue was that the target_include_directories commands for the SDL2, SDL2-static and SDL2main targets only sets the public includes for installations using the INSTALL_INTERFACE generator expression.
    
    I have written a patch to CMakeLists.txt that fixes this issue by adding another item to the target_include_directories commands, utilizing the BUILD_INTERFACE generator expression to correctly add the include directory during builds.

commit d07fe7ad95e431be9135e90d5e26d25a4099e3a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 21 09:41:21 2018 -0700

    Removed button logging message

commit e8b0859f17b01ec501c7aa20b977c760f064ddac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 20 15:55:52 2018 -0700

    Added missing call to WindowsDeleteString()

commit 600126c90e8c4a1bd99c1557a7e37622f17d0b38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 19 10:03:40 2018 -0700

    Added experimental support for Windows.Gaming.Input

commit c19516b50cda2e8db43f1e248798dfee49e90c7c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 18 11:49:42 2018 -0400

    cmake: correctly report Vulkan support at configure time (thanks, Tiago!).
    
    Fixes Bugzilla #4262.

commit c179d3948aef44e163c3a5684ee64fa00c0964e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 17 12:08:05 2018 -0700

    Fixed NullPointerException if there's no singleton

commit f6a537cbfa2cd01dce08e05b69a7f6281e6d0e68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 17 11:35:24 2018 -0700

    Store the API device refcount on the device itself, so if the device is disconnected and we have multiple application references to it, we only free it once.

commit 59a2d12cc34e912c7ed1bfa9a3019b2dd5f6f436
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 17 11:35:22 2018 -0700

    Fixed creating an Android game controller mapping for HIDAPI devices on initialization

commit 305e5968aa6a39ab78c13383a43aa39857c7644a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 15 14:28:10 2018 +0300

    do not export hidapi symbols from SDL dlls (bug #4259).

commit 5a34f1e3ee34fbc4b5668122655538953c2e2be6
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 15 09:24:04 2018 +0300

    acinclude: rename ax_gcc_x86_cpuid.m4.htm to ax_gcc_x86_cpuid.m4

commit bab5b0843730c6b479a4ba712f43767fc76ce3ba
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sat Sep 15 08:11:50 2018 +0300

    fix permissions

commit 6b3e893105e5775e3f0792d7d2d8921ee0144012
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 14 19:26:26 2018 -0700

    Added hints  SDL_HINT_MOUSE_DOUBLE_CLICK_TIME and SDL_HINT_MOUSE_DOUBLE_CLICK_RADIUS to allow tuning double-click sensitivity.
    Also increased the default double-click radius to 32 pixels to be more forgiving for touch interfaces

commit 66294d31dfc23bf621febc649081078669a2f2c5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 14 18:31:03 2018 -0700

    Guard against Steam Controller input when we're shutting down.

commit e8a0e35e24a4259e5d68a0f24f0994e20a81a457
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 14 18:31:01 2018 -0700

    Use atomic reference counting for the HID device object

commit 6a7b0c27afd943313f4c0d4c2596d4fc5ee4e54f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 14 12:41:29 2018 -0700

    Fixed crash launching under Steam on Mac OS X

commit 0b3a350c903c2bde462328642f03b4a0ab112b42
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 10 23:01:33 2018 -0700

    Fixed Chinese IME support (thanks ???!)

commit af823cc1d95704cf6b3f9f39a62c460041ef0886
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 10 23:00:09 2018 -0700

    Fixed building on tvOS

commit 63848141c1a44bbe45d603b2df1f9f6f5b0286f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 10 22:59:49 2018 -0700

    Fixed building on tvOS without any sensor support

commit 33381d3d10852f9997251c7517c7805198dcf27c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 7 11:03:24 2018 +0300

    hidapi/SDL_hidapijoystick.c: fix build in C90 mode:
    
    src/joystick/hidapi/SDL_hidapijoystick.c: In function 'HIDAPI_InitializeDiscovery':
    src/joystick/hidapi/SDL_hidapijoystick.c:281: error: 'true' undeclared (first use in this function)
    src/joystick/hidapi/SDL_hidapijoystick.c:281: error: (Each undeclared identifier is reported only once
    src/joystick/hidapi/SDL_hidapijoystick.c:281: error: for each function it appears in.)
    src/joystick/hidapi/SDL_hidapijoystick.c: In function 'HIDAPI_UpdateDiscovery':
    src/joystick/hidapi/SDL_hidapijoystick.c:339: error: 'true' undeclared (first use in this function)
    src/joystick/hidapi/SDL_hidapijoystick.c:341: error: ISO C90 forbids mixed declarations and code

commit afc1738ecb4a0c44a635bae42f51ce3cfbfc4e1c
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Sep 7 10:47:50 2018 +0300

    SDL_sensor.h, SDL_video.h: remove comma at end of enumerator lists.
    
    Avoids gcc -pedantic warnings, closes bug #4253.

commit c591429542f429aac4979fb6ae9bbe024491a1f1
Author: Anthony Pesch <inolen@gmail.com>
Date:   Fri May 4 21:21:32 2018 -0400

    alsa: avoid hardware parameters with an excessive number of periods.
    
    The previous code attempted to use set_buffer_size / set_period_size
    discretely, favoring the parameters which generated a buffer size that was
    exactly 2x the requested buffer size. This solution ultimately prioritizes
    only the buffer size, which comes at a large performance cost on some machines
    where this results in an excessive number of periods. In my case, for a 4096
    sample buffer, this configured the device to use 37 periods with a period size
    of 221 samples and a buffer size of 8192 samples. With 37 periods, the SDL
    Audio thread was consuming 25% of the CPU.
    
    This code has been refactored to use set_period_size and set_buffer_size
    together. set_period_size is called first to attempt to set the period to
    exactly match the requested buffer size, and set_buffer_size is called second
    to further refine the parameters to attempt to use only 2 periods. The
    fundamental change here is that the period size / count won't go to extreme
    values if the buffer size can't be exactly matched, the buffer size should
    instead just increase to the next closest multiple of the target period size
    that is supported. After changing this, for a 4096 sample buffer, the device
    is configured to use 3 periods with a period size of 4096 samples and a buffer
    size of 12288 samples. With only 3 periods, the SDL Audio thread doesn't even
    show up when profiling.
    
    Fixes Bugzilla #4156.

commit c70db0cabf7e32fd13b4bd2d3f59dfbd66aa1d39
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 24 15:12:18 2018 -0400

    cmake: Look in popular places for X11 headers, export this info properly.
    
    Fixes CMake not being able to find X11 on FreeBSD (which generally has the
    headers in /usr/local/include/X11).
    
    List of other popular places borrowed from CMake's FindX11 module.
    
    This worked on the configure script because of magic in the AC_PATH_X macro.
    
    Fixes Bugzilla #4815.

commit 59574fe2f0a7b2a189f1129abcc83d306cfdf830
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 24 13:57:22 2018 -0400

    x11: Normalize x11xinput2 touch x to be 1.0 at width (thanks, Zach!).
    
    "Applications (such as SDL's testgesture) do "event.tfinger.x * window_width"
    to find window coord. Currently the X11 XInput2 backend expects application
    to do "event.tfinger.x * (window_width-1)" instead.
    
    X11 XInput2 touch events are normalized so x is 1.0 at "width - 1" but other
    SDL backends appear to have x be 1.0 at "width". Same issue for touch event
    y with regards to height."
    
    Fixes Bugzilla #4183.

commit fe6828272a7983662ec36881aa132ab797269c67
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:   Thu Jun 14 06:12:12 2018 +0000

    egl: Don't change context when deleting current.
    
    If we change the current context behind the app's back, those tracking
    the current context to minimize context changes are going to get
    confused.
    
    This brings the EGL backend in line with the GLX one.
    
    Fixes Bugzilla #4199.

commit 5308a245a45451823af32e4fe28a885bd3320b66
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 24 12:16:58 2018 -0400

    Fixed some possible malloc(0) calls reported by static analysis.

commit 88dfa46644b2f2651b20fff182957faa6474c795
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 18 13:14:04 2018 -0700

    Use a blank cursor instead of PointerIcon.TYPE_NULL since that shows the default cursor on Samsung DeX

commit a515853569d2ca38235bec75f3ec9f0d6aa084cb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 18 13:14:02 2018 -0700

    Added support for external mouse in Samsung DeX mode
    relative mode doesn't work, but absolute coordinates are functional

commit f1d8f5f7fd9312248b2ffb45fd25cdaf50fb6b2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 18 13:14:00 2018 -0700

    Make certain we only hide system UI when we're fullscreen for real. (thanks Rachel!)

commit 8b574dc43cbc2f6be307945e328f5e5122a75e6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 18 13:13:58 2018 -0700

    Deal with situations where the system UI is shown when the keyboard pops up (thanks Rachel!)

commit 74ec7cabdbbac7ad20335b894e80b15e58133241
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 18 13:13:56 2018 -0700

    Fixed race condition where Android touch events could get scaled by a render target's viewport

commit 9924a8e392a7d69c4f98d0e570e552ccf2a9e809
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 14 00:51:45 2018 -0700

    Fixed bug 4094 - No SDL_TEXTEDITING after pressing Alt key on Raspberry Pi Linux
    
    This was reproducible by running an SDL app on the console from an ssh login. In this case the terminal wasn't owned by the user running the app, so we were using the default keymap, which didn't have state transitions defined for ctrl and alt, so once we entered that state keypresses would no longer transition out of that state, nor would they generate text.
    
    As a workaround, we'll just reset to the default shift state if that happens, which means we'll get text for keys pressed while ctrl is held down, but I don't think that's a big problem.
    
    Note that in this case we also can't mute the keyboard, so the keypresses go to the console, which probably isn't what you want...

commit 12ff19c035cfbc50abbe4ed2a430682d61862c2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 13 14:24:30 2018 -0700

    SDL Android fullscreen code extensively tested on Steam Link with no issues reported

commit 08de74ec491ac173016c9367c5aeabd39b38de47
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jun 13 14:45:02 2018 +0300

    use the 'aborts' pragma of Watcom for SDL_NORETURN functions
    SDL_ExitProcess(), SDL_AbortAssertion() and SDLTest_BailOut().
    
    (Commit 303c1e0fb0cf for bug #4100 removed SDL_NORETURN from
    SDL_ExitProcess() and SDL_AbortAssertion() in order to avoid
    warnings from windows builds, but that's temporary I guess..)

commit 4a4bac95eb72d90d8dc247702749f51e18d2d407
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 12 13:22:58 2018 -0700

    Deal with fullscreen limitations under windowed Android environments (Chromebook, DeX, etc.) (Thanks Rachel!)

commit 41da7b79c0bfb1d6a34eec50313b3e937e600a86
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Tue Jun 12 14:00:15 2018 +0300

    ran 'chmod -x' on many files

commit 864b8f89faacb8da449ca724a8573d5d2119f4b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 12 01:04:26 2018 -0700

    Merged in community contributed controller mappings from https://raw.githubusercontent.com/gabomdq/SDL_GameControllerDB/master/gamecontrollerdb.txt

commit 12059782447ea97b38b41bb7bc06c15c75c94564
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 12 00:18:10 2018 -0700

    Added common controllers used with Steam Big Picture
    
    These are entirely untested
    Several USB ids refer to multiple packaged products. In those cases I tried to use the most common name, or a general name (e.g. PS3 Controller), or a completely generic name (e.g. USB gamepad) if it wasn't clear what type of controller it was.
    Patches welcome!

commit 63317dfb1724e0ad0c63a5459e9441c0fa721a34
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 7 17:07:05 2018 -0700

    Don't crash on exit from SDLActivity if we don't have a singleton for some reason. (Thanks Rachel!)

commit fe196db774beb9371522c812dbb7d57c57921c3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 7 17:07:03 2018 -0700

    Track android device panel width & height as well as window surface & height.
    
    Expand SDLActivity::SDLSurface::surfaceChanged() callback to grab the panel width and height at the same time and pass that along to the native code. Only works on API 17+. Duplicates surface dimensions whenever it fails.
    
    Add Android_DeviceWidth/Android_DeviceHeight globals to native code.
    Disambiguate Android_ScreenWidth/Android_ScreenHeight -> Android_SurfaceWidth/Android_SurfaceHeight
    Use device width/height for all display mode settings.

commit db86e7a63355ee89ed083599bd4fb778bc64c083
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 7 10:54:54 2018 -0700

    Added support for the PS3 controller driver in PlayStation Now

commit 77709aecc7f14740ca1e4d0722941dc11fdf474a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 6 09:42:12 2018 -0700

    Added Android hardware feature support to the default manifest

commit 7c5f3cf3cb8b4b270dba815857564605a358ed5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 5 14:08:39 2018 -0700

    Added improved mouse pointer capture under API 26. (Thanks Rachel!)

commit 113801b790f7cf9a822e761c13ef359ec91756fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 5 12:46:13 2018 -0700

    Added SDL_IsChromebook() to determine if we're running on a Chromebook.

commit 2dedbc72626453587606f096f886d76f09775378
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 5 12:46:11 2018 -0700

    Add Android support for relative mouse mode to SDL.

commit 9d6ac3deff1c71fe140d51dff117cddc1672f560
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 5 12:46:09 2018 -0700

    Fix creating a minimized window in SDL to not cause focus to be stolen (because ShowWindow( hwnd, SW_MINIMIZE ) would be called after creation, thus changing focus to the prior window based on some per-app list in windows, rather than the window being created with WS_MINIMIZED to start with).
    
    This means we have to consider SDL_WINDOW_MINIMIZED a window creation flag, but on non-windows platforms we just remove it and let the normal FinishWindowCreation re-apply and do the minimize as I have no idea what is right on them or if anything should change.
    
    CR: Phil

commit 1d25135b71b53282e9513eda590ff51759d1528b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 1 19:43:53 2018 -0700

    Fixed bug 4184 - jack audio driver fails in presence of midi ports
    
    Martin ?irokov
    
    Launching an SDL application with SDL_AUDIODRIVER=jack, and then calling SDL_OpenAudioDevice() with whatever parameters fails with an error like this one:
    
    SDL_OpenAudioDevice: Couldn't connect JACK ports: SDL:sdl_jack_output_0 => system:midi_playback_1
    
    This happens because JACK_OpenDevice in src/audio/jack/SDL_jackaudio.c blindly tries to connect to all input ports without checking whether they are for audio or midi.
    
    The fix is to check port types and ignore all non audio ports. Also I removed devports field from struct SDL_PrivateAudioData, because it's never really used and removing unused ports from it would be PITA.

commit 03ff7dcf6b3f8ea80ea76379e34f9bcc01832a2c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 29 11:18:01 2018 -0700

    Added support for Android relative mouse mode on API 24 and above

commit ff6aebc4a14593715cb811ccbca48458e8a7837f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 29 08:03:44 2018 -0700

    Added a new GUID for DS3 controller connected over bluetooth, for both Sony and Shanwan (thanks William!)

commit 3d3870982c9ab19fa2cf9cf2334a45df26304a9a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 27 20:30:03 2018 -0400

    metal: contrary to documentation, we need to set the drawableSize explicitly.
    
    Fixes Bugzilla #4149.

commit 8325df25aa630d800eb51986e3b25d3ef23416d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 24 07:30:24 2018 -0700

    Fixed bug 4169 - Crash due to audio session observer race condition
    
    Jona
    
    The following explains why this bug was happening:
    This crash was caused because the audio session was being set as active [session setActive:YES error:&err] when the audio device was actually being CLOSED. Certain cases the audio session being set to active would fail and the method would return right away. Because of the way the error was handled we never removed the SDLInterruptionListener thus leaking it. Later when an interruption was received the THIS_ object would contain a pointer to an already released device causing the crash.
    
    The fix:
    When only one device remained open and it was being closed we needed to set the audio session as NOT active and completely ignore the returned error to successfully release the SDLInterruptionListener. I think the user assumed that the open_playback_devices and open_capture_devices would equal 0 when all of them where closed but the truth is that at the end of the closing process that the open devices count is decremented.

commit b3173d9d3bedcf8e7aaf228a4aca70020bb75524
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 23 17:15:37 2018 -0700

    Added support for the NVIDIA SHIELD handheld gaming device

commit 5d1d035705d5cd294b0005c80ea18615ec4440f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 23 17:15:35 2018 -0700

    Better fix for axis sorting with some Android controllers

commit 361043a5f6b9b2d2693a553a80a3e56d463631e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 23 17:15:33 2018 -0700

    Actually left trigger is motion axis 17 and right trigger is motion axis 18, which will map in that order to SDL axes.

commit 4d9a346927caae67f8e5f1a465914c389dc062e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 23 16:00:21 2018 -0700

    Added additional supported Android controllers

commit c07656dbcbd07b837e1e8d18096f947baba1ef28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 23 16:00:19 2018 -0700

    Fixed default mapping for Android controller triggers (they were reversed)

commit 101544d6f038234d4e7a421c6a6bc853695760db
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 21 12:05:17 2018 -0400

    audio: Needed to fix two more instances for Visual Studio.

commit 0ad4b0b697149d59f00ebe43289a76b410798552
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 21 12:00:21 2018 -0400

    thread: fixed compiler warnings on non-Linux systems that use pthread.
    
    (static function rtkit_setpriority was unused, moved it in with rest of
    __LINUX__ section.)

commit 49881861b14b73a405868b019ccf0a3cda233291
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 21 11:54:09 2018 -0400

    audio: Patched to compile on Visual Studio.
    
    (It gets upset at the -2147483648, thinking this should be an unsigned value
    because 2147483648 is too large for an int32, so the negative sign upsets the
    compiler.)

commit b7e88aaae0813cebea334fe6715980c74dbd97b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 16 02:03:06 2018 -0400

    audio: Added ARM NEON versions of audio converters.
    
    These are _much_ faster than the scalar equivalents on the Raspberry Pi that
    I tested on. Often 3x to 4x as fast!

commit cb0e614fb109352c0641b2a7fb5fee26173cd577
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 15 02:29:35 2018 -0400

    audio: SSE2 float-to-int converters should clamp input.
    
    The scalar versions already do this.

commit a07e5815a513af507cad28a6df56e415569ef25f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 15 01:40:05 2018 -0400

    audio: Fix range on float-to-int data clamping.
    
    I can't tell if there was a good reason for this or it was just me getting
    numbers wrong due to exhaustion.

commit 7832cb652e852bb40547d810b511e5eb05ae05a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 15 01:35:53 2018 -0400

    audio: float to int converters should clamp inclusively.
    
    If we have to test if a sample is > 1.0f anyhow, we might as well use this
    to avoid the unnecessary multiplication when it's == 1.0f, too. (etc).

commit ed4fe4c9a0fff29d10bdc57550be5846111ad925
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 15 00:04:02 2018 -0400

    testresample: correctly output .wav files that have floating point audio.

commit e2ec1eb12ef20b2fb6a496d93837009d168b11b9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 15 01:04:11 2018 -0400

    audio: converting int32 to/from float shouldn't use doubles.
    
    The concern is that a massive int sample, like 0x7FFFFFFF, won't fit in a
    float32, which doesn't have enough bits to hold a whole number this large,
    just to divide it to get a value between 0 and 1.
    Previously we would convert to double, to get more bits, do the division, and
    cast back to a float, but this is expensive.
    
    Casting to double is more accurate, but it's 2x to 3x slower. Shifting out
    the least significant byte of an int32, so it'll definitely fit in a float,
    and dividing by 0x7FFFFF is still accurate to about 5 decimal places, and the
    difference doesn't appear to be perceptable.

commit 4df859c58609f7814027e8ccd52d40eb20b4d565
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 21 11:35:42 2018 -0400

    cpuinfo: Added SDL_HasAVX512F().
    
    This checks for the "foundation" AVX-512 instructions (that all AVX-512
    compatible CPUs support).

commit 4718791f11926cf59e3ba782a93a5dc9460735fb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 14 00:03:39 2018 -0400

    cpuinfo: Make CPU flags easier to read and add to.

commit 8543ad7df119bc786ae2e0ea50f967e8a3204769
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 21 11:34:57 2018 -0400

    cpuinfo: Added some internal SIMD-aligned allocation functions.
    
    Fixes Bugzilla #4150 (sort of).

commit 999af8099b5d9dc98602f91e8e224ff33e333a64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 18 13:09:30 2018 -0700

    Merged latest changes from Steam Link app

commit e2619f1dcf6b2749be08f17164c4b50e6924f987
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 17 12:50:46 2018 -0400

    dynapi: don't let system loader resolve the initializer to the wrong version.
    
    Fixes problems launching Firewatch on Linux (which statically links SDL but
    also dynamically loads a system-wide copy from a plugin shared library) with
    a newer SDL build.

commit 425149f47b7b0cfc1a80b5ea47ab7a2c3aa9e6db
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri May 11 09:37:00 2018 +0300

    remove testvulkan.vcproj (was a VS2008 left-over.)

commit 652d59fb3bcd761e548db4027a77e651cafbe59a
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 10 09:02:39 2018 +0300

    make sure SDL_vsnprintf() nul terminates if it is using _vsnprintf
    
    The change makes sure that SDL_vsnprintf() nul terminates if it is
    using _vsnprintf() for the job.
    
    I made this patch for Watcom, whose _vsnprintf() doesn't guarantee
    nul termination.  The preprocessor check can be extended to windows
    in general too, if required.
    
    Closes bug #3769.

commit c11ae93aed14965873feb59ba1d3ac3cb5c3af84
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 10 08:28:00 2018 +0300

    SDL_stdinc.h: move the alloca() includes before begin_code.h

commit fe032ff4c998236d5d52d29b2fdf8899d4525630
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu May 10 08:25:23 2018 +0300

    do the direct3d tap dance for overscan hint only if SDL_VIDEO_RENDER_D3D == 1

commit a4d0571e4a5b7781da7ba4a2b640d263ac795277
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 7 20:10:12 2018 -0700

    Reverted change for bug 4152 - restrict the win10 mouse bug workaround to win10 v1709 only
    
    Daniel Gibson
    
    Sorry, but it seems like Microsoft didn't fix the issue properly.
    
    I just updated my Win10 machine, it now is Version 1803, Build 17134.1
    
    I tested with SDL2 2.0.7 (my workaround was released with 2.0.8) and still got
    lots of events that directly undid the prior "real" events - just like before.
    (See simple testcase in attachement)
    By default it sets SDL_HINT_MOUSE_RELATIVE_MODE_WARP - which triggered (and on my machine still triggers) the buggy behavior. You can start it with -raw, then it'll not set that hint and the events will be as expected.
    The easiest way to see the difference is looking at the window title, which shows accumulated X and Y values: If you just move your mouse to the right, in -raw mode the number just increases. In non-raw mode (using mouse warping) it stays around 0.
    
    I also had a WinAPI-only testcase: https://gist.github.com/DanielGibson/b5b033c67b9137f0280af9fc53352c68
    It just calls SetCursorPos(320,240); on each WM_MOUSEMOVE event, and it also
    logs all those events to a mouseevents.log textfile.
    This log indeed looks a bit different since the latest Win10 update: It seems like all those events with x=320 y=240 do arrive - but only after I stopped moving the mouse - even though the cursor seems to be moved back every frame (or so).
    So moving the mouse to the right gives X coordinates like
    330, 325, 333, 340, 330, ...
    and then when stopping movement I get lots of events with X coordinate 320

commit eb14b635cdd956d83d96e3dca56c796b1edaff3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 7 19:52:25 2018 -0700

    Fixed bug 4134 - Render targets lose scale quality after minimizing a fullscreen window
    
    Olli-Samuli Lehmus
    
    If one creates a window with the SDL_WINDOW_FULLSCREEN_DESKTOP flag, and creates a render target with SDL_SetHint(SDL_HINT_RENDER_SCALE_QUALITY, "linear"), and afterwards sets SDL_SetHint(SDL_HINT_RENDER_SCALE_QUALITY, "nearest"), after minimizing the window, the scale quality hint is lost on the render target. Textures however do keep their interpolation modes.

commit c04dca0dad2696d7dcd51427c8183b19ebff8a60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 7 19:26:02 2018 -0700

    Fixed bug 4159 - Windows headers are included after packing alignment change
    
    lectem
    
    The SDL_syswm.h header includes the windows.h header after including begin_code.h which changes the structure packing alignment.
    
    It seems this is not safe as suggested by the following warning :
    warning C4121: 'JOBOBJECT_IO_RATE_CONTROL_INFORMATION_NATIVE_V2': alignment of a member was sensitive to packing

commit 0bade9b411c71b21a449a0e493247dfa0a97d86a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 5 10:31:03 2018 -0700

    Fixed bug 4154 - Fix three empty variable tests in configure
    
    Zack Middleton
    
    Running top-level SDL configure on macOS 10.11 resulted in the errors below because automake removed the brackets about the tests.
    
    ./configure: line 15756: : command not found
    ./configure: line 15759: -Iinclude -I/Users/zack/SDL/include -idirafter /Users/zack/SDL/src/video/khronos : No such file or directory
    ./configure: line 15763: : command not found

commit 606c5a585c317a39199f710ef7d099f0f0ab11b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 5 10:27:53 2018 -0700

    Fixed bug 4152 - Windows 10 v1803 update seems to have fixed the jumping mouse bug (see bug #3931.)

commit 386790efbf2fdb7435807a1ebe02c08077f637fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 22:29:14 2018 -0700

    Improved error messages when Vulkan isn't configured (thanks Daniel Gibson!)

commit 8f780e76e16400408d5a1ad4badf2e4232b838e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 22:17:56 2018 -0700

    Fixed build

commit f521b22eb509b3f436b9af9441185430a7627d1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 22:07:56 2018 -0700

    Added SDL_THREAD_PRIORITY_TIME_CRITICAL

commit db94dfb1d5ec08777918352bbf6c65666d2e09b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 21:55:59 2018 -0700

    Fixed bug 4144 - CMake complains about trailing spaces in sdl2.pc
    
     Azamat H. Hackimov
    
    When you try use SDL2 2.0.8 in CMake project in Linux, it complains about trailing spaces in sdl2.pc:
    
    CMake Error at CMakeLists.txt:147 (add_executable):
      Target "TestSimpleMain" links to item "-L/usr/lib64 -lSDL2 " which has
      leading or trailing whitespace.  This is now an error according to policy
      CMP0004.

commit a1b8fa6071c609415bdfd9a47b7919d4c4de7b8b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 21:50:03 2018 -0700

    TryLockMutex: Fix error handling for TryLockMutex
    
    Christian Herzig
    
    pthread_mutex_trylock() and by the way, pthread_mutex_lock() do not set errno.
    Pthread-methods directly return error code as int. See related man-pages for
    details.

commit a9ae1b508d827dac54b2b54557e72d448d4cbae3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 20:24:12 2018 -0700

    Handle NULL return from SDL_DBus_GetContext()

commit b5d231eede71bfea547e0220caa62b32d30eb945
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 19:20:12 2018 -0700

    Handle NULL return from SDL_DBus_GetContext()

commit 432312561f8ac6a5c86c0cc5ab28c26f128e8c32
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 19:18:52 2018 -0700

    Added SDL_LinuxSetThreadPriority() to directly set the priority of a Linux thread (tid)
    This function tries using RealtimeKit connecting over DBUS as needed.

commit 816a6e68e52afe7dbe5ad0c785528a3864a3cfb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 23 17:10:36 2018 -0700

    Added support for adjusting thread priorities using Linux RealtimeKit
    
    Michael Sartain
    
    This is a quick pass at adding Linux RealtimeKit thread priority support to SDL.
    
    It allows me to bump the thread priority to high without root privileges or setting any caps, etc.
    
    rtkit readme here:
        http://git.0pointer.net/rtkit.git/tree/README

commit dc8b55e50b61a86d794be523ac9235477dbe37e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 16 02:11:09 2018 -0400

    coreaudio: Use the standard SDL audio thread instead of spinning a new one.
    
    Fixes corner cases, like the audio callback not firing if the device is
    disconnected, etc.

commit 2df59062dcd52217231d1d6ec1f9a6d176ca7dd7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 15 17:42:09 2018 -0400

    wayland: zxdg_shell_v6 needs a configure event before using a surface at all.
    
    Fixes Bugzilla #4109.
    Fixes Bugzilla #4119.

commit 5e8c81673fde1201cd6de0639f2a45deeb8deae0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 15 09:37:51 2018 -0700

    Fixed bug 4135 - Broken symlink libSDL2.so since rev11940
    
    Tiago O.
    
    Symlink points to the wrong folder, and target will always have debug postfix, so it'll be broken for other build types.

commit b7228bc51f772a306fd0d8cd37463899ddf68ef4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 11 18:28:03 2018 -0700

    Added support for the GameSir G3w

commit 9856d967775dd2c0ac1ef35063c9dc49264a9ffd
Author: Bastien Bouclet <bastien.bouclet@gmail.com>
Date:   Wed Apr 11 06:16:23 2018 +0200

    Fix the include path in the installed CMake target import file
    
    Previously the include path was {INSTALL_PREFIX}/include,
    it is now {INSTALL_PREFIX}/include/SDL2 to be consistent with
    the other build and package configuration systems.
    
    Fixes #4128.

commit 6b5ed0fd494e58ec51d76a2749b959f659001313
Author: Saad Khattak <saadrustam@gmail.com>
Date:   Tue Apr 10 08:03:54 2018 -0700

    Added debug postfix to install command and fixed library path

commit 6a0ef0cdbcd0d8cbc2dbbcd534a137dd5f495a81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 9 10:37:31 2018 -0700

    SDL:
    
    On Windows, have SDL_ShowWindow() not activate the window if the window has the WS_EX_NOACTIVATE window flag.

commit 4d78a995442fca5b5fe26dc161341fe4ced67cea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 26 12:38:29 2018 -0700

    Fixed bug where an SDL window that was activated while hidden could never be shown.
    
    Test code:
    {
            SDL_Window *win = SDL_CreateWindow( "Dummy", SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED, 128, 128, SDL_WINDOW_HIDDEN );
            SDL_SysWMinfo info;
            SDL_VERSION( &info.version );
            SDL_GetWindowWMInfo( win, &info );
            SetActiveWindow( info.info.win.window );
            {
                    DWORD then = SDL_GetTicks();
                    while ( ( SDL_GetTicks() - then ) < 3000 )
                    {
                            SDL_Event evt;
                            SDL_PollEvent( &evt );
                    }
                    SDL_ShowWindow( win );
    
                    then = SDL_GetTicks();
                    while ( ( SDL_GetTicks() - then ) < 3000 )
                    {
                            SDL_Event evt;
                            SDL_PollEvent( &evt );
                    }
            }
            SDL_DestroyWindow( win );
    }

commit e14278ef6f62395654bdea83769a4a7696ca4457
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 24 10:26:40 2018 -0700

    Fixed bug 3804 - Message box on Windows truncates button ID
    
    Simon Hug
    
    I just wanted to fix a simple compiler warning in SDL_ShowMessageBox on Windows (which Sam fixed recently) and ended up finding some issues.
    
    Attached patch fixes these issues:
    
    - Because Windows only reports the lower 16 bits of the control identifier that was pushed, the button IDs used by SDL (C type int, most likely 32 bits) can get cut off.
    
    - The documentation states (somewhat ambiguously) that the button ID will be -1 if the dialog was closed, but the current code sets 0. For SDL 2.1, I think this should be a return code of SDL_ShowMessageBox itself. That will free up the button ID and it seems a more appropriate place for signaling this event.
    
    - Ampersands in controls will create mnemonics on Windows (underlined letters that, if combined with the Alt key, will push the button). I was thinking of adding a hint or flag to let the users enable it, but that might have unexpected results.
    
    - When the size of the text gets calculated, it doesn't use the same parameters as the static control. This can cut off text or wrap it weirdly.
    
    - On Windows, the Tab key is used to switch between control groups and sometimes between buttons in dialogs. This didn't seem to work correctly.
    
    Attached patch also adds:
    
    - Icons. Just the system ones that can be loaded with the ordinals IDI_ERROR, IDI_WARNING and IDI_INFORMATION.
    
    - A button limit of 2^16 - 101.
    
    - Some more specific error messages, but they never reach the user because how SDL_ShowMessageBox handles them if an implementation returns with an error.

commit b41b9d34c7268ce5fbf3b62fa161d5d944f280d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 19 14:52:53 2018 -0700

    Fixed return value

commit 8e062f692578d3b32a516401aa732ea8fa516bc4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 19 14:42:51 2018 -0700

    Generalized the handling of instantaneous guide button presses so there's a minimum of 100 ms between guide button press and release.
    This happens with at least the following controllers: All Apple MFI controllers, ASUS Gamepad, XiaoMi Bluetooth Controller

commit d529b001bc97e7d01218955a3f901bf70c3ce382
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 19 13:16:11 2018 -0700

    Added mapping for the ASUS Gamepad removing the guide button, which doesn't generate events even though it's reported in the Android APIs.

commit f536fbea7162d939689e1d9899d082896dd67c4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 16 11:08:53 2018 -0700

    Reimplemented Android cursor API support using reflection so it builds with older SDKs

commit e20d4173bfd811423b3c743c55f5dfe9aa607a19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 15 18:22:48 2018 -0700

    Added Android custom cursor implementation
    This is commented out in SDLActivity.java, with the note #CURSORIMPLEENTATION because it requires API 24, which is higher than the minimum required SDK

commit 1cfbe664f5c0685d34be8b8bfdc1e45adb2932d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 12 18:41:06 2018 -0700

    Added Mac OpenGL ES configure support

commit d401a77eff2dd2880e9fce47c770457146034a36
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 10 21:22:42 2018 -0800

    Fixed bug 4102 - define _WIN32_WINNT_WIN7 if not already defined
    
    Ozkan Sezer
    
    The following patch defines _WIN32_WINNT_WIN7 if it is not already
    defined in core/windows/SDL_windows.c,  similar to what is already
    there for _WIN32_WINNT_VISTA.

commit 6d39e67bad7b93729b9586bdfafa425677cdd864
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 10 21:20:25 2018 -0800

    Fixed bug 4103 - SDL_cpuinfo.h provokes warnings with -Wundef on non-x86 hosts
    
    Felix Geyer
    
    Forwarding from https://bugs.debian.org/892087 quoting verbatim:
    
    The SDL2 header SDL_cpuinfo.h generates gcc warnings if the program using
    it compiles with the -Wundef warning. (In particular, this means that QEMU
    builds using it fail on at least sparc hosts, since QEMU dev builds
    use both -Wundef and -Werror.).
    
    /usr/include/SDL2/SDL_cpuinfo.h:63:5: warning: "HAVE_IMMINTRIN_H" is not defined, evaluates to 0 [-Wundef]
     #if HAVE_IMMINTRIN_H && !defined(SDL_DISABLE_IMMINTRIN_H)

commit 0a5c10654c9214336ce688d24279687d744a8d37
Author: Micha? Janiszewski <janisozaur@gmail.com>
Date:   Sat Mar 10 21:16:14 2018 -0800

    Fix ARM builds with MSVC

commit cc7b2fc512394d5cb890630844524f802a716a98
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 10 21:13:50 2018 -0800

    Temporary fix for bug 3432 - macOS 10.12: small scrolls (1 wheel notch) don't generate events
    
    Eric Wasylishen
    
    This bug was reintroduced by https://hg.libsdl.org/SDL/rev/fcf24b38a28a
    
    The steps to reproduce are the same: run the "testrelative" SDL demo with "--info all",
    connect a USB mouse with a scroll wheel, and roll the scroll wheel one "notch". You'll get log output like:
    
    testdraw2[1644:67222] INFO: SDL EVENT: Mouse: wheel scrolled 0 in x and 0 in y (reversed: 1) in window 1
    
    As far as I can tell macOS doesn't have an API for getting the number of "wheel notches"; I get a deltaY of 0.100006 for one "notch", and it's heavily accelerated (if you roll the wheel quickly you'll get large deltas). So NSEvent's deltaY is only meant to be used for scrolling a scroll view, with the given distance in points, not something like selecting an item in a game.
    
    Here's a temporary patch that at restores the foor/ceil in Cocoa_HandleMouseWheel.
    Not ideal, but at least it restores the ability to scroll one notch of a mousewheel.

commit 129431b4f486ab35d76c7e5a254a6e0a9d633645
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 8 16:32:22 2018 -0800

    Delay delivery of the pause button release on MFI controllers so it doesn't happen in the same frame as the button press

commit 92847022f5944699d754008567d9432577b2c428
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 7 18:10:01 2018 -0800

    Added a mapping for the latest firmware for the Xbox One S controller on Android

commit a2c1d83c0232b3ae7a3449cfbf6fc97237489cfa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 7 18:09:58 2018 -0800

    Include a USB VID/PID for Apple MFI controllers
    This is just placeholder VID/PID, but allows code that works with VID/PID to identify the MFI controllers easily.

commit a8ac58854901c62d91e01e9d6957af1e2e02fe1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 7 13:30:40 2018 -0800

    Added SDL_GameControllerMappingForDeviceIndex() to get the mapping for a controller before it's opened

commit 9e651b691562516128dfa27120767c542b084e64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 6 14:51:50 2018 -0800

    Try to dynamically create a default Android game controller mapping based on the buttons and axes on the controller.
    Include the controller USB VID/PID in the GUID where possible, as we do on other platforms.

commit 2419d26724efd804b747be5cfbf1c3332f2a8c9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 2 22:53:25 2018 -0800

    Progress fixing bug 4100 - errors and warnings after changeset 11917
    
    Ozkan Sezer 2018-03-02 20:02:37 UTC
    http://hg.libsdl.org/SDL/rev/d702b0c54e52 resulted in an error and
    two warnings when compiled with mingw.
    
    1.  Error from SDL_windowstaskdialog.h:
    In file included from src/video/windows/SDL_windowsmessagebox.c:29:0:
    src/video/windows/SDL_windowstaskdialog.h:23:54: error: expected ')' before 'HWND'
    
    This is fixed by removing unnecessary annotations:
    
    2.  Warning from SDL_assert.c:
    src/SDL_assert.c: In function 'SDL_ExitProcess':
    src/SDL_assert.c:138:1: warning: 'noreturn' function does return
    
    Indeed ExitProcess() is prototyped with DECLSPEC_NORETURN, but
    TerminateProcess() is not.  This can be rectified by adding an
    exit() call in there. Do NOTE, however, that requires building
    with a libc:
    
    3.  Warning from SDL_windowsmessagebox.c:
    src/video/windows/SDL_windowsmessagebox.c: In function 'WIN_ShowMessageBox':
    src/video/windows/SDL_windowsmessagebox.c:513:9: warning: 'nCancelButton' may be used uninitialized in this function
    
    My lazy solution was manually initializing nCancelButton to 0.

commit e9b29ed0073214932a5270e38781ffbfb39192a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 2 22:48:15 2018 -0800

    Fixed bug 4101 - configure needs regenerating after changeset 11894

commit ac2d1f677371bfcc1e88de462d57db038828f70d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 2 12:08:18 2018 -0800

    Fixed setting the layer drawable size
    Without this change the drawable had a size of 0 and the metal renderer asserted because the projection matrix wasn't set.

commit cef1c1c2ee7b5d30e98c7a7b293a20a8e84d13a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 2 14:10:25 2018 -0500

    windows: Restore patches for Task Dialogs and TerminateProcess().
    
    2.0.8 has shipped, these can live in revision control now!

commit 003c0dce9c30f2783466ed83b8244d56f9cf70c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 2 10:56:21 2018 -0800

    Use the real controller name for game controllers on iOS and Apple TV

commit 4f695bc5e50ca906383deb0d3bc9f55df77dec8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 1 09:32:53 2018 -0800

    Added tag release-2.0.8 for changeset dfbae17e87ac

commit e9fc66a038304be0b892b83c16d6dcf5ee36f388
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 1 08:26:10 2018 -0800

    Added patch note for Android Studio support

commit 0df7fe84040789a7a6555a05e8209810d8323cda
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 1 08:22:56 2018 -0800

    Temporarily disabled fullscreen switching code on Android, until we can resolve bug 4096 - Enabling fullscreen on Android causes the app to toggle fullscreen mode continuously in a loop

commit eac376669873e5b457427075b60ea32481419610
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 1 08:08:20 2018 -0800

    Added a patch note for OpenGL ES support on Mac

commit 3537c3e7a9ad5eb360bbaac4d7c19c2b6c74c244
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 28 10:39:41 2018 -0500

    Back out Task Dialog and TerminateProcess patches for 2.0.8.
    
    These can return to revision control once we ship.

commit 6a1cfccef87e4ea8056db0c0c5378eecdb643947
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 28 02:14:15 2018 -0500

    windows: dos2unix'd messagebox code, and (hopefully) fixed on MingW.

commit a749035f105af2f081e6c551fd04a255dc35d54a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 28 01:54:22 2018 -0500

    windows: Message boxes use Task Dialogs if possible (thanks, Jack!).
    
    This lets the message box have an icon. Unless the app has opted-in to using
    the v6 common controls, though, this will fall back to the usual SDL message
    boxes.

commit 8536130aa27b0cee65fbffa9abfdcdbce6e7821f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 28 01:23:49 2018 -0500

    assert: Use TerminateProcess() on Windows, vs ExitProcess (thanks, Jack!).
    
    "What I have done is use TerminateProcess rather than ExitProcess.
    ExitProcess will cause Microsoft's leak detection to continue, TerminateProcess
    won't. It is also technically wrong to use ExitProcess in the case of aborting
    the application.
    
    Jack Powell
    Twitter @jack9267"

commit 99683f7c045f05930a961b187caf3d98a4e80325
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 26 08:39:25 2018 -0800

    Added patch note about the Vulkan Mac SDK

commit be6ca785e321503e07a8898d5e9c76ee37e409da
Author: Mark Callow <libsdl.org@callow.im>
Date:   Sun Feb 25 23:02:09 2018 -0800

    Support official Vulkan SDK for macOS.
    
    This tries to load vulkan.framework or libvulkan.1.dylib before MoltenVK.framework
    or libMoltenVK.dylib. In the previous version, layers would not work for applications
    run-time loading the default library.

commit f9f45d0bf5932fcb49f4a90af197ba2aecf62b69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 25 19:51:34 2018 -0800

    Fixed bug 4097 - Segmentation fault by SDL_CreateThreadWithStackSize
    
    Dongsun Kim
    
    Normal case
    1. [thread 1] SDL_CreateThreadWithStackSize calls SDL_SYS_CreateThread.
    2. [thread 1] If successful, it calls SDL_SemWait.
    3. [thread 2] SDL_RunThread calls SDL_SYS_SetupThread, SDL_ThreadID, SDL_SemPost.
    4. [thread 1] SDL_CreateThreadWithStackSize calls SDL_DestroySemaphore, SDL_free.
    
    Crash case (Segmentation fault)
    1. [thread 1] SDL_CreateThreadWithStackSize calls SDL_SYS_CreateThread.
    2. [thread 1] If successful, it calls SDL_SemWait.
    --> Error return due to SIGNAL(SYSTEM or Real Time) at sem_wait(pthread).
    3. [thread 1] SDL_CreateThreadWithStackSize calls SDL_DestroySemaphore, SDL_free.
    4. [thread 2] SDL_RunThread calls SDL_SYS_SetupThread, SDL_ThreadID, SDL_SemPost.
    --> Segmentation fault at strlen or sem_post.

commit 5cbb90da0291d4f413ede41a86a36851dd4b8496
Author: Olli Kallioinen <olli.kallioinen@iki.fi>
Date:   Sun Feb 25 19:22:47 2018 +0200

    cmake: Set debug library name suffix per target instead of setting it globally. Don't add a suffix on android

commit 3ea093cc85b1dca64e912dfb3fb66fa1230ac06b
Author: Ozkan Sezer <sezero@users.sourceforge.net>
Date:   Sun Feb 25 10:15:00 2018 +0300

    SDL_test_fuzzer.c: fix strict aliasing warnings by using a union.

commit cbfee82dff53d6141630b128a8e78f26e317dece
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 09:09:20 2018 -0800

    Moved Android patch note into the Android section

commit 6cf4d0e43bf12de05374e07eb076a0c73b6f95b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:59:58 2018 -0800

    Fixed bug 4092 - CMake support for building everything in the "test" directory
    
    Eric Wasylishen
    
    Patch to support building the tests with cmake.
    Disabled by default, use: "cmake .. -DSDL_TEST=YES" to enable the tests.
    
    Tested on macOS 10.13 with the ninja, makefile, and Xcode generators, and Windows 10 with the Visual Studio 2017 generator.

commit 849d042fa49364fbc227803fb0c660c483322c8e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:58:22 2018 -0800

    Fixed bug 4091 - Undefined references to Android audio functions when SDL_AUDIO_DISABLED is on
    
    Manuel Sabogal
    
    If SDL is compiled with the Audio subsystem disabled there are some undefined references to the functions ANDROIDAUDIO_ResumeDevices and ANDROIDAUDIO_PauseDevices in the file src/video/android/SDL_androidevents.c.

commit 8e4afb556abe5ab07e5abb79a8ed0f8cb86d83bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:42:04 2018 -0800

    Added patch note for Ryan's work

commit b33dbd276976380c92fca0d748a03002ae1a2e77
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:40:30 2018 -0800

    Added missing file to tvOS build

commit 99a0c0f0e2e0b0d0d8f640ec8d81b39f5e8f6210
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:23:44 2018 -0800

    Fixed MinGW-w64 build

commit 5adc1b7d3ea08f4ee059e534803dc5b9e0846f41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 24 08:18:09 2018 -0800

    Updated documentation with API changes in SDL 2.0.8

commit 0626486e2ebcfd942578c29ed5c1b9b7600d84de
Author: Brandon Schaefer <brandontschaefer@gmail.com>
Date:   Fri Feb 23 19:12:04 2018 -0500

    Backout the vulkan change in d449dea10fc8 breaks Mir builds

commit e17c3219d34a90deb84a0eee9bbb1533791d2c08
Author: Brandon Schaefer <brandontschaefer@gmail.com>
Date:   Fri Feb 23 11:24:26 2018 -0500

    mir: Disable Mir by default as Mir supports Wayland clients
    
    Also remove enabling VK support for Mir

commit 8891f5919f08f72432ef078c54685fc1f50e8ee8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 22:53:52 2018 -0500

    Backed out changeset 6c8521d53507
    
    Apparently this still triggers a compiler warning, have to dig further.

commit fd8f12d2a1087357d0340ce6cb6212e2f512194a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 22:35:17 2018 -0500

    android: apparently they fixed this header at some point.

commit ac309df7b401d9b1cbab287d44f8fd5f44703b15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 22:27:09 2018 -0500

    vulkan: Possibly fix a compiler warning (-Wstrict-prototypes).

commit c7e43665300913a6df0beabffc4dab35240ae8a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 21:34:06 2018 -0500

    wasapi: let Windows do the resampling for us if possible.

commit 7e1fa0ce53bf83c1997c609e4d0b6c79f8df672f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 21:34:35 2018 -0500

    wasapi: fixed typo in an assert message.

commit ed64d54dfd9a69a6b16eb603663041b520c48e48
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 21 21:36:10 2018 -0500

    windows: added WIN_IsWindows7OrGreater().

commit 6e3d0a133c83f2b19e6a285fdd7b3adc3daf0b06
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Wed Feb 21 12:42:30 2018 -0500

    Use new XInput mapping for Win10+ (Bugzilla #3960)

commit 69958441be6c2bc482778fbfdef24f172973a4fe
Author: Mark Callow <libsdl.org@callow.im>
Date:   Wed Feb 21 09:58:21 2018 -0800

    Fix high-dpi support on macOS and simplify it and iOS variant.
    
    The detault drawableSize for a CAMetalLayer is its bounds x its scale.
    So it is sufficient to set the *layer's* scale to the desired value.

commit a0687a9ccb87893fb32b57b59da298c4dbda5c19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 21 09:40:47 2018 -0800

    Fixed bug 4034 - Don't include _DllMainCRTStartup() if SDL_STATIC_LIB is defined.

commit c00858bfb12e78066a55c1a2a49734f896910ce4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 20 09:04:31 2018 -0800

    Fixed bug 4088 - Fix Metal link errors with test programs in SDLTest.xcodeproj
    
    Eric Wasylishen
    
    The following patch adds Metal.framework to the "link binary with libraries" section of each test program, with "status" set to "optional", which fixes link errors on all of the test programs. I'm not sure if this is a correct fix - the fact that this was necessary might indicate the static SDL2.a library has a hard dependency on Metal.framework (?) - but it gets the test programs working in Xcode again.
    
    It also adds testyuv_cvt.c to the testoverlay2 target, fixing a link error.

commit 58f9be125741b235b3c1bdfe7e0df67422ecce02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 18 09:09:56 2018 -0800

    Actually, this is needed for building with Visual Studio with both /MT and /MD.
    With the previous change, I get:
    1>     Creating library C:\projects\SDL\VisualC\Win32\Debug\SDL2.lib and object C:\projects\SDL\VisualC\Win32\Debug\SDL2.exp
    1>LINK : error LNK2001: unresolved external symbol __DllMainCRTStartup@12

commit 3c9d33361c2d95b7852beeec6cdcd6fb0612fc47
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 18 08:57:01 2018 -0800

    Fixed bug 4034 - Do we really need _DllMainCRTStartup() in every Windows build?
    
    Andreas Falkenhahn
    
    In src/SDL.c there is this code:
    
    _DllMainCRTStartup(HANDLE hModule,
    
    ...
    
    The comment says that this is needed on Watcom C for some reason but why is it included then when building with Visual C as well? Shouldn't it be only included when compiling on Watcom C then?
    
    I'm asking because this code caused me a lot of headaches because I'm building a DLL that contains SDL and I link using /MT and the _DllMainCRTStartup() symbol obviously led to lots of trouble but it wasn't clear to me where the problem was because all I got from the linker was:
    
    LNK2019: unresolved external symbol _main referenced in function ___tmainCRTStartup
    
    So I had to got through each and every object to see what the culprit was. See here for the full story:
    https://stackoverflow.com/questions/25067151/lnk2019-unresolved-external-symbol-main-referenced-in-function-tmaincrtstar/48177067#48177067
    
    So if it isn't necessary on Visual C, please just leave that symbol out on Visual C so that it no longer leads to any trouble. Thanks.

commit 75a58303a019dc2430dd02317091ed273207c3bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 17 23:57:57 2018 -0500

    pthread: fix error code checks (thanks, Andreas!).
    
    Most pthread functions return 0 on success and non-zero on error, but those
    errors might be positive or negative, so checking for return values in the
    Unix style, where errors are less than zero, is a bug.
    
    Fixes Bugzilla #4039.

commit 2ea4419a5796d54da84b7bad926b7566d0ef3014
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 17 20:18:48 2018 -0500

    yuv: patched to compile.

commit 7c0c2c22a8ead424a4306aee21edde5b4e8f4e95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 17 20:10:13 2018 -0500

    yuv: fixed variable declaration shadowing warnings.
    
    Fixes Bugzilla #4062.

commit 97494f537460225981eaab84f00b3cc0b8be1d37
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 17 18:30:21 2018 -0500

    pulseaudio: Just read/dump captured data in FlushCapture.
    
    Apparently pa_stream_flush() doesn't work as expected:
    
    https://lists.freedesktop.org/archives/pulseaudio-discuss/2012-April/013328.html
    
    Fixes Bugzilla #4087.

commit 6867f6189fa31bd22d623d87367975f830f14a46
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 16 14:56:28 2018 -0500

    video: put a spinlock around a global linked list.
    
    This should only contend if you're allocating or freeing surfaces from
    multiple threads at once, and then just for a short time.
    
    Fixes Bugzilla #4084.

commit 8ddebfa06e162fba2680a419a85dc6ba4fefe3d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 16 10:23:10 2018 -0800

    Fixed bug 4085 - X11: Allow configuring _NET_WM_BYPASS_COMPOSITOR through SDL hints
    
    Callum McGing
    
    This patch allows the user to disable the behaviour that blocks the compositor through a new hint: SDL_VIDEO_X11_NET_WM_BYPASS_COMPOSITOR. This allows tools or other windowed applications to behave properly under KWin.

commit 926d803f83f07152f5ed914ece4b9902f61f64d7
Author: Ozkan Sezer <sezero@users.sourceforge.net>
Date:   Sun Oct 29 14:15:00 2017 +0300

    bug #3739: handle %lu, %li and %ld in SDL_SetError.

commit 5abd7d16d7482049a51ad94f7d4f500834bd2970
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 22:58:20 2018 -0800

    Don't attempt WM_NCCALCSIZE adjustment when in fullscreen window transition

commit ba0ecc671270b979dca399b4e647b4e2b690cb98
Author: sezero <sezero@users.sourceforge.net>
Date:   Mon Feb 12 10:47:00 2018 +0300

    fix building SDL_audiotypecvt.c with gcc < 4.0

commit 40b27fd51b04e28981cc8831d2ffc62a4530abd8
Author: sezero <sezero@users.sourceforge.net>
Date:   Mon Feb 12 17:00:00 2018 +0300

    revert the recent typecast assignment changes (see bug #4079)
    
    also change the void* typedefs for the two vulkan function
    pointers added in vulkan_internal.h  into generic function
    pointer typedefs.

commit ba9ede12fb08361551512497c2d665a12d3c0ea2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 13:25:59 2018 -0800

    Fixed bug 4027 - CheckLibSampleRate macro in sdlchecks.cmake never defines HAVE_LIBSAMPLERATE{,_SHARED}, so they're always reported as disabled by MESSAGE_TESTED_OPTION macro in macros.cmake

commit f6366c09e29e1c568c0c0a0d3a20b2c4a13e8446
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 08:15:39 2018 -0800

    Fixed bug 3920 - IBus not work with SDL 2.0.7
    
    cjacker
    
    After updating from 2.0.5 to 2.0.7, Ibus not work anymore(fcitx still works).
    
    Compare with 2.0.5, there are two issues in SDL_ibus.c.
    
    1, SetupConnection always return SDL_FALSE in 2.0.7.
    
    2, 'SetCapabilities' method should be called on 'ibus_conn'.
    
    Patch attached.

commit 3b4c2fdf5d5ce7e7b281dd01708855b06da59bff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 08:13:29 2018 -0800

    Fixed bug 3947 - replace strlcpy with memcpy in SDL_strdup()

commit 714085d327dc1f2e12b4b7315c9e70886d68a251
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 08:07:52 2018 -0800

    Fixed bug 3950 - Don't always call dbus_shutdown in SDL_DBus
    
    Alexander Larsson
    
    dbus_shutdown() is a debug feature which closes all global resources in the dbus library. Calling this should be done by the app, not a library, because if there are multiple users of dbus in the process then SDL could shut it down even though another part is using it.
    
    For example, i had an issue with this in mGBA, which uses both Qt and SDL, both using libdbus. I had a session bus, but no system bus (this was in a flatpak sandbox), and when SDL_DBus_Init() failed to init the system bus it called dbus_shudown() and continued on. This caused issues for Qt when running due to its session bus connections having disappeared beneath it.

commit 4ff16ba3a45cc499f92c644daf26bfdeed4b1527
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 13 07:59:45 2018 -0800

    Fixed bug 4081 - sdlchecks.cmake: typo introduced by rev11848 breaks building with wayland support

commit 8a1ae708d4feb089676fc1e81f9b1f3cc8e943c0
Author: sezero <sezero@users.sourceforge.net>
Date:   Mon Feb 12 10:00:00 2018 +0300

    kill C99'ism in SDL_waylandvulkan.c

commit 6e01fbb7632a212a213c361d103f7039f90107bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 11 18:23:37 2018 -0800

    On Android show the system UI when an SDL window is windowed, hide the system UI when it's fullscreen, like we do on iOS.
    We're increasing the Android SDK minimum version to API 19, this doesn't increase the minimum target API, which is API 14.

commit 66f9492b69fdaaffc5f21a84fc01b71b632b4e4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 11 17:25:51 2018 -0800

    Fixed bug 4075 - configury adds Metal.framework to linkage even if it is not available
    
    Ozkan Sezer
    
    Configury adds Metal.framework to linkage even if it is not available.
    My solution is setting enable_render_metal to no when Metal.framework
    is not found

commit 873141acb17530717b3e107623d3882debc09855
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 11 15:29:36 2018 -0800

    ISO C correct fix for casting void* to function pointer

commit 882215e1382e9114387efd97662f08f76d4618f5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 11 18:16:01 2018 -0500

    vulkan: Fix assignment of vkGetInstanceProcAddr on Windows.
    
    "*(void**)pfn = LoadAddress()" would cast the NULL pointer in pfn to a
    void**, and then dereference it, which wasn't what we wanted. Replaced with
    a clearer cast operation.

commit 1143857d7658c7c4b5fee55a5c615caf1199353d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 10 12:43:11 2018 -0800

    Fixed bug 4073 - Unquoted Unicode argument parsing broken on Windows due to incorrect usage of SDL_isspace()

commit d5f293a7774ea81547ad71518276a52c11fc2441
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 9 16:31:57 2018 -0800

    Fixed compile warning

commit 7c36002739779ccd3a8657d4ddc0611eda4b6942
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 9 16:01:11 2018 -0800

    Fixed compiler warning on Android

commit 2fc71d879d7150d49f6051a866283c63ddb62633
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 9 08:03:03 2018 -0800

    Windows Phone 8.0 is no longer supported

commit 7b50aee93294d2271bca8b1dbb221904d81bb976
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 8 18:07:14 2018 -0800

    Fixed min/max window size handling for borderless resizable windows

commit 4c2a444e3a42de302b603501c8c674873ef03004
Author: sezero <sezero@users.sourceforge.net>
Date:   Thu Feb 8 17:07:47 2018 +0300

    add SDL_log10 and SDL_log10f to include and dynapi

commit 54340ab9deaebb11115d5b6a799f1795a9acee3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 7 15:10:50 2018 -0800

    Fixed bug 4021 - Android, hard-coded Keycode value
    
    Sylvain
    
    There is an hard-coded keycode value in SDLActivity.java

commit b401cfd915d9656f8898b1fdf82fce2d73630400
Author: Cole Campbell <cole.campbell@twistedlogik.net>
Date:   Tue Jan 9 19:11:34 2018 -0500

    Allow Android Java shim to be built as an AAR

commit 940933d8925d68d188993f93f355c7cbbcc37c3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 7 15:05:30 2018 -0800

    Fixed bug 4054 - Raspberry Pi refresh rate detection
    
    Viacheslav Slavinsky
    
    SDL_rpivideo driver has 60 frames per second hardcoded in it, this is a problem for games that need to keep pace using VSYNC. I believe that I have found a solution to this. It is based on code in tvservice.c in rpi userland:
    
    https://github.com/raspberrypi/userland/blob/a1b89e91f393c7134b4cdc36431f863bb3333163/host_applications/linux/apps/tvservice/tvservice.c#L433

commit 11c348b4d7a27f74e3cd7a745bc3fc8b60345aef
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Wed Jan 17 11:53:09 2018 -0500

    SDL_log10

commit bd0def06ee47bee34a296da70cc0e4edd2dbd862
Author: Guillermo A. Amaral <g@maral.me>
Date:   Wed Feb 7 14:12:26 2018 -0800

    Set rpath instead of changing environment for RPi
    Credit goes to Adrian Perez de Castro for the improvement.
    
    Signed-off-by: Guillermo A. Amaral <g@maral.me>

commit 965c11f38a8bb1cdb0c13e941e7073dbfa4d1756
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 7 14:07:54 2018 -0800

    Fixed bug 4060 - Alternative DualShock 4 v2 controller GUID
    
    ayer.3d
    
    I have a DualShock 4 v2 controller with a GUID that's not in the database. There is an existing GUID that is almost identical, with the only difference that I can tell being the reported version string (mine being 8001, database is 8100).
    
    Existing GUID: 050000004c050000cc09000000810000
         New GUID: 050000004c050000cc09000001800000
    
    When connected via USB, the GUID matches an existing entry: 030000004c050000cc09000011810000

commit c329381f4c269a2ae75df28f5e5f5c62668e5b89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 7 14:03:24 2018 -0800

    Description: fix installation of shared library for Android
    Author: Boris Pek <tehnick-8@yandex.ru>
    Last-Update: 2018-01-10

commit cd53220749ddf061c8d55d8edd09fd658e3426e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 7 13:13:55 2018 -0500

    wayland: Add support for xdg-shell protocol (unstable v6).
    
    This is meant to be the desktop-enhanced version of wl_shell. Right now we
    just match what the existing wl_shell code does, but there are other areas of
    functionality available to us now, that we can fill in later.
    
    This uses the "unstable" API, since this is what ships in Ubuntu 17.10 (as
    part of Wayland 1.10), but Wayland 1.12 promotes this to stable with extremely
    minor changes. We will add support for the stable version when it makes sense
    to do so.

commit 32d421d4904227bf96fee4f620acc2e5fe6bf94e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 7 13:07:59 2018 -0500

    cmake: Minor cleanup (reuse a string we already calculated).

commit 73c26c204ca879f800b3b50beb2c54c870385272
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 6 16:43:31 2018 -0800

    Send Apple TV remote input as key events unless it's opened as a joystick, to match Android behavior.

commit f59b9c8b13811129c620410c7541ec1afe164472
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 6 15:03:38 2018 -0800

    Replaced SDL_HINT_APPLE_TV_REMOTE_SWIPES_AS_ARROW_KEYS with SDL_HINT_TV_REMOTE_AS_JOYSTICK which controls whether remotes on iOS and Android are interpreted as joysticks (the default) or as return/escape/arrow keys.

commit 6ed184ec69716425c8bdc03042882881f1165ad1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 6 15:03:35 2018 -0800

    Added SDL_IsAndroidTV()

commit 2b441ec6c4d3a04462455149644b1f46cf3af3a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 5 11:40:39 2018 -0800

    SDL Changes to support clean reads
    CR: saml

commit 35322ed8470f681eb2b982efd1421196d5b3405a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 1 15:46:51 2018 -0800

    Fixed building on tvOS

commit 85c34e9a39c6351301c6ec7dde6d0319a25feaba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 1 15:21:01 2018 -0800

    Added SDL_HINT_IOS_HIDE_HOME_INDICATOR to determine how the home indicator on the iPhone X is handled.
    
    This variable can be set to the following values:
       "0"       - The indicator bar is not hidden (default for windowed applications)
       "1"       - The indicator bar is hidden and is shown when the screen is touched (useful for movie playback applications)
       "2"       - The indicator bar is dim and the first swipe makes it visible and the second swipe performs the "home" action (default for fullscreen applications)

commit 330b19c96813d19b6a958daa737562eb61846553
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 30 18:12:25 2018 -0800

    Fixed building on platforms without __sighandler_t

commit 90e72bf4e2696229ffe09cd208d5420dcb9d089a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 30 18:08:34 2018 -0800

    Fixed ISO C99 compatibility
    SDL now builds with gcc 7.2 with the following command line options:
    -Wall -pedantic-errors -Wno-deprecated-declarations -Wno-overlength-strings --std=c99

commit e1d85985b24c68674b46a69fbda83abe0876689a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 30 16:53:24 2018 -0800

    Fixed misleading indentation

commit fab2e2463f32d3587e6b11aae8bde29d0b342f9d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 27 12:07:05 2018 -0800

    Removed armeabi from the SDL build API list, since it's not supported by the latest Android SDK

commit 2ceeb993361e02615f1a28bfc8811eacbac194e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 27 12:05:26 2018 -0800

    Fixed bug 4065 - SDL_wave.c fail to compile in armeabi with ndk r16b
    
    Sylvain
    
    armeabi is almost deprecated for android-ndk higher that r13b.
    either it doesn't compile (ICE), or it executes wrongly (using long long for instance).
    
    android people advices to use armeabi-v7a (or use r13b).

commit 2d7420f2380aa5daa8920094fb71d95747a06805
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 25 11:12:20 2018 -0800

    Fixed bug 3985 - SDL_CreateWindow() has stopped changing screen mode when SDL_WINDOW_FULLSCREEN is used
    
    Anthony
    
    This worked in 2.0.5 as normal, but stopped working in 2.0.7. The monitor's resolution doesn't change, a window is created in full screen mode at the virtual desktop resolution instead.

commit af498591dfd7cab5e58539ece10d9750b946af95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 22 09:46:48 2018 -0500

    testoverlay2: use SDL_atoi, not atoi.

commit e99daaf8b562a2ef87a26cf438c288231c40f930
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 22 09:45:16 2018 -0500

    android: Fixed compiler warning about nested '/*' comments.

commit 488824017a9b286c6ea41431bb0c6df285b05bd2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 22 09:36:40 2018 -0500

    wasapi: Fixed some compiler warnings.

commit 9338a619f86e6cd333e09ad7fd64e32f3c288391
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 17 17:24:15 2018 -0800

    Added a hint SDL_HINT_APPLE_TV_REMOTE_SWIPES_AS_ARROW_KEYS to prevent turning Apple TV remote swipes into arrow key events

commit 61261e59bc22bbab9922628560f6ba9f0216b4c9
Author: Dawid Gan <deveee@gmail.com>
Date:   Tue Jan 16 21:29:32 2018 +0100

    EGL: Request sRGB framebuffer in correct place.
    
    The EGL_GL_COLORSPACE_KHR is an attribute for eglCreate*Surface.
    
    As written in EGL_KHR_gl_colorspace documentation:
    
        Accepted as an attribute name by eglCreateWindowSurface,
        eglCreatePbufferSurface and eglCreatePixmapSurface
    
            EGL_GL_COLORSPACE_KHR                   0x309D
        (...)

commit 35554caf16d0d9bf44a7f818f83c6fcfa09e48a9
Author: Guillermo A. Amaral <g@maral.me>
Date:   Wed Jan 17 13:17:10 2018 -0800

    Make rpi video cross-compiler friendly.
    * Stops using fixed path to find GLES/EGL libs.
    * Tries pkg-config to locate bcm_host.
    
    Signed-off-by: Guillermo A. Amaral <g@maral.me>

commit 509db8afbdde8fae01394665b63e2f5ad916db74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 17 13:12:39 2018 -0800

    Fixed formatting, added actual count to SDL error message

commit f9bdce61e10885e64eb09189ce10d5ec5ae8871d
Author: John Bartholomew <jpa.bartholomew@gmail.com>
Date:   Sun Jan 14 13:34:50 2018 +0000

    Vulkan: Allow SDL_Vulkan_GetInstanceExtensions to be called with a larger array than necessary.

commit 7cd39b7d1511f50a8aa18c828ebbce29d05e001c
Author: Marius Gripsgard <marius@ubports.com>
Date:   Sat Jan 13 01:58:11 2018 +0100

    Mir: Handle close window events

commit 0cba68479448193e0bb3db8338b20b04a5adbb6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 15 10:29:53 2018 -0800

    Fixed bug 4043 - SDL_windowswindow.c incorrect icon height
    
    Needed to allocate space for the mask in the ICONIMAGE structure

commit a0c4eb2aa3c1b16c1496909e006350bf21c6e59f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 10 18:00:51 2018 -0800

    Restored borderless window behavior where DOTA created a borderless window the size of the desktop and expected it to behave like a fullscreen desktop window.
    
    A future SDL release will change the borderless window to act more like a normal window that happens to have no chrome, to support windows that draw their own chrome. In the meantime, those applications should set the "SDL_BORDERLESS_WINDOWED_STYLE" hint.

commit 3bfada2e02d002b505788f249ca18f45d323d76a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jan 10 19:56:51 2018 -0400

    Android: resolve symlinks in SDL_AndroidGetInternalStoragePath (thanks Henrique Gemignani and cigumo!)
    
    Fixes issues on modern Android versions when the path is used in code that explicitly doesn't follow symlinks (such as PHYSFS_mkdir).

commit 72d45079182c47f1c029494acb2e2c3f61cbdea8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 10 10:42:40 2018 -0800

    Added availability check to fix compiler warning for symbol only available on tvOS 11.0 and newer

commit 7d5437bb31ec177f442390f414fd3af109a3ba53
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jan 7 22:00:37 2018 -0400

    metal: set max texture size based on device capability.

commit a8c0532c087598941fa09678cb9220f768218b93
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jan 7 16:57:32 2018 -0400

    metal: Fix pipeline states to use the pixel format of the current render target, instead of a hard-coded format.

commit 740a90af37fe88a75e61424e5bbb01904c368fda
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jan 6 18:54:12 2018 -0400

    metal: Add support for YUV/NV12 texture formats.

commit 9a8683b27507398f740401a0d42b7217cb69d0c8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jan 4 22:16:42 2018 -0400

    metal: use a private instead of managed buffer for the renderer's non-changing constant data.
    
    Recommended by Xcode's Metal frame capture analysis.

commit 990ebba55a1fad88f6b03fe58d518d1ce33a5c2d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jan 4 19:29:33 2018 -0400

    metal: Implement fast hardware clearing when possible, by deferring the start of a render pass until a clear or draw operation happens.

commit 66baf7363e6cf93dc566a3432cf143bf94aa7f5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 11:31:42 2018 -0800

    Fixed spacing in copyright headers

commit 7c60bec493404905f512c835f502f1ace4eff003
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 10:58:58 2018 -0800

    Fixed bug 4018 - Implement SDL_GetWindowBordersSize() under Windows/Win32/WinAPI
    
    Ismael Ferreras Morezuelas (Swyter)
    
    As a new year gift I have implemented the Windows version of SDL_GetWindowBordersSize(). I needed it for auto-selecting a cozy window size for the game I'm currently working on and noticed that it only worked under X11, so I thought it could be a good excuse to contribute back more stuff. The Mercurial patch is attached as a .diff file. Let me know what you think.
    
    Happy 2018 to all the SDL2 devs and users!
    
    --
    
    PS: Keep in mind that Windows 10 includes the 8px invisible grip borders as part of the frame. There's a way of detecting if Aero/DWM is being used and ask only for the visible rect, but I believe that GetWindowRect() is doing that for a reason and working as intended, so I haven't changed it. (See [2])
    
    
    References:
    [1]: http://www.firststeps.ru/mfc/winapi/r.php?72
    [2]: https://stackoverflow.com/a/34143777/674685
    [3]: https://stackoverflow.com/a/431548/674685
    [4]: https://wiki.libsdl.org/SDL_GetWindowBordersSize

commit 8111a632be9c6572142a0565e24603d5f0006c6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 10:49:26 2018 -0800

    Fixed bug 4013 - Wayland: fix videoquit on multimonitor system
    
    Vladimir
    
    On multimonitor system Wayland_VideoQuit invalid deiniting.
    
    Tested in Centos7 + Weston

commit 1fa4bcca6a2fb0f37907cf294c2913310490b346
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 10:43:01 2018 -0800

    Fixed bug 4012 - Wayland: invalid direction on mouse wheel
    
    Vladimir
    
    Invalid direction on mouse wheel
    
    Patch tested in Centos 7 + Weston

commit 6bc38737299fd5f37b8be2a7ff920d5ade9316ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 10:07:27 2018 -0800

    Fixed bug 4011 - Wayland: fix free cursor
    
    Vladimir
    
    Sometimes SDL application crashes on cursor free.
    
    Patch tested under Centos 7 + weston

commit e3cc5b2c6b623b5d93389bdd6b760245aa1f81ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 3 10:03:25 2018 -0800

    Updated copyright for 2018

commit 888198ee31de0d16244b88b2bb486d4b70e392e3
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jan 3 00:43:01 2018 -0400

    metal: Misc. improvements.
    
    - Use a single buffer for various non-changing constants accessed by the GPU, instead of multiple buffers.
    - Do the half-pixel offset for points and lines using a transform matrix so we don't need a malloc when rendering.
    - Don't add a half-pixel offset for other primitives and textures. This matches D3D and GL render behaviour.
    - Remove the half-texel texture coordinate offset since it's not needed now that there's no more half-pixel position offset when rendering a texture.
    - Don't try to set texture usage on iOS 8 since it doesn't exist there.

commit f9cd765020586e0574e88ccddf0f0066ca6844de
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jan 2 21:44:28 2018 -0400

    metal and moltenvk: fix highdpi.

commit ef1014ac68eda75d8cb0940f3d389ea5ec02eb39
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jan 2 19:06:14 2018 -0400

    configure script: Implement testing for build-time Metal SDK support.

commit b3b5c4736644ae6b1ff935cf7283fe2a0a1ac6ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 2 14:32:15 2018 -0800

    Fixed direction of y adjustment for new orthographic projection in the metal renderer

commit fa86807ceb2ff3c312931386717514f3af474962
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 2 14:11:10 2018 -0800

    Fixed metal renderer pixel centers when drawing

commit 07f08b47ffa1e45b96d3001dbe45895c8538384f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jan 1 23:06:08 2018 -0400

    metal: Fix a typo preventing iOS compilation...

commit 1cc6603378856fe1a2b70bd2ffb20c405ac4f064
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jan 1 23:03:50 2018 -0400

    metal: Clean up manual reference counting. Fixes some memory leaks.

commit 7c667a6f7a12021fa4539a3f19836d6f1da997f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 1 19:16:51 2018 -0500

    windows: Remove references to GetVersionExA (thanks, Andrew Pilley!).
    
    "GetVersionExA is deprecated in windows 8.1 and above's SDK, causing a warning
    when building against the win10 SDK. Attached patch cleans up the usage for a
    warning-free build.
    
    GetVersionExA was being used to test to see if SDL was running on win9x or
    winnt. A quick chat with Ryan on twitter suggested that SDL doesn't
    officially support win9x anymore, so the call to this can be outright removed.
    
    As an aside, replacing the call to GetVersionExA with VerifyVersionInfoA (the
    recommended path) would have been pointless, as VerifyVersionInfoA only
    supports VER_PLATFORM_WIN32_NT and doesn't officially support any other value
    for dwPlatformId currently. (And it's probable that win9x SDKs didn't have
    VerifyVersionInfo* in them anyway.)"
    
    Fixes Bugzilla #4019.

commit a452a08458c5274aa37faad25344c2e572de9637
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jan 1 19:40:29 2018 -0400

    iOS: fix build

commit 639ea9fdbc43c8e94b6945763a92b3921417834c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jan 1 19:37:16 2018 -0400

    metal: Use sampler state objects instead of shader-declared samplers for linear vs nearest filtering.
    
    This avoids a ton of shader duplication once multiple shaders that use samplers are added (e.g. the currently missing YUV shaders).

commit cf45cf70e5b2f7e986b7eecd4a5185ad127e49e6
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jan 1 18:06:27 2018 -0400

    metal: Add support for custom blend modes.

commit 85470a2f9531a6c24514d16696ca4e456050ec9e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Dec 31 21:06:16 2017 -0400

    metal: implement SDL_RenderCopyEx, and fix a memory leak in SDL_CreateTexture.

commit 047d387b2e3994de84a334e8f9af1ba9855d066f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Dec 31 15:30:08 2017 -0400

    metal: Use the existing cocoa code for creating a Metal view on macOS. Fixes the renderer size when the window is resized.

commit 48fea0cee4efd167b9b446afcf4f0d06413cee12
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Dec 31 15:21:25 2017 -0400

    macOS: Fix MoltenVK Metal view resizing, and allow the metal view to be used without vulkan.

commit 6d32ebdbc975d92da5543a4025e6984ec180bd61
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:51:17 2017 -0500

    winrt: Add mmdevapi.lib dependency to WinRT8.1 builds, for WASAPI support.

commit 027d63bc013fbbc41cb2569c6d19a7dbcfb6da72
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:36:54 2017 -0500

    winrt: workaround for pre-UWP builds.
    
    There's probably a better way to do this for legacy platforms, though.

commit 140cc46004cf9093a7426c98c84204db3172e995
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:35:41 2017 -0500

    windows: Use WaitForSingleObjectEx() always
    
    This is available since Windows XP, so it's safe to use always, not just in
    a WinRT ifdef.

commit 77bb49b7a7d8b44820335b14cf75ba7f5e221680
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:34:16 2017 -0500

    wasapi: Patched to compile on non-UWP WinRT builds.

commit c0c3056948ad99c06a1de09a8dcf4ce93ce12c84
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:17:18 2017 -0500

    winrt: Disabled Windows Phone 8.0 builds.
    
    It lacks APIs we need for WASAPI and probably no one will miss it. 8.1 is
    still supported.

commit 791c0dd8ab3bddefd18371f2da7da8d3da909135
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 31 03:13:33 2017 -0500

    winrt: bumped SDL's shipping version number in winrtbuild.ps1

commit 42b19c9749b5ccd0c9602e47e2f3d148d2163ab8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Dec 30 22:39:55 2017 -0400

    metal: Respect the vsync flag on macOS 10.13+.

commit e24dc9053bb72a7b6aa5d59e4be75e6baabb2dce
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Dec 30 20:32:22 2017 -0400

    metal: use a projection matrix instead of manually transforming vertices into clip space on the CPU.

commit 49df65c25a4c7879c55dffaa4255c750473334aa
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Dec 30 18:48:07 2017 -0400

    metal: only 4 (instead of 5) vertices are needed to draw rectangles and textures, and only 3 (instead of 5) vertices are needed to cover the screen for the 'full-screen quad' when clearing.

commit d027f3602fc8dc835ab78f9b2cbac2df6fcd3347
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 30 14:40:39 2017 -0500

    xcode: Add Metal and QuartCore to everything as a weak_framework.

commit 64ec4c3334a615e44a98e132a54ef5a319ac66d7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 29 22:13:40 2017 -0400

    macOS: Make sure the desktop's display mode is always in SDL's list of display modes.

commit 616827ae6472351ee3b923da95106e686c4617c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 19 11:19:10 2017 -0800

    Fixed bug 4001 - Android, prevent error message box to crash
    
    Sylvain
    
    Prevent the error message box to crash after being clicked.
    Because of "SDLActivity.mSingleton.finish();"

commit b7be5bce33bf53fe62c9345379a9b08e3cb22703
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 19 11:17:37 2017 -0800

    Fixed bug 4000 - SDL2 on raspberry: mouse displayed at 0,0 after SDL_ShowCursor
    
    Laurent Merckx
    
    I have a problem with the SDL_ShowCursor method on Raspberry.
    
    Depending on the context, my application hides or show the mouse cursor with SDL_ShowCursor.
    But when calling SDL_ShowCursor(true), the cursor is displayed at 0,0 (and not at last position).
    
    After debugging sources by myself, it seems that the problem is in SDL_rpimouse.c - RPI_ShowCursor:
    
    vc_dispmanx_rect_set( &dst_rect, 0, 0, curdata->w, curdata->h);
    should be
    vc_dispmanx_rect_set( &dst_rect, mouse->x, mouse->y, curdata->w, curdata->h);
    
    For me, it solves the problem.

commit 70082db8491ee215681fd55c2b19ce5b2c676bdf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 19 11:14:06 2017 -0800

    Fixed bug 4003 - HAVE_POLL undefined in SDL_poll.c, making it impossible to use.
    
    tomwardio
    
    HAVE_POLL is correctly defined in SDL_config.h when running configure. However, in the only place where it's used, it's undefined at the start of the file.

commit b92e2f027aeb4e5abb0cb58c32b8ecdabcbadcda
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 19 10:57:21 2017 -0800

    Fixed bug 4004 - iOS: don't hide keyboard on RETURN
    
    Dominik Reichardt
    
    As discussed in 2012 the iOS onscreen keyboard hides when you hit RETURN (see https://discourse.libsdl.org/t/on-screen-keyboard-change/19216).
    IMO this is a bad idea to not be able to influence this behavior and just recently this was fixed for Android by adding the hint SDL_HINT_ANDROID_RETURN_HIDES_IME in changeset 11768   6ce3bb5e38a5.

commit fee2469c658a7cfee2cc4c0a2af9115b4f1fcbd3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 19 10:48:29 2017 -0800

    Fixed bug 4005 - Android, SDL_IsGameController() crashes is index is out of range
    
    Sylvain
    
    On Android, if you give an invalid index to SDL_IsGameController(), it will crash in SDL_SYS_IsDPAD_DeviceIndex().

commit e5cfa241829ef5325a8fbfd43a65e3029dbfcf52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 16 10:40:47 2017 -0800

    Fixed default Android D-PAD mapping so the back button is treated as B

commit 255362a3eda93b84a1599210bb5fef9ebb255d51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 16 10:40:45 2017 -0800

    Fixed handling of the Apple TV remote buttons
    The menu button on the remote is the back button

commit cc30e1eb3d78e66960fd9a1ce6568b74ab9e66ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 16 10:40:43 2017 -0800

    Added support for the ASUS TV500BG Android gamepad

commit 95d8396e9d7b48928a3763e9293f3ad6505f4fff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 16 10:40:41 2017 -0800

    Added Android build script for SDL

commit ab4695f48f2d82b0166af550b916446e8f912fd9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 13 14:35:55 2017 -0500

    wasapi: switched to event-driven interface.
    
    This reduces latency and improves battery life.

commit 988034fcc7657a3f00824d11f71ce46c1f6c9653
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 12 22:25:39 2017 -0500

    windows: Fixed a comment.

commit 684c5847adb9045cba3add317c6f1ae228b81e21
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 22:30:21 2017 -0800

    Moved deployment target values to project settings

commit 35a2eed3c17fbda8a141b4b3372bc2fa419349e2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 21:59:39 2017 -0800

    Parameterized the All (target platform) build target scripts so they can be used in other projects

commit 18577a70dd18bfd16f1de7ac5473eb838b042a43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 16:37:23 2017 -0800

    Fixed bug 3992 - SDL_GetColorKey doesn't set error message
    
    Luke A. Guest
    
    SDL_GetColorKey does not set an error message on failure. The current source just returns -1.
    
    The documentation https://wiki.libsdl.org/SDL_GetColorKey?highlight=%28%5CbCategoryAPI%5Cb%29%7C%28SDLFunctionTemplate%29 says to call SDL_GetError but that is useless in this case.

commit 87894224b6456f95d33d93dd9c030fa010f2ffe5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 16:34:16 2017 -0800

    Fixed bug 3981 - Inverted logic bug in SDL_renderer "overscan" feature
    
    Eric wing
    
    There is a tiny bug in the new overscan code for the SDL_renderer.
    
    In SDL_renderer.c, line 1265, the if check for SDL_strcasecmp with "direct3d" needs to be inverted.
    
    Instead of:
    if(SDL_strcasecmp("direct3d", SDL_GetCurrentVideoDriver())) {
    
    It should be:
    if(0 == SDL_strcasecmp("direct3d", SDL_GetCurrentVideoDriver())) {
    
    This bug causes the "overscan" mode to pretty much be completely ignored in all cases and all things remain letterboxed (as before the feature).

commit 0597bf6e997c355f78c3782e70b755901316faec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 16:25:43 2017 -0800

    Fixed bug 3993 - altivec.h include in SDL_cpuinfo.h breaks compilation with -std=c++11
    
    bastien.bouclet
    
    According to this GCC bug report, altivec.h requires building with the gnu extensions: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78263.
    
    As an application developer, I don't want SDL to force me to enable the gnu extensions.

commit ca7297668a88109c8ddfe8340ba6db2f8022c105
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 16:10:20 2017 -0800

    Fixed bug 3996 - Corrupted or over-released critical section on SDL_Quit (SDL_event_watchers_lock)
    
    Andrew
    
    This likely comes down to an additional 'unlock' being called before destroying it, without a matching 'lock'.

commit 2afc0b7fa54426711686fce112ec88f25b9a006f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 12:52:23 2017 -0800

    Add the ability to set SDL to handle Return as 'hide IME' on Android softkeyboard. (thanks Rachel!)

commit e8bbbb37f1cf814118f1d517bb8803abe4bc7651
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 12:52:17 2017 -0800

    Added support for Android video textures

commit bed7fd80662c49c8501265ef849692fd8192dd3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 12:52:09 2017 -0800

    Merged latest changes from rel/streaming_client

commit 527a8eb058f829663dd27b0ba3128db0a4214a9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 12:14:55 2017 -0800

    Renamed Xcode build targets so it's easier to copy files out of build directories on the command line
    Also enabled bitcode, which is needed for App Store builds

commit 638d4fe3f818063669e4d04478ba9abf6c3dd634
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 12 11:29:00 2017 -0800

    Added SDL_uikitmetalview.m to the tvOS project

commit e0d0184f094db0d13fa824197d9f0076f405eb37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 11 14:44:34 2017 -0800

    Fixed bug 3999 - Build failed when try to build with configure script for Android

commit f1ec8a5f4ccb4bb15ca2af3ac5a003cc6f8b9194
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 11 12:00:12 2017 -0800

    Check for immintrin.h before using it in SDL_cpuinfo.h

commit 1b16618b13638e57bc9cf5c87135e0cce6054400
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 11 11:47:52 2017 -0800

    Fixed Windows gcc build

commit 7ac46a7449502652cb9f7828ea664e71c3ea1c70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 11 11:34:53 2017 -0800

    The newer compilers generate the property boilerplate automatically

commit 358e4d9c7e58981e2e47d4512e4f48a009f9dee3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 11 11:02:51 2017 -0800

    Fixed Mac OS X build

commit ab06f570a8e852cf8a1e12106bd08ad54136ba72
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 10 09:17:33 2017 -0800

    Workaround for bug 3931 - spurious SDL_MOUSEMOTION events with SDL_HINT_MOUSE_RELATIVE_MODE_WARP 1 since Windows 10 Fall Creators update
    
    Elis?e Maurer
    
    The attached minimal program sets the SDL_HINT_MOUSE_RELATIVE_MODE_WARP to 1, enables relative mouse mode then logs all SDL_MOUSEMOTION xrel values as they happen.
    
    When moving the mouse exclusively to the right:
    
     * On a Windows 10 installation before Fall Creators update (for instance, Version      10.0.15063 Build 15063), only positive values are reported, as expected
     * On a Windows 10 installation after Fall Creators update (for instance, Version 10.0.16299 Update 16299), a mix of positive and negative values are reported.
    
    3 different people have reproduced this bug and have confirmed it started to happen after the Fall Creators update was installed. It happens with SDL 2.0.7 as well as latest default branch as of today.
    
    It seems like some obscure (maybe unintended) Windows behavior change? Haven't been able to pin it down more yet.
    
    (To force-upgrade a Windows installation to the Fall Creators update, you can use the update assistant at https://www.microsoft.com/en-us/software-download/windows10)
    
    Eric Wasylishen
    
    Broken GetCursorPos / SetCursorPos based games on Win 10 fall creators are not limited to SDL.. I just tested winquake.exe (original 1997 exe) and it now has "jumps" in the mouse input if you try to look around in a circle. It uses GetCursorPos/SetCursorPos by default. Switching WinQuake to use directinput (-dinput flag) seems to get rid of the jumps.
    
    Daniel Gibson
    
    A friend tested on Win10 1607 (which is before the Fall Creators Update) and the  the bug doesn't occur there, so the regression that SetCursorPos() doesn't reliably generate mouse events was indeed introduced with that update.
    I even reproduced it in a minimal WinAPI-only application (https://gist.github.com/DanielGibson/b5b033c67b9137f0280af9fc53352c68), the weird thing is that if you don't do anything each "frame" (i.e. the mainloop only polls the events and does nothing else), there are a lot of mouse events with the coordinates you passed to SetCursorPos(), but when sleeping for 10ms in each iteration of the mainloop, those events basically don't happen anymore. Which is bad, because in games the each iteration of the mainloop usually takes 16ms..
    
    I have a patch now that I find acceptable.
    It checks for the windows version with RtlGetVersion() (https://msdn.microsoft.com/en-us/library/windows/hardware/ff561910.aspx) and only if it's >= Win10 build 16299, enables the workaround.
    All code is in video/windows/SDL_windowsevents.c
    and the workaround is, that for each WM_MOUSEMOVE event, "if(isWin10FCUorNewer && mouseID != SDL_TOUCH_MOUSEID && mouse->relative_mode_warp)", an addition mouse move event is generated with the coordinates of the center of the screen
    (SDL_SendMouseMotion(data->window, mouseID, 0, center_x, center_y);) - which is exactly what would happen if windows generated those reliably itself.
    This will cause SDL_PrivateSendMouseMotion() to set mouse->last_x = center_x; and mouse->last_y = center_y; so the next mouse relative mouse event will be calculated correctly.
    
    If Microsoft ever fixes this bug, the IsWin10FCUorNewer() function would have to
    be adjusted to also check for a maximum version, so the workaround is then disabled again.

commit baae74c857e9b0fd49dd207e5c8448662ea4dcd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 10 09:10:02 2017 -0800

    Added SDL_WinRTGetDeviceFamily() to find out what type of device your application is running on (thanks Daniel Knobe!)

commit 3ae97689354813ea5f2c89a1d12631f67e38c622
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 10 09:09:27 2017 -0800

    Added the Metal framework to several iOS tests

commit c2cc9c166cd3658aebc1a5d97c4cf3e2a185f75c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 9 19:48:38 2017 -0800

    Backed out using pixel texture coordinates, it had weird visual side effects

commit 8aad49238b6ddc0615657bfdb448ed07a61c1b01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 9 19:41:08 2017 -0800

    Fixed normalized coordinates when the viewport is set

commit 441d3095518cf0a15e0a0f57ee8256730a09dae4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 9 15:00:41 2017 -0800

    Added support for linear sampling and pixel coordinates in the metal renderer

commit 1c43705bab83ec537b2cc7d55a0429c3599d8e5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 9 13:05:56 2017 -0800

    Fixed compiler warning

commit f55c998891d20a71cba2a7f97c372c12f0ba5fc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 9 12:58:41 2017 -0800

    Fixed pixel positioning and size for the Metal renderer

commit 7dac177cd18f050c349fbf28b011c39789b7efb6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 9 03:28:23 2017 -0500

    metal: fixed render target support.

commit 85d12d8f21884afd43558470230bf2a055439fb6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 9 03:27:52 2017 -0500

    metal: Added some comments and FIXMEs.

commit dbce1341d5d7f4113ff26b9b649cd52ab402e433
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 9 03:24:01 2017 -0500

    audio: fixed typo in Doxygen comment.

commit bcf1e62289ac7344f8a2148befa90e61ed4ebc2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 16:12:53 2017 -0800

    Removed duplicate entry for SDL_wasapi.h

commit 686fc0937e58928ff47c1e3fe7583b581f7869e0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 8 18:26:26 2017 -0500

    metal: Cleaned up some reference count politics.

commit 7cb8b50ad8ea935e31abf58049d75611427b3a8c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 8 17:43:57 2017 -0500

    hints: Add "metal" to the list of SDL_RENDER_DRIVER hints.

commit cf3d450313d2745b7d9e71a357e50722e1c53da0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 14:30:10 2017 -0800

    Added SDL_RenderGetMetalLayer() and SDL_RenderGetMetalCommandEncoder()

commit c403c0fa9a05e376e3ec033f641083c7e757bf7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 13:20:20 2017 -0800

    Fixed Metal renderer memory leak

commit 81a33985e120b1308a121249745ee444ff0a1756
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 8 14:03:36 2017 -0500

    metal: Don't check if Metal is available if targeting modern macOS versions.

commit b733dcc208994f6639162e360f8593468c85c57a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 12:02:23 2017 -0800

    Minor cleanup

commit 5182c23c6b65a3249cc2330cbd7e78e81f8f741a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 11:35:19 2017 -0800

    Fixed minor memory leak in the Metal renderer

commit cac4e31261708e4b736f45d667e85a96ca8a427e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 11:34:32 2017 -0800

    Added check for failure of D3D_ActivateRenderer()

commit 127841f31507fba60f0eda51af595416664dabc6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 11:33:27 2017 -0800

    Fixed compiler warning

commit 1a1cd8c1432996e5d0e50dd7ae78394a9f3593c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 11:09:05 2017 -0800

    Fixed bug 1878 - Scaled texture draws with filtering produce wrapping artifacts.
    
    Yuri K. Schlesner
    
    When using texture filtering, there are filtering artifacts visible on the edges of scaled textures, where the texture filtering pulls in texels from the other side of the texture. Using clamping texture modes wouldn't completely fix this since source rectangles don't need to cover the whole texture. (See screenshot attached in next post.)
    
    The opengl driver uses clamping on textures and so avoid this at least in the cases where the source rect is the whole texture. The direct3d driver does not and so has problems in every case. I'm not sure if it can actually completely be fixed, but at least enabling clamping for direct3d would be one step in the right direction.

commit 74729638057522f5bc984cadff308a467d3a5b0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 8 00:49:35 2017 -0500

    configure: List Metal in video drivers.

commit dc04f290a359ed0283e6703018ecb4e5427c7066
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 8 08:58:02 2017 -0800

    Defer getting the next drawable until we actually start rendering
    This works better for games where there may be a bunch of simulation logic that needs to be run before the next rendering pass, and prevents blocking if the next drawable is busy.

commit 104decd16d0896f28c953006a4b2714e4179006a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 18:08:51 2017 -0800

    Fixed runtime errors on iOS

commit ba9c336e0417d919142224618aaf5d21acc1bea4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 17:47:01 2017 -0800

    Fixed building for simulators or older iOS SDKs

commit 6deb1e75952685a9b1c3826bf4998406c4f10a4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 17:12:03 2017 -0800

    Fixed compiling Metal renderer on iOS

commit 1ae73a2be8b7dafdda9c509606a32728fddd7a62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 16:08:47 2017 -0800

    Added iOS and OSX versions of the Metal shaders

commit b2859af6dffed1aacca3a0822e2d27c247442779
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 16:08:09 2017 -0800

    Enable building the Metal renderer by default, and weak link the Metal framework so the SDL library is safe to use on older Macs
    Also generate iOS versions of the Metal shaders

commit 2a2c8d42ca8daff992853e69131b3f0e3fea5517
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 21 03:16:44 2016 -0400

    Initial shot at a renderer target for Apple's Metal API.
    
    This isn't complete, but is enough to run testsprite2. It's currently
    Mac-only; with a little work to figure out how to properly glue in a Metal
    layer to a UIView, this will likely work on iOS, too.
    
    This is only wired up to the configure script right now, and disabled by
    default. CMake and Xcode still need their bits filled in as appropriate.

commit cadf3e44cad0036ae6ab426495c97e1087f52ed1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 7 09:35:28 2017 -0800

    The Metal view is a full SDL_uikitview to support multi-touch

commit ef6e629d394d2cf3097dc85bf215863a5ab30245
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 6 16:37:55 2017 -0500

    cocoa: Added two missing files from hg changeset da7ba330ec68.
    
    Fixes Bugzilla #3975.

commit 351d6d478443fe8a1ede1e993712f07cb369d483
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 6 12:24:32 2017 -0500

    audio: Port WASAPI to WinRT, remove XAudio2 backend.
    
    XAudio2 doesn't have capture support, so WASAPI was to replace it; the holdout
    was WinRT, which still needed it as its primary audio target until the WASAPI
    code code be made to work.
    
    The support matrix now looks like:
    
    WinXP: directsound by default, winmm as a fallback for buggy drivers.
    Vista+: WASAPI (directsound and winmm as fallbacks for debugging).
    WinRT: WASAPI

commit 083fe066d5b57fd22e463f89260a00ff997cbe4f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 6 13:48:51 2017 -0500

    winrt: Patched to compile on Ryan's workstation.  :)
    
    I'm not sure why I needed this, but it appears to fix the build on VS2015 here.

commit 47506fe1deeac84f6374a1438ba5dd0e18151bd7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 4 20:37:01 2017 -0800

    Fixed bug 3974 - Fix SDL_WarpMouseInWindow on both KMSDRM and RaspberryPi drivers
    
    Manuel Alfayate Corchete
    
    This patch fixes SDL_WarpMouseInWindow() in both the KMSDRM and Raspberry Pi graphic backends.

commit 57ebc727143899eca021962f3534f68097671d64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 4 20:35:01 2017 -0800

    Fixed bug 3975 - Add GLES2 support for macOS via ANGLE library
    
    Andrey
    
    Seems latest google angle library successfully built & tested under macOS'es.
    
    https://github.com/google/angle
    
    We need to use GLES2 to implement true cross-platform code.

commit 7914725bfcdac675447c2d7effc2e225d2dbc009
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 4 20:26:09 2017 -0800

    Removed spurious debug output

commit 5a735da968853c4a1a38723a296a35ac6fa9b9ef
Author: Olli Kallioinen <olli.kallioinen@iki.fi>
Date:   Mon Dec 4 19:28:03 2017 +0200

    Fixed SDL_Log not working on windows if the output is being redirected.

commit 14452e955070d975d28e20b326d5d1c1e6d7b4c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 4 20:21:52 2017 -0800

    Fixed typos (thanks Martin!)

commit 67950e101e531c32d9b7907ebbe468070a9b58b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 3 20:27:08 2017 -0800

    Fixed name of eglCreatePbufferSurface function

commit e943d1ce5a1a40b6eef59ab6f4427ab4ff219f81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 3 20:25:55 2017 -0800

    Fixed bug 3945 - Add eglCreatePbufferSurface function
    
    tomwardio
    
    Proposed patch loads eglCreatePbufferSurface in same manner as other 1.1 functors. This allows custom video drivers to create pbuffer surfaces.

commit 25df5a5ac9662582dbe3c74115fb169cc8217720
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 28 18:31:18 2017 -0800

    Non-resizable windows need to have their window rect set to the client rect

commit 88e3562ba0f481cc25c054b0e52611f2d731b837
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 27 15:07:07 2017 -0800

    Use the included Khronos headers on Android so we can create Core OpenGL contexts when building with older SDK

commit 8758b7bf1599488e20c803a42341a1a3f241282b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 24 12:03:28 2017 -0800

    Fixed bug 3980 - Fix for KMSDRM driver where cursor would not be shown on some gfx hardware because of unsupported cursor size
    
    Manuel Alfayate Corchete
    
    This fixes a problem with KMSDRM on some graphics hardware where only bigger cursor sizes are supported, such as current Intel gfx. (The kernel-side driver is what limits this: had to look for failing IOCTLs...)
    That caused SDL_SetCursor() to fail silently, and we were left with a missing cursor without further explanation.
    With this patch, different "standard" sizes are tried and a bigger one is used (with an intermediate and clean buffer only used to write the new cursor to the BO where it will live after) if we get, let's say, 16x16 which is pretty common but our hardware does not support that.

commit 5f38b5d7051ffde8fa37c6bd8ee4a24543477290
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 24 03:01:07 2017 -0800

    Fixed bug 3979 - Failed to link with "multiple definition of `scalbln'" error on both MinGW and MinGW-w64 by CMake
    
    Vitaly Novichkov
    
    Once I ran build of my codecs collection on AppVeyor where my CMake script downloads latest SDL2 from HG repo, failed to link because of math functions conflict:
    
    https://ci.appveyor.com/project/Wohlstand/audiocodecs/build/1.0.44
    The revision is b9ff5f8b2303
    
    There are both vanilla MinGW and MinGW-w64 are failed to build.
    
    
    ```
    [100%] Linking C shared library libSDL2.dll
    c:/mingw/bin/../lib/gcc/mingw32/5.3.0/../../../libmingwex.a(scalbn.o):(.text+0x0): multiple definition of `scalbln'
    CMakeFiles\SDL2.dir/objects.a(s_scalbn.c.obj):C:/projects/audiocodecs/build-MinGW-Release-Win32/external/SDL2/src/SDL2HG/src/libm/s_scalbn.c:30: first defined here

commit f776997afc84fe4f09fb9f911280b21d9bf38e89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 21 21:58:27 2017 -0800

    Fixed some compiler warnings

commit ac4b491b2039fd28395d8f92eecc58727799fd86
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 21 21:51:33 2017 -0800

    Disabled spurious Visual Studio warnings in the uClibc math code

commit 1c0c90323cce31cf0125eae8de8ade067f7fb1b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 21 21:30:47 2017 -0800

    Fixed bug 3976 - SDL drivers may leak driverdata memory due to ignoring return value of SDL_AddDisplayMode
    
    C Snover
    
    SDL_AddDisplayMode returns an SDL_bool corresponding to whether or not the given display mode was added or not. It will return SDL_FALSE if a matching display mode already exists in the display's list of display modes, which causes ownership of the mode driverdata to remain with the caller. Some video drivers ignore the return value of SDL_AddDisplayMode, so leak the driverdata memory when SDL_AddDisplayMode returns SDL_FALSE.

commit 688bc2858ad1d70a798dc2302145a2daa4fa3411
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Nov 20 13:59:43 2017 -0500

    Steam Virtual GamePad config for macOS

commit 3ac8adbae3a6b210e08b4f8b3b07e8aafa3b2c63
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 20 00:06:37 2017 -0800

    Fixed bug 3973 - Include of stdint is needed to build on linux, mingw and possibly android
    
    Stuart Axon
    
    https://discourse.libsdl.org/t/stdint-h-removed/23426
    
    https://discourse.libsdl.org/t/debuild-fails-to-build-the-last-few-days/23429/4
    
    Currently SDL2 is not building in Linux (x86 and ARM), Android and MingW because include stdint.h has been removed from yuv_rgb.h

commit a4b33d7451b8f2b9bd1bbb667a35e3118111fa65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 20 00:03:23 2017 -0800

    Fixed bug 3959 - cmake build broken by commit 11702 (7fdbffd47c0e) due to typo
    
    Mate Nagy
    There is a typo in CMakeLists.txt that makes CMake exit with failure.
    
    Change that causes the problem: (Notice the double ending brackets)
       ${SDL2_SOURCE_DIR}/src/video/*.c)
    +  ${SDL2_SOURCE_DIR}/src/video/yuv2rgb/*.c)
    
    Fix:
    Just remove the first ending bracket resulting in:
       ${SDL2_SOURCE_DIR}/src/video/*.c
       ${SDL2_SOURCE_DIR}/src/video/yuv2rgb/*.c)

commit dba9979f440c28e55cc4cef233050ebcd6e2419d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 19 23:36:54 2017 -0800

    Added support for aarch64 memory barrier instruction

commit 8fb3885c3c2bd7b933060336518a6db10117b49d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 17 11:03:02 2017 -0800

    Fixed bug 3964 - YUV to RGB in video/SDL_yuv.c is broken for any output format of type ABGR8888 or BGR888
    
    raist66676
    
    Here is the bug in latest SDL 2.0.8 development repo. It is obvious and simple to fix by correcting typos on six lines of code.
    
    In src/video/SDL_yuv.c on lines 217, 249, 280, 321, 353, and 384 the wrong conversion functions are called for SDL_PIXELFORMAT_ABGR8888 and SDL_PIXELFORMAT_BGR888. Instead of ABGR functions, BGRA functions are called. These are typos.

commit cd89efb8b995675a9c55dda5e83a1099f720b082
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 17 10:55:58 2017 -0800

    Fixed building yuv_rgb.h when stdint.h isn't available (thanks Ozkan!)

commit 4764f7a45ca0212e33b403e72e56c52f16c6c85f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 17 10:54:46 2017 -0800

    Fixed building YUV test programs (thanks Ozkan!)

commit a6a4e27ae81783cede008460c9ef957e050860f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 12 22:51:12 2017 -0800

    Updated SDL's YUV support, many thanks to Adrien Descamps
    
    New functions get and set the YUV colorspace conversion mode:
            SDL_SetYUVConversionMode()
            SDL_GetYUVConversionMode()
            SDL_GetYUVConversionModeForResolution()
    
    SDL_ConvertPixels() converts between all supported RGB and YUV formats, with SSE acceleration for converting from planar YUV formats (YV12, NV12, etc) to common RGB/RGBA formats.
    
    Added a new test program, testyuv, to verify correctness and speed of YUV conversion functionality.

commit c317ab978f23eb52232a2cfcf94e5d7043ac195a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 12 10:59:05 2017 -0800

    Fixed Android build error on older SDK

commit 20364769e0fb88699a07779806535b645e76efe0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 11 17:21:47 2017 -0800

    Fixed typo in comment

commit 846d008036a526bc0fa9b0b073f418336dc3f228
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 11 16:20:00 2017 -0800

    Only include Intel intrinsics header on x86 and x64

commit 4026db8c7efb5f1c69d9c3fc47bcc40af10c3375
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 10 14:22:21 2017 -0800

    Replaced the intrinsics header with the single header that includes all intrinsics so we can use AVX, etc.

commit 5501bcc8340ecda01fe920439af50e1d3a934627
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 9 22:24:09 2017 -0400

    macOS: Fix an OS-generated warning printed to stdout on launch in bundled apps.

commit fcb77f9848f716e84e983f2d22099e30eea5b661
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 8 14:17:23 2017 -0800

    Back out the following commits which are causing Dota 2 Exclusive Fullscreen to fail on AMD-based Macs.  The details of why this is being reverted are at: https://bugzilla.libsdl.org/show_bug.cgi?id=3949
    
    Alex Szpakowski <slime73@gmail.com> 2017-07-12 21:28 -0300
    macOS: Expose more display modes on retina screens. Fixes an issue found in BZFlag.
    http://hg.libsdl.org/SDL/rev/cfb3ddf796c3
    
    Alex Szpakowski <slime73@gmail.com> 2017-07-12 21:32 -0300
    Fix a potential crash in macOS 10.7 and earlier.
    http://hg.libsdl.org/SDL/rev/4941c8867075

commit 9f4e4be8e0fb69467889fef42cfb364b99ff99f2
Author: Brandon Schaefer <brandontschaefer@gmail.com>
Date:   Tue Nov 7 09:10:32 2017 -0800

    Fixed bug 3943 - General SDL_HINT_VIDEO_DOUBLE_BUFFER hint support

commit 5cc46f3d30f4e8bba7e53b2da27741e80c70a91b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 6 15:29:24 2017 -0500

    mouse: remove assert for unimplemented platforms (thanks, tomwardio!).
    
    Fixes Bugzilla #3946.

commit bbb22a75c853f4ff3c1f14c60d7a41b7716c0185
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 5 01:17:24 2017 -0700

    Updated version to 2.0.8 since SDL_image depends on it

commit c5429bd975e0ced31046cb88dcc4ed9beb542a41
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 22:06:40 2017 -0700

    Fixed bug 3939 - Remove static vm_error and vm_event from SDL_x11modes.c
    
    tomwardio
    
    Remove static int vm_error and vm_event, use local variables instead.
    
    This fixes unused variable errors when compiling with SDL_VIDEO_DRIVER_X11_XINERAMA undefined.
    
    src/video/x11/SDL_x11modes.c:505:22: error: unused variable 'vm_error' [-Werror,-Wunused-variable]
    
    src/video/x11/SDL_x11modes.c:505:12: error: unused variable 'vm_event' [-Werror,-Wunused-variable]

commit 50e422adfe57cbb9bb2173c106b726d9f58e712b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 22:03:28 2017 -0700

    Fixed bug 3917 - Android, issues with getManifestEnvironmentVariable
    
    Sylvain
    
    What about getting some return code instead of creating another native function.

commit 2c5724ef5dc6a0071ec3f5ff0fb839f2a286ef5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 21:58:48 2017 -0700

    Updated version to 2.0.8 since SDL_image depends on it

commit afbba1822caffe63e241bbc800faec11500283f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 18:01:03 2017 -0700

    Fixed compiling on Windows with HAVE_LIBC enabled

commit 34a8cf767cd61f897ff4f2a3da8e383f715ad312
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 17:39:28 2017 -0700

    Fixed compiler warnings after uClibc code update

commit bcdf8b916b9ae040d1c90b555dc986af7fb0c1cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 17:35:03 2017 -0700

    Added SDL_fmod() and SDL_fmodf()

commit 6cf065753c84790e50926eaace8d62e42184d407
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 15:53:19 2017 -0700

    Updated math code from the uClibc 0.9.33 release

commit 34502143d9c311fd06ed4ae180d59b45867a7faa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 15:34:14 2017 -0700

    Added float versions of SDL's math functions

commit bba90a6562f298b7f8af9da1b838b57db5fc0c83
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 09:44:29 2017 -0700

    Fixed using libunwind on iOS, where it's only available on the simulator (thanks Vit!)

commit 758156a765dd8dd3ab482bd7b89b049da38053f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 09:37:29 2017 -0700

    Fixed bug 3917 - Android, issues with getManifestEnvironmentVariable
    
    We're going to push the manifest environment variables from the Java side instead of continually querying for them from the native side.

commit 7334a2a1b5b545b94152606a31c0c2a1eafbbf19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 09:07:33 2017 -0700

    Fixed bug 3940 - Add support for EGL_SURFACE_TYPE
    
    tomwardio
    
    Add support to be able to set EGL_SURFACE_TYPE bits when creating an EGL config. This is usefule when wanting to create pixel buffer surfaces in custom video drivers.

commit bf3e363d4b9d7c65c08c5a901fa0ebb81c4dd1de
Author: Conn O'Griofa <connogriofa@gmail.com>
Date:   Sat Nov 4 09:04:19 2017 -0700

    Raspberry Pi: fix ES 1/PVR support & autodetect Mesa driver
    * The brcmGLESv2 vendor library also supports ES PVR/1 profiles
    * Fallback to standard Mesa libraries if the VC4 driver is loaded

commit 547448df6f9ea5d6cdce9ed6b406788543134ba1
Author: Conn O'Griofa <connogriofa@gmail.com>
Date:   Sat Nov 4 09:03:20 2017 -0700

    SDL_video: try to bootstrap KMSDRM before RPI video driver
    Allow better coexistence between RPI's vendor libraries and VC4 mesa driver.

commit 7abef33c5b4ef1e66607d0cd83daec6a96efb693
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 4 09:00:40 2017 -0700

    Android configure-based build fixes (thanks Vit!)

commit 1724313349b598711af4d7ce87efa2e7dbf8e2be
Author: Johannes Bader <olydis@users.noreply.github.com>
Date:   Sat Nov 4 11:16:49 2017 +0000

    Emscripten: use cursor hotspot
    the cursor's hotspot simply wasn't translated to it's CSS equivalent, yet
    see https://developer.mozilla.org/en-US/docs/Web/CSS/cursor?v=example#Syntax. no explicit hotspot if (0|0) for compatibility with Edge and IE, which indeed don't support custom hot spots

commit bb8c3a9cc27da8949040bb9ea2267ceb00e13e2d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 2 10:41:55 2017 -0700

    Make SDL fullscreen windows on Android actually fullscreen

commit c954b5383013d19fd1c1ee6dcf7ce80e9ff785a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 2 08:48:14 2017 -0700

    Fixed bug 3935 - Not find joysticks if android run 24-48 days.
    
    Alexander Orefkov
    
    In src\joystick\android\SDL_sysjoystick.c in SDL_SYS_JoystickDetect when SDL_GetTicks return number grater 2147483648 (after 24.85 days uptime) SDL_TICKS_PASSED(SDL_GetTicks(), timeout) return FALSE and Android_JNI_PollInputDevices is never calling.
    And in JoystickByDeviceId - when search for newly added joystic - after SDL_SYS_JoystickDetect item not reinitilized, and always stay NULL, cause return NULL instead of added joystick.

commit 522901b88d697c7f28366a8b05953a9ebf299e13
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 2 08:46:14 2017 -0700

    Fixed bug 3933 - Android, no need of the listener thread
    
    Sylvain
    
    A listener thread has been added to know when the native thread would end.
    But now, it is more easy to only check that after the main function has returned. It's one thread less.

commit 1475e6984a5db4afaf454a06a67071130e86dca7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 19:19:21 2017 -0700

    Fixed bug 3917 - Android, issues with getManifestEnvironmentVariable
    
    Sylvain
    
    Some issue with this commit:
    https://hg.libsdl.org/SDL/rev/97387a8b88d3
    
    There is a memory allocation missing.

commit 8c46580231a552ec45d13526fd90553aeac61b0a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 18:41:11 2017 -0700

    Allow the activity to persist through connecting or disconnecting a keyboard

commit 62c3acaf9f5650225d4f965ab8575ea2f6c2305b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 18:40:11 2017 -0700

    Moved the meta-data into the right section

commit 54a0245b70b01b8725de24794ae5049a66a1be1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 17:41:25 2017 -0700

    Fixed bug 3926 - SDL_main export
    
    e_pluschauskas
    
    I noticed that after updating SDL to 2.0.6 my application now exports SDL_main.
    
    At GitHub SDL mirror (branch 2.0.5) SDL_main prototyped as
    extern C_LINKAGE int SDL_main(int argc, char *argv[]);
    but at branch 2.0.6 prototype is
    extern C_LINKAGE DECLSPEC int SDL_main(int argc, char *argv[]);

commit 9192c93e90219fede36d1f102b9661f9002fbea8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 17:30:02 2017 -0700

    Fixed bug 3932 - Android, GetDisplayDPI release local reference
    
    Sylvain
    
    When writing JNI code, one has to make sure all local references are released otherwise the app end up crashing.

commit a7d2d12c6435e556e943560db277dfc3ba8af425
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 10:07:04 2017 -0700

    Fixed building on non-Android platforms

commit a90be440e8bc743a24ffc9e5d246d30bfb9e9bdc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 1 10:06:58 2017 -0700

    Added controller mapping for Android TV remotes
    Also fixed the back button on the remote exiting the application

commit 4478707b0ae213bc2bcc02089c30f21954df5475
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 31 13:49:59 2017 -0700

    Add SDL_GetDisplayDPI implementation on Android. (thanks Rachel!)

commit 0e032d58606a4ab01b38483b894b20d6de930a2b
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Oct 24 13:21:11 2017 -0400

    WinRT: Move Windows::Foundation::Initialize to SDL2.dll, from SDL_main.
    
    This allows C# UWP applications to use SDL2's SDL_WinRTRunApp function.
    
    Kudos to Ethan Lee (flibitijibibo@flibitijibibo.com) for the patch.  Thanks!

commit 6d23ea4bf0437f6526c5c49e99330cb7b73bc239
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 29 21:09:09 2017 -0700

    Fixed Java string comparison with ""

commit fa5db3a931193f4ddd2c0e1cb173324116d8f3d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 28 12:11:25 2017 -0700

    Added the old ant Android build project structure

commit 2ac567b7156a964553c80fe64ea604fa88053fcf
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Oct 26 16:37:20 2017 -0700

    Fixed bug 3902 - Add a specific KMSDRM hint for low latency video

commit f24c6672a7d26a4986e933423e4334a139dba64f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 26 10:49:33 2017 -0700

    Updated SDL iOS project for tvOS

commit 213b249094ae04e3064543a661e12fa89c41662c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 26 10:42:14 2017 -0700

    Added missing keyinfotable.h

commit 8e37bed3b67e36669b35cfc8eb796d5103a60ffa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 26 10:41:38 2017 -0700

    android: Fix softkeyboard issue in SDL on Android.

commit 9bbf92e3da2b519ff267dae41b93b354f356fe36
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 25 18:02:11 2017 -0400

    cocoa: Don't change the NSWindow background color.
    
    Changing the background color causes the titlebar to blend against it on
    modern macOS releases, making all SDL windows look wrong by default. This was
    set to make the window not flash white before a GL context is ready, but we
    can accomplish this in our window's view's drawRect implementation, too.

commit 8fd0c22adc13ac85b27e89981e81870d88bfa62b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 24 00:17:07 2017 -0700

    Added the ability to set SDL hints from AndroidManifest.xml (thanks Rachel!)
    This is especially useful for things like the accelerometer hint which could be needed before application main().

commit 45536710f393991e1dd798e2f6d34e12fc34e3f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 24 00:04:40 2017 -0700

    Fixed crash if mSurface isn't set up when we pause the application

commit 81f7e0c1f7843107edbe17d2e86ec4a90a4676bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 23:35:04 2017 -0700

    Removed unneeded file automatically generated by Android Studio

commit b8d8a1f122ff1822e790724cd3d88f2434fdb00f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 23:26:40 2017 -0700

    Updated the minimum and target SDK versions in AndroidManifest.xml

commit edf0fae1398d8b4e8b2daf561397cf7d3a6559be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 23:23:47 2017 -0700

    Updated Android build tools version, which bumped minimum deployment target to API 14
    Also added native code to the Android gradle project, which allows using gradle or Android Studio to build the entire SDL application without a separate ndk-build step.

commit 76cdce440cf9d471e7537d7d9011b3e8ca0de05f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 23:23:34 2017 -0700

    Fixed build with older Android SDK

commit f08480af78ef561644f42507c28ab1b6c7cba960
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 15:23:43 2017 -0700

    Switched to new style gradle Android application build process

commit 862da6ff19d3a3e64840e9bfd6eca345b4ce3723
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 23 12:33:18 2017 -0700

    Added tag release-2.0.7 for changeset f69c9f74a857

commit b89cac6761e9ab48e1b6149a0da90d47baf6f925
Author: Sven Hesse <drmccoy@drmccoy.de>
Date:   Sun Oct 22 20:24:58 2017 +0200

    Don't X error in SDL_CreateWindow with unsupported GL attributes

commit adc64f922f60c65e8b6ed6686a629d074d96d0ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 21 22:26:24 2017 -0700

    Added Visual Studio solution files for WinRT projects

commit 10376eb926c09f2f420a5170540ae91cc5b267ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 21 04:20:57 2017 -0700

    Fixed bug 3901 - Fix vsync-ed pageflips on the KMSDRM video driver
    
    Manuel
    
    I noticed that, at least on Intel GPU hardware, passing SDL_RENDERER_PRESENTVSYNC would result on a static console instead of the program graphics.
    That was due to the fact that calling drmModePageFlip() only works if we have previously set up CRTC to one of the GBM buffers with a drmModeSetCrtc() call, so now it's done and things work as expected.
    
    The KMSDRM_GLES_SetupCrtc() call is done only one time, only when needed (when egl_swapinterval is not 0: when it's 0, there's no need for it because we flip by calling drmModePageFlip() anyway).
    The place where KMSDRM_GLES_SetupCrtc() call is done may look strange, but it's right: it needs EGL completely ready because it needs to call eglSwapBuffers() internally to work (see more comments about it in the code).

commit e830ef3458a3ee623866ce0bf1be96d5dc477fb8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 20 16:53:42 2017 -0700

    Fixed typo converting 4 channel audio to 2 channel

commit 9a291c1e590936fec6a24da954d5ec022c968e08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 20 14:51:22 2017 -0700

    Added a note about adjusting channel weights when converting to fewer channels

commit fe2b5fec6164b24f905431f618af8564750a148f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 20 14:48:10 2017 -0700

    Document the SDL audio channel mapping

commit 7a6cf53aea50c69a5f8cb6e0085b1ababf9db5c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 20 10:45:38 2017 -0700

    Added SDL_AudioStreamFlush() to the list of new audio stream functions

commit c339d9ed6d70d598223d949397d8fffbf3a43366
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 20 10:29:22 2017 -0700

    Reverted changes 6acdea394736 and 1448a2ac30fe
    I don't want to introduce any regressions with Android TV remote support

commit 2001898dceb9d0a6dab164e1cbc4ea8edcc26bfe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 19 15:37:52 2017 -0700

    Fixed Android joystick detection

commit 729329068b31dc1bb0d61474bd7c976c3601883e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 19 18:05:42 2017 -0400

    audio: Added SDL_AudioStreamFlush().

commit 9d9be456826c777663ee37477531b8c5c1238e50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 19 13:54:56 2017 -0700

    Don't use DPAD devices as joystick input on Android

commit e98920f5f31db12aaaadbdc59508245328a442ae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 18 23:49:46 2017 -0400

    Check correct variable for malloc() results.

commit afefcbfeba8a5fb78ab5f371096c6895954031a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 18 19:30:47 2017 -0700

    Fixed bug 3876 - Resampling of certain sounds adds heavy distortion
    
    Simon Hug
    
    Patch that adds [-1, 1] clamping to the scalar audio type conversions.
    
    This may come from the SDL_Convert_F32_to_X_Scalar functions. They don't clamp the float value to [-1, 1] and when they cast it to the target integer it may be too large or too small for the type and get truncated, causing horrible noise.
    
    The attached patch throws clamping in, but I don't know if that's the preferred way to fix this. For x86 (without SSE) the compiler (I tested MSVC) seems to throw a horrible amount of x87 code in it. It's a bit better with SSE, but probably still quite the performance hit. And SSE2 uses a branchless approach with maxss and minss.

commit 653ab5d9c43d2ea70829fc0730f31ecb71cdddf9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 18 19:26:36 2017 -0700

    Added a staging buffer to the audio stream so that we can accumulate small amounts of data if needed when resampling

commit 80f8464d97e94f81aba726430678dda0b941a23a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 18 15:54:05 2017 -0700

    Added audio stream conversion functions:
        SDL_NewAudioStream
        SDL_AudioStreamPut
        SDL_AudioStreamGet
        SDL_AudioStreamAvailable
        SDL_AudioStreamClear
        SDL_FreeAudioStream

commit 9fd0d6191c3adf1398b819933c36b40d8bc1898b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 18 08:52:04 2017 -0700

    Fixed bug 3821 - Allow SDL_CreateWindow and SDL_CreateRenderer with OpenGL ES 3.0 (GLES3) for Angle (Windows)
    
    Carlos
    
    Angle supports GLES3 but when using these functions (SDL_CreateWindow and SDL_CreateRenderer), defaults again to GLES2.0.
    
    A current workaround (hack) to retrieve a GLES3.0 context with Angle is:
    
    1) set
    
        SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 3);
        SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 0);
    
    after InitSDL AND after calling SDL_CreateWindow  (before SDL_CreateRenderer)
    
    2) Comment lines 2032-2044 in SDL_render_gles2.c, funtion GLES2_CreateRenderer
    
        window_flags = SDL_GetWindowFlags(window);
        if (!(window_flags & SDL_WINDOW_OPENGL) ||
            profile_mask != SDL_GL_CONTEXT_PROFILE_ES || major != RENDERER_CONTEXT_MAJOR || minor != RENDERER_CONTEXT_MINOR) {
    
            changed_window = SDL_TRUE;
            SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_ES);
            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, RENDERER_CONTEXT_MAJOR);
            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, RENDERER_CONTEXT_MINOR);
    
            if (SDL_RecreateWindow(window, window_flags | SDL_WINDOW_OPENGL) < 0) {
                goto error;
            }
        }
    
    This retrives a GLES3 context as confirmed using glGetString(GL_VERSION). This should be fixed by modifying a few if's.

commit 556a85443855ed22b22b75a5cef8bf23d7c071cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 16 15:22:40 2017 -0700

    Fixed compiler warning on iOS

commit e4ef1885d91eab727f5c59b6b173c2ae1e8540d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 16 14:57:42 2017 -0700

    Fixed bug 3890 - Incomplete fix for CVE-2017-2888
    
    Felix Geyer
    
    http://hg.libsdl.org/SDL/rev/a31ee4d64ff6 tries to fix CVE-2017-2888.
    Unfortunately compilers may optimize the second condition "(size / surface->pitch) != surface->h" away.
    See https://bugzilla.redhat.com/show_bug.cgi?id=1500623#c2
    I've verified that this is also the case on Debian unstable (gcc 7.2).

commit a225ffc1d79e6302970cd9ec364ac8d106d792a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 16 14:39:56 2017 -0700

    Added min/max macros for the sized SDL datatypes

commit 8e98bdaa6fe2b9055ef8ef5cf48d31a082cd5c5b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 15 21:21:19 2017 -0700

    Fixed bug 3883 - SDL_assert / SDL_PromptAssertion in TTY mode does not accept options ("abriA")
    
    shoerbaffen
    
    fgets can read a newline and SDL_strcmp will never return zero.

commit f658a737f66799de50a37cd77d02b6d56b6dcffd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 15 21:07:01 2017 -0700

    Fixed bug 3882 - cmake fix for osx
    
    Ozkan Sezer
    
    In my cross-build environment with cmake-2.8.12.1, cmake does not add
    SDL_coreaudio.m to its makefiles and the result is a failure. The fix
    is simple: set the language to C for it as it is done at other places
    in CMakeLists.txt.

commit dff56c34970dbf7bcba0206c3bc2b3d2510918aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 13 19:55:07 2017 -0700

    Android Studio code analyzer fixes

commit a223560a7f765c746c5294eb5ae7a03e24e71c83
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 13 19:30:34 2017 -0700

    Fixed bug 3880 - X Error upon quit since rev. 11607
    
    Ozkan Sezer
    
    Since changeset 11607:60cd425a2f14, I am getting the following
    error upon quit.  Running testsprite2, clicking the mouse, and
    quiting it is enough to trigger it.  This is on my old Fedora9
    x86-Linux:
    
    X Error of failed request:  BadCursor (invalid Cursor parameter)
      Major opcode of failed request:  2 (X_ChangeWindowAttributes)
      Resource id in failed request:  0xb057340
      Serial number of failed request:  905
      Current serial number in output stream:  906
    
    Reverting  https://hg.libsdl.org/SDL/rev/60cd425a2f14  removes
    the error.

commit cf9236488a33b951e92aaadb2b3bc0c836efa0d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 13 09:50:04 2017 -0700

    Fixed bug 3879 - add missing SDLCALL to SDLTest_TrackedMalloc & co.
    
    Ozkan Sezer
    
    The attached trivial patch adds missing SDLCALL to SDLTest_TrackedMalloc & co.

commit fa156741340c201f2b2963cb98bbd9810e632938
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 13 01:15:29 2017 -0400

    coreaudio: changed device close procedure to prevent long hangs in some cases.
    
    The audioqueue thread needs to keep running, and processing the CFRunLoop
    until the AudioQueue is disposed of, otherwise CoreAudio will hang waiting for
    final data to feed the device.
    
    At least, I think this is how it all works. It definitely fixes the bug here!
    
    Since AudioQueueDispose() calls AudioQueueStop() internally, there's no need
    for our thread to handle this, either, which is good because the AudioQueue
    would be disposed by this point. So now the AudioQueue is disposed first, and
    then our thread is joined, and everything works out okay.
    
    Just in case, we mark the device "paused" before setting everything in motion,
    so any further callbacks from CoreAudio will write silence and not fire the
    app's audio callback again.
    
    Fixes Bugzilla #3868.

commit 0506d4fc42299f49790fde52685028a6a83f34b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 17:21:57 2017 -0700

    Build both 32 and 64-bit architectures in the OSX Framework

commit fc60db86b3035e581161a1ae3d327074958ae574
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 17:17:09 2017 -0700

    Fixed compiler warning

commit 22b6df511b225f6e6bb0c077af4547dc2103b1b3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:46:28 2017 -0700

    Use the lower-case hex output to match other stack trace printouts

commit 707919569745cb7e2c6fee03c9e694354113df8a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:44:54 2017 -0700

    Fixed compiler warning

commit 5fc2017661a7b02ab07a0b3594723d7d690a77ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:25:07 2017 -0700

    Fixed bug 3877 - missing SDLCALL in SDLTest_ExampleHitTestCallback
    
    Ozkan Sezer
    
    Following trivial patch adds missing SDLCALL to SDLTest_ExampleHitTestCallback()

commit 4b28429882e4d409c70decd75259ee2fc43fb5b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:21:21 2017 -0700

    Android doesn't have libunwind.h in API 16

commit 41a60394d02002ea7356cd42d385418285ef9dc0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:20:17 2017 -0700

    Added missing file

commit 21cd2df694936a2341d0611d58d4b8cee08c61ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 14:02:24 2017 -0700

    Fixed compiler warning

commit ba10d2b654a31c6edef150b17985f00fd9ced3eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 13:55:35 2017 -0700

    Fixed compiler warning

commit 9c580e14c9d2301cea21eed66bbf7d0caf142653
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 13:44:28 2017 -0700

    Added functions to query and set the SDL memory allocation functions:
        SDL_GetMemoryFunctions()
        SDL_SetMemoryFunctions()
        SDL_GetNumAllocations()

commit 1887c54c6895675b47149735b4bda1f344f260e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 13:28:48 2017 -0700

    Fixed memory leak in Cocoa mouse code
    The video quit call cleans up the mouse cursor driver data, which happens after mouse quit

commit f4cd68a537d24a0b4b349603c55118d5320f96d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:47:02 2017 -0700

    Fixed bug 3866 - CMake error when trying to make the 'uninstall' target when it already exists
    
    Steve Robinson
    
    In my project, the 'uninstall' target is already created by the glew library.  I get this error when SDL2 tries to create it:
    
    CMake Error at _build/3rdparty/SDL2/SDL2-2.0.6/CMakeLists.txt:1816 (add_custom_target):
      add_custom_target cannot create target "uninstall" because another target
      with the same name already exists.  The existing target is a custom target
      created in source directory
      "D:/Code/sdl2-tutorial/_build/3rdparty/glew/glew-2.1.0/build/cmake".  See
      documentation for policy CMP0002 for more details.
    
    To fix it, go to the bottom of the SDL2 CMakeLists.txt file.  Add an if statement to check for the existence of the target before creating it.  The end result looks like this:
    
    if(NOT TARGET uninstall)
      configure_file(
          "${CMAKE_CURRENT_SOURCE_DIR}/cmake_uninstall.cmake.in"
          "${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake"
          IMMEDIATE @ONLY)
    
      add_custom_target(uninstall
          COMMAND ${CMAKE_COMMAND} -P ${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake)
    endif()
    
    This is how the glew library deals with this possibility in their CMakeLists.txt file.

commit 4f38db1735ece216707e0330e8818c46e43bee4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:44:45 2017 -0700

    Fixed bug 3867 - Can't find install_manifest.txt when running 'uninstall' target
    
    Steve Robinson
    
    When I try to build the 'uninstall' target in CMake when SDL2 is added to a subdirectory of my project, I get this error:
    
    1>CMake Error at cmake_uninstall.cmake:2 (message):
    1>  Cannot find install manifest:
    1>  "D:/Code/sdl2-tutorial/_build/3rdparty/SDL2/SDL2-2.0.6/install_manifest.txt"
    
    The install_manifest.txt is actually in the top-level binary directory, not the project-specific binary directory.
    
    To fix it, change all instances of:
    CMAKE_CURRENT_BINARY_DIR
    
    To:
    CMAKE_BINARY_DIR
    
    In:
    cmake_uninstall.cmake.in

commit f4f9e39f62ac5fb5905f061d8826be1448ec5ff9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:41:11 2017 -0700

    Fixed bug 3874 - Compiler warnings SDL_Surface.c and SDL_cocoakeyboard.m

commit a7c79c5e256199e556d4be2d6dcfd14d4317ec64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:37:55 2017 -0700

    Normalize touch events to the render viewport (thanks Sylvain!)

commit 5bed4ca92e22ad19a93ef52f6914ef94658ce5f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:27:22 2017 -0700

    Fixed divide by zero with a 1x1 sized window

commit bef0fec121b4dcc74b2d0b6d036f020c571cbcca
Author: Ozkan Sezer <sezero@users.sourceforge.net>
Date:   Thu Oct 12 14:28:05 2017 +0300

    make sure that SDL_malloc(0) or SDL_calloc(0,x) doesn't return NULL.

commit 0ce23a54985b98b9686b575fc6c4a366ed192790
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 12 08:08:04 2017 -0700

    Updated version to 2.0.7

commit 84fb4893cf0a414bfc2e7228a5100a11120f34c2
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Oct 10 20:22:15 2017 -0400

    Check SDL_UDEV_DYNAMIC first, then SDL_UDEV_LIBS separately

commit c0019b7f4999cbcad64b9629aefc6b874d23fa3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 11 13:31:21 2017 -0700

    Fixed bug 3871 - Touch events are not normalised on X11
    
    Trent Gamblin
    
    The documentation for SDL_TouchFingerEvent says that the x and y coordinates are normalised between 0-1. I've found that to be true on Windows, Android and iOS but on X11 they are in pixel coordinates. This patch fixes the issue. This was the cleanest way I could do it with what was available without changing things around a lot but you may know a better way.

commit b53c35df431afb6e436e97f5924358e8ade0085c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 11 13:26:58 2017 -0700

    Fixed size in realloc

commit 5e5f2290f288551ec70ed39715c4b726d8d9856e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 12:07:43 2017 -0400

    audio: Turns out the accumulation errors sound better.  :/
    
    Moving to double fixed the overflows, but using "time = i * incr" instead of
    "time += incr" causes clicks in the output.

commit 9bd2c6b49130a79a4cd9bcaeac8c4cea417588db
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 11:51:14 2017 -0400

    audio: Moved the resampler state up to double precision.
    
    Fixes more buffer overflows.

commit b2f5123b655c6744fb3044a6bacf21cd5be086b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 11:43:35 2017 -0400

    audio: calculate resampling time directly, don't increment (thanks, Eric!).
    
    Fixes buffer overruns as floating point errors accumulate.
    
    Partially fixes Bugzilla #3848.

commit 763c387149f7b189eff5b249155858a512ac76cd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 02:33:55 2017 -0400

    audio: clamp resampler interpolation values to prevent buffer overflow.
    
    Partially fixes Bugzilla #3848.

commit 0085f917e0b241d7c0eb83b04d3e084ecec09dfb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 02:31:58 2017 -0400

    audio: Moved unchanging variable out of loop.

commit cb8bf6bbaf48f5617e3e3187b11710fe23a24b1c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 02:03:05 2017 -0400

    audio: Make sure audio stream resampling doesn't overflow buffers.

commit 459e2b0bbe1c51fa0a7b2b088099d023027c4101
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 11 01:37:11 2017 -0400

    audio: Fixed check for minimum audio stream put size.

commit 0e495e83dd464202e70fad6efa4c722c0be9946a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 10 20:16:52 2017 -0700

    Updated WhatsNew.txt for 2.0.7 changes

commit 8446d4a05a8dfb6c4c44085881a34538c34e42ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 10 20:11:05 2017 -0700

    Changed overlapping memcpy to memmove

commit eb9e6938cc83a21d932d0ae9258061287bccecee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 10 19:44:33 2017 -0700

    Fixed potentially calling a callback after it has been removed (and userdata possibly deleted)

commit 903ff6414eecc42b2b36c35d67e9b78fe7cb9d7a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 10 22:31:02 2017 -0400

    audio: SDL_ResampleCVT() should use memmove instead of memcpy.
    
    This copy can overlap.
    
    Fixes Bugzilla #3849.

commit 42fff7ce2b619ce83b7db115e43dd853c97f7074
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 10 22:18:46 2017 -0400

    audio: Don't stack-allocate resampler padding.
    
    (I thought padding size ranged from 5 frames to ~30 frames (based around
    RESAMPLER_ZERO_CROSSINGS, which is 5), but it's actually between 512 and
    several thousands (based on RESAMPLER_SAMPLES_PER_ZERO_CROSSING)). It gets
    big fast when downsampling.

commit b647bd06920f4865765712cf913d2099d2cd184b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 10 17:41:41 2017 -0700

    The event filter and event watch functions are now thread-safe

commit 37d89aa10f226dfabe0d4ecdceca5ace9ab1ef03
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 10 16:12:56 2017 -0400

    audio: reworked audio streams to have right-hand resampling padding available.
    
    Fixes Bugzilla #3851.

commit 28149e11c844d5ebe60e24f3fdb7a02660773dc3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 10 11:56:54 2017 -0400

    Added SDL_PeekIntoDataQueue().

commit d90fce3c9eee0b80189f5e3a5f18c2f7a1ab8a37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 10 11:10:15 2017 -0700

    Exposed the joystick locking functions for multi-threaded access to the joystick API

commit 2657dfae4966ba710e9b5ed5d396ddec47dd57a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 9 11:45:15 2017 -0700

    Fixed crash in SDL_IsGameController() on Windows if called when a controller is being removed

commit b120fb879ab1f913843ddbc0384cd2a603aad48b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 8 10:59:03 2017 -0700

    Fixed bug 3865 - [PATCH] Support for GreenAsia Inc. PSX to USB converter as SDL_GameController
    
    Manuel
    
    I would like this small patch merged that adds support for my GreenAsia Inc. PSX to USB converter, so SDL_IsGameController() returns true when using this adaptor.
    It's interesting because PSX/PS2 controllers connected using this model won't be detected as gamecontrollers otherwise, only as joysticks.

commit d2a2b0c139df11b0bb8a76b2e59db2491de851de
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 7 15:26:55 2017 -0700

    Fixed bug 3857 - SDL_ConvertPixels misses YUV conversions
    
    Sylvain
    
    There are various YUV-RGB conversion coefficients, according to https://www.fourcc.org/fccyvrgb.php
    I choose the first (from Video Demystified, with integer multiplication),
    but the current SDL2 Dither functions use in fact the next one, which follows a specifications called CCIR 601.
    
    Here's a patch to use the second ones and with previous warning corrections.
    There are less multiplications involved because Chroma coefficient is 1.
    Also, doing float multiplication is as efficient with vectorization.
    In the end, the YUV decoding is faster: ~165 ms vs my previous 195 ms.
    
    Moreover, if SDL2 is compiled with -march=native, then YUV decoding time drops to ~130ms, while older ones remains around ~220 ms.
    
    
    For information, from jpeg-9 source code:
    jpeg-9/jccolor.c
    
       * YCbCr is defined per CCIR 601-1, except that Cb and Cr are
       * normalized to the range 0..MAXJSAMPLE rather than -0.5 .. 0.5.
       * The conversion equations to be implemented are therefore
       * Y  =  0.29900 * R + 0.58700 * G + 0.11400 * B
       * Cb = -0.16874 * R - 0.33126 * G + 0.50000 * B  + CENTERJSAMPLE
       * Cr =  0.50000 * R - 0.41869 * G - 0.08131 * B  + CENTERJSAMPLE
    
    jpeg-9/jdcolor.c
    
       * YCbCr is defined per CCIR 601-1, except that Cb and Cr are
       * normalized to the range 0..MAXJSAMPLE rather than -0.5 .. 0.5.
       * The conversion equations to be implemented are therefore
       *
       * R = Y                + 1.40200 * Cr
       * G = Y - 0.34414 * Cb - 0.71414 * Cr
       * B = Y + 1.77200 * Cb

commit 1bfe6d602609d0743a14697742197b9540b5d96f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 6 21:43:59 2017 -0700

    Fixed restoring window size when coming out of fullscreen desktop mode.
    Use the style of the window as it will be, not as it currently is at the
    time of the AdjustWindowRect call.

commit e9652b1987d9277c6d8b4946f8d3a8534eee52b5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 6 16:50:24 2017 -0700

    Fixed bug 3857 - SDL_ConvertPixels misses YUV conversions
    
    Sylvain
    
    Few issues with YUV on SDL2 when using odd dimensions, and missing conversions from/back to YUV formats.
    
    1) The big part is that SDL_ConvertPixels() does not convert to/from YUV in most cases. This now works with any format and also with odd dimensions,
      by adding two internal functions SDL_ConvertPixels_YUV_to_ARGB8888 and SDL_ConvertPixels_ARGB8888_to_YUV (could it be XRGB888 ?).
      The target format is hard coded to ARGB888 (which is the default in the internal of the software renderer).
      In case of different YUV conversion, it will do an intermediate conversion to a ARGB8888 buffer.
    
      SDL_ConvertPixels_YUV_to_ARGB8888 is somehow redundant with all the "Color*Dither*Mod*".
      But it allows some completeness of SDL_ConvertPixels to handle all YUV format.
      It also works with odd dimensions.
    
      Moreover, I did some benchmark(SDL_ConvertPixel vs Color32DitherYV12Mod1X and Color32DitherYUY2Mod1X).
      gcc-6.3 and clang-4.0. gcc performs better than clang. And, with gcc, SDL_ConvertPixels() performs better (20%) than the two C function Color32Dither*().
      For instance, to convert 10 times a 3888x2592 image, it takes ~195 ms with SDL_ConvertPixels and ~235 ms with Color32Dither*().
      Especially because of gcc vectorize feature that optimises all conversion loops (-ftree-loop-vectorize).
    
      Nb: I put no image pitch for the YUV buffers. because it complexify a little bit the code and the API :
      There would be some ambiguity when setting the pitch exactly to image width:
      would it a be pitch of image width (for luma and chroma). or just contiguous data ? (could set pitch=0 for the later).
    
    
    2) Small issues with odd dimensions:
      If width "w" is odd, luma plane width is still "w" whereas chroma planes will be "(w + 1)/2". Almost the same for odd h.
      Solution is to strategically substitute "w" by "(w+1)/2" at the good places ...
    
    - In the repository, SDL_ConvertPixels() handles YUV only if yuv source format is exactly the same as YUV destination format.
      It basically does a memcpy of pixels, but it's done incorrectly when width or height is odd (wrong size of chroma planes). This is fixed.
    
    - SDL Renderers don't support odd width/height for YUV textures.
      This is fixed for software, opengl, opengles2. (opengles 1 does not support it and fallback to software rendering).
      This is *not* fixed for D3D and D3D11 ... (and others, psp ?)
      Only *two* Dither function are fixed ... not sure if others are really used.
    
    - This is not possible to create a NV12/NV12 texture with the software renderer, whereas other renderers allow it.
      This is fixed, by using SDL_ConvertPixels underneath.
    
    - It was not possible to SDL_UpdateTexture() of format NV12/NV21 with the software renderer. this is fixed.
    
    Here's also two testcases:
    - that do all combination of conversion.
    - to test partial UpdateTexture

commit 827e9850414feb8552de73f005bb2439b9664710
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 6 16:42:43 2017 -0700

    Fixed bug 3862 - Install is broken when adding SDL2 to an existing CMake project
    
    Steve Robinson
    
    In my existing CMake project, I use add_subdirectory to add the source for SDL2.  This worked fine in 2.0.5, but now in 2.0.6 when I build the INSTALL CMake target, I get this error:
    
    file INSTALL cannot find "D:/path/to/SDL2Config.cmake".
    Call Stack (most recent call first):
      3rdparty/SDL2/cmake_install.cmake:32 (include)
      3rdparty/cmake_install.cmake:36 (include)
      cmake_install.cmake:32 (include)
    
    To fix this, I changed line 1770 from this:
    ${CMAKE_SOURCE_DIR}/SDL2Config.cmake
    
    To this:
    ${CMAKE_CURRENT_SOURCE_DIR}/SDL2Config.cmake

commit d9e1036e0f88601f600c1d1226793dab5c37a8c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 6 16:17:50 2017 -0700

    Fixed potential overflow in surface allocation (thanks Yves!)

commit 312da2623a087d70aafabaa97cfdc5b162d4e47b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 5 09:37:28 2017 -0700

    Fixed bug 3854 - arguments to dbus_type_is_basic() were incorrect
    
    Aaron
    
    As of 2.0.6, all of my games are failing with the following error:
    
    process 31778: arguments to dbus_type_is_basic() were incorrect, assertion "dbus_type_is_valid (typecode) || typecode == DBUS_TYPE_INVALID" failed in file dbus-signature.c line 322.
    This is normally a bug in some application using the D-Bus library.
      D-Bus not built with -rdynamic so unable to print a backtrace
    
    (patch by  Ozkan Sezer)

commit db20e71d546ef7cd38652893befa742867278af5
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Oct 2 10:50:33 2017 -0700

    Fixed bug 3855 - Memory leak in SDL_FreeSurface

commit e564da78b7985d02074c172f9b76e64537d35661
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Sep 29 10:15:44 2017 -0700

    revert files I didnt mean to commit!

commit e27f12e0da587d197bf179ae91528200ca80c3e6
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Sep 29 10:07:37 2017 -0700

    wayland: Fix bug 3814 -Wmissing-field-initializers

commit aad58c622c41b06e52c283b9fc7d5cd777998cf5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 29 07:44:30 2017 -0700

    Fixed bug 3852 - SDL_FreeSurface deallocates surface->map even if the surface is not yet freed
    
    Evgeny Kapun
    
    Commit 490bb5b49f11 [1], which was a fix for bug #3790, introduced a new bug: now, calling SDL_FreeSurface(surface) deallocates surface->map even if there are other references to the surface. This is bad, because some functions (such as SDL_ConvertSurface) assume that surface->map is not NULL.

commit bd5c984ac06f5aa3da20578f0b2edab48777a9eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 26 16:27:24 2017 -0700

    Fixed bug 3850 - incorrect numbering in docs/README-ios.md
    
    Michal
    
    the numbering of the bulletpoints in:
    docs/README-ios.md
    
    has been mangled with:
    changeset 11365 efd3bc8e5a9b
    
    fix:
        12 2.  Open SDL.xcodeproj (located in Xcode-iOS/SDL) in Xcode.
        13 4.  Select your desired target, and hit build.
    
    remove:
        28 1. Follow step 1 above.
    
    adapt:
        29 2. cd (PATH WHERE THE SDL CODE IS)/build-scripts
        30 3. ./iosbuild.sh

commit 54685787ca7677d711cabe355a29d78627362223
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 26 15:07:35 2017 -0700

    Fixed bug 3847 - Hit Test x coordinate wrong on secondary monitor
    
    Robert Turner
    
    SDL_windowsevents.c contains code to retrieve the x and y coordinate for a requested hit test. It does this as follows:
    
        POINT winpoint = { (int) LOWORD(lParam), (int) HIWORD(lParam) };
    
    LOWORD(lParam) does not correctly mask off high bits that are set if the point is on a second (or third, etc.) monitor. This effectively offsets the x-coordinate by a large value.
    
    MSDN documentation suggests that LOWORD() and HIWORD() are the wrong macros for the task, instead suggesting we should be doing something like the following:
    
        POINT winpoint = { GET_X_LPARAM(lParam), GET_Y_LPARAM(lParam) };
    
    Testing this change on my Windows 10 machine with 2 monitors gives the correct results.

commit fb071a4cd9a06cf1c9d5ed40aef7c5bf4e8430ce
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Sep 25 20:49:31 2017 -0300

    Mac: Fix the menu bar not always working for non-.app-bundled apps. Fixes bug #3051.

commit c44e741bd99189101b73464527064ec3a70d0218
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 23 12:38:47 2017 -0700

    Fixed bug 3842 - fix SDL_thread.h for emx
    
    Ozkan Sezer
    
    EMX declares _beginthread() / _endthread() in stdlib.h, not process.h.
    The attached patch updates the OS/2 case of SDL_thread.h for it.  (It
    also tidies the unreadable whitespace in win32 case.)

commit 14ed0d24c8dcf66b961dcccfb551068a5e1dab4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 23 12:37:09 2017 -0700

    Fixed bug 3843 - Android missing some code in SDLHapticHandler
    
    Sylvain
    
    Some check for android SDK version are missing from https://hg.libsdl.org/SDL/rev/3d7a29a369a0
    here's a patch

commit 099ae43e81d83a845204e0e859596d4000673c84
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 22 22:28:21 2017 -0400

    audio: Fixed compiler warning on Visual Studio.

commit 58d1c54d0635fba44fa3f539ee873dbbf00391ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 17:32:05 2017 -0700

    Fixed spacing

commit 0fea9164eb9623d5a828f080a8dc0cde17a8801c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 17:29:32 2017 -0700

    Added an example for SDL_SetWindowHitTest() when you create a borderless resizable window.

commit e763dac6dd8bf56956021022ecd7c0ec529ace22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 17:02:18 2017 -0700

    Good bye, Visual Studio 2008

commit 260db92cbbcd20e4291bf78de1bda08691f5d27f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 16:33:34 2017 -0700

    Added stub Steam Controller sources to Android and iOS command line builds

commit 2fd52351451a60bd916bb67b04d033d7ba6f7fa0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:32:31 2017 -0700

    Added stubs for simple Steam Controller support

commit 82557750b0226e66cb5b9f0b680bcc7ec702ac5d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:31:56 2017 -0700

    Separated out SDL Android java code so audio, controller, and filesystem APIs can be used independently of the SDL activity, in Qt apps for example.

commit 4187b3d76079eeb0c8ccb93bf39b37c37eb53831
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:31:02 2017 -0700

    Removed non-existent files

commit 2079ec992aae312e76bea11190a1e716700d7496
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:30:58 2017 -0700

    Removed non-existent files

commit d828647944e9f7f9befd4dc4484703f8eb0fa463
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:30:52 2017 -0700

    Added stubs for simple Steam Controller support

commit 53b2c91d2694213f0d452c6a7c4ac50dfe34171f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:30:46 2017 -0700

    Separated out SDL Android java code so audio, controller, and filesystem APIs can be used independently of the SDL activity, in Qt apps for example.

commit ad86eff1a8df88ded534417f5743bbb62f13c4d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:30:37 2017 -0700

    Guarded EGL code with SDL_VIDEO_OPENGL_EGL

commit 499f928c33d7f05c8d7a795b71d4bd45a3d7eb08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 07:15:41 2017 -0700

    borderless windows will have WM_NCCALCSIZE return 0 for the non-client area. When this happens, it looks like windows will send a resize message expanding the window client area to the previous window + chrome size, so shouldn't need to adjust the window size for the set styles.

commit 3176a7f5e9ba089ced352816f7f412d9424c1632
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 07:11:36 2017 -0700

    sdl
    
    - Fixing rendering borderless window. Need to force windows to send a WM_NCCALCSIZE then return 0 for non-client area size.
    
    - Adding WS_CAPTION | WS_SYSMENU | WS_MINIMIZEBOX to borderless windows, for reasons noted in comments.
    
    - Fix SetupWindowData() setting SDL_WINDOW_BORDERLESS. This was being cleared at window creation, causing hanlding for the first WM_NCCALCSIZE message to fail

commit cc023b6b819dc072ace275d26a7c338d90c32da7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 12:26:54 2017 -0700

    Fixed bug 3837 - Change project settings for Xcode 9?
    
    Mark Callow
    
    Xcode 9 emits a warning to validate project settings. The changes it proposes are
    
    1. [iOS] Update the iOS deployment target to 8.0 since Xcode does
       not support anything older.
    
    2. [macOS] Target 'Framework' - Automatically Select Archectures.
    
    3. [iOS & macOS] Turns on a bunch more compile warnings, a *lot* more on iOS.
    
    4. [iOS & macOS] Turn on "Missing Localizability".
    
    I want to confirm if it is ok to accept these changes and submit updated project files.
    
    Since Alex Szpakowski has just removed iOS 7 guard ifdef's, I'm guessing 1 isn't a problem.
    
    2 is probably ok for anyone building themselves. I wonder if it may cause problems for building distribution binaries.
    
    3 shouldn't be a problem either provided any newly emitted warnings are fixed.
    
    4 I am unfamiliar with. The description says "This will turn on the static analyzer to check for "Missing Localizability", because this project is localized for multiple languages." I suppose this may cause new warnings.

commit f0111b6ac9ee927f081086d403b3a530b8aaf867
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 11:57:35 2017 -0700

    Added tag release-2.0.6 for changeset 8e2bab21d23b

commit fe6b8f1c314e94f58db8119e40ad4e1f849fb667
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 11:25:52 2017 -0700

    Fixed Mac OS X build

commit 28602b12357b983802ac0386185b3de4a208826a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 11:15:57 2017 -0700

    The volume was too high, clamp to SDL_MIX_MAXVOLUME

commit 407e1693aeeffd663af7b39019e56248e478ab24
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 11:15:14 2017 -0700

    Fixed audio being silent on older iOS devices
    Tested on an iPod running iOS 6.1

commit 12efabcbf0df6f0bf58ec5fce90e3d519ce47e90
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 11:13:34 2017 -0700

    Added instructions for deploying to older iOS devices (thanks Sylvain!)

commit 5ab5c9b76784697092fe3ac340d4024ff59ab8d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:56:09 2017 -0700

    Avoid duplicate joystick axis events

commit d74c00e67d05a82bd5d64aba05ed275c1eddd97a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 22 08:51:45 2017 -0700

    Fixed memory leak when HAVE_ALLOCA isn't defined

commit 59d17bdee046c763177f6d915032702e0528b306
Author: Mark Callow <libsdl.org@callow.im>
Date:   Fri Sep 22 22:30:02 2017 +0900

    Avoid hitting ERR_MAX_STRLEN limit.

commit 6d206a7b28ebf6eb5ad67aeef51b3de92145b994
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 22 07:42:24 2017 -0400

    audio: Stream resampling now saves some samples from previous run for padding.
    
    Previously, the padding was silence, which was a problem when streaming since
    you would sample a little bit of this silence between each buffer.
    
    We still need a means to get padding data for the right hand side, but this
    patch makes the resampler output more correct.

commit 466ba57d42d244e80357e9ad3011c50af30ed225
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Sep 21 18:38:07 2017 -0700

    [egl/mir] Need eglGetProc to find gl 4.5 core profile extensions

commit e5cfb58f4a33f1003d62ef5e5b40a7587cb64704
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Sep 21 20:30:25 2017 -0300

    iOS MoltenVK code style cleanup.

commit 80f9e2f1992f318e2ec10ea7a92383c6346ebf1c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Sep 21 20:11:44 2017 -0300

    iOS: Fix compiling using the iOS 7 SDK, partially broken since MoltenVK support was added.
    
    Note that apps submitted to the iOS App Store *must* use a modern iOS SDK (currently iOS 10 is probably the minimum), however the SDK used to build is separate from the minimum iOS version an app supports at runtime.

commit b3ac0b6fb062388166534fdb47c31727a11b1340
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 21 14:48:03 2017 -0700

    A hint with an empty string should be treated as the default value

commit eaab6098eb268e57ff8ff6ccc50dcc0656df9514
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 21 10:29:17 2017 -0700

    Only apply the jitter filter to prevent unexpected motion on axes that haven't been touched.

commit 5ae90ef67a957307e857d9e819be72326d5aa464
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 21 01:22:40 2017 -0700

    Fixed bug 3788 - software renderer crashes in SDL_RenderCopyEx with rotation and dstrect w or h is 0
    
    Anthony
    
    This is what's making the software renderer crash with rotated destination rectangles of w or h = 0:
    
    SDL_SetHint(SDL_HINT_RENDER_SCALE_QUALITY, "2");

commit 8b660c5046b2d5a0f12b33e2cbba6362db344b8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 21 00:55:29 2017 -0700

    Added some missing "extern" declarations

commit f40bd5ee243cd7f55f6c102b3b28aaa22779d43c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 21 02:06:53 2017 -0400

    audio: removed my perl experiment script.

commit 1a3b95a11e54ed46950d56347dd0211973ab122f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 21 02:51:14 2017 -0400

    audio: Replaced the resampler. Again.
    
    This time it's using real math from a real whitepaper instead of my previous
    amateur, fast-but-low-quality attempt. The new resampler does "bandlimited
    interpolation," as described here: https://ccrma.stanford.edu/~jos/resample/
    
    The output appears to sound cleaner, especially at high frequencies, and of
    course works with non-power-of-two rate conversions.
    
    There are some obvious optimizations to be done to this still, and there is
    other fallout: this doesn't resample a buffer in-place, the 2-channels-Sint16
    fast path is gone because this resampler does a _lot_ of floating point math.
    There is a nasty hack to make it work with SDL_AudioCVT.
    
    It's possible these issues are solvable, but they aren't solved as of yet.
    Still, I hope this effort is slouching in the right direction.

commit 3c45e662f55b1ad6ba0b622ea214c05f8d774f4e
Author: Mark Callow <libsdl.org@callow.im>
Date:   Thu Sep 21 14:01:12 2017 +0900

    macOS: remove unneeded #includes.

commit f0a324f8eb736755a096d2e9f758ed128bfea9c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 20 19:59:34 2017 -0700

    Reverted Alex's commit 131cba1768a5 - we're about to release 2.0.6, don't remove support for the iOS 7 SDK yet.

commit d452b89f9b02bd3f076f7264cf308480079ca379
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Sep 20 11:01:32 2017 -0300

    iOS: I don't think SDL compiles with the iOS 7 SDK anymore, so we might as well drop the #ifdefs trying to guard for that.

commit 12fb004fba60c2b2f329349df9aa1362052a7cbc
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Sep 20 10:53:41 2017 -0300

    iOS: remove an unused static variable

commit e365968a4cebedc5d5c2a896acdbfae35e03e8dc
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Sep 19 10:33:08 2017 -0400

    WinRT: minor formatting tweak in README-winrt

commit f57ef6ff973d94ac2405a10b9b0c55534b6b909a
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Sep 19 10:31:22 2017 -0400

    WinRT: noted UWP's inability to work with some game controllers

commit c08a7a74a592596863a09ce9fa86328c0fd79254
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 15 17:27:32 2017 -0700

    Added a hint SDL_HINT_AUDIO_CATEGORY to control the audio category,
    determining whether the phone mute switch affects the audio

commit 46ec130528a6c59f40b97b4c143212a5c8c117ba
Author: Patrice Mandin <patmandin@gmail.com>
Date:   Thu Sep 14 21:45:14 2017 +0200

    Fix for 3829. Revert adding GameSir G4s, uses same GUID as PS3 controller.

commit 73c85e986c935a199487915b6a387074cbb8f98b
Author: Patrice Mandin <patmandin@gmail.com>
Date:   Thu Sep 14 19:33:32 2017 +0200

    Readd support for GameSir G4s, lost with changeset 11431

commit e8187a3f788b71743e0b90c280d7665bd7f4be2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 14 09:56:16 2017 -0700

    Updated iOS keyboard test to cover text input rect and orientation changes

commit cfe72c76e272173ea33187443e0c14bdb753deca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 14 09:55:27 2017 -0700

    Fixed iOS keyboard positioning, based on the final position rather than the initial one

commit 76176486ced3a053f8afca6d96cbbbdc2248af56
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 14 08:37:27 2017 -0400

    surface: Make sure SDL_ConvertSurface() deals with palettes (thanks, Sylvain!).
    
    Fixes Bugzilla #3826.
    Fixes Bugzilla #2979.

commit ac782d7122e05b9ea6d0b3c02c4d5a2a0a3b056e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 12 05:53:47 2017 -0700

    Added support for the PDP Battlefield One Xbox One controller on Linux

commit 78b83d3a6df96b4b5e26d9d887af62aa49905cfd
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 11 18:20:56 2017 -0400

    WinRT: build fix when using recent versions of the Windows 10 SDK

commit e98fc8972d53fa8d9f15a90cf88b41d3ab184ccb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 12:54:40 2017 -0700

    Fixed bug 3812 - Fallthrough warnings gcc-7

commit 5f48ce0b6403282f1f7e8a5cef2721f95f01e0f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 12:49:41 2017 -0700

    Fixed bug 3815 - implicit-fallthrough warning - DUFFS_LOOP4 and friends

commit 19114b03788f310dfc5115c9bc438b0ba7ac5491
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 12:42:38 2017 -0700

    Fixed bug 3813 - gcc7 fallthrough warnings in SDL_iconv.c and SDL_pixels.c

commit 849c4c1472f40bf3480f4b8f44f4c6edf281f115
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 12:40:45 2017 -0700

    Fixed tabs to spaces

commit 8ed16ea4654086eedb947820157873ba8a3352fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 10:43:04 2017 -0700

    Fixed compile warning

commit 16b8c4ea439a3dc81b52d1c164df62ca484b5765
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 10:30:25 2017 -0700

    Fixed bug 3811 - change HAVE_COPYSIGN to HAVE__COPYSIGN in SDL_config_windows.h
    
    Ozkan Sezer
    
    The patch below changes HAVE_COPYSIGN macro in SDL_config_windows.h to
    HAVE__COPYSIGN, so that _copysign() can be used in SDL_stdlib.h which
    is available in many more windows-targeting toolchains such as MinGW,
    MSVC >= 6, etc, and not just  MSVC >= 2013. SDL_stdlib.c already has a
    specific check for HAVE__COPYSIGN, so I believe this is reasonable.

commit 2cdb9674353f92feb41cb41b3748d188cdaa1f74
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 10:25:36 2017 -0700

    Fixed the include path for khronos with Visual Studio

commit be1caece4a2bd24932fc02ccb4448ff8f8b1f899
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Sep 10 09:19:10 2017 -0700

    Correction: copysign has been supported by windows several toolchains
    for a very long time, including MSVC6, MinGW, LCC-Win32, (no released
    watcom versions though, but that's of no concern.)
    
    Patch from Ozkan Sezer

commit 93583d461c518f8f5ae945f453a3e5b1fb0ec83e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 9 21:17:46 2017 -0400

    alsa: removed snd_pcm_wait() call before writing to playback device.
    
    This would cause playback problems in certain situations, such as on the
    Raspberry Pi. The device that the wait was added for seems to not benefit from
    it in modern times, and standard desktop Linux seems to do the right thing
    when a USB device is unplugged now, without this patch.
    
    Fixes Bugzilla #3599.

commit 569c222ca8e84a73c944c2719828dae28b14203a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 11:04:35 2017 -0700

    Updated documentation so it's clear you should use SDL_SetWindowDisplayMode() to change the size of fullscreen windows.

commit b2ba8963b3e3dc3c0ba496b3609fa418929ed9e4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 11:00:25 2017 -0700

    Fixed bug 3809 - Restore after maximize leads to wrong size
    
    Andreas Falkenhahn
    
    My app opens a 640x480 window. When I click on the window's maximize button, the window correctly fills the entire screen and loses its borders. But clicking on the restore button now doesn't restore the window to its original 640x480 size. Instead, the window size is identical to the screen size now. The only difference to the previous state is that the window now has borders again but it isn't restored to 640x480.

commit 676c3a92634c4da79309e4ba9ebd3234709d8f5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 10:31:44 2017 -0700

    Fixed bug 3719 - Cocoa - Incorrect window size when leaving fullscreen
    
    bastien.bouclet
    
    The window is now resized to its specified size, but it moves to the top left corner of the screen. That is unexpected because neither the user nor the program moved it there. Test program attached (the same one as before).

commit fcd9c19022c3ea04ef5d6c3e23c15891e8ce640c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 09:31:12 2017 -0700

    Fixed window size when leaving fullscreen mode (thanks Eric!)

commit f465f24d736c6fe75324861a448f1aa3588c246f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 08:36:37 2017 -0700

    Fixed bug 3760 - RWops doesn't check for integer overflow when stdio_fseek only supports 32 bits
    
    Simon Hug
    
    When RWops seeks with fseek or fseeko it uses the types long or off_t which can be 32 bits on some platforms. stdio_seek does not check if the 64-bit integer for the offset fits into a 32-bit integer. Offsets equal or larger than 2 GiB will have implementation-defined behavior and failure states would be very confusing to debug.
    
    The attached patch adds range checking by using the macros from limits.h for long type and some bit shifting for off_t because POSIX couldn't be bothered to specify min and max macros.
    
    It also defines HAVE_FSEEKI64 in SDL_config_windows.h so that the Windows function gets picked up automatically with the default config.
    
    And there's an additional error message for when ftell fails.

commit 125d8f59fcc2444c5b6ffdb1955955edb54a5f68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 08:34:46 2017 -0700

    Make sure the libtool archives are installed

commit 9a73909bbd86f0b3511110856b94f1a7cad41d4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 08:20:56 2017 -0700

    Fixed bug 3808 - fix a typo in SDL_stretch.c
    
    Ozkan Sezer
    
    The following patch fixes a minor _MSC_VER typo in SDL_stretch.c,
    and also does a tiny tidy-up for assembly opcodes cpp checks.

commit 24a7495691ca1b9a2de2783d309dcbe3c4b6c504
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 08:03:23 2017 -0700

    Updated config.guess and config.sub, added config.sub.patch for NaCl and Emscripten build support

commit 5c8bde4f7b8298ddbb95e66d35f7ee356a63c2fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 07:45:31 2017 -0700

    Updated documentation to note that libvulkan-dev is no longer needed

commit f33377802ad13ee55102a683e1a4fc93d656a8d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 07:42:29 2017 -0700

    Fixed bug 3807 - Remove restriction from DECLSPEC macro for OS/2
    
    Ozkan Sezer
    
    The following patch removes the unnecessary / wrong
    Watcom restriction from the DECLSPEC macro for OS/2.

commit 8004be64496bf3964f0671f26e0ffe3567f266b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 07:35:55 2017 -0700

    We don't need libvulkan-dev to build Vulkan support

commit 47cb8815a3f062b8bf3d4011e607e0c03bc39a35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 9 07:30:25 2017 -0700

    Updated Debian changelog for 2.0.6 release

commit 222d25ad4b78526b5dc46718fb36b5795d1ff205
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 22:21:01 2017 -0700

    Fixed bug 3805 - Why is there no --enable-video-rpi option in configure?
    
    Andreas Falkenhahn
    
    When compiling SDL for the Raspberry Pi, I have to use the --host parameter to enable compilation of the native Raspberry Pi video driver, like so:
    
        --host=arm-raspberry-linux-gnueabihf
    
    It took me a while to figure out that this was necessary in order to have the native Raspberry Pi video driver compiled in. I think it would be better if there was an option like --enable-video-rpi that could be passed to configure and that would also show up when saying configure --help. Currently, it?s rather difficult to figure out that you have to use the --host parameter with arm-raspberry-linux-gnueabihf in order to get Raspberry Pi video support. It?s also somewhat inconsistent because most other video drivers can in fact be enabled/disabled through specific configure parameters but there is no such parameter for the native Raspberry Pi video driver.

commit e8059221bdbfefda2ad0a05bf2024a9fb14fd77e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 18:26:25 2017 -0700

    Fixed bug 3806 - Fixes for MSVC compiler warnings
    
    Simon Hug
    
    These are the remaining compiler warnings I see in the current tip cb049cae7c3c.
    
    - SDL_test_log.c defines _CRT_SECURE_NO_WARNINGS without checking if it was already set.
    
    - SDL_windowskeyboard.c converts integers to pointers without going over the (U)INT_PTR types. That bothers MSVC.

commit 0ddac338b04adf3c93a33bc122bbe1740cb5892b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 07:15:47 2017 -0700

    keep joystick thread from waking unnecessarily, and from possibly blocking for 300ms at shutdown if a joystick was just plugged in
    
    CR: SamL

commit cedbb3118c25b74f166b064ff7d1d04601e0ee73
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 15:08:50 2017 -0700

    Fixed building with the first version of Visual Studio 2017, which doesn't have __has_include() (Thanks Simon!)

commit 1b2492ed8a65ffb96f0fd1d4f544cc3fa963eb1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 15:08:03 2017 -0700

    Fixed 64-bit build warning

commit 4657d9f33cdc369611be9c9f454cc94521b43208
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 04:53:31 2017 -0700

    We don't need to pass the renderer into SDLTest_CleanupTextDrawing()

commit 65c55fdd8474f3bf46cb714b0692d50caa021ebe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 04:38:46 2017 -0700

    Fixed build

commit b0b3da770290692592a991b84c6f764b40ce885c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 8 04:14:05 2017 -0700

    Added a function to clean up test text drawing

commit ca15c7d67f2ef65b5328059d06b62f7790c30510
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 7 10:56:08 2017 -0400

    wave: SDL_LoadWAV now supports 24-bit audio.

commit fb28393200736a64c8578fb6dee7542cb25cee0f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 6 19:35:36 2017 -0400

    vulkan: use "unsigned int" instead of "unsigned"

commit 0c892abcd0ee298001552e77ca9da5ee948462d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 6 19:34:23 2017 -0400

    raspberrypi: The latest Raspbian moved its EGL and GLES2 libs elsewhere.
    
    Now we try the new (hardware-specific) pathnames first, and if those fail to
    load, we'll try the more generic names that earlier versions of Raspbian used.
    
    Fixes Bugzilla #3800.

commit fa0eeff7f557e7a9cddf835fe45a3cab10a60f26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 07:29:34 2017 -0700

    sdl:
    
    Cleans up AdjustWindowEx calls

commit 20c5bc91359146fcff09fc1c21b6c2ed07a46b57
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 05:23:26 2017 -0700

    You can have a borderless resizable window

commit 4ca5d8622a16c8e82153d67e9474614706e39a30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 04:32:30 2017 -0700

    Fixed bug 3780 - GCC 7 implicit fallthrough warnings
    
    Martin Gerhardy 2017-08-28 06:58:01 UTC
    
    SDL_blit.h, SDL_fillrect.c and SDL_stdinc.h produces a lot of the (new) gcc-7 implicit fallthrough warnings.

commit 28bf56c12cca64a239d54e890d0182b018b5ca9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 10:31:05 2017 -0700

    Fixed bug 3801 - HAVE_LIBSAMPLERATE_H depending on HAVE_LIBC in current SDL_config.h.in
    
    Ozkan Sezer
    
    HAVE_LIBSAMPLERATE_H is depending on HAVE_LIBC in current config.h.in:
    it shouldn't be.  HAVE_LIBUDEV_H, HAVE_DBUS_DBUS_H, HAVE_IBUS_IBUS_H,
    HAVE_FCITX_FRONTEND_H, and HAVE_ALTIVEC_H have the same situation too.
    I suggest something like the following, which moves them out of the
    HAVE_LIBC confinement and also moves the windows dx header stuff along
    side them. (Not ideal, but a bit cleaner I think.)

commit d51dc7378bbf85d8d8db8deadbc74b594c93826c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 01:14:23 2017 -0700

    Fixed bug 3797 - configure check for float.h
    
    Ozkan Sezer
    
    Cmake checks for float.h, but configure does not:  the attached patch
    adds float.h to checked headers in configury, and it adds the missing
    HAVE_FLOAT_H macro to SDL_config.h.cmake and SDL_config.h.in.
    
    In SDL_config_macosx.h and SDL_config_windows.h, defined HAVE_FLOAT_H
    as 1, where I know that it's true.

commit c8e3e0c41496566776e3ae66999a3b8fb21a4422
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 6 01:10:10 2017 -0700

    Fixed bug 3799 - SDL_CreateWindow fails with SDL_WINDOW_VULKAN (libvulkan.so.1 not found)
    
    Manuel Sabogal
    
    Android NDK defines Vulkan as libvulkan.so, not libvulkan.so.1. This is causing the program to not being able to create a window using SDL_WINDOW_VULKAN.
    
    To fix this issue just change the line http://hg.libsdl.org/SDL/file/bbaec41e93b5/src/video/android/SDL_androidvulkan.c#l53 from "libvulkan.so.1" to "libvulkan.so"

commit c9e73c3e0095f97b2e0d080700a68c15d6abc2b9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 5 16:15:54 2017 -0400

    x11: make sure SDL_GetGlobalMouseState notices mouse warping through SDL APIs.

commit 0782f9be51dcbcee8317b9f12f306a46ebedebe2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 5 08:24:38 2017 -0700

    Fixed bug 3273 - Fix for slow video subsystem initialization when using XRandR.
    
    Mart?n Golini
    
    I'm having a very slow initialization of the video subsystem that locks the window creation for about 500 ms ( tested in at least 4 different systems ). What i found is that X11_InitModes_XRandR is using XRRGetScreenResources, that explicitly ask to poll the hardware for changes. This is not really necessary since if the data is already available you can use XRRGetScreenResourcesCurrent.
    I attached a tentative patch that fix this issue. With the patch there's no lock when the subsystem is initialized and the window creation is instant in my applications. The patch only uses XRRGetScreenResourcesCurrent in X11_InitModes_XRandR but it could be potentially used in X11_GetDisplayModes and X11_SetDisplayMode.

commit 3261ca754fc6ab86e3bfe567d80f649d0bfe8dc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 23:10:12 2017 -0700

    Fixed typos in 2.0.6 patch notes

commit d2eda2671dd99d16c2a3fce54e720e370f66e6a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 22:51:28 2017 -0700

    Added SDL_vulkan.h to the Mac OS X framework headers

commit c1fd0fbb32cbd1b089edd751d465d2ba71b5d778
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 22:14:57 2017 -0700

    Fixed compiler warning with mingw-w64

commit 657ad72ac463cde9ddbda171b11ac04d430b0301
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 21:16:28 2017 -0700

    Added some more big 2.0.6 changes

commit d75fea89d270a76bbe22b36391ed3afb4422df3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 20:48:01 2017 -0700

    Updated WhatsNew.txt for 2.0.6

commit 67f9348baa88de4e0865b69107c65541d1852371
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 4 11:46:14 2017 -0700

    Fixed bug 3790 - Memory leak with surfaces blitting on each other
    
    bastien.bouclet
    
    When creating two surfaces and blitting them onto the other, SDL's internal reference counting fails, and one of the surfaces is not freed when calling SDL_FreeSurface.
    
    Example code :
    
    SDL_Surface *s1 = SDL_CreateRGBSurfaceWithFormat(0, 640, 480, 32, SDL_PIXELFORMAT_ARGB8888);
    SDL_Surface *s2 = SDL_CreateRGBSurfaceWithFormat(0, 640, 480, 32, SDL_PIXELFORMAT_ARGB8888);
    
    SDL_BlitSurface(s1, NULL, s2, NULL);
    SDL_BlitSurface(s2, NULL, s1, NULL);
    
    SDL_FreeSurface(s2);
    SDL_FreeSurface(s1);
    
    With this example, s1 is not freed after calling SDL_FreeSurface, its refcount attribute is still positive.

commit 532446a6bd5a442b7eef8074500e25ca84c6774d
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 3 17:33:49 2017 -0400

    macOS: bug-fix for #3793, "fullscreen toggle does not maintain SDL_Renderer's logical size"
    
    This also seems to fix the follow-up issue in bug #3719, whereby the initial fix caused the SDL window to move, after transitioning from fullscreen to windowed-mode

commit 2ea09903e6227648b48040336fb6010a9df50290
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 3 16:36:22 2017 -0400

    WinRT: listed VS 2017 optional-component requirements

commit a12989f94c017ad1ea5c76a1ed561bbc66b45d34
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 3 13:20:33 2017 -0400

    vulkan: Changed SDL_WINDOW_VULKAN value to match Tizen's fork.

commit 167398b363241015996d80567f8a8a4bd99fa619
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 2 19:35:32 2017 -0400

    video: Let video targets optionally decide their default OpenGL configs.
    
    This is necessary because the Raspberry Pi is a strange beast, that believes
    it has OpenGL support (through glX?) but generally has GLES2 support.
    
    So when using the raspberry video target, we need to force this to default
    to a GLES2 context, or by default SDL_CreateWindow() will fail, deep down
    when it tries to load the proper GL library.
    
    Fixes testsprite2 (and basically everything else that wasn't testgles2) when
    run on a Raspberry Pi without a X server.
    
    Please note that other targets might also need this filled in, the Raspberry
    Pi is just the most prominent and readily-available System-On-A-Chip style
    thing on my desk.  :)

commit 3267398d1505b62a22a8d76c2e44c2b8ae5bea6f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 2 16:41:14 2017 -0400

    sndio: Patched to compile if SIO_DEVANY isn't defined.
    
    (It isn't in whatever Raspbian is currently shipping.)

commit c26946e9f2d03222e38399a2cf3ba5fbefddfa61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 1 12:54:38 2017 -0700

    Fixed bug 3792 - [KMS/DRM] Wrong GBM format
    
    Romain Tisserand
    
    Using KMS/DRM driver from WIP SDL2.0.6 on Linux/ARM SoC RockChip RK3328 (ARM Mali 450 MP2 GPU).
    
    The current code is using GBM_BO_FORMAT_XRGB8888 as GBM buffer format specifier.
    
    The Mali driver (it has been confirmed some other vendor implementations too) expects GBM_FORMAT_XRGB8888.
    
    The Mesa implementation is actually handling both values as the same, but it's not implemented like this into every gbm.h vendor header.
    
    https://github.com/ideak/mesa/blob/master/src/gbm/backends/dri/gbm_dri.c
    
    So with stock SDL2 on my card (Mali vendor implementation), it does not work, eglCreateWindowSurface fails, and gbm_is_format_supported fails too (with the BO variant).
    It runs fine with GBM_FORMAT_XRGB8888.
    
    Here is a link of the gbm.h from Mali user-space driver :
    
    https://github.com/rockchip-linux/libmali/blob/rockchip/include/gbm.h

commit 74043994b832ae03094cb7f7b66b36129238e74a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 1 14:08:09 2017 -0400

    x11: Correctly restore previous GL context after sacrificial context is done.

commit a3dda100f4355ca3a27fe2a40eb899df99685ea3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 1 14:00:11 2017 -0400

    x11: don't try to make a NULL GL context current when we already did that.

commit 4649ac463c729428b7f94aec640f4221f32e7d28
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 1 13:57:40 2017 -0400

    x11: Clean up sacrificial GL context code.
    
    Check for failures, restore any previously-current context.

commit 507659c6acbf4651ca8af42ce033c952e8b88ec4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 1 13:27:53 2017 -0400

    x11: Make a sacrificial glX context to check for extensions during init.
    
    This is necessary because we need to see if GLES compat extensions exist.
    
    All of this code (including ShouldUseTextureFramebuffer()) should be
    revisited after 2.0.6 ships; ideally we don't make throwaway contexts if
    we can avoid it...but maybe we can't. I hear Vulkan is pretty cool.
    
    Fixes Bugzilla #3725.

commit 20207abf8090c1dbeb39bf6d09e7109590f66a1c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 31 22:07:28 2017 -0300

    macOS: Update controller mapping of Steelseries Stratus XL to account for reversed thumbstick y-axis values (bug #3483).

commit d7ae313134f2abec908d6f205c196323e6b3b03a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 31 21:34:29 2017 -0300

    macOS: Fix menubar items being enabled when they shouldn't be.

commit b959be2569d35ef7bac168028002b99b13f6eca1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 31 21:26:13 2017 -0300

    Code style cleanup in the Cocoa and UIKit vulkan files.

commit cfd7a7fac6367461f0757ffaaf01bc91e442daf5
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 31 21:13:32 2017 -0300

    macOS: Prevent unwanted native fullscreen (Spaces) toggles when the window is in fullscreen or isn't resizable. Fixes bug #3691.

commit ff76f8e5b4ceb24a2de2ea8b51db065f3c730312
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 31 15:17:59 2017 -0700

    Fixed bug 3791 - SDL_bits.h: __builtin_clz is supported in gcc >= 3.4
    
    Ozkan Sezer
    
    __builtin_clz is supported in gcc >= 3.4. The following patchlet adjusts
    SDL_bits.h for it.

commit 6c38c9007b1023ace333ff9a6f9e4ad0e30e3eb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 31 15:12:08 2017 -0700

    Update Android SDK required to API level 16
    
    Sylvain
    
    Some API 16 methods are used (InputDevice: getDescriptor(), getVibrator()), so we need to compile at least with SDK API 16. Hence default.properties and project.properties have been modified to use android-16.
    
    There are also some modification to SDLActivity.java not to use getVibrator() if we run under API 16. And not to check to presence of hasVibrator() if we are under API 11.
    -some hard-coded constant can be expandend.
    - rename a local variable (hasVibrator to hasVibratorService)

commit b54bcb34d0f88e1c85d69eebe2e6a61f04339f70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 30 23:30:24 2017 -0700

    Fixed bug 3483 - Steelseries Nimbus MFi controller reversed Y-axis analog stick
    
    benjamin.feng
    
    Probable underlying cause: https://bugzilla.libsdl.org/show_bug.cgi?id=3124#c5
    
    "If you download and build the HID Calibrator sample you can see that these are totally legitimate HID devices (except for inverting the Y-axis of joysticks, which is contrary to the HID specification but does make them more compatible with games compiled expecting XBOX controllers)."

commit 8e160a34a7afa5aaf5703d3bb25e547c3acdb107
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 30 23:02:39 2017 -0700

    Convert tabs to spaces in game controller database entries

commit 347fe704320077683c6df4b30fe101e2eb22698b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 30 14:25:01 2017 -0700

    Fixed bug 3789 - Android : small clean up
    
    Sylvain
    
    Since https://hg.libsdl.org/SDL/rev/6546daa45a02
    SDL_android_main.c is empty and then produce a warning
    nativeInit does not exist and dont need to be mark undefined

commit b5f31c392d383f2e0ae1c326016bfc6027db25ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 30 09:44:38 2017 -0700

    Moved haptic source files into the proper folder

commit e53c5c5c50402beabee986011b2f0eabc6ad5d65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 30 00:40:06 2017 -0700

    Fix QNX build - prioritize system EGL headers over the Khronos ones

commit 9ca6292372e610ce21e6967797108fdbbdc96b5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 23:14:39 2017 -0700

    Added some missing render capability flags

commit c3d428d4024a904fbeaf0c3d23ba7dcba49f5df5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 23:12:26 2017 -0700

    Fixed line breaks in verbose test logging output

commit 94e0f3e95baedaf0eede7c467899137fe5ebd8c4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 22:52:17 2017 -0700

    Added some debug messaging for previously unhandled events

commit 2d10a3f2b9fec87afb0821cc6527de074a874896
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 22:24:59 2017 -0700

    The dummy video driver check is now covered by explicitly checking for cocoa above.

commit 92bf60852706cc642ca66e2e86706b37e8e89385
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 22:04:43 2017 -0700

    Fixed bug 3616 - SDL_GL_CreateContext fails with SDL_GL_CONTEXT_DEBUG_FLAG and ANGLE/GLES 2.0
    
    Colin Barrett
    
    Using the pre-built x86 devel libs from here:
    https://www.libsdl.org/release/SDL2-devel-2.0.5-VC.zip
    
    If I have:
    
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_ES);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 2);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 0);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_FLAGS, SDL_GL_CONTEXT_DEBUG_FLAG);
    
    and I'm using ANGLE/(a GL driver that doesn't provide an ES2 context) such that SDL_EGL_CreateContext is called by SDL_GL_CreateContext, I get the error "Could not create EGL context (context attributes are not supported)" and no context is created.
    
    Looking at the code in SDL_EGL_CreateContext - if gl_config.flags is non-zero, it looks like the code in the section guarded with "#ifdef EGL_KHR_create_context" should be executed - but it apparently isn't.
    
    Is it possible this section hasn't been compiled into the pre-built libraries? If I build SDL2.dll myself using the Visual C++ solution (VS2015 Community Update 3) then the call succeeds as I expect

commit 8fc1fb08058de734c3aaf541aec7316eb4c53025
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 21:42:22 2017 -0700

    Fixed bug 3719 - Cocoa - Incorrect window size when leaving fullscreen
    
    bastien.bouclet
    
    When exiting a "fullscreen space" on OS X, windows don't go to their defined "windowed mode size", but go back to their previous size.
    
    Steps to reproduce:
    1. Create a windowed mode SDL window
    2. Toggle it to fullscreen with the SDL_WINDOW_FULLSCREEN_DESKTOP flag
    3. While in fullscreen, change the windowed mode size using SDL_SetWindowSize
    4. Toggle the window back to windowed mode
    
    Expected result:
    - The window has the size specified during step 3.
    
    Actual result:
    - The window has the size specified when creating the window in step 1.
    
    Attached is a minimal reproduction test case.
    The attached test case works as expected on X11 and Windows.

commit 846a9ab95eb01dc19c39ae4be13b9601ac67f131
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 18:25:55 2017 -0400

    test: forgot to change a variable.
    
    Fixes Bugzilla #3787.

commit 4fc0163853efae42e59f4bd90807aa3d2c971f2d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 18:16:38 2017 -0400

    test: Fix for negative int that was now a size_t (thanks, Ozkan!).
    
    Fixes Bugzilla #3787.

commit 21e32bac10bd039ae4c9b99dae485625f0b4002d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 16:30:49 2017 -0400

    egl: Cast to size_t, in case platform's NativeDisplayType isn't a pointer.
    
    (fixes compiler warnings on QNX.)

commit eb3c66d3c8aa124b2c8d146389ccf82224cbe0ca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 16:05:03 2017 -0400

    A few more compiler warnings fixed.

commit ae667da63865e45e5149cad00f0eb1c76afcd52e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 15:52:49 2017 -0400

    Fixed a bunch of compiler warnings.

commit 629f8abab44b523a5dbb0deac0cc57a8d683fafd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 09:02:04 2017 -0700

    Updated documentation, you don't need to initialize the audio subsystem to do in-place format conversion. (Thanks Simon Hug!)

commit abf8fc4c01f88372bc3ddad2aac828c886a467ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 08:27:23 2017 -0700

    Fixed check for Mac OS X 10.11+ SDK (thanks Edward Rudd!)

commit 2d655cd81429beab3f7de704b8020db6dfce9f5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 02:32:53 2017 -0700

    MAC_OS_X_VERSION_MAX_REQUIRED isn't actually set in recent Xcode versions

commit 737ed973cb5ac0d2b46460db89c743ca6b79ff40
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 29 01:04:48 2017 -0700

    Removed Metal and QuartzCore frameworks which aren't needed for Vulkan support

commit c684eb2cde827f5f8b3f385baa79911abdd08796
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 23:04:47 2017 -0700

    Add a way to set the context when other activities are active so many SDL API functions still work.

commit 130138fa599780bd1298a49fc382eddcf4bec8ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 22:44:48 2017 -0700

    Fixed bug 3785 - fix windows build after revision 11382
    
    Ozkan Sezer
    
    fix windows build after revision 11382: commit 2026e42e377a renamed
    _SDL_msctf_h to SDL_msctf_h_ . SDL_windowskeyboard.c relies on that
    macro, so update it accordingly.

commit c0530bcdf380cec2b821fbf00a5228eace3d9ba8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 22:42:41 2017 -0700

    We removed QuartzCore link dependency in commit 5be6badaf7e1

commit 8ac85744cd4fdfc8f8e2ad1e1d099535222d23e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 22:36:45 2017 -0700

    Fixed Vulkan configure check for Android and added one for Mac OS X

commit 90b38a5d61cf509f8d5a3a5af1b0aa3f22857776
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 22:13:45 2017 -0700

    Fixed bug 3786 - building against a Mac OS X SDK < 10.11 fails since the vulkan merge
    
    Ozkan Sezer
    
    Since the Vulkan merge, building against a Mac OS X SDM older than
    10.11 fails in SDL_cocoametalview.m because Metal.framework is not
    present. There is no conditional compiling in SDL_cocoametalview.m
    either, so --disable-video-vulkan doesn't help with anything. (The
    configury doesn't check darwin for x86_64 either, but it's another
    story.)
    
    I cross-build against 10.8 SDK on linux using clang-3.4.2 and this
    is a problem for me.  Will this be fixed?

commit d619d88560a6dbd329bfdf8cb7d6ab75d07dd8c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 21:42:39 2017 -0700

    Fixed bug 3662 - Error message when using the audio conversion setup without an initialized audio subsystem is a bit vague
    
    Simon Hug
    
    This issue actually raises the question if this API change (requirement of initialized audio subsystem) is breaking backwards compatibility. I don't see the documentation saying it is needed in 2.0.5.

commit b128e8802d0f87e2a99e68e24d95d5930e46b8a4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 00:41:45 2017 -0400

    audio: A whole bunch of improvements to audio conversion (thanks, Solra!).
    
    "Major changes, roughly in order of appearance:
    
    - Use float math everywhere, instead of promoting to double and casting back
    all the time.
    - Conserve sound energy when downmixing any channel into two other channels.
    - Add a QuadToStereo filter. (The previous technique of reusing StereoToMono
    never worked, since it assumed an incorrect channel layout for 4.0.)
    - Add a 71to51 filter. This removes just under half of the cases the previous
    code would silently break in.
    - Add a QuadTo51 filter. More silent breakage fixed.
    - Add a 51to71 filter, removing another almost-half of the silently broken
    cases.
    - Add 8 to the list of values SDL_SupportedChannelCount will accept.
    - Change SDL_BuildAudioCVT's channel-related logic to handle every case, and
    to actually fail if it fails instead of silently corrupting sound data and/or
    crashing down the road."
    
    (Note that SDL doesn't otherwise support 7.1 audio yet, but hopefully it will
    soon and the 7.1 converters are an important piece of that.  --ryan.)
    
    Fixes Bugzilla #3727.

commit 620f5342b5da057c62f7dc1045c476f8eb78e7bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 00:36:17 2017 -0400

    stdlib: An implementation of SDL_scalbn using ldexp() (thanks, Ozkan!).
    
    Fixes Bugzilla #3767.

commit a0cd7d6bce156039a62f4cd5f33c4b23f7e559bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 29 00:02:04 2017 -0400

    audio: Converting audio samples from int to float was using wrong equation.
    
    Fixes Bugzilla #3775.

commit 1067b528d35cd699566f3cffca7cb5a01df27087
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 20:52:05 2017 -0700

    Fixed building with an older Mac OS X SDK

commit e8b114ecfce2c2925c028df97f7e5407f20745cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 19:32:08 2017 -0700

    Vulkan support on Mac OS X introduces a link time dependency (CAMetalLayer) on 10.11 and newer

commit 309474765b98e63ace5b170c1a2448b1688e0c25
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 19:30:59 2017 -0700

    We don't need the VULKAN_SDK to build SDL with Vulkan support anymore

commit 09e43d450faba4795613fcf881bb5bf89ca5bfb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 17:28:09 2017 -0700

    Added missing Visual Studio 2010 project for testvulkan

commit aa85436ec7eaceddd40d00fb1edf03ab992808eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 14:45:19 2017 -0700

    Fixed compile warning

commit da84c3bf6eda297e3a20f4ca1455ed795ff352f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 14:44:21 2017 -0700

    Added a log message for nativeRunMain()

commit 60182eb71b09139ad2bf53398f1c4c165f734a93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 14:40:21 2017 -0700

    Allow overriding the main entry point on Android

commit dbb0a2aa74d2dadd19256e67cc3cb98fd428099b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 14:34:15 2017 -0700

    Removed the need for libSDL2main.a on Android, and separated JNI initialization out for other integrations

commit 93415899250ac1230e7345b86cfee160b267d0f0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 13:40:32 2017 -0700

    Removed unneeded Vulkan symbol definitions

commit 2a945b44cb842e0fd22b95143e9d917a64ab26a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 10:03:39 2017 -0700

    Fixed bug 2361 - [Android] Joysticks do not have unique IDs
    
    David Brady
    
    When I attempted to make a mapping file for Android gamepads, I quickly discovered that most of the ones that I have here show up as the same device (Broadcom Bluetooth HID), meaning that it was impossible to make mappings on Android, since every device looked the same.
    
    This patch will check for the existence of the getDescriptor function added in Jelly Bean, and use it if it's there.  The Android Dashboard says that the majority of Android phones should support this function, and doing it this way will not force us to bump up our API version.

commit c45932ba7eff74cda9304629af35759d7edc499f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 09:54:16 2017 -0700

    Fixed bug 2277 - Hardware keyboard control key sequences don't get reported
    
    chw
    
    Control key sequences from hardware keyboards (wireless/USB/bluetooth) get not properly reported on Android devices.
    The attached patch uses the idea from http://stackoverflow.com/questions/12337117/capture-all-ctrl-under-android to make control key sequences appear as normal SDL_KEYDOWN events instead of cooked text input.

commit 0560544d1c7774c4989907f23a39d621f9db2d20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 09:51:25 2017 -0700

    Fixed 3783 - Default libGL path for directFB on Linux differs from x11 path
    
    Clayton Craft
    
    The default path used by directfb for libGL is different than the default path used by x11 in SDL2:
    
    ./src/video/directfb/SDL_DirectFB_opengl.c:
    path = "libGL.so";
    
    ./src/video/x11/SDL_x11opengl.c:
    #define DEFAULT_OPENGL  "libGL.so.1"
    
    On at least one distro (Alpine Linux), libGL.so is not created (or more accurately the symlink to libGL.so.1 is not created). For consistency, the 'path' variable in SDL_DirectFB_opengl.c should patch the DEFAULT_OPENGL in SDL_x11opengl.c ("libGL.so.1")

commit d28cb702e41be028b8f4601dbd3e7d8e74c95eed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 09:41:00 2017 -0700

    Fixed bug 3781 - unbalanced #pragma pack(pop) in close_code.h
    
    Ozkan Sezer
    
    Revision 288 (http://hg.libsdl.org/SDL/rev/2f5a6062db86) excluded the
    Watcom compiler from forcing 4 byte structure packing in begin_code.h.
    However, it missed updating close_code.h, which now has an unbalanced
    #pragma pack(pop) if the compiler is Watcom.  The issue seems to have
    crawled into SDL2, too.

commit 959ae9019d36ae88a16aa01829ea7d122d249696
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 02:30:41 2017 -0700

    Instantiate the CAMetalLayer so SDL_Vulkan_CreateSurface() doesn't fail
    Error message was:
    [mvk-info] MoltenVK version 0.18.2. Vulkan version 1.0.51.
    [***MoltenVK ERROR***] VK_ERROR_INITIALIZATION_FAILED: On-screen rendering requires a view that is backed by a layer of type CAMetalLayer.
    2017-08-28 02:17:29.579 testvulkan[95627:1716939] ERROR: SDL_Vulkan_CreateSurface(): vkCreateMacOSSurfaceMVK failed: VK_ERROR_INITIALIZATION_FAILED

commit 6dd3f55d55f2aa6a269b14d821af3b0f156d2474
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 01:59:53 2017 -0700

    Fixed WinRT build after changing the header guard preprocessor symbol

commit ff8d2e14937ed32d7bd4f66837901639cdada98f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 01:42:18 2017 -0700

    Fixed build when Wayland is dynamically loaded

commit edaa0ef53f681060cc347e0f3fd4f6b1a148fc4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 00:54:02 2017 -0700

    Fixed analyzer warning "Call to 'calloc' has an allocation size of 0 bytes"

commit 3c7f9d692abfaf401427e3ee4092539eee43d3a8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 00:51:14 2017 -0700

    Fixed redefinition of typedef warnings and errors on BSD

commit 50efbda73693ec99b6e4a4a810235ead5970215e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 00:43:14 2017 -0700

    Fixed mingw Windows build, since SDL_vulkan_internal.h includes windows.h

commit 0d011ec66dc240a75eca4579fd5930c47f4c2355
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 00:22:23 2017 -0700

    Renaming of guard header names to quiet -Wreserved-id-macro

commit ce2b16445e6c0e25b8573ba3884d6f4a1ef2688c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 28 00:11:38 2017 -0700

    Be clear that disabling Vulkan surface support disables the entire SDL Vulkan integration

commit 5cd1a9591055b04ce469d89d27fad77119a6ada3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 23:53:09 2017 -0700

    Fixed Android build with Vulkan support

commit 0cebef607b663512cac628c42b7ce2ca15f48f52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 23:39:55 2017 -0700

    Fixed code style for new Vulkan API functions

commit ea91908e9566cf3a72689da46e0e7d7e658eae15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 23:39:38 2017 -0700

    Fixed Android ABI check to match vulkan/vk_platform.h

commit 34bdee53c6826df17a3a7e0a41c6a70ba3011dd8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 23:31:31 2017 -0700

    Make the androidbuildlibs.sh script executable

commit 37ce9f27738733438e80bf902ff4138972f1c7ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 23:13:15 2017 -0700

    Fixed typedef redefinition errors when including both SDL_vulkan.h and vulkan.h
    You should always include vulkan/vulkan.h first, then include SDL_vulkan.h

commit 9da4717d12bd62bd5043da7411335399c4553c97
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 22:36:03 2017 -0700

    Fixed Windows warning

commit 82ffabc86af5cfd3d68a80c4bfd26408fa59f4c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 22:34:15 2017 -0700

    Fixed Android build

commit 24a0d3bc6d16e1041d92f82dec5387a24a859420
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 22:27:45 2017 -0700

    Don't define Vulkan types if vulkan.h has already been included

commit 1f2e151b44740e377663d4d7ccee8bddc3a618fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 22:20:17 2017 -0700

    Added Vulkan support to the Visual Studio 2010 solution

commit 213356cd6fa011b014e17fb6ed9e40a48b0ab3e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 21:55:31 2017 -0700

    Don't need the Vulkan SDK for the Visual Studio 2008 project anymore

commit ded5b3a4b423be4fcfdb8c686280e96858753d38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 21:05:18 2017 -0700

    Fixed crash at shutdown if the window couldn't be created

commit 071e101837f8f5ac1a00ca3ff42e016c3c5aba22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 20:41:48 2017 -0700

    We use the SDL Vulkan headers

commit eb5392ad61f61d850cdd592a826b5d19a6740f05
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 20:41:29 2017 -0700

    Added the new Vulkan API functions to exported functions

commit c722e58d1fcb1f3861d4fc7a64e8a3158185409a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 27 23:25:12 2017 -0400

    vulkan: Include a copy of vulkan.h and vk_platform.h.
    
    Now we can provide Vulkan support in the build even if the build box doesn't
    have a Vulkan SDK, since we dynamically link to the library anyhow.

commit 803fd6d52639b55071a175d47d34d72ff9fee162
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 19:32:08 2017 -0700

    Use SDL_Vulkan_GetDrawableSize() instead of SDL_GL_GetDrawableSize()

commit 25e3a1ec90cbc08acbb1d33668ad71e6ca241e05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 27 22:15:57 2017 -0400

    vulkan: Initial Vulkan support!
    
    This work was done by Jacob Lifshay and Mark Callow; I'm just merging it
    into revision control.

commit 8e7998e19d840a8570c971e90a3961a2e9e52c66
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 19:10:30 2017 -0700

    Fixed bug 3710 - SDL_OpenAudio(desired, obtained) doesn't update desired's size when obtained is NULL
    
    David Ludwig
    
    I've created a new set of patches.  I am happy to create more, if it would help.
    
    One version only copies 'size'.
    
    A second version copies both 'size' and 'silence'.  When looking over the documentation for SDL_OpenAudio in SDL_audio.h, it mentioned that both 'size' and 'silence' were things that SDL_OpenAudio would calculate.
    
    Regarding *both* patches, I did notice that SDL 1.2 appears to have always modified desired's size and silence fields.  The SDL wiki, at https://wiki.libsdl.org/SDL_OpenAudio#Remarks , does note:

commit 003d491f86a2e9cd14185eebf645d573c7a198be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 19:05:57 2017 -0700

    Fixed bug 3724 - Allow Angle Static Link
    
    Carlos
    
    We would like to add a switch (define) that allows us to compile Angle statically with SDL. That is, getting rid of the OpenGL DLL. Usually you need OpenGL to be loaded dynamically as DLL because implementation is provided by the system but no need with Angle.
    
    Only 2 files need modification and it shouldn't affect current behaivor:
    include/SDL_egl.h and src/video/SDL_egl.c, as in here
    
    https://github.com/native-toolkit/sdl/pull/10/files
    
    The flag name could be SDL_VIDEO_STATIC_ANGLE (instead of NATIVE_TOOLKIT_STATIC_ANGLE) as discussed here https://github.com/native-toolkit/sdl/pull/10
    
    We have tested this with both Windows and UWP, using NME engine (https://github.com/haxenme/nme).
    
    Releated issue: https://bugzilla.libsdl.org/show_bug.cgi?id=1820

commit aad997fc9f110e9871617f2bf4102caff0d1afc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 19:00:03 2017 -0700

    Fixed bug 3740 - atexit() in test/testime.c

commit b7c5d151527d2765d81e9e0de7239e935fe6a826
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:53:30 2017 -0700

    SDL_dynapi.c: add missing SDLCALL to macros.

commit a38f127e8853c739ebfada502b9bd04848af39fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:52:43 2017 -0700

    Swapped conditional arguments for standard SDL readability

commit 30fe9a67990ea7fd16ab6a339b24ba8d0c2089e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:49:36 2017 -0700

    SDL_dynapi.h: revert commit ee88fe3e353e in order to enable dynapi
    
    
    [ optional ]

commit 50d3fe21aa0120feff528db8fd5aa7597168034f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:49:11 2017 -0700

    SDL_dynapi_procs.h: adjust SDL_CreateThread for os/2

commit bf1268287dd79fc2b5061833d0fbc3b24bfbfa63
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:48:51 2017 -0700

    SDL_thread.h: fix os/2 defines (rev 11340:2688d85b817c was a missing patch)

commit fe21a7476385222958dd7d9619fd382889a76a2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:43:52 2017 -0700

    Fixed bug 2266 - please add notifications for clipboard updates on Android
    
    Sylvain
    
    Hi! here's a patch for that with two class loaded regarding API level.
    Test both case : before API 11 and after.
    
    I also remove now unused GetSystemServiceFromUIThread() and minor clean-up (haptic warning prototype).

commit 6885bc88bf7782fcb98bbec31188c34904456bb8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 27 18:36:54 2017 -0700

    Fixed bug 2265 - Voice to text feature on Android repeats some text via SDL_TEXTINPUT
    
    Sylvain
    
    Small patch for this issue. I tested it and it seems to work.
    
    - it can send several backspaces (instead of only 1).
    - it calls directly "sendKeyEvent()" instead of "super.sendKeyEvent()".
      otherwise, it would go through the android internals, calling again "onKey()".
      and then the "backspace" would arrive after the next "commitText()".

commit 5ca01522188e15d17bd1222280857f950d70771e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 26 21:17:12 2017 -0700

    Fixed bug 3774 - Cmake build fails for Android
    
    sfalexrog
    
    Android haptic code was not added to CMakeLists.txt, leading to build failures when targeting Android platform.
    
    Attached patch adds Android haptic driver to source sets and adds configuration parameter to SDL_config.h.cmake.

commit bbd9acdddb5d3d505222c2c0bb36927421b83e7f
Author: Patrice Mandin <patmandin@gmail.com>
Date:   Sat Aug 26 21:20:20 2017 +0200

    Add support for GameSir G4s

commit 73f866cf0ab32ecb712b089213bdbfde60fd960f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 25 15:16:39 2017 -0400

    windows: Attempt to make Visual Studio not hardcode a call to memset().

commit e58c7920bfb0863239bab312f771cf44a2057951
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 25 12:51:42 2017 -0400

    x11: Patched to compile with DEBUG_XEVENTS defined.

commit 8c39d1d0b5d9bb22764c1ee6bff139dc738d0a16
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 25 12:27:18 2017 -0400

    OS/2: fixed inverted logic bug (thanks, Ozkan!).

commit 2213077a95601f7fe9c1c2f3d90b74c4e03462cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 25 11:31:12 2017 -0400

    OS/2: proper fix for dynapi (thanks, Ozkan!).

commit 685890a22992d41b29631486c75ce3199e1d6fba
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Thu Aug 24 22:57:42 2017 -0400

    Fix KHR_no_error support

commit d8fc70ea1ed37daedf6686c50e60d86d96a8f708
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 24 21:30:53 2017 -0400

    opengl: add support for GL_KHR_no_error.
    
    This is completely untested!
    
    Fixes Bugzilla #3721.

commit a3890ff6d7a1f1ca517de2719f0726235035cb19
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 22 15:50:39 2017 -0400

    dynapi: fill in OS/2 loading code (thanks, Ozkan!).
    
    Partially fixes Bugzilla #3765.

commit 17453d495a51b7aeaba0dc308fb4064f68eaa7cd
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Aug 21 23:44:46 2017 -0700

    x11: Move screen_w/h inside the only ifdef they are referenced in to avoid compiler warnings

commit a6dc4ed56806caea4bd8de4d0006e84e272d0cf9
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Aug 21 17:22:00 2017 -0700

    kmsdrm: Remove moved file

commit 1171718473ea71e2c199f60c921086c44debcdb6
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Aug 21 17:20:50 2017 -0700

    kmsdrm: Cleanup unused headers, rename SDL_kmsdrmevents_c.h -> SDL_kmsdrmevents.h

commit fcf83e7908baffae4ffedd97f02faed544025289
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 16:30:24 2017 -0700

    Fixed bug 3768 - provide a quick copysign() solution for watcom
    
    Ozkan Sezer
    
    The following patch provides a quick copysign solution for Watcom/x86

commit 9b3ec6a570d9858d2db2d33e04951a2d56c2639d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 13:01:22 2017 -0700

    SDL_thread.h: add missing os/2 defines.
    
    (essentially replicates the windows case || SDL1.2 case.)

commit f6ad070b82f558dcb8af7c091306e13418b321ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 13:00:58 2017 -0700

    SDL_dynapi.h: disable dynapi for os/2.

commit b821ded96cc4c6bbee1f66047c1627df8c7c0d5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 13:00:40 2017 -0700

    SDL_cpuinfo.c: add os/2 support to SDL_GetCPUCount() and SDL_GetSystemRAM().

commit f807655b7dc7f9e041d0546036092c8377a8c501
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 11:25:04 2017 -0700

    Fixed bug 3761 - Windows non-MinGW cmake build defines HAVE_WCSLCPY and HAVE_WCSLCAT
    
    Tom Seddon
    
    https://github.com/SDL-mirror/SDL/commit/0f0ad62237fabb58d5811fe6fa59e5e5aa0e2fb5 (git head at the time of writing); Visual Studio 2015, toolset v140, Platform 10.0.14393.0, building for x64
    
    Windows non-MinGW cmake build sets defines implying wcslcpy and wcslcat are available, but Windows doesn't have these functions.
    
    Ryan C. Gordon
    
    That's weird, these are the exact two functions that Emscripten incorrectly believed it had until we upgraded the buildbot's emsdk install.
    
    Not sure what's up with this, but it's possibly not a MingW-specific thing!

commit 834ab350e5cd1fed9b023587875e5be1aec2a64b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 11:19:38 2017 -0700

    Fixed bug 3644 - Wayland touch event support
    
    Moritz Bitsch
    
    Attached is a small patch which enables multitouch events on Wayland.

commit a78c20ae19a61f9db3c3316fdbc755d7aab2a7bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 21 11:17:38 2017 -0700

    configury: check mmdeviceapi.h and audioclient.h before enabling wasapi.

commit f5a38f234b06115b2f39f81f5be47fa21c856c18
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 21 00:42:06 2017 -0400

    x11: specify event mask for buttons when grabbing pointer (thanks, Stas!).
    
    This fixes a strange corner case (notes appended below), and should be
    safe to do anyhow.
    
    Fixes Bugzilla #3674.
    
    "I did more tests.
    It appears the bug only happens if there is
    another window on the screen that has "always
    on top" property. For me it is xawtv - it is
    always opened in a screen corner. Closing
    xawtv or removing "always on top" property
    from it makes the problem to go away.
    Plus, it doesn't appear like the buttons are
    not delivered at all. It appears that instead
    the button presses are delivered on some mouse
    positions, but not delivered when you move the
    mouse to other part of the window... So this is
    really weird and is likely somewhere deep in the
    Xorg.
    Maybe somehow it happens that the cursor is
    actually above the xawtv window, but, because
    my app uses grab, it is not visible there, and
    in that case the events are not delivered to
    my app?
    But with my patch the button events are
    always delivered flawlessly, it seems.
    
    Hmm, and that indeed seems to explain my problem:
    if the mask is set properly and my app uses
    grab, then, even if the mouse is above some
    other window, the events would still be delivered
    to the grabbing app, which is what actually wanted
    because my app uses relative mouse mode, so it
    doesn't know the pointer can cross some other window
    (my app draws the pointer itself).
    So my current theory is that my patch only enforces
    the mouse grab, which otherwise can be tricked by
    some other window preventing the button events
    delivery (but motion events are still delivered
    via xinput2, which makes it all look very obscure)."

commit 5574b4337697d084a8e17e41ff1c3228936ef975
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 31 12:22:18 2017 -0400

    x11: Pass generic XEvents by pointer instead of copying to stack for XInput2.

commit 01e0d8fc855dd2c0e412c55633aacf5cf72e593a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 19 15:02:03 2017 -0400

    opengl: Add support for [GLX|WGL]_ARB_create_context_robustness.
    
    This patch was originally written by Marc Di Luzio for glX and enhanced by
    Maximilian Malek for WGL, etc. Thanks to both of you!
    
    Fixes Bugzilla #3643.
    Fixes Bugzilla #3735.

commit 18a65385073672b9f6dc2510b1b8bb0e34d09f0b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 19 11:15:58 2017 -0700

    add missing os/2 apientry defs to SDL_opengl.h

commit 30d554e3d6a258f0e17cec41f34fc301634d1875
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 19 03:07:44 2017 -0700

    Fixed building SDL applications with Visual Studio and the clang toolset
    Also fixed building 64-bit SDL with clang. 32-bit doesn't build because of the inline assembly for C runtime support.

commit 12d33b33ca27643ee9d9e12b644caf0abf28ea29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 19 02:23:50 2017 -0700

    Fixed building with Visual Studio 2017 and the Windows XP toolset if _USING_V110_SDK71_ accidentally gets undefined

commit 148ac5b3cf6cb6878a8ad817315efce7ce5c9eb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 19 00:27:11 2017 -0700

    Added Matt Styles' tutorial on building SDL for Android with Visual Studio

commit 3d0f521be5da5b08e5942849bbb9e95def06834c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 18 23:23:30 2017 -0300

    iOS 10: Work around screen bounds orientation bug. Fixes bugs #3465 and #3505.

commit 2dc5d32fabbe5b3bfe69562ce201a448f7d80536
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 18 18:16:37 2017 -0700

    Updated version to 2.0.6

commit bcf0e071079bb78f0ed4d6e8e76435598e46fc60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 18 17:29:44 2017 -0700

    Added WASAPI audio target to autoconf build process

commit 5c4a45f1cc010a5c4d1642016eed8fa5c9d4ad26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 20:25:14 2017 -0400

    cmake: some iOS fixes (don't link to Cocoa or Carbon frameworks).
    
    Fixes Bugzilla #3625.

commit f4011bf08167f27f165c5338e3aaf81f260f4161
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 20:00:29 2017 -0400

    cmake: added a FIXME for later.
    
    Have to figure out what cmake version fixed this and bump the minimum to that.

commit 8816bb08f93386b6413ee568eae3b33fa7057eb9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 19:53:40 2017 -0400

    configure: Apple platforms don't need to build with -fpascal-strings anymore.

commit 677b2e57134aad47a29817b7afdaeac88b5a7dd2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 19:52:58 2017 -0400

    configure: mac and iOS should compile core/unix/*.c
    
    macOS currently needs this if you build with X11 support. iOS doesn't
    (currently), but it doesn't hurt to compile it in case we do something
    Unixy on that platform later on.

commit f75caa2ff61799174bc1d87bf69836bda9cb3444
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 18:52:25 2017 -0400

    cmake: Fix building for macOS with Xcode generator (thanks, dungaipara!).
    
    Fixes Bugzilla #3625.

commit e3e6b4fd35dbcfdb4183b6f47463ee9a407b45e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 18 16:52:19 2017 -0400

    audio: better docs on conversion APIs, error if not init'd (thanks, Simon!).
    
    Fixes Bugzilla #3662.

commit 500378eb5288ca6381de1f8b3dde3f9f3fef50cc
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Fri Aug 18 16:35:55 2017 -0400

    Add atomics for Watcom/x86 as inline asm
    
    Partially fixes Bugzilla #3758.

commit c68d3ab78527fb9fd6dc845d7e5bc63d60e4ef1e
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 17 21:35:46 2017 -0400

    Watcom supports __FUNCTION__ identifier (and surely not __PRETTY_FUNCTION__)
    
    Partially fixes Bugzilla #3758.

commit bdb7bfd79b766e9e3955c47715b7eb8eba96a73b
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 17 21:32:42 2017 -0400

    SDL_assert.h: add inline asm (int $3) as SDL_TriggerBreakpoint for Watcom/x86
    
    (also disable SIGTRAP case to !watcom, because watcom doesn't have SIGTRAP.)
    
    Partially fixes Bugzilla #3758.

commit fbda68ea7b3c71195823c85ca41c8afadb00a725
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 17 21:32:00 2017 -0400

    SDL_endian.h: add SDL_Swap16 and SDL_Swap32 for Watcom/x86 as inline asm
    
    Partially fixes Bugzilla #3758.

commit eccbe366bcf45a6c8d377408275da0e2adef27e2
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Thu Aug 17 21:30:29 2017 -0400

    SDL_bits.h: add __builtin_clz equivalent for Watcom/x86 as inline asm
    
    Partially fixes Bugzilla #3758.

commit 7a9b9e05e071371994c2b7c794a8c6045c116e0a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 17 20:47:16 2017 -0400

    SDL_mouse.c doesn't need default_cursor.h.

commit 47beda976792b7e5caef105ebf72e9467e9c04d1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 17 15:44:47 2017 -0400

    cmake: add core/unix sources to the build.
    
    Fixes Bugzilla #3757.

commit 00905c98be9fa577907f8c52b45a1dd022aa7a1a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 17 03:22:44 2017 -0400

    filesystem: Patched to compile on QNX.

commit e50d3cdf8ecc23c97ef825ecf045c2c81cf2e773
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 17 02:58:46 2017 -0400

    filesystem: QNX should use SDL_LoadFile() instead of rolling it from scratch.

commit c13c45c7bea1afc178344c65adef514b238020ad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 17 01:25:48 2017 -0400

    qnx: Implemented SDL_GetBasePath().

commit adecda508024061bd37fb0a69da9e053241c33d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 16 21:31:03 2017 -0400

    cpuinfo: Add SDL_HasNEON() support for ARM-based QNX.

commit efc43a1d881d55a6b9b214ae3f43a59ca0a95645
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Aug 15 23:00:54 2017 -0300

    More cleanup of the iOS keyboard demo.

commit a0a09f646c24de9d10dcc371f11c972a6d9db0a0
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Aug 15 22:53:57 2017 -0300

    Improve iOS keyboard demo code a bit.

commit 2e4248ed44391f5460c5bee7820e86c544d78fc3
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Aug 15 18:29:47 2017 -0300

    Address a compiler warning.

commit c7b4f2b92e3259c96f7921321c76a1bf4896e7d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 15 16:30:26 2017 -0400

    rwops: Fixed 64-bit file i/o on QNX.

commit e83764a5e0a8238590590b7a6cf4e8a2ebc61daf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 23:45:06 2017 -0700

    Fixed bug 2137 - SDL Message Boxes don't cope with fixed width fonts (in windows at least)
    
    Pegasus Epsilon
    
    With the system dialog font set to Arial or Tahoma or another variable-width font, everything works just as expected. When using a fixed-width font, like Courier or DejaVu Sans Mono, the text gets cut off. Example screenshots attached.

commit fb14cb7425dfacee056454b7cf697226f5c01e11
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 21:40:40 2017 -0700

    Fixed bug 2263 - Event timestamp members are undocumented
    
    Charles Huber
    
    The event timestamp members should be documented to indicate their meaning and units.
    
    Currently the timestamps are populated using SDL_GetTicks() in SDL_PushEvent() in SDL_events.c.

commit 1d0584d558d76e7f1104312e04dab2603dee23ae
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 21:35:16 2017 -0700

    Hopefully fixed Wayland build

commit a4cfa936700ff8a5b8f2c680b580c90f9e701da5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 21:28:04 2017 -0700

    Fixed bug 2293 - Precise scrolling events
    
    Martijn Courteaux
    
    I implemented precise scrolling events. I have been through all the folders in /src/video/[platform] to implement where possible. This works on OS X, but I can't speak for others. Build farm will figure that out, I guess. I think this patch should introduce precise scrolling on OS X, Wayland, Mir, Windows, Android, Nacl, Windows RT.
    
    The way I provide precise scrolling events is by adding two float fields to the SDL_MouseWheelScrollEvent datastructure, called "preciseX" and "preciseY". The old integer fields "x" and "y" are still present. The idea is that every platform specific code normalises the scroll amounts and forwards them to the SDL_SendMouseWheel function. It is this function that will now accumulate these (using a static variable, as I have seen how it was implemented in the Windows specific code) and once we hit a unit size, set the traditional integer "x" and "y" fields.
    
    I believe this is pretty solid way of doing it, although I'm not the expert here.
    
    There is also a fix in the patch for a typo recently introduced, that might need to be taken away by the time anybody merges this in. There is also a file in Nacl which I have stripped a horrible amount of trailing whitespaces. (Leave that part out if you want).

commit 72b195d27cc9480fdda81b4c222f128d8186d715
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 20:45:14 2017 -0700

    Fixed Android build warning

commit 04e76499ea8c22d93e5e184170f04642723725a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 20:37:07 2017 -0700

    Fixed build warning

commit e086a1c18367325ca806ee2793e2de4b88ed1ff5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 20:25:53 2017 -0700

    Added missing files from the previous commit

commit fb835f9e3b897ef48167d7aff3ccb024d087b745
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 20:22:19 2017 -0700

    Fixed bug 2330 - Debian bug report: SDL2 X11 driver buffer overflow with large X11 file descriptor
    
    manuel.montezelo
    
    Original bug report (note that it was against 2.0.0, it might have been fixed in between):  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=733015
    
    --------------------------------------------------------
    Package: libsdl2-2.0-0
    Version: 2.0.0+dfsg1-3
    Severity: normal
    Tags: patch
    
    I have occasional crashes here caused by the X11 backend of SDL2. It seems to
    be caused by the X11_Pending function trying to add a high number (> 1024)
    file descriptor to a fd_set before doing a select on it to avoid busy waiting
    on X11 events. This causes a buffer overflow because the file descriptor is
    larger (or equal) than the limit FD_SETSIZE.
    
    Attached is a possible workaround patch.
    
    Please also keep in mind that fd_set are also used in following files which
    may have similar problems.
    
    src/audio/bsd/SDL_bsdaudio.c
    src/audio/paudio/SDL_paudio.c
    src/audio/qsa/SDL_qsa_audio.c
    src/audio/sun/SDL_sunaudio.c
    src/joystick/linux/SDL_sysjoystick.c
    
    
    --------------------------------------------------------
    
    On Tuesday 24 December 2013 00:43:13 Sven Eckelmann wrote:
    > I have occasional crashes here caused by the X11 backend of SDL2. It seems
    > to be caused by the X11_Pending function trying to add a high number (>
    > 1024) file descriptor to a fd_set before doing a select on it to avoid busy
    > waiting on X11 events. This causes a buffer overflow because the file
    > descriptor is larger (or equal) than the limit FD_SETSIZE.
    
    
    I personally experienced this problem while hacking on the python bindings
    package for SDL2 [1] (while doing make runtest). But it easier to reproduce in
    a smaller, synthetic testcase.

commit 9451cd81ae7553f31a69c8c4b359055a648a0828
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 20:07:30 2017 -0700

    Fixed compiler warnings

commit aebe17d34fc6f7ff3a1bc48ca5da73a0e1762ad0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 16:34:54 2017 -0700

    Fixed bug 2344 - CHECK_WINDOW_MAGIC should include __FILE__ and __LINE__
    
    Martin Gerhardy
    
    just for easier debugging issues in the own code...
    
    SDL_CreateRenderer should maybe also use this macro
    
    Ryan C. Gordon
    
    I'll go one better: it should have an SDL_assert().

commit 96e15fa7f67986cdecffc709f4c81323a6da7a35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 16:09:44 2017 -0700

    Fixed Windows build due to an implicit memcpy generated by the optimizer

commit e9d4e3104483483fcaaa1e2f97dca2a7de008a55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 14:14:45 2017 -0700

    Fixed bug 3753 - Android : load methodID during initialization
    
    Sylvain
    
    Small patch to load some java methodID at start-up (and avoid a potential crash at run-time).

commit 1da2c1bb36e3b3413307158cd619a3d3078a99ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 14:10:48 2017 -0700

    Fixed bug 2360 - Wrong -rpath setting includes DESTDIR rather that only the libdir
    
    Marcus von Appen
    
    The LT_LDFLAGS in Makefile.in contain the $(DESTDIR) in -rpath, which instructs libtool to take a wrong path into account for linking.
    
    The issue arises, if DESTDIR is passed at build time and installation time.
    -rpath only should use $(libdir) for both SDL 1.2 and SDL 2.x.

commit 64dd829b0adace5921092d2221dd3bb0663bf525
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 13:48:13 2017 -0700

    Fixed bug 2418 - Structure SDL_gestureTouch leaking
    
    Leonardo
    
    Structure SDL_gestureTouch gets reallocated for every new added gesture but its never freed.
    
    Proposed patch add the function SDL_GestureQuit() that takes care of doing that and gets called when TouchQuit is called.
    
    Gabriel Jacobo
    
    Thanks for the patch. I think it needs a bit of extra work though, looking at the code in SDL_gesture.c , I see that SDL_numGestureTouches only goes up, I think the right fix here involves adding SDL_GestureDelTouch (hooked into SDL_DelTouch) as well as SDL_GestureQuit (as you posted in your patch).

commit f142a7961e42d76bfde09ca20ee3b4e67366e9d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 13:37:14 2017 -0700

    Fixed bug 2441 - SDL_DuplicateSurface
    
    
    Rainer Deyke
    
    I've written a small patch that adds a small SDL_DuplicateSurface function to SDL.  I've written the function as part of a larger (as yet unfinished) patch, but I think this function is useful enough that it merits inclusion in SDL on its own.

commit 362d54969088c62e760f9573044d34104878a948
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 10:28:47 2017 -0700

    Fixed bug 2500 - X11: SDL tries (and fails) to hide foreign windows
    
    Alvin
    
    I'm interested in this bug as well. I have experienced it when trying to embed an SDL_Window into a FLTK application. To do this, I create a FLTK window (window inside a window - think video player) and then use SDL_CreateWindowFrom() on the inner most window's Xlib Window*. After which, I create a renderer.
    
    In my situation I am using the FLTK GUI toolkit.
    
    What I have experienced is that the SDL_CreateRender() will recreate the window in order to properly setup OpenGL capability. As part of this process, the window is hidden and a call is executed that waits indefinitely for an acknowledgement that the window was indeed unmapped. This is where my program hangs.
    
    Please correct me if I am wrong, but should SDL2 not make Xlib calls that effect the Xlib Window in this situation (e.g. When SDL_CreateWindowFrom() is used)? The toolkit being used typically assumes responsibility and, I presume, tracks all Xlib Windows it creates.
    
    On line src/video/SDL_video.c:1372 the comment associated with setting SDL_WINDOW_FOREIGN reads:
    
      /* Can't destroy and re-create foreign windows, hrm */
    
    Since I do not know the reason for hiding the window in the first place, the attached patch simply does not wait for a response when X11_XWithdrawWindow() and X11_XMapRaised() are issued by X11_HideWindow() and X11_ShowWindow(), respectively. I presume that the GUI toolkit (GTK, FLTK, etc.) has or will consume the acknowledging event as it is managing the Xlib Window (or it thinks it is).
    
    I have tested the patch against hg 5c645d037de2 and I have successfully tested:
    * Embedding the SDL_Window inside a FLTK application.
    * Calling SDL_SetWindowSize() when FLTK resizes the window (e.g. dragging cursor on the edge of the window).
    * Filling the renderer's default target blue and drawing a red fill square at the centre (exciting, I know!)
    * Calling SDL_Quit() when the application terminates
    
    I do not receive any Xlib erorr messages (BadWindow, etc.) in any of those situations.

commit c350d91a6a54cbcb285ecf9fde0b32cbc82db332
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 10:15:38 2017 -0700

    Fixed bug 3752 - minor os2 defines
    
    Ozkan Sezer
    
    Attached three patches, so these minor os/2 bits get registered mainstream:
    
    1. SDL_syswm.h: add SDL_SYSWM_OS2 to SDL_SYSWM_TYPE enum
    2. SDL_platform.h: recognize __EMX__ too as __OS2__
    3. begin_code.h: set SDLCALL as _System for OS/2.

commit 2bf7bf2cbfd7c2b8ead0fd8214002ec532dcaaeb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 10:14:07 2017 -0700

    Fixed compiler warning with enum

commit 36ba92485c13bd00fc6fc3775b98c230aaf6c30c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 10:04:59 2017 -0700

    Fixed setting the texture blend mode in the OpenGL ES2 renderer

commit de91b1248f2e9c1b8b05878dd4712948e91726fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 06:28:21 2017 -0700

    Fixed bug 3745 - specify SDLCALL as the calling convention for API callbacks
    
    Patches contributed by Ozkan Sezer

commit d03409e118785c0a7135173ff4492a0c9d45799d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 06:18:08 2017 -0700

    Fixed bug 3191 - haptic system on android?
    
    Sylvain
    
    - add vibrator service in the list of haptic devices. I use an hard-coded device_id for it ...

commit c59d9923b3a3022e15df15130bf781adc442f220
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 14 05:51:44 2017 -0700

    Implemented more flexible blending modes for accelerated renderers
    
    This fixes bug 2594 - Propose new blend mode, SDL_BLENDMODE_BLEND_DSTA
    
            blendMode = SDL_ComposeCustomBlendMode(SDL_BLENDFACTOR_SRC_ALPHA,
                                                   SDL_BLENDFACTOR_ONE_MINUS_SRC_ALPHA,
                                                   SDL_BLENDOPERATION_ADD,
                                                   SDL_BLENDFACTOR_ZERO,
                                                   SDL_BLENDFACTOR_ONE,
                                                   SDL_BLENDOPERATION_ADD);
    
    This fixes bug 2828 - Subtractive Blending
    
            blendMode = SDL_ComposeCustomBlendMode(SDL_BLENDFACTOR_SRC_ALPHA,
                                                   SDL_BLENDFACTOR_ONE,
                                                   SDL_BLENDOPERATION_SUBTRACT,
                                                   SDL_BLENDFACTOR_ZERO,
                                                   SDL_BLENDFACTOR_ONE,
                                                   SDL_BLENDOPERATION_SUBTRACT);
    
    
    This goes partway to fixing bug 3684 - Add support for a pre-multiplied alpha blending mode
    
            blendMode = SDL_ComposeCustomBlendMode(SDL_BLENDFACTOR_ONE,
                                                   SDL_BLENDFACTOR_ONE_MINUS_SRC_ALPHA,
                                                   SDL_BLENDOPERATION_ADD,
                                                   SDL_BLENDFACTOR_ONE,
                                                   SDL_BLENDFACTOR_ONE_MINUS_SRC_ALPHA,
                                                   SDL_BLENDOPERATION_ADD);

commit f8e1874d01ab7439cedd4b8aa9a9e94d2d6dfafa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 22:50:23 2017 -0700

    Fixed bug 2646 - Problems with software renderer when SDL_SetRenderLogicalSize set
    
    Fixed setting the software renderer clip rectangle when a viewport is set

commit f8de064c0ae7720d426dd7b2843e8efc7b3c8437
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 22:26:44 2017 -0700

    Added wchar.h to fix build on some platforms with new wcs* functions

commit 7af3786def620154b2cd91e90b535eb81c21f447
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:55:42 2017 -0700

    Fixed bug 2755 - SDL2 fails to build on Solaris 10 u3
    
    UX-admin
    
    I am compiling with the Sun Studio 12 u2 compiler. There are multiple issues with the build, but this particular issue appears to be that it is illegal to declare a union of a struct of floats and a float. While GCC 4.8.1 does not flag this as an error, Sun Studio is much more standards compliant and strict, halting further compilation with an error.

commit 72ab258812c6c0f063fde046c82888dfbeae8c68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:48:40 2017 -0700

    Fixed bug 2764 - Timer is not rescheduled with the returned interval
    
    afwlehmann
    
    Sorry for re-opening, but it turns out that the current interval is indeed not updated. I've just checked the source code of the 2.0.3 release again:
    
       163      if (current->canceled) {
       164          interval = 0;
       165      } else {
       166          interval = current->callback(current->interval, current->param);
       167      }
       168
       169      if (interval > 0) {
       170          /* Reschedule this timer */
       171          current->interval = interval; // <-- this line is missing
       172          current->scheduled = tick + interval;
       173          SDL_AddTimerInternal(data, current);
       174      } else {
    
    According to the documentation: "The callback function is passed the current timer interval and the user supplied parameter from the SDL_AddTimer() call and returns the next timer interval. If the returned value from the callback is 0, the timer is canceled."
    
    If I understand the text correctly, then the current interval should in fact be updated according to the returned value. Otherwise there would be a discrepancy between the next time for which the timer is actually re-scheduled and the value that's passed to the callback once the timer fires again.
    
    This could be fixed by adding line #171.

commit 0112f61889813bc2c232e9b637a339e2e1e8d792
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:18:59 2017 -0700

    Fixed bug 3743 - make testautomation_sdltest.c to compile
    
    Ozkan Sezer
    
    The attached patch makes testautomation_sdltest.c more compatible wrt
    LLONG_{MIN|MAX} macros and makes it to compile on older systems  (e.g.
    glibc-2.8) too, by replacing LLONG_{MIN|MAX} with INT64_{MIN|MAX}.
    
    c.f.: bug #3494, where the same issue was described for SDL_test_fuzzer.c

commit eb06aba8ae2a1c8d0bb4595da09259bfac998784
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:16:58 2017 -0700

    Fixed bug 3742 - minor warning fixes

commit 2da830a90975287a8e5d532845cb7baf5da484a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:15:44 2017 -0700

    Fixed bug 3741 - more compatible initializers for arrays
    
    Ozkan Sezer
    
    An array defined like  int xPositions[] = {-1, 0, 1, w-1, w, w+1 };
    errors with Open Watcom: it strictly wants constants.  Small patch
    like below makes things more compatible.

commit 93a520b38500a893b4040b3954813a2311384a07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:12:14 2017 -0700

    Fixed bug 3605 - Software renderer no longer renders after Android screen orientation change
    
    Sylvain
    
    This still happens with the current trunk version.  (software renderer of testdrawchessboard.c)
    
    When there is a rotation, the window size changed and the internal surface is marked as "surface_valid == SDL_FALSE".
    And all further call fails.
    
    SDL_video.c :
    
    2478 void
    2479 SDL_OnWindowResized(SDL_Window * window)
    2480 {
    2481     window->surface_valid = SDL_FALSE;
    2482     SDL_SendWindowEvent(window, SDL_WINDOWEVENT_SIZE_CHANGED, window->w, window->h);
    2483 }
    
    some error set to :
    2233         return SDL_SetError("Window surface is invalid, please call SDL_GetWindowSurface() to get a new surface");
    
    
    So, this seems to be the behavior of the API ...
    
    
    In the loop() function of testdrawchessboard.c, we can recreate the surface/renderer :
    
     65        if (e.type == SDL_WINDOWEVENT)
     66        {
     67             if (e.window.event == SDL_WINDOWEVENT_SIZE_CHANGED)
     68             {
     69                surface = SDL_GetWindowSurface(window);
     70                renderer = SDL_CreateSoftwareRenderer(surface);
     71             }
     72             /* Clear the rendering surface with the specified color */
     73             SDL_SetRenderDrawColor(renderer, 0xFF, 0xFF, 0xFF, 0xFF);
     74             SDL_RenderClear(renderer);
     75        }
    
    And it displays correctly.

commit 3cae0c38d2a131734d9665a4231a2519763f8cd5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:09:00 2017 -0700

    Fixed bug 3746 - remove SDLCALL attribute from SDL_BlitFunc() funcptr
    
    Ozkan Sezer
    
    The attached patch removes SDLCALL attribute from SDL_BlitFunc() funcptr.
    
    As far as I can see, *SDL_BlitFunc() is completely internal to SDL with
    no specific calling convention requirements.  The actual functions assigned
    to SDL_BlitFunc seem to not have any calling conventions specified. So,
    easy solution is simply removing the strict calling convention from the
    type.

commit ca5c3048145e250bc4d8255798d0f01e6460024d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:06:52 2017 -0700

    Fixed bug 3744 - missing SDLCALL in several functions
    
    Ozkan Sezer
    
    The attached patch adds missing SDLCALL to several functions, so that
    they properly match the headers as intended.

commit e54eede265a2ebf3d462212a344a9bfe028b80a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 21:05:15 2017 -0700

    Provide the correct state of the on-screen keyboard to the API (patch from Sylvain)

commit 6ee661398d94db9f6eac38b31269a3665432125a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:55:59 2017 -0700

    Fixed bug 3235 - Make the Android window creation similar to iOS' window creation
    
    Sylvain
    
    Here's a patch.
    It tries to get the hint first. Resizable will allow any orientation. Otherwise it uses width/height window.
    
    setOrientation method is splitted in static and non-static, so that it can be overloaded in a user subclass.
    
    Some artefact observed :
    surfaceChanged() can be called twice at the beginning. When the phone starts in portrait and run a landscape application.

commit 6ef1a25d181b9fac58de6de5b172ba173473fef1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:51:08 2017 -0700

    Fixed bug 3751 - DirectFB linux_input disabled by default
    
    Clayton Craft
    
    linux_input module is disabled by default, despite the comments in source code that it is otherwise:
    
    src/video/directfb/SDL_DirectFB_video.c:
        devdata->use_linux_input = readBoolEnv(DFBENV_USE_LINUX_INPUT, 0);       /* default: on */
    
    src/video/directfb/SDL_DirectFB_video.h:
        #define DFBENV_USE_LINUX_INPUT      "SDL_DIRECTFB_LINUX_INPUT"      /* Default: on  */
    
    When using the directfb driver, the linux_input module is suppressed unless the SDL app is started with "SDL_DIRECTFB_LINUX_INPUT=1" set in the environment. I recall seeing at one point that the directfb folks recommended using linux_input over the other input drivers, but I am having trouble locating this recommendation. In any case, I believe that this should really be defaulted to 'on' since it's vastly superior to the other dfb input drivers!

commit ddeaa6016c220c9b0ff53aef00af0ab507d13c33
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:42:41 2017 -0700

    Fixed bug 3299 - DirectInput: Incorrect joystick mapping when attaching new joysticks
    
    Jimb Esser
    
    Note: This is using DirectInput, I have to disable XInput as that causes all but the first 4 controllers to be completely ignored by SDL (I can find no way to reconcile XInput devices with DirectInput devices, otherwise I would make a patch that accepts the fifth and later controllers with DirectInput...).  XInput does not seem to have the problem below, only DirectInput.
    
    I plug in 3 identical wireless Xbox 360 controllers, call them J1, J2, J3.  Direct Input shows them as having GUIDs G1, G2, G3.  I unplug J1, then J2 and J3 show up as having GUIDs G1 and G2!  Not so "unique"...  I start my SDL app when just J2 and J3 are plugged in, and open J2 and J3.  Then I plug in a new controller, SDL sees that now G3 exists, assigns that a new SDL joystick instance ID, which I request to be opened, but G3 at this point is J3, which I already had opened!  So I end up with two instances of J3 opened, and none of J1.  "Re-"opening G1 would get the actual handle to the newly attached controller, but there's no current way to know this.  This is clearly a bug or poor design in DirectInput or my wireless receiver drivers, but is a showstopping bug for my 8-20 player games (as soon as any one controller runs out of battery or goes to sleep and gets turned back on, suddenly things are busted requiring a restart (or, at least, a reinitialization of all controllers - the game can't go on)).
    
    The solution I found is to use HID paths instead of GUIDs to uniquely identify joysticks.  GUIDs are still needed to open a controller, however I have added code to re-find the GUIDs for all joysticks whenever a new joystick is attached or removed.  This does now require opening of all joysticks (instead of just enumerating them), though if your app, like mine, is opening all of them anyway so that any can press a button to join, that doesn't change much (although perhaps they joysticks should be kept open in this case, instead of closed and re-opened).  If your app only ever opens one joystick, this will do more work at startup than it did previously.

commit ea9bc659f59efc38654cc3a4d3e42ccb90b3e84b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:39:00 2017 -0700

    Added check for XBOX in addition to Xbox and X-Box

commit 78865effb5f643be8e7bec164e367b10d4c9feb6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:38:06 2017 -0700

    Fixed compiler warning

commit f1829d956fe44b1bb950e2da1ed02d04fefea0a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:37:49 2017 -0700

    Added SDL_wcscmp()

commit af9ec8f6b5e5ede0341e350689c751255ebfa817
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 20:13:11 2017 -0700

    Fixed copy-paste error, thanks Alen!

commit df2d299447fd81b0691043b55ca8f8e83d6ff7a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 18:12:06 2017 -0700

    Fixed bug 2812 - Make libSDL2main.a usable on Android via a dummy symbol
    
    Jonas Kulla
    
    This eliminates the need to manually compile in SDL_main_android.c.
    Instead, add "-lSDL2main -Wl,-u,SDL_main_dummy" when linking.
    
    I don't know how the nkd-build process works, but unless it was
    for some reason linking libSDL2main.a it should be unaffected.

commit e977225937645764cfa5f26f4bab53af446d1cab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 17:59:59 2017 -0700

    Fixed bug 2839 - No way to create pre-built libraries for Android
    
    Mark Callow
    
    README-android says to copy or link the SDL source tree to the jni folder in your Android project. It is not desirable to have to compile SDL with every application; furthermore the Android NDK has support for prebuilt libraries.
    
    Attached is script (to be put in build-scripts) that builds the Android version of the libraries. The script builds both the existing SDL2 module and a new SDL2_main module. This is a static library containing the code from src/main/android/SDL_android_main.c. Also attached is a patch for Android.mk adding this module.
    
    Note that when building an application's native .so using this prebuilt libSDL2main, you must use a link option, such as --whole-archive, that forces inclusion of the code in the .so because the functions in SDL_android_main are called only from Java.

commit c87e1d525c832cb749d5bb100015c20e6f7145c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 13 14:15:52 2017 -0700

    Fixed bug 2841 - Hint to set resource id for window icon
    
    Alexey
    
    Seems to be a missing functionality. I want to set an icon from RC file. I cant pass MAKEINTRESOURCE(X) string to SDL_RegisterApp() cause string returned by MAKEINTRESOURCE string is not actually a string and SDL_strlen will crash. Moreover LoadImage seems to be loading wrong icon size. LoadIcon seems to be fine.

commit 18cceb5ce0d0395fb317f9fe3c0c6310a8943f60
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 13 01:00:01 2017 -0400

    x11: Patched to compile.

commit 0a1b905b6c669af251495eba201653fb0066c3e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 13 00:58:23 2017 -0400

    x11: Fix message box titles with Unicode chars on some window managers.
    
    Fixes Bugzilla #2971.

commit bfd5a134739748f11bbfc49e9cae5a043781d5d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 20:25:49 2017 -0700

    Fixed bug 2931 - Large relative mouse motion jumps when using touch input

commit b2e2bcc203f894dc5f562932a674002d49c6399f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 20:21:34 2017 -0700

    Added test debug logs for additional event types

commit 9be597a0d6dab88a7336357a347f1dcaf716301b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 12 22:16:04 2017 -0300

    iOS: Fix app orientation when creating a landscape fullscreen window with the device currently in portrait orientation.

commit 059d9e46278989dcea498465c871f750fd0b5b58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 17:41:59 2017 -0700

    Fixed bug 2950 - wrong axes values are set on joystick initialization
    
    Edward Rudd
    
    Device: Logitech Rumble Gamepad F510 in Xinput mode.
    
    Upon opening the joystick the values of the axes are queried via PollAllValues are not actually set on the device all the time.
    
    This can easily be seen in the testjoystick or testgamecontroller test programs,as the testjoystick shows all axes in the center until one 'tickles' the triggers., and the testgamecontroller will show the triggers as 'on' until on 'tickles' the triggers.
    
    Upon further research the culprit is the SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS hint. In the default value events are ignored until there is an active window, Thus in cases where the joystick system is initialized and controllers opened before the initial window is created & focuses, the initial values will be incorrect.
    
    Here is my current workaround in the game I'm working on porting..
    
    SDL_SetHint(SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS, "1");
    SDL_GameController* gamepad = SDL_GameControllerOpen(index);
    SDL_SetHint(SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS, "0");

commit 7bab2913c235790fec1384f98b34de1b8915b789
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 17:01:14 2017 -0700

    Fixed Windows build

commit 05facb3d4e399fc1d78aef092032ec0f77f0ea6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 16:59:00 2017 -0700

    Fixed bug 2979 - SDL_ConvertSurface does not convert color keys consistently
    
    Edmund Horner
    
    When a 16-bit "565 format" surface has a colour key set, it will blit with correct transparency.  If, however, it has its colour key set then is converted to a 32-bit ARGB format surface, the colour key in the converted image will not necessarily be the same pixel value as the transparent pixels.  It may not blit correctly, because the colour key does not match the right pixels.
    
    In my case, with an image using 0xB54A for transparency, the colour key was converted to 180,170,82; but the corresponding pixels (with the same original value) were converted to 180,169,82.  Blitting the converted image did not use transparency where expected.
    
    I have attached a test case.  The bug has been replicated on both x86_64 Linux (SDL 2.0.2), and 32-bit MS C++ 2010 on Windows (SDL 2.0.0).

commit d226594fcc83ea6038badc7b03522f6412fe5b43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 16:48:46 2017 -0700

    Workaround for bug 3049 - SDL_Init(SDL_INIT_VIDEO) - XDM authorization key matches an existing client!
    
    malferit
    
    Hello, I began a little program with SDL2 on Linux in C, and when I call SDL_Init(SDL_INIT_VIDEO) I get an error and this is printed in the console:
    
    XDM authorization key matches an existing client!
    
    I searched through Internet, and found that some people suggest to run 'xhost +' or to specify this in /etc/X11/xdm/xdm-config:
    
    DisplayManager*authName:        MIT-MAGIC-COOKIE-1
    
    I don't think an end user needs to know that...
    
    But what bothered me is that first I started this little program in Pascal using the Freepascal compiler and it works. In freepascal you only use some thin header bindings in Pascal and then it links with the dynamic SDL library, so I don't understood why it worked with Freepascal and not in C.
    
    I run ldd to the two generated applications:
    
    Application in C:
    
            linux-gate.so.1 (0xffffe000)
            libSDL2-2.0.so.0 => /usr/lib/libSDL2-2.0.so.0 (0xb76ac000)
            libpthread.so.0 => /lib/libpthread.so.0 (0xb766e000)
            libc.so.6 => /lib/libc.so.6 (0xb74e2000)
            libm.so.6 => /lib/libm.so.6 (0xb74a0000)
            libdl.so.2 => /lib/libdl.so.2 (0xb749a000)
            librt.so.1 => /lib/librt.so.1 (0xb7491000)
            /lib/ld-linux.so.2 (0xb77b3000)
    
    Application compiled with Freepascal:
    
            linux-gate.so.1 (0xffffe000)
            libSDL2-2.0.so.0 => /usr/lib/libSDL2-2.0.so.0 (0xb762a000)
            libX11.so.6 => /usr/lib/libX11.so.6 (0xb74f3000)
            libc.so.6 => /lib/libc.so.6 (0xb7367000)
            libm.so.6 => /lib/libm.so.6 (0xb7325000)
            libdl.so.2 => /lib/libdl.so.2 (0xb731f000)
            libpthread.so.0 => /lib/libpthread.so.0 (0xb7305000)
            librt.so.1 => /lib/librt.so.1 (0xb72fc000)
            libxcb.so.1 => /usr/lib/libxcb.so.1 (0xb72dc000)
            libXau.so.6 => /usr/lib/libXau.so.6 (0xb72d9000)
            libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0xb72d3000)
            /lib/ld-linux.so.2 (0xb7755000)
    
    It seems that Freepascal is linking with libX11, libxcb, libXau and libXdmcp .
    
    Linking my C application with libxcb solved the problem (linking with libXau and/or libXdmcp without libxcb didn't work). Linking with X11 links all the other libraries and works as well.
    
    So I fill this bug report mainly to let you know about this. I don't know if it is a problem that can be solved on the libSDL side or not, but at least I hope it will help.
    
    Hi, some tests:
    
    1. Disabled XDM. Login in console and running 'startx'. The program works without having to link with X11.
    
    2. Enabled XDM. Added 'DisplayManager*authName: MIT-MAGIC-COOKIE-1' to /etc/X11/xdm/xdm-config.The program works without having to link with X11.
    
    3. Enabled XDM without 'DisplayManager*authName: MIT-MAGIC-COOKIE-1' in /etc/X11/xdm/xdm-config . I get the authentication error unless I link with X11.

commit 45cec28bc4fec2b3f5784b757ce85db7db333f18
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 16:44:00 2017 -0700

    Fixed bug 3058 - Slight mistake in GetWindowStyle in SDL_windowswindow.c
    
    Coriiander
    
    There's a slight mistake in the function "GetWindowStyle" found in file "SDL_windowswindow.c".
    
    When a window is marked to be resizable, the resizable style is being added regardless of whether the window has a border or not. While for some arcane, hidden semantics this can be ok, it's still inconsistent in this case.

commit e3f3a757f30adc9ea14422e7322dfee1a09a1abb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 16:02:33 2017 -0700

    Fixed bug 3158 - SDL display window scrambled over VNC
    
    Witek Jachimczyk
    
    I'm using SDL to develop a video viewer for MATLAB.  The window is scrambled while using thightVNC with its default mode of RGB656.
    
    SDL does not correctly recognize the pixel mode.
    
    
    I found a solution for this problem.  The solution involves modifying
    SDL/src/video/SDL_pixels.c
    
    Adding the following "if statement" under case 16: of SDL_MasksToPixelFormatEnum resolves the issue:
    
            if (Rmask == 0x003F &&
                Gmask == 0x07C0 &&
                Bmask == 0xF800 &&
                Amask == 0x0000) {
                return SDL_PIXELFORMAT_RGB565;
            }
    
    I hope that this helps someone.  I took me a while to figure it out.

commit 4a9c6f0a14b2b17c335eacba46a52a2241428db6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 15:55:54 2017 -0700

    Fixed bug 3173 - SDL_GL_GetAttribute overwrites error code from SDL_GL_GetProcAddress
    
    Yann Dirson
    
    When SDL_GL_GetProcAddress returns in error, the cause of the error is overwritten
    in GL_GL_GetAttribute, reporting to the user "Failed getting OpenGL glGetString entry point", whereas the original "OpenGL library not loaded" never makes it
    to the user.
    
    Pushed a fix to:
    https://github.com/O-Computers/SDL/commit/f94cb13708ef4d236f8a2a330135b9b3a47db204
    
    
    Note that the "OpenGL library not loaded" error looks like no root cause either,
    and I'm still puzzled by the code path used: I'm forcing opengles2 renderer on
    the x11 video driver on a rpi2, as in https://bugzilla.libsdl.org/3169, and although I now know that I must force the use of the RPI video driver instead
    of the x11 one, I suspect even more accurate info can be given to user.

commit b1ed855d53d11058eb248ac42a2244cad3b2b722
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 15:45:46 2017 -0700

    Added a note about number key keycodes always being SDLK_0...SDLK_9 even on AZERTY layouts
    See bug 3188 for more discussion

commit 3b837a26591fe9146353d607ce497fd7a5641290
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 15:41:03 2017 -0700

    Fixed bug 3188 - AZERTY keyboard support broken and inconsistent
    
    Daniel Gibson
    
    AZERTY keyboard layouts (which are the default layouts in France and Belgium) don't have the number keys (1, 2, ..., 9, 0) in the first row of keys, but ?, &, ?", ', (, -, ?_, ??), = (with small differences between the France and Belgian variants). Numbers are reached via shift.
    
    On Linux and OSX, SDL seems to use the corresponding ISO 8859-1 codes (231 for ?232 for ?tc) as SDL_Keycode (but no SDK_* constants exists for those values!), while on Windows SDL seems to map those keys to SDLK_1, SDLK_2 etc, like you'd get on QWERTY.
    I don't know how other platforms behave.
    
    So we have two problems:
    1. At least on Linux and OSX invalid/undefined SDL_Keycodes are returned
    2. Different platforms behave differently (Windows vs Linux/OSX)
    
    It's unclear what behavior is desired: Should SDL_* constants for those keys be introduced (and Windows behavior changed accordingly)?
    Or should all platforms behave like Windows here and use the existing SDLK_1, ..., SDLK_0 keycodes?
    
    This bug on the mailing list:
    https://forums.libsdl.org/viewtopic.php?t=11555 (my post about Linux/Windows)
    https://forums.libsdl.org/viewtopic.php?t=11573 (Tim Walters discovered the same problem on OSX about 1.5 weeks later).

commit 1a5441451c31c71bd6e673268dcca62cc84f3210
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 15:21:26 2017 -0700

    Fixed bug 3309 - SDL_ConvertSurface adds AlphaMod when input surface has ColorKey
    
    Sylvain
    
    Let's you have a SDL_Surface that has ColorKey, but no Alpha Modulation.
    When this surface is duplicated with SDL_ConvertSurface function, the result has ColorKey and Alpha Modulation (BLEND, and Opaque 255).
    
    I think SDL_ConvertSurface should strictly keeps the input format.
    
    
    example
    =======
    
    SDL_Surface *input; // ... Set up a surface with ColorKey and no AlphaMod
    
    SDL_Surface *output = SDL_ConvertSurface(input, input->format, input->flags);
    
    // "output" surface has a ColorKey but *also* AlphaMod (BLEND, and Opaque 255).

commit e4124ff56d388a358211670c38600164666881d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 15:00:33 2017 -0700

    Fixed bug 3208 - Minor improvements to the configure script
    
    Rafal Muzylo
    
    "if we're already using libtool, why aren't we using it ?"; they've been inspired by the fact, that at that mark, neither libSDL2_test.a nor libSDL2main.a were being built correctly (not sure if it's fully broken or just because I've tested the out-of-tree build)

commit 2862b1465dc43bca31e3158a119352d577b8bfce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 13:05:26 2017 -0700

    Note that texture contents are undefined when the texture is created.

commit 6f843b902d307c9dbe1bbaf4131730a7649fb077
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 12:59:22 2017 -0700

    Fixed bug 3243 - SDL_SetRenderDrawColor() behaves wrong with RGBA=0
    
    Simon Hug
    
    The bug is in the GL_ResetState and GLES_ResetState functions which get called after a new GL context is created. These functions set the cached current color to transparent black, but the GL specification says the initial color is opaque white.
    
    The attached patch changes the values to 0xffffffff to reflect the initial state of the current color. Should the ResetState functions get called anywhere else in the future, this probably has to call the GL functions itself to ensure that the colors match.

commit 47c2c7d5855f8633eef1aa08296376c378dee77c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 12:56:28 2017 -0700

    Cleaned up WindowsScanCodeToSDLScanCode() so VKeytoScancode() always takes precedence for the keys it handles and the rest of the logic is easier to read.

commit 34769abd467befa42bf88678018a2c95d63291b8
Author: ouned <michael@losert.org>
Date:   Sat Jun 3 09:13:08 2017 +0200

    prefer virtual keycodes over scancodes for extended keys

commit 195b8bd8eea029f394612eca33856c92e1fab068
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 12:34:09 2017 -0700

    Fixed bug 3249 - keysym.mod is incorrect when mod keys are pressed for SDL_KEYDOWN events
    
    Adam M.
    
    The keysym.mod field does not reflect the state of the modified keys when processing key down events for the modifier keys themselves. The documentation says that it returns the current key modifiers, but they are not current for key down events involving modifier keys. I interpret "current" to mean "equal to SDL_GetModState() at the instant the event is processed/enqueued".
    
    For example, if you depress the Shift key you get a key down event with .mod == 0. However, .mod should not be 0 because a shift key is down. If you then release the Shift key, you get a key up event with .mod == 0. Neither event reports the modifier key.
    
    If you press Shift and then A, .mod is incorrect (== 0) when Shift is pressed, but is correct later when A is pressed (== KMOD_LSHIFT).
    
    You might say this behavior is deliberate, i.e. keysym.mod is the value /before/ the event, not the current value as documented, but that explanation is incorrect because only key down events behave that way. Key up events correctly give the current value, not the value before the event.
    
    Not only is it inconsistent with itself, I think it makes keyboard processing harder.
    
    The problem is near line 740 in SDL_keyboard.c:
    
    if (SDL_KEYDOWN == type) {
        modstate = keyboard->modstate; // SHOULD THIS BE MOVED DOWN?
        switch (keycode) {
        case SDLK_NUMLOCKCLEAR:
            keyboard->modstate ^= KMOD_NUM;
            break;
        case SDLK_CAPSLOCK:
            keyboard->modstate ^= KMOD_CAPS;
            break;
        default:
            keyboard->modstate |= modifier;
            break;
        }
    } else {
        keyboard->modstate &= ~modifier;
        modstate = keyboard->modstate;
    }
    
    In the key down path, modstate (and thus keysym.mod) ends up being the modifier state /before/ the event, but in the key up path modstate ends up being the modifier state /after/ the event. Personally I think the "modstate = keyboard->modstate" line should just be moved after the entire if/else statement, so that keysym.mod always reflects the current state.

commit c0862512666150da3859c3a5c65c4ce44a0736a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 12:24:59 2017 -0700

    Fixed bug 3128 - Removing all the static variables from android SDLActivity and accompanying JNI calls.
    
    owen
    
    I removed all the static variables from SDLActivity.java
    
    Updated all the SDL_android.c jni calls as well
    
    I added a new function to SDL_android.c/ h
    void Android_JNI_SeparateEventsHint(const char* c);
    
    This is called by SDL_androidtouch.c so that this TU doesn't need to call any JNI functions.

commit 0a52db54bd950f99211eddb6afe1f03d8bdce8ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 08:15:09 2017 -0700

    Fixed bug 3191 - haptic system on android?
    
    Patch provided by jintiao and Milan Nikolic, thanks!

commit 78c84e7029cd6ff13a55b7a1c2c66795f781cf56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 08:06:16 2017 -0700

    Fixed part of bug 3227 - patch for multiple buttons at the same time not working
    
    Philipp Wiesemann
    
    There is another problem with the current implementation which maybe should be fixed first (to prevent some work). It was written as if it would get the number of a button from the Java side but actually it gets the state of all buttons. That is why it should not work if more than one button is pressed at once.

commit b425050baf336fddb2e901a087e10833fa65a7c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 00:04:46 2017 -0700

    Fixed compiler warnings on Visual Studio 2013

commit affab6ade524451c1f059521b462acfa68b54354
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 12 00:01:24 2017 -0700

    More fixes for the SDL_scanf code

commit e27dcd1c3b5b7b072bf721ba8869e311d10e617d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 23:54:06 2017 -0700

    Fixed Android build

commit 7229397c0c70c686c4de3de894fa9c0c434730f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 21:47:31 2017 -0700

    Fixed bug 3258 - SDL_TryLockMutex blocks for pthreads with FAKE_RECURSIVE_MUTEX
    
    Ian Abbott
    
    I just spotted what I think is a bug in "src/thread/pthread/SDL_sysmutex.c" in the SDL_TryLockMutex function when FAKE_RECURSIVE_MUTEX is defined (for an implementation of Pthreads with no recursive mutex support).  It calls pthread_mutex_lock instead of pthread_mutex_trylock, so it will block until the mutex is available instead of returning SDL_MUTEX_TIMEDOUT if it cannot lock the mutex immediately.

commit b5ea3c6d0747bd67f8a9214300c231a3e4c89abb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 21:30:06 2017 -0700

    Fixed bug 3284 - minor correction for SDL_setenv on _WIN32__ platform
    
    Coriiander
    
    Here is a minor correction for a non-breaking mistake in SDL_setenv for __WIN32__ platform. See below for details.
    
    FILE:
    "SDL/src/stdlib/SDL_getenv.c"
    
    FUNCTION: (__WIN32__ platform)
    int SDL_setenv(const char *name, const char *value, int overwrite)
    
    CODE:
        if (!overwrite) {
            char ch = 0;
            const size_t len = GetEnvironmentVariableA(name, &ch, sizeof (ch));
            if (len > 0) {
                return 0;  /* asked not to overwrite existing value. */
            }
        }
    
    
    WHAT'S WRONG:
    The 3th argument to GetEnvironmentVariable (being DWORD nSize) must be the number of characters, not the number of bytes. SDL currently passes "the size of 1 char", rather "1". While it is non-breaking (1=1 after all), it is incorrect. Furthermore there is no need to specify the 2nd and 3th arguments at all.
    
    CORRECTION 1: (corrected argument_
        if (!overwrite) {
            char ch = 0;
            const size_t len = GetEnvironmentVariableA(name, &ch, 1);
            if (len > 0) {
                return 0;  /* asked not to overwrite existing value. */
            }
        }
    
    CORRECTION 2: (stripped of unneeded code)
        if (!overwrite) {
            if (GetEnvironmentVariableA(name, NULL, 0) > 0) {
                return 0;  /* asked not to overwrite existing value. */
            }
        }

commit 75d5f343983ed78dedfb169ca47da1cea94765f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 21:17:10 2017 -0700

    Forgot to add function check for fopen64 to CMake build

commit a48c9e6df80290bb0bc2b38c79b53a3cf18b9166
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 21:16:33 2017 -0700

    Fixed bug 3292 - SDL_rwops and 64-bit file I/O
    
    Juha Niemim?
    
    On AmigaOS 4 platform with Newlib 'C' library, there is a problem with failing fseeko64. This seemed to be caused by using fopen instead of fopen64.

commit 4c239e55f957cc690d1192ab283e6de017ea664d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 20:54:06 2017 -0700

    Fixed bug 3297 - Horizontal and Vertical flip swapped on PSP
    
    Littlefighter19
    
    When trying to mirror something on the PSP, I've stumbled upon the problem,
    that using SDL_RenderCopyEx with SDL_FLIP_HORIZONTAL flips the image vertically, vise-versa SDL_FLIP_VERTICAL flips the image horizontally.
    Proposed patch would be swapping the check in line 944 with the one in line 948 in SDL_render_psp.c

commit 79a846d4862a1f6b00b537b47ad8352dbc3969c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 19:42:39 2017 -0700

    Fixed bug 3334 - SDL_ShowMessageBox uses wrong index and accesses un-allocated memory
    
    romain.lacroix
    
    For the windows implementation of SDL_ShowMessageBox() : ./src/video/windows/SDL_windowsmessagebox.c:345 WIN_ShowMessageBox()
    
    The implementation in 2.0.4 uses "button index" for parameter "id" of function AddDialogButton().
    
    It then expects the value provided in param wParam of function MessageBoxDialogProc() to be a valid index of a button.
    
    It uses this value to index in the array of buttons when DialogBoxIndirect() returns (line 474 : *buttonid = buttons[which].buttonid;)
    
    However, when dismissing this box with Escape, the return value of DialogBoxIndirect will be SDL_MESSAGEBOX_BUTTON_ESCAPEKEY_DEFAULT (=2) which is not always a valid index of array buttons.
    
    When the array buttons has a length less or equal than 2, the memory access is invalid; I can see that the value written to *buttonId is uninitialized memory (random value).
    
    The fix I propose : use value "buttonid" (field of button) for parameter "id" of AddDialogButton(), then copy return value of DialogBoxIndirect() in *buttonid. This way, we will not use an out-of-bounds index in array buttons.

commit 441d9ba2b03fa4a990dbd7de1601ac92dd557fa4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 19:36:12 2017 -0700

    Fixed bug 3341 - SDL_sscanf() problem
    
    e_pluschauskas
    
    Why does SDL_sscanf() always returns the number of format specifiers and doesn't implements standard C library behavior?

commit 1da252c2d8d925f1364e00494a536329c7e9e88a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 18:56:41 2017 -0700

    Fixed crash in bug 3367 - RGBA_FROM_PIXEL macro can't handle SDL_PIXELFORMAT_ARGB2101010
    
    Simon Hug
    
    The RGBA_FROM_PIXEL macro in src/video/blit.h [1] is not designed to work with more than 8 bits per channel and the ARGB2101010 format makes it read outside of the array bounds causing access violations. This can happen during blitting with the BlitNtoNPixelAlpha and SDL_Blit_Slow functions.
    
    When SDL_InitFormat tries to calculate the loss of the channels [2], the Uint8 will wrap around and it will end up at 254 for the 10-bit channels. Clearly way over the 9 entries of the SDL_expand_byte array. (Not that a signed integer would help.) Then the macro tries to access the lookup table with the channel value which could be up to 1023. If the previous indirection didn't cause an access violation this one will.
    
    I guess it's not worth modifying this macro for a format that only a few will use. It will only make the other blitters slower. I don't have good ideas to solve this issue.
    
    Attached is a test case that does three blits. A copy one that work and the two that use the functions mentioned above.
    
    [1] https://hg.libsdl.org/SDL/file/cd1994d4f3c6/src/video/SDL_blit.h#l303
    [2] https://hg.libsdl.org/SDL/file/cd1994d4f3c6/src/video/SDL_pixels.c#l540

commit df5898b0d33c03449b41b891a3d34f896a14a19e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 13:37:40 2017 -0700

    Fixed bug 3464 - Fix for Android hint SDL_HINT_ANDROID_SEPARATE_MOUSE_AND_TOUCH
    
    ny00
    
    According to the current documentation in SDL_hints.h, if SDL_HINT_ANDROID_SEPARATE_MOUSE_AND_TOUCH is set to "0" (or not set at all) then mouse input should lead to touch events, along with corresponding *fake* mouse events with mouse id SDL_TOUCH_MOUSEID.
    
    However, while moving a mouse around (actually using a trackpad identified as a mouse), I get SDL mouse motion events with differing mouse ids, as follows:
    - If the mouse is moved while a mouse button is pressed, the mouse id is SDL_TOUCH_MOUSEID.
    - Otherwise, the mouse id for mouse motion events is 0.
    
    I've attached sample code for reference, which includes logs of the various mouse events (the "which" field is covered).
    
    I believe that no actual mouse event should arrive, if the hint is unset. In particular, no mouse motion event should arrive while no mouse button is pressed.
    
    I'm going to attach a patch which resolves this, while also disabling mouse wheel motion events.

commit b3589ed6a64989e767851a72f066925e4a998f06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 13:24:18 2017 -0700

    Fixed bug 3492 - SDL_RenderCopyEx angle direction not documented
    
    xyzdragon
    
    Reading https://wiki.libsdl.org/SDL_RenderCopyEx there is no mention what the angle means. Normally in a mathematically environment positive angles translate to counter-clockwise rotations, but in SDL positive angles means clockwise rotation.

commit 6de66e984f43e89916a4dfaf18f0caee34178e30
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 11:54:24 2017 -0700

    Fixed bug 3324 - SDL_RenderReadPixels: Wrong rect coordinates with software renderer
    
    Daniel
    
    SDL_RenderReadPixels with SDL_RENDERER_SOFTWARE reads pixels from wrong coordinates.
    
    SW_RenderReadPixels adjusts the rect coordinates according to the viewport. But since this is already done by SDL_RenderReadPixels, the final rect has x2 bigger X and Y.

commit 658975f3817d6fee208e260f12549acdb4696fc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 11:32:00 2017 -0700

    Fixed bug 3639 - SDL_GetPrefPath returns a path with two consecutive slashes on Unix if org is omitted
    
    Fabian Greffrath
    
    we use SDL_GetPrefPath() in Chocolate Doom to get a reasonable directory to save and restore config files and savegames:
    
    https://github.com/chocolate-doom/chocolate-doom/blob/sdl2-branch/src/m_config.c#L2162
    
    However, since there is no "organization" behind Chocolate Doom and there is really only one "product" called Chocolate Doom, we pass an empty string for the org parameter and the package string for app.
    
    This leads to two consecutive slashes in the path returned by SDL_GetPrefPath() like this:
    
    /home/user/.local/share//chocolate-doom/
    
    While this is harmless, it sure looks bad.
    
    I believe that it should be possible to either pass a NULL pointer for the org parameter or at least have the function detect an empty string as a means to express "there is no origanization, just a single product". The generation of the path string to be returned by the function will have to get adapted accordingly.

commit 3c852360f6e5d9aad62695e7407edbb92fce50d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 10:42:26 2017 -0700

    Fixed bug 3646 - SDL_test_common.c: Add key bindings for testing SDL_SetWindowPosition
    
    Eric Wasylishen
    
    Alt-Up/Down/Left/Right switches between displays using SDL_WINDOWPOS_CENTERED_DISPLAY
    
    Shift-Up/Down/Left/Right shifts the window by 100px

commit 222bacd86c260255feee576ad6b8e72173cc5fa9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 10:32:47 2017 -0700

    Fixed bug 3682 - Toggle text input in checkkeys when the mouse is clicked
    
    Eric Wasylishen
    
    Small change to checkkeys so you can toggle text input mode with a mouse click.
    This is needed for testing how dead keys react to toggling mouse input, i.e. these bugs:

commit 96305832bc0e1cecd35c193a0934046830ea8a02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 10:21:19 2017 -0700

    Fixed bug 3702 - Clear error messages of SDL_LoadObject for optional libraries
    
    Simon Hug
    
    Some code in SDL loads libraries with SDL_LoadObject to get more information or use newer APIs. SDL_LoadObject may fail, set an error message and SDL will continue with some fallback code. Since SDL will overwrite the error or exit the function with a return value that indicates success, the error form SDL_LoadObject for the optional stuff might as well be cleared right away.

commit 6e1b11bae4ca09cd20c896552aafc8b454092dba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 10:18:45 2017 -0700

    Fixed bug 3714 - Windows: SDL_WINDOW_FULLSCREEN_DESKTOP broken on 3 monitor setup w/ DPI scaling
    
    Eric Wasylishen 2017-07-26 18:42:58 UTC
    I set up an (admittedly exotic) 3-monitor setup, and when I enter fullscreen-desktop on the middle display (#2), the SDL window is off center. (covers half of monitor #2 and most of monitor #3).
    
    The displays are arranged from left to right:
    
    Display #1 (main): 2880x1800, 200% scaling
    Display #2: 1920x1200, 150% scaling
    Display #3: 1920x1080, 100% scaling
    
    SDL display bounds:
    INFO: Bounds: 1440x900 at 0,0
    INFO: Bounds: 1281x801 at 1921,0  (these are incorrect)
    INFO: Bounds: 1920x1080 at 4800,0
    
    Correct bounds reported by calling EnumDisplayMonitors and printing the LPRECT param of the callback:
    1440x900 at (0, 0)
    1280x800 at (2880, 0)
    1920x1080 at (4800, 0)
    
    It seems like you need 3 displays to reproduce this, and the left two need DPI scaling, and the 3rd display needs to have a different scale factor than the others.
    
    Related: https://bugzilla.libsdl.org/show_bug.cgi?id=3709
    
    SDL: current hg (11235:6a587b9e0ec8)
    Windows 10, Version 10.0.15063 Build 15063
    Tested with testdraw2 and testgl2, and pressing alt+enter to enter fullscreen desktop.
    
    This patch reworks SDL_windowsmodes.c to use EnumDisplayMonitors instead of EnumDisplayDevices, so we always have an HMONITOR for each SDL display.
    
    With access to an HMONITOR, we can get the monitor bounds in virtual screen coordinates the proper way, by calling GetMonitorInfo. (whereas the original code was doing some calculations - e.g. "data->DeviceMode.dmPosition.x * data->ScaleX" - to try to get virtual screen coordinates. These worked in simple cases, but failed in more complex cases like this bug)
    
    The one potential problem with my patch is, the ChangeDisplaySettingsEx docs say that you're supposed to get the display name from EnumDisplayDevices, but I'm getting the display name from GetMonitorInfo now.

commit a05522a0893aa6a80467251f97aadab4543c8f48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 11 10:05:45 2017 -0700

    Fixed bug 3723 - Possible double free in kmsdrm init code on certain errors
    
    Simon Hug
    
    KMSDRM_VideoInit allocates and frees some connectors and encoders but doesn't set the pointer to NULL after freeing. The cleanup code at the end may free one of those garbage pointer should an error happen in the initialization.

commit d0b46f1beaaa9bdf8c4db95c9a6fb198c41ab13c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 10 11:57:19 2017 -0700

    Fixed bug 3681 - SDL_UpateTexture documentation not specific enough about format requirement
    
    Simon Hug
    
    The documentation of SDL_UpateTexture does not say that the pixel data has to be in the format of the texture.

commit 843293bed0601dd115a70b2f9e94800d6eb2babc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 20:26:16 2017 -0700

    Fixed bug 3701 - WM_TOUCH message may cause calls to null if touch functions are not properly loaded
    
    Simon Hug
    
    When WIN_WindowProc processes the WM_TOUCH message, it doesn't check if the touch functions have been properly loaded and may call a NULL pointer. It's probably an extremely rare case, but here's a patch that adds some checks anyway.

commit a47bf3746463a9d358b550ab9d5f91fe97943267
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 20:23:48 2017 -0700

    Fixed bug 3728 - [Android] crash when shared libraries are no loaded
    
    Sylvain
    
    On Android, when shared libraries are not correctly loaded (eg SDLActivity.mBrokenLibraries is true), there is a pop-up with an error message.
    
    After user dismisses the pop-up, application crashes:
    - because the native function "nativePause()" may no be loaded (if libSDL2.so is not loaded).
    - because mSurface is null.

commit af44a5953ae7ab057a2340bb21352ca0f69f16c8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 20:20:35 2017 -0700

    Fixed bug 3672 - Add joystick to controllerdb
    
    Moritz M-H
    
    The following entry needs to be added to the gamecontrollerdb for the Qanba fighter stick under linux

commit 73c6cebb80544da7dcce183e014ba5d142e57e77
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 22:43:16 2017 -0400

    cmake: Pacify warning about Policy CMP0042 not being set.

commit 80c6c2fa761bd2733cc224a68bfb702fe0145afd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 22:34:45 2017 -0400

    cmake: whoops, Sam and I both fixed this bug at the same time.  :)

commit 496337b3cfa9caaec12bd71690f6557a7dda99af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 19:03:10 2017 -0700

    Fixed bug 3651 - CMake build does not install CMake package configuration
    
    tschwinger@elitemail.org
    
    Most ironically, although autoconf/automake-based builds install (pretty half-assed) CMake package configuration files, they're missing in installations resulting from CMake-based builds entirely.
    
    A proper configuration file typically also loads target exports (implemented in patch 3572, also fixing this issue - see my comment on that issue for details).
    
    I believe it would be best to let the dinosaurs go extinct and redirect all build efforts to the CMake end for two reasons:
    
    1. It potentially provides the best user experience, but you'd have to give it some love and ship with less quirky buildfiles.
    
    2. It would force distros to build SDL via CMake and thus would ensure target exports are actually available everywhere.
    
    Various CMake patches I submitted today in summary (directly converted from the HG commits and `am`d onto a fork of a git mirror that happened to be on `tip`).
    
        https://github.com/tschw/SDL/commits/patched
    
    Fixing #2576 #3572, #3613, and this fresh ticket, which is almost entirely advertisement ;).
    
    These already do to make SDL much less of a quirky fella to have in your dependency tree...

commit d3af447ee5eaf9eec6c3c01ae583df2b415c4620
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 18:47:33 2017 -0700

    Fixed bug 3590 - CMAKE: typos in CheckMir
    
    Martin Gerhardy
    
    -            list(APPEND EXTRA_CFLAGS ${MIR_TOOLKIT_CFLAGS} ${EGL_CLFAGS} ${XKB_CLFLAGS})
    +            list(APPEND EXTRA_CFLAGS ${MIR_TOOLKIT_CFLAGS} ${EGL_CFLAGS} ${XKB_CFLAGS})
    
    CFLAGS is spelled wrong in two different ways for EGL and XKB
    
    And while you are on it...
    
    sdl needs mir >= 0.24 afaik - it fails on travis-ci (ubuntu 14.04 LTS with 0.18 installed and in other environments, too (e.g. https://github.com/urho3d/Urho3D/issues/1685)
    
    To fix this one should add a min version check to pkg_check_modules like this
    
    -        pkg_check_modules(MIR_TOOLKIT mirclient mircommon)
    +        pkg_check_modules(MIR_TOOLKIT mirclient>=0.24 mircommon)

commit 1b8117be21e6c86511fea1fc553cbda1e20c07cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 19:50:18 2017 -0400

    cmake: Don't link directly against a libpthread on Android (thanks, Anthony!).
    
    Android has pthreads, but it's just part of their C runtime instead of a
    separate library like the usual Linux platforms.
    
    Fixes Bugzilla #3675.

commit 2b5a5c510b67b2097865b9ff446b2ba44837bdc6
Author: Olli Kallioinen <olli.kallioinen@iki.fi>
Date:   Thu Jun 8 22:07:55 2017 +0300

    Android build fixes
     -Enabling checking for GCC_ATOMICS also on clang by default. This way all Android ABIs build successfully
     -Android cmake: Threading was not enabled correctly
     -Android cmake: Timers and dynamic lib loading were not included in the sources

commit 53d4f5c9fcd6bb537bbb90125179bbca7273966e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 16:20:04 2017 -0700

    Fixed bug 3733 - Makefile sleeps for 3 seconds if configure is out of date

commit 2d67381a95241ebf7bc24b96c5680efa1409a856
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 18:41:59 2017 -0400

    haiku: non-x86 spins use a normal libstdc++ filename. Handle the differences.
    
    Fixes Bugzilla #3730.

commit 69092c7e47570a50015d1c186e03042dde843ef8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 18:30:48 2017 -0400

    haiku: Fixed compiler warning.

commit 03250690d68bc09a9e60628a74424fb5b40a1085
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 12:38:20 2017 -0700

    Added a private hint for Steam to bypass the controller filtering for the Steam virtual gamepad

commit f15dbc8f63cf85119b49601d226f0970b8f7ef2b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 12:11:59 2017 -0700

    Fixed Linux build

commit c49fa37c5bd0b29522f5b41885ea576134b42100
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 11:59:29 2017 -0700

    Added SDL hints to filter the set of game controllers reported by SDL

commit dc400184388ae7d70bfc7b4f59de5c5c160bb039
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 9 11:58:38 2017 -0700

    Added an API SDL_LoadFile_RW() to load all the data from an SDL data stream, and a convenience macro SDL_LoadFile() to load all the data from a file.

commit a412ba0d758a28208201c5a701f4f72cc0ad7e16
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 01:01:41 2017 -0400

    haiku: Patched SDL_bopengl.cc to compile on x86-64 Haiku.
    
    Fixes Bugzilla #3729.

commit d5215d9df9a1d884ce69c56678cf22973a7649b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 00:56:05 2017 -0400

    Fixed up some compile warnings and errors on x86-64 Haiku.

commit 64c2957735b54e6badd0c924302a4c835b6ac81c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 9 00:55:27 2017 -0400

    Added a FIXME for 2.1 about an API change.

commit 4e43c631b8d1005646ff219b04ed46457aba731a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 8 20:38:23 2017 -0700

    Re-added missing entry for the Steam Virtual Gamepad (was Valve Streaming Gamepad)

commit ef54d5a8f06c74cfe4f122c1a383495e229bfc22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 7 10:28:59 2017 -0700

    Fixed building on various versions of GCC - YUV MMX code is disabled for now

commit 76306827ecf634c6b4dc1dcc28d07c0d975ca9de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 7 00:36:45 2017 -0400

    README-linux.md: added libsndio-dev to the package list.

commit 9dde37eadb82de6d171a507aecfca990991845b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 7 00:25:18 2017 -0400

    sndio: Fix for some platforms (Linux, for example) that don't define INFTIM.
    
    Fixes Bugzilla #3712.

commit 27de835dd29a78bedb626fd612e2e381fc36326e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 5 22:10:55 2017 +0200

    emscripten: Fixed compiler warnings about integer to pointer conversions.
    
    Found by buildbot.

commit 711df8a9893e08a26d12c965f9caca4ea337ba83
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 5 22:10:48 2017 +0200

    emscripten: Fixed compiling without OpenGL support.

commit f216b446aa83b1b123df6e2aeb88a489dcc14f50
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 5 22:10:36 2017 +0200

    kmsdrm: Fixed crashes if allocating memory failed.

commit b8a7dd7788cf215bd4b0bf04955012ff64da798b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 5 22:10:25 2017 +0200

    nacl: Fixed freeing static memory on video quit.

commit 1f698469ae43307de7ffcee6220f4dc91e6b5592
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 5 22:10:15 2017 +0200

    mir: Removed unnecessary function declaration.

commit e9ae411aee7e7ee952676f94a55e19fea57be055
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 4 23:01:01 2017 +0200

    Updated generated configure script.

commit 4723943bc3072ebda1c942d32b4fb35ab3e4fff5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 4 23:00:47 2017 +0200

    kmsdrm: Fixed compiling without OpenGL support.

commit 8aa147fa099c4ab512dd83add4b0268014e7aa14
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 4 23:00:30 2017 +0200

    Fixed compiler warnings about type conversions.
    
    Found by buildbot.

commit a09efc73d2de009fb308a0dac9cb48821179631d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 4 16:18:34 2017 -0400

    psp: Force audio channels to stereo if > 2 channels requested (thanks, Solra!).
    
    Fixes Bugzilla #3726.

commit cc5ceb1165735b532779503267ea8a7186c70c9b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 4 13:06:56 2017 -0700

    Temporary hack to fix bug 3725 - Call made to glGetString before context creation
    This breaks bugs 2570, 3145

commit 56cab6d45280fbb4b645083eceeaa8f474c0aac3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 3 09:48:44 2017 -0700

    Added a hint SDL_HINT_TOUCH_MOUSE_EVENTS to control whether touch events generate synthetic mouse events.

commit 86e95a607b5d375e4a80ad9eac7597924d8e1882
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Aug 2 17:45:15 2017 -0700

    kmsdrm: Fix tearing in neverputt/ball
    
    https://gfycat.com/FatalFarawayHeron

commit c544d2b954395a70ff7c28d2b6f4946bff934ea4
Author: Patrice Mandin <patmandin@gmail.com>
Date:   Wed Aug 2 23:42:08 2017 +0200

    Add support for Saitek P990 Dual Analog Pad

commit fca91451ba49f2d6f026ee3bc69523d3ffc9c199
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Aug 2 13:51:14 2017 -0700

    kmsdrm: Fix leaking SDL_VideoDevice*

commit 9dbe5a96868c8fb96346c20de3728ccf7ba36cec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 2 13:38:46 2017 -0700

    Fixed bug 3311 - Broken touch positions with SDL_RenderSetLogicalSize & HIGHDPI on iOS
    
    Eric wing
    
    Hi, I think I found a bug when using SDL_WINDOW_ALLOW_HIGHDPI with SDL_RenderSetLogicalSize on iOS. I use SDL_RenderSetLogicalSize for all my stuff. I just tried turning on SDL_WINDOW_ALLOW_HIGHDPI on iOS and suddenly all my touch/mouse positions are really broken/far-off-the-mark.
    
    I actually don't have a real retina device (still) so I'm seeing this using the iOS simulator with a 6plus template.
    
    Attached is a simple test program that can reproduce the problem. It uses RenderSetLogicalSize and draws some moving happy faces (to show the boundaries/space of the LogicalSize and that it is working correctly for that part).
    
    When you click/touch, it will draw one more happy face where your button point is.
    
    If you comment out SDL_WINDOW_ALLOW_HIGHDPI, everything works as expected. But if you compile with it in, the mouse coordinates seem really far off the mark. (Face appears far up and to the left.)
    
    
    Alex Szpakowski on the mailing list suggests the problem is
    "I believe this is a bug in SDL_Render?s platform-agnostic mouse coordinate scaling code. It assumes the units of the mouse coordinates are always in pixels, which isn?t the case where high-DPI is involved (regardless of whether iOS is used) ? they?re actually in ?DPI independent? coordinates (which matches the window size, but not the renderer output size)."
    
    Additionally, if this is correct, the Mac under Retina is also probably affected too and "as well as any other platform SDL adds high-dpi support for in the future".

commit 082f32d198da8a2a4559a43ed92b9076938b01ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 2 10:28:13 2017 -0700

    Fixed bug 3722 - Fall back to xinerama/xvidmode if xrandr modes initialization fails
    
    Levi Bard
    
    In some environments, xrandr modes initialization can fail even though xrandr support is present and of a sufficient version.
    (The one I encountered was an AWS instance running a virtual display)
    
    The attached patch allows SDL to keep trying other methods if xrandr modes initialization fails (still subject to SDL_VIDEO_X11_REQUIRE_XRANDR).

commit 4be066707d9b420248597c2c6d75fa9300a6f1d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 2 10:24:47 2017 -0700

    Fixed potential free of uninitialized memory (thanks Simon!)

commit 56363ebf6124b345e1cfbd14fb6c0e654837910c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 2 10:22:48 2017 -0700

    Fixed bug 3690 - SDL2 KMS/DRM render context support
    
    Manuel
    
    The attached patch adds support for KMS/DRM context graphics.
    
    It builds with no problem on X86_64 GNU/Linux systems, provided the needed libraries are present, and on ARM GNU/Linux systems that have KMS/DRM support and a GLES2 implementation.
    Tested on Raspberry Pi: KMS/DRM is what the Raspberry Pi will use as default in the near future, once the propietary DispmanX API by Broadcom is overtaken by open graphics stack, it's possible to boot current Raspbian system in KMS mode by adding "dtoverlay=vc4-kms-v3d" to config.txt on Raspbian's boot partition.
    X86 systems use KMS right away in every current GNU/Linux system.
    
    Simple build instructions:
    
    $./autogen.sh
    $./configure --enable-video-kmsdrm
    $make

commit 2ffd6d020862248f5090967e53dc6242575ab1e0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 31 13:49:22 2017 -0400

    x11: Make a separate unmapped window to own clipboard selections.
    
    Now the clipboard isn't lost if you destroy a specific SDL_Window, as it
    works on other platforms. You will still lose the clipboard data on
    SDL_Quit() or process termination, but that's X11 for you; run a
    Clipboard Manager daemon.
    
    Fixes Bugzilla #3222.
    Fixes Bugzilla #3718.

commit 997c69b9efbe360582cd2e821df16f88a2d48ad1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 1 20:16:10 2017 -0700

    Fixed bug 3697 - Main thread gets stuck on left mouse down
    
    Eric Wasylishen
    
    I think I found a better fix.
    
    The problem with https://hg.libsdl.org/SDL/rev/ebdc0738b1b5 is setting the styleMask to 0 clears the NSWindowStyleMaskFullScreen bit, which then confuses Cocoa later when you try to leave fullscreen. Instead I'm just clearing the NSWindowStyleMaskResizable bit, although SetWindowStyle(window, NSWindowStyleMaskFullScreen); seems to also work.

commit 6391cc3fefc9c529f54f8003132cae68f7e63cf3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 1 20:09:23 2017 -0700

    Backed out changeset ebdc0738b1b5 for bug 3697
    
    Eric Wasylishen
    
    Unfortunately this commit seems to have broken exiting desktop-fullscreen.
    - Launch testgl2.
    - Press alt+enter to go fullscreen-desktop
    - Press alt+enter again. The spinning cube will freeze, and the window stays fullscreen desktop.

commit e10a98d2ade42775562fc5885321baafa29a7aa9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 31 12:57:15 2017 -0700

    Fixed bug 3720 - SDL_GL_GetAttribute doesn't check for initialized video driver
    
    Simon Hug
    
    SDL_GL_GetAttribute doesn't check if a video driver has been initialized and will access the SDL_VideoDevice pointer, which is NULL at that point.
    
    I think all of the attributes require an initialized driver, so a simple NULL check should fix it. Patch is attached.

commit ee3f11d5458011d19af15f40f530cb75deb5fdeb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 30 14:36:01 2017 -0400

    Disable static builds for static analysis.
    
    There's really no sense in analyzing everything twice, and this makes the
    job finish significantly faster.

commit 1f016d4598e1e97dd69e84fb22e72d3960d640b9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 30 14:09:18 2017 -0400

    windows-buildbot-zipper.bat: Check the correct path.

commit 8efe9cea0ee017b9691e66e082753e7b4028ab17
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 30 10:09:34 2017 -0400

    Buildbot should zip up Visual Studio Win64 binaries, too.

commit 2f74dc9e637a636059dcd96c3cef7235033e0356
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 29 23:00:54 2017 +0200

    Fixed typos in shape header.

commit 68ca9d9ed1967f9f3fe9e0b085378602d49a12fa
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 29 23:00:45 2017 +0200

    qnx: Fixed error message.

commit cea33bf5b8a355cd1f490c8ecba245aff4119c2a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 29 23:00:34 2017 +0200

    aix: Removed unused local variable.
    
    Found by Cppcheck.

commit 84aeab17a2c8a0bf2379fdd6953580d84624f619
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 29 23:00:14 2017 +0200

    haiku: Changed header paths to be more compatible.

commit be005b7c7874b8e710669ddd0e2ec9b1b7aad544
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Jul 28 12:00:10 2017 -0700

    evdev: Fix 'Syscall param ioctl(TIOCLINUX) points to uninitialised byte'
    
    https://pastebin.com/raw/tQjG0kG0

commit 77ca0f273c6ab6747a52e82ea2ed76c939b37402
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 27 22:55:18 2017 -0700

    Fixed crash if the WASAPI audio device couldn't be recovered

commit 4a734209a3512abe6ca54fbe91e0b700061ca09d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 27 22:52:19 2017 -0700

    Fixed infinite recursion if the WASAPI audio device couldn't be recovered

commit f033ce61e1a7fd145f0a70554f5c4c8f96493800
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 27 02:41:58 2017 -0700

    Fixed typo in WASAPI shutdown code

commit b0b481d709b9f69b1f212b48957686b09236c4c8
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Jul 27 08:03:11 2017 -0700

    [mir] Same no need to wrap this, which is already being done

commit ecf9f6a13e3b26277d5245d1bb357396fc0a3cfb
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 26 18:10:45 2017 -0700

    [mir] Point to SDL_EGL_UnloadLibrary vs doing it our selfs

commit 18f2b27b736befa47bfc049f77654b44b2872a90
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 26 13:54:11 2017 -0400

    Whoops, forgot to commit the actual fix.  :)

commit 7ecc48c3ba9644d0a4ff625cfed4bafb61fb3f95
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 26 13:43:25 2017 -0400

    Disable MMX inline assembly on Clang for now.
    
    We should probably rewrite this with SSE compiler intrinsics or something
    anyhow.

commit 03eaddcad49eebb8f29e5f987a9ca6c8abba942d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 23 19:25:16 2017 -0400

    Fixed compiler warnings on QNX.

commit 67754af887da8dd2e823e669e0a684605ec512b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 21 17:28:47 2017 -0700

    Fixed build on older Mac OS X SDKs

commit 8ac17a2ae61adbeb1214f8f420615f82f929e7a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 20 20:40:17 2017 -0400

    sndio: fixed poll() call (thanks, kdrakehp!).
    
    Fixes Bugzilla #3705.

commit ee9cc32493e0da9fd76e6c9474edc758327a8fee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jul 20 18:16:02 2017 -0400

    sndio: More improvements to the OpenBSD audio target (thanks, kdrakehp!).
    
    Fixes Bugzilla #3705.

commit 177f19aff097ab943efd2d86353b26639444b16e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 20 10:52:43 2017 -0700

    Fixed bug 3410 - SDL_WINDOW_HIDDEN flag is inaccurate.
    
    Jason Wyatt
    
    After hiding the window, SDL_WINDOW_HIDDEN/SDL_WINDOW_SHOWN flags on a window are correctly updated. However on the next SDL_PumpEvents, they are set incorrectly.
    
    This appears to be because X11_GetNetWMState does not check whether the _NET_WM_STATE property exists (it shouldn't on unmapped windows, see https://specifications.freedesktop.org/wm-spec/wm-spec-1.3.html#idm140130317598336). This results in an empty list of atoms for the state, which would imply that the window is not hidden.
    
    (Seen on Fedora 24, Gnome)
    
    --
    
    Dan Ginsburg
    
    More details on my proposed patch: I am on Kubuntu 16.04.2.  I ran into this same bug, but with Jason's patch I found that actualType != None was true so the SDL_WINDOW_HIDDEN would still not be set.  My fix instead is to explicitly check for whether the window is unmapped rather than relying on the returned values in XGetWindowProperty.

commit 36998b823ec1e522f269e76c112f16920ccb7e3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 20 10:48:57 2017 -0700

    Fixed bug 3689 - MMX YUV renderer crash
    
    felix
    
    The functions in src/render/SDL_yuv_mmx.c contain the following inline assembly snippet:
    
            /* tap dance to workaround the inability to use %%ebx at will... */
            /*  move one thing to the stack... */
            "pushl $0\n"  /* save a slot on the stack. */
            "pushl %%ebx\n"  /* save %%ebx. */
            "movl %0, %%ebx\n"  /* put the thing in ebx. */
            "movl %%ebx,4(%%esp)\n"  /* put the thing in the stack slot. */
            "popl %%ebx\n"  /* get back %%ebx (the PIC register). */
    
    Here's how it ended up in a binary on my old laptop:
    
       0xb5c17dbd <ColorRGBDitherYV12MMX1X+93>:     push   $0x0
       0xb5c17dbf <ColorRGBDitherYV12MMX1X+95>:     push   %ebx
       0xb5c17dc0 <ColorRGBDitherYV12MMX1X+96>:     mov    0xc(%esp),%ebx
       0xb5c17dc4 <ColorRGBDitherYV12MMX1X+100>:    mov    %ebx,0x4(%esp)
       0xb5c17dc8 <ColorRGBDitherYV12MMX1X+104>:    pop    %ebx
    
    Apparently the compiler, oblivious to the fact that the assembly snippet manipulates the %esp register, decided to refer to the operand via that same register instead of via %ebp (I believe -fomit-frame-pointer enables this). This causes %ebx to be loaded with the wrong value, which later leads to a null pointer dereference.
    
    Recent GCC can use the %ebx register normally: <https://gcc.gnu.org/bugzilla/show_bug.cgi?id=47602#c16>. There is even an explicit constraint "b" for allocating it.

commit 2008d86696080625243d95f3bb69ba9b6ddf6068
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 20 10:46:38 2017 -0700

    Fixed bug 3703 - Missing media keys support on Amazon Fire TV remote control
    
    Holger Schemel
    
    Summary: This patch adds support for key events for the "rewind" and "fast forward" media keys on the Amazon Fire TV remote control.
    
    How to reproduce the problem: Run Android build of SDL2 application on the Amazon Fire TV (tested with "stick" version) and log key events.
    
    Expected behaviour: Every key pressed on the Fire TV remote control should result in a corresponding key event (pressed/released).
    
    Observed behaviour: Of the bottom row of buttons on the Fire TV remote control, only the "play/pause" (middle) button generates a key event, while the "rewind" (left) and "fast forward" (right) buttons to not generate any event at all.
    
    The attached patch adds support for these two missing buttons/keys.
    
    Note 1: Some missing definitions were added for the already existing key codes SDL_SCANCODE_APP1 and SDL_SCANCODE_APP2 (to keep up the correct order of enumerations / array positions when adding the two new key codes).
    
    Note 2: Definitions in "scancodes_linux.h" and "scancodes_xfree86.h" (to also add support for these keys on other platforms) were added without testing. However, I was unable to find corresponding definitions for these two media keys for Windows and Mac OS X.
    
    Note 3: I have also updated the (broken) link to the USB usage page standard PDF document (comment in "include/SDL_scancode.h").

commit 2cc68064726856ecc1290bdb3191f7bc528556da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 20 10:39:47 2017 -0700

    Fixed bug 3705 - Add capture support to the sndio backend
    
    kdrakehp
    
    The attached patch adds capture support to the sndio backend.
    
    The patch also allows the `OpenDevice' function to accept arbitrary device names.

commit 01050d4ed11389a0b92ba53da5501da014298f89
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jul 15 17:41:58 2017 -0300

    iOS: Use modern replacements for deprecated functions, when available.

commit efe179cdfee412a32ad98cbffe4f257bb644370b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Jul 14 17:42:11 2017 -0300

    macOS: Fix compilation when using 10.11 or earlier to build.

commit 562473c1f4d495042b561acc86035bc2cd20cd91
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 13 23:09:37 2017 -0300

    macOS: Address more compiler warnings when building with a recent deployment target.

commit bc3ede1ed0e4b5426a02b01f298fe8cf2dda832d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 13 22:59:02 2017 -0300

    macOS: Replace uses of deprecated Cocoa enum names with modern/consistent equivalents.

commit e0ea4da4aed4b46e8d7cc9c06eae90c16772024b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 12 21:32:10 2017 -0300

    Fix a potential crash in macOS 10.7 and earlier.

commit 8292d73ebb4d04f0343f7d675efbc7c11539213f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 12 21:28:32 2017 -0300

    macOS: Expose more display modes on retina screens. Fixes an issue found in BZFlag.

commit 49f846f113d2a278aa5b18506d38ea643fb54622
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 11 19:27:50 2017 -0700

    Added support for an XBox One wired controller for Leo L?nnenm?ki

commit 74ca16547cdd22e998f93a0021a44a5eddf7f93e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 11 08:16:00 2017 -0700

    Fixed bug 3699 - Shaped windows are distorted unless width is divisible by 8
    
    Bogomancer
    
    On X11, windows created using the shaped window API appear distorted unless the width of the shape surface is divisible by 8.
    
    Steps to reproduce:
    
        1) Use your favorite image editor to resize one of the images in test/shapes/ to a width that's not a multiple of 8.
        2) Compile and run test/testshape.c on the image you edited.
        3) The shaped window will appear twisted and distorted.
    
    It appears the bug was not caught sooner because all the test images are either 640 or 256 pixels wide.
    
    I tracked down the bug to SDL_CalculateShapeBitmap() in SDL_shape.c. The shape surface is reduced to a 1-bit-per-pixel mask, but the original code doesn't take into account that X11 apparently wants each scanline to begin on a new byte.

commit 34b29c6ac50ea113361c06246cc25848dbb0b088
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 10 18:40:35 2017 -0700

    Fixed bug 3688 - cmake / pthread check related patch proposal
    
    Juha Niemim?ki
    
    Fix for PTHREAD_MUTEX_RECURSIVE_NP check and restoring the original flags
    
    Two fixes proposed:
    
    1) Looks like there is a copy-paste issue regarding PTHREAD_MUTEX_RECURSIVE_NP check.
    
    2) Compiler flag restoration doesn't look symmetrical regarding if/endif blocks. Moved to an outer block (if PTHREADS).

commit 3c09265dafea6c9fc88dfed9c14600ac1cf75fec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 10 18:31:28 2017 -0700

    Fixed bug 3609 - Windows build fails due to conflicting types for 'XINPUT_GAMEPAD_EX'
    
    Ozkan Sezer
    
    (In reply to Ryan C. Gordon from comment #9)
    > I've put this patch in as https://hg.libsdl.org/SDL/rev/7213ae46e870 ...can
    > you verify this works on the latest MinGW?
    >
    > Thanks,
    > --ryan.
    
    
    This patch is wrong: the structure in question has nothing to do with any
    gcc version in use.  I suggest reverting this adding a conigury check for
    it, instead.  Something like the following should do it: (configure needs
    regenerating.)

commit cd79d8ccecebc2ca9ecd8a178303acd8ef197531
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 10 17:16:12 2017 -0700

    Fixed bug 3696 - SDL_ShowMessageBox displays different error from intended
    
    Mark Callow
    
    SDL_ShowMessageBox calls SDL_CaptureMouse which, in the UIKit driver, raises a ?That operation is not supported? error, overwriting the SDL error that an application may be trying to report.
    
    This is because UIKit SDL_CaptureMouse returns SDL_Unsupported() which ends up calling SDL_SetError() which has the following code:
    
        /* If we are in debug mode, print out an error message */
        SDL_LogDebug(SDL_LOG_CATEGORY_ERROR, "%s", SDL_GetError());
    
    The SDL_GetError call here overwrites the static buffer?..
    
    Although an application can avoid this by using SDL_GetErrorMsg(char* errstr,  int maxlen) to avoid the static buffer, SDL should be fixed.
    
    The fix is simple. In SDL_SetError change
    
        SDL_LogDebug(SDL_LOG_CATEGORY_ERROR, "%s", SDL_GetError());
    
    to
    
        SDL_LogDebug(SDL_LOG_CATEGORY_ERROR, "%s", error);
    
    where error is the pointer to the buffer where it assembled the message.

commit 37722d01a83f3fcd6eb182df08d8320ab4cf0c0a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 10 17:07:19 2017 -0700

    Fixed bug 3697 - Main thread gets stuck on left mouse down
    
    Amruth Raj
    
    - My app runs in full screen to play video(I use SDL_WINDOW_FULLSCREEN_DESKTOP)
    - Cmd-tab to go out of full screen to another app
    - Cmd-tab again to get back to my app
    - Press left mouse button at one of the edges of the screen, don't release yet.
    After this point the main thread is stuck until I release the left mouse button and hence video rendering doesn't happen anymore.
    
    On debugging more, I see that thread 0 is stuck as shown below with sendEvent processing left mouse down. It comes out only after it receives a left mouse up. There are some frames below which show NSWindowResizing, but my window flag doesn't have SDL_WINDOW_RESIZABLE set.
    
    Thread 0:: CrBrowserMain Dispatch queue: com.apple.main-thread
    0 libsystem_kernel.dylib 0x00007fffbe13d34a mach_msg_trap + 10
    1 libsystem_kernel.dylib 0x00007fffbe13c797 mach_msg + 55
    2 com.apple.CoreFoundation 0x00007fffa889d434 __CFRunLoopServiceMachPort + 212
    3 com.apple.CoreFoundation 0x00007fffa889c8c1 __CFRunLoopRun + 1361
    4 com.apple.CoreFoundation 0x00007fffa889c114 CFRunLoopRunSpecific + 420
    5 com.apple.HIToolbox 0x00007fffa7dfdebc RunCurrentEventLoopInMode + 240
    6 com.apple.HIToolbox 0x00007fffa7dfdcf1 ReceiveNextEventCommon + 432
    7 com.apple.HIToolbox 0x00007fffa7dfdb26 _BlockUntilNextEventMatchingListInModeWithFilter + 71
    8 com.apple.AppKit 0x00007fffa6396a54 _DPSNextEvent + 1120
    9 com.apple.AppKit 0x00007fffa6b127ee -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 2796
    10 com.apple.AppKit 0x00007fffa66f568d +[NSWindow(NSWindowResizing) _mouseHysteresisCheck:withExpiration:andDistance:finalMouseLocation:] + 525
    11 com.apple.AppKit 0x00007fffa65eedb5 -[NSWindow(NSWindowResizing) _hitTestWithHysteresisCheck:forEvent:allowWindowDragging:] + 394
    12 com.apple.AppKit 0x00007fffa6c8f0db -[NSWindow(NSEventRouting) _handleMouseDownEvent:isDelayedEvent:] + 1873
    13 com.apple.AppKit 0x00007fffa6c8ca6c -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:] + 1942
    14 com.apple.AppKit 0x00007fffa6c8bf0a -[NSWindow(NSEventRouting) sendEvent:] + 541
    15 org.libsdl.SDL2 0x000000010d46d74a -[SDLWindow sendEvent:] + 90
    16 com.apple.AppKit 0x00007fffa6b10681 -[NSApplication(NSEvent) sendEvent:] + 1145
    17 org.libsdl.SDL2 0x000000010d46532b -[SDLApplication sendEvent:] + 139
    18 org.libsdl.SDL2 0x000000010d466b2f Cocoa_PumpEvents + 495
    19 org.libsdl.SDL2 0x000000010d44c1d5 SDL_PumpEvents_REAL + 53
    20 org.libsdl.SDL2 0x000000010d44c2f5 SDL_WaitEventTimeout_REAL + 53
    21 org.libsdl.SDL2 0x000000010d44c2b7 SDL_PollEvent_REAL + 23
    22 org.libsdl.SDL2 0x000000010d51bb24 SDL_PollEvent + 36
    23 libTest.dylib 0x000000010cf3e0e8 SDLEventProcessor::processEvents(int) + 568
    24 Test 0x000000010cde6bba BrowserApp::RunAppMessageLoop(BAInstData*, CefStringBase, CefStringBase) + 810
    25 Test 0x000000010ce04bbc main + 17980
    26 libdyld.dylib 0x00007fffbe016235 start + 1
    
    I further noticed that while entering full screen in SDL_cocoawindow.m NSResizableWindowMask is set. If I clear it inside windowDidEnterFullScreen, then, the issue doesn't repro.
    
    This is discussed at https://discourse.libsdl.org/t/main-thread-gets-stuck-on-left-mouse-down/22753/3 and thanks to Eric for the pointers.

commit 66f072ebd857cecd9eb1dedfa73cc5fa0bdaa2e2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 10 15:55:13 2017 -0700

    Updated Visual Studio 2008 project

commit 881002370413c0a2f70531550923042da7e57df0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 9 23:00:43 2017 +0200

    Updated generated configure script.

commit 707ee5be2644199a0aecd7dc5ac970b69a094e0f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 9 23:00:35 2017 +0200

    Fixed typo in log message in testime program.

commit 44246cdae34bda568ad9e23efbd3ee0d012fdfd8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 9 23:00:25 2017 +0200

    Fixed compiler warning about redundant declaration.
    
    SDL_RecordGesture() is already in the gesture header with additional specifiers.

commit 10764b209c6fce1ae8e59d678667768cccbda416
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 7 23:00:47 2017 +0200

    Fixed missing audio entries in configure summary.

commit c3bf69ca4bfeea5cada564d368bbc27c528e1093
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 7 23:00:22 2017 +0200

    haiku: Fixed compiling without OpenGL support.

commit fb9c2939c278e8adc7b0ac35c5b449995331d73f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 7 23:00:10 2017 +0200

    qnx: Fixed setting a field twice.

commit 1683a0c106085118f6cd9c7923eaf9a10ef298ef
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 5 12:04:37 2017 -0400

    audio: trying to pacify static analysis.

commit c80c3419aad8b3d34dff55599654f23dbebdc6a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 4 20:44:07 2017 -0400

    x11: pass a long to XChangeProperty, not an int.
    
    The Xlib documentation demands that 32-bit values here be passed in a long,
    even when long itself isn't a 32-bit value. Otherwise libx11 might read
    memory incorrectly.
    
    Fixes Bugzilla #3692.

commit b36755a3fc97b54792ad145af3768a8eeeb51735
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 3 16:45:12 2017 -0400

    power: whoops, that should be "==" not "!=".

commit c27dc5147850a8026aec7e7753eb3b2538797fd8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 3 16:38:37 2017 -0400

    power: Linux /sys/class testing should skip "device" scopes.
    
    (the PS4 game controllers report their batteries through this interface, which
    is cool, but not helpful for powering the rest of the system.  :)   )

commit 9f99b3d7ee06ffcd504d72e378d1fbb3943b5554
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 2 22:46:49 2017 +0200

    aix: Fixed audio debug output.
    
    DEBUG_AUDIO is checked with #ifdef not #if.

commit e6583300e6e7bce05a88331c1985011b762f1866
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 2 22:46:23 2017 +0200

    haiku: Fixed using wrong constant for internal error handling.
    
    SDL_CreateWindow() worked because ENOMEM is negative on Haiku.

commit 4366721b46e8ae90fb62b37d02d9c296ec199fa0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 2 22:46:00 2017 +0200

    qnx: Removed unused bootstrap declaration.
    
    QNX_bootstrap is the VideoBootStrap. QSAAUDIO_bootstrap is still there.

commit e3497e7916ad66a5184be994636e0e1305ad9e6c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 2 22:45:31 2017 +0200

    qnx: Fixed configure script setting wrong variable.

commit 200f782cabfa79c2cbac2147c7fc7bb7b39d45a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 1 19:52:12 2017 -0400

    qnx: fixed potential buffer overflow.

commit 22241ed0b010d844cc6e0f313969645856e0941a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 1 17:50:47 2017 -0400

    Support for QNX 7.0 (thanks, Elad!).
    
    Fixes Bugzilla #3686.

commit b1fbab50c528a51285a2cc5d4e9742c465798ecc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 1 23:01:57 2017 +0200

    haiku: Fixed memory leak if destroying window.

commit 380e0693b1869fe31bb96eba37ca2b9d087003ad
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 1 23:01:49 2017 +0200

    aix: Fixed compile error.

commit 4c190ce58406c7a7c7116f5c6543c44a503f60c5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 1 23:00:07 2017 +0200

    netbsd: Fixed comment.

commit 4c48260ca268038855a730e5f427088119dd4dda
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 29 23:00:18 2017 +0200

    netbsd: Removed unused field.

commit 7bb6b402c21e1201ab7901c333958cd6cfff53b3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 29 23:00:09 2017 +0200

    netbsd: Fixed compile error.

commit 944e06e67ceace6f0b0d89b1e1a535e57731c71f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 24 23:45:44 2017 +0200

    winrt: Fixed SDL include.

commit 46b77b7322bd29f0daa2b65261a99f85b5962bd3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 24 23:45:34 2017 +0200

    raspberrypi: Fixed typos in README.

commit 705efc35322c865b576e4458ddb829aed8218b21
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 24 23:45:19 2017 +0200

    Fixed handling only one event per frame in testshape program.

commit d96419c93ff66ce3a09294b1390d02f12e721af1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 21 01:22:00 2017 -0400

    xinput: use the full range of the haptic motors (thanks, Trent!).
    
    XInput goes from 0 to 64k; we were feeding it values in the range of 0 to 32k.
    
    Fixes Bugzilla #3002.

commit 267dca13fa2db6d24ff4a53c994c6c7cef11d63a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 18 23:00:42 2017 +0200

    haiku: Removed unused internal function.
    
    Its functionality is already in SDL_GL_GetAttribute().

commit cc00a300d10f49372e339f2ad449f044cdcafcfe
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 18 23:00:27 2017 +0200

    pandora: Fixed compiler warning about redefining SDL_REVISION.
    
    Makefile must not create the revision header anymore because it already exists.

commit 90488d6c29d1895521cf5bb1cebb58f2dff5b0eb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 17 22:30:28 2017 +0200

    haiku: Added support for some values set with SDL_GL_SetAttribute().

commit 6086e8d3845ae8f3b7e9b31b24240f46f0a5f40c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 17 22:30:09 2017 +0200

    haiku: Fixed missing slash in path from SDL_GetPrefPath().

commit 0b750cd9d557d506a520cc68831736708ac6c677
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 16 23:30:38 2017 +0200

    pandora: Fixed compile error.

commit fa73685df815425b843783b5eceede4c453fa3ce
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 16 23:30:30 2017 +0200

    directfb: Fixed quitting keyboard twice.
    
    SDL_VideoQuit() already calls SDL_KeyboardQuit().

commit a4db3dbe6499567675bbabaa042bf039fff1980c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 16 23:30:13 2017 +0200

    nacl: Fixed unnecessary large input text array.

commit 9085c7b3112ff81d6c7c0d577940a21a9e02ef5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 16 11:14:08 2017 -0700

    Get the parent of non-SDL-created windows, for completeness

commit 1b5614b3f58c6547a309237c34e0ecb014895860
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 16 10:50:29 2017 -0700

    Clean up parent window when destroying a window

commit 0a75192d853d3fee7c8b4a8a34e9bfb2d6e40510
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 16 09:10:13 2017 -0700

    Implemented SDL_WINDOW_SKIP_TASKBAR on Windows

commit a725efa4bc90c7b5d098db81c37fe979a9756a4b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 15 23:30:50 2017 +0200

    linux: Fixed using wrong constant for input text size.

commit 60c0f7e24358ff1ec0a5f46d986bb08dbe433817
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 15 23:30:29 2017 +0200

    Fixed SDL_GetWindowWMInfo() returning success on three unsupported platforms.

commit a509719fc306df6bc2bd843948d4839efcfd48d1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 12 21:35:24 2017 -0400

    audio: Converter now checks a strict list of channels and formats we support.

commit 553b328664030eee678b7c3f4cbe7b2e67a8285d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 12 16:39:15 2017 -0700

    Fixed bug 3668 - Overflow of SDL_AudioCVT.filters with some downmixes
    
    Simon Hug
    
    There's a chance that an audio conversion from many channels to a few can use more than 9 audio filters. SDL_AudioCVT has 10 SDL_AudioFilter pointers of which one has to be the terminating NULL pointer. The SDL code has no checks for this limit. If it overflows there can be stack or heap corruption or a call to 0xa.
    
    Attached patch adds a function that checks for this limit and throws an error if it is reached. Also adds some documentation.
    
    Test parameters that trigger this issue:
    AUDIO_U16MSB with 224 channels at 46359 Hz
                     V
    AUDIO_S16MSB with 6 channels at 27463 Hz
    
    The fuzzer program I uploaded in bug 3667 has more of them.

commit c1cd93e562297ec977b9e5d271771b532db9f4ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 12 16:35:34 2017 -0700

    Fixed bug 3670 - CMake IOS haptic error

commit 22c221f3b0b19b8c6ccb70c866ee7eced099fdda
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 11 22:30:58 2017 +0200

    linux: Changed internal functions to be static.

commit 5b75e9033fc043f523411e674486eaeec4526825
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 11 22:30:49 2017 +0200

    directfb: Fixed comment.

commit fbd30c363d5994ad277f6985a5e34ddca1cf1d8f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 11 22:30:39 2017 +0200

    Fixed missing error messages for SDL_GetWindowWMInfo().

commit c609d856ffb07c9659859bb3a8add1ed15b16586
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 11 22:30:24 2017 +0200

    directfb: Fixed crash if creating renderer.
    
    SDL_GetWindowWMInfo() currently expects SDL to be 2.0.6 but SDL is still 2.0.5.

commit 121d7d25d2852ccb5f27318cccc50c4149dba016
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 11 22:30:06 2017 +0200

    directfb: Fixed configure script not finding shared objects for dynamic loading.

commit e5f4a71f1a09ec798428390780f2e1379459567d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 11 16:00:45 2017 -0400

    cmake: iOS haptic section was referencing power source code (thanks, Martin!).
    
    Fixes Bugzilla #3670.

commit 3c955d0540e8b5d02ae0be77a281900ea2d125ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 11 00:50:26 2017 -0400

    syswm: prevent buffer overflow if SDL and app have different config headers.
    
    This only affects Wayland and DirectFB, as a Unix system generally has X11
    support. Other platforms also have different sizes for the C union in
    question, but are likely the only target for that platform, etc.
    
    Apps that might run on Wayland or DirectFB will need to be compiled against
    new headers from an official 2.0.6 release, or be prepared to force the x11
    target, or not use SDL_GetWindowWMInfo().
    
    Fixes Bugzilla #3428.

commit 43d62b7459da9eb0c5b34ff0df274f3216703a29
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jun 10 15:38:14 2017 -0400

    Make compile-time assert error messages more clear.
    
    Now the compiler might say this:
    
    'SDL_compile_time_assert_mytest' declared as an array with a negative size
    
    instead of
    
    'SDL_dummy_mytest' declared as an array with a negative size

commit bb100d3babe5f4445484057a1de5bfbac304baf1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jun 10 21:29:37 2017 -0300

    Expose display refresh rate on iOS/tvOS 10.3+.

commit 325330efdb4e1c0c1b790ec0af6f443b87753eab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 9 17:37:43 2017 -0400

    jack: removed accidental copy/paste.

commit 58f08af46c4e785ca87073f3df77c0d7d93f6aea
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 9 00:47:47 2017 -0400

    jack: added capture support.

commit c39fd5777dbf329485daef265fbafac6f755effb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 9 00:14:50 2017 -0400

    jack: Move jack_client_t into the audio device instead a global variable.

commit b65e0777ce40b797da2c887bb0a22e2b87817cef
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 8 22:20:49 2017 -0400

    jack: Remove BROKEN_MULTI_DEVICE code.

commit d9039f2396a30bcbf967930d942f838ff1727c96
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 8 13:27:58 2017 -0400

    jack: Initial shot at a JACK audio target.
    
    http://jackaudio.org/
    
    Fixes Bugzilla #2163.
    (with several more commits following to improve this code.)

commit cb591ee611272ba4e7228d1e69ab71711a8914c4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 8 22:40:35 2017 +0200

    Fixed ignoring first event in testshape program.
    
    Found by Cppcheck.

commit 456bc301d9fe6dabd05c0768f8cfc9a421791e53
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 8 22:40:21 2017 +0200

    Fixed environment variable of SDL_HINT_RENDER_LOGICAL_SIZE_MODE.

commit 871d43a839498390766734fe9e5b1df433c1249b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 8 22:40:09 2017 +0200

    Removed unused hint includes.

commit 9288983682cc5cab7f0d7d1da2b837f67b3367a0
Merge: 11289b766 bb3cb4f42
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 6 14:06:40 2017 -0400

    Merged Eric Wing's overscan patch.
    
    Fixes Bugzilla #2799.

commit 11289b766fef74732ed4bf17a09c1b011af0541d
Author: Olli Kallioinen <olli.kallioinen@iki.fi>
Date:   Sun Jun 4 21:25:57 2017 +0300

    Android cmake build fixed to work with the official android gradle plugin

commit dc8a22cd9c45d2d2da3a3dcc47fac8f63feb39a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 6 13:39:29 2017 -0400

    cmake: don't use /NODEFAULTLIB if we are using the C runtime (thanks, Rob!).
    
    Fixes Bugzilla #3640.

commit 6d661cab7bc5f6e0efc0e8dc42d8d062019e09df
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 6 13:12:43 2017 -0400

    windows: Change the default on SDL_HINT_WINDOWS_DISABLE_THREAD_NAMING.
    
    It's easier for Visual Studio users that want this information to turn it on
    or live without it, than it is to explain why every debugger that isn't Visual
    Studio crashes out here. Eventually SetThreadDescription() will be the thing
    everyone uses anyhow.
    
    Fixes Bugzilla #3645.
    (and several others).

commit d844487799e0103f7fb8484a7d044234a593f242
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 6 12:35:35 2017 -0400

    windows: Fix compiling of XInput code on newer MinGW installs.
    
    Fixes Bugzilla #3609.

commit 599d9ba198a6c2f5a72574699fe6f41d6ec90f05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 5 21:30:25 2017 -0400

    emscripten: listen for pointerlockchange events on the #document specifically.

commit 4b47fa38c336698cc680b49832a238dac2459d60
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 4 23:15:47 2017 +0200

    Removed duplicate includes.

commit cbcc256fd27ae084631eb2a06d117c8c48eacc83
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 4 23:15:39 2017 +0200

    Fixed comments in headers for doxygen output.

commit 52b7d0eb238db79deeccd4ccfc2ee412864c8afc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 4 23:15:27 2017 +0200

    android: Fixed missing error message for SDL_GetBasePath().

commit 248410dded5e13337fa421966616776537a637cc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 4 23:15:13 2017 +0200

    Fixed SDL_GL_SetSwapInterval() returning success on two unsupported platforms.

commit 2113208d9839a982173c66bc27a187f66eb1cd0d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 3 23:00:50 2017 +0200

    haiku: Fixed missing title bar for windows with decorations.
    
    B_BORDERED_WINDOW_LOOK has a border but no title bar.

commit fc436a3a9d48d889d48bbbfbb77155172e1bf250
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 3 23:00:40 2017 +0200

    android: Moved internal function to new position.
    
    It was grouped with functions for the public system header.

commit 63b3e06f75867fa0640021b28cdb71357f747812
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 3 23:00:15 2017 +0200

    Corrected names of header file guards.

commit 07b0df0a222e9f274a9c3b697d6602a39d53c7a1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 2 22:15:37 2017 +0200

    haiku: Changed internal variable to be static.

commit 850185f40139eb9ed100e2fb2e1f107c2e02c312
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 2 22:15:23 2017 +0200

    Fixed crash if creating textures failed in testshape program.

commit 00394996eb7e48e2f23a7aff15418813951044f0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 2 22:15:12 2017 +0200

    Fixed crash if calling SDL_CreateShapedWindow() on unsupported platforms.

commit 545fba788667f34f8d80bcef27038579e500e4ea
Author: Bastien Bouclet <bastien.bouclet@gmail.com>
Date:   Sat Apr 22 19:53:52 2017 +0200

    x11: Don't send duplicate events when reconciling the keyboard state
    
    Failing to check if a key was known to be pressed by SDL was causing
    SDL_SendKeyboardKey to send duplicate key pressed events with the repeat
    property set to true.
    
    Fixes Bugzilla #3637.

commit 5dc350133ff37ae7825830bd2a1042266a7c4cd7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 18:24:06 2017 -0400

    test: Makefile.in should copy bitmap and wave files to build directory.
    
    I've lost count of the times I've forgotten to do this manually and wondered
    why loopwave can't open sample.wav.  :)

commit b135557df98d477d87f6e4d9bef88d5855327f94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 02:48:51 2017 -0400

    linux: Don't crash if fcitx support is requested but unavailable.
    
    Fixes Bugzilla #3642.

commit 29a047df39b532ee7735c7127d218967304d3f8f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 00:51:38 2017 -0400

    Fixed whitespace code style.

commit 1c5f483a8a95980004b1dc06dfa4f3d66b572d5d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 00:51:02 2017 -0400

    linux: removed IBus_utf8_strlen(), use SDL_utf8strlen() instead.

commit a1faea980c8a3216d0dbae08601cb8a615868092
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 00:54:08 2017 -0400

    fcitx: removed incompatibly-licensed code.

commit d4086e4a70a397d9e346f25ff98cd75c3b4e8ecd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 29 03:01:05 2017 -0400

    stdlib: added SDL_utf8strlen().

commit fc510bd7985191478613bd3b52c088f078b84fbf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 28 21:50:47 2017 +0200

    nacl: Fixed crash if allocating memory for audio device failed.

commit 7c5078d8bdabfa9dec40d839503f0e0ddc41d0d4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 28 21:50:37 2017 +0200

    qnx: Removed unnecessary check for available audio devices.

commit 1e60ea76db96fefe3c78511c3cc6bf47bf99c9a6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 28 21:50:27 2017 +0200

    qnx: Removed unnecessary call to SDL_zerop() after SDL_calloc().

commit 1b9dc59918e513c66f7ea4fc5f1643f378722e7a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 28 21:50:11 2017 +0200

    haiku: Fixed SDL_SetClipboardText() putting random data in clipboard.

commit de52dc2948f99a157dfdc6c141ed600feef71b72
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 28 15:36:09 2017 -0400

    haiku: Correctly set keyboard focus (thanks, Kai!).
    
    The message sent upon the window being activated or deactivated, to trigger
    the call to SDL_SetKeyboardFocus was missing a mandatory parameter. So
    keyboard focus was never properly set.
    
    Fixes Bugzilla #3658.

commit 643f1cb73d6ccb04c72bc39c84c144277698a5e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 28 07:14:11 2017 -0400

    power: Add Linux org.freedesktop.UPower D-Bus implementation.
    
    Fixes Bugzilla #3485.
    
    (I think.)

commit b3f94acbf920724f064b6c5bf644048dab7366cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 28 07:11:52 2017 -0400

    linux: Simplify D-Bus interface, remove lots of boilerplate.

commit 191f578b574ab84fa8b52278e42eebf7aa80847a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 28 07:08:10 2017 -0400

    linux: Make system D-Bus connection available (in addition to session).

commit e5918acf464f64a104d1e2d0a4ec97b77920e70f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 28 00:41:55 2017 -0400

    wasapi: properly report init failure if on pre-Vista version of Windows.
    
    We really should change the Init interface to return 0 on success and -1 on
    error, like everything else, to avoid this sort of confusion.

commit 604a4b1b30471be2a4b2401e0d1603917b75d1b3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 27 23:30:21 2017 +0200

    haiku: Fixed SDL_SetClipboardText() allocating too much memory and cutting text.
    
    It allocated pointers instead of chars and passed a wrong size to SDL_strlcpy().

commit 3639895eac42bc03ebe52391ae9bd8a77c23de7a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 27 23:30:07 2017 +0200

    Removed unused errno includes.

commit 6fbde875e293ccac5b026f84ba39c0a0a58ae636
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 27 00:33:26 2017 -0400

    code style: wrap a single-statement if in braces.

commit 3fbd21ce40fbe399bec2e9b26c8a8d36d9197114
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 27 00:30:06 2017 -0400

    windows: msgboxes should specify a parent HWND if possible (thanks, Ismael!).
    
    This lets them be properly modal.
    
    Fixes Bugzilla #3650.

commit 90ed3daa3e6b01d7d65beb81bdf8249ace5e516a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 26 22:45:52 2017 +0200

    Changed messages about not recognized keys to include discourse link.

commit 759319729ccf6ef8aa6019f0fe9bcf7538c89076
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 26 22:45:40 2017 +0200

    emscripten: Fixed compiling on C89 compilers.

commit b84fe2c06b74d149607a5471d89da09bbbeb1d39
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 25 23:01:59 2017 +0200

    ios: Fixed math include in demos.

commit 1e13d93fea3bb8d66d022f9029a711b677919e70
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 25 23:01:34 2017 +0200

    directfb: Changed internal function to be static.

commit 189b5851b7565ae14688eea302696d95c440c70f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 25 23:01:16 2017 +0200

    android: Fixed parameter list in function definitions.

commit 6c0aea42709231ab9061ec521516276e52257d18
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 25 23:00:58 2017 +0200

    wayland: Fixed freeing memory of SDL_malloc() with plain free().

commit c66f0471e1633376484e90767c0fb8415d17654e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 25 23:00:43 2017 +0200

    Removed unused internal window shape functions.

commit a7fc2822d450e57acca0656dc6a9fd4fbe13f4c1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 24 19:56:59 2017 -0400

    audio: rename bsd target to netbsd.
    
    Apparently this is no longer a generic BSD audio target, and hasn't been for
    years, so rename it for NetBSD.

commit 6844d92c230763f3ef4b7f7a3949c7976e90e5fb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 24 13:28:13 2017 -0400

    coreaudio: we don't need to track number of allocated audio buffers anymore.
    
    CoreAudio takes care of iterating through the buffers and freeing them now,
    so we don't have to manage this ourselves.

commit fc4402e5ff8a5281d0499236aebce145956f3554
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 24 13:25:31 2017 -0400

    coreaudio: Better handling of audio buffer queue management.
    
    We don't fill buffers just to throw them away during shutdown now, we let the
    AudioQueue free its own buffers during disposal (which fixes possible warnings
    getting printed to stderr by CoreAudio), and we stop the queue after running
    any queued audio during shutdown, which prevents dropping the end of the
    audio playback if you opened the device with an enormous sample buffer.
    
    Fixes Bugzilla #3555.

commit 126e5a1dbfca7df34da9be7d537ca0672857efbf
Author: Charlie Birks <admin@daftgames.net>
Date:   Wed May 24 14:04:39 2017 +0100

    Emscripten: Prevent default on arrow keys

commit f839b209b93adc1e1aa23329f621dd98ea2f60b5
Author: Patrick Monaghan <pat@patsown.com>
Date:   Wed May 24 14:04:25 2017 +0100

    Emscripten: fixed incorrect conversion of touch motion events to mouse motion events

commit 3fd35f6bb00d108ec2f0d292224466d31e7caf09
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 24 01:28:03 2017 -0400

    coreaudio: looks like we need more like a 10ms buffer minimum, not 50ms.

commit 793c788b1c97b2837ea382bcdd20b822705b0c80
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 24 00:12:22 2017 -0400

    coreaudio: dynamically allocate AudioQueueBuffers.
    
    We need more than two buffers to flip between if they are small, or CoreAudio
    won't make any sound; apparently it needs X milliseconds of audio queued when
    it needs to play more or it drops any queued buffers. We are currently
    guessing 50 milliseconds as a minimum, but there's probably a more proper
    way to get the minimum time period from the system.
    
    Fixes Bugzilla #3656.

commit 088f57a62aa727e16a7bb66889ed721229ffa990
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 20 23:30:47 2017 +0200

    Removed unnecessary call to free() in testoverlay2 program.

commit fa3944ba394ff353df1351a6849b5e4bf0f7cfd3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 20 23:30:32 2017 +0200

    Removed unused signal includes and handler in test programs.

commit bf8ccf08bb0b9be15bad4461e3b64c7bff810e32
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 19 23:30:59 2017 +0200

    Removed redundant mouse clean up on quit for some platforms.
    
    SDL_MouseQuit() already frees cursors and sets fields to NULL.

commit a9c7bc85f13aec192e3a747eb50beb3341989980
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 19 15:06:05 2017 -0400

    android: add screenSize to AndroidManifest's configChanges (thanks, Daniel!).
    
    Fixes Bugzilla #3448.
    
    "Starting with Android API 13, another configuration change must be declared
    to be handled by the app if it is desired to not let the system handle
    rotation itself:
    
    https://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange
    
    This will have effect if either a developer or SDL per default will set target
    API > 12. Currently it is set to 12, but this might change in the future, like
    when applying this patch: https://bugzilla.libsdl.org/show_bug.cgi?id=3445
    
    The effect of not having this change applied is that the SDL app is destroyed
    upon rotation. Even when the manifest has an additional entry to e.g. always
    stay in landscape mode, the onDestroy() call will happen on devices that are
    portrait per default, when switching off screen due to power save. The device
    will then (at least try to) rotate into portrait to show the portrait screen
    lock after resume.
    
    I believe it is safe to apply this patch even with target API still set to 12,
    the additional parameter is simply ignored."

commit e889757bb3c35f63b95c959771a2832ade0e81bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 19 14:51:03 2017 -0400

    assert: Better Emscripten support.
    
    (Better than nothing, that is.)
    
    Fixes Bugzilla #3459.

commit d6f418641d4bfbc23d4644a2137098f6cdf979b6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 19 14:49:16 2017 -0400

    assert: Check for Clang _and_ GCC, in case they ever drop compatibility.

commit 8917f8634d99348dc634440f034885bb1b306e92
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 19 12:54:17 2017 -0400

    assert: allow assertions to work on platforms without threads.
    
    Partially fixes Bugzilla #3459.

commit 91e6054b03100c765ce0eda5d08ad5fa90c0b445
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 19 12:40:55 2017 -0400

    wasapi: don't mark capture devices as failed for AUDCLNT_S_BUFFER_EMPTY.
    
    Fixes Bugzilla #3633.

commit 02773811b35f8cd86b5bb7d48c3321585d7bb293
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 21:00:11 2017 -0400

    render: GL_DestroyRender() should activate first.
    
    Otherwise, we might destroy a different GL context's resources.

commit cff9e5a876af7b125eeb161e823f58d323edfea6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 16:29:10 2017 -0400

    test: info now reports usable display bounds and DPI (thanks, Eric!).
    
    Fixes Bugzilla #3652.

commit 81ab6c98fdf1d921e1083a476acf9cd40869a6a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 16:27:36 2017 -0400

    Patched to compile on Windows.

commit 13b6d9959a86b1bcffaf6d5ef97690b2f4fae8d3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 15:46:06 2017 -0400

    wasapi: Replace tabs with strings in source code.

commit adabc38439be609d6bb721906c2546a646aadf25
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 15:43:51 2017 -0400

    wasapi: Deal with AUDCLNT_S_BUFFER_EMPTY when flushing audio device.

commit 4073a6694f737f65b93261378a4a0eb93fbaba76
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 18 15:33:17 2017 -0400

    audio: One more callbackspec fix (thanks, Simon!).

commit 772407627bbab7da81e2fee44a0839fee47f28f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 16 17:48:57 2017 -0700

    Fixed restoring a window that was maximized then minimized, then restored.

commit ccf0566ca462a982cf84703d2278af0917cf816c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 16 06:30:39 2017 -0700

    SDL - add SDL_WINDOW_VULKAN and make Android_CreateWindow only create an EGLSurface when SDL_WINDOW_VULKAN is not present.  This makes it so the ANativeWindow* can be used with vkCreateAndroidSurfaceKHR, otherwise it will fail because having both an EGLSurface and VkSurfaceKHR attached to a window is not allowed according to the Vulkan spec:
    
    "In particular, only one VkSurfaceKHR can exist at a time for a given window. Similarly, a native window cannot be used by both a VkSurfaceKHR and EGLSurface simultaneously"
    
    CR: SamL

commit a0aff764160a1328be1438a03399a8f076d4d40f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 13 23:01:04 2017 +0200

    Added missing path in porting README.

commit df4cf79d424c6b95c199b8c2bc647be18e406303
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 13 23:00:53 2017 +0200

    directfb: Fixed compiler warnings about undefined functions.

commit 29222db7f6f4c9379b95b2e2666024f6082c22a1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 13 23:00:35 2017 +0200

    emscripten: Fixed not removing pointer lock event callback.

commit cc5b4f450a630468c6e2b1b84fb1a20e34d00fb9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 12 23:01:17 2017 +0200

    emscripten: Changed internal functions to be static.

commit ce01128adf849c613c52ba44a641a4a6031c2ce0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 12 23:01:04 2017 +0200

    Fixed warnings about shadowed global variable.
    
    Found by buildbot.

commit 87e0d812ddced8481859d5993dfea18ef1a84496
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 12 23:00:40 2017 +0200

    directfb: Removed duplicate comment.

commit 61c326e12ba80811745aa03e78d2fc94531a512d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 11 23:00:39 2017 +0200

    directfb: Fixed typo in log message.

commit 75c0d1ef6d926b1fb1cbd50e7437e97ac33bf239
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 11 23:00:21 2017 +0200

    directfb: Fixed compiler warnings about unused variables.

commit c878b59bbee5c90fb4b38931309e0cedd534c9fd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 10 16:18:43 2017 -0400

    audio: fixed more "spec" references that should have been "callbackspec".
    
    This should catch all the ones for audio targets that have provided their
    own audio threads.

commit 8b7ae35356c3e35e17b88bb86df564082a0f456d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 9 03:19:58 2017 -0700

    Fixed build error on Linux

commit 9ac3bb701189e51f5df13a44dbc254f5d0063e82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 9 10:10:42 2017 -0700

    Added support for mixing Qt and SDL on iOS
    
    You should call SDL_SetMainReady(), and then customize the QIOSApplicationDelegate like this, in your application code:
    
    /* Additional support for applications mixing Qt and SDL */
    @interface QIOSApplicationDelegate : UIResponder <UIApplicationDelegate>
    @end
    
    extern "C"
    {
    void SDL_OnApplicationWillResignActive();
    void SDL_OnApplicationDidEnterBackground();
    void SDL_OnApplicationWillEnterForeground();
    void SDL_OnApplicationDidBecomeActive();
    }
    
    @interface QIOSApplicationDelegate (SDL)
    
    - (void)applicationWillResignActive:(UIApplication*)application;
    - (void)applicationDidEnterBackground:(UIApplication*)application;
    - (void)applicationWillEnterForeground:(UIApplication*)application;
    - (void)applicationDidBecomeActive:(UIApplication*)application;
    
    @end
    
    @implementation QIOSApplicationDelegate (SDL)
    
    - (void)applicationWillResignActive:(UIApplication*)application
    {
        SDL_OnApplicationWillResignActive();
    }
    
    - (void)applicationDidEnterBackground:(UIApplication*)application
    {
        SDL_OnApplicationDidEnterBackground();
    }
    
    - (void)applicationWillEnterForeground:(UIApplication*)application
    {
        SDL_OnApplicationWillEnterForeground();
    }
    
    - (void)applicationDidBecomeActive:(UIApplication*)application
    {
        SDL_OnApplicationDidBecomeActive();
    }
    
    @end // QIOSApplicationDelegate

commit 60f2848421335556adeaa7f409c24714bcaf40f0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 7 21:02:46 2017 +0200

    haiku: Fixed crash on quit if max number of joysticks was connected.

commit b7b919078fc49560beb63857ff9f678954989ee2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 7 21:02:31 2017 +0200

    haiku: Changed internal function to be static.

commit 3ed2f0ca10a66ddf50a4e337d22e4ec2f03deeab
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 7 21:02:16 2017 +0200

    haiku: Fixed unlocking clipboard twice.

commit 4466b9314130ac8eac13ad3ac02b2e13a4bd7b7e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 6 21:46:11 2017 +0200

    haiku: Fixed comment.

commit 34747107fe38baac55f1972f4fb1c051510b812e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 6 21:46:00 2017 +0200

    mir: Fixed memory leak if system cursor id is unknown.

commit 34d9c5213c95996c9ed12d794ae3ad586830af88
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 6 21:45:43 2017 +0200

    emscripten: Fixed return type in event callback declaration.

commit bf4e7eb612dbcdaf58b35ed6ca1a152c8f5bfd15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri May 5 05:10:30 2017 -0700

    Fixed comment typo

commit 75fb07a6d282ac0b3a9b51dd8cb48a6ef72b8b29
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed May 3 18:05:29 2017 -0300

    iOS: Only mark interrupted audio devices as non-interrupted if AudioQueueStart is successful.

commit ce2998b8b914ebfd42f6ff4a9b09f6f094ab40f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 2 21:46:28 2017 -0400

    cocoa: Don't crash on messagebox keypress without a successful SDL_Init().

commit d00dfc434e1f4447b66a10211303d400fec52299
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 2 11:31:14 2017 -0400

    Fixed another AC_DEFINE.

commit 3f7f65a36d014b24eff2046c3790d89121ff15e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 2 11:16:58 2017 -0400

    Fixed configure script.
    
    The Haiku patch would define some HAVE_* things to /**/ instead of 1, breaking
    the build for various things.

commit 619ab7a22d9999b9531652aff750e44802afeb3f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon May 1 18:39:05 2017 -0400

    haiku: Various fixes from haikuports.
    
    Based on patch here:
    
    https://github.com/haikuports/haikuports/blob/master/media-libs/libsdl2/patches/libsdl2-2.0.5.patchset

commit 444c47a1b89b6e775e20da22377acaa4ad65036e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 29 22:50:35 2017 +0200

    windows: Changed six internal functions to be static.

commit 89499a0836b60903f7a9c2143c3c62f3d982107c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 29 22:50:23 2017 +0200

    Removed unused field in loopwavequeue program.
    
    Found by Cppcheck.

commit d7cd653737a886bb3e6115bbfe710f9f9be3abfa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 27 15:52:37 2017 -0700

    Added Steam Controller mappings for Linux and iOS

commit 226541cb5b0d891e8475a52a6380bd1b2f327ce6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 26 01:43:40 2017 -0400

    audio: another wrong struct that causes NULL pointer crash (thanks, Simon!).
    
    Fixes Bugzilla #3632.

commit 1286a7d23e031c9738f3045752701ceeea2b190f
Author: Joshua Granick <jgranick@users.noreply.github.com>
Date:   Thu Apr 20 21:31:44 2017 -0400

    windows: Add SDL_WINDOW_ALWAYS_ON_TOP support.

commit 7382cebb413dc405099ca5c5de4d6c8f1edc3191
Author: Juha Kuikka <juha.kuikka@synapse.com>
Date:   Thu Apr 20 21:25:29 2017 -0400

    audio: Fix audio queue functions to use new spec structure.
    
    Using the old spec structure causes the audio queueing functions to fail
    due to bad callback pointers being checked.

commit 93a6191cdc2102121591db0ca005bdb3e24fd739
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 20 13:00:54 2017 -0400

    emscripten: keep track of pointer lock losses and maybe regrab pointer later.
    
    If an Emscripten app is in relative mouse mode and the user presses Escape
    (or whatever is appropriate), then the pointer lock is broken by the browser.
    
    This keeps track of those losses, and next time the user presses a mouse
    button down on the canvas, if the app is still meant to be in relative mouse
    mode, we will attempt to regrab the pointer.
    
    This makes it much more seamless for things like first-person shooters, and
    the app doesn't need any manual intervention.

commit d20d426c3a5fd1d8cafd3193bd7dcde8b8fd2946
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 18 22:17:40 2017 -0700

    Fix crash in SDL audio thread, by Juha Kuikka
    
    Wrong audio spec structure was populated with the internal callback, causing the audio thread to call a NULL pointer.

commit 1d1a0d7f0330557a8ea39241514d707a864c5634
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 13 15:28:56 2017 -0400

    atomic: Patched to compile on Android.

commit 1c9c7633d9b821d34dd8b05956de6a4c555d9002
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 13 13:28:52 2017 -0400

    atomic: favor compiler intrinsics for compare-and-swap over macOS APIs.
    
    The OSAtomicCompareAndSwap* APIs are deprecated as of macOS 10.12.

commit 8c00de57f6858b5cdf1cd0930198937ac41bb050
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 13 13:22:23 2017 -0400

    atomic: let Clang always use atomic_load_n if available.
    
    (Apple's Clang reports itself as GCC 4.2.1 in preprocessor macros--the final
    GNU C compiler Apple shipped--as of the macOS 10.12 SDK.)

commit 2bf79c2e0eb9eb761bbbd68446dc2a0839d5e3b8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 9 23:00:54 2017 +0200

    mir: Fixed typo in error messages.

commit f6eb23a617f8ca7b1169beea52ec3b6eb7cd3df3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 9 23:00:42 2017 +0200

    linux: Changed two variables to be static.

commit 37b49e6344cbd43c22a74366877798558eaa0fc1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 9 23:00:26 2017 +0200

    ios: Fixed compiler warnings about unused variables in demo.

commit 366adae360796a7a8a265a78626e37cbb905c37f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 7 20:17:30 2017 -0400

    android: More robust fix for screen locking in landscape (thanks, Sylvain!).
    
    Fixes Bugzilla #3562.
    
    From Sylvain:
    
    "With an android landscape application, if you quickly lock, then unlock your
    device, you can see sometimes a quick glitch: screen badly draws in portrait,
    then it correctly displays in landscape.
    
    Not talking of a smooth rotation, it's a drawing glitch. And you need to have
    a plain lock screen, with no model nor passphrase.
    
    
    I think it happens because the call to "nativeResume()" occurs sometimes too
    early.
    
    It should be done once you have *all* those three things (in any sequence):
    - onWindowsFocusChanged() set to true
    - onResume() called
    - a valid call to onSurfaceChanged()
    
    
    Currently, this is not the case: you don't need to have onResume() called.
    Just need to have isPaused, (eg onPaused()).
    So "isPaused" should be renamed as "isResumedCalled".
    But you also need some kind of isPaused state to make sure to don't call
    nativePause() twice (and deadlocks...).
    There are also redundant checks to "mHasFocus" and some creation of the
    initialisation thread code from onSurfaceChanged() that could me moved.
    
    So here's this patch:
    - add some states, so we have cleaner transitions.
    - make sure "onResume()" is called.
    - some clean up
    - it also goes faster in pause state (focus changed, onPause, without requiring isSurfaceReady which does seems to be needed).
    
    
    Tested on a few devices and it removes the glitch.
    But I haven't tested when the activity goes back to "init" state."

commit 27023ed2b356e20234aaa1fe961ea9325cbf0dcf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 7 03:39:43 2017 -0700

    Added support for the Cyborg V.3 Rumble Pad and the Mad Catz FightPad PRO

commit 1eb92f6342d6a7cf6bf2c6aa999bbac60cb5687b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 6 06:30:43 2017 -0700

    Implemented Linux joystick blacklist
    Based on https://raw.githubusercontent.com/denilsonsa/udev-joystick-blacklist/master/generate_rules.py
    
    This fixes a few devices that are not actually joysticks showing up as such in SDL

commit a4dbf56574617b6312b9365f62ab7eac841892ff
Author: Drew Bliss <drewb@valvesoftware.com>
Date:   Thu Apr 6 13:27:51 2017 -0700

    Fix divide-by-zero when videodata->ime_candpgsize is zero.  We're seeing this happen in Dota in the wild.

commit 66555f611548d2b8a2210508a62e9b03ee0af9f6
Author: Drew Bliss <drewb@valvesoftware.com>
Date:   Thu Apr 6 13:27:48 2017 -0700

    SDL - attempt to fix https://github.com/ValveSoftware/Dota-2/issues/1199 of mouse not locking in Dota. This fix is proposed by Ryan Gordon (increase timeout in X11_SetWindowGrab from 250ms to 5000ms).  I'm going to integrate to source2 and ship it to dota customers.  If it works, SamL will upsteam it to SDL.

commit 53f3786bc0207c36bbe0a138d25bca0633159110
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Apr 4 08:43:44 2017 -0700

    Added support for a number of game controllers, including the Nintendo Switch Pro Controller

commit 5789da67cff1dc08078bfed8d19384817cc8ecd6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Apr 3 13:32:53 2017 -0700

    Fixed bug 1859 - No SDL_VIDEORESIZE event generated when the window manager sets the window size.
    
    Samuel Hopkins
    
    Just confirming that the patch from Andreas (attachment 1715 [details]) works for me under SDL 2.0.3 with xmonad.
    
    Stas Sergeev
    
    Confirming that the patch in this ticket fixes the full-screen switching for dosemu2 on ubuntu-16.04. Note that I am not using xmonad, so this bug appears to be generic.

commit 1517ba72857e18af02ddd442010e0d7c7280067b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 2 21:33:54 2017 +0200

    PSP: Fixed error messages.

commit f96cdca4e7c65af37ba2abad77853bff12aff744
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 2 21:33:42 2017 +0200

    Mir: Changed two internal functions to be static.

commit f1296a8652d24d27c19d4bd74b1b8d5df2e474b1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 2 21:33:24 2017 +0200

    Emscripten: Simplified option name in build script and README.

commit 06d6ada8173fa8bb650e2b3059dfaad1ca4e273e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 2 21:33:02 2017 +0200

    Updated generated configure script.

commit 7ae7fceb2e500dff473e63d376b77918a0bcdfce
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Apr 2 21:32:49 2017 +0200

    Fixed typos and documentation in haptic header file.

commit c57fe6d78ae1e08dcbf7a084858e0ca49cc68ace
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 1 00:46:42 2017 -0400

    Backing out broken change from previous commit.

commit ed7f16e2270ee06853f346dfae055460ffc529c9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 1 00:46:15 2017 -0400

    Intentionally breaking buildbot to test email server change.

commit 2ce52bf9e1388a74a8418a777272da5937d8ffa6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 1 00:17:15 2017 -0400

    README-hg.md: Updated main Mercurial website.

commit 1018d564857b5f037476b1f9bc96b8e04adae43e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 1 00:05:25 2017 -0400

    BUGS.txt: Changed mailing list link to discourse.libsdl.org.
    
    I think we're solid on this? We can always back this changeset out.  :)

commit 2092a88359b3e6ff948d9ab6383ccdbbf56305ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 31 23:43:53 2017 -0400

    android: fix wrong events when locking device in landscape (thanks, Joshua!).
    
    "Using an application in portrait orientation, turning off the device would
    dispatch SDL_APP_WILLENTERBACKGROUND, then SDL_APP_DIDENTERBACKGROUND then
    lock the screen.
    
    However, rotating the application the application to landscape, then turning
    off the device would incorrectly dispatch SDL_APP_WILLENTERBACKGROUND,
    SDL_APP_WILLENTERBACKGROUND, SDL_APP_WILLENTERFOREGROUND and then
    SDL_APP_DIDENTERFOREGROUND before locking the screen. You can imagine how
    this created trouble :)
    
    It appears this occurs because (on this application) turning off a device
    when in landscape is triggering a resize. The resize logic in SDLActivity
    triggers a resume.
    
    This patch has resolved the issue on my device:
    
    It prevents the dispatch of (improper) FOREGROUND events when locking
    the device, but we get still events when the device is turned back on
    and unlocked."

commit 7891e72dca9718c01d484bd9564f95ccb19f67b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 30 06:52:34 2017 -0700

    __atomic_load_n() appears to be available in GCC 5 but not GCC 4

commit 028716e79f5de4b4c3ed95501989fe5ddee4ad4f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 30 16:33:47 2017 -0400

    wasapi: deal with default device changes, and more robust failure recovery.

commit c85c57a05d356189e642a85f0bf2e19201b8c03e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 29 14:23:39 2017 -0400

    wasapi: Handle lost audio device endpoints.
    
    This gracefully recovers when a device format is changed, and will switch
    to the new default device if the current one is unplugged, etc.
    
    This does not handle when a new default device is added; it only notices
    if the current default goes away. That will be fixed by implementing the
    stubbed-out MMNotificationClient_OnDefaultDeviceChanged() function.

commit f2179944cc66cf999c57a37c05fdd377340a50e3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 29 12:04:17 2017 -0400

    Patched to compile on some platforms.

commit 1dc9ae5c1e058a7e6b1711ba031bc2ceb95cf6aa
Author: James Legg <jlegg@feralinteractive.com>
Date:   Wed Mar 29 15:48:22 2017 +0100

    Use GCC's atomic loads in SDL_AtomicGet and SDL_AtomicGetPtr
    
    This fixes errors reported by address sanitizer, and generates simpler
    code on x86 architectures.

commit 266816b4aa24deefcbffd78f5f7bb3f6781477ea
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 26 21:00:19 2017 +0200

    Removed newlines from error messages.

commit 00da0824f5a0a5ca2f8d08e4ab1d169477b973fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 23 13:53:09 2017 -0700

    Updated axis/button mapping for Dualshock 3, for upcoming Sony driver changes

commit 6bd87635ee63b594a9347337a78ec0034fc8f3b1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 19 22:17:01 2017 +0100

    iOS: Fixed compiling template on C89 compilers.

commit 34a2a46f6669f31d01e129f4d1766d7f2f05dd33
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 19 22:16:37 2017 +0100

    Removed unused constant in testgesture program.

commit 7122036d0320eabb66b852a6c152cb97aa96ecf1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 19 22:16:24 2017 +0100

    Updated file name in porting README.

commit c35f46d03c23c1026bd4363cf20a65300fc7e05b
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Sat Mar 18 13:57:57 2017 -0700

    mir: Set the max/min w/h vs just setting the window w/h

commit 60ba8552d88499da850ffb844dadc4bae42c5ac9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 16 16:45:12 2017 -0700

    Backed out changeset e3fcdad257fc - testaudiocapture.c already does what we want

commit 570e286fd6fc5cf1a7fed67de2105cdf85977bb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 15 11:39:54 2017 -0700

    Added an audio recording test program

commit 22161480eea1d73197bdd0f47d51fa6ddf36fea9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 14 07:22:08 2017 -0700

    Compile fix for android.
    
    "ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]"
    
    Moving some variable declarations to the top of Android_SetScreenResolution()

commit 6814f5dbc0303adaea1402e8b476783265a4bc1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 14 07:20:14 2017 -0700

    ALSA driver improvements:
    * alsa hotplug thread is low priority
    * give a chance for other threads to catch up when audio playback is not progressing
    * use nonblocking for alsa audio capture
      There is a bug with SDL hanging when an audio capture USB device is removed, because poll never returns

commit c4d54504fad442cbc14d40d43b285b749f34aae6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 14 07:16:56 2017 -0700

    differentiate between capture / playback audio thread names

commit 763e138903e42c939240fbcc302d3ec865f1343b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 9 16:09:16 2017 -0800

    Added an API to get the joystick instance ID before opening the device: SDL_JoystickGetDeviceInstanceID()

commit 6bdc0e724d0bb65aff204b50baada37c9915d1cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 9 15:12:19 2017 -0800

    Fixed tabs to spaces

commit aae481294d9430c3c25054343345774aa72ff39d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 9 14:50:23 2017 -0800

    Added support to loopwave for hotplugging audio devices

commit c1802ef646381e17f6f934881afbdc8b771daeda
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 6 21:25:06 2017 -0800

    Fixed compile error with gcc -std=c99

commit 20c846ebe7977c6971444d81043429d4a1679cfe
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Mar 4 23:05:47 2017 +0100

    Fixed warning about implicit conversion in controllermap program.

commit 72fdf62980574e517fc95ab93ed3ee07fc0e0f6d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Mar 4 23:05:32 2017 +0100

    Mir: Fixed crash if creating default cursor failed.
    
    Found by Cppcheck.

commit 42d02890f41b097330c10da9693670289f74ef6f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Mar 4 23:05:11 2017 +0100

    Linux: Fixed error message.

commit 6aa17426a6974e4f8f643a52bb70720cb1571cfc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 3 16:38:45 2017 -0500

    video: Don't compile isAtLeastGL3() if we don't have OpenGL support _at all_.

commit ca0bf151d54d36b6282e22ff05f228c84aae98da
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 3 16:38:17 2017 -0500

    Fix some more compiler warnings on armcc.

commit d526b8a1e9b09371a32c0ebb159de094143d7ba7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 2 13:33:04 2017 -0500

    Some patches to make SDL compile with armcc (ARM's C compiler).

commit 94a69443c7b541d6060056aed65475e9298f54be
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Mar 1 15:05:54 2017 -0800

    mistake: Revert the files that I did not mean to commit

commit 7bbb13ea593832bc931e72cf58bc6fbd7b6b2d3e
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Mar 1 14:50:59 2017 -0800

    * Some refactoring and bug fixes. Thanks Micha? Kuchta!

commit bc8778854ec874ad563af2fe366c29a7fe3e586d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 28 19:48:52 2017 -0500

    raspberrypi: RPI_Destroy() should free the SDL_VideoDevice and its driverdata.

commit 5a47ee036503298890852881edd5be83793a9d25
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Feb 27 12:20:16 2017 -0800

    mir: Get ready for Mir 1.0, clean up deprecations. Thanks Micha? Kuchta!

commit 1066bcc83a616cb7172dab0456413d17f4ce007f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 27 10:11:40 2017 -0500

    audio: clarified what SDL_AudioSpec::samples is, removed note about power of 2.
    
    These don't have to be power-of-2 sizes anymore because of SDL_AudioStream,
    and the new resampler, but also, many platforms don't give you power-of-2 DMA
    buffer in the first place!

commit e5d9b25d8c655abe13db3f8933d92f471a2ceb18
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 26 21:20:39 2017 +0100

    Fixed comment style.

commit 32ef85b52c517578cbdcae64a6d6aee5dc773067
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 01:03:39 2017 -0500

    Updated generated configure script.

commit a4249b48ee452f1595adb916f5b57bc8b365962f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:56:13 2017 -0500

    Patched to compile on C89 compilers.

commit 4d525d465b8be8a6bfbdb36fef657e22f9a40a4d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:54:45 2017 -0500

    configure: Cygwin and MingW should try to use -Wdeclaration-after-statement.

commit 3b9e4d0a6c43c9dd5262aebf880eb7b4a9f10855
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:39:22 2017 -0500

    audio: Try to keep callbacks firing at normal pace when device is lost.

commit 07519a6b953565ffacf91d8ced4d08191af9e001
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:40:04 2017 -0500

    Removed a bunch of unnecessary #ifdefs.

commit a366c35f37dc62ed7f0fa2d8b494c5c99b307a04
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:12:33 2017 -0500

    audio: run the audio callback even if device was lost.
    
    We will throw away the data anyhow, but some apps depend on the callback
    firing to make progress; testmultiaudio.c, if nothing else, is an example
    of this.
    
    Capture also will now fire the callback in these conditions, offering nothing
    but silence.
    
    Apps can check SDL_GetAudioDeviceStatus() or listen for the
    SDL_AUDIODEVICEREMOVED event if they want to gracefully deal with
    an opened audio device that has been unexpectedly lost.

commit 5728cb2025bc3ab4be8d113bd68a529c9cb733ac
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 26 00:10:02 2017 -0500

    audio: Make sure the disk and dummy targets are the last ones we try to init.

commit e07e446a3f9eac467b29dd9e482f2bc79a3f372c
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Feb 25 21:23:12 2017 -0500

    WinRT: removed Windows 8.0 from build-bot + NuGet package creation scripts
    
    According to Steam's OS stats, Windows 8.0 use is pretty much nil.  Further,
    Microsoft hasn't support Windows 8.0 development in any of their
    actively-updated toolchains, and setting it up can be a pain.
    
    In theory, SDL2 still supports Windows 8.0, however building of Windows 8.0
    .dlls is no longer the default, if and when using the 'winrtbuild.*' scripts.
    The MSVC 2012 project files for building Windows 8.0 dlls remain, though,
    for the time being.

commit b13c443cd8763f8e909c9d86ef82dcfafe078f23
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Feb 24 20:49:14 2017 -0500

    WinRT: removed buildbot debug code, pending further research

commit f7bfa3b79e7e1d73322c5a48f44108e73f644777
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Feb 24 20:19:28 2017 -0500

    WinRT: more buildbot debug code

commit ecb1eb823edef6f0bc2f9baee56d9ed0d0f516c7
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Feb 24 19:59:57 2017 -0500

    WinRT: added code to help debug a buildbot error

commit 0e7530b057524862645b68f571e5bdd2792ddfde
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 23 22:38:04 2017 -0500

    cmake: add WASAPI audio target to the build (thanks, Martin!).
    
    Fixes Bugzilla #3588.

commit 71a4e8ed1348293efc867c40b321ab040500fced
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 23 12:10:02 2017 -0800

    Stop CoreAudio from doing expensive audio rate conversion

commit a9762551cd465b186e54cc5fa62ae56aff7f28e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 11:02:35 2017 -0800

    Added config for the Razer Wildcat on Mac OS X

commit 43dbbd637586cdf00e3bfbb00f01c62c41e3a962
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 10:55:49 2017 -0800

    Updated iOS fat build

commit 94754c39686ab128e1ddac7baebf267c3289dc22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 20 10:55:33 2017 -0800

    Updated config headers to override the base SDL_config.h if both are included

commit dfa8fb31053e77b1d54aa079636063115f8a3262
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 19 21:05:42 2017 +0100

    Fixed warnings if compiling loopwave programs with C++.

commit 9f8c1d779a1d99b8fb29e33cc469d952e96d7a52
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 19 21:05:26 2017 +0100

    Updated library name in header file.

commit cfcec57f42ed9d3987038db7da2c9aa69ea4ecfa
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 19 21:05:09 2017 +0100

    Fixed comment.

commit 9428ff19a931567f6ee3932f7577b2795014d1d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 17 17:46:58 2017 -0800

    Added support for the Razer Wildcat on Linux

commit 0d647d35b0b14c4a78666af57ebeb73fb7ec6c6c
Author: Charlie Birks <admin@daftgames.net>
Date:   Fri Feb 17 10:13:17 2017 +0000

    Emscripten: implement custom cursors

commit 33bddcfda276fbd890c67724ca4a936b2eaa0da8
Author: Charlie Birks <admin@daftgames.net>
Date:   Fri Feb 17 10:13:12 2017 +0000

    Emscripten: refactor cursor handling

commit 90e302d0748437a34bec6ba0ff657133552fcee8
Author: Charlie Birks <admin@daftgames.net>
Date:   Fri Feb 17 10:13:10 2017 +0000

    Remove link to emscripten tests
    Not updated since early port. Also stopped working when Dropbox
    stopped allowing HTML to be parsed.

commit 613955b4f26553f66a29201ee2c9774318e0c91b
Author: Charlie Birks <admin@daftgames.net>
Date:   Fri Feb 17 10:13:07 2017 +0000

    Emscripten: only update pixel ratio if HiDPI is enabled

commit e8677a1bd2f3b277503c5e1d1dab6df56f3744aa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 17 02:25:37 2017 -0500

    audio: Added basic WAVE_FORMAT_EXTENSIBLE support to .wav loader.
    
    This is just enough to get you through a file that just used the extended
    header for float or int data. It doesn't handle all the other things that
    you expect from this header, like 24-bit samples inside a 32-bit container
    or speaker masks.

commit 4a0b287defce1ed7d606e9b5bc0c45a8154cb2d2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 16 16:59:07 2017 -0500

    More HTTPS doc tweaks.
    
    (mostly I'm testing buildbot though.  :)   )

commit 8ade96ccc4f9c86796beea22b97f00671e93af02
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 16 16:52:03 2017 -0500

    More HTTPS changes in the documentation.

commit 8ad131b78e10432934c0a89dabf3ab0f6ec70d98
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 16 13:55:12 2017 -0500

    readme: more HTTPS changes.

commit 32f85a99d8c974e0a2c8880d96b60151ba3b9a23
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 16 13:30:34 2017 -0500

    readme: correct webpage URL to use HTTPS.

commit 1ed41d6d0d593d77c2822e3f7e3abc713efa906d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 14 03:12:09 2017 -0500

    Patched to compile on Windows.

commit 6046fd4cb0ae0b1511f4ab7af3b14dd9c806cde2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 14 03:03:27 2017 -0500

    wasapi: Initial WASAPI support, for Windows Vista and later.
    
    This should remain binary compatible with Windows XP, as we dynamically
    load anything we need and fall back to DirectSound/WinMM/XAudio2 if not
    available.

commit c93bca489dc84a58d8b6fa524b84a4722c02f714
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 14 02:49:08 2017 -0500

    stdlib: Fixed crash on SDL_snprintf("%s", NULL).
    
    Like other C runtimes, it should probably produce the string "(null)".
    
    This bug probably only affected Windows, as most platforms use their standard
    C runtime's snprintf().

commit d1eb2d190d27e1e3ead98e7a779adb0e922ce644
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 13 17:05:14 2017 -0500

    thread: Don't use SetThreadDescription on WinRT right now.
    
    Can't LoadLibrary for it, but not sure if it's actually available there yet.

commit 70c0400b1251fd215ee2065ef2ca95593d045df5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 13 17:00:46 2017 -0500

    windows: Try to unify all the GUID comparison code into a core helper function.
    
    There are likely several more I missed.

commit e5fc93bacad2439d7c732474486d120f4bc7e05e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 13 16:59:02 2017 -0500

    audio: Don't wrap bootstrap declarations in preprocessor macros.
    
    They are harmless and ignored if we don't actually link against them. The
    preprocessor checks elsewhere if they're actually used.

commit ad9c702f6ac5e83a6d0286a93c31b55087e6d79b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 13 16:56:41 2017 -0500

    audio: SDL_AudioStream's *_sample_frame_size should be in bytes, not bits.
    
    Fixes failures where SDL_AudioStreamGet() incorrectly thinks it got a partial
    sample frame request.

commit 175f1e8f4aa84bb07a45b89a502bb23d44e402a3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 13 16:55:00 2017 -0500

    audio: Added a ThreadDeinit() method to match ThreadInit.
    
    Not used by any targets at the moment, but will be shortly!

commit 886736a2c8f58723c8e63411122d5f171aaaf988
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 11 16:38:16 2017 -0800

    Fixed bug 3584 - Small stack size for audio callback thread
    
    Walter van Niftrik
    
    We have found that since SDL 2.0.5 the audio callback thread is created with a very small stack size. In our application this is leading to stack overflows.
    
    We believe there is a bug at http://hg.libsdl.org/SDL/file/391fd532f79e/src/audio/SDL_audio.c#l1132, where the is_internal_thread flag appears to be inverted.

commit cf31ea14782f758f25fa340a145a9b576ae9727d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 11 11:14:48 2017 -0800

    Fixed bug 3583 - X11 touch device can be permanently lost
    
    Volumetric
    
    In X11 the SDL error "Unknown touch device" can occur after which the application stops recognizing touch events. For a kiosk-type application this results in a hang as far as the user is concerned. This is reproducible on HP Z220/Z230/Z240 workstations by swapping USB cables for a while and it also occurs with no physical changes, probably due to USB device power management. A workaround is to make SDL re-enumerate the touch devices like it does at startup. A patch is attached.

commit 06ccb71bcdd9c476c5088eb8457a1c78d0f03451
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 11:21:15 2017 -0800

    Make sure the memory barrier functions are always available, and now they are implemented on Android __ARM_ARCH_5TE__

commit 9171f71dbe52ca59598c80436e9c1f1eaffbd2d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 10 09:41:16 2017 -0800

    Fixed warning in Android build

commit 107c19daad92c885f44c90b42837c1c34dee8939
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 9 06:01:14 2017 -0800

    Log the error returned by XAudio2Create()

commit 8eee82cd84866f879cfcfee54d919eb73b4af9d5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Feb 3 23:30:43 2017 +0100

    Windows: Fixed warning about unused variable.
    
    Found by buildbot.

commit 33ff5bd148b18c7a569e1c74f7a4e33ccc8bc74a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Feb 3 23:30:29 2017 +0100

    Fixed typo in log message.

commit 8f78f5bb946e412d3784099fc7bd40457473712a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 2 16:56:02 2017 -0800

    Fixed build on Apple TV

commit 710ae62a79b905fff5408c5c9887594fc1b93d60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 2 17:33:40 2017 -0800

    Remember XInput controllers that we've already seen, so when the raw device list changes we don't assign the old device to the new XInput userid.
    This isn't perfect, but at least we won't report the same device twice.

commit da30992d4708e0d201f8ac6f556ecd6c5b7e3bbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 2 00:41:58 2017 -0800

    Fixed bug 3577 - Can't set minimal size (message box appears instead) if maximal size wasn't declared (i.e. unlimited)

commit 3f83fce7c1876ee60839360819fe4285976f652f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 13:30:35 2017 -0800

    Fixed whitespace

commit be28d7c88ce3e1b20642a989a8c53c780a3e017a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 12:30:55 2017 -0800

    Added support for the Saitek Pro Flight X-56 Rhino

commit 6717a3d38d9bd1b9d83d45c8acfa2ff74bb6be3b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 12:23:29 2017 -0800

    Added support for the HOTAS Warthog throttle

commit a156b0d994fbf1b672c841c58c354842bfb4ab7a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 10:20:09 2017 -0800

    Added the HOTAS Warthog as a flight stick

commit 800a72eb179d9ff3ce6154201cf4efdc6682cd25
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 31 10:19:56 2017 -0800

    Switch stderr output to SDL_Log() so it shows up on Windows and mobile devices

commit 4e3fa7b9d4ab9b782813627ae71d8c62a0ddb0ad
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 30 22:20:20 2017 +0100

    Fixed compiler warning about comma at end of enum.

commit 52e9c42df91c363cf501b8b967f4a108d078dd43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 14:35:35 2017 -0800

    Fixed Windows build

commit 869b7fe314cb82311113466af66e61929d383cf7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 28 11:17:10 2017 -0800

    Fixed bug 3550 - No mouse move messages send while over the titlebar and windows edges
    
    Matthew
    
    Its possible to set SDL_CaptureMouse() so you continue receiving mouse input while the mouse is outside your window. This works however There is then a gap where no messages send, which is when the mouse is hovering the title bar and the window edges.

commit c3eea703ee548361d8e083625ddf6e0e8db9173b
Author: R?mi Verschelde <rverschelde@gmail.com>
Date:   Sat Jan 28 10:54:12 2017 +0100

    Use a stronger X font definition for X11_MessageBox on UTF-8
    
    X11 seemed to be confused by the broad definition, so WEIGHT_NAME,
    SLANT and SETWIDTH_NAME were defined, thus fixing the font lookup
    on some systems (tested on Mageia 6 with X11 1.19.1).
    
    Fixes bug 3571.

commit 13433c4a61356381aa2ee0f08858753e87d85dd1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 21:23:27 2017 -0800

    Fixed bug 3569 - GL_UpdateViewport leaves PROJECTION matrix selected
    
    Tom Seddon
    
    GL_ActivateRenderer may call GL_UpdateViewport, which leaves the GL_PROJECTION matrix selected. But after GL_ResetState, the GL_MODELVIEW matrix is selected, suggesting that's the intended default state.
    
    It seems at least like these should be consistent. Presumably GL_UpdateViewport should be doing a glMatrixMode(GL_MODELVIEW) before it finishes.

commit 0090a33805ff5bb6cfacad1caca3c1638538f0c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 21:16:38 2017 -0800

    Return an error if trying to set a window minimum size larger than the maximum size, or vice versa

commit d02473682e3b05dfbeeeac112d843a54fcfa69eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 18:06:50 2017 -0800

    Sorted controller entries

commit aa90b730b871bf5ee2a42d7c667d65c1bdd33c0b
Author: Jessica Stokes <hello@jessicastokes.net>
Date:   Thu Jan 26 21:25:05 2017 -0800

    Add a mapping for Xbox Wireless Controllers running old firmware
    
    Also updates the naming of these Xbox Wireless Controllers connected via USB (and thus the third-party Xbox Controller Driver) to match.
    
    The Xbox Wireless Controller entries are now listed, in order, via USB, bia Bluetooh (with older firmware) and via Bluetooth (with firmware 3.1.1221.0).

commit 8fa9b57f75186f641e920ac194e7c748a42d2a26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 27 20:50:30 2017 -0500

    windows: first shot at naming threads with SetThreadDescription().
    
    This is a bleeding edge API, added to Windows 10 Anniversary Edition (build
    1607, specifically).
    
    https://msdn.microsoft.com/en-us/library/windows/desktop/mt774976(v=vs.85).aspx
    
    Nothing supports this yet, including WinDbg, Visual Studio, minidumps, etc,
    so we still need to also use the RaiseException hack. But presumably tools
    will use this API as a more robust and universal way to get thread names
    sooner or later, so we'll start broadcasting to it now.

commit 95ab9dc73c8882fe043701f579e990b082242201
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 06:05:50 2017 -0800

    Added Thrustmaster Wheel FFB entry to the list of wheels

commit 3c90a52aa7c04aa746315b3ba94ffb5b83b64561
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 27 05:59:58 2017 -0800

    Added an API to get the type of a connected joystick

commit ae5e9a319beeb5330103fd5cb4131328b133fc6d
Author: Misty De Meo <mistydemeo@gmail.com>
Date:   Wed Jan 25 22:24:54 2017 -0800

    Add gamecontrollerdb mapping for Xbox One S on Mac
    
    This is valid for firmware version 3.1.1221.0; earlier versions of the
    firmware need a different mapping (and have different GUIDs).

commit ca89d9b59332dcbe900031ed3cb730a9018c0244
Author: Misty De Meo <mistydemeo@gmail.com>
Date:   Wed Jan 25 22:22:05 2017 -0800

    Darwin: fix detection of Xbox One S controller
    
    Firmware revision 3.1.1221.0 changes the mapping of the Xbox One S
    controller in Bluetooth mode. Aside from changing the layout of
    other buttons, this revision also changes the triggers to act as
    Accelerator and Brake axes from the simulation controls page.
    
    The Darwin sysjoystick code didn't previously map anything at these
    axes, making it impossible to detect input on these two buttons.

commit ede5c73484cd0765ab7f5ddb6ca236e96b434081
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 24 19:38:01 2017 -0800

    Generalized the audio resampling hint for other resampling methods in the future

commit 47e2f4e9507abe52b54d6b32a3d72750b779fbe9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 20:30:48 2017 -0500

    audio: libsamplerate can't resample in-place; make space for a copy if needed.

commit 1b3327edd0515b7702be29c69b4464ca7517e9ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 16:18:25 2017 -0500

    configure: report libsamplerate support status.

commit c7f9dcb6fc32a8801fed3b10b3ea7d04571bd649
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 15:52:22 2017 -0500

    audio: Offer a hint for libsamplerate quality/speed tradeoff.
    
    This defaults to the internal SDL resampler, since that's the likely default
    without a system-wide install of libsamplerate, but those that need more can
    tweak this.

commit 5ea0c893cd14847062134006d96ccb672507292e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 12:20:41 2017 -0500

    CMake: fixed logic error in setting -mfpmath=387.
    
    Fixes Bugzilla #3565.

commit 36cb05a8f8d5e3459e8bc453b3bbef9f2c3f6808
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 12:20:12 2017 -0500

    configure.in: Check for sse3 too when setting -mfpmath=387.

commit 1da3a3377300cf3933202cca3235a0a6c323471c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 10:09:29 2017 -0500

    audio: Fix static analysis concerns about a dead assignment.

commit 073ff7dea3a8776d6a96003e9998084db329f892
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 00:55:41 2017 -0500

    Added a note about aligning SDL_AudioCVT data.

commit 8f627c1cd89a5f5762ad0a34b86d891c45207fe0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 00:51:33 2017 -0500

    audio: Make sure SDL_AudioStream's work buffer is 16-byte aligned, for SIMD.
    
    Note the giantic FIXME, though!

commit 17dcee20c1b170b0a6526b41c9b4df7ff24beeb8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 00:17:40 2017 -0500

    audio: Streams now resample in-place. Removed second allocated buffer.

commit b5eeab779f1a78fa38ea7bd04e41a58c5713199f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 00:08:24 2017 -0500

    audio: allow stereo Sint16 resampling fast path in SDL_AudioStream.
    
    This currently favors libsamplerate over the fast path (quality over speed),
    but I'm not sure that's the correct approach, as there may be surprising
    changes in performance metrics depending on what packages are available on
    a user's system. That being said, currently, the only thing with access to
    SDL_AudioStream is an SDL audio device's thread, and it might be mostly idle
    otherwise, so maybe this is generally good.

commit a80cb672e3365326a9926727bdf746b66eed9093
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 24 00:03:36 2017 -0500

    audio: Fixed off-by-one error in upsampling.

commit dad07f960b59caa413d84acedea2e17668cf09de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 16:45:50 2017 -0500

    audio: Resampler now special-cases stereo and mono processing.
    
    Turns out that iterating from 0 to channels-1 was a serious performance hit!
    
    These cases now tend to match or beat the original audio resampler's speed!

commit 8ce6ddf125e0eacfb1014e69370f9271c022a19d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 16:42:47 2017 -0500

    audio: Fixed incorrect pointer in SDL_ResampleCVT_si16_c2().
    
    Forgot to update this when we changed this to process in-place. Whoops!

commit ecdc6c1207ba4aab706352336a945890bb8018e8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 12:14:28 2017 -0500

    audio: Fixed copy/paste bug in float32->sint16/SSE2 scalar leftover code.

commit 4b8f354668b11275569bb37ce6fe51f3527723cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 12:06:10 2017 -0500

    audio: Fix same bug as last commit, but for _mm_bslli_si128 vs _mm_slli_si128.

commit fab4501811ff3e406deaf91390cc9fff7be065d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 12:02:02 2017 -0500

    audio: use _mm_srli_si128 instead of _mm_bsrli_si128.
    
    They're the same thing (one is generally a #define of the other), but some
    toolchains don't offer the 'b' version.

commit 3594bf8eeb619c317130da688b4e661ede276d91
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 01:05:44 2017 -0500

    audio: Wired up new SSE code to build system.

commit 202ab30c16a2fca33755f9913518566641a434e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 22 20:27:48 2017 -0500

    audio: Special case for resampling stereo AUDIO_S16SYS audio data.
    
    This is a fairly common case, so we avoid the conversion to/from float here.

commit 8855daac66d9fb0997ae377c5328044ddf967c1e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 22 23:48:15 2017 -0500

    audio: Make the simple resampler operate in-place.
    
    This allows us to avoid an extra copy, allocate less memory and reduce cache
    pressure. On the downside: we have to do a lot of tapdancing to resample the
    buffer in reverse when the output is growing.

commit 64056e81cd419eb9848ba6e9e859fb8d5f6875bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 23 00:57:19 2017 -0500

    audio: Added SSE3 implementation of SDL_ConvertStereoToMono().

commit a7f86f2fd22b0d11a7b224f445678372c6061d64
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 22 20:18:59 2017 -0500

    audio: don't cast to double in SDL_ConvertStereoToMono().
    
    It's expensive and (hopefully) unnecessary. If this becomes an overflow
    problem, we could multiply both values by 0.5f before adding them, but let's
    see if we can get by without the extra multiplication first.

commit 83454c821f591d26afd8f478313dbce64e776d6c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 20 16:26:24 2017 -0500

    audio: removed conditional from simple resampler's inner loop.
    
    We never seem to overflow the source buffer now; this might have been a
    leftover from a bug that was covered by Vitaly's fixes?
    
    Removing this conditional makes the resampler 10-20% faster. Left an
    assert in there for debug builds, in case this still happens.

commit 4f981df37f5ad1d894b64e9a144542099aa16907
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jan 22 22:15:36 2017 +0100

    Haiku: Fixed memory leak if creating framebuffer failed.

commit 330f2911c2766e643c1834b29af02f5b2ece7e74
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jan 22 22:15:24 2017 +0100

    WinRT: Fixed typo in README.

commit 63e83a3127a42061e0e898109faa04c002b0e0f3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 21 22:01:17 2017 +0100

    Haiku: Removed unused variable.
    
    Found by Cppcheck.

commit 800a9e84f43917422830f65d68d13f558514f72f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 21 22:00:56 2017 +0100

    Fixed compiler warning about returning a value in a void function.

commit 5e78bc64740a9a985b4810b748b3f9d88930e6af
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 21 22:00:40 2017 +0100

    Fixed copyright symbol in testgles2 program.

commit a395a907595c3c09b35afb1a52cfda241a1c47fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 20 16:40:11 2017 -0800

    Fixed mapping the PG-9021 which, on Linux, emits a button partway through the trigger press along with axis motion all along the pull

commit 8fa0b0889d8dabdf4f9ce58a78b6e6703c0045fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 20 08:13:23 2017 -0800

    Added support for the 8Bitdo Zero GamePad

commit 9b99265a5eea185c364724036ae55e7daaf25ee8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 19 20:19:37 2017 -0800

    Fixed mingw64 32-bit build, which does have the correct structure definitions

commit f3540242666b025e043aa9aa78e515f815b84495
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 18 12:19:57 2017 -0800

    Removed unused variable

commit b0c5ceef7d1964524e3ca0ce70f11cd0239c6b87
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 18 12:18:50 2017 -0800

    Fixed bug 3533 - Enumeration joystick devices omitted during directinput enumeration
    
    white.magic
    
    The logic which decides if a device enumerated via the direct input system in the function EnumJoysticksCallback in SDL_dinputjoystick.c is processed is discarding valid joystick devices due to the assumption that devices of the type DI8DEVTYPE_SUPPLEMENTAL are not valid devices.
    
    This change was added with 2.0.4 with this commit http://hg.libsdl.org/SDL/rev/1b9d40126645 that is linked to this bug report https://bugzilla.libsdl.org/show_bug.cgi?id=2460 which indicates that in that case devices of the type DI8DEVTYPE_SUPPLEMENTAL were not desirable as they caused a singular device to emit multiple "device added" events.
    
    Since then there appear to have been a few fixes to handle devices that fall into various other classes in the following two commits:
    http://hg.libsdl.org/SDL/rev/10ffb4787d7a and http://hg.libsdl.org/SDL/rev/6a2bbac05728
    
    Two devices I have reports of failing to be listed when the DI8DEVTYPE_SUPPLEMENTAL type is excluded are ECS Gametric Throttle and Thrustmaster MFD Cougar.
    
    Sam Lantinga
    
    I verified that the OUYA controller shows up as a single device with this change, so I've reverted the change to ignore supplemental devices, leaving framework in place to easily add devices that we want to ignore.

commit dd007e3fe7a9e003b3895881be565c7b1ee706c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 18 11:58:16 2017 -0800

    Fixed bug 3561 - Re-acquire device before playing effects if needed.
    
    Mathieu Laurendeau
    
    Check the result of IDirectInputEffect_SetParameters and re-acquire the device to solve concurrency issues.

commit 5cb1ca551ffd4a1d5407a55fccda238cd40f855a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 18 11:57:27 2017 -0800

    Fixed building with mingw32

commit 3e1679c8858946d1e7449a3b489cafa13aa1156d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 18 02:11:56 2017 -0500

    audio: Several fixes to "simple" resampler (thanks, Vitaly!).
    
    Fixes Bugzilla #3551.

commit 95defd662038feaa5c97d4f4ab2c9c2a9eba8c89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 17 21:18:31 2017 -0800

    Use icon width * sizeof(Uint32) instead of icon pitch when copying to icon resource data

commit 5718293092100420a077ba10a86c1ff7c2b8fcfb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 16 00:58:28 2017 -0500

    audio: Implemented SIMD support for audio data type converters.
    
    This currently adds an SSE2 implementation (but it's #ifdef'd out for now,
    until it's hooked up to the configure script and such).

commit 1e66d457d76202f58fb489c757ef0ee033c6787a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 15 05:01:59 2017 -0500

    audio: Some fixes to the audio data type converter code.
    
    Removed some needless things ("len / sizeof (Uint8)"), and made sure the
    int32 -> float code uses doubles to avoid working with large integer values
    in a 32-bit float.

commit 1e4820951fb3e664bc63eeaffa44e6ddc793f32b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 14 21:36:06 2017 +0100

    Fixed comments.

commit 06d1d945cc82507ebf8eb6d32477f7c629321cf2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 14 21:35:49 2017 +0100

    Fixed doxygen warning and linking of function names.

commit a812b4eb371f9b653ab04a88ac8078cf3468154f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 14 21:35:18 2017 +0100

    Changed Bugzilla link in README.md to HTTPS like in BUGS.txt.

commit 2b481015b23ef8a7a52782a2baf1a8ecc694c13b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 14 21:34:45 2017 +0100

    Fixed warnings about missing initializers in testoverlay2 program.

commit 341d1ff920f07d0a07749395aa1cbbd07f8c1466
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 13 11:37:12 2017 -0800

    Fixed comment

commit 01f66613db74aa223793327910e99440bfb7939a
Author: dmuratshin <frankinshtein85@gmail.com>
Date:   Thu Jan 12 10:58:35 2017 -0800

    fixed SENSOR_LANDSCAPE and SENSOR_PORTRAIT mode false nativeResume bug

commit acd76826cde101aed49cf83992c0143d7d28adf2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 23:23:32 2017 -0800

    We don't actually build with the Xt library

commit a52d48c5ab31d3f7a0259b29e409141ce623d623
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 10 08:54:33 2017 -0800

    Fixed bugs 2570, 3145, improved OpenGL ES context support on Windows and X11
    
    Mark Callow
    
    The attached patch does the following for the X11 and Windows platforms, the only ones where SDL attempts to use context_create_es_profile:
    
    - Adds SDL_HINT_OPENGL_ES_DRIVER by which the application can
      say to use the OpenGL ES driver & EGL rather than the Open GL
      driver. (For bug #2570)
    - Adds code to {WIN,X11}_GL_InitExtensions to determine the maximum
      OpenGL ES version supported by the OpenGL driver (for bug #3145)
    - Modifies the test that determines whether to use the OpenGL
      driver or the real OpenGL ES driver to take into account the
      hint, the requested and supported ES version and whether ES 1.X
      is being requested. (For bug #2570 & bug #3145)
    - Enables the testgles2 test for __WINDOWS__ and __LINUX__ and adds
      the test to the VisualC projects.
    
    With the fix in place I have run testdraw2, testgl and testgles2 without any issues and have run my own apps that use OpenGL, OpenGL ES 3 and OpenGL ES 1.1.

commit bf11cd5084f9c89b6f01bc7c41fddc82745ca14c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 20:37:52 2017 -0800

    Fixed bug 3552 - Building SDL in release mode fails under VS 2017 RC
    
    Lukasz Biel
    
    Tried to compile SDL2 using newest version of VS.
    
    Got:
    SDL_audiocvt.obj : error LNK2019: unresolved external symbol memcpy referenced in function SDL_ResampleCVT
    1>E:\Users\dotPo\Lib\SDL\VisualC\x64\Release\SDL2.dll : fatal error LNK1120: 1 unresolved externals
    
    whole compilation process: http://pastebin.com/eWDAvBce
    
    Steps to reproduce:
    clone http://hg.libsdl.org/SDL using tortoise hg,
    open SDL\VisualC\SDL.sln,
    when promted if should retarget solution click ok,
    select release x64 build type,
    Build/Build Solution
    
    attempt 2, using Visual Studio cmake support:
    open folder SDL\
    select release x64 build type,
    run CMake\Build CMakeLists.txt
    build fails
    
    When switched to debug build type, buils succeeds in both cases.
    VS 2017 is still beta.

commit 23020f92faca7ac1cd29ad4ebde03701eac0abfe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 9 16:31:57 2017 -0500

    audio: Don't ever use libsamplerate in the SDL_AudioCVT codepath.
    
    It causes audio pops if you're converting in chunks (and needs to
    allocate/initialize/free on each convert). We'll either adjust this interface
    when we break ABI for 2.1 to make this usable, or publish the SDL_AudioStream
    API for those that want a streaming solution.
    
    In the meantime, the "simple" resampler produces "good enough" audio without
    pops and doesn't have to be initialized, so that'll do for now on the
    SDL_AudioCVT interface.

commit 97f19cc3675f03e94d89fc85f45cf024c0b974b7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 9 15:56:11 2017 -0500

    testresample: write correct length to the .wav header.

commit ad7c26ff02719bd16ac05e3f8dd03c6fd11ce5aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 11:58:01 2017 -0800

    We only need the first few keymaps corresponding to the following constants:
    K_NORMTAB, K_SHIFTTAB, K_ALTTAB, K_ALTSHIFTTAB
    
    In the normal case we'll load all the keymaps from the kernel, but this reduces the size of the SDL library for the fallback case when we can't get to the tty.

commit 6d6edcb8b9a8a36ca8d2344def721561b9c2cf10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 11:30:29 2017 -0800

    Fixed spacing

commit 4e9c9fce136e0bb524ce1bfc0d27bae59f6eba60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 10:10:33 2017 -0800

    Fixed bug 3100 - SetSwapInterval should now be enabled for ANGLE/EGL
    
    Mark Logan 2015-08-24 15:57:50 UTC
    In SDL_windowsopengles.c, WIN_GLES_SetSwapInterval is as follows:
    
    WIN_GLES_SetSwapInterval(_THIS, int interval)
    {
        /* FIXME: This should call SDL_EGL_SetSwapInterval, but ANGLE has a bug that prevents this
         * from working if we do (the window contents freeze and don't swap properly). So, we ignore
         * the request for now.
         */
        SDL_Log("WARNING: Ignoring SDL_GL_SetSwapInterval call due to ANGLE bug");
        return 0;
    }
    
    With a recent version of ANGLE (early July) calling SDL_EGL_SetSwapInterval with a D3D11 backend appears to work just fine. I am working on testing this with D3D9.
    
    --
    
    Alex Szpakowski
    
    I found the bug, it was fixed in 2013. https://bugs.chromium.org/p/angleproject/issues/detail?id=481
    
    In my opinion it should be safe to unconditionally use SetSwapInterval now. Anyone who encounters the bug should update their ANGLE to a version less than 3 years old, especially since they'd be using a SDL version that's 3+ years newer than their ANGLE version.

commit 063c9d40d74f95062bd5a9e31add298e22f30375
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 9 06:00:58 2017 -0500

    audio: Replaced older resamplers in SDL_AudioCVT with the new ones.

commit a41103b170b80681c20988316f45c8c77682e1a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 9 05:59:30 2017 -0500

    audio: Patched to compile if linking directly to libsamplerate.

commit e0a40fb6a94bd42d5c5dd7c6c5fe86d13592bd84
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 9 02:54:42 2017 -0800

    Implemented full evdev keyboard text support
    This is based on the Linux kernel driver, and has fallback mapping tables in case we aren't connected to a virtual terminal.

commit 49292705a9a0ff564a4686dc2eda63c7a27b8f6a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 20:03:18 2017 -0800

    Fixed bug 3545 - SDL_EVDEV_do_text_input() may be too eager to find error cases
    
    Rob
    
    I've ran into an issue where I successfully receive SDL_KEY[UP,DOWN] events but not SDL_TEXTINPUT or SDL_TEXTEDITING.  In my case the code in SDL_EVDEV_do_text_input() is returning early (on error) prior to calling SDL_SendKeyboardText().  I'm running on the RaspberryPi 3, without X11.
    
    In SDL_EVDEV_do_text_input() there is a condition to check keysyms with a type value below 0xf0, then subtract 0xf0 from type.  Without understanding the purpose of this code, I disabled it, recompiled, and I'm getting correct SDL_TEXTINPUT events.  I'm going to guess that my hack/fix is going to be problematic in some other environment, but after some initial testing it looks like everything is running fine in my setup.

commit 7b66295e05f8cbfaab59ca92714e134b817b6811
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 19:04:38 2017 -0800

    Removed console check, let the kernel decide whether muting is appropriate on this terminal.
    We don't fail the init if we can't mute the terminal (we might be running from ssh, or on a system without virtual terminals, etc.)

commit c16dd74f3b78e9b740bf2fb800f043678066884d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 18:32:20 2017 -0800

    Check the return value of SDL_EVDEV_Init()

commit 38854e03332d2298eefccd21c917de4220669bbf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 16:18:49 2017 -0500

    audio: Improvements in channel conversion code.

commit 35166609d5629d5cea9f3680569be428ceeef56e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 14:28:44 2017 -0500

    audio: Patched to compile with libsamplerate support (again).

commit d005dc21d328b30d4be188d4152e0c870dd0bb69
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 14:23:15 2017 -0500

    audio: Patched to compile with libsamplerate support.

commit 19e937fc2e22c4dea5dac6a879f697ecb20f7ddb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 14:18:03 2017 -0500

    audio: libsamplerate loading now happens once at init time.

commit 98cc9d10d38b32d58ec0235e1e08578e89ace07d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 14:17:09 2017 -0500

    Fixed coding style on a function signature.

commit 53588ff6b8680cb06bc71ca6b32185f38ffc1e89
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 8 14:16:19 2017 -0500

    README-linux: added notes about libsamplerate.

commit 25b47ea381ee323270a497b10a4e1ae0b06249bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 10:52:02 2017 -0800

    Fixed attempting to dynamically load libsamplerate when shared object loading is disabled.
    Thanks to Ozkan Sezer for pointing this out

commit 9d9e92cf46ab47049465c15047f73bb8211ea72a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 10:41:22 2017 -0800

    Fixed bug 3304 - Android black screen on resume
    
    Richard Russell
    
    Resuming from a suspended state results in a black screen.  This only happens when using GLES 1.1 (GLES 2 resumes correctly) and when the render target has been changed using SDL_SetRenderTarget.  This problem is new in 2.0.4.
    
    The attached test case demonstrates the issue.
    
    Sylvain Becker has apparently found a fix as follows:
    
    "In the opengles leaf function (in 'src/render/opengles/SDL_render_gles.c'), it appears there is a call to 'GLES_ActivateRenderer' in 'GLES_SetRenderTarget', which is not present in opengles2. When commenting out this 'GLES_ActivateRenderer', it seems to resume fine".
    
    This appears to fix the testcase perfectly, but I don't know whether it could have any undesirable side-effects.

commit b8ab4eb9a82aef859c33c0e177d8c134c511fc1a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 8 10:15:22 2017 -0800

    SDL_evdev.c: fix building against old kernel headers (K_OFF may not be defined.)

commit 7e505b0dd308aff86d8f2cc7a2166453cec34ff9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 7 16:49:23 2017 -0800

    Don't fail if we can't open the tty, this can be a legitimate use case.

commit 267c9509181c46047521b48f08779255ce73f6dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 7 13:47:34 2017 -0800

    Added mappings for the 8Bitdo NES30 Pro and iBuffalo SNES Controller
    Also swapped the Wii U Pro controller button mappings to position instead of label, as emulators expect from XBox controllers.

commit 70c8bd24812b3b6be89c719d2f17310d7bf28149
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jan 7 22:24:45 2017 -0500

    Fixed a bunch of compiler warnings in the test code.

commit 13f2e54295dc9f4d4a4b6570432e55a2649ecf92
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jan 7 19:55:29 2017 -0500

    x11: make the X11 target work on macOS with Xquartz.

commit 61a3ba303cdb442dd30851f7c779d1b5722b9e31
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jan 7 17:09:14 2017 -0500

    Replaced a few single-line "//" comments.

commit e25f4e507d1a4fab63db949a02ba183f12e37fba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 7 16:51:48 2017 -0800

    Really fixed blit issue for capehill

commit e9c2dcdae8ee53ef8695d45f91916a344d3c404d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 7 10:13:04 2017 -0800

    Fixed bug 3469 - Keypresses leak to the console with 2.0.5
    
    tvc
    
    I believe this patch should fix it, instead of looping through all the tty's and seemingly selecting the wrong one and corrupting the console I've just made SDL open /dev/tty which is the console attached to the current process anyway.

commit df25258a1ec354fc7eb4681773d02b79a371f623
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 20:43:53 2017 -0800

    Added configure and cmake support for libsamplerate

commit c5825b698db4648beff68fe082f754bdb8459c50
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 21:23:51 2017 -0500

    audio: Don't call a NULL function pointer when clearing audio streams.
    
    (Partially?) fixes Bugzilla #3547.

commit c1ac4c6835bf0a071c2e8799d1959ee3e1bbfeee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 21:17:33 2017 -0500

    Better fix for static analysis issue in SDL_DestroyRenderer().
    
    Follow up fix for Bugzilla #3544.

commit 5fcd454a16ce316c2b7efa4f46c56fb113004e13
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 20:00:17 2017 -0500

    emscripten-buildbot.sh: let user override default SDKDIR.

commit cbe44f7ff1ee6f299269d14e454ab4a1a6b31a92
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 02:16:26 2017 -0800

    Added support for using libsamplerate to do audio resampling

commit 37f404fb871713c35bccf91420404e4c665ba2ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 00:47:42 2017 -0800

    Fixed confusion between Ryan's new audio stream and the audio buffer we were calling stream in the callback

commit 3df77ced1e80705f9de562d0cce57d8eb27f67f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 00:40:22 2017 -0800

    Just roll back the entire portion of the commit from a8253d439914 which caused bug 3544 until we figure out what the right static analysis fix is.

commit 748f46054faf2379a002e045121e0f889da7d4ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 03:38:14 2017 -0500

    audio: Add an assert to make sure non-streaming audio uses good buffer sizes.

commit 356c2eadf4c9d2f3991ea4a48df8507fde817c18
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 6 00:32:06 2017 -0800

    Fixed bug 3544 - Memory freeing bug in SDL_DestroyRenderer/SDL_DestroyTexture
    
    felix
    
    Here's a snippet of SDL_DestroyRenderer from hg revision 10746:7540ff5d0e0e:
    
        SDL_Texture *texture = NULL;
        SDL_Texture *nexttexture = NULL;
        /* ... */
        for (texture = renderer->textures; texture; texture = nexttexture) {
            nexttexture = texture->next;
            SDL_DestroyTexture(texture);
        }
    
    SDL_DestroyTexture removes the texture from the linked list pointed to by the renderer and ends up calling SDL_DestroyTextureInternal, which contains this:
    
        if (texture->native) {
            SDL_DestroyTexture(texture->native);
        }
    
    If it happens that texture->native is an alias of nexttexture two stack frames up, SDL_DestroyRenderer will end up trying to destroy an already freed texture. I've had this very situation happen in dosemu2.
    
    Bug introduced in revision 10650:a8253d439914, which has a somewhat ironic description of "Fixed all known static analysis bugs"...

commit 345c5989f12133ed13502b9867ae5f4d4298c601
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 03:15:27 2017 -0500

    haiku: Patched to compile.

commit 3443dc19f996c96634fc446fbe0469ce70ac7f29
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 23:53:46 2017 -0800

    Don't do any audio conversion if none is necessary

commit 41be9756f0a7c78746c8a19a152b5213f6d446f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 23:26:13 2017 -0800

    Fixed bug 3546 - SDL_EVDEV_is_console() uses type of wrong size when calling ioctl
    
    Rob
    
    When calling ioctl(fd, KDGKBTYPE, &type) in SDL_EVDEV_is_console(), we declare type as an 'int'.  This should be a 'char'.  The subsequent syscall, and kernel code, only writes the lower byte of the word.
    
    See: http://lxr.free-electrons.com/source/drivers/tty/vt/vt_ioctl.c?v=4.4#L399
    
    ucval = KB_101;
    ret = put_user(ucval, (char __user *)arg);
    
    I've observed intermittent behavior related to this, and I can force an error condition by using an int initialized to 0xFFFFFFFF.  The resulting ioctl will set type to 0XFFFFFF02, and the conditional return in SDL_EVDEV_is_console() will fail.
    
    Recommend changing to char, or masking off unused bits.

commit b3e8db802ee5556701f2a66192edf2633e8e872f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 01:07:34 2017 -0500

    audio: rename fake_stream to work_buffer.
    
    It's more than an alternative for when the OS can't provide a DMA buffer, now.

commit 992124d4de01ec040a97c52d4a5d48edb65ea552
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 01:02:58 2017 -0500

    audio: Fixed SDL_AudioStreamGet() function parameters.
    
    There was a draft of this where it did audio conversion into the final buffer,
    if there was enough room available past what you asked for, but that interface
    got removed, so the parameters didn't make sense (and we were using the
    wrong one in any case, too!).

commit 99fc1ef994e9f294399da25c92b42ff6a1abd8c4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 00:56:29 2017 -0500

    naclaudio: Untested attempt to migrate to SDL_AudioStream.

commit 115d0ce71c5301605485d22ebc90d98280b55979
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 00:50:01 2017 -0500

    haikuaudio: Untested attempt to get this working with SDL_AudioStream.

commit 1a90c72dfc08730d8e732f81520e690a64467c39
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 6 00:49:35 2017 -0500

    emscriptenaudio: don't get stuck in infinite loop if SDL_AudioStreamPut fails.

commit f07a1a5ad53f338b0a5a661a56657df1642a32c3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 21:31:02 2017 -0500

    emscriptenaudio: Reworked to use SDL_AudioStream.

commit 3761b5f60bdbb0f217e1f3c9f44648f24e44b297
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 20:11:19 2017 -0500

    Fixed a few compiler warnings.

commit 4aa9e36983819fa423fefb7bea3001a1369106a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 19:45:57 2017 -0500

    Patched to compile on some compilers.

commit 30178a9b24edea5f8593615c7aeda5a6784ebf05
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 19:29:38 2017 -0500

    audio: Added SDL_AudioStream. Non-power-of-two resampling now works!

commit f12ab8f2b3d94ca91b261b8043c1e01cac16f85e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 19:12:20 2017 -0500

    audio: More effort to improve and simplify audio resamplers.

commit 52130bde4096723011ea9ef4b2ce08223ab5ff5e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 5 19:30:45 2017 -0500

    diskaudio: Use SDL_Log, not fprintf.

commit d024c724d10c2e77d08fe473260bf38759ed1cf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 08:16:39 2017 -0800

    Fixed signedness issue when blitting on a big endian platform, as reported by capehill
    For example, if sR is 0 and dR is 255, we will get -255*sA casted to an unsigned value. Basically results are quite large numbers instead of the expected 0-255 range.

commit e6e6613ca41a82bdd919ddde869fc456cb0bf3a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 5 02:53:29 2017 -0800

    Fixed build warning on Haiku

commit 4938c5054e16ebbd5e666d0dcb3d406dbfc10313
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 10:28:07 2017 -0800

    Added SDL_JoystickGetAxisInitialState() to get a joystick axis' initial value.
    This is useful for controller mapping programs to determine an axis' zero state

commit 99e10ef506e46774fe8c0f52123d583adaa78222
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 07:06:48 2017 -0800

    Assume D-pad or thumbstick style axes are centered at 0

commit 26f84d74478bdd13c2dbd540ebffd343ee7a3c55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 06:21:17 2017 -0800

    Added mappings for several GameCube and SNES controllers

commit d2a01b6e53c3259fe4461363b257efbb2868fd7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 06:19:56 2017 -0800

    Added the NEXT SNES Controller to the list of zero-centered joysticks

commit c7780497dce964965080eba2c85975630215db9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 05:56:47 2017 -0800

    Increased joystick jitter tolerance for PS3 controllers

commit 1ddff75c705bad061e328a323efaf811c78ffa3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jan 4 05:09:02 2017 -0800

    Some controllers have trouble getting out to 20000

commit 9d042052639f7c3927b280b0e3f1cac360ffca42
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 4 09:33:47 2017 -0500

    x11: deal with xrandr display size in millimeters being zero.
    
    Xquartz on macOS reports a zero size, which leads to a division by zero here.

commit 082132a70cce14a489a2addcfdec16701962769f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 23:39:28 2017 -0800

    Fixed binding the D-pad on some Super NES style controllers
    Fixed a case where partial trigger pull could be bound to another button
    
    There is a fundamental problem not resolved by this commit:
    
    Some controllers have axes (triggers, pedals, etc.) that don't start at zero, but we're guaranteed that if we get a value that it's correct. For these controllers, the current code works, where we take the first value we get and use that as the zero point and generate axis motion starting from that point on.
    
    Other controllers have digital axes (D-pad) that assume a zero starting point, and the first value we get is the min or max axis value when the D-pad is moved. For these controllers, the current code thinks that the zero point is the axis value after the D-pad motion and this doesn't work.
    
    My hypothesis is that the first class of devices is more common and that we should solve for that, and add an exception to SDL_JoystickAxesCenteredAtZero() as needed for the second class of devices.

commit d359180040452d94dec78c32c58e826d6ce67f15
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jan 3 00:44:05 2017 -0800

    Fixed bug 3519 - SDL_GetDisplayMode fails to report mode.format when using Wayland backend
    
    Ryan C. Gordon
    
    Kristian says you can't do it with Wayland, and that going forward, it'll just handle whatever you throw at it anyhow.
    
    https://twitter.com/hoegsberg/status/816148272402165761
    
    So I say we mark it SDL_PIXELFORMAT_RGB888, which is what my X11 display currently reports, and leave it at that.

commit 2e2572a4f1f161e556ff3d2d7c81acd45137767a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 27 23:48:43 2016 -0500

    Added SDL_ReserveSpaceInDataQueue() to make space without copying data.

commit 18d9b23c65995c726c014d3f3d4f9724b9560e77
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jan 2 10:30:32 2017 -0800

    Fixed bug 3539 - SDL2, missing MIR LDFLAGS
    
    Gianfranco
    
    Hello, this is the failure I got
    
    https://launchpadlibrarian.net/300679206/buildlog_ubuntu-zesty-amd64.libsdl2_2.0.5+dfsg1-2ubuntu1_BUILDING.txt.gz
    
      LTLINK build/libSDL2.la
    build/.libs/SDL_mirvideo.o: In function `MIR_InitDisplayFromOutput':
    ././src/video/mir/SDL_mirvideo.c:258: undefined reference to `mir_output_get_current_mode'
    collect2: error: ld returned 1 exit status

commit 67ed894353a102fd88bf5e83987d719bacb7a1dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 1 19:10:36 2017 -0800

    Fixed bug 3529 - SDL_EGL_UnloadLibrary is not called at all on SDL_Quit
    
    kaisyu
    
    In case of OpenGLES, the sequences of loading and unloading driver library should be like that:
    
    SDL_Init
      ...
      SDL_GL_LoadLibrary
        SDL_EGL_LoadLibrary
    ...
    SDL_Quit
      ...
      SDL_GL_UnloadLibrary
        SDL_EGL_UnloadLibrary
    ...
    
    
    However, according to my test results, the varible '_this->gl_config.driver_loaded' does not allow 'SDL_GL_UnloadLibrary' to call 'SDL_EGL_UnloadLibrary'.

commit 0cfa0aa11c32b5b62a9d7896077f4007eb6dd46f
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 29 11:49:18 2016 -0500

    improved SDL_GetError() output generated by EGL code
    
    This change attempts to report the EGL error codes generated by SDL's calls
    into EGL, along with the name of the EGL function that failed.

commit 0badbddef92b21d3b924fe18a31bb1639d167f45
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 1 18:47:29 2017 -0800

    Run sed in binary mode so we don't have to worry about fixing line endings

commit 9e6d729e2dc32546197ff229f3f006dcd37a7ea6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 1 18:36:35 2017 -0800

    Fixed typo in copyright update script

commit 45b774e3f7d083c0aca44571f1ce7541c96c9523
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 1 18:33:28 2017 -0800

    Updated copyright for 2017

commit 0f586d58083b4cfe0ae1e6e91696fd7dd972431a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 1 18:32:57 2017 -0800

    Convert some files back into DOS line endings after updating copyright

commit 49225f5f0429da80e9fbed49fd705cda399a2da7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 18:11:19 2016 -0800

    We don't currently support blitting to < 8 bpp surfaces, return an error instead of corrupting memory in that case.

commit 2ba66d052568e5047ce87bd30754a1ffa384c0e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 16:21:55 2016 -0800

    Fixed bug 3535 - Misplaced comment #if/#endif closure comment
    
    Coriiander
    
    This notice is about a misplaced comment.
    
    Often times when we use an #if #endif sequence, the #endif is followed by a comment to indicate what #if statement it belonged to. The SDL_xaudio2.c file contains a misplaced comment, as follows (I stripped the other comments):
    
    #ifdef __GNUC__
    #  define SDL_XAUDIO2_HAS_SDK 1
    #elif defined(__WINRT__)
    #  define SDL_XAUDIO2_HAS_SDK
    #include "SDL_xaudio2.h"
    #else
    #if 0
    #include <dxsdkver.h>
    #if (!defined(_DXSDK_BUILD_MAJOR) || (_DXSDK_BUILD_MAJOR < 1284))
    #  pragma message("Your DirectX SDK is too old. Disabling XAudio2 support.")
    #else
    #  define SDL_XAUDIO2_HAS_SDK 1
    #endif
    #endif
    #endif /* 0 */
    
    
    
    That final /* 0 */ should be moved one line up. Like this (I tabbed it out for you to make it more clear):

commit 880842cfdf4df9ff673e91c1ac2a9a4c30e4db52
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 16:14:51 2016 -0800

    Fixed bug 3531 - internal SDL_vsnprintf implementation access memory outside given buffer ranges
    
    Tristan
    
    The internal SDL_vsnprintf implementation accesses memory outside buffer. The bug existed also inside the format (%) processing, which was fixed with Bug 3441.
    
    But there is still an invalid access, if we do not have any format inside the source string and the destination string is shorter than the format string. You can use any string for this test, as long it is longer than the buffer.
    
    Example:
    
    va_list argList;
    char buffer[4];
    SDL_vsnprintf(buffer, sizeof(buffer), "Testing", argList);
    
    The bug is located on the 'else' branch of the format char test:
    
    while (*fmt) {
      if (*fmt == '%') {
        ...
      } else {
        if (left > 1) {
          *text = *fmt;
          --left;
        }
        ++fmt;
        ++text;
      }
    }
    if (left > 0) {
      *text = '\0';
    }
    
    As you can see that text is always incremented, even when left is already one. When then on the last lines, *text is assigned the NULL char, the pointer is located outside bounds.

commit 7f2068dacac3f125d2a47e36e14eedc599fa5e83
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 31 10:30:07 2016 -0800

    Fixed bug 3541 - DisplayIndex out of bounds in SDL_SetWindowPosition
    
    
    Intellectual Kitty
    
    In SDL_video.c, on line #1756, in SDL_SetWindowPosition (from today's distribution, 12-31-2016, https://hg.libsdl.org/SDL/shortlog/bf19e0c84483):
    
            if (displayIndex > _this->num_displays) {
    
    should be:
    
            if (displayIndex >= _this->num_displays) {

commit e61daa7270afa7fd5a677b8e7d3490ced190a79b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 30 19:57:50 2016 +0100

    Fixed warning and missing animation delay in testoverlay2 program.

commit c2b90f2df833ca08ab9746ff812dbd1da711bb4d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 28 20:11:29 2016 +0100

    Fixed compiling of testgamecontroller program with C++.

commit de79828b9fcdf6630093d654fc073d2a8fb4a8af
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 28 20:11:12 2016 +0100

    Fixed warning about unused variable in controllermap program.

commit af26379881da6047c5a97ad840b4d660692ca060
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 28 20:10:48 2016 +0100

    Fixed crash if allocating memory for game controller failed.

commit 8000e6d9e1af4d2422cc0d18c08bf2353d4ff104
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 09:59:36 2016 -0800

    Added documentation for the game controller axis values

commit 21cb42d79b8585fac1f0c9b49fe95fba47d1e3be
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 09:51:58 2016 -0800

    Make sure we go all the way back (within the XBox controller dead zone) to prevent accidentally binding axes inverted

commit cb8685c022f587916f4a1b34e6be24877d560748
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 02:04:38 2016 -0800

    Fixed comment style

commit 6d7da0887d1474adb2060c25ba6076ea04870ade
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 27 01:39:07 2016 -0800

    Split controller axes into positive and negative sides so each can be bound independently.
    Using this a D-Pad can be mapped to a thumbstick and vice versa.
    Also added support for inverted axes, improving trigger binding support

commit 7c31636666359543253e0a4b8eeef8e27ab08189
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 26 23:02:14 2016 -0500

    x11: Don't loop forever if the X server refuses a pointer grab.

commit 76f2ae3ca2ed17fcf44bbec4733b2385a8a7e616
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 26 22:58:58 2016 -0500

    Don't use pushd/popd in autogen.sh; Ubuntu's /bin/sh doesn't support it.

commit b4e069e7f8561bb20e12d517d9ccd5223f8ea219
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 02:12:21 2016 -0800

    Fixed bug 3517 - Compiler warnings with gcc -Wstrict-prototypes
    
    felix
    
    Compiling even a simple SDL2 'hello world' program with gcc -Wstrict-prototypes (GCC 6.2.1) results in warnings like:
    
    /usr/include/SDL2/SDL_gamecontroller.h:143:1: attention : function declaration isn't a prototype [-Wstrict-prototypes]
     extern DECLSPEC int SDLCALL SDL_GameControllerNumMappings();
     ^~~~~~
    
    It seems there is a missing 'void' between the parentheses.

commit 9492492d5fc7aece2047756ff09ebf21c1af3c56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 26 01:56:52 2016 -0800

    Fixed bug 3516 - fix build on illumos
    
    Sylvain
    
    trivial patch to fix the build on illumos
    
     -Werror=declaration-after-statement
    
    https://gist.github.com/wiedi/15b71456667f7aa2a7f8815663723bb3

commit fd85f5748db4852c3ee5f8fc8253c691c7ca89fc
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 23 22:49:37 2016 -0400

    Mac: back out commit 3e9b2ae41adf. It causes significant overhead on many GPUs.

commit d719374cb94f11bffef735afbcfb6833f2b1b721
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 23 22:08:18 2016 -0400

    Mac: Fix over-saturated colors on P3 displays (e.g. the 2016 MBPs).

commit 3e9284519a0eaee6759e6996df21577f3b42d7ff
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 23 20:36:24 2016 +0100

    Windows: Fixed compile error.

commit 7c60a638b086164ab3b787671da6c8356e021b35
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 23 20:36:12 2016 +0100

    Corrected header file guard comments.

commit 4fc0fe1f6908b1a4d51990c3adf61968d94a738d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 23 02:23:44 2016 -0800

    Removed debug print statements

commit ad26769cd7645639d0846d16bb53a8b273f15302
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 18:43:00 2016 -0700

    Fixed compile errors on various platforms

commit ca019dada576f05515a7595ec0413b0c9f25e020
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 22 17:33:45 2016 -0800

    Fixed issue where the throttle and other axes on racing wheels don't start at zero and show up as immediate input when the wheel is turned for the first time. Wait until they are actually moved before generating input from them.

commit b2f6c4c1bd8b2c7399a7332f3a7e863fd922920d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 19 11:15:53 2016 -0800

    Fixed bus error when converting 16-bit to float for non-integral-multiple sample rates

commit 366c77a9f04a5c4eb57e41092f88f134688480c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 18 20:17:33 2016 -0500

    audio: fixed one more incorrectly-hardcoded value in the resamplers.

commit eda74fda965aded26c6f965541b55929e7a73012
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Dec 18 13:05:14 2016 -0400

    tvOS: Expose remote swipe gestures as arrow key presses (thanks oviano!)

commit 787a54c84b3181785a51d29ebecb9dfb966b4465
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Dec 18 12:28:28 2016 -0400

    iOS bug #3377: work around bugs in some third party iOS libraries (e.g. Google admob) where they assume the optional UIApplicationDelegate ?window? property always exists and will crash if it doesn?t.

commit f956df23bbbf1b7f633e48c3eee6c8cd91aa3c37
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 17 16:15:24 2016 -0500

    audio: fixed arbitrary upsampling (thanks, Sylvain!).
    
    This was a leftover of simplifying the resamplers down from autogenerated
    code; I forgot to make something that the generator hardcoded into something
    variable.
    
    Fixes Bugzilla #3507.

commit b515b34dbb92ca04f1aca04c8271ae51405d92ba
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 16 22:58:32 2016 +0100

    Fixed hotplug with more than one device in testjoystick program.

commit 0a3f9d0cfbdbf26bb0550bc75c4bae0b4037eaf5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 16 22:58:16 2016 +0100

    Fixed warning about unused variable in controllermap program.

commit 0c5e7a1067e78fb50fb8c1beaca7b06b3ee9325b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 15 14:27:22 2016 -0800

    Fixed handling joysticks that send multiple events for a single control, e.g. both a button and axis event for a trigger.
    Tested with the 8Bitdo NES30 Pro on Linux

commit b4ea63ec2c2c8b4f74b6a4e5534759e382f65487
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 14 06:25:09 2016 -0800

    Fixed crash if there are multiple joysticks closed during the joystick update loop

commit f50a04009c14831e72a96b7aa44d20f392c2612c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 13 00:22:42 2016 -0500

    windows: add whitespace to fix macro preprocessing issue (thanks, Sven!).
    
    Apparently without a space here, "fastbuild -cache" breaks.

commit 85d8a79f65a76d28c19dec28005e76c4fafaee3e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 12 09:19:48 2016 -0800

    Fixed updated return value for SDL_GL_SwapWindow()
    
    Ozkan Sezer
    
    http://hg.libsdl.org/SDL/rev/464a2676d8ab seems to have
    forgotten removing the return from SDL_dynapi_procs.h, and this patch
    does that. Without it, MSVC warns:
    c:\sdl2\src\dynapi\SDL_dynapi_procs.h(598) : warning C4098:
    'SDL_GL_SwapWindow_DEFAULT' : 'void' function returning a value
    c:\sdl2\src\dynapi\SDL_dynapi_procs.h(598) : warning C4098:
    'SDL_GL_SwapWindow' : 'void' function returning a value

commit e81bf12b85daa1b0525d1b8c458aee32f0314c1b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 12 09:18:42 2016 -0800

    Fixed edid parsing code for older gcc compilers
    
    Ozkan Sezer
    
    This adds the name 'ad' to two unnamed unions in edid.h
    and adjusts edid-parse.c for it.  Nameless unions are not supported in
    ancient gcc, which I happened to use on one of my ancient setups.

commit 8414c3d4ae45f1122769a2e11775ced95ecd3092
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 11 12:01:44 2016 -0800

    Fixed ABI, don't change the return type of SDL_GL_SwapWindow()

commit 6211668e9f5c35953d37b327fea445127e9f3682
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 11 12:01:01 2016 -0800

    Fixed creating a renderer on the dummy driver on Mac OS X

commit cb5a0b0f6ad1d2cb2bc2a6f1b0d8f935d7cc5761
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Dec 11 11:45:33 2016 -0800

    Fixed crash when creating a dummy window on Mac OS X

commit d6bcec8f6abac03eee6d43cefda6637b642a4ef4
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Dec 10 15:23:17 2016 -0500

    WinRT: build fixes
    
    These fixes are lumped into two categories:
    
    1. add new file, SDL_dataqueue.c, to UWP/WinRT build-inputs (via MSVC project
       files)
    
    2. implement a temporary, hack-fix for a build error in SDL_xinputjoystick.c.
       Win32's Raw Input APIs are, unfortunately, not available for use in UWP/WinRT
       APIs.  There does appear to be a replacement API, available in the
       Windows.Devices.HumanInterfaceDevice namespace.
    
       This fix should be sufficient to get SDL compiling again, without affecting
       Win32 builds, however using the UWP/WinRT API (in UWP/WinRT builds) would
       almost certainly be better (for UWP/WinRT builds).
    
       TODO: research Windows.Devices.HumanInterfaceDevice, and use that if and as
       appropriate.

commit 454d9cb96dd2430a02f468eb460decac10300519
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 05:19:31 2016 -0800

    PP_OK isn't available in the NaCl build environment on buildbot. It's defined as 0

commit 97d05b0da8ca22e3f4119888dcbe7dce4ed26901
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 05:12:27 2016 -0800

    Fixed a bunch of SwapWindow calls that needed their return value updated

commit 7a39681ea5b2bebdc6eb7f1a46c159351b6d15d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 05:04:18 2016 -0800

    Fixed X11 OpenGL ES build

commit fed8cbcdb69d620aad7271e25859dc192398e37e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 05:00:35 2016 -0800

    Fixed build for EGL platforms

commit b936a4c3606cc847d95209951f76162f256f0f38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 04:57:54 2016 -0800

    Added support for the XiaoMi Game Controller

commit 70aa2a5717b1f62cd6148ddfa494af9edf3831d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 04:17:10 2016 -0800

    Only print out the controller mappings if we're not going to test a controller

commit 524bf3c282f341a72bd14953f9b78bac423a8de5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 01:47:43 2016 -0800

    Fixed bug 3513 - SDL_GL_SwapWindow does not return error status
    
    Return an error code from SDL_GL_SwapWindow(), like the other SDL APIs.

commit 3b18c796ed6f438e9fcde6574d0bf61c3deb8edc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 9 01:29:52 2016 -0800

    Fixed bug 3512 - Memory leak of SDL_Joystick axes_zero array
    
    Benjamin Harris
    
    Found with valgrind and confirmed in the 2.0.5 source code.
    One-line fix in SDL_JoystickClose?

commit a5250171395eeeb5348be1362afa5f9ab9d7d754
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 8 10:13:45 2016 -0800

    Protect the game controller API the same way the joystick API is protected from multi-threaded access

commit 1b08f0c179016675bbf04b133b1c03c8a93b5c7e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 11:41:20 2016 -0800

    Added the guide button for the NVIDIA Shield Controller

commit 91491824aeb63fba4af521850220aa59d5f1fa6c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 7 11:02:02 2016 -0800

    Removed unneeded warning when running from Visual Studio

commit acabb5d5fd07d7215845d5db5e222730140ca585
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 6 14:22:28 2016 -0700

    Added support for XBox One controllers on Mac OS X, using the driver at: https://github.com/360Controller/360Controller/releases

commit 09ed5cc0d8fc8e3c4096a60c6d540e5b72aa7c81
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 6 13:33:02 2016 -0500

    xcode: Make sure SDL_dataqueue sources are included in all targets.

commit 6cb2f5bbbcfe9a94e81037536b849233c70ab430
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 6 12:30:31 2016 -0500

    xcode: updated macOS and iOS project files with SDL_dataqueue sources.

commit c023187548327f880e9b3b677ba4f266f2b30c82
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 6 12:23:17 2016 -0500

    audio: Fixed compiler warnings.

commit a0e003eebb90649a3ea7a02c0fae92b56650ef07
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 6 02:23:54 2016 -0500

    Refactored the audio queueing code to a generic SDL_DataQueue interface.
    
    This is not a public API (at the moment), but we will be needing this for
    other internal things soon.

commit 8b960d4e0f466c7b8abc1e60752867818b6b92b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 6 02:20:58 2016 -0500

    Added SDL_VARIABLE_LENGTH_ARRAY so this #ifdef is localized to one place.

commit 68d7be3949ed28f3af44abf13cce88dedb8bbde6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Dec 6 00:40:09 2016 -0800

    Fixed bug 3508 - variably modified ?SDL_dummy_size? at file scope in test/testatomic.c
    
    Ciro Santilli
    
    GCC 6, Ubuntu 16.10, cd test; ./configure; make
    
    /bin/sh config.status Makefile
    config.status: creating Makefile
    gcc -o loopwave loopwave.c -g -O2 -D_REENTRANT -I/usr/include/SDL2 -DHAVE_OPENGLES2 -DHAVE_OPENGL -DHAVE_SDL_TTF -g -lSDL2_test -lSDL2
    gcc -o testatomic testatomic.c -g -O2 -D_REENTRANT -I/usr/include/SDL2 -DHAVE_OPENGLES2 -DHAVE_OPENGL -DHAVE_SDL_TTF -g -lSDL2_test -lSDL2
    In file included from /usr/include/SDL2/SDL_main.h:25:0,
                     from /usr/include/SDL2/SDL.h:32,
                     from testatomic.c:14:
    /usr/include/SDL2/SDL_stdinc.h:261:20: error: variably modified ?SDL_dummy_size? at file scope
            typedef int SDL_dummy_ ## name[(x) * 2 - 1]
                        ^
    testatomic.c:106:1: note: in expansion of macro ?SDL_COMPILE_TIME_ASSERT?
     SDL_COMPILE_TIME_ASSERT(size, CountTo>0); /* check for rollover */
     ^~~~~~~~~~~~~~~~~~~~~~~
    Makefile:114: recipe for target 'testatomic' failed
    make: *** [testatomic] Error 1
    
    If I remove the line SDL_COMPILE_TIME_ASSERT(size, CountTo>0); /* check for rollover */ it works, lazy to figure out the best way to do this.

commit af7f30de024371511f574ab41cbd1024ac16db6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 5 21:28:27 2016 -0800

    Fixed SDL always being built because of missing headers in the project.

commit 264138cceb88637664549d90e89d983f80b73abd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 3 08:39:21 2016 -0800

    Added support for the Hori Fighting Commander 4

commit 54188c8b9e5fdaa5056723654184f460812952d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 3 09:59:43 2016 -0800

    Fixed crash at startup

commit e7efcfbaa4ce08f81070f04a76ffc1bc212919b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 3 00:40:13 2016 -0800

    Added Linux mapping for the DragonRise Inc. Generic USB Joystick

commit 16074e674925b8ceb984d33b0df8c83f0a05c982
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 22:18:05 2016 -0800

    Fixed compile warning on Visual Studio

commit 4eda58ba6aacc5b2a86ab3e533c9c1938319d7b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 21:01:13 2016 -0800

    Added SDL_HINT_MOUSE_NORMAL_SPEED_SCALE and SDL_HINT_MOUSE_RELATIVE_SPEED_SCALE to scale the speed of the mouse.
    This currently doesn't affect absolute motion, which would need to be implemented on each windowing system so the cursor matches the reported mouse coordinates.

commit 26f05ecb4d9957d70039716a134c2832e3cd4923
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 02:25:12 2016 -0800

    Fixed missing prototypes on Android, patch from Sylvain

commit 84c0780e25b7be43a71229845dd2d390133b57ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 2 02:21:35 2016 -0800

    Fixed bug 3305 - Fixed TextInput status when the keyboard was dismissed with the dismiss key on the iPad
    
    Diego
    
    I was previously unaware that rotating the device to a different orientation when the keyboard is shown causes a keyboardWillHide followed by a keyboardWillShow notification. The previous patch would then mistakenly StopTextInput when rotating. This patch fixes that by checking if the device is rotating before stopping text input.

commit a738a6fb492ae8d32f4bfa58af19764406ede78a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 07:31:08 2016 -0800

    Added Linux controller mapping for the Nostromo n45 Dual Analog Gamepad

commit 1b689c335c581ec90921ac860cfc5a3e2ad3d3d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 1 11:52:47 2016 -0800

    Fixed bug 3503 - osx builds don't run on 10.6 as of rev. 10651
    
    Ozkan Sezer
    
    With rev. 10651, i.e. http://hg.libsdl.org/SDL/rev/747a6a795b21 ,
    SDL2 - OS X builds fail to run on 10.6 (my setup: i686 / 10.6.8)
    because the symbol _IOPMAssertionCreateWithDescription is missing.
    The SDK listing it for 10.7+ does seem correct.  Reverting r10651
    and rebuilding makes it to function again.

commit 4905cd9c09176bb29d7a734b72a7248d375903a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 22:06:05 2016 -0800

    Fixed bug 3340 - SDL_BlitScaled causes access violation in some cases.
    
    Simon Hug
    
    The SDL_BlitScaled function runs into an access violation for specific blit coordinates and surface sizes. The attached testcase blits a 800x600 surface to a 1280x720 surface at the coordinates -640,-345 scaled to 1280x720. The blit function that moves the data then runs over and reads after the pixel data from the src surface causing an access violation.
    
    I can't say where exactly it goes wrong, but I think it could have something to do with the rounding in SDL_UpperBlitScaled. final_src.y is 288 and final_src.h is 313. Together that's 601, which I believe is one too much, but I just don't know the code enough to make sure that's the problem.
    
    Sylvain
    
    I think this patch fix the issue, but maybe it's worth re-writing "SDL_UpperBlitScaled" using SDL_FRect.

commit cb8748b719a194331dd0b244293500e4a0e0656d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 12:58:03 2016 -0800

    Fixed the controller mappings for the OUYA controller

commit 5fcf2577fb8abe132b6947a29876d14e5b0b1e2d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 12:34:50 2016 -0800

    Added PS4 controller entries for the new Sony HID driver
    https://git.kernel.org/cgit/linux/kernel/git/jikos/hid.git/log/?h=for-4.10/sony

commit 663afa911fb254c483831b8d68b41d24cb83367e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 30 12:25:19 2016 -0800

    Added support for the DS4 USB Wireless Adaptor

commit cd3aefc093200a7fb428d4f83b3002243799d582
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 30 23:31:36 2016 +0100

    Updated documentation in header file.

commit a7655d77d11dc3528b70014590a33d72c53587a0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 30 23:31:23 2016 +0100

    Fixed warning about storing an unused value.
    
    Found by buildbot.

commit d834c08ac77e33d76d0ad4a6a140a8392c2489fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 22:02:37 2016 -0800

    Add the controller mappings to the linked list in order

commit dd5d85a4e7bd571b38178d42427a78a962c310a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 06:36:57 2016 -0800

    Added an API to iterate over game controller mappings

commit 1e8f074c4339ca8fbdec4f77042dc04420e29775
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 05:34:20 2016 -0800

    Avoid conflicts with multiple versions of udev by first trying the library that is linked with the executable, if any, and then picking the one that is in the build environment.
    This fixes joystick detection for applications using the Steam Linux Runtime

commit 5220759f034cf70aa01475b07ae4c9b367d814a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 29 05:04:42 2016 -0800

    Made it safe to update joysticks from multiple threads, fixes crash in Steam

commit 8bd4c6f332a79cfd6d68700683df82920c35e9dc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 08:05:45 2016 -0800

    Added fcitx-libs-dev to debian build dependencies, for Fcitx IME support

commit 4fe3fb345461c277dba4df9bc0a1c75b72f1a64d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 28 07:34:25 2016 -0800

    Added debian changelog entry for SDL 2.0.5

commit 7f764bd8d3ff9baa3038ed8cfca31f4c8aefb223
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 10:26:36 2016 -0800

    once more - iterating on this is annoying

commit 51ccc9ed8cab7bf1e3ea293328f2e382eceaf273
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 10:26:32 2016 -0800

    if the tap is explicitly disabled by code or by another program, let it remain disabled! this is different than the automatic "event tap was too slow therefore we stopped processing it" timeout which we want to re-enable after.

commit 25f54f0f4f015ab74117ca9438d24005b1179260
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 10:26:26 2016 -0800

    tap should default to disabled, not enabled

commit 354a8f276e25f9182f758fd3cf672064bc12b9bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 26 10:26:22 2016 -0800

    SDL for Mac - only enable global event tap when actually necessary (app has focus and has requested relative mouse mode or has asked for a mouse grab). in other situations the event tap impacts system performance and battery life with no benefit.

commit ff56c7b300a6e5b4072d397c3703512cf4c14bcb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 25 14:16:27 2016 -0500

    checker-buildbot.sh: Disable warnings that aren't explicitly static analysis.

commit d1c35febce490c4784b50356f1b394e8ac389607
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 25 00:13:13 2016 -0500

    macOS: removed deprecated UpdateSystemActivity() call.
    
    The non-deprecated approach (IOPMAssertion) already exists in SDL, and is
    available in Mac OS X 10.6 and later (although it was incorrectly listed as
    10.7 and later in SDL). Since SDL now requires 10.6 or later, this is no
    longer conditionally used.

commit fb5fd67ccb78829074577cb2aaa4008c00acd776
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 24 21:41:09 2016 -0500

    Fixed all known static analysis bugs, with checker-279 on macOS.

commit fd250bd636f34aa5b84a465e8663345baf679257
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 24 21:13:23 2016 -0500

    checker-buildbot.sh: Upgraded to checker-279, deal with zero bugs detected.

commit 2f6ba615ee9101987f1a1595b17bd4dd48ce454c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 24 12:24:22 2016 -0800

    Guess the USB VID/PID of XInput devices

commit e9983c7b0f7dd84f145fce14e318edafa3f4b327
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 24 11:53:23 2016 -0800

    We are comparing 16-bit values

commit e93e91f0b5112d11f570bcef2e7ad8b0d7025495
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 21:52:48 2016 -0500

    Pacify some GCC strict-aliasing compiler warnings.

commit 5232b8e95281269a941060e28243f3c56c0681d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 23 06:54:19 2016 -0800

    Fixed XBox One S controller mapping for firmware revision 3.1.1221.0, including back and guide buttons

commit 232ae6886439659f3373cab09356bbce3d82f670
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 17:20:28 2016 -0500

    Still more compiler warning fixes for various platforms.

commit 40c2a6fb5591b0fab790b3e90f24771b0616a9d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 11:49:26 2016 -0500

    Fixed more compiler warnings.

commit 52827361aec7cbdf49ad36d75824a899b8af8ca3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 23 10:51:44 2016 -0500

    directsound: fixed compiler warnings.

commit aa03b9d7afedefddda4e7f1575d87865ee5f3d93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 22:14:28 2016 -0800

    The XBox One S controller sends keys outside the standard joystick button range

commit 6558ecdbf6beeb723f94009e2ca411964fe57b1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 22 04:42:07 2016 -0800

    Added mapping for XBox One S controller firmware version 3.1.1221.0

commit a949882a98b0528e30f807432938ad3abd367a17
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 21 20:35:59 2016 -0500

    cpuinfo: fix SDL_HasNEON() on older iOS devices, fixed C++ comment.

commit 361563357135ae17065468a2ecca3a7954152cff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 21:34:54 2016 -0800

    Renaming of guard header names to quiet -Wreserved-id-macro
    Patch contributed by Sylvain

commit abe9271065c0b4306c389a8c6219bc894bd31ba2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 21:29:27 2016 -0800

    Fixed warning building under mingw, patch contributed by Sylvain

commit c7351c2dea57b772f21dacb3c7f8743db8381459
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 21:26:56 2016 -0800

    Fixed a few warnings that show up with -Wdocumentation and -Wdocumentation-unknown-command, patch contributed by Sylvain

commit eaca3958ad1e5c9043ba2bc338f4fc5e35e605c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 21:24:09 2016 -0800

    Fixed bug 3494 - SDL_test_fuzzer.c fails compile since r10604
    
    Ozkan Sezer
    
    As of hg rev. 10604 (http://hg.libsdl.org/SDL/rev/4fe01fd25855),
    SDL_test_fuzzer.c fails to build again

commit 4a089ca1c811825f2f15e69e85060cbac924c6b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 20 21:18:55 2016 -0800

    Fixed bug 3486 - Can't get HINSTANCE of my window
    
    realitix
    
    SDL2 allows to create widow and to get information through SDL_SysWMinfo.
    But it misses something, with Vulkan, you need the HWND and HINSTANCE of the window for Win32 system.
    Sadly, SDL2 provides only HWND but not HINSTANCE.
    
    In some context, it can be difficult to get the HINSTANCE, indeed, I'm using pySDL2 (Python) and I can only access properties that SDL2 gives me.
    I have to use a dirty trick like that to get the HINSTANCE:  (https://raw.githubusercontent.com/bglgwyng/pyVulkan/master/examples/win32misc.py)

commit 2a5fab63eefc8b42c788592ee89231b7f6e3103d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 19 23:27:51 2016 +0100

    Updated configure script.

commit eb9cc0306867c0bfddae64e9f0aa4f6fdf75bdbc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 19 23:27:37 2016 +0100

    Fixed two memory leaks if added game controller mapping has lower priority.
    
    Found by buildbot.

commit a49ac09c02e62e83e596bd4604d0581fad6bf790
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Nov 18 00:06:09 2016 +0100

    Windows: Fixed crash if using current SDL_GetWindowWMInfo() from older programs.

commit d05a39d0a68b573541bb6d43c04fb89ac1a7a61d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Nov 18 00:05:54 2016 +0100

    Wayland: Fixed file descriptor leaks if device was not initialized.

commit c3451262667fdd8ea03cd317f02cb85492a45220
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Nov 18 00:05:28 2016 +0100

    Emscripten: Fixed handling of deactivated mouse events.
    
    SDL_GetEventState() was called with a button state instead of an event type.

commit 32cb34945e9daca0788b099bfb0034b80cc8ebaf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 17:03:43 2016 -0500

    cpuinfo: patched to compile for getauxval() path.

commit 0b33a1188b2631ea683f23a967e97ca1a98abbe8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 16:10:32 2016 -0500

    cpuinfo: more patching for Android. Legacy platform targets are a pain.

commit a298e56349e67383fc740ac25c7b2086ca6e3765
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 16:04:00 2016 -0500

    cpuinfo: Patched to compile on Android, Linux.

commit e8f4b7c4f5508950aa29df37ff11da933738ef67
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 16:01:59 2016 -0500

    cpuinfo: patched to compile.
    
    Nothing quite like experimentation via Buildbot!  :/

commit 74eb78dcbfa717933577548940cc3d42f4abad49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 15:57:58 2016 -0500

    cpuinfo: more work on SDL_HasNEON().

commit db97c3d3e8d670ee3cf9e6d506b38efa6d12b2f4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 01:41:56 2016 -0500

    cpuinfo: silence compiler warnings on non-Intel CPU architectures.

commit 66a36d5660a142521212dd59c781414f3d4989be
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 01:34:18 2016 -0500

    cpuinfo: disable NEON detection on Android for now.
    
    Will fix this properly soon.

commit 5c6b2ebf2d55c2d27f90c311f716bd5f0a689694
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 01:26:56 2016 -0500

    cpuinfo: more robust ARM preprocessor checks.

commit 35430a73f251f6bb7554d7e2cc5af26dee5a46d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 17 01:15:16 2016 -0500

    cpuinfo: first attempt at SDL_HasNEON() implementation.

commit 7592b40b391f15f7c1476f2fc777a03f212e8a6c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 16 22:49:04 2016 -0500

    cpuinfo: Removed code duplication, cached CPUID details.

commit 6fe15d6347e993946dbff7beaf516f1e6a7079b2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 16 22:09:40 2016 +0100

    Wayland: Fixed memory leak if output retrieval failed.
    
    Found by Cppcheck.

commit 97aa57758969df838cae659e75a35650ce932bc7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 16 22:08:51 2016 +0100

    Fixed empty parameter list in signatures of internal functions.

commit 818d1d3e80041be2869503caa4188420816b389b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 01:30:08 2016 -0800

    Fixed bug 1646 - Warnings from clang with -Weverything

commit 0d24495b15388eabdfb5c2c1742a73f046676013
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 01:24:58 2016 -0800

    Removed unused constants
    Except for SDL_bmp.c where they are historically interesting and I've left them in.

commit acce8659115e0e353d9a57640c5b69cc07490775
Author: Thomas Perl <m@thp.io>
Date:   Sun Nov 13 10:39:04 2016 +0100

    [qtwayland] Set orientation and window flags via SDL hints

commit 009a3f5aa6cb74f8965700b4d13786b5c008a003
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 01:14:30 2016 -0800

    Fixed bug 3490 - Build failure with --enable-video-directfb
    
    felix
    
    Building SDL 2.0.5, or even the Mercurial snapshot (r10608) with GCC 6.2.1 and --enable-video-directfb generates a number of compiler diagnostics and fails.

commit ab8bd3d96baf297861d628d1630ac3063c99c83a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 15 01:12:27 2016 -0800

    Fixed bug 3359 - Software renderer does incorrect blending with SDL_RenderCopyEx
    
    Simon Hug
    
    The software renderer produces incorrect results when blending textures at an angle with certain blend modes. It seems that there were some edge cases that weren't considered when the SW_RenderCopyEx function was last changed. Or another bug possibly covered up the problem. (More on that in another bug report.)
    
    Most of the issues come from the fact that the rotating function sets a black colorkey. This is problematic because black is most likely appearing in the surface and the final blit will ignore these pixels. Unless a colorkey is already set (the software renderer currently never sets one), it's very hard to find a free color. Of course it could scan over the whole image until one is found, but that seems inefficient.
    
    The following blend modes have issues when drawn at an angle.
    
    NONE: The black pixels get ignored, making them essentially transparent. This breaks the 'dstRGBA = srcRGBA' definition of the NONE blend mode.
    
    MOD: Again, the black pixels get ignored. This also breaks the 'dstRGB = dstRGB * srcRGB' definition of the MOD blend mode, where black pixels would make the destination black as well. A white colorkey will work though, with some preparations.
    
    BLEND: There are some issues when blending a texture with a translucent RGBA target texture. I - uh - forgot what the problem here exactly is.
    
    This patch fixes the issues mentioned above. It mainly changes the code so it tries to do things without the colorkey and removes the automatic format conversion part from the SDLgfx_rotateSurface function. Getting the format right is something the caller has to do now and the required code has been added to the SW_RenderCopyEx function.
    
    There's a small change to the SW_CreateTexture function. RLE encoding a surface with an alpha mask can be a lossy process. Depending on how the user uses the RGBA channels, this may be undesired. The change that surfaces with an alpha mask don't get encoded makes the software renderer consistent with the other renderers.
    
    The SW_RenderCopyEx function now does these steps: Lock the source surface if necessary. Create a clone of the source by using the pixel buffer directly. Check the format and set a flag if a conversion is necessary. Check if scaling or cropping is necessary and set the flag for that as well. Check if color and alpha modulation has to be done before the rotate. Check if the source is an opaque surface. If not, it creates a mask surface that is necessary for the NONE blend mode. If any of the flags were set, a new surface is created and the source will be converted, scaled, cropped, and modulated. The rest of the function stays somewhat the same. The mask also needs to be rotated of course and then there is the NONE blend mode...
    
    It's surprisingly hard to get the pixel from a rotated surface to the destination buffer without affecting the pixel outside the rotated area. I found a way to do this with three blits which is pretty hard on the performance. Perhaps someone has an idea how to do this faster?
    
    As mentioned above, the SDLgfx_rotateSurface now only takes 8-bit paletted or 32-bit with alpha mask surfaces. It additionally sets the new surfaces up for the MOD blend mode.
    
    I shortly tested the 8-bit path of SDLgfx_rotateSurface and it seemed to work so far. This path is not used by the software renderer anyway.

commit c1e292fcf8decd6c08f55dbc18a02f69d8d26890
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 23:09:42 2016 -0800

    Fixed build error with missing function prototype in the SDL_test_harness.h header

commit c2837ef634d904ec781883ae24475dd94b40e270
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 23:04:47 2016 -0800

    Fixed unresolved symbol on Visual Studio

commit 57d01d7d6774fd352cc7d0a7d6f749c5db28d2b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 22:57:41 2016 -0800

    Patch from Sylvain to fix clang warnings

commit c13a077d15d388399f0375665d89b909d8af5be0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 13 00:09:02 2016 -0800

    Fixed bug 3488 - Random crashes (because Memory overlap in audio converters detected by Valgrind)
    
    Vitaly Novichkov
    
    Okay, when I researched code and algorithm, I tried to replace condition "while(dst >= target)" with "while(dst > target)" and crashes are gone.
    Seems on some moments it tries to write into the place before memory block begin, therefore phantom crashes appearing after some moments.

commit 37696150e2dfab68c62dd3ca0c85de2fe8cb604c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 13:47:40 2016 -0800

    Fixed build on various platforms

commit 77000ff8cb573b8162874e1f9dbeb25af5f534b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 13:38:39 2016 -0800

    Fixed bug 1822 - Inconsistent renderer behaviour on rotation
    
    Sylvain 2016-11-07 08:49:34 UTC
    
    when rotated +90 or -90, some transparent lines appears, though there is no Alpha or ColorKey.
    
    if you set a dummy colorkey, it will remove the line ...
    if you set a some alpha mod, the +90/-90 get transparent but not the 0/180  ...

commit 23c01c189015359b207ab03f9e872c803a8b0ef7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 13:29:23 2016 -0800

    Fixed bug 3079 - Allow non destructive SDL_GameControllerAddMappingsFromFile
    
    x414e54
    
    It is a bit of a pain to update the library or rely on whatever version the user has on their computer for default mappings.
    
    So providing an easily updatable text file via SDL_GameControllerAddMappingsFromFile is still currently the most viable way. However using this replaces all mappings provided by the SDL_HINT_GAMECONTROLLERCONFIG environment variable which may have come from the user's custom Steam mapping.
    
    There should be an easy way for games to supply extra game controller mappings to fill in the differences between SDL versions without it clobbering the SDL_HINT_GAMECONTROLLERCONFIG environment variable.
    
    Internally the mappings could use a priority system and if the priority is lower then it will not overwrite the mappings.
    
    For now it just assumes SDL_HINT_GAMECONTROLLERCONFIG is the highest priority, the default hardcoded are the lowest and anything set via the API is medium.

commit 74e1dd4c6f8def7534381325584057802af0439a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 13:14:00 2016 -0800

    Define _GNU_SOURCE when building SDL

commit 302a6e62aae5797b2c2ee7c4b28e4b7c4067c940
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 12:41:06 2016 -0800

    Fixed bug 3484 - DSP driver does not detect /dev/dsp0
    
    Tobias Kortkamp
    
    using SDL 2.0.5 (and a repository checkout) on FreeBSD 11.0 I get this output
    from testaudioinfo with SDL_AUDIODRIVER=dsp:
    
    INFO: Found 8 output devices:
    INFO:   0: /dev/dsp
    INFO:   1: /dev/dsp1
    INFO:   2: /dev/dsp2
    INFO:   3: /dev/dsp3
    INFO:   4: /dev/dsp4
    INFO:   5: /dev/dsp5
    INFO:   6: /dev/dsp6
    INFO:   7: /dev/dsp7
    INFO:
    INFO: Found 3 capture devices:
    INFO:   0: /dev/dsp
    INFO:   1: /dev/dsp4
    INFO:   2: /dev/dsp5
    INFO:
    
    This is /dev/sndstat:
    
    Installed devices:
    pcm0: <NVIDIA (0x0040) (HDMI/DP 8ch)> (play)
    pcm1: <NVIDIA (0x0040) (HDMI/DP 8ch)> (play)
    pcm2: <NVIDIA (0x0040) (HDMI/DP 8ch)> (play)
    pcm3: <NVIDIA (0x0040) (HDMI/DP 8ch)> (play)
    pcm4: <Realtek ALC887 (Rear Analog 7.1/2.0)> (play/rec)
    pcm5: <Realtek ALC887 (Front Analog)> (play/rec) default
    pcm6: <Realtek ALC887 (Rear Digital)> (play)
    pcm7: <Realtek ALC887 (Onboard Digital)> (play)
    No devices installed from userspace.
    
    I'd expect to find /dev/dsp0 in the output device list.  It's not detected
    because of a a small logic error in SDL_audiodev.c (see attached patch).
    
    With the patch applied I get this which is what I'd expect:
    
    INFO: Found 9 output devices:
    INFO:   0: /dev/dsp
    INFO:   1: /dev/dsp0
    INFO:   2: /dev/dsp1
    INFO:   3: /dev/dsp2
    INFO:   4: /dev/dsp3
    INFO:   5: /dev/dsp4
    INFO:   6: /dev/dsp5
    INFO:   7: /dev/dsp6
    INFO:   8: /dev/dsp7

commit 160e71944998a14fb0f5941a4603e32255ae9526
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 04:35:06 2016 -0800

    Fixed whitespace and added code to support older game controller GUIDs

commit b6542ab237247b40af2fe5a316907d7e78c0d5e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 04:30:09 2016 -0800

    Fixed whitespace

commit 47418f2d5afeeb187d6f1d116ba1f2328c11a172
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 03:35:37 2016 -0800

    Updated Windows game controller support

commit 79f6ba5a842b0385dcd6c19f6decedf39c4c0a08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 03:18:16 2016 -0800

    Fixed signed/unsigned comparison warnings in Visual Studio

commit 801a9eaf64a745bcc562791097b7e3958f87eef1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 11 04:06:00 2016 -0700

    Updated Mac OS X game controller support

commit c406f649b3d2c76d4a13edb5dd5c6da48f564205
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 18:53:50 2016 -0800

    Added USB VID/PID information to the SDL test programs

commit 0cc6207c6809f53cd76b640a2000150ed83d58b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 18:53:29 2016 -0800

    Added Linux entries for the Logitech Dual Action game controller

commit ac74e16cdedf5f192b248985a39a69c1760eb2f4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 10 17:19:34 2016 -0800

    Standardized the format of the SDL joystick GUID and added functions to retrieve the USB VID/PID from a joystick and game controller.

commit 2898ada3389bdf1a68da1cc975542b466b3cb045
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 10 12:07:34 2016 -0500

    wayland: fixed compiler warning about pipe2().

commit 0a294a7ba01dd9a1de0a8fe919c2c5fc3f1bd753
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 10 11:26:44 2016 -0500

    nacl: pepper_49 SDK apparently has problems, move buildbot back to pepper_47.
    
    (this is still a big leap forward from the previous buildbot target of
    pepper_35!)

commit 920bc237dabe13148539a61c15523fe8d2926411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 8 01:12:54 2016 -0500

    Upgraded buildbot to NaCL SDK pepper_49 (the current stable release).

commit 6380d5c24e873cf93cb050d7cbc80e9323119a60
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Nov 7 21:10:01 2016 +0100

    Fixed audio conversion for unsigned 16 bit data.

commit 37d991d7d6a3714e3e871f5a42a3511c8bb28774
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 20:26:48 2016 -0800

    Fixed bug 3481 - Configure fails to detect dynamic library support on powerpc64le
    
    Sam
    
    I've discovered that when building on powerpc64le (and probably powerpc64) SDL's configure script fails to detect dynamic library support, causing it to build a static library. This causes link failures due to undefined symbols later when packages link with -lSDL.
    
    This seems to be because the included autotools package is too old to detect powerpc64le. This change corrects the problem for me but newer versions of autotools should handle it without a patch

commit 057bca8a68dd3159fe10bff3c19958ae965536d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 15:15:32 2016 -0800

    Better fix for last point in D3D11 renderer, thanks to Nader Golbaz

commit 0396af651a41eaa8cd1f7c8708f50c55eac11265
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 14:13:28 2016 -0800

    Shifting a value by more than its bits isn't defined and has varying behavior depending on compiler and platform

commit 40b571c91ec01a42cd45f7f0c08625e3597897e8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 10:01:08 2016 -0800

    Fixed bug 3468 - _allshr in SDL_stdlib.c is not working properly
    
    Mark Pizzolato
    
    On Windows with Visual Studio, when building SDL as a static library using the x86 (32bit) mode, several intrinsic operations are implemented in code in SDL_stdlib.c.
    
    One of these, _allshr() is not properly implemented and fails for some input.  As a result, some operations on 64bit data elements (long long) don't always work.
    
    I classified this bug as a blocker since things absolutely don't work when the affected code is invoked.  The affected code is only invoked when SDL is compiled in x86 mode on Visual Studio when building a SDL as a static library.  This build environment isn't common, and hence the bug hasn't been noticed previously.
    
    I reopened #2537 and mentioned this problem and provided a fix.  That fix is provided again here along with test code which could be added to some of the SDL test code.  This test code verifies that the x86 intrinsic routines produce the same results as the native x64 instructions which these routines emulate under the Microsoft compiler.  The point of the tests is to make sure that Visual Studio x86 code produces the same results as Visual Studio x64 code.  Some of the arguments (or boundary conditions) may produce different results on other compiler environments, so the tests really shouldn't be run on all compilers.  The test driver only actually exercised code when the compiler defines _MSC_VER, so the driver can generically be invoked without issue.

commit d780031277e898710094d1d90afee02e1586c97c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 09:30:06 2016 -0800

    Fixed bug 3476 - round() needs _GNU_SOURCE on some old systems
    
    Ozkan Sezer
    
    On systems with old glibc, such mine with glibc-2.8, the following warning
    is issued and is fixed easily by defining _GNU_SOURCE:
    
    /home/me/SDL2-2.0.5/src/video/x11/SDL_x11modes.c: In function 'CalculateXRandRRefreshRate':
    /home/me/SDL2-2.0.5/src/video/x11/SDL_x11modes.c:263: warning: implicit declaration of function 'round'
    /home/me/SDL2-2.0.5/src/video/x11/SDL_x11modes.c:263: warning: incompatible implicit declaration of built-in function 'round'

commit 330e2952d80d5907af19eb657dbe08822e482505
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 08:47:40 2016 -0800

    Fixed bug 2421 for D3D11 - SDL_RenderCopyEx off by one when rotating by 90 and -90.
    
    Nader Golbaz
    
    Updated patch for direct3d renderers

commit 4ed4997cc4632b9a63dbb64a9e7564d74bcc66d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 08:42:46 2016 -0800

    Fixed bug 2421 for D3D9 - SDL_RenderCopyEx off by one when rotating by 90 and -90
    
    Nader Golbaz
    
    Updated patch for direct3d renderers

commit d767a450dc12ee66d06aa4eb21d63471a8cbf4d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 6 08:34:27 2016 -0800

    Fixed 2942 - Wayland: Drag and Drop / Clipboard
    
    x414e54
    
    I have implemented Drag and Drop and Clipboard support for Wayland.
    
    Drag and dropping files from nautilus to the testdropfile application seems to work and also copy and paste.

commit 7ad3a46d76a19e41172eecbf264707bdbf7c0db4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 5 21:23:17 2016 +0100

    ALSA: Fixed compile warning about unused function.
    
    Found by buildbot.

commit 581992321252cf26bed5d19a8c6074b936b6051a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 5 21:22:58 2016 +0100

    WinRT: Corrected header file guard comment.

commit 062ca2b261911c63119d710360bda1b7901430d8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 5 21:22:39 2016 +0100

    Removed empty statement.

commit 6ed8213049460b0e1b0fcc76d3c6bdbc73a81504
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 01:52:28 2016 -0700

    Fixed Windows build

commit 5298830945d633c4d67ccd4aad9a765e9dda242f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 5 01:48:14 2016 -0700

    Fixed bug 3480 - minor update to NACL common.js
    
    Sylvain
    
    All latest official NACL examples have a slightly different 'common.js' file. It seems it has been updated in the meantime to fix a bug.

commit a17abf10b755177dd0eb6047382acb66a51e1450
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 5 03:56:55 2016 -0400

    Also patched to compile on C89 compilers.

commit 067f0c8482ead7ce7ec4db049a9e701a1839a2eb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 5 03:53:59 2016 -0400

    Patched to compile on C89 compilers.

commit f3456e9a93478103bc5e900e59b0a97d76ed1181
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 5 02:34:38 2016 -0400

    Reworked audio converter code.
    
    This no longer uses a script to generate code for every possible type
    conversion or resampler. This caused a bloat in binary size and and compile
    times. Now we use a handful of more generic functions and assume staying in
    the CPU cache is the most important thing anyhow.
    
    This shrinks the size of the final build (in this case: macOS X amd64, -Os to
    optimize for size) by 15%. When compiling on a single core, build times drop
    by about 15% too (although the previous cost was largely hidden by multicore
    builds).

commit 7e65d88f013555fdc18bc92aeb5c027b78d42261
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 3 11:10:52 2016 -0400

    Removed premake build system.

commit 0f83ae0fd958e65085a6ce7df1621e949f3cb128
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 3 01:29:56 2016 -0400

    Added some debug logging to print out every event added to the SDL queue.

commit baadd546866f45934ac568fd3119b25b83ca4fb6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 2 02:56:54 2016 -0700

    Fixed text input events with UIM
    
    Alex Baines
    
    I realized overnight that my patch probably broke text input events with UIM, and I confirmed that it does. Can't believe I overlooked that... I've been making stupid mistakes in these patches recently, sorry.
    
    Anyway, *this* one seems to fix it properly. Knowing my luck it probably breaks something else.

commit acae3ebf74d7f8072103020c96ebecb79155131d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 2 02:50:27 2016 -0700

    Added mapping for the PS3 controller in Bluetooth mode

commit 8eb762769e909abc5d63279f7746015ace7bf9d5
Author: Alex Baines <alex@abaines.me.uk>
Date:   Tue Nov 1 17:38:05 2016 +0000

    Skip duplicate key events sent by IMEs like uim.

commit d0c8bf7f0bc6ec5b8ffadd8a3472b6dbe097b12d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 1 10:48:59 2016 -0700

    Patch from Tapani P?lli to fix a memory leak in X11_InitKeyboard
    
    Patch uses XkbFreeKeyboard to free the memory returned by XkbGetMap.
    Earlier implementation called XkbFreeClientMap which frees all the maps
    but not data->xkb structure itself, XkbFreeKeyboard will free maps and
    the structure.

commit a1f427651d0111463bd44d08d58ae9ecc4a9321e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 1 10:46:47 2016 -0700

    Patch from Tapani P?lli to fix a memory leak in X11_GL_CreateContext

commit 077d6e6464ed68fa5d6fe5c9e000d130f8eb08da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 1 10:42:35 2016 -0700

    Fixed bug with udev support reporting
    
    Joshua Bodine
    
    I'm going to reopen this because configure should still accurately report whether libudev will be used. Right now it just tests whether it's enabled as an argument, not whether configure was successful in finding it.

commit 539afc5d0bc8d581d7a7e9f87694046989bbe8f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 1 10:33:44 2016 -0700

    Fixed bug 3473 - can't build on linux with an old kernel

commit 9a8642bd6a1437e5c1b92a0d0ae7f1ce68a171ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 1 10:30:46 2016 -0700

    Fixed bug 3478 - Patch Haiku to use dlopen instead of load_add_on
    
    Kai Sterker
    
    SDL2 on Haiku so far uses Haiku-specific APIs for loading dynamic objects as add-ons, instead of using dlopen to load them as libraries. This, for example, leads to SDL_mixer not being able to load its audio backends, when compiled with standard settings.
    
    As discussed at https://www.freelists.org/post/haikuports/SDL2-mixer-ogg-music-not-playing-and-other-stuff,2 , the best way to deal with this would be using dlopen instead of load_add_on. The following patch implements this change by dropping the Haiku-specific bits and using dlopen instead.

commit 98d188f5de967eb62d249afed212692a56465faf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 30 21:01:46 2016 +0100

    Added call to SDL_HasAVX2() in platform test program.

commit 6f1f77b297d6f556fe53e36f5df16a4ed202bd6a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 30 21:01:33 2016 +0100

    Fixed outdated info in README.

commit 5fe984978cea857ea57c8f4942c4a7496f72e07d
Author: Alex Baines <alex@abaines.me.uk>
Date:   Fri Oct 28 01:28:58 2016 +0100

    Fix double events / no repeat flag on key events when built withoutibus/fcitx
    
    Uses XkbSetDetectableKeyRepeat, and falls back to forcing @im=none if it's not
    supported.

commit 88f2d16e45530b5cd335a59e29c4d190bc11fbf7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 28 17:00:37 2016 -0700

    Fixed compiling on older versions of ALSA

commit fdcac1c24ff4bd3fa9163ce6aa7b5243281a4467
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 28 16:47:06 2016 -0700

    Fixed audio data swizzling when the device channel map already matches what SDL expects

commit 39ba2ab835659120fab794e12af11c5fc80d1f12
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 22 17:53:03 2016 -0700

    Fixed NULL pointer dereference, thanks Ozkan Sezer

commit 5b14a943a815303357148a2b9f0fcf9493d2277d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 22 11:01:55 2016 -0700

    Fixed bug 3466 - Can't build 2.0.5 on ppc64
    
    /home/fedora/SDL2-2.0.5/src/video/SDL_blit_N.c: In function 'calc_swizzle32':
    /home/fedora/SDL2-2.0.5/src/video/SDL_blit_N.c:127:5: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
         const vector unsigned char plus = VECUINT8_LITERAL(0x00, 0x00, 0x00, 0x00,
         ^

commit ebf07eb0dadcf3c0ad939a00ac2cedc60fbcfbb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 19 21:22:42 2016 -0700

    Added tag release-2.0.5 for changeset 38318a3ae49a

commit 54eb9067e15adcf0d978d0b672fe70cef0c05528
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 19 20:50:33 2016 -0700

    Fixed bug 3460 - docs/README-macosx.md: g++fat.sh should be g++-fat.sh in universal build command
    
    Elis?e Maurer
    
    I scratched my head for a while until I realized there's a typo in the command listed in the instructions for universal Mac builds: https://hg.libsdl.org/SDL/file/3a3a88db1fc2/docs/README-macosx.md#l24
    
    It should say `g++-fat.sh` but instead it says `g++fat.sh`, which makes `./configure` fail with a C++ preprocessor error.

commit 8a73f7e89362b74504876f6ea7ca02288951ad9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 19 20:42:22 2016 -0700

    Fixed bug 3461 - Implement TEXTINPUT events for Haiku
    
    Kai Sterker
    
    Apparently, SDL2 on Haiku does not generate SDL_TEXTINPUT events.
    Attached is a patch that adds this functionality.
    
    Tested with SDLs own checkkeys program and different keymaps as well as my own SDL application and German keyboard layout to verify it generates the expected input.

commit 6d67c98e70fc3565d9f75c5a58b44cc38633f20b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 19 20:39:12 2016 -0700

    Fixed crash on Mac OS X 10.10 and earlier

commit 012217f069cb28d6b877001c9ef38a8dde57f39a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 23:24:49 2016 -0700

    Fixed bug 3369 - RaspberryPI ability to specify a Dispmanx layer
    
    Albert Casals
    
    On a RaspberryPI, it might become convenient to specify the Dispmanx layer SDL uses.
    Currently, it is hardcoded to be 10000 to sit above most applications.
    
    This can be specially useful when integrating other graphical apps and frameworks like OMXplayer, QT5 etc.. in order to have more flexibility on their Z-order.

commit 267207ffca64dac5afc96096019f976de7871db1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 18 23:12:45 2016 -0700

    Worked around a crash on Mac OS X 10.10 and earlier, thanks to Eric Wasylishen.

commit ae8ca7c54de86098314d3f2bc0327fc2fe5b9e09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 22:09:22 2016 -0700

    Fixed bug 3444 - Android-TV: no more handling of back button on remote
    
    ny00
    
    Unfortunately, simply checking the return codes of "onNativePadDown/Up" as previously done has its own issue:
    
    If an SDL joystick is connected *and* opened, then a proper KeyEvent, say with keycode KEYCODE_BUTTON_1, should lead to an SDL joystick button event as expected.
    
    If, however, the joystick was *not* opened, then "onNativePadDown/Up" will return a negative value, so before the commit from bug 3426, you could unexpectedly get a keyboard event. (In practice, you'll just get a log message, since KEYCODE_BUTTON_1 has no mapping to a proper SDL_ScanCode value, but it's still an problem).
    
    What should still be done, though, is checking the key code itself. We do have the KeyEvent.isGamepadButton method, but according my test, it returns "true" exactly (and only) for the KEYCODE_BUTTON* values, and not for KEYCODE_DPAD* or any other key code.
    
    Here is a possible solution:
    - Do check the return codes of "onNativePadDown/Up" as previously done.
    - In addition, in "Android_OnPadDown/Up" from src/joystick/android/SDL_sysjoystick.c, 0 should *always* be returned in case the key code can be translated to an SDL_joystick button; Even if no matching joystick can be found.

commit 8109b1378a260df9d3c3b280d92d8baa494610e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 21:47:33 2016 -0700

    Partial fix for bug 3092 - Statically link sdl2 with /MT for msvc
    
    Mike Linford
    
    I'm also having trouble statically linking SDL2 on Visual Studio 2015 with /MT. My symptom is that memcpy is being defined twice.

commit 0eb5c976b9d6339daf8220946c2d03fdce6d043e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 21:44:32 2016 -0700

    Fixed bug 3456 - SDL_GameControllerOpen fails if the joystick subsystem isn't initialized
    
    Philipp Wiesemann
    
    Maybe the fault is in the SDL_VIDEO_DRIVER_WINDOWS section in SDL_InitSubSystem() of "src/SDL.c". Because there only SDL_INIT_JOYSTICK is checked. The flags are adapted for SDL_INIT_GAMECONTROLLER afterwards.

commit 5af67f49f461179beca78f26cef49415ef4c9e19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 17 21:37:26 2016 -0700

    Fixed bug 3458 - x11: reset deadkeys in StartTextInput/StopTextInput
    
    Eric Wasylishen
    
    The patch makes StartTextInput/StopTextInput call Xutf8ResetIC ( https://www.x.org/releases/X11R7.5/doc/man/man3/XmbResetIC.3.html ) on the XIC of all SDL windows.
    
    This fixes my use case in Quakespasm (Ubuntu 16.04, system keyboard layout set to German. Type the '^' dead key, which opens Quakespasm's developer console and calls SDL_StartTextInput, then press 'e'. I expect the dead key to be ignored.)
    
    Also, here is a patch for sdl2's "checkkeys" for testing this: https://bugzilla-attachments.libsdl.org/attachment.cgi?id=2451

commit ba051ae7d94933331b5d9691df8b0253656ae46b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 16 22:47:49 2016 +0200

    Linux: Added missing scancodes.

commit f31ce3fb3385ff6d6140e2f921bf41b5fcd6ad0d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 16 22:47:37 2016 +0200

    Windows: Fixed not removing the always added hint callback on quit.
    
    This was no real problem because SDL_Quit() also calls SDL_ClearHints().

commit c0578f92934cd6fa71b219f26c8de3f3944446da
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 16 22:46:56 2016 +0200

    Linux: Removed not needed platform info from entry in controller database.

commit 099e8a685b3cde6c1655a700d30f50055ca27a2b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Oct 15 20:02:17 2016 +0200

    Linux: Fixed compile warnings about unused variables.

commit 1fd2646c6071a87ca073e5f2ea65d9f990b1e14d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Oct 15 20:01:50 2016 +0200

    Android: Split long line in README.

commit 826508b6ee0cfc61684f017102cb3516a3af0b49
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Oct 15 20:01:30 2016 +0200

    Removed unused constants in controllermap program.

commit 01f62736751bd028c0a1074c845fd3ab96adcd7b
Author: Csongor Szabo <csongor.szabo@prezi.com>
Date:   Fri Oct 14 17:06:28 2016 +0100

    emscripten: check if device pixel ratio has changed

commit bc93bdb921fb1c48c6999c04c9259dd9ef037bb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:56:04 2016 -0700

    Fixed compiler option warning for 64-bit builds on Visual Studio 2008

commit d5ddb3cb91f5ad2553093c6b75b976e5c9e6dff8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:40:21 2016 -0700

    Fixed bug 3453 - First mouse button input after a drag and drop event is ignored
    
    Olav Sorensen
    
    After a drag and drop event, any following mouse button input (down/up) doesn't generate an event. Clicking any mouse button a *second* time generates an event like it should.
    
    Further investigation shows that the new SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH logic also causes this issue in other cases, like the first time you open the program and click the mouse.

commit 8aab39cb7d58b09fc5f7b1337a3651fc1f9851e7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:27:44 2016 -0700

    Fixed bug 3452 - Getting unicode arguments for the main entry point on Windows
    
    Simon Hug
    
    There are currently three entry points in the SDL2_main code for windows: main, wmain and WinMain. Only the latter two properly convert the arguments to UTF-8.
    
    Console applications linked with MSVC will always link with the main entry point (wmain has to be selected by manually setting the entry point). This makes it likely that such programs will not have proper unicode arguments.

commit 3f38bd91424507be4315c5194b19d12cb6533894
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:22:48 2016 -0700

    Fixed warning about redefining DECLSPEC

commit 3663dbe882641a15ae58f2a03bbc11c69f15a9cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:20:40 2016 -0700

    Fixed warning about missing field initializers in SDL_DBusContext
    Static variables are automatically initialized to zero.

commit 824ecc8f7a926c4f452de74f14a5378955b96f85
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 08:15:39 2016 -0700

    Fixed processing mouse and keyboard events in hatari, which uses the old SDLMain.m without creating an SDLApplication instance

commit 83cb2b63a36433c2b10b48209b707bbfa9f0b4ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 06:57:55 2016 -0700

    Fixed bug 2758 - Android issues with NDK r10c and API-21
    
    Sylvain
    
    After a long time, I found out more clearly what was going wrong.
    
    The native libraries should be built with a "APP_PLATFORM" as low as possible.
    Ideally, APP_PLATFORM should be equals to the minSdkVersion of the AndroidManifest.xml
    So that the application never runs on a lower APP_PLATFORM than it has been built for.
    
    An additional good patch would be to write explicitly in "jni/Application.mk": APP_PLATFORM=android-10
    
    (If no APP_PLATFORM is set, the "targetSdkVersion" of the AndroidManifest.xml is applied as an APP_PLATFORM to the native libraries. And currently, this is bad, because targetSdkVersion is 12, whereas minSdkLevel is 10.
    And in fact, there is a warning from ndk: "Android NDK: WARNING: APP_PLATFORM android-12 is larger than android:minSdkVersion 10 in ./AndroidManifest.xml".)
    
    
    to precise what happened in the initial reported test-case:
    Let say the "c" code contains a call to "srand()".
    
    with APP_PLATFORM=android-21, libSDL2.so contains a undef reference to "srand()".
    with APP_PLATFORM=android-10, libSDL2.so contains a undef reference to "srand48()".
    
    but srand() is missing on devices with APP_PLATFORM=android-10 (it was in fact replaced by srand48()).
    So, if you build for android-21 (where srand() is available), you will really have a call to "srand()" and it will fail on android-10.
    That was the issue. The path tried to fix this by in fact always calling srand48().
    
    
    SDL patches that were applied are beneficial anyway, there are implicitly allowing they backward compatibility of using android-21 on a android-10 platform.
    It can be helpful in case you want to target a higher APP_PLATFORM than minSdkVersion to have potentially access to more functions.
    Eg you want to have access to GLES3 functions (or other) of "android-21". But, if dlopen() fails (on android-10), you do a fall-back to GLES2.

commit f3502c3c5385e1bd2d32a2d955382d7013528408
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 01:04:21 2016 -0700

    Fixed building with cmake when fcitx isn't installed

commit 8e2634eb132e92745902c7fe0fc833b758f8f0d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 14 00:51:57 2016 -0700

    Fixed divide by zero if setting integer scale without setting logical width and height

commit e4af8ce9685770ad8271afc449aaa5d71130a6e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 04:57:31 2016 -0700

    Fixed typo getting the drawable size

commit 063f752e0de1362f47a81da299ffee9e283c8026
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 04:54:43 2016 -0700

    Fixed bug 3328 - Race condition in Wayland_VideoInit
    
    Robert Folland
    
    When running this little test program with SDL2 on Wayland it often crashes in SDL_Init.
    
    From a backtrace it is apparent that there is a race condition in creating a xkb_context_ref. Sometimes it is 0x0.
    
    By moving the relevant lines higher up in Wayland_VideoInit (in SDL2-2.0.4/src/video/wayland/SDL_waylandvideo.c:302) this seems to get fixed.
    
    I moved the call to WAYLAND_xkb_context_new() up to before the call to WAYLAND_wl_display_connect().
    
    Here is the test program (just a loop of init and quit), and a backtrace from gdb:
    
    #include <cstdio>
    #include <stdlib.h>
    #include <SDL2/SDL.h>
    #include <unistd.h>
    #include <iostream>
    
    int main(int argc, char **argv)
    {
        int count = atoi(argv[1]);
    
        for (int i = 0; i < count; i++) {
            std::cout << "Init " << i << std::endl;
            if (SDL_Init(SDL_INIT_VIDEO) < 0) {
                SDL_LogError(SDL_LOG_CATEGORY_APPLICATION,
                             "Couldn't initialize SDL: %s\n",
                             SDL_GetError());
                return 1;
            }
            std::cout << "Quit" << std::endl;
            SDL_Quit();
        }
        return 0;
    }
    
    
    Init 12
    Quit
    Init 13
    
    Program received signal SIGSEGV, Segmentation fault.
    xkb_context_ref (ctx=ctx@entry=0x0) at src/context.c:156
    156         ctx->refcnt++;
    (gdb) bt
    #0  xkb_context_ref (ctx=ctx@entry=0x0) at src/context.c:156
    #1  0x00007ffff5e1cd4c in xkb_keymap_new (ctx=0x0, format=XKB_KEYMAP_FORMAT_TEXT_V1, flags=flags@entry=XKB_KEYMAP_COMPILE_NO_FLAGS) at src/keymap-priv.c:65
    #2  0x00007ffff5e1c6cc in xkb_keymap_new_from_buffer (ctx=<optimized out>,
        buffer=0x7ffff7fd5000 "xkb_keymap {\nxkb_keycodes \"(unnamed)\" {\n\tminimum = 8;\n\tmaximum = 255;\n\t<ESC>", ' ' <repeats 16 times>, "= 9;\n\t<AE01>", ' ' <re
    peats 15 times>, "= 10;\n\t<AE02>", ' ' <repeats 15 times>, "= 11;\n\t<AE03>", ' ' <repeats 15 times>, "= 12;\n\t<AE04>", ' ' <repeats 12 times>..., length=48090,
        format=<optimized out>, flags=<optimized out>) at src/keymap.c:191
    #3  0x00007ffff7b8ea4e in keyboard_handle_keymap (data=0x6169b0, keyboard=<optimized out>, format=<optimized out>, fd=5, size=48091)
        at /home/vlab/abs/sdl2/src/SDL2-2.0.4/src/video/wayland/SDL_waylandevents.c:269
    #4  0x00007ffff64501f0 in ffi_call_unix64 () from /usr/lib/libffi.so.6
    #5  0x00007ffff644fc58 in ffi_call () from /usr/lib/libffi.so.6
    #6  0x00007ffff665be3e in wl_closure_invoke (closure=closure@entry=0x61f000, flags=flags@entry=1, target=<optimized out>, target@entry=0x616d20,
        opcode=opcode@entry=0, data=<optimized out>) at src/connection.c:949
    #7  0x00007ffff6658be0 in dispatch_event (display=<optimized out>, queue=<optimized out>) at src/wayland-client.c:1274
    #8  0x00007ffff6659db4 in dispatch_queue (queue=0x617398, display=0x6172d0) at src/wayland-client.c:1420
    #9  wl_display_dispatch_queue_pending (display=0x6172d0, queue=0x617398) at src/wayland-client.c:1662
    #10 0x00007ffff665a0cf in wl_display_roundtrip_queue (display=0x6172d0, queue=0x617398) at src/wayland-client.c:1085
    #11 0x00007ffff7b8faa0 in Wayland_VideoInit (_this=<optimized out>) at /home/vlab/abs/sdl2/src/SDL2-2.0.4/src/video/wayland/SDL_waylandvideo.c:302
    #12 0x00007ffff7b7aed6 in SDL_VideoInit_REAL (driver_name=<optimized out>, driver_name@entry=0x0) at /home/vlab/abs/sdl2/src/SDL2-2.0.4/src/video/SDL_video.c:513
    #13 0x00007ffff7ae0ee7 in SDL_InitSubSystem_REAL (flags=16416) at /home/vlab/abs/sdl2/src/SDL2-2.0.4/src/SDL.c:173
    #14 0x0000000000400b24 in main (argc=2, argv=0x7fffffffebb8) at vplay-init.cpp:13
    (gdb)

commit f94bd05736b88f1fd2b7642495395ed322b7897f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 04:53:01 2016 -0700

    Fixed bug 3451 - Raspberry Pi Raspbian SDL_assert triggered sometimes at RPI_WarpMouseGlobal
    
    Eric wing
    
    Sometimes an SDL_assert triggers at RPI_WarpMouseGlobal
    src/video/raspberry/SDL_rpimouse.c:232 'update'.
    
    It doesn't always reproduce, but it seems to happen when you really bog down the system and the event loop can't update for awhile.
    
    
    The first time I hit this, I wasn't even using the mouse. I don't call any warp mouse functions either.
    
    
    I can usually reproduce with a simple program that runs an expensive blocking CPU series of functions which blocks the main loop until complete (can be up to 10 seconds).
    
    Sometimes this assertion gets triggered after that. I'm not sure if
    they are related or coincidental.
    
    
    Disabling the SDL_asserts when compiling SDL will avoid this problem. I actually haven't seen any problems with the mouse when I do this.
    
    On a Raspberry Pi 2 running Raspbian Jessie.

commit c490b54e08eef659b08370ea1332faabd1baac53
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 04:01:25 2016 -0700

    Fixed black screen on Steam Link

commit 3f167a5a7f932e4ce070bd85a9b78741eabf5aec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 02:19:23 2016 -0700

    Added support for the PS4 Slim controller, model CUH-ZCT2U

commit cb7b823cc1b6b587f38146fc378659130f63a7f2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 02:09:37 2016 -0700

    Fixed black screen on Steam Link

commit 662f966cd943615d44ebff7c2a8522e6004a1fce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 13 08:46:34 2016 -0700

    Fixed bug 3355 - false "Invalid renderer" after creating an "opengles2" renderer.
    
    Call SDL_GL_GetDrawableSize() directly because we may be in the initialization path and SDL_GetRendererOutputSize() will fail because the renderer magic isn't set up yet.

commit 741aaf4c80a4718d7496354ba842e90ba607de89
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 22:34:54 2016 -0700

    Added a note on how to allow non-root applications to increase their thread priority on Linux

commit 62310c6bfddcc846f2e82a3b8d1b08d79ec6d8b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 22:25:19 2016 -0700

    Work-around for a hang when USB devices are unplugged, contributed by James Zipperer

commit 14e7da75b2e32d0aae9ee9a7c435547d314b3307
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 19:50:16 2016 -0700

    Backed out change 7d3df1df4e91 which was: Fixed bug 3320 - SDL_windows_main.c defines both console application entry points
    With that change only the wmain() entry point was defined, and applications that linked with main() would no longer build.

commit 4c9f31398f09ec53fbfded86f42f5c55708b6bdf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 18:57:12 2016 -0700

    Added note for David Carlier's work on OpenBSD

commit 47590424040083351df1f82b26f4589d8b2143d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 18:46:17 2016 -0700

    Build SDL as universal binary

commit 3a77b42de7057d2d0064691a7c3fc969c7788f1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 18:45:56 2016 -0700

    Fixed build warning

commit f6bcfa017545d5837b73d749e353e1f8bf08464e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 12 23:38:31 2016 +0200

    X11: Fixed compile warning about unused variable.

commit ed80cfd9bc4eee5cc2486b41b12ba67225ad7047
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 12 23:36:49 2016 +0200

    Removed empty statements in tests.

commit 9d0e07490a0e29e6aa088fe20876495a2fa20414
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 12 23:36:29 2016 +0200

    Linux: Removed redundant function call.

commit cfb24c7673de98d6c3a3af42fd1bfb2276cd55b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 12 00:01:17 2016 -0700

    Fixed pointer signedness warning

commit 3b3dd9af5ac7605e143df242352d9081ce8e89bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 11 23:56:52 2016 -0700

    Updated WhatsNew with 2.0.5 changes

commit f5c2bf120a21c78f7f720886a03a3cc250225dab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 11 23:21:41 2016 -0700

    Fixed comment for new pixel formats

commit 36e40d30fc93eef6f0bdf167ae9f522485595bc2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 11 23:19:05 2016 -0700

    Fixed bug 2923 - Add SDL_PIXELFORMAT_RGBA32 for byte-wise 32bit RGBA data
    
    Daniel Gibson
    
    Ok, I followed the simple approach of just making SDL_PIXELFORMAT_RGBA32 an alias of SDL_PIXELFORMAT_RGBA8888/SDL_PIXELFORMAT_ABGR8888, depending on endianess. And I did the same for SDL_PIXELFORMAT_ARGB32, .._BGRA, .._ABGR.
    
    SDL_GetPixelFormatName() will of course return SDL_PIXELFORMAT_RGBA8888 (or SDL_PIXELFORMAT_ABGR8888) instead of SDL_PIXELFORMAT_RGBA32, but as long as that's mentioned in the docs it shouldn't be a problem.

commit 8a0704d15f5c95990b251ae2e4a6abf6ab2065ac
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 11 16:36:40 2016 -0400

    cmake: Now generates Wayland protocol source bits like the configure script.
    
    Fixes Bugzilla #3430.

commit d9e3972acb84e26e7b87475c315b59885e04b342
Author: Alex Baines <alex@abaines.me.uk>
Date:   Mon Oct 3 15:31:11 2016 +0100

    Fix invalid read from poor setlocale usage.

commit aae28e3ec15b44b285af952075dbc9c1993eb54f
Author: Steffen Pankratz <kratz00@gmx.de>
Date:   Mon Oct 10 18:28:05 2016 +0200

    Fixed bug 3096 - SDL_BlitSurface with overlapping source and destination

commit 564c790f338ac6e76de79699f06150c370584001
Author: Steffen Pankratz <kratz00@gmx.de>
Date:   Tue Oct 11 17:31:29 2016 +0200

    Fixed a memory leak in function GL_RenderReadPixels

commit fed9b60492dad28c31d2e350cf46ff272620bd9d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 23:26:26 2016 -0700

    Use SDL C runtime strlen()

commit ca42373fb5961fef5b6cf333d5128f8627bda4b0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 10 15:29:18 2016 -0400

    alsa: more tapdancing to enumerate physical hardware devices.
    
    Apparently some systems see "hw:", some see "default:" and some see
    "sysdefault:" (and maybe others!). My workstation sees both "hw:" and
    "sysdefault:" ...
    
    Try to find a prefix we like and prioritize the prefixes we (think) we want
    most. If everything else fails, if there's a "default" (not a prefix) device
    name, list that by itself so the user gets _something_ here.
    
    If we can't find a prefix we like _and_ there's no "default" device, report
    no hardware found at all.

commit 9db5e9aae9dd147ae822576ef4208ecc803ee2d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 02:58:29 2016 -0700

    Made #if defined(X) consistent

commit 6dedbc4309087c80b9b61b99d214b78c2631593c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 10 02:58:12 2016 -0700

    Make sure we have iconv.h before building with it

commit 367a6a3ddfb9065c089aefaa959a76a07b3b92a5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 9 20:31:32 2016 +0200

    Fixed compiling of three test programs with C++.

commit f9b15a94ecd471e96c0f3ba89c829424103ca0ab
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 9 20:31:04 2016 +0200

    Linux: Fixed mixed up scancodes.

commit f662f680668d1abee7b33120e055915722816342
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 9 20:30:49 2016 +0200

    iOS: Updated demo README.

commit 42f85aa29e11d9c2c1cf424fd40913415e046c3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 8 11:30:07 2016 -0700

    Fixed building and using fcitx IME support on Linux

commit 27d4f0992907ddfc9d27a1380c1e76fd590d3fd6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 23:40:44 2016 -0700

    Implemented SDL_GetHintBoolean() to make it easier to check boolean hints

commit 92d700f19942ed931de097c558071e18f922a5f6
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Fri Sep 30 09:26:57 2016 -0400

    SDL_HINT_WINDOWS_DISABLE_THREAD_NAMING

commit 52ae92eaf7c5536c77edf56d2fb731b9c231e05b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 19:08:22 2016 -0700

    ALSA_snd_pcm_drop() can hang on some systems (Steam Link) so don't use that when shutting down the ALSA audio driver.

commit 808c75d1cfefd2266b292d08597da92269b9929c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:57:40 2016 -0700

    Fixed bug 2824 - Add Fcitx Input Method Support
    
    Weitian Leung
    
    Just moved ibus direct call to SDL_IME_* related functions, and adds fcitx IME support (uses DBus, too),
    enable with env: SDL_IM_MODULE=fcitx (ibus still the default one)

commit 89abbbfe9ed2b19b018515cd9c9aadadaddf1a82
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:24:34 2016 -0700

    Fixed bug 3438 - SDL_GameControllerEventWatcher: Log on event with value >= k_nMaxReverseEntries

commit 752931d85ee7f10d51db5e52c146cbbe0cb29f6e
Author: Alex Baines <alex@abaines.me.uk>
Date:   Mon Oct 3 11:35:34 2016 +0100

    Improve X11 key handling when XKB isn't available + add xvnc scancodes.
    
    Based on a patch by Bill Lash (see bug 3094).

commit bb3cb4f42ae7870dcee2df4e0c50b59e178d244a
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Mon Apr 4 19:25:24 2016 -0700

    overscan (feature for SDL_RenderSetLogicalSize): Fix to ignore overscan hint when using the Direct3D 9 backend.
    D39 does not support negative viewport values which the current implementation relies on.
    D3D11 does support negative viewport values so that will continue working.
    Refer to Bug 2799.

commit cceca2ac99dce6bb4123c41b98ad17900f073f01
Author: Bill Lash <william.lash@gmail.com>
Date:   Sat Aug 15 00:25:52 2015 -0500

    Additional patch to correct the number key assignments, and add assignments for keys that were missed

commit eea76fc199f8c9022d77e9555dcbeff11aefeb7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:11:03 2016 -0700

    Fixed bug 3063 - Wayland: SDL resizes EGL surface to 0x0.
    
    x414e54
    
    Wayland will sometimes send empty resize events (0 width and 0 height) to the client. I have not worked out the exact conditions a client would receive these but I can assume it might be if the window is offscreen or not mapped yet.
    
    This causes issues with some SDL clients as they receive the 0x0 event and unexpected resize event or might not request to resize back to the correct size.
    
    As per the wl_shell Wayland spec configure events are only a suggestion and the client is free to ignore or pick a different size (this is how min/max and fixed aspect ratio is supped to be implemented).
    
    A patch is attached but is just the first iteration and I will fix any issues such as checking for FULLSCREEN/MAXIMIZED or RESIZABLE flags unless someone else fixes this first.
    
    I have update to take into account non resizable and fullscreen windows. Also adding in maximize/restore and title functions for Wayland.

commit 62b9e1c79784084355335cd71a9b95d7d08316bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:09:09 2016 -0700

    Fixed bug 3061 - Selecting the dummy video driver on Mac OS X results in an error
    
    Darren Kulp
    
    The dummy video driver is not available on Mac OS X if SDL_VIDEO_OPENGL is set at library compilation time.
    
    In src/video/SDL_video.c, there is a compile-time check in SDL_CreateWindow() for (SDL_VIDEO_OPENGL && __MACOSX__). When it succeeds, SDL_WINDOW_OPENGL is always requested. Since the dummy video driver does not supply an OpenGL implementation, the error "No OpenGL support in video driver" is supplied to the user, and SDL_CreateWindow() is exited early.

commit abefe785071181678ef3ae6de901977d25447871
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:03:08 2016 -0700

    Fixed bug 3043 - fix alsa configury and cmake checks
    
    Ozkan Sezer
    
    SDL's alsa uses snd_pcm_recover() which has been available only since alsa-lib-1.0.11.

commit 9c483655240c36daf1a10359bb801a8a9e3c9bd6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 18:00:30 2016 -0700

    Fixed bug 3029 - software renderer cuts off edges when rotate-blitting with a multiple of 90 degrees
    
    Adam M.
    
    When doing a rotated texture copy with the software renderer, where the angle is a multiple of 90 degrees, one or two edges of the image get cut off. This is because of the following line in sw_rotate.c:
        if ((unsigned)dx < (unsigned)sw && (unsigned)dy < (unsigned)sh) {
    which is effectively saying:
        if (dx >= 0 && dx < src->w-1 && dy >= 0 && dy < src->h-1) {
    
    As a result, it doesn't process pixels in the right column or bottom row of the source image (except when they're accessed as part of the bilinear filtering for nearby pixels). This causes it to look like the edges are cut off, and it's especially obvious with an exact multiple of 90 degrees.

commit 5c2320f113402b7450e01e2093286663adf27ecc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:58:02 2016 -0700

    Fixed bug 3022 - SDL_UnlockMutex(SDL_EventQ.lock) in SDL_PeepEvents can cause error when lock is null

commit d3cbc664d565773ee55243447842f6760ee28c8c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:49:33 2016 -0700

    Fixed bug 2983 - Update Android.readme to include Tegra Graphics Debugger compatibility tip
    
    Michael Labb?
    
    NVidia has released some pretty nice Tegra profiling tools for their Android devices. The NVidia Tegra Graphics Debugger works by providing an interposer library that intercepts ES2 and EGL calls.  You must link against these libraries.
    
    Unfortunately, this quietly fails with SDL2 because libEGL and libGLES2 are dynamically loaded with dlopen().
    
    NVidia offers a secondary approach to using the Tegra Graphics Debugger: root your device and install a global interposer library.  Almost no devs will try this first if they don?t have a rooted device.
    
    I propose an update to the Android readme that explains why the static linking approach recommended by NVidia doesn?t work.

commit 104c9541d9510c2bb2b9aa478e90c54e6230dd8d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:46:58 2016 -0700

    Converted README documentation to DOS text format

commit bf076c22adc9b6f9b4dd82e0e51d70779b7ccd4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:30:21 2016 -0700

    Fixed bug 2957 - De-reference rz_src without NULL check in SDLgfx_rotateSurface function
    
    Nitz
    
    In function SDLgfx_rotateSurface:
    
    rz_dst =
                SDL_CreateRGBSurface(SDL_SWSURFACE, dstwidth, dstheight + GUARD_ROWS,
                rz_src->format->Rmask, rz_src->format->Gmask,
                rz_src->format->Bmask, rz_src->format->Amask);
    
    Here rz_src get De-referenced without NULL check, which is risky.

commit 8b64a78da989e4efa45697a435b76828a820df0e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:26:25 2016 -0700

    Fixed bug 2956 - De-reference videodata without NULL check in X11_DispatchEvent(_THIS) function

commit 93ff12ce8344cfdd81c5cb6fcc1e52432b6dd2d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:23:20 2016 -0700

    Fixed bug 2952 - SDL_MixAudioFormat does not support audio format AUDIO_U16LSB/AUDIO_U16MSB
    
    Simon Sandstr?m
    
    As stated in Summary. The switch statement will execute the default case and set a SDL error message: "SDL_MixAudio(): unknown audio format".
    
    There are atleast two more problems here:
    
    1. SDL_MixAudioFormat does not notify the user that an error has occured and that a SDL error message was set. It took me awhile to understand why I couldn't mix down the volume on my AUDIO_U16LSB formatted audio stream.. until I started digging in the SDL source code.
    
    2. The error message is incorrect, it should read: "SDL_MixAudioFormat(): unknown audio format".

commit d2676c2985359dd7e9240b14e3e1f13079f781d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 17:04:58 2016 -0700

    Fixed bug 2924 - SDL_CreateRGBSurface[From] versions that take SDL_PIXELFORMAT enum
    
    Daniel Gibson
    
    Currently, SDL_CreateRGBSurface() and SDL_CreateRGBSurfaceFrom() take Uint32 masks for RGBA to "describe" the Pixelformat of the surface.
    Internally those value are only used to map to one of the SDL_PIXELFORMAT_* enum values that are used for further processing.
    
    I think it would be both handy and more efficient to be able to specify SDL_PIXELFORMAT_* yourself without using SDL_PixelFormatEnumToMasks() to create masks first, so I implemented functions that do that:
    SDL_CreateRGBSurfaceWithFormat() and SDL_CreateRGBSurfaceWithFormatFrom() which are like the versions without "WithFormat" but instead of taking 4 Uint32s for R/G/B/A masks, they take one for a SDL_PIXELFORMAT_* enum value.
    
    Together with https://bugzilla.libsdl.org/show_bug.cgi?id=2923 creating a SDL_Surface* from RGBA data (e.g. from stb_image)  is as easy as
      surf = SDL_SDL_CreateRGBSurfaceWithFormat(0, w, h, bppToUse*8, SDL_PIXELFORMAT_RGBA32);

commit 73f2c5413d689c0b8cc958f90e55d7c3566d6684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 16:44:42 2016 -0700

    Fixed bug 2885 - SDL_stdinc.h doesn't need to include iconv.h
    
    Ryan C. Gordon
    
    We still include iconv.h in SDL_stdinc.h, probably because this header might have referenced the native iconv functions and types directly. Since these are hidden behind a stable ABI now and never just a #define for the system iconv, we shouldn't need this header included from a public SDL header anymore, slowing down external apps compiles and pulling tons of stuff into the namespace.

commit 7d2108ce819c82e516199994302b6e3814f02af4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 7 19:39:43 2016 -0400

    audio: Backed out the audio-thread detaching changes.
    
    It added a ton of complexity. A simpler solution might arise at some
    point though.

commit 24df68ea33fd7b9ffaadf102a0c758c2b4c7528b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 16:32:58 2016 -0700

    Fixed bug 2833 - Access Violation on SDL_PollEvent after init, delay and quit of joystick subsystem
    
    Jan Klass
    
    Not sure if this is limited to the joystick subsystem,
    but I created a minimal program for reproducibility,
    which is attached.
    
    The issue occurs with my gamepad Razer Onza (an xbox-style gamepad) plugged in.
    On initialization, the gamepad is being recognized.
    After quitting the subsystem, the poll will receive the joystick added event,
    which it instantly handles itself, calling SDL_SYS_JoystickDetect again,
    which this time calls IDirectInput8_EnumDevices with dinput = NULL (after it was released on quit).
    This seems to lead to an access violation within said function, which I have no source for.

commit dac3892816a544b1f5130d3ec09368e3f2b99698
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 16:19:50 2016 -0700

    Fixed bug 2832 - Inverted arrow-key navigation in MessageBox
    
    Jan Hellwig
    
    On Windows, you are able to navigate between the buttons on a MessageBox that was created using SDL_ShowMessageBox using the arrow keys. However, if you press the left arrow key, the selection jumps to the button on the right of the currently selected one (and vice versa).
    
    This can be fixed by reversing the order in which the buttons are added to the dialog.
    
    The attached patch files fixes this problem. However the first press of an arrow key leads to the selection of the leftmost or rightmost button on the MessageBox, not to the selection of the button left/right of the one that is selected by default.

commit 8bc5c57d2e7a4181343c13f175c3faffc5bbdb50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 16:13:37 2016 -0700

    Fixed recentering triggers when the application doesn't have focus

commit 72164985b0ea6428c98308dfd108865762ac79a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 16:04:15 2016 -0700

    Fixed bug 2823 - Release events for triggers receive wrong centered value
    
    Ryochan7
    
    I have been using SDL 2 for a little project that I have been developing for a while. My project is called antimicro and it takes gamepad input and then translates gamepad events into keyboard and mouse events. SDL is used to read the input from an XInput gamepad and it works great for the most part. However, there is one glaring problem that I have encountered.
    
    When a device is unplugged and SDL sends the centered value release events for all axes, buttons, and hats, SDL does not use the proper centered value for the triggers. It pushes an SDL_JOYAXISMOTION event onto the queue with a value of 0 for all axes. That value is converted to around 16,000 for a Game Controller. That value is incorrect for triggers and, in my program, that causes any bindings that are assigned to the triggers to get activated. With most profiles, that will typically mean that a mouse right click and left click will be activated before the device is finally seen as removed and then those bindings are released by antimicro.

commit f674f2311ac22f817f18409bbf685185cec95ac8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 15:21:19 2016 -0700

    Fixed bug 2808 - Fix SDL reporting wrong window size on resume
    
    Jonas Kulla
    
    At startup time, the single android window is assigned a "windowed" (window->windowed.{w,h}) size based on the current orientation of the mobile device; this size is never updated throughout the lifetime of the app.
    
    This becomes problematic when the app is paused and then resumed in an orientation that it did not start up in. Eventually, 'SDL_OnWindowRestored()' is called, which calls 'SDL_UpdateFullscreenMode()'. This function is very problematic because it is written with a desktop monitor in mind: it tries to find a matching display mode for the windowed size, doesn't find any, and finally applies the windowed size as the fullscreen one. In the end, the windowed size is reported in a RESIZED event, which doesn't correspond to the actual surface size.
    
    To see this in action: Start an orientation aware SDL app in eg. portrait mode, suspend the app, put the device into landscape orientation and resume the app. It will erroneously render in portrait mode (until the device is rotated again).

commit 5c1ab40302f0689a3a26e0bc5dab28669de8ce20
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 15:08:37 2016 -0700

    Applied Ubuntu patch bug_822210_fix_sdl2-config.cmake_whitespace.patch

commit f6a280ab7f24cb40f41f78b71d1968a26bdcb2ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 7 15:13:46 2016 -0400

    audio: Don't trust audio drivers to drain pending audio.
    
    This tends to be a frequent spot where drivers hang, and the waits were
    often unreliable in any case.
    
    Instead, our audio thread now alerts the driver that we're done streaming audio
    (which currently XAudio2 uses to alert the system not to warn about the
    impending underflow) and then SDL_Delay()'s for a duration that's reasonable
    to drain the DMA buffers before closing the device.

commit 551cdc8dec29d1aa09cc0d12e5945970ecc34ad2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 7 14:42:24 2016 -0400

    audio: better way to calculate buffer drain wait times.

commit 76f48acf6378297f22dd62163a84a01f6a55a2a4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 7 14:35:25 2016 -0400

    audio: threading and device hang improvements.
    
    This tries to make SDL robust against device drivers that have hung up,
    apps don't freeze in catastrophic (but not necessarily uncommon) conditions.
    
    Now we detach the audio thread and let it clean up and don't care if it
    never actually runs to completion.

commit 3b0c79363ddb16c88c0b9f4ec1a97f648f2c610c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 7 11:18:55 2016 -0700

    Some systems include both "default:" and "hw:" for the same usb device

commit 8e1994614cff9b532446a3e3968d9c216254cdba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 6 06:08:16 2016 -0700

    fix for finding ALSA hotplug devices on Steam Link
    
    James Zipperer
    
    The device names show up as "default:", not "hw:"

commit 9257b72d53559229ce73607b26a7dc313cdd79ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 5 00:12:16 2016 -0700

    Backed out a very unsafe change that was trying to prevent audio hang at quit.
    
    Ryan and I have ideas on a better way to handle this.

commit bac61096d81bee4d832c91476f6480bf9e962f18
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 06:48:07 2016 -0700

    ensure SDL_AUDIODEVICEREMOVED gets sent when hotplug removes a device
    
    James Zipperer
    
    The problem I was seeing was that the the ALSA hotplug thread would call SDL_RemoveAudioDevice, but my application code was not seeing an SDL_AUDIODEVICEREMOVED event to go along with it.   To fix it, I added some code into SDL_RemoveAudioDevice to call SDL_OpenedAudioDeviceDisconnected on the corresponding open audio device.  There didn't appear to be a way to cross reference the handle that SDL_RemoveAudioDevice gets and the SDL_AudioDevice pointer that SDL_OpenedAudioDeviceDisconnected needs, so I ended up adding a void *handle field to struct SDL_AudioDevice so that I could do the cross reference.
    
    Is there some other way beside adding a void *handle field to the struct to get the proper information for SDL_OpenedAudioDeviceDisconnected?

commit 69cf1703567d1915059a8746376bd1829a7686b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 06:46:46 2016 -0700

    fix deadlock on close device
    
    James Zipperer
    
    snd_pcm_drain doesn't always drain when you unplug a usb device.  Use snd_pcm_drop instead

commit 2558c9c836773f2d54958a286e1c42c125521592
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 06:45:28 2016 -0700

    fix audio deadlock
    
    James Zipperer
    
    Close the audio device before waiting for the audio thread to complete, which fixes a situation where the audio thread never completes
    
    Add an additional check in the audio thread to see if the device is enabled and bail out if the device is no longer enabled

commit 56c88c4531a59bdd1f612bbfab00f54b85415ad9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 04:08:02 2016 -0700

    Modified the custom cursor test to be able to load BMP files as cursors

commit a21a227a87556158926277cd23c53c4100334ce7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 03:50:28 2016 -0700

    Fixed bug 3021 - HapticOpenFromJoystick() problems
    
    Joe Thompson
    
    With Direct Input device (MOMO Steering Wheel w/FF)
    with SDL 2.0.3,
    SDL_HapticOpenFromJoystick() would fail. (Can't set exclusive mode)
    Now with 2.0.4 rc1,
    SDL_HapticOpenFromJoystick() succeeds but the the returned SDL_Haptic* cannot be used. Calls to SDL_HapticNewEffect() fail with "Haptic error Unable to create effect"
    
    If SDL_HapticOpen() is used instead of HapticOpenFromJoystick(), the device is usable. Calls to HapticNewEffect() succeed with the exact same parameters as the previous failing call.
    
    I have attached a proposed patch for this issue.
    
    When using SDL_HapticOpenFromJoystick(), the original code did not (re)enumerate the axes. This returned a new haptic device with 0 axes. Later, when a new effect is created, SDL_SYS_SetDirection() would set the flags to include DIEFF_SPHERICAL, regardless of what the caller actually set. (see Line 566 in SDL_dinputhaptic.c). This would cause the SDL_HapticNewEffect() to fail (or interpret the coordinates incorreclty.)
    
    The patch moves the call to IDirectInputDevice8_EnumObjects() outside of the if() block so that the axes are (re)enumerated for the new haptic device.
    
    Note: For steering wheels it is common for the joystick to have multiple axes (ie steering, throttle, brake), but the haptic portion of the joystick usually only applies to steering.

commit 1051dceb143b80f46ba304441b410805a90029da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 03:42:42 2016 -0700

    Fixed compiler warning about missing field initializers

commit 5d5127c4a08a0d6691609b9b1301293363473c87
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 03:38:39 2016 -0700

    Fixed compiler warning - this should have been a const char pointer

commit 46f44f66f877f8182bc56614fa06f0f2411ea5e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 4 14:25:31 2016 -0400

    Fixed potential buffer overflow in SDL_vsnprintf() (thanks, Taylor!).
    
    Fixes Bugzilla #3441.
    
    "When using internal SDL_vsnprintf(), and source string length is greater
    than destination, the final NULL char will be written beyond destination size.
    
    Primary issue that is SDL_strlcpy returns length of source string
    (SDL_PrintString()), not how much is written to destination. The destination
    ptr is then incremented by this length before the sanity check is done.
    Destination string is properly terminated, but an extra NULL char will be
    written beyond destination buffer length.
    
    Patch used internally is attached which fixes primary issue with SDL_strlcpy()
    in SDL_PrintString() and adjusts sanity checks to increment destination ptr
    safely."

commit 351adf156a1c8a2ef3f618bd20aa5b23039c14a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 4 02:11:52 2016 -0700

    Fixed bug 2157 - Caps Lock key produces key down & key up events while key is still pressed.
    
    Tim McDaniel
    
    Using checkkeys test app:
    * Press and hold Caps Lock key.
    * checkkeys reports a CapsLock key pressed event and a CapsLock key released event.
    * Release Caps Lock key.
    * checkkeys reports no further events.
    
    This patch fixes OSX Caps Lock up/down event detection by installing a HID callback.

commit 34eebfba9b02a1bf566bbf3de67cb0af8b7d333e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 3 03:42:10 2016 -0700

    Fixed setting the version info in the shared library when using CMake
    
    Ray Molenkamp
    
    When building sdl as shared lib, the version info is lacking in the final binary.
    
    CMake gathers the right resource files into ${VERSION_SOURCES} but then doesn't do anything with them.

commit 05ca784e5b4c5594b08f169015fd1f1e3ee755a8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 2 22:32:50 2016 +0200

    Android: Fixed compile error.

commit 67bf5cac1a299975f43bc887652b8afb434b002d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 2 22:32:35 2016 +0200

    Fixed wrong pixel format if reading pixels from OpenGL renderer.

commit f8aa4291ca56a9238f67216a604c759e9ff2dc4c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 2 22:32:18 2016 +0200

    Added brackets to function names in header comments so that doxygen links them.

commit 969c316797ee7ce05e6c815f46e79ab359021def
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 1 18:49:15 2016 -0400

    Fixed MinGW-w64 build warnings in SDL_render_d3d11.c
    
    Some of these were legitimate bugs, including:
    - a malformed SDL_snprintf call
    - a probably-invalid enum comparison

commit 702d9348ac22796fa424c86555b03bdfabba96a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 15:23:43 2016 -0700

    Added SDL prefix to local IID constants

commit 3c8a26984de7d49388c9e0f8fa5729754c410feb
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 1 18:10:50 2016 -0400

    WinRT: build fix in joystick code

commit 7851eb083657f9c405073663978bbcf8bb668826
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 1 18:10:15 2016 -0400

    Fixed bug 3437 - build error for WinRT/UWP .dlls, caused by fix for SDL bug 3336
    
    This fix has been tested with both MinGW-w64, and Visual C++ 2012-2015.

commit 8500de8fa5c9e2379c1826732b5637c7c0baa27f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 1 19:16:46 2016 -0300

    Fix tabs -> spaces

commit f0539aa25eebfa90f7c473e6128c37eb935df83a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 1 19:12:58 2016 -0300

    Fix bug 3436 - SDL_RaiseWindow not working on windows

commit 4e6f219941a54335555b2ce4945e79c62210db50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 15:14:48 2016 -0700

    Fixed bug 3065 - Screen is flickering during closing on-screen keyboard on Android
    
    Deve
    
    When I'm trying to close on-screen keyboard using SDL_StopTextInput() function by touching the screen (SDL_FINGERUP or SDL_FINGERDOWN event), the screen is flickering. It is white for a while.
    
    Note that it usually works without problems when I use phone's "back" button. I noticed flickering occasionally too, but not that often.
    
    Philipp Wiesemann
    
    The attached patch maybe fixes the flicker but not the actual fault causing it.

commit c9be93c65b55e10a04924dc1f40b3a1885e285ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 15:11:18 2016 -0700

    Fixed bug 3078 - cmake: fix sdl2.m4 install location on cross hosts
    
    Timo Gurr
    
    On cross hosts running autotools for SDL2_gfx-1.0.1 fails to find sdl2.m4:
    
    eautoreconf: running in /var/tmp/paludis/build/media-libs-SDL2_gfx-1.0.1/work/SDL2_gfx-1.0.1 ...
    aclocal
    aclocal-1.13: warning: autoconf input should be named 'configure.ac', not 'configure.in'
    configure.in:128: warning: macro 'AM_PATH_SDL2' not found in library
    libtoolize --copy --force --automake
    aclocal
    aclocal-1.13: warning: autoconf input should be named 'configure.ac', not 'configure.in'
    configure.in:128: warning: macro 'AM_PATH_SDL2' not found in library
    autoconf
    configure.in:128: error: possibly undefined macro: AM_PATH_SDL2
          If this token and others are legitimate, please use m4_pattern_allow.
          See the Autoconf documentation.
     * Failed Running autoconf !
    
    SDL2 installs it to /usr/x86_64-pc-linux-gnu/share/aclocal on cross hosts, attached patch makes use of CMAKE_INSTALL_FULL_DATAROOTDIR to support correctly installing to the arch independent location /usr/share/aclocal.

commit ac7d1174756da37da39117e618d95c56a11c58df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 15:04:13 2016 -0700

    Fixed build on older Raspberry Pi environments

commit a0d3e0d64a0cd0b8f433ff2bb8d08f153f345468
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:56:53 2016 -0700

    Fixed warning and code style in SDL_evdev.c

commit d2c8c5094c2cb2256c57e636e5eb95030ea66027
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:54:05 2016 -0700

    Fixed build for X11

commit 7b34f47e197c2350c6da454c7706f519c5453d5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:50:22 2016 -0700

    Fixed windows build

commit fa0f41763154e100915e74b50a9d74a2f7bc543d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:48:18 2016 -0700

    Fixed build warnings and errors

commit fae5d0eab37ed9129b72a4976e25d0311127de0c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:34:52 2016 -0700

    Fixed bug 3107 OSX - Process events in SDLApplication to fix integration with CEF.
    
    John Wordsworth
    
    While attempting to integrate CEF (Browser) into an SDL application, we noticed that there were problems on OS X where approximately 50% of the input events were essentially being lost - even when we were using off-screen rendering in CEF and passing through input events manually.
    
    It appears that this problem has been around for a while (see: http://www.magpcss.org/ceforum/viewtopic.php?f=6&t=11141).
    
    Please consider the following patch that fixes this issue. Instead of processing events directly after calling [NSApp nextEventMatchingMask:...] we now pass these events down to NSApp, for processing by an overloaded sendEvent: method. Chromium also forwards events to NSApp in the same way, which means we don't miss events, even if they were originally dequeued by CEF.

commit c8cfccc2f1610479fca801b666db26cfbf977668
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:31:00 2016 -0700

    Fixed bug 3116 - renderer->hidden in SDL_RenderCopy(Ex)
    
    Daniel
    
    Seems like check of the visibility of renderer (renderer->hidden) is missing in SDL_RenderCopyEx.
    
    In SDL_RenderCopy it should be done much earlier (after checking support for RenderCopyEx, line 1750).

commit 359f59aef558076fb5519cfec6a7cd64339ee260
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:22:10 2016 -0700

    Fixed bug 3130 - Spacebar not responding
    
    Alex Baines
    
    Make sure group is valid before passing it to XkbKeysymToKeycode.

commit 555e6c96863d62f5e94a0a52287d02e8d8cc850c
Author: Magnus Bjerke Vik <mbvett@gmail.com>
Date:   Sat Oct 1 14:18:29 2016 -0700

    Fix SDL not resizing window when Android screen resolution changes

commit 0250eb3c4f5cd2b353d7496da37cee620a69f3bf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:16:04 2016 -0700

    Fixed bug 3134 - CalculateXRandRRefreshRate() returns incorrect refresh rate due to floating point truncation.
    
    Michael
    
    In SDL_x11modes.c the CalculateXRandRRefreshRate() function performs integer math on values that may return fractional results. This causes a value that would be calculated as 59.99972... to be returned as 59. In Linux the xrandr command returns 60Hz for this particular display mode yet SDL returns 59Hz.
    
    I suggest this function be updated to correctly round the result of the calculation instead of truncating the result.

commit 7543092add88c893eff465e054cc8dcb2cb59030
Author: Alex Baines <alex@abaines.me.uk>
Date:   Wed Sep 30 04:16:09 2015 +0100

    Call setlocale + XSetModifiers before XOpenIM, Work around ibus+xim duplicate events.

commit 64180d226146013845f9280dd054ff82dfd68ed4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 14:05:35 2016 -0700

    Fixed bug 3138 - c_dfDIJoystick2 already defined in dinput8.lib
    
    Machiel van Hooren
    
    In SDL_dxjoystick.c line 349 there is a constant c_dfDIJoystick2.
    However, this constant is aparently also defined in dinput8.lib.
    
    I encountered a linking error when statically linking to SDL:
    SDL2_static.lib(SDL_dxjoystick.obj) : error LNK2005: _c_dfDIJoystick2 already defined in dinput8.lib
    My application is also linking to dinput8.lib because we rolled our own joystick input and are not using the joystick functionality from SDL.

commit da6197c5a8f89cc3927c3459887046186456f491
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:59:59 2016 -0700

    Fixed 3149 - Mouse Pointer Raspberry Pi corrupt when moving over screen edges
    
    Patrick Gutlich
    
    The mouse cursor gets corrupted when the mouse moves over the screen edges (right and bottom) a weird type of scaling seems to occur and you end up with a blank square.

commit 1a31bbe2c8c984b2665b1264037faf1038ca9a78
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:51:56 2016 -0700

    Fixed bug 3157 - Rudimentary touchscreen support in SDL_evdev (supports Raspberry Pi)
    
    tvc
    
    I've spent the last few days implementing touchscreen support in core/linux/SDL_evdev.c. It's fairly rudimentary at the moment, as can be seen from the multiple TODO's and FIXME's littered throughout, but I'm mainly submitting this patch for review. I've tested this patch on my Raspberry Pi 2 with the official touchscreen and it works fantastically, reporting all 10 multitouch points. I'm happy to work on this further, the evdev logic also needs a bit of a cleanup I think (I may have included a few changes). But if it's good enough in its current state to be committed then I'm sure there'd be plenty of people pleased, as currently the only other framework/library that supports touchscreens on the Raspberry Pi is Kivy.

commit 473051f6bbc89872b1e810baece231ec87bd6220
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:40:01 2016 -0700

    Fixed bug 3159 - SDL_blit_slow with BLENDING does not work
    
    Fritzor
    
    Source Suface is ABGR and Destination Surface is ABGR. We use software blending. In the Switch-Case statement for SDL_COPY_BLEND (Line 126) the alpha-channel is not calculated like in every SDL_blit_auto - function. So if the destination Surface has alpha - channel of zero the resulting surface has zero as well.
    Add:  ?dstA = srcA + ((255 - srcA) * dstA) / 255;? to code and everything is okay.

commit 13dd2ccda82909adcc7a1d91644a241b75e5077a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:38:30 2016 -0700

    Fixed bug 3161 - SDL_WINDOWEVENT_EXPOSED event possible queue overflow
    
    Marcel Bakker
    
    Observed when resizing or moving a window in Windows 7.
    
    Depending on how you resize/move your window
    , you may receive none or a lot of SDL_WINDOWEVENT_EXPOSED events
    , at the moment you release the mouse button.
    
    Maybe add this event to an already existing list of overflow candidates ?

commit 614cb35a4dfd730fb6a2bb8f88e002c8ed795440
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:35:36 2016 -0700

    Fixed bug 3165 - define numbers don't match types in Swift
    
    C.W. Betts
    
    Swift is very strict with types, so much that those of different signedness/size must be cast. Most of the defines are imported as 32-bit signed integers, while the corresponding field in a struct is a 32-bit unsigned integer. Appending a "u" would cause the defined types to be imported as 32-bit unsigned integers.

commit ecea3c4a2472070aaa8e1657ba5ea84e7a802e3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:33:32 2016 -0700

    Fixed bug 3169 - GLES2_CreateRenderer does not check SDL_GL_GetAttribute result, causing use of uninitialized data
    
    Yann Dirson
    
    When attempting to force use of opengles2 renderer with:
    
        int wanted_renderer = -1;
         for (int i = 0; i < numrenderers; i++) {
            SDL_RendererInfo renderer_info;
            if (SDL_GetRenderDriverInfo(i, &renderer_info) != 0) {
                SDL_LogError(SDL_LOG_CATEGORY_APPLICATION, "Couldn't get renderer driver info: %s\n",
                             SDL_GetError());
                quit(2);
            }
            std::cerr << "Renderer " << i << " '" << renderer_info.name << "': flags=0x"
                      << std::hex << renderer_info.flags << std::dec
                      << ", " << renderer_info.num_texture_formats << " texture formats, max="
                      << renderer_info.max_texture_width << "x"
                      << renderer_info.max_texture_height << "\n";
            if (!strcmp(renderer_info.name, "opengles2")) {
                std::cerr << " selecting!\n";
                wanted_renderer = i;
            }
         }
    
        renderer = SDL_CreateRenderer(window, wanted_renderer, 0);
    
    ... on banana pi or raspberry pi I get an error like the following (the actual
    context profile value varies, being used uninitialized)
    
     ERROR: Couldn't create renderer: Unknown OpenGL context profile 900
    
    With this patch I get the following, which should help more pointing to a real problem:
    
     ERROR: Couldn't create renderer: Failed getting OpenGL glGetString entry point
    
    I pushed a patch (based on master branch of unofficial git mirror):
    
    https://github.com/O-Computers/SDL/commit/550389c89f4e73a0a5294f95b9f6e6c18ba48509
    
    
    I'll be opening a different bug for the underlying issue.

commit 67901f537c928b17c2855d757409795d9a9d5d6b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:29:30 2016 -0700

    Fixed bug 3174 - SDL_SetRenderTarget clip rect
    
    Marcel Bakker
    
    In SDL_SetRenderTarget(),
    i think the intended behavior was to clear the clip rect when a new target is set.

commit f4b26cd8e087999ca8b63b23002a67ae736788a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:16:31 2016 -0700

    Removed carriage returns from previous patch

commit 7b0ccd32e588feff14d62b6f8597b4dfd8ccc0a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:14:51 2016 -0700

    Fixed bug 3405 - Wrong default icon size on windows systems
    
    Evgeny Vrublevsky
    
    Original code in the video/windows/SDL_windowsevents.c registers obsolete WNDCLASS (not WNDCLASSEX). As the result only one icon size is used as the small and normal icons. Also original code doesn't specify required size of an icon. As the result when 256x256 icon is available, the program uses it as a default icon, and it looks ugly.
    
    We have to use WNDCLASSEX and load icons with proper sizes which we can get using GetSystemMetrics.
    
    Better idea. We could use the first icon from resources, like the Explorer does. Patch is included. It also correctly loads large and small icons, so it will look nice everywhere.

commit 86b4319d2181a8ba1ce9818792e90de6bd5a36a7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:07:36 2016 -0700

    Fixed bug 3422 - OpenGL ES 1.1 renderer: SDL_UpdateTexture breaks later function calls (missing glDisable)
    
    ny00
    
    Using the OpenGL ES 1.1 renderer, after updating a texture with SDL_UpdateTexture (or SDL_UnlockTexture), a following call to SDL_RenderFillRect draws a rectangle with the wrong color (which appears to be the same as the texture's top-left pixel).
    
    Comparing SDL_render_gles.c:GLES_UpdateTexture to SDL_render_gl.c:GL_UpdateTexture, a missing call to glDisable appears to be the cause. After adding it back, the bug is resolved.

commit 571f4ce8a6908f6777bb0fcfdf7b5f95303753a7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Oct 1 17:05:29 2016 -0300

    Fix CMake setting an incorrect video backend on iOS

commit c2e2565144e35fb9da630dde4cd2c9a1d18720ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 13:02:20 2016 -0700

    Fixed bug 3424 - SDL_GameController: Increase k_nMaxReverseEntries
    
    ny00
    
    On Android, the keycodes KEYCODE_BUTTON_1..16 (actual values 188-203) are translated to SDL_Joystick buttons no. 20-35. These are currently ignored in SDL_gamecontroller.c.
    
    The attached patch fixes this, by increasing k_nMaxReverseEntries from 20 to another arbitrary bound of 48.
    
    Side-note: Maybe some log should be emitted in case of going over any such bound?

commit 8d8e490dc38105b5a2b9ec3338e8a43b18a556c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:56:28 2016 -0700

    Fixed bug 3262 - Premake scripts are not compatible with "Genie" (premake fork)
    
    jfverdon
    
    Genie (https://github.com/bkaradzic/genie) is a well known premake fork which uses internally Lua 5.3 (as opposed to version 5.1 used in premake4).
    As there is some Lua's API breaks in Lua 5.2, SDL premake scripts do not works with premake.
    
    The two incompatibilities I noticed were:
    * unhandle modes "rt" and "wt" for io.open. Has io.open opens files in text mode by default, the "t" flag is not needed (this flag is not supported in Genie).
    * os.execute signature change, the return value is a tuple from Lua 5.2, before it was just the called program exit code.

commit 671f2a491423677c8616676cf4f9edf8e80cb8d2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:54:48 2016 -0700

    Fixed bug 3268 - CMAKE: ios fixes
    
    Martin Gerhardy
    
    ios is not properly handled in the cmake file.
    
    this patch is a start to do so - it properly builds for me with it.

commit 6a9ee8fa4be9b35d0c1e1d8b77f26a68fb10bf58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:52:55 2016 -0700

    Fixed bug 3276 - build-scripts/showrev.sh prints the tip, which isn't useful if you're on a different -# branch, or just not sync'd to the tip.
    
    winterknight
    
    The showrev.sh script shows the tip, instead of the current hg revision. This can be mismatched if one were to use hg update -r ??? to revert to a previous revision.
    
    Patch uses parents instead of tip, which will show the revision that the source is compiled with, instead of the latest revision that the user who is compiling has downloaded.

commit bb24662c79c546c832b6874bd95afb879f50b8ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:48:08 2016 -0700

    Fixed bug 3301 - IBus support on Linux with CMake
    
    
    joe.gsoc16
    
    I recently looked into Unicode support in SDL2 and realized that
    SDL_TEXTEDITING doesn't get triggered at all (Japanese IME).
    According to others on IRC it works fine on Windows/Mac but not
    for me on (arch)Linux.
    When compiling SDL with autotools, IBus support is enabled by
    default but not so with CMake.
    I never used CMake before but got it working and also included
    that pkg-config determines flags for dbus (FIXME in CMakeLists).

commit 765d8bea01f0fd432b65e491528303cecf5616c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:46:36 2016 -0700

    Fixed bug 3305 - Fixed TextInput status when the keyboard was dismissed with the dismiss key on the iPad
    
    Diego
    
    The keyboard on iPads has a dismiss button that hides the keyboard. When the keyboard was hidden using that button, instead of the return key, SDL was still reporting IsTextInputActive as true. This patch adds an extra SDL_StopTextInput when iOS reports the keyboard will hide.

commit c3e48e71b46bd5724d11307e4b87ef7a18f33527
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Apr 12 10:45:56 2016 -0400

    Force WM_PAINT events on window resize

commit f032f811a3018ad87193e30143fb14dadb1a66ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:43:14 2016 -0700

    Fixed bug 3318 - testime.c enhancement with GNU Unifont support
    
    Simon Hug
    
    I'm proposing some changes to the IME test program test/testime.c. The patch includes support for the GNU Unifont hex file, making the SDL_ttf dependency optional. There were also one or two bugs that prevented the text and underline from showing up poperly.

commit 3ac201cf7fcb231ee0042e50555b7cad37fd0f07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:33:26 2016 -0700

    Fixed bug 3319 - Getting the POSIX out of testqsort.c
    
    Simon Hug
    
    There's a call to the POSIX function random in test/testqsort.c. Naturally, Windows doesn't do that. The attached patch changes the call to the SDLtest framework random functions and adds some seed control.
    
    Looking at SDLTest_RandomInitTime, I just want to say that 'srand((unsigned int)time(NULL)); a=rand(); srand(clock()); b=rand();' is an absolutely terrible way to initialize a seed on Windows because of its terrible LCG.

commit d870f2719bcf4f237b11a160129c1226fe202346
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:31:31 2016 -0700

    Fixed bug 3320 - SDL_windows_main.c defines both console application entry points
    
    Simon Hug
    
    The SDLmain file src/main/windows/SDL_windows_main.c defines both entry points for console applications, main and wmain. This seems to confuse MSVC. It outputs a LNK4067 warning and then chooses main, which is a shame because only wmain has the unicode handling. Using SDLmain.lib provided on libsdl.org, the linker also goes for main.
    
    I'm proposing to not define the main entry point at all. wmain should be supported well enough with MSVC.

commit 2cbe9e2b77fd180e0ff0aca65f99903df0b4284b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:29:55 2016 -0700

    Fixed bug 3322 - Missing error checking in testaudioinfo and testaudiohotplug
    
    Simon Hug
    
    The two tests test/testaudioinfo.c and test/testaudiohotplug.c are missing error checking when they call SDL_GetAudioDeviceName. This function can return NULL which the tests pass straight to SDL_Log.

commit 6f11545a2d06bce20ca5d2c1f01cf9483cd574ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:28:05 2016 -0700

    Fixed bug 3323 - SDL_LogOutput prints message twice on Windows when linked with libc
    
    Simon Hug
    
    If SDL2 is compiled with HAVE_LIBC on Windows, the SDL_LogOutput function has two ways of printing a message. WriteConsole and fprintf.

commit 0b576962ca61a4077be1a7afaaec9a6f4a563f28
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 12:17:42 2016 -0700

    Reset dead keys when the SDL window loses focus, so dead keys pressed in SDL applications don't affect text input into other applications.

commit 1e6e595484cc32aba4297546c042d4f4eb376822
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:54:02 2016 -0700

    Fixed bug 3332 - Win32: reset deadkeys in StartTextInput/StopTextInput
    
    Eric Wasylishen
    
    The bug here is that a dead keys pressed before calling SDL_StartTextInput() carries over into future text input, so the next key pressed will have the deadkey applied to it.
    
    This in undesirable, imho, and doesn't occur on OS X (haven't check Linux or elsewhere). It's causing a problem for Quakespasm on German keyboard layouts, where we use the ^ deadkey to toggle the console (which enables/disables text input), and ^ characters are showing up in the TEXTINPUT events.

commit 708def87f318398c9b3c473148c23665eaaf71ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:48:15 2016 -0700

    Fixed bug 3338 - console_wmain doesn't null terminate the argv array
    
    Simon Hug
    
    The function console_wmain in src/main/windows/SDL_windows_main.c does not null terminate the argument list it is creating. As specified by the C standard, "argv[argc] shall be a null pointer."
    
    The SDLTest framework makes use of that null pointer and some test programs can cause an access violation because it's missing.

commit 77305d47c2bc45068427d6a501d312fbba4db026
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:46:32 2016 -0700

    Fixed bug 3345 - SDL_RenderClear inconsistency with ClipRect
    
    Simon Hug
    
    The description of the SDL_RenderClear function in the SDL_render.h header says the following:
    
    "This function clears the entire rendering target, ignoring the viewport."
    
    The word "entire" implies that the clipping rectangle set with SDL_RenderSetClipRect also gets ignored. This is left somewhat ambiguous if only the viewport is mentioned. Minor thing, but let's see what the implementations actually do.
    
    The software renderer ignores the clipping rectangle when clearing. It even has a comment on this: /* By definition the clear ignores the clip rect */
    
    Most other render drivers (opengl, opengles, opengles2, direct3d, and psp [I assume. Can't test it.]) use the scissor test for the ClipRect and don't disable it when clearing. Clearing will only happen within the clipping rectangle for these drivers.
    
    An exception is direct3d11 which uses a clear function that ignores the scissor test.

commit 89c868f4f81cfdfa8ab46d83a31b42d0bd1af4a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:40:57 2016 -0700

    Fixed bug 3347 - OpenGL ES renderer doesn't flip projection matrix for target textures
    
    Simon Hug
    
    When updating the viewport in GLES_UpdateViewport, the OpenGL ES renderer doesn't flip the projection matrix for target textures. The lines, rectangles and textures (if drawn with glDrawArrays) are upside down when drawing to target textures.

commit 061cc5e75f7f24ff7cc24707eb8563a4142d5ce7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:38:53 2016 -0700

    Fixed bug 3349 - GLES2_RenderReadPixels doesn't use target texture format
    
    Simon Hug
    
    The OpenGL ES 2 renderer does not check the target texture format when using SDL_RenderReadPixels and just always uses ABGR8888. This can result in swapped or wrong colors.
    
    The attached patch adds a check and selects the target texture format, if a texture is set as the target.

commit 51d6371ec1021eeb7ee9851c6d224212f079339b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:34:04 2016 -0700

    Fixed bug 3350 - GL renderers don't need to flip rows after reading back pixels from the target texture
    
    Simon Hug
    
    All OpenGL renderers always flip the rows of the pixels that come from glReadPixels. This is unnecessary for target textures since these are already top down.
    
    Also, the rect->y value can be used directly for target textures for the same reason. I don't see any code that would handle the logical render size for target textures. Or am I missing something?
    
    The attached patch makes the renderers only the flip rows if the data comes from the default framebuffer.

commit 9fff05f8d632d67018cb206f02da3768c8178341
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:29:13 2016 -0700

    Fixed bug 3352 - Adding alpha mask support to SDL_SaveBMP_RW
    
    Simon Hug
    
    The current SDL_SaveBMP_RW function that saves surfaces to a BMP uses an old bitmap header which doesn't officially support alpha channels. Applications just ignore the byte where the alpha is stored. This can easily be extended by using a newer header version and setting the alpha mask.
    
    The attached patch has these changes:
    
    - Extending the description of the function in the SDL_surface.h header with the supported formats.
    - Refining when surfaces get stored to a 32-bit BMP. (Must have bit depth of 8 or higher and must have an alpha mask or colorkey.)
    - Fixing a small bug that saves 24-bit BGR surfaces with a colorkey in a 24-bit BMP.
    - Adding code that switches to the bitmap header version 4 if the surface has an alpha mask or colorkey. (I chose version 4 because Microsoft didn't lose its documentation behind a file cabinet like they did with version 3.)
    - Adding a hint that can disable the use of the version 4 header. This is for people that need the legacy header or like the old behavior better. (I'm not sure about the hint name, though. May need changing if there are any rules to that.)

commit 53e22e4be8c462f15f31c9c906a412fcefd731cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:22:39 2016 -0700

    Only use GCC pragmas when we're building with GCC

commit a42c396a57a56a5275e552e86607cbc18c42d3af
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 11:04:45 2016 -0700

    Fixed bug 3361 - Texture color modulation doesn't work with active NONE blend mode (opengl and opengles)
    
    Simon Hug
    
    The GL_SetBlendMode and GLES_SetBlendMode functions of the opengl and opengles renderers call the glTexEnvf to set the texture env mode to either GL_MODULATE (the default) or GL_REPLACE for the NONE blend mode. Using GL_REPLACE disables color and alpha modulation for textures.
    
    These glTexEnv calls were put in the SetBlendMode function back in 2006 [1], but there the NONE code still used the GL_DECAL mode. The GL_REPLACE mode came in 2008 [2]. I'm a bit confused why that wasn't always GL_MODULATE and a bit surprised nobody reported that yet (unless I missed it). I guess only a few use the gles renderer and the newish shaders mask the issue.

commit 3f1b1629c4efe99b07ac4745012aecff9058d38e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:52:24 2016 -0700

    Fixed bug 3362 - OpenGL renderer doesn't check if framebuffers are supported when creating target textures
    
    Simon Hug
    
    The GL_CreateTexture function doesn't have any checks for the case where the driver doesn't support the framebuffer object extension. It will call into GL_GetFBO which will call the non-existent glGenFramebuffersEXT.
    
    Also, for some reason GL_CreateContext always sets the SDL_RENDERER_TARGETTEXTURE info flag, even if it is not supported. Changeset cc226dce7536 [1] makes this change, but doesn't explain why. It seems to me like the code would already have taken care of this [2].
    
    The attached patch adds some checks and stops SDL from reporting render target support if there is none. The application can then properly inform the user instead of just crashing.

commit fd1d692bef86e13794f220f51619e7964b31e617
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:46:10 2016 -0700

    Fixed bug 3368 - SDL_Blit_Slow doesn't ignore alpha values in colorkey comparison
    
    Simon Hug
    
    When the SDL_Blit_Slow function compares the pixel to the color key it does so without removing the alpha component from the pixel value and the key. This is different from the optimized 32-bit blitters which create a rgb mask and apply it to both to filter the alpha out. SDL_Blit_Slow will only skip the pixels with the exact alpha value of the key instead of all pixels with the same color.
    
    The attached test case blits a surface with a color key and prints the pixel values to the console. The third row is expected to be skipped.

commit 2ccb46cebccc4a4655e660fbcbb876738c3639c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:43:01 2016 -0700

    Fixed bug 3373 - OpenGL implementation differences of glDrawTexfOES
    
    Simon Hug
    
    It seems not everyone implemented glDrawTexfOES the same. Intel and Mesa ignore the viewport entirely, whereas the Raspberry Pi implementation offsets the coordinates and does viewport clipping.
    
    The glDrawTexfOES extension text [1] for the function says "Xs and Ys are given directly in window (viewport) coordinates." I guess this wasn't clear enough.
    
    Alex Szpakowski
    
    Honestly I'd probably remove that codepath from SDL_Render entirely. It's an OpenGL ES 1-specific extension that isn't likely to give huge performance gains and adds additional maintenance overhead to SDL_Render while also having bugs in some drivers (as seen here).

commit ca8ef2b73f74082dd8da2e03616193c9e7cb3051
Author: Bastien Nocera <hadess@hadess.net>
Date:   Sat Oct 1 10:39:03 2016 -0700

    Fix running autogen.sh out-of-tree
    As done in GNOME's jhbuild building tool.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=3374

commit 9dfe54006eac132f362d015a82935fde5aa4ca51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:38:15 2016 -0700

    We should be using a string constant for the strftime format string

commit 7edd2261e7af590e59f94b09d0b23734395cc0c6
Author: Bastien Nocera <hadess@hadess.net>
Date:   Sat Oct 1 10:36:24 2016 -0700

    Fix "format not a string literal" errors
    With GCC 6.1.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=3375

commit 461336a23e1a90af4c6cebce6d3b6aba329ff386
Author: Jonathan Dowland <jon@dow.land>
Date:   Fri Jul 1 16:47:27 2016 +0100

    Add gamecontrollerdb lines for SFC30 controller in various modes
    
    SFC30 controller: http://www.8bitdo.com/sfc30/
    
    The SFC30 controller can present itself in a variety of modes and it offers up
    different names in each. This patch captures data for three modes (one USB and
    two Bluetooth) on three platforms (Mac OS X, Windows, Linux).
    
    However, USB mode on Linux and Windows is missing as the button events did not
    make it through to SDL's controllermap tool on Fedora 24/Linux 4.5.5 nor Steam
    Big Picture mode on Windows. The two Bluetooth modes were indistinguishable on
    Windows. Two modes on OS X were indistinguishable.
    
    There exists a similar controller called the SNES30 (And some others) that are
    very likely identical except for the name, but I have not verified this yet so
    haven't synthesized lines for those controllers until I can.

commit 8f17b20388fb5fe579eac1467b67e97e124bc39a
Author: Cole Campbell <cole.campbell@twistedlogik.net>
Date:   Mon Jul 4 10:39:32 2016 -0400

    Commit KEYCODE_SPACE as text input on Android

commit b7e45f8a1ab9b49b8a9c4b38a21bd5523f48fe61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:28:00 2016 -0700

    Fixed bug 3336 - Failure to build with MinGW-w64
    
    Kai Sterker
    There are already patches available from mingw64 that fix the issue
    
    https://github.com/Alexpux/MINGW-packages/tree/master/mingw-w64-SDL2
    
    With those applied, I could compile SDL2 without problems. But of course, it would be preferable if SDL built cleanly from source.

commit 9f854cdbe0001115f230a941ddbc2e2d6576085f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 1 10:08:34 2016 -0700

    Fixed bug 3388 - Fail to build src/thread/windows/SDL_systhread.c on MinGW 4.9.3
    
    Vitaly Novichkov
    
    Line 124
    ====================================================================
    const DWORD flags = thread->stacksize ? STACK_SIZE_PARAM_IS_A_RESERVATION : 0;
    ====================================================================
    
    Error of compiler:
    ====================================================================
      CC     build/SDL_systhread.lo
    src/thread/windows/SDL_systhread.c: In function 'SDL_SYS_CreateThread':
    src/thread/windows/SDL_systhread.c:124:45: error: 'STACK_SIZE_PARAM_IS_A_RESERVA
    TION' undeclared (first use in this function)
         const DWORD flags = thread->stacksize ? STACK_SIZE_PARAM_IS_A_RESERVATION :
     0;
                                                 ^
    src/thread/windows/SDL_systhread.c:124:45: note: each undeclared identifier is r
    eported only once for each function it appears in
    make: *** [build/SDL_systhread.lo] Error 1
    ====================================================================
    
    Fixing when I adding into begin of the file:
    ====================================================================
    #ifndef STACK_SIZE_PARAM_IS_A_RESERVATION
    #define STACK_SIZE_PARAM_IS_A_RESERVATION 0x00010000
    #endif
    ====================================================================

commit c2cb0b0ff4f8b9cb25e2b7ea551ab8bd84a63753
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Sep 30 23:31:24 2016 +0200

    iOS: Removed unused constant in demo.

commit 7b23eef3b0936d7fb060129bfa439c730ea5d4e0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Sep 30 23:30:54 2016 +0200

    Fixed crash if allocating memory for mouse clicks failed.

commit e64c5186e2fbb69cfed6537c15d0c58538b11b0d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 23:42:18 2016 -0400

    windows: Removed hardcoded "1" for mouse clickthrough hint.

commit f10db4071dbb156d37f2117667ed8066defa3bde
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 23:15:56 2016 -0400

    haiku: Patched to compile.

commit f2fcd324c56fc41f2f0670cb91b8ec271e228dcd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 23:12:58 2016 -0400

    windows: fix borderless windows at desktop resolution (thanks, Evgeny!).
    
    Fixes Bugzilla #3404.

commit b2510d9cbcfbf81880c38536a6ead327957c113e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 23:01:43 2016 -0400

    x11: fixed incorrect SDL_GetWindowPosition() after resize (thanks, Jason!).
    
    Fixes Bugzilla #3272.

commit 4f4c4b629f4960183692467f8738a135779d43b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 22:52:41 2016 -0400

    Added SDL_SetWindowResizable().  (thanks, Ethan!)

commit 257c89727abc6ca5f5443fe78ca476df2ee1f19a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 16:52:48 2016 -0700

    Fixed bug 3426 - Fixes for joystick related issues
    
    ny00
    
    This report is going to cover three issues, with a suggestion for fixes. For reference, tests were done using an installation of android-x86-5.1-rc1.iso within a VirtualBox session. I've actually used an adapter that accepts up to two Playstation 1/2 controllers.
    
    A ZIP file should be attached, with the following contents:
    - The patch file itself.
    - Outputs of joysticks lists from testjoystick with different orders (before fixing bug).
    - Game controllers database entries (for reference).
    --- Different outputs for different platforms may stem from different tools being used; The Android mapping was manually constructed using a previously available mapping as a base.
    --- Note that it turns out the Linux mapping is already out there in some form: https://github.com/gabomdq/SDL_GameControllerDB/blob/master/gamecontrollerdb.txt
    
    And so, let's begin listing the issues:
    
    1. While changeset https://hg.libsdl.org/SDL/rev/9b540bea3cf1 has good intentions, it appears to make various input devices being mistakenly detected as SDL joysticks. I got lists of the devices from joysticktest, given in the ZIP file. "badordering.txt" is what I get if the device has been plugged since a reboot of the virtual machine, while I've gotten "goodordering.txt" after hot-plugging the USB adapter. As expected, only in the latter case I could use the controller in the test program (assuming it isn't modified).
    
    To take care of this, I updated pollInputDevices and added the function SDLActivity.isDeviceSDLJoystick, in order to have a better filter. Note that it also checks that the device id is non-negative, since VIRTUAL_KEYBOARD appears to include a SOURCE_DPAD, and I should probably keep accepting it as an SDL_joystick (good if you want, say, to support multiple independent d-pad devices).
    
    I hope the device id filter does not break support for the virtual remote (mentioned in the changeset above).
    
    2. So there's a weird glitch here, where the game controller is reported to have SOURCE_KEYBOARD and SOURCE_JOYSTICK, while each controller button press/release emits a KeyEvent with SOURCE_KEYBOARD only. So obviously any test going over the event's own sources is expected to fail.
    
    It is possible to try and filter by the key code, but then there are the dpad key codes, which can also be emitted by actual PC keyboard's key presses/releases (the arrow keys).
    
    So instead, I just call the newly added isDeviceSDLJoystick function again and check if the input device (not the event) has any source considered to be a joystick/gamepad for us.
    
    3. Finally, if SDL2 properly detects an SDL_Joystick being connected, but it is not opened, then whenever a KeyEvent is received after a button press/release from the same controller, SDLActivity.onNativePadDown/onNativePadUp returns a negative value. In such a case, the onKey handler continues to check for SOURCE_KEYBOARD (and possibly also SOURCE_MOUSE), which is clearly not desired.
    
    And so, in the given patch, the return values of onNativePadDown and onNativePadUp are ignored and "true" is returned either way.
    
    (Note: Maybe the native functions should be modified to have the return value of "void".)
    
    Finally, as another side-note, I've noticed that the various bitwise tests for sources are wrong. For instance, to check if an InputDevice 'device' has source SOURCE_JOYSTICK, the value (device.getSources() & SOURCE_JOYSTICK) should be compared to SOURCE_JOYSTICK, not 0.
    However, I think there's enough that this patch covers. At the least, isDeviceSDLJoystick partially solves this.

commit f369d165fad6751275ce45f9ff0f8147f43120d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 16:40:34 2016 -0700

    Fixed bug 3427 - Android accelerometer z-axis incorrect
    
    Alex Szpakowski
    
    As seen here https://bitbucket.org/rude/love/issues/1202/accelerometer-z-axis , the Java code for sending accelerometer data to SDL's C code has an incorrect Z-axis calculation.

commit 5f2e83a955c0c97accdbeacfe70529246a8b4723
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 16:37:08 2016 -0700

    Fixed bug 3429 - Update AM_PATH_SDL2() to also check for SDL2.framework
    
    neoaggelos
    
    It is common for Mac OS X to use the SDL2.framework instead of the classic UNIX dynamic lib.
    
    Therefore, it makes sense for AM_PATH_SDL2() to be able to locate it. Attached is a patched sdl2.m4 (updated for that purpose).
    
    Changes:
    * look for SDL2.framework ONLY if pkg-config and sdl2-config tests failed (this is to ensure compatibility with the old behaviour)
    
    * adds option ('--disable-sdlframework') to retreat to the old behaviour
    
    * adds variable 'SDL2_FRAMEWORK' for the user to specify the exact path to SDL2.framework (e.g. if it is installed in a non-standard location)
    
    Open to suggestions for further improvements

commit f1e0b9af207a4965e49640689d92cfb3bd963fb0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 16:10:08 2016 -0700

    Added debug output for new window events

commit 67bdbcca445fe4dc9f6cdf197f77c1f40e8a9229
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 16:05:29 2016 -0700

    Implemented SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH on X11

commit d285af2a96cac60ed03b0fcad3a532458c85a038
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 14:48:33 2016 -0700

    Added Windows support for SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH

commit a13da2faa790c44211d6aed2ebd1d6421d8fdc4b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 13:34:49 2016 -0700

    Generalized the hint for whether the application gets a mouse event when clicking on the window to activate it, and is now named SDL_HINT_MOUSE_FOCUS_CLICKTHROUGH.
    The behavior is defined to not receive the click event, and this hint allows you to override that.

commit 8ddb4328b5c17876bfae0affc861f461007ef0bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 29 03:59:04 2016 -0700

    When clicking on a window to give it focus, don't pass the mouse click to the application.

commit f33c58b0049443b2c0451c3fe8d72477a60cccf7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Sep 29 12:04:07 2016 -0400

    Updated Linux notes on building with Mir and Wayland support.

commit e45698d218a27a75820b22083e550fb080e020cf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 28 22:24:01 2016 -0700

    Updated version to 2.0.5 in preparation for release

commit f89857f1c2639d4ec3e1e145a3bc3dda35f2d388
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Sep 26 23:09:34 2016 +0200

    Updated configure script.

commit 357c3dd7465559e4610db6b1e91d6e1782b774fd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Sep 26 23:09:19 2016 +0200

    iOS: Updated comment in demo.

commit f31c7086d8896f02cfc2eb68673f38c8c7dc562e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 25 15:02:06 2016 -0300

    Enable SDL_LoadObject on iOS 8+ and tvOS.

commit 77bacfd72d0536e03c067a9cbc1f74d807a05509
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 25 11:46:25 2016 -0300

    tvOS launch images are now properly supported.

commit a8b033d7c42ba200989a0a018ac6fdac0635cedb
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 25 00:23:35 2016 -0300

    Update the code for the iOS demos to handle modern devices. Fixes bug #3337

commit 40ecac8e602dfdd06ffc5ad6d3a6daae19bec43e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 25 00:21:12 2016 -0300

    Don't try to load a launch storyboard on tvOS (it doesn't use them).

commit 666d3fecc868db74b09d876ce9e8bed1ee768b32
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 24 23:33:49 2016 -0300

    iOS/tvOS: Try to load the launch screen as a storyboard. Xcode 8 compiles it as a storyboard instead of a nib.

commit 9165ba7ebd5de62770b6f16971ab0e220e6339c4
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 24 20:12:57 2016 -0300

    iOS/tvOS: Always send SDL_WINDOWEVENT_FOCUS_GAINED when a window is created on the main screen (fixes bug #3395).

commit 450fa8cdf9b58d87c5b1ee0a3a250106aa7adf2d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 24 18:46:34 2016 -0300

    Use OS-provided click counts on macOS and iOS for mouse press and release events.

commit bac53941273d2c1f7f345f9cc01bbbee0c6e0886
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 24 13:28:40 2016 -0300

    Fix mouse wheel events on macOS 10.12 (thanks Eric Wasylishen!)
    
    Fixes bug #3432

commit 89c538a4e3a79dff2ec7444280277c42d0598739
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Sep 21 18:23:59 2016 -0700

    Mir: Add gamma support set/get. Still need one more function to complete the set

commit a729c4f97a096a2031243011ec5547aded0c0e2b
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Sep 21 16:28:23 2016 -0700

    Mir: Add fixme (waiting for a public api to be added)

commit 705ecf78f5e1b4f313573a82ec842ba67bf4c8c8
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Sep 21 15:57:15 2016 -0700

    [Mir] Move to the new MirDisplayConfig API

commit fc469f6f2714a91f5581cf67db17fd39f4e17a43
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Sep 21 23:07:08 2016 +0200

    Mac: Fixed markdown formatting in README.
    
    The newlines were lost in doxygen output.

commit 8e88f08150bf9d58640f09aa72450739ea36652f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Sep 21 23:06:49 2016 +0200

    Mac: Fixed whitespace around function return type.

commit 929b965c629cdfad97f0fecf1ee4edd7d3d48b1a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Sep 21 23:06:38 2016 +0200

    Fixed compiling of three test programs with C++.

commit 85588ea040da931db76c0ee34e47c06c2d72e226
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Sep 21 23:06:26 2016 +0200

    Android: Fixed two warnings about unused variables.

commit f0fca2880f9e882da97546adae5084518f2ef3f4
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 18 19:22:09 2016 -0300

    Handle audio interruptions on iOS/tvOS. Fixes bugs 2569 and 2960.

commit 8f8f225b3f58c3024198114c07f174ffdd34671c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 18 18:19:32 2016 -0400

    Xcode/mac: fix building standalone static and shared libraries.

commit 06700a905bb727a5f4b9c51d70a779a17f3cb101
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 18 18:07:47 2016 -0400

    emscripten: get even more aggressive about audio device closing.
    
    I still get exceptions thrown sometimes on shutdown without this.

commit b7818d712494c675b8d4d2e280b670fdfec0d09b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 22:28:12 2016 -0700

    Recommended settings from Xcode 7.3.0

commit 29214826ecdbbbb661fb48b3f4e228c573c37aba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 16 22:27:58 2016 -0700

    Fixed warning with Xcode 7.3.0

commit 459102a5c0a4dcd31c00fb27b38fc54158836f8f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 17 01:36:29 2016 -0300

    Updated URL in a comment

commit a96b6f21049fd96ba715b2d03355cfa480c62cbf
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Sep 17 01:31:07 2016 -0300

    Added a new hint SDL_HINT_APPLE_TV_REMOTE_ALLOW_ROTATION.
    
    When set to "1", the orientation of the Apple TV remote affects the axes of the corresponding SDL joystick. It is "0" (disabled) by default.

commit 4bcce330d19a9caf5b4574f5665a7c1017e271f5
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Sep 15 21:49:29 2016 -0300

    tvOS: Add drop-file support

commit e5070d20eeed4005ecea9ca2cbdef36c2aeff100
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 08:57:56 2016 -0700

    Fixed set of libraries needed to build on Mac OS X

commit 93d42e2d3e643a88d8a51c7a0ad28dfbb10f6a6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 08:46:14 2016 -0700

    Hopefully fixed the cmake build on Mac OS X

commit 8c01d5886c1e11ee0ca859abaac462ed5c3ddf8f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 15 08:29:20 2016 -0700

    Fixed building new coreaudio driver on Mac OS X

commit 4209a1fd4cf31758c5bd5878a2dc91f48a70f2e7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Sep 15 19:59:57 2016 -0300

    CoreAudio iOS/tvOS: Use AVFoundation instead of AudioSession. Fixes audio on tvOS.
    
    Note that linking with AVFoundation is now required if you don't disable SDL_audio compilation on iOS and tvOS.

commit dbe2997ac0bfe9f233f3ba76efe1eba694ce0c70
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 14 08:45:35 2016 -0700

    Fixed building for both iOS and tvOS on Xcode 8

commit 7f28853b89cb675526bcb3033c11dcc4ae23beca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 14 08:20:24 2016 -0700

    Fixed including OpenGL ES on iOS without any other SDL headers

commit d0898b38fca1b49b29faf0f9254e2ce7ed58a218
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 14 07:09:35 2016 -0700

    Allow targeting tvOS

commit 86d4b09914b23d0cdaff284e1b06d7deed32bd01
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 13 18:44:28 2016 -0700

    Fixed spacing

commit 925859aaa69be566a4c53a9133fd07d767095ade
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 13 18:43:55 2016 -0700

    Fixed accidental call to SDL_PrivateJoystickHat()

commit f05057666515457f195fd72419b7bef5b91a3148
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Sep 13 22:18:06 2016 -0300

    Initial Apple TV / tvOS support.
    
    The Apple TV remote is currently exposed as a joystick with its touch surface treated as two axes. Key presses are also generated when its buttons and touch surface are used.
    
    A new hint has been added to help deal with deciding whether to background the app when the remote's menu button is pressed: SDL_HINT_APPLE_TV_CONTROLLER_UI_EVENTS.

commit 86708c3cd84d3a630dcfee174821e7e7db6a0878
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Sep 13 19:51:10 2016 -0300

    Enable more compiler warnings in the Xcode projects (based on Xcode 8's suggestion), made some integer downcasts explicit.

commit 00791f3a873c156d609abd652812e9ce7fcb2a06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 13 00:09:21 2016 -0700

    Only prevent the default browser event handling when the specific event types aren't disabled by the user, patch contributed by Jonas Platte

commit 993dd83510c2a44fd2d641e96c96f3019aa83403
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:04:00 2016 -0700

    Add mapping for media keys

commit 1b6565fcb7e80209b5da56cb9e004d52003185e1
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Sep 13 00:03:59 2016 -0700

    use Module.createContext for 2D rendering in emscripten

commit bec5573476341926cf06573a4557b94685e47c51
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Sep 13 00:03:58 2016 -0700

    add some detail to fullscreen workaround comment; version 6
    
    Conflicts:
            version.txt

commit 405d64b207e0d8d69f232a092725dfc03e6d7943
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:56 2016 -0700

    only unset fullscreen flags if fullscreen failed

commit c68cac89dfa2c0cee394c96339c5c991a730c0c5
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:55 2016 -0700

    use screen resolution instead of canvas size

commit 791b946a422cd13007b2610ec0ec4703a92cd316
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:54 2016 -0700

    Fix full screen mode in Firefox, which was broken by 9d4beb2

commit b71208d45279640f9cbe6e67bb012fa75d80c68d
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:53 2016 -0700

    Support SDL_SetWindowTitle() via Module['setWindowTitle']()

commit 7cf44f1b4a467afe4010cfc899ca751b4fe2c0e0
Author: Jukka Jyl?nki <jujjyl@gmail.com>
Date:   Tue Sep 13 00:03:51 2016 -0700

    Remove unused variable warning from Emscripten build in Emscripten_HandleFullscreenChange().

commit 264e996e0fbbed3915d8ea213a9daf91f6288bb0
Author: Jukka Jyl?nki <jujjyl@gmail.com>
Date:   Tue Sep 13 00:03:50 2016 -0700

    Fix CMake CMAKE_REQUIRED_FLAGS handling to preserve existing CMake flags required by Emscripten toolchain.

commit b54eb82c67904c55711385b900db3754547b50ee
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:49 2016 -0700

    Unpress all keys on blur to avoid stuck keys

commit a0a75f384f52a10db23402097b1d8d98d2e78cd2
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:48 2016 -0700

    Listen for blur and focus events on window instead of canvas
    
    Blur and focus events were not arriving for the canvas in
    Firefox 35 and Chrome 40.

commit 3e5c4cec94aeb2dd0afd3e6c2a53210a4ff54b9e
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:46 2016 -0700

    Mouse events use CSS coordinates, so don't scale by pixel_ratio

commit a20c40c494971a19bee91e445e1c72911da64bc4
Author: Boris Gjenero <boris.gjenero@gmail.com>
Date:   Tue Sep 13 00:03:45 2016 -0700

    Accumulate subpixel mouse motion so motion is not lost.
    
    Previously when the canvas was scaled up and the pointer was locked,
    motion corresponding to less than one pixel was lost. Therefore,
    slow mouse motion resulted in no motion. This fixes that.

commit 443998ff339e2f024eb235b6013bff4c7fd15192
Author: TelpeNight <telpe.night@gmail.com>
Date:   Tue Sep 13 00:03:44 2016 -0700

    Fix of mouse events in browser without pointer locks

commit 2b367cb6b05b186be147f62dc1ac4f66ee61fad6
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Sep 13 00:03:43 2016 -0700

    optimize Emscripten_UpdateWindowFramebuffer
    
     - avoid creating contexts and images all the time
     - use set and then fix alpha directly

commit 63200ea395503bf4a6a5951017c57b84771b88ce
Author: Alon Zakai <alonzakai@gmail.com>
Date:   Tue Sep 13 00:03:41 2016 -0700

    optimize a getValue

commit 42feccea37c73bec6122b8dd68f8a0f934e40022
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:40 2016 -0700

    Include timers when using cmake (#29)

commit 98ec844388af6fbf6432f8c552dbef1fd92ace13
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:39 2016 -0700

    send mouse move on enter/leave

commit a2ef0db8a8c50fea3cfbbeb475a9f229753e1a0b
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:37 2016 -0700

    listen for mouse up on document (fixes mouseup outside canvas)

commit cd05184f9b9859192f12bfdefdc8d6aa3e9053b6
Author: Charlie Birks <admin@daftgames.net>
Date:   Tue Sep 13 00:03:36 2016 -0700

    use SDL_SetMouseFocus

commit bdca510fd69908487365ab6f65a3b45cc56e11fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 13 00:03:28 2016 -0700

    simplify fullscreen handling using new fullscreen_strategy api, patch contributed by Charlie Birks

commit be08cc61f99b54d6a62960a943a369a9f415beb4
Author: Charlie Birks <admin@daftgames.net>
Date:   Mon Sep 12 23:58:08 2016 -0700

    use css size for touch normalisation

commit 1096f323092a325d2b61b5c526192a9c6f91bf68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 9 15:12:09 2016 -0700

    Reverted previous commit which breaks game controller input processing.

commit 61c0f2cf6486d1434f8aa991338648dd6190dcc9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 8 20:38:23 2016 -0700

    Suggestion from Apple: use kCFRunLoopCommonModes which does more complete event processing

commit da1e3d69389bdeae4e9a48847928da9486c5f053
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 6 13:13:03 2016 -0400

    emscripten: special case to make SDL_ShowSimpleMessageBox() work.
    
    Browsers don't have the functionality to fully support the generic
    SDL_ShowMessageBox(), but this handles the likely most-common case.
    
    Without this, you'd return immediately with a proper error result and no UI,
    but probably no one checks that for SDL_ShowSimpleMessageBox. And if they
    did: what would they do to handle this anyhow?
    
    We'd need to lobby for an HTML spec of some sort that allows customizable
    message boxes--that block!--to properly support SDL message boxes on
    Emscripten, but this is probably Good Enough for now.

commit 45553ac4db669f9b440dd419c69c61ce3f7f1430
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Sep 6 12:18:52 2016 -0400

    emscripten-buildbot.sh: exit with an error if configure/make fail.

commit 6188c33420a176d398421322155ed9e9b914e5d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 4 01:42:46 2016 -0400

    mac: Patched to compile with CMake project.

commit 0265d3af9b0f61d49a0f4f85f5fa24672bbee539
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 4 01:23:55 2016 -0400

    coreaudio: Move from AudioUnits to AudioQueues.
    
    AudioQueues are available in Mac OS X 10.5 and later (and iOS 2.0 and later).
    Their API is much more clear (and if you don't mind the threading tapdance
    to get its own CFRunLoop) much easier to use in general for our purposes.
    
    As an added benefit: they seemlessly deal with format conversion in ways
    AudioUnits don't: for example, my MacBook Pro's built-in microphone won't
    capture at 8000Hz and the AudioUnit version wouldn't resample to hide this
    fact; the AudioQueue version, however, can handle this.

commit 3b53304a9439cbc7e74fea1c1b3e255ce31ca5fe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 3 00:13:41 2016 -0400

    coreaudio: capture devices should let the system allocate the render buffer.

commit fda7a3d158c30c8327df9bd09ac8581291201e8d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 2 13:12:21 2016 -0400

    coreaudio: Replaced an int with an SDL_bool.

commit f9d9708f6b8e8219b35abfb1a292cd37defbc83a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 2 13:11:28 2016 -0400

    coreaudio: Move some variable declarations to the top of the scope.

commit 1428bab3b380a4b8083d8ecb30bce6cf0cd2ef9f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Sep 1 16:01:54 2016 -0300

    Fixes building SDL on Ubuntu 16.04 with Mir headers installed

commit f11a4409992ca41c50055c27bb7ba42164f30f39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 1 01:26:56 2016 -0700

    wayland: Add support for relative mouse mode, by Jonas ?dahl <jadahl@gmail.com>
    
    Generate the C protocol files from the protocol XML files installed by
    wayland-protocols, and use them to implement support for relative pointer
    motions and pointer locking.
    
    Note that at the time, the protocol is unstable and may change in the future.
    Any future breaking changes will, however, fail gracefully and result in no
    regressions compared to before this patch.

commit 19d3500ae19636f3f410e270f12e0bc5e83410d4
Author: Jonas ?dahl <jadahl@gmail.com>
Date:   Thu Jun 23 18:39:05 2016 +0800

    wayland: Build own version of core protocol
    
    Since we are loading shared objects dynamically, build our own version of the
    core protocol symbols, so that we in the future can include protocol
    extensions.

commit 736a624df0e4f2043d45915d3870de90b1b36115
Author: Bastien Nocera <hadess@hadess.net>
Date:   Thu Sep 1 01:22:58 2016 -0700

    Wayland: Set "class" for each window we create
    This will be used by Wayland compositors to match the application ID and
    .desktop file to the SDL window(s).
    
    Applications can set the SDL_VIDEO_WAYLAND_WMCLASS environemnt variable
    early in the process to override using the binary name as a fallback.
    
    Note that we also support the SDL_VIDEO_X11_WMCLASS in the Wayland
    backend so that if a program correctly associated the desktop file with
    the window under X11, only a newer SDL would be needed for it to work
    under Wayland.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=3376

commit 2098bfb3caab8ff31415f5c19d4739141b0e7b45
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 31 16:10:04 2016 -0400

    emscripten: Be more aggressive when closing audio capture devices.
    
    Fixes exceptions being thrown on shutdown.

commit f5d43cf9128abbfecf8f6e0a0204ed40f4061498
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 31 12:52:55 2016 -0400

    WinRT: added an extra NULL pointer check for SDL_*ScreenSaver() backend code

commit ebb058910d059aa6c2458803b110ce6f65323d04
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Aug 30 12:58:00 2016 -0700

    Mir: Add mouse grab support (requires mir 0.24)

commit 48490a528ad533a8d6e0d67013005e7947457460
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 30 21:16:04 2016 +0200

    Fixed log message in audio capture test program.

commit 379a430408ce87538acfb19c381846a63165be9e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 30 21:15:46 2016 +0200

    Android: Removed unused internal function.

commit 9581d4a585f77f01b4fb1bf88ca55206afdfa14b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 30 21:15:18 2016 +0200

    Android: Fixed misleading warning in log output (thanks, Sylvain!).
    
    Fixes Bugzilla #3418.

commit cf28727f891cf81f7fa3dedd533cea9abca53dba
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 30 21:14:52 2016 +0200

    Android: Fixed missing mouse motion events while button down (thanks, Sylvain!).
    
    Happened for real mouse if SDL_HINT_ANDROID_SEPARATE_MOUSE_AND_TOUCH was active.
    
    Fixes Bugzilla #3313.

commit 51053a062c69bf43bf4c3e5b67bcee9cb053a4b0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 30 21:14:13 2016 +0200

    Fixed compiling if filesystem is disabled (thanks, Elias!).
    
    Fixes Bugzilla #3414.

commit 5020fe8fdb237858a0cc3a0e920a7b63401d11a0
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Aug 29 20:27:21 2016 -0400

    WinRT: added SDL_*ScreenSaver() support; fixed crash when restoring app from screensaver

commit 651107a118de17a5d1211c895784f2fe4fbeaa13
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 16 12:02:22 2016 -0700

    Fixed sorting and name of XBox wireless controller entry

commit 4c1484784a31f58b36710a3f4cfc0a2b39b78570
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 16 12:02:12 2016 -0700

    Merged Change: 3576099 from rel/streaming_client
    
    Description:
    SDL - add mapping for xbox one s wireless controller

commit b65763c0c25dc0cbd0cafb2b185d98c2b3de1ce4
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Aug 29 10:48:56 2016 -0400

    WinRT: patched to compile

commit 5bcf1d256b04f46c35b167af9543707f0c57de7a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 19:06:31 2016 -0400

    cocoa: Fixed incorrect autorelease, noted by static analysis.

commit c9bfcbde6e87a379fff7d5928f69f8c54f8650a8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 18:52:25 2016 -0400

    nacl: Patched to compile.

commit 714aa21136bddd75b7ef8af4efa0ed3075912f4a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 18:24:44 2016 -0400

    Patched to compile on Haiku.

commit 2da1ec8354ee2ddb836cf56efc956185ed36cce2
Merge: 06dcdc7d4 b6daf1f60
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 13:36:13 2016 -0400

    Merge audio capture work back into the mainline.

commit 06dcdc7d485763bcd42df0592b63b4735e454305
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 11:56:11 2016 -0400

    Patched to compile.

commit 850da32f30f058fdd0a6c13a9ffcf138eddc8c22
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 28 08:50:26 2016 -0700

    alsa: Implemented hotplug support, cleaned up device names.

commit 35e564a69437082ec9be942835e13147e18f0766
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 26 15:46:29 2016 -0400

    ios: patched to compile.

commit cfa95fe68c68357ab631058469a090918c224cf3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 15 10:09:41 2016 -0400

    alsa: don't enumerate virtual devices, just physical hardware.

commit ad1bfea5a059f3a4e7747b8aee981f54b5e9ae6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 26 12:18:08 2016 -0700

    Added SDL_PrivateJoystickAdded() and SDL_PrivateJoystickRemoved()
    Updated the removal code to iterate over all joystick add messages instead of just the first one.

commit c69bce6774ffd8122d98b07801bbefa22243b4ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 26 11:16:44 2016 -0700

    commit 1170112da3776fdb06425f62d57b63144c33dc51
    Author: James Zipperer <james.zipperer@synapse.com>
    Date:   Sun Aug 21 01:19:19 2016 -0700
    
        bugfix for controller / joystick add / remove being in the event queue at the same time

commit e79f00097a5f49eacb1d5ce19cddb00536fe25bc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Aug 25 22:31:44 2016 +0200

    Emscripten: Fixed crash if closing removed joystick (thanks, Sylvain!).

commit e41e185eabbaf3a9ab5501228907247b71785b88
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Aug 25 22:31:33 2016 +0200

    Android: Fixed crash if closing removed joystick (thanks, Sylvain!).
    
    Fixes fix for Bugzilla #3408.

commit 5150eb361f9b20de64c4671f79082ea68a5dbc64
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Aug 20 13:46:45 2016 -0400

    WinRT: fixed bug where Win10 GameBar, when shown + hidden, might not restore a cursor's hidden state
    
    The repro steps were this:
    1. run an sdl2 winrt/uwp app, on Win10, v10.0.10586.0 or higher
    2. hide the cursor, via a call to SDL_ShowCursor(0)
    3. make the Win10 game bar appear, by pressing the Windows + G hotkey
    4. observe that the mouse cursor appears, in order to interact with the
       game bar (this is expected behavior)
    5. make the Win10 game bar disappear, either by pressing the Windows + G hotkey
       again, or clicking somewhere in the app
    
    EXPECTED RESULT: cursor disappears, as game bar disappears
    
    ACTUAL RESULT: cursor didn't always disappear

commit f6f9350a3c89a90ee4b054dbe2153db2b4648af3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 17 21:05:00 2016 +0200

    Added link in header comment.

commit a128552577612fe7de09fe6a49b042c010b93261
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 17 21:04:50 2016 +0200

    Emscripten: Fixed opening previously closed joystick.

commit c18ff8d2536514666dee4cdbc34083ecb44c9e3a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 17 21:04:32 2016 +0200

    Android: Fixed opening previously closed joystick (thanks, Sylvain!).
    
    Fixes Bugzilla #3408.

commit b6daf1f60a0ea9ce3126bfd5cdc37eda124be621
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 12 22:50:48 2016 -0400

    testaudiocapture: ask for way more output samples.
    
    Fixes Emscripten builds on Chrome for Android.

commit d05ae1941c61e571644c9451e6a9bd69943ac8dc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 12 19:59:00 2016 -0400

    emscripten: send fake mouse events for touches, like other targets do.
    
    (This really should be handled at the higher level and not in the individual
    targets, but this fixes the immediate bug.)

commit 3b88f5c69052d4ca65b156a521a688def862a2d3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 12 00:03:58 2016 -0400

    emscripten audio: check for an "undefined" object, remove some console.log().

commit e435659c63f3aeceaa8f989a5da36e833c300c0e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 11 22:26:58 2016 -0400

    audio: Cleaned up "extern AudioBootStrap" list.

commit 6f4bcd2498275dd46a384133cf8bd9845b64b8c2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 11 22:22:09 2016 -0400

    audio: Renamed some internal driver symbols in various targets.

commit 8f0af7735460d33ef1f70c6ffd91007b29609d0b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 11 22:04:49 2016 -0400

    android: implement audio capture support.

commit b78ec974969ca1f43fd7ec41fd3810a54bbdc746
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 16:00:16 2016 -0400

    directsound: Implemented audio capture support.

commit 21c7fe00603e52b76a79543bde5e86cef4d36167
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 15:34:24 2016 -0400

    windows: directsound should also map audio device GUIDs to proper names.
    
    Moved this code from winmm into core so both can use it.
    
    DirectSound (at least on Win10) also returns truncated device names, even
    though it's handed in as a string pointer and not a static-sized buffer.  :/

commit b879595a2a65e7b3b0e6f6a9b1c094fc485dea25
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 14:14:14 2016 -0400

    audio: Patched to compile on C89 compilers.

commit 244d2dbcd54d241cd86f3c8e78985a109be8d383
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 10 14:13:48 2016 -0400

    emscripten audio: fix timer on capture's silence callback.

commit 7a8e4cb019fb90df43025b3a328097a8076a6681
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 19:35:46 2016 -0400

    directsound: recalculate audiospec size before creating secondary buffer.
    
    I think this was a bug before? Maybe I'm misunderstanding this, but it looks
    like it was working because we allocate room for 8 chunks...

commit 358a168c9d1b1b9972ecd13f7240855001396bc1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 16:58:32 2016 -0400

    emscripten audio: Added audio capture support.

commit 5de11a5fc5fd3c597d987d0160a452f8ed674ee7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 16:58:06 2016 -0400

    Added a FIXME.

commit 3139e5d16b9b84d8f2463ca4c7d7fba19fe76f26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 16:57:49 2016 -0400

    testaudiocapture: open capture device to same spec as output device.
    
    ...since our resampler is still terrible (sorry!).

commit a05bde217000c628ffb16100b8f1a507a118ecb7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 00:44:59 2016 -0400

    audio: Only allocate fake_stream if we're using the standard audio threads.

commit be8d7a46fb862b8ecd56c8e4edf705b218cd0af9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 9 00:44:05 2016 -0400

    audio: simplifed check for internal callback.
    
    Easier to check when it's NULL instead of a list of known internal functions.

commit 8097f272e2a9512cd17a6dc647ecb6364287941d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 8 12:17:53 2016 -0700

    [ OSX ] enables Xbox One S Guide (System Main Menu) button detection. the one possible impact is that since button identifiers on OSX are just their sequence in the HID report descriptor we might change the button order, and any existing/saved mappings may get their order changed.

commit df4985e20758e5df5142d305ea23400ced39e590
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 7 02:43:20 2016 -0400

    dsp: Implemented audio capture support.

commit a0ff2554c1f0144efb83547a39b4997ee6d81c55
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 7 01:48:38 2016 -0400

    winmm: Try to get full device names from the Windows Registry.

commit ff7df7e687edf175dae34578f4aaa0954cc2b0c1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 23:05:02 2016 -0400

    winmm: Added a FIXME for truncated device names.

commit 51d15233800eca1e4e0a818e8bdd173d3a473ce1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 19:34:32 2016 -0400

    winmm: Implemented audio capture support.

commit a21e6af514bc98bcfdc812a28cd04aed992c1274
Author: Mikkel Krautz <mikkel@krautz.dk>
Date:   Sat Aug 6 15:09:20 2016 +0200

    Add Xbox One controller GUIDs to the XInput filter in the DirectInput joystick driver.
    
    The Windows 10 Anniversary Update (1607) breaks the method uses that SDL uses to
    detect XInput devices. That is, on Windows 10 Anniversary Update, it is no longer
    possible to query RAWINPUT for HID devices, and check for "IG_" in the device name.
    
    Presumably, this will be fixed in the future.
    
    This patch works around the issue by adding the Xbox One controller series to the
    well-known device list.
    
    This skips the more expensive RAWINPUT check for those devices, and causes them to
    be detected as XInput devices once again.

commit 4499e5bcc6f26ccc4926e0e956fab21cc138373f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 03:45:45 2016 -0400

    disk audio: Make default i/o delay match what device is meant to be running at.

commit 978df1ad746dca3bc4cfbe29ade83e93c1304d7c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 03:39:15 2016 -0400

    disk audio: Implemented "capture" support, cleaned up some things.

commit a15b9740449965fd1e549624c78aa81d069144a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 02:48:00 2016 -0400

    testaudiocapture: use capture device buffer queueing, for better test coverage.

commit 73153901714ae077c0d35c1be17139fd2eb8034c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 02:47:27 2016 -0400

    audio: Implemented buffer queueing for capture devices (SDL_DequeueAudio()).

commit 7bfe494c62ce8b2517acb0366ccc1b9654895dd9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 02:45:51 2016 -0400

    testaudiocapture: don't use fullscreen for the window.

commit e7347a4027b8d3e156ec367cb9623571a3066b0e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 6 02:27:55 2016 -0400

    audio: SDL_ClearQueuedAudio() should free everything but two packets.
    
    Otherwise, if you had a massive, one-time queue buildup, the memory from that
    remains allocated until you close the device. Also, if you are just using a
    reasonable amount of space, this would previously cause you to reallocate it
    over and over instead of keeping a little bit of memory around.

commit 9a33154450dfebd899c51b5ab1b9f4ffd3b44a65
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 04:23:32 2016 -0400

    nas: initial shot at audio capture support. Compiles, but not tested.

commit 9b2a59ef054b98a24f1217f5550e8de92be2e42d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 02:04:48 2016 -0400

    audio: Changed OnlyHasDefaultInputDevice to OnlyHasDefaultCaptureDevice.

commit 761a79788c42e7ce39929e58d07d5606d880a778
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 01:59:06 2016 -0400

    audio: changed some SDL_memset() calls to SDL_zero(), other minor corrections.

commit 979de761c987dcf538487a8f4e307c73e21a6cfc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 01:44:15 2016 -0400

    audio: Removed internal SDL_audiomem.h and macros.
    
    I think this was important for SDL 1.2 because some targets needed
    special device memory for DMA buffers or locked memory buffers for use in
    hardware interrupts or something, but since it just defines to SDL_malloc
    and SDL_free now, I took it out for clarity's sake.

commit 9b647727752623da94ec99f1ecda64cdbb5e64f8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 5 01:44:41 2016 -0400

    audio: Clean up some CloseDevice() interface details.
    
    - It's now always called if device->hidden isn't NULL, even if OpenDevice()
      failed halfway through. This lets implementation code not have to clean up
      itself on every possible failure point; just return an error and SDL will
      handle it for you.
    
    - Implementations can assume this->hidden != NULL and not check for it.
    
    - implementations don't have to set this->hidden = NULL when done, because
      the caller is always about to free(this).
    
    - Don't reset other fields that are in a block of memory about to be free()'d.
    
    - Implementations all now free things like internal mix buffers last, after
      closing devices and such, to guarantee they definitely aren't in use anymore
      at the point of deallocation.

commit 30a9139bc3db13218929138ac06969cb017aaaf7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 4 11:51:17 2016 -0400

    arts: backed out audio capture support.
    
    Turns out that libartsc isn't thread-safe, so if we run a capture and playback
    device at the same time, it often crashes in arts's internal event loop.
    
    We could throw mutexes around the read/write calls, but these are meant to
    block, so one device could cause serious latency and stutter in the other.
    
    Since this audio target isn't in high-demand (Ubuntu hasn't offered a libartsc
    package for years), I'm just backing out the capture support. If someone needs
    it, they can pull it out of the revision history.

commit 20cd5e44ce2970eb9385a5b9573bdaa095e510d0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 16:54:10 2016 -0400

    dummy audio: Patched to compile.

commit 24bc00a831f74cd95255f94660d4763db4b6761e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 3 22:39:44 2016 +0200

    Fixed two old identifiers in header comments.

commit 82c94a3f795150dfa16122232554719032b63cae
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 3 22:32:20 2016 +0200

    PSP: Fixed memory leak if video init failed.

commit 9f97ee8a85be795381b28e5f475d95bcc6fd8487
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 3 22:32:02 2016 +0200

    WinRT: Removed not needed SDL_zerop() after SDL_calloc().
    
    SDL_calloc() already sets memory to zero.

commit a4abda0b709871dcba84bcbabfe19f289bf03bc3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 3 22:30:31 2016 +0200

    Added brackets to function names in header comments so that doxygen links them.

commit 17246ba95ec6b3ad212aa9d28fd2ffae0e97b96d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 02:18:47 2016 -0400

    dummy audio: Implemented dummy audio capture support.  :)

commit 9dd8477a21ec768d5dd7b3f9c2521d407b5ca6fc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 01:57:41 2016 -0400

    bsdaudio: first shot at audio capture support!
    
    (untested, uncompiled...for now.)

commit d30a2f5ad89d3f0472435165e4d3d26db13090e8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 01:56:58 2016 -0400

    bsdaudio: this appears to be using the wrong variable...?
    
    (We probably never noticed because this is meant to block until it fully
    writes a buffer, and would only trigger an issue if we had a short write
    that wasn't otherwise an error condition.)

commit ecbd625c4b556855a6013825114bb16b374c3706
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 01:53:59 2016 -0400

    arts: Patched to (maybe) compile.

commit a7dddacd9949bee58399499fc48d96b5e07c0435
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 01:01:44 2016 -0400

    arts: implemented audio capture support.
    
    (completely untested! Not even compiled!!).

commit 38f4b68ca7b4e22c3dd6c6cee33a818460fd1329
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 01:00:30 2016 -0400

    alsa: capture devices don't need a mixbuf allocated.

commit 3ed9b0f567456904603f156a00ca885507fb384e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 00:31:08 2016 -0400

    testaudiocapture: made test app interactive.
    
    (hold down mouse/finger to record, then it plays back what it heard. Repeat.)

commit a9ef240cefb88cac59c6876b30141856d4de2252
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 3 00:30:12 2016 -0400

    coreaudio: Implemented audio capture for iOS.

commit f758483a288fb104ee264b2f73570ea7d00850a6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 19:17:51 2016 -0400

    testaudiocapture: Make a simple green/red window when recording/playing.

commit 41e8f9ede41dedf96121f858fca20b3c809835cc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 15:06:40 2016 -0400

    alsa: Implemented audio capture support!

commit 754efd43f4574df0e78716d0e72226c32b75993d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 15:06:05 2016 -0400

    alsa: Cleaned up the 5.1 swizzle mess a little.
    
    Shouldn't this be something ALSA handles for us with channel maps, so we can
    just delete this code?

commit 6bd1ec6bb0008c71b2e9f138687214b8b6739a60
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 15:04:33 2016 -0400

    audio: a little more robustness in the capture device's thread.

commit d662bc04a53ab77ee0742025bc2543aef0e32305
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 13:50:58 2016 -0400

    pulseaudio: Implemented audio capture support!

commit 0d0f7080a37958e31d0697e0ce3d87e1b97c5692
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 13:50:21 2016 -0400

    audio: implemented higher level infrastructure for running capture devices.

commit 6d5c9c1e675718716cc117c6d8a71ce0c0818de2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 13:48:52 2016 -0400

    audio: Made some SDL_AudioDevice fields atomic.
    
    This makes sure they're properly communicated to the audio threads.

commit b35b9f950e9aaf3a925760be7b116f9aea297a61
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 2 13:38:56 2016 -0400

    testaudiocapture: Let specific devices be opened.

commit ca57b9ee111c454d937c78fe8c4a57ce065c30f4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 13:36:43 2016 -0400

    BUGS.txt: Bugzilla supports SSL; changed link to https:// ...

commit 67f2538c41664f66f06d42df8e875e99883ea962
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 13:32:27 2016 -0400

    audio: changed some internal ints to be SDL_bools.

commit a94376c72dd569a3be971e4745676265d821b74f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 11:47:02 2016 -0400

    nacl: unlock audio thread mutex when done with it.

commit c754662dda0d9c5698e7ebb5f8dfafc8efa914e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 11:45:45 2016 -0400

    audio: Make SDL_AudioDevice::shutdown an atomic value.
    
    Just to make sure this get communicated to the audio thread properly.

commit 015dd8dd1d9db9cbf4db174a3e842824b1d4d8e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 00:20:47 2016 -0400

    audio: Implemented capture support for Mac OS X CoreAudio.
    
    I don't know what iOS wants yet, so this code might work there, too...?

commit ee099750079ed30326dd6e3be0df32f2d68d474c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 1 00:18:56 2016 -0400

    audio: Initial bits to enable audio capture support.

commit 456901150c1dd8f64af612d3c0ab5842e0cc25cf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 27 20:47:31 2016 +0200

    Fixed information in touch README and changed identifiers so doxygen links them.

commit 3853f7cd3a1ce39136bde2c2563b6c3b6b45d071
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 27 20:47:08 2016 +0200

    Android: Updated a comment.

commit 242c3480bf2adfc6f35af05eeb9c066df26f35b1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 27 20:46:18 2016 +0200

    Android: Replaced deprecated AbsoluteLayout with RelativeLayout.
    
    Fixes Bugzilla #2211.

commit 4743b55c7a2bbb8aee4384b6a8c3121a2b446510
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 20 21:01:14 2016 +0200

    Linux: Fixed memory leak in haptic implementation (thanks, Martin!).
    
    Fixes Bugzilla #3238.

commit 8d6cbdd235d033e0007e0314178aff053ad9bf58
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 20 21:00:52 2016 +0200

    Pandora: Fixed memory leak in video implementation.

commit 53ac57128bb35053fcfd968556de915f2cf86f72
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 20 21:00:36 2016 +0200

    Pandora: Fixed compile warnings in video implementation (thanks, Bombo!).
    
    Fixes Bugzilla #2734.

commit 427472fe2e10955a8432d94e5d76ff6c2f310620
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jul 19 21:02:44 2016 +0200

    ALSA: Fixed adding wrong status to error message (thanks, romain145!).
    
    Fixes Bugzilla #3364.

commit 562926cddab671039aa53e206cb40c1b5287c74e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jul 19 21:02:09 2016 +0200

    Pandora: Fixed SDL version in debug output.

commit 38ad328ab9404dd280d697aa7e3078326f1d1b02
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jul 19 21:01:30 2016 +0200

    Pandora: Updated SDL version in Makefile.

commit f945e2e732db4f2bf275911af5702e0b761d9592
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jul 19 21:01:13 2016 +0200

    Pandora: Fixed referring to no more existing atomic source file in Makefile.

commit d478f26ef40b290152ef1e2861d7dea05a473141
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jul 18 22:03:47 2016 +0200

    Updated comments in video implementations.

commit c8cd5c559a0b71e56a3fd3b04da4d4ff7fae33ed
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jul 18 22:02:17 2016 +0200

    Pandora: Fixed compile error in video implementation (thanks, Bombo!).
    
    Partially fixes Bugzilla #2734.

commit e7a9095f55ffcbb8eef8fd6ddb370d1e0aaef650
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jul 18 22:01:01 2016 +0200

    Android: Fixed androidbuild.sh not working on OS X (thanks, Steffen!).
    
    Fixes Bugzilla #2429.

commit 58b323f192315dcf222f2f4b1f7097c680aa5845
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 17 21:43:12 2016 +0200

    Android: Fixed missing export of a JNI function (thanks, Andrii!).
    
    Fixes Bugzilla #3393.

commit 6b1d5f44613c6e7f14927e060247da8a25041116
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 17 21:42:53 2016 +0200

    Android: Fixed compile warning about a missing prototype (thanks, Sylvain!).
    
    Fixes Bugzilla #3351.

commit de5daaad6ad1c28b8364b25784b3bbce5d0b02fc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jul 17 20:32:44 2016 +0200

    Fixed compile warnings about evaluating undefined identifiers.
    
    Partially fixes Bugzilla #3351.

commit 578edca454be318b89e3a72a6ccbf5e6623b1fbe
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 13 09:41:43 2016 -0700

    Tests: Would be wise to compile this

commit bebb6dee8dc65a8a059942d84fd0e313110c33d6
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 13 07:39:01 2016 -0700

    Tests: Somehow tabs leaked in...

commit f2413850d9ad0a4ade45812af048c05cb50080a7
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 13 07:34:06 2016 -0700

    Tests: Add a manual test for a custom cursor (Taken from the API docs)

commit d8866e8400ea6c26059f1bcd9051bbc3a0ff9508
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 13 07:07:46 2016 -0700

    Tests: Mir needs the window to swap at lease 1 frame for the cursor to show. So render in testwm2

commit eadb30cd6f703061ab312a18ee382d42bb3ca822
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jul 13 07:07:08 2016 -0700

    MIR: Fix system cursors. Been broken since custom cursor support was added!

commit 495057b04b605b9881334aac9a1c93679ee01bf4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jul 9 22:06:00 2016 +0200

    Android: Added new key codes from API 24.

commit d0bd0e485585202ff7091378d51ac292a04e6863
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jul 2 13:38:31 2016 -0300

    iOS: Fix an OpenGL ES error when rotating the device if MSAA is used (thanks Cole Campbell!)
    
    Fixes bug #3378.

commit b5246571189ee80263a3f498ae9aeaf34e64a93b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 28 21:15:16 2016 +0200

    Fixed three source comments in tests.

commit b5aa5b04d64c547edd4259511d52ec455cb19883
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 28 21:14:11 2016 +0200

    Added a simple test case for SDL_sscanf() to tests.
    
    It fails on platforms where SDL's custom implementation is used.
    
    Relates to Bugzilla #3341.

commit 6ec5e64056e2d5dddb7f1382255e841d6dde9c9d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 28 21:08:23 2016 +0200

    Fixed freeing strings created by strdup() with SDL_free().
    
    This only worked on platforms where SDL_free() wraps free().

commit 2f016cf88d96f10320cff49ca128f9519380c6ba
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 26 21:08:57 2016 +0200

    Mac: Fixed crash if SDL_GetDisplayDPI() got NULL pointers for output parameters.

commit f4d33fcbba1b963d370e248a1c879603f5ed7240
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 25 19:40:44 2016 +0200

    Fixed compile warnings in test library about formats strings not being literals.
    
    Partially fixes Bugzilla #3375.

commit 696867eed4263f675efb4d7a6596779d0157c89d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 25 19:40:02 2016 +0200

    Mac: Updated file name in README.

commit 23af328bb03dac55ebc3b5208c6a105a3a0dbc18
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Jun 24 22:17:56 2016 -0400

    Fixed Bug 3147 - Windows: Crash when resizing Window since hg 1f9d57965528
    
    Thanks for the fix, Gab!

commit ce456cfb8e1a60b630ad7c5ac421f6847047a512
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 24 19:06:06 2016 +0200

    Mac: Updated availability macro in build script.

commit 4a339a46ec264632c3734d7c7eb7727ac6a0f944
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jun 8 08:01:21 2016 -0700

    MIR: Add better error handling for a failed connection

commit f0708fc9dd589a2d478fd2858159779aff2169f7
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Jun 7 09:01:23 2016 -0700

    MIR: Support relative mouse mode

commit ea2f5e59309b181e72d0af5eff699729e236a8d1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon May 23 15:29:25 2016 -0300

    Windows: Fix other window positions/sizes being changed when exiting exclusive fullscreen (bug #3315, thanks Simon Hug!)

commit 0a4085a048ab896ea834bc72090b0545dd1c7fda
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 21 12:09:23 2016 -0300

    Mac: Fix a crash when SDL is compiled with SDL_MAC_NO_SANDBOX enabled, by increasing the stack size of the mouse tap thread back to OS X' default of 512 KB.

commit 4a468739f832615dcc21f52e695659e5e93da2cb
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 21 00:20:52 2016 -0300

    Removed Mac OS 10.5 support (bug #3137). Also fixed a warning about deprecated Carbon code when using SDL_audio (bug #3127, thanks Dominik!)

commit 6255c8584a5bc67b5ae16d1168b411df8d155d2f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 20 22:18:15 2016 +0200

    Updated documentation of SDL_IsScreenSaverEnabled().
    
    The screensaver is deactivated by default since SDL 2.0.2.

commit d4140ca47320c3c2762aed60f03953105eeee0c6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 20 22:15:58 2016 +0200

    Windows: Fixed missing error message if SDL_GetDisplayDPI() failed.

commit d7b9d321faa58b5faa5c101760eb0a4db1ae30c6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 20 22:15:28 2016 +0200

    X11: Fixed typos in error messages and source comments.

commit 81235118ab8a5b6609280dcd19271ccf18676618
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 20 22:14:40 2016 +0200

    X11: Fixed missing error message if SDL_GetDisplayDPI() failed.

commit 441359bd5a8ca0a09a00fbfe3212197a0a249c9c
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat May 14 23:29:49 2016 -0400

    WinRT: workaround a possible Windows bug, whereby hiding cursors, disables mouse-moved events
    
    This workaround, unfortunately, requires that apps directly link to a set of
    Win32-style cursor resource files (that contain a transparent cursor image).
    Copies of suitable resource files are in src/core/winrt/, and should be
    included directly in an app's MSVC project.
    
    A rough explanation of this workaround/hack, and why it's needed (and
    seemingly can't be done through programmatic means), is in this change's code.

commit e964d00f645e8bca9b6fd25219414fd6deb81701
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 11 21:11:12 2016 +0200

    X11: Fixed SDL_GL_GetSwapInterval() returning -1 if interval is unknown.
    
    It should return 0 as a safe default if the interval can not be determined.

commit 748b05289ccaa9bfbadbb024c16cd69ed014817d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 11 21:10:41 2016 +0200

    EGL: Fixed SDL_GL_GetSwapInterval() returning -1 on error.
    
    It should return 0 as a safe default on errors. -1 is returned for late swaps.

commit cfe3f261154df21f928a04c1d2b565c07dc0b03b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 11 21:09:45 2016 +0200

    Updated documentation of SDL_CreateWindow() and SDL_CreateWindowFrom().

commit fe4c3b29d9844c37a15ce1139e68cc6b8a1bf8f7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue May 10 21:15:11 2016 +0200

    iOS: Added brackets to function names in README so that doxygen links them.

commit bf7a76155e7371b69b2f949293654ee641ece4ec
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue May 10 21:14:36 2016 +0200

    Fixed missing error message if SDL_GetDisplayDPI() is unsupported.

commit 73b63e5b57c7f7fa50b4ca7a09f48e12298e9d91
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue May 10 21:13:58 2016 +0200

    Fixed crash in shape test program if memory allocation failed.

commit 31e23d57d39a4f2aab273b2d5ea588c5fe41f03a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue May 10 21:12:48 2016 +0200

    Fixed error return values in filesystem test program.

commit 52fec6aff0ea3cecaa2e29bffd969e6294ee46ff
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat May 7 21:41:59 2016 -0400

    WinRT: allow on-screen keyboard to be shown via SDL APIs, Win10/UWP only

commit 6a9a8b682c967f8c3870f5234ea5548775a1311a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 5 22:05:21 2016 +0200

    Fixed memory leak in game controller test program.

commit 63f2ec8e570cbeaacbc483dcc60789466a1ffe4e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 5 22:04:16 2016 +0200

    Updated documentation of SDL_HINT_THREAD_STACK_SIZE in header file.

commit b1ce3799e9f39b3d52ef6634827972987667b9cf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 5 22:03:52 2016 +0200

    Added missing links at documentation of SDL_FreeCursor() in header file.

commit b15efce277bc8b643f869e8b393ff035b64ddfd9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun May 1 21:41:30 2016 -0300

    Cocoa mouse code: Replaced NSPointInRect with NSMouseInRect (thanks Eric Wasylishen!) Fixes bug #3312.

commit d3835026572c076e124e4783716e7cdd1ee610b8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun May 1 19:51:10 2016 -0300

    Mac: replaced a deprecated CGSetLocalEventsSuppressionInterval call that I missed in commit 2f72bdfee9bb

commit bb9dcf5714fda5bbd519bba78ff60f19f3ca1384
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Apr 25 22:17:38 2016 +0200

    Android: Updated name of README file.

commit 46851a6701377546c629bfb7c40294cc65b99245
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Apr 17 22:56:20 2016 -0400

    WinRT: another README tweak

commit 937ae32c7b34c94879d86e5bc7f280e5dc4a41c2
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Apr 17 22:54:45 2016 -0400

    WinRT: README tweaks

commit 31cbb34ec92bad0065e8ba23a4be8712d1291ad3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 14 21:11:43 2016 +0200

    Wayland: Removed not needed including and setting of errno.
    
    One internal function was setting errno on error but it was not read afterwards.

commit ea86c01a86230a5bb01c69b97875f422fd333651
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 14 21:10:57 2016 +0200

    Fixed markdown formatting in porting README for doxygen output.
    
    The underscores and the newlines for the list were lost before.

commit b53007b0c8290e19a543c6f7e3b88f1a51ac245a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 14 21:10:08 2016 +0200

    Added missing error return in test program.

commit 72dc8784b3e6d396781acdb88e43d6563cfe3d6a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 14 21:09:45 2016 +0200

    PSP: Fixed compile error.

commit caf152def7e35acde1f0aa360f90bf8c335d50dd
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Apr 13 21:59:50 2016 -0400

    WinRT: build/link fix

commit c137eb61d7061ade6761b2bc00feb92fd830dc13
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 12 18:40:44 2016 -0400

    Patched to compile on Haiku...?

commit 9b9ca093c763c36ff4121ee9ca233a82f6d33c59
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 12 18:12:04 2016 -0400

    windows: created threads' stack sizes should be reserved, not committed.

commit 9b4db2b8aa45b4cdf52b8ed9cbfe96d7b3d1a718
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 12 18:11:36 2016 -0400

    Patched to compile on various platforms.

commit c61675dc5ddf0f91f9e475ae016dfc0fe8b8b0f9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 12 16:45:10 2016 -0400

    threads: Move SDL's own thread creation to a new internal API.
    
    This allows us to set an explicit stack size (overriding the system default
    and the global hint an app might have set), and remove all the macro salsa
    for dealing with _beginthreadex and such, as internal threads always set those
    to NULL anyhow.
    
    I've taken some guesses on reasonable (and tiny!) stack sizes for our
    internal threads, but some of these might turn out to be too small in
    practice and need an increase. Most of them are simple functions, though.

commit 7ae2951fca4629508e135b43bbc3b711bca525d7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 12 14:38:50 2016 -0400

    threads: Handle SDL_HINT_THREAD_STACK_SIZE at top level, implement elsewhere.

commit 8b65d225e81583e773944fd528493fdb2a246d71
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Apr 11 00:22:39 2016 -0400

    WinRT: bug hack-fix - gamepad detection was failing on Xbox One
    
    Win10's 'GamepadAdded' event seems to need to have something registered with it
    in order for Xinput-based gamepad detection to work.  This 'fix' simply causes
    a dummy event-handler to be added for this event, in case an app wants to use
    gamepads on Xbox One (most likely).

commit 34f095e0985d89e5839424756af856a90873294c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Apr 10 22:07:10 2016 -0300

    iOS: Fixed SDL_GL_CreateContext crashing instead of returning null when a GLES3 context is requested on iOS 6 and older.

commit a581346fae3b086f48e51dadeb23e1a3f071475b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 4 22:49:13 2016 -0400

    alsa: Make device enumeration robust against weird results with NULL strings.

commit 6cfa71a10e4f2a2d5eddaf9cd428faabaeb3f660
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Apr 2 13:21:01 2016 -0300

    iOS: Also do the Dictation crash workaround before executing the animation callback.

commit 88372277b75b438ff506dadf6a2d4fd3350d78a3
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Apr 2 11:54:05 2016 -0300

    Add a new hint SDL_HINT_MAC_MOUSE_FOCUS_CLICKTHROUGH, which allows mouse click events to occur when clicking to focus a window in Mac OS X.
    
    Fixes bug #3300.

commit 5520ed9cc22c35067608063448bc23109c419253
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Apr 1 19:18:50 2016 -0300

    iOS: Workaround for a crash after Dictation is used.

commit f3ca4e4d50d507318a2cac45ed35fc61306b7948
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 1 21:14:49 2016 +0200

    iOS: Fixed compiling demos on C89 compilers.

commit 831597f71482cdaaa4793d7ef3d77d92f144ad33
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 1 21:13:58 2016 +0200

    PSP: Fixed returning success from unsupported SDL_RenderReadPixels().
    
    This also fixed the missing error message.

commit d1e4814120dc18e86b6056e16905075675caef40
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 1 21:12:37 2016 +0200

    PSP: Fixed returning success for unsupported SDL_SetTextureColorMod().
    
    Partially fixes Bugzilla #3298.

commit 12c78c5ca5cb719cdf891eece515315ddd882d09
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 1 21:11:31 2016 +0200

    PSP: Fixed missing error message for unsupported SDL_CreateWindowFrom().

commit 3555e6e58e366c23e78c78b9768fe28e51ce22a4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 1 21:10:43 2016 +0200

    Updated info about required Ubuntu version for Mir support in README.

commit a9edc5137eaa5e2f82dac465aeb893154d20b9b7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 28 21:03:04 2016 +0200

    Wayland: Fixed missing error message if creating a custom cursor failed.
    
    SDL_GetError() returned no error message because it was written to stderr only.

commit 9011eb1c41a814f383d8b1e4804c04cfdb49b543
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 28 21:02:30 2016 +0200

    Removed not needed SDL_WINDOW_SHOWN from chessboard test program.

commit 62ebc527d0b4cd61c262fe61c8e9a5cf5aeba658
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 28 21:01:46 2016 +0200

    iOS: Removed not needed SDL_WINDOW_SHOWN from rectangles demo.

commit bd60850b82ef8caa253785d085da749cb21f64ba
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 28 21:01:26 2016 +0200

    iOS: Fixed keyboard demo ignoring quit requests and window closing.
    
    This also fixed a warning about an unused variable.

commit e9ca5b28a6108a6958bf6bf03a7a8f848cd33d6f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 27 22:26:34 2016 +0200

    iOS: Replaced #import with #include in two demos.
    
    This extension to C is not required here and made the demos less portable.

commit 5fa0cbc4ba14406595e2ec03e18f0ecc6814e577
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 27 22:25:13 2016 +0200

    iOS: Restored older version of rectangles demo.
    
    The demo did not draw rectangles like described in the demo README.

commit 16c479f3320a5bfe2a47bf94432992d2fd8edb6f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 27 22:24:10 2016 +0200

    iOS: Updated SDL version in demo README.

commit fd3dd4e5153d0172e0718f31e98d9d9020545cf4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 27 22:22:13 2016 +0200

    Fixed comment in gesture source.

commit 08488e6d34462635f01e15179814450ba9c56397
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Mar 20 15:35:34 2016 -0300

    Mac: avoid calling CGSetLocalEventsSuppressionInterval, it was deprecated in OS X 10.6.

commit 2c3bf6658a19e19ccd62409627532633414ddbe8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Mar 18 22:15:53 2016 -0300

    Windows CMake: don't try to link dxguid, it's unavailable when using Visual Studio's XP-compatible toolset.

commit 35da13082863216f3c6852e09ae4036fddd0a604
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 16 22:09:39 2016 +0100

    Wayland: Fixed crash if memory mapping failed while creating a custom cursor.

commit fa77df4e914e8e31e1859804fc7c81f476c90e7a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 16 22:09:23 2016 +0100

    Wayland: Fixed storing a theme cursor which is never used in video data.

commit a29a925d7e00ba5af96824074f7c1ab81c179edb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 11 08:33:47 2016 -0800

    Pick up new display mode information after a mode change (Windows only right now).

commit 5333deab1cc249684f2f6de5168c252bb56672ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 11 08:30:18 2016 -0800

    Quick fix for qsort off-by-one error.

commit 19f18558ac5d0ca441a3096f4d03d9c69174ca29
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 11 22:10:35 2016 +0100

    Emscripten: Deactivated custom cursor support because it created system cursors.

commit 676041aa16ddbf2184ac1f5b55c8411e01c59e43
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 11 22:10:15 2016 +0100

    Wayland: Fixed drawing created cursors without transparency.

commit 167dd4a1fa5cf17d4f49bbf81e7ee5404eeb1aa2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 11 22:09:50 2016 +0100

    Wayland: Fixed showing created cursors incorrectly before the first redraw.

commit 0c923fda0bf9e9a571851666a7742b10a6e52a25
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Mar 10 21:00:44 2016 +0100

    WinRT: Removed dead code and fixed memory leak if allocation for driver failed.

commit b82f48bad359adf76a3957726cb71993d015ead9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Mar 10 21:00:27 2016 +0100

    Fixed compiling IME test program with HAVE_SDL_TTF on C89 compilers.

commit 43594e3f3df4eb0195257b669febb2ad71be93da
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Mar 10 21:00:13 2016 +0100

    Removed unnecessary include statement in test program.

commit deb2acbcd92beb2ae9f40cff585700ee5757fccd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 10 01:50:43 2016 -0500

    A simple test program for SDL_qsort().

commit 7e0261ec2659fef880301ebaa979f41b17ad6e48
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 8 20:26:26 2016 -0500

    Another commit to test revision control.

commit 64d51a93f4dbab3b74c1cb12175b689bab112251
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 8 20:24:20 2016 -0500

    Minor tweak to a README to test Mercurial server.

commit 6303941ac17cc8c0c113a6abc6bdaef92d9948e3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Mar 8 13:55:50 2016 -0800

    Fixed infinite timeout in SDL_WaitEventTimeout() - thanks ?????????? ????????

commit 2a754ca735566446b5e175b2de381147df655d2c
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Mon Mar 7 08:22:55 2016 -0500

    Allow mappings to be added before GameControllerInit

commit 1e8df9cd6075fe2c95514645a6310ebc413e4575
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 5 23:25:23 2016 -0500

    alsa: Implemented basic device detection.
    
    This is kind of nasty, because ALSA reports dozens of "devices" that aren't
    really things you'd ever want, or things that should be listed this way, but
    the default path still works as before, and it at least allows these devices
    to be available to apps.
    
    This does not handle hotplugging yet. You get a device list at init time
    and that's it.

commit f647dfe874aa72166fbfd8c254b1c5f578f57bf5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 4 19:41:16 2016 -0500

    x11: Fix a few more XMoveWindow() calls to adjust for border size.
    
    Also, fix my inability to do basic math ('+' should have been '-').

commit 02f49fdb5335ff0db0df268c0dcc436ddf96216e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 4 18:47:19 2016 -0500

    x11: Deal with window borders better.
    
    - Cache the _NET_FRAME_EXTENTS data locally, so we don't have to query
    the X server for them (instead, we update our cached data when PropertyNotify
    events alert us to a change).
    
    - Use our cached extents for X11_GetWindowBordersSize(), so it's a fast call.
    
    - Window position was meant to refer to the client area, not the window
    decorations, so adjust appropriately when getting/setting the position.

commit 05b6ca3c35c9429c4848e7c7ae3a1beca5fe5daf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Mar 3 20:12:51 2016 +0100

    Raspberry: Fixed crash if memory allocation for cursor failed.

commit 21d32975972152fad9af6173a5fadb5c0b56e56f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Mar 3 20:11:43 2016 +0100

    Fixed compile warnings about unused variables in IME test program.

commit be34036ed7b6ec9c507395831b2ec7b0554187e6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 2 20:25:23 2016 +0100

    Wayland: Fixed fault in event handling which might have caused a crash someday.
    
    Found by Cppcheck.

commit ab8be04310363e3bbe2383d7af01ab22cca0ee2e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 2 20:25:09 2016 +0100

    Wayland: Fixed crash if allocating memory for cursor failed.
    
    Also added missing error message if first allocation failed.

commit e8b436851235c1ec3291e46a28b173bdad713799
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 2 20:24:43 2016 +0100

    Replaced strlen() with SDL_strlen() in IME test program.

commit 3a22321d5532410d696ed7183bca06eff549f3c9
Author: Jonas ?dahl <jadahl@gmail.com>
Date:   Wed Feb 17 15:14:20 2016 +0800

    wayland: Add wl_proxy_marshal_constructor_versioned sym
    
    wl_proxy_marshal_constructor_versioned was introduce in wayland-client 1.10.

commit 90ef601d8cafc7a535a2c0a96919e908ec71e939
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Feb 25 10:06:33 2016 -0800

    Mir: Do not use opengl to find the valid pixel format if we dont use opengl

commit 966aa3721ba0a408cc18faba81092ecd5ce7189c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 24 21:07:19 2016 +0100

    Mir: Replaced memcpy() with SDL_memcpy().

commit b4b36122a45ca8c80c23b95937350bd72fac4b39
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 24 21:06:46 2016 +0100

    Mir: Fixed comment at conditional compilation macro.

commit 4011d991e79e8a6e20eaf397613631f19ae693cd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 24 21:05:19 2016 +0100

    Fixed doxygen warnings about markdown formatting.

commit 92209c260d5b36db12bbdf7f4a0f669806c11468
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Feb 22 19:00:22 2016 +0100

    Mir: Fixed crash if allocating memory for cursor failed.

commit 697984df20b85781cf0a1261a326942634096df7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 21 19:21:21 2016 -0500

    Regenerated configure script with Mir changes.

commit 3607d3b756bfae073c35454feb4ec6fd7c764b0a
Author: bschaefer <bschaefer@localhost>
Date:   Sun Feb 21 15:19:35 2016 -0800

    Fix API/ABI breakage in Mir 0.13/0.14.

commit 481a21b025f2fcd476307739238bb0394dd36204
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 21 17:21:29 2016 -0500

    Windows: Just use WaitForSingleObjectEx() everywhere.
    
    (It's supported on WinXP, no reason to have an #ifdef here...I think.)

commit 9fd4d4dd39ba0b81f77ea93f459171cd6d18c4b7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 21 17:05:25 2016 -0500

    Windows: let threads be named in the debugger.
    
    We now only raise the magic exception that names the thread when
    IsDebuggerPresent() returns true. In such a case, Visual Studio will
    catch the exception, set the thread name, and let the debugged process
    continue normally. If the debugger isn't running, we don't raise an exception
    at all.
    
    Setting the name is a debugger trick; if the debugger isn't running, the name
    won't be set if attached later in any case, so this doesn't lose functionality.
    
    This lets this code work without assembly code, on win32 and win64, and
    across various compilers.
    
    The only "gotcha" is that if you have something attached that looks like a
    debugger but doesn't respect this magic exception trick, the process will
    likely crash, but that's probably a deficiency of the attached program.
    
    Fixes Bugzilla #2089.

commit 32c70cc546dabf4dbb0b6c9500336b06afb5ce4e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 21 13:07:14 2016 -0500

    stdlib: Restored previous qsort() implementation; the licensing is resolved.
    
    Thanks to Gareth McCaughan for changing his code to the zlib license on
    our behalf!

commit 2436ca200d912bd1b799ddecbd032a16fe562900
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 20 01:03:39 2016 -0500

    x11: better fix for the previous commit's fullscreen vs maximized issue.

commit a4627c5edacf91b8b8954652689c69f2c59df5c3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 20 00:44:42 2016 -0500

    x11: Don't mess with fullscreen vs maximized window state on unmapped windows.

commit dddd6a5a9a662d3b10133a29ac263f8fe3f1577d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 19 00:28:53 2016 -0500

    Android: Restored Philipp's joystick change, lost in the previous merge.
    
    This patch, specifically: https://hg.libsdl.org/SDL/rev/c0976de9c332

commit 03f9711797a660424965c61a06c97b870c43f9a4
Merge: df4be2f20 704298c0c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 19 00:24:00 2016 -0500

    Merge Android C89 fixes from Eric Wing.

commit df4be2f200c723763b49e96939fe4cc8d1830e28
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 18 23:27:58 2016 -0500

    x11/wayland/mir: Make the dynamic loading macro salsa a little less messy.

commit d6699d554182d815e5543787ec80f41dd0b03cac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Feb 17 14:15:37 2016 -0800

    Added support for the Mad Catz FightStick TE S+ PS3

commit 5c59da2e8faa4f7a291922673e7cc3504893c959
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 16 13:51:24 2016 -0800

    Added support for the Mad Catz FightStick TE S+ PS4

commit 0682857783cea3ce150741877218b6d9f6e9211f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 16 13:51:15 2016 -0800

    Added support for the Akishop Customs PS360+ v1.66 and MadCatz PC USB Wired Stick 8818

commit a38d5b480d5db76d100ff4ffa37bdaf3cb436673
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 16 13:48:46 2016 -0800

    Added support for several Mad Catz arcade sticks

commit 1c2beb2180472fa5309154c2a0dcd95a41ac9ce3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 16 13:47:37 2016 -0800

    Allow using the game controller API with arcade sticks and other XInput devices

commit 9cd9925cc93f2bc61f1941db13cce24c9c6d28ef
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Feb 16 20:32:22 2016 +0100

    Android: Changed an internal joystick function to return count instead of id.
    
    The returned value is currently not used by the caller. The instance id would
    also not be needed on Java side and providing it just complicated the function.
    
    Partially fixes Bugzilla #3234.

commit 0e2badc144220b006a4d3fba8383c1bb86851a0d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 12 00:27:21 2016 -0500

    x11: Patched to compile with DEBUG_XEVENTS on C89 compilers.

commit 45407d0eac51adf54b1f8424b27da4a52d8c3b8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 15 21:49:09 2016 -0500

    x11: Removed an assert.
    
    This assert triggers when run under XMonad. It's safe to pass a zero here
    anyhow, as this will still work "well enough" and the original
    problem--GNOME printing a warning message--is still fixed because GNOME's
    window manager gives us a chance to grab a non-zero user-time value before
    this code is run.

commit 09ae4df5bf99f217b76ca19c863c2297838b079f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 15 03:37:01 2016 -0500

    Another attempt to fix Windows build.

commit 18f74c6e152e4602adc3a7e88ec34f3469b35e70
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 15 03:21:26 2016 -0500

    Patched to compile on Visual Studio.

commit 014956ac1dda5f0baf45eb8c2a79e219308e9ed2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 15 03:16:46 2016 -0500

    Replaced SDL_qsort with public domain code from PDCLib: http://pdclib.e43.eu/

commit 33af421d7b646721b80c54e25fcdd1df9497ccb3
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Feb 14 21:17:25 2016 -0400

    Windows: make sure SDL_TicksInit has been called before calling Sleep(ms) in SDL_Delay. This ensures the Windows system timer resolution is properly set before Sleep is called.

commit 37a5416784603f35ae72783ba8ff36c61974fb64
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 13 17:35:38 2016 +0100

    PSP: Deactivated dynamic API.
    
    Thanks to Bugzilla #3240 for pointing this out.

commit 570215b9dadb9584fb020aa9eafe84e564e1a8ce
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 13 17:34:14 2016 +0100

    PSP: Added missing object for generic TLS to Makefile.
    
    Thanks to the SDL mailing list (and later Bugzilla #3240) for pointing this out.

commit 7da168db0aa666b00e88743d8a65ad3012b249bc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 10 19:31:23 2016 +0100

    Fixed spaces in license comments.

commit 704298c0c24c289d01f4d5005d5bd3ea6bd56d65
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Tue Feb 9 17:36:42 2016 -0800

    Android: C89 cleanup to avoid warnings/errors since the default gcc mode on Android is still pre-C99.

commit 5ed63ae317a1d09eebefa56d9a3af8181402048e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 8 01:08:21 2016 -0500

    x11: Updated imKStoUCS.* to latest from x.org.
    
    This was a version from XFree86 before now.  :)  Although not much has
    changed.

commit 8e7cd6b5da2302d1898a64c611a2f8e857c5f55a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Feb 3 20:32:55 2016 -0400

    iOS: Implemented clipboard support.

commit 4249f4666cb70fd8f013c3d8b03fc5275e7f8724
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 31 21:11:15 2016 -0800

    David Carlier implemented SDL_GetBasePath() for OpenBSD

commit 1fb30db04838b23692f2623a1fcddb474dedc8df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jan 31 11:29:11 2016 -0800

    Return the full number of events from SDL_PeepEvents() if NULL is passed in with SDL_PEEKEVENT

commit 325921789a6f728ecdc2a11ddc8525b538ca672b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jan 31 09:39:42 2016 -0400

    x11: Fix AltGr generating an invalid keycode (bug #3244). Thanks Thomas!

commit 9bdd188115a01be57efe076565b13b6b5d83c6af
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 27 23:20:23 2016 +0100

    PSP: Removed inlined copy of SDL_CalculateAudioSpec()'s functionality.

commit 88f519372f4a80c5f6dbd50ac8c527af00b237da
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jan 26 22:20:05 2016 +0100

    Android: Fixed ignoring a return value while handling motion events.
    
    This should not have caused problems yet because the return value was identical.

commit 67f9fd2bc427d7bee88b281eaa17a6064f9f93ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jan 22 13:12:16 2016 -0800

    Fixed creating fullscreen windows on Steam Link

commit e5d575b93343f5f0c6f0497170d799aaaf7f0a9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 16 21:58:49 2016 -0800

    Expose the EGL display and window for Vivante SDL windows

commit 0a1999dfd2357dc0aefec1b602e1a16fb2f25aa0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 16 21:25:10 2016 +0100

    Fixed compile warnings about type conversion.
    
    Found by buildbot.

commit 2191abb2c90ec2c465a71a12a252c78320566622
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 13 19:31:03 2016 +0100

    Android: Fixed finishing Activity on some devices if right mouse button pressed.
    
    Partially fixes Bugzilla #3227.

commit 28817c9c7177343e8f3cab539fdf44ff4dfbb630
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jan 12 22:23:53 2016 +0100

    Fixed two typos in documentation.

commit 8d035b1aee20175ac4726020ca83db5c605f08ca
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jan 12 22:23:00 2016 +0100

    Android: Added mouse initialization to reset state.
    
    If the app is launched again then the shared object may be reused (on Android).

commit 46cb8510187e30b1a82f8c2f30b9a0d40621a60c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jan 12 22:22:24 2016 +0100

    Android: Fixed a comment.

commit 15603519058b17a4cc863db5bd518f2638423980
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 11 20:02:48 2016 +0100

    Android: Added mapping of mouse forward button and mouse back button.

commit 87ea39be8499fc7bb87868e271b190ee337b15de
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jan 9 17:41:09 2016 -0400

    Removed dead code (caught by Clang's static analyzer).

commit 1615b2e29d33df8f8107bfe2260190fc69d6d440
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 8 07:32:51 2016 -0500

    CMake: only set "-O3 -g" defaults if CMAKE_BUILD_TYPE wasn't set at all.

commit 06129f6de95fb1d7594bc0c45a53bb64ef48259c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jan 8 07:21:15 2016 -0500

    Fixed buildbot's static analysis script to enable assertions.
    
    This removes false positives. Apparently someone forced the default CMake
    builds to use -O3, turning these off by default.  :/

commit ed620333667845ff179d95d0adb778881b043e7f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 7 19:58:00 2016 -0500

    x11: make last mouse coords sane upon window entry (thanks, Cengiz!).
    
    (and thanks to Cengiz for many of the previous Unreal-related
    patches! They were generically credited to Epic Games, but a large
    amount of that work was his contribution.)
    
    Fixes Bugzilla #3067.

commit 757e994eaa8b4ebf276ae5901668bee1110c8d7f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 7 17:21:50 2016 -0800

    Fixed --enable-new-dtags check with cmake

commit dc5f05bb99b9618db11db23a74605c7a98213b1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 7 16:42:30 2016 -0800

    Use --enable-new-dtags to set RUNPATH rather than RPATH so that LD_LIBRARY_PATH is not overridden by the application.

commit 73680ab3740392904a72309ccf3d7a6757a049cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 7 16:01:24 2016 -0500

    Fixed NULL dereference on drop events with no window associated.
    
    (such as when dropping a file onto an app's icon to launch.)
    
    This bug caught by Clang's static analyzer.

commit 1c4c3f505f1c07b44a0c57693882fb6ad8bd0f4f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 7 12:01:51 2016 -0800

    Updated debian packaging files

commit 5dcf6bcc32b73298d338cc24d4d5930897f4c764
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 7 14:51:22 2016 -0500

    Updated dynamic API table.

commit 167cf14c1fc19b921f03101ef4df433ce09fab00
Author: Ethan Lee <flibitijibibo@flibitijibibo.com>
Date:   Tue Jan 5 16:39:18 2016 -0500

    SDL_RenderSetIntegerScale

commit 416d046663b6674ba9f0abc076988840dc0c3407
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jan 7 14:02:37 2016 -0500

    Mac: Implemented SDL_GetDisplayDPI (thanks, Kirill!).
    
    Fixes Bugzilla #3223.

commit 1d1ba58f28750a0e8cbff591df84a12116134fb2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 6 22:39:29 2016 +0100

    Fixed compile warnings about uninitialized variables in test library.
    
    Found by buildbot.

commit a4ce22fbf3a618c44e0e410049e2cdc706a71f31
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 6 22:39:04 2016 +0100

    Fixed outdated information in a README for iOS.
    
    Four of the listed programs do not exist anymore.

commit 1a26c0c838c4f0caa6ee4fe97f62290e18c652cf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 6 22:38:35 2016 +0100

    Fixed doxygen warnings.

commit bb1e2bd0b56595a02005a335f4bed1a9f2fcb7d1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 05:44:32 2016 -0500

    CMake: Turned off Mac OS X rpath warning kludge.
    
    Apparently CMake errors out if it doesn't know this policy, and we don't
    otherwise require CMake 3.0 yet. Sigh.

commit 49e47688b427eabe6838359d670b9eefbe2bda41
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 05:38:55 2016 -0500

    Patched to compile on iOS.

commit 881ccccbcf326389227315f3e3425cd5f9c5f6cf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 05:31:33 2016 -0500

    Android: Fixed up drop events for new interface.

commit eeb899999fe3bbd5548709cfd51d51fe811efaa9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 05:22:35 2016 -0500

    Patched to compile.

commit 7605ccf68ac8c8004cb9fd01ea8436d369db26f2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:29:16 2016 -0500

    Use SDL's stdinc functions instead of C runtime calls.

commit dc532c70e8086030b67794c62bc41922c3d5386c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:27:50 2016 -0500

    Added SDL_WINDOWEVENT_TAKE_FOCUS.
    
    This is for corner cases where a multi-window app is activated and wants to
    make a decision about where focus should go.
    
    This patch came from Unreal Engine 4's fork of SDL, compliments of Epic Games.

commit d77a55738bf967c8fcc12c4fc1db29d5abe1c645
Merge: 27fab8f4b 4393a7111
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Sun Jun 21 04:04:14 2015 -0700

    merged SDL 2.0.4 rc2

commit 4393a711108e534eeb30759e09ff53df28c22c95
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jun 20 11:15:37 2015 +0200

    Added missing file and folder to the release archive.

commit 36af63f0c002407bc540ca98ee806132edd59d97
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 20 00:25:28 2015 -0700

    Added the docs directory to the release archive

commit fb5732dc5c0b5bbda351a88c1dbe79a1fe30c56f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:53:33 2015 -0700

    GCC is warning about global functions with the same name as variables in the code, when using -Wshadow.
    This is a little ridiculous because we have no idea what functions a given platform will provide, so we'll disable -Wshadow for now.

commit 903df4afbda3e9492aae4e2e626b7f87874e9894
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:49:00 2015 -0700

    Use CLOCK_MONOTONIC_RAW, if available, which is not subject to adjustment by NTP

commit f71fa2f4028db82bf512f0fc4bff0557748728e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:40:23 2015 -0700

    Android has clock_gettime() - thanks Michael Labbe!

commit 3426c99acfcd69ca7628e67360f6a8a7444442fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:32:37 2015 -0700

    Cleaned up Xcode rules a little more

commit f6b788f095f50406a40cbec3100c3ee4ae70c445
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:27:35 2015 -0700

    Simplified Mercurial ignore rules for Xcode build products

commit d763a9f64dd653eb7cb52ad3dd80c56cef882ba2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:22:53 2015 -0700

    Fixed bug 2538 - SDL_SetTextureAlphaMod does not work with SDL_FlipMode or rotation in the software renderer
    
    Adam M.
    
    When setting a texture alpha mod other than 255 and also specifying a flip mode in the software renderer, the rendering fails. When the texture has an alpha channel, it becomes invisible when flipped. When the texture does not have an alpha channel, it is flipped but the colors are wrong: the alpha mod makes the texture darker rather than more translucent.
    
    0) Initialize a software renderer.
    1) Load 16-bit 565 or 32-bit texture.
    2) Set texture blend mode to BLEND.
    3) Set texture alpha mod to 150.
    4) Draw the texture flipped horizontally and/or vertically.

commit b7ede6cc47ffdb5e0bb253181595472ea520f985
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:20:43 2015 -0700

    Fixed bug 1550 - SDL_RenderCopy/CopyEx in software should optionally render 8bit alpha
    
    Adam M.
    
    There are three problems in the code that I see.
    1. SW_RenderCopyEx enables a color key on surface_scaled even if the source surface didn't have a color key.
    2. SW_RenderCopyEx doesn't copy blend mode, color mod, or alpha mod from src to surface_scaled.
    3. When SDL_BlitScaled(src, srcrect, surface_scaled, &tmp_rect) is called, it blends the src pixels into surface_scaled instead of overwriting them (if src has blending, etc. enabled).
    
    I've attached a patch that 1) fixes the three problems that I mentioned, 2) adds the requested performance improvement of using the regular blit function if no rotation or flipping is needed, 3) avoids cloning the source surface if no stretching is required, and simplifies the rotation code slightly.

commit e589cdba2fa7e0fecc61d9480c267c42980c3f98
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 23:12:13 2015 -0700

    Fixed bug 3023 - setting a white and then non-white texture color mod breaks the texture with software renderer
    
    Adam M.
    
    Okay, here is the problem, I think.
    
    During the first blit, RLEAlphaSurface is called to do RLE conversion of the RGBA source into a format allowing it "to be quickly alpha-blittable onto dest". Since the destination is the screen, it has no alpha channel. RLEAlphaSurface calls copy_opaque(dst, src + runstart, len, sf, df) (where copy_opaque is copy_32), which has this code:
    
    SDL_RLEaccel.c:984:
      RGBA_FROM_8888(*src, sfmt, r, g, b, a);
      PIXEL_FROM_RGBA(*d, dfmt, r, g, b, a);
    
    On the first line, it reads the source pixel 0xFFFFFFFF. The second line drops the alpha value (because dfmt for the screen has no alpha channel) and writes 0x00FFFFFF. Later, when the RLE conversion is being undone, uncopy_32 is called, which has the following code:
    
    SDL_RLEaccel.c:1001:
      Uint32 pixel = *s++;
      RGB_FROM_PIXEL(pixel, sfmt, r, g, b);
      a = pixel >> 24;
      PIXEL_FROM_RGBA(*dst, dfmt, r, g, b, a);
    
    However, the the alpha channel has already been dropped by copy_opaque (= copy_32), so pixel = 0x00FFFFFF and 'a' becomes 0. Thus, all opaque pixels lose their alpha channel when being unRLE'd. (I don't know what happens to pixels with alpha from 1-254, but they should be checked too.)
    
    So, that seems to be the problem, but I'm not sure what the solution should be. Since opaque pixels have alpha == 255, I'm thinking to create another uncopy function for opaque pixels that simply uses 255 for alpha.
    
    However, there may be other problems here. For translucent pixels, uncopy_32 assumes the alpha channel is stored in the upper 8 bits, but copy_32 doesn't store it there. Instead, it stores it in whatever location is appropriate for the destination surface. Isn't one of their behaviors incorrect, given the other? I'm not sure which to change, however.
    
    For translucent pixels, it seems that the blit function uses do_blend, which is the BLIT_TRANSL_888 macro, which also assumes alpha is in top 8 bits. It has the comment "we have made sure the alpha is stored in the top 8 bits...", but it seems that's not true (copy_32 doesn't make sure the alpha goes there).
    
    Perhaps the correct fix is to make copy_32 put the alpha there, but then that seems to require that RLE conversion be limited to destination surfaces that don't use the upper 8 bits. However, looking further, it seems that has already been done: if (masksum != 0x00ffffff) return -1; /* requires unused high byte */

commit 82ae4f6fc5121b23982279fcbfb5e4df319a245c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jun 19 22:12:47 2015 -0700

    [mq]: 3027_rleperf.diff

commit 21935b03130cab356c561ff17a00750f9ee363e5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 19 21:17:00 2015 +0200

    Added more entries and brackets to WhatsNew.txt for 2.0.4.

commit 3a84f7b5204afbe9d3ce2dec91969f88730c29e9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 18 22:34:39 2015 -0400

    CMake fixes for MingW (thanks, Ozkan!).
    
    - ignore DXSDK_DIR for mingw environment
    - use dxerr8 instead of dxerr for mingw.
    
    Partially fixes Bugzilla #3016.

commit dd8c64779b0074b31da0e092759eb3d3c73fecbe
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jun 18 12:20:46 2015 -0300

    Updated WhatsNew.txt's 2.0.4 list to include a more detailed set of changes for iOS, and added a couple missing items to the OS X and Windows sections.

commit 604932ea8497ebe25f553efc311aa41962d521a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 18 00:44:57 2015 -0400

    Moving some whitespace around to test something on the Mercurial server.

commit 27fab8f4bb44c9f7d62c3d51d254d6b6283ac870
Merge: 1a348aac4 7d5147bad
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Wed Jun 17 20:03:08 2015 -0700

    merged SDL 2.0.4rc1+

commit 1a348aac4f858939b0ef7d72aab66b8dacfb877a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jun 17 21:05:25 2015 +0200

    Android: Fixed two warnings.

commit 40244dc1a9e8c0f87b263403457264ab2b611a98
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 17 13:02:41 2015 -0400

    Whitespace fix.

commit d002d6bf9fb1fd926eb8978994001fd48fb715d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 17 12:59:12 2015 -0400

    Removed Edgar's name from SDL_haptic.h at his request.

commit 4598903548f1701282bf1fad656eb4be6c0d8495
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 17 00:07:45 2015 -0700

    Partial fix for bug 2758 - Android issues with NDK r10c and API-21
    
    Sylvain
    
    When using API 21 and running on an old device (android < 5.0 ?) some function are missing.
    
    functions are (at least) : signal, sigemptyset, atof, stpcpy (strcat and strcpy), srand, rand.
    
    
    Very few modifications on SDL to get this working :
    
    on SDL
    ======
    
    Undefine android configuration :
    
    HAVE_SIGNAL
    HAVE_SIGACTION
    HAVE_ATOF
    
    In "SDL_systrhead.c", comment out the few block of lines with "sigemptyset".
    
    Android.mk:
    remove the compilation of "test" directory because it contains a few rand/srand calls
    
    Also, there are more discussions about this in internet :
    https://groups.google.com/forum/#!topic/android-ndk/RjO9WmG9pfE
    http://stackoverflow.com/questions/25475055/android-ndk-load-library-cannot-locate-srand

commit 3779bf3845e43150cf1a3897aeeaea5489e498b8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 17 00:00:53 2015 -0700

    Fixed bug 2948 - [Android] Arrow keys from external keyboard are not received
    
    Sylvain
    
    http://developer.android.com/reference/android/view/InputDevice.html
     int SOURCE_CLASS_JOYSTICK   Constant Value: 16       (0x00000010)
    
     int SOURCE_JOYSTICK         Constant Value: 16777232 (0x01000010)
     int SOURCE_KEYBOARD         Constant Value: 257      (0x00000101)
     int SOURCE_GAMEPAD          Constant Value: 1025     (0x00000401)
     int SOURCE_DPAD             Constant Value:  513     (0x00000201)
    
    
    I have an a PC keyboard that I connect to an android device.
    The issue is that "arrow" keys gets lost.
    
    More explanation:
    
    This device gets detected twice by the java "pollInputDevices()" both as SOURCE_KEYBOARD and as a composite (0x1000311 == SOURCE_JOYSTICK | SOURCE_KEYBOARD | SOURCE_DPAD).
    Because of being a SOURCE_CLASS_JOYSTICK, only the second entry is registered, and I opened it.
    
    
    When I press one arrow key, the java method "onKey(...)" is called.
    The Source "event.getSource()" is "SOURCE_KEYBOARD", so it enters this conditions :
    
       if ( (event.getSource() & InputDevice.SOURCE_GAMEPAD) != 0 ||
          (event.getSource() & InputDevice.SOURCE_DPAD) != 0 ) {
    
    
    And then, it enters :
    
       SDLActivity.onNativePadDown() (native code in "SDL_sysjoystick.c")
    
    
    Since the "arrows" are viewed as "D-PAD", it gets translated :
    
       int button = keycode_to_SDL(keycode);
    
    
    But the android-java "event.getDeviceId()" is wrong: this is the one from the Keyboard, and not the one from the Joystick that I have opened.
    So I don't get them through the Joystick interface.
    
    
    And since, the keycode has been translated, it returns 0 and assume it was consumed.
    So I lost the key in the function "Android_OnPadDown()"
    
    
    Notice, It won't happen with other normal "letters" keys because they does not get translated by "keycode_to_SDL", so "Android_OnPadDown()" returns -1.
    And then java code send the keys to "SDLActivity.onNativeKeyDown()".
    
    
    
    
    Possible patch on "Android_OnPadDown" and also "Android_OnPadUp" (and maybe other functons):
    
    85 int
    186 Android_OnPadDown(int device_id, int keycode)
    187 {
    188     SDL_joylist_item *item;
    189     int button = keycode_to_SDL(keycode);
    190     if (button >= 0) {
    191         item = JoystickByDeviceId(device_id);
    192         if (item && item->joystick) {
    193             SDL_PrivateJoystickButton(item->joystick, button , SDL_PRESSED);
    194         }
    +           else return -1;
    195         return 0;
    196     }
    197
    198     return -1;
    199 }
    
    It would allow the java caller function to send the key to "SDLActivity.onNativeKeyDown();"
    
    
    
    Another solution, would be to replace:
    
     if ( (event.getSource() & InputDevice.SOURCE_GAMEPAD) != 0 ||
          (event.getSource() & InputDevice.SOURCE_DPAD) != 0 ) {
    
    by
    
     if ( (event.getSource() & InputDevice.SOURCE_CLASS_JOYSTICK) != 0)
    
    Because only "SOURCE_CLASS_JOYSTICK" devices are registered/opened.

commit 5db002bb1ed91a7cd1b1204124041a6d1e6715a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 16 23:58:09 2015 -0700

    Fixed bug 2949 - [Android] Virtual DPAD remote not registered
    
    Sylvain
    
    I have an android device to which I try to connect the google virtual remote application.
    https://play.google.com/store/apps/details?id=com.google.android.tv.remote
    
    The java method "pollInputDevices()" detects it as an input source 0x701 which is (SOURCE_KEYBOARD | SOURCE_GAMEPAD | SOURCE_DPAD).
    
    It it not added because it does not AND-bitwise with "SOURCE_CLASS_JOYSTICK".
    It's only a virtual DPAD and it works when checking also with SOURCE_CLASS_BUTTON

commit 33ed20fafabbaeb7b73db4c070d84a8f85b207ef
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 16 22:16:35 2015 -0700

    Fixed bug 2774 - Android: screen distorted in Landscape after background/foreground
    
    Sylvain
    
    With a Landscape application.
    Going to background with Home Key, then foreground.
    The screen is distorted.
    
    This has been reported by Samsung. It happens on S5 and Samsung Alpha, see the video attached.
    
    I have captured the following logcat:
    
    V/SDL     (20549): onResume()
    V/SDL     (20549): surfaceCreated()
    V/SDL     (20549): surfaceChanged()
    V/SDL     (20549): pixel format RGB_565
    V/SDL     (20549): Window size:1920x1080
    I/SDL     (20549): SDL_Android_Init()
    I/SDL     (20549): SDL_Android_Init() finished!
    V/SDL     (20549): SDL audio: opening device
    V/SDL     (20549): SDL audio: wanted stereo 16-bit 22.05kHz, 256 frames buffer
    V/SDL     (20549): SDL audio: got stereo 16-bit 22.05kHz, 1764 frames buffer
    V/SDL     (20549): onWindowFocusChanged(): true
    V/SDL     (20549): onWindowFocusChanged(): false
    V/SDL     (20549): onPause()
    V/SDL     (20549): nativePause()
    V/SDL     (20549): surfaceDestroyed()
    
    Background / Foreground
    
    V/SDL     (20549): onResume()
    V/SDL     (20549): surfaceCreated()
    V/SDL     (20549): surfaceChanged()
    V/SDL     (20549): pixel format RGB_565
    V/SDL     (20549): Window size:1080x1920
    V/SDL     (20549): surfaceChanged()
    V/SDL     (20549): pixel format RGB_565
    V/SDL     (20549): Window size:1920x1080
    V/SDL     (20549): onWindowFocusChanged(): true
    V/SDL     (20549): nativeResume()
    
    
    
    This seems to be related to the fact that I have in "AndroidManifest.xml":
    android:configChanges="..."
    Because of the fields: "orientation" and also "screenSize".
    
    
    I have looked for another way to solve the issue. Discarding the "surfaceChanged" call, based on the "requestedOrientation" and the new Orientation. It seems to be better.
    
    
    On my failing test case, the first "surfaceChanged()" is discarded. Sometimes the "focusChanged()" might appear between the two "surfaceChanged()", while the surface is not yet ready. Thus, discarding also the "nativeResume()".
    
    So, for robustness, a call to "nativeResume()" is added at the end of "surfaceChanged()".
    
    Some update:
    
    1/ First I tried, to discard the surface using the current orientation (rather than width / heigh). -> that solve the issue sometimes, but not always.
    
    2/ Samsung Certification now accepts my application that were previously failing.
    
    3/ I personally now owns a Samsung S5, and was able to solve the issue on my side.
    
    4/ I now use the patch and get no complaints from my users. (but I admit, nobody seemed to be complaining before neither...).
    
    5/ I have added a v2 because of a new smart-phone called "Black Berry Passport" that has a square screen of 1440x1440. This screen has a "status bar" so the resolution is in fact : 1440x1308. (as reported by "surfaceChanged").
    
    Problem is: the portrait resolution is in fact a Landscape!
    
    So the "v1" patch is always discarding the "surface" of BlackBerry Passport. Which is terribly bad.
    
    
    Hence, I added the "v2" patch not to discard the surface when aspect ratio is < 1.20. (BB 1440/1308 is : 1.1009). Which seems fair.

commit d29812d0926bba94571dab6387239b87d955a931
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 16 20:28:21 2015 +0200

    Moved entry in WhatsNew.txt because it was already in 2.0.0 for Android and iOS.

commit 58efd8e54719e59ec92ebedc9ecb3e6001dc7f6a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 16 20:27:01 2015 +0200

    Fixed comment in test program.

commit ae60afce16053936c14e19ffe04182f8734280f8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 16 20:25:53 2015 +0200

    Excluded SDL_egl.h from doxygen input.

commit 59d34bc35dbe9d23e78f137c08e47fecddcc93a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 15 23:44:08 2015 -0700

    Fixed bug 3015 - grab mouse inconsistent state
    
    Martin Gerhardy
    
    Not sure - but I think there might be a logic flaw in SDL_SetWindowGrab.
    
    The problem here is that this modifies the window flags and e.g. sets
    SDL_WINDOW_INPUT_GRABBED - but the _this->grabbed_window pointer is not
    yet set.
    
    Then in SDL_UpdateWindowGrab the _this->grabbed_window pointer is only
    set if the function pointer _this->SetWindowGrab is not NULL. But if
    this is NULL, the _this->grabbed_window pointer is never set, but every
    future call to any of the grab functions include an assert for:
    SDL_assert(!_this->grabbed_window || ((_this->grabbed_window->flags &
    SDL_WINDOW_INPUT_GRABBED) != 0));
    
    That means the first call works, the second always fails and triggers
    the assert.

commit ccc12a3632fe2c7e71a06a85ba73a98eedbeeb92
Author: Colby Klein <shakesoda@gmail.com>
Date:   Mon Jun 15 20:24:51 2015 -0700

    Implement repositioning the OS-rendered IME with SDL_SetTextInputRect on Windows.

commit 0c3830a9a9d3cf071bb4dc9dee0403af867d66cd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 16 00:57:45 2015 -0400

    Haptic/Linux: Keep track of device numbers properly to track duplicates.
    
    Fixes Bugzilla #3014.

commit d797582376c933ff1e95615805300b0870a66af0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 19:26:20 2015 -0700

    Fixed style

commit 34634082ff755a0811bfe21822a155e897459108
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 19:25:12 2015 -0700

    Fixed bug 3012 - Android accelerometer joystick axis values overflow when values from Android are larger than gravity
    
    Magnus Bjerke Vik
    
    This causes issues when for instance using the joystick API to make an Android phone rotate an object by rotating the phone. When the absolute value of an axis reported by android is larger than earth gravity, SDL will overflow the Sint16 value used for joystick axes, causing sporadic movements when close to the gravity. Just holding the phone so that e.g. Y points directly upwards will make it unstable, and even more if you just tap the phone gently from below (increasing the acceleration).
    
    More detailed: SDLActivity gets the accelerometer values in onSensorChanged and divides each axis by earth gravity. SDL_SYS_JoystickUpdate takes each of the axis values, multiplies them by 32767.0 (largest Sint16), and the casts them to Sint16. From this you can see that any value from Android that exceeds earth gravity will overflow the joystick axis.
    
    A fix is to clamp the values so that they won't overflow the Sint16.

commit e3df6d5e662918e352e2ec42e4d64bfafe786708
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 19:21:13 2015 -0700

    Fixed bug 2953 - Crash due to a bad cleanup in the SDL_SYS_HapticQuit function
    
    Technically this is caused by the haptic devices not being closed at quit time, which we need to fix anyway, but this is a bandaid for now.

commit a4eb0dea863e4ae182c7bcd0562c161d6dfc25ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 19:10:51 2015 -0700

    Fixed bug 2908 - Fix clang warnings
    
    Simon Deschenes
    
    My build system still shows warning as errors.
    
    The first warning says that the member named instances can never be false (or NULL) as it is a static array, and we should check for instances[index] which we do anyway.

commit 564ece516e137c9a4f8b3ee7fa32c62012eab472
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 18:57:05 2015 -0700

    Only use explicit inlining - otherwise Visual Studio 2010 will inline SDL_zero(info) in SDL_vsnprintf() into a memset() call when compiling the Release x64 configuration.

commit c18e7724ebb5638bcaff017a72a866189bb4e60d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 18:37:43 2015 -0700

    Fixed 2010 solution and removed Release_NoSTDIO build configuration

commit 4c48485681a48adc481939beaffcec384e3799db
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 14 18:21:04 2015 -0700

    Updated Visual Studio projects
    There is now a single solution used by Visual Studio 2010 and newer

commit 0c9da0c85561e0586e8eb14633e882cd69fe8483
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Jun 14 20:15:36 2015 -0400

    WinRT: made sure build script generates Release-built binaries, by default
    
    winrtbuild.bat/.ps1 were generating Debug-built binaries, in some cases.
    This change makes sure that Release mode is the default.

commit 98f9b88cef36182d7e0f577fe7e9374b146e28ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 13 13:36:47 2015 -0700

    Fixed bug 3011 - pthread/SDL_syssem.c requires _GNU_SOURCE
    
    Ozkan Sezer
    
    pthread/SDL_syssem.c requires _GNU_SOURCE predefined (like SDL_sysmutex.c),
    otherwise sem_timedwait() prototype might not be available to it.  Problem
    seen with glibc-2.3.4.

commit 9cf47d2f0dcdbc38131849fa9dc0c80d7e8d5ef3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 13 13:34:30 2015 -0700

    Fixed bug 3010 - SDL_x11messagebox.c needs including X11/keysym.h
    
    Ozkan Sezer
    
    SDL_x11messagebox.c needs including <X11/keysym.h> otherwise XK_Escape,
    etc might not be available to it. Seen this with x.org-x11-6.8.2.

commit 8b737fa8f6b5c5d6a6bc2c41e5eee845f3b27741
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 13 13:19:31 2015 -0700

    Updated WhatsNew.txt for 2.0.4

commit aee055222989d1167837ba74df925d36e11f2ae5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 13 10:47:55 2015 -0700

    Fixed bug 3009 - Cannot compile SDL2 on Windows
    
    CMakeLists.txt was missing handling for running CMake with -DDIRECTX=0

commit d8c2b36c21f267eb7de90fbf02e7ddfe348adf0b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 12 21:10:31 2015 +0200

    Fixed crash if allocation for touch device failed.
    
    If the allocation of an SDL_Touch failed, the number of touch devices was still
    increased. Later access of the SDL_Touch would then have dereferenced the NULL.

commit 714687427a2fa474885cd11beb1bc296ea0305a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 12 11:58:31 2015 -0400

    Make some string literals "const char *", not "char *" (thanks, Martin!).
    
    Fixes Bugzilla #3007.

commit f29de0d324adb047b624028be0b06c7d57da2993
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 11 12:04:57 2015 -0700

    Fixed bug 3005 - MOMO steering wheel not detected by SDL
    
    Joe Thompson
    
    This is a regression. The changes to fix #2460 cause the EnumJoysticksCallback() function to return without adding devices (Line 345 in SDL-0a2b6bc7005f\src\joystick\windows\SDL_dinputjoystick.c).
    Looking at dinput.h on my system, at least DI8DEVTYPE_DRIVING and DI8DEVTYPE_FLIGHT need to be added to the test.
    It might be better to check if (devtype == DI8DEVTYPE_SUPPLEMENTAL) rather than checking if it is NOT EQUAL to a long list of types. Or check if the device is already in the list.

commit a86df3b7cf64daf8a34b1aaa3f8b0427ee63baf1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jun 9 21:08:24 2015 -0300

    iOS: Fixed some cases where SDL_DestroyWindow or SDL_GL_DeleteContext can cause crashes.

commit cd1d7c94e91851170afac58facb097b9e96bbfff
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 9 21:06:55 2015 +0200

    Wayland: Fixed SDL_GetTouchDevice() returning 0 for the valid device index.
    
    The single touch device gets SDL_TouchID 1 (like on Emscripten, iOS and WinRT).

commit 5d6aa08b2809338c68578f94ab77e496d50b3290
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Jun 9 21:06:29 2015 +0200

    Emscripten: Fixed SDL_GetTouchDevice() returning 0 for the valid device index.
    
    The single touch device gets SDL_TouchID 1 (like on iOS and WinRT).

commit 86e9ab79ce381f5e30f6319f102850f52e042fec
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jun 8 20:46:09 2015 +0200

    Linux: Fixed not needed call to close() on error.
    
    It was called if file descriptor was none and -1.

commit f1924a616d4becc2e1461b7237e1ac2a2a5cddb0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 03:07:24 2015 -0400

    Normalized endlines.

commit 69bef005b5c5824de753e1e5ebf28a12260a632e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 03:07:16 2015 -0400

    Added LDFLAGS note to Raspberry Pi documentation (thanks, Michael!).

commit 50981d418a3b043e361fb218d3b24cf08c09532c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 02:58:46 2015 -0400

    x11: Drop duplicate XInput2 XI_RawMotion events.
    
    This happens when the pointer is grabbed, but it's not clear if this is a
    bug in x.org or my misunderstanding of the XGrabPointer() documentation.
    
    At any rate, we'll want to revisit this later for a better solution.
    
    Fixes Bugzilla #2963.

commit 7232e51a68155b7d84a0181cb242088c2d1d4b6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 01:52:43 2015 -0400

    Unix: Don't send quit events during signal handler.
    
    Make note to send it, and send next time we SDL_PumpEvents().
    
    Otherwise, we might be trying to use malloc() to push a new event on the
    queue while a signal is interrupting malloc() elsewhere, usually causing a
    crash.
    
    Fixes Bugzilla #2870.

commit 8283abdb789703b6070d2d7d23349d3f89fe873d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 01:17:58 2015 -0400

    Updated configure script.

commit e3f4ca0d7141872bc86fafb45edd9773ddb38750
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 8 01:13:51 2015 -0400

    configure/cmake/x11: Removed SDL_VIDEO_DRIVER_X11_CONST_PARAM_XDATA32 test.
    
    This was the only thing that made SDL_config.h generate differently between
    32 and 64-bit versions of Linux, so instead we force a function cast in our
    X11 code to match our dynamic loader version, which removes the compile error
    on some machines that prompted this test in the first place.
    
    Xlib never wrote to this data, so if you're on an older Xlib where this param
    wasn't const, your data should still be intact when we force the caller to
    think it was actually const after all.
    
    Fixes Bugzilla #1893.

commit f5dce3c63cf6193450f53bd4b3be1dff3b279c9f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 20:15:09 2015 -0400

    CMake: default to shared library builds being enabled.

commit d98cfe1435774d1003f2d6b4c169d56558c32569
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 20:00:20 2015 -0400

    Let's assume that if VS2005 and VS2010 do it, VS2008 probably does, too.

commit 753f95c5ddd2e38e52b69061d308c959803f3a4d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 19:58:42 2015 -0400

    VS2005 tweaks (thanks, Ozkan!).
    
    Fixes Bugzilla #2895.
    
    His notes:
    
    The following trivial changes make SDL2 tree (mostly) compatible with Visual
    Studio 2005:
    
    * SDL_stdlib.c: Similar to VS2010 and newer, VS2005 also generates memcpy(),
      (it also generates memset(), see below), so propagate the #if condition to
      cover VS2005.
    
    * SDL_pixels.c (SDL_CalculateGammaRamp): VS2005 generates a memset() call for
      gamma==0 case, so replace the if loop with SDL_memset().
    
    * SDL_windowsvideo.h: Include msctf.h only with VS2008 and newer, otherwise
      include SDL_msctf.h
    
    * SDL_windowskeyboard.c: Adjust the #ifdefs so that SDL_msctf.h inclusion is
      always recognized correctly.

commit 8bac79679155ead3e630608dce0c7bffe83ccbba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 18:29:23 2015 -0400

    Maybe patched to compile on some Windows configurations.
    
    (Maybe) Fixes Bugzilla #3001.

commit 141ac2b59d5d8b443ff89693cae69b310598119e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 17:59:31 2015 -0400

    Backed out changeset c6d43e08be34
    
    This caused Bugzilla #2963, so we'll find a better solution.

commit 699f879a8f46c2ab188ba20f1c1e499439f65707
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 7 17:54:39 2015 -0400

    Fixed a memory leak (thanks, Zack!).
    
    We should probably rework this piece of code a little more after 2.0.4 ships,
    though.
    
    Fixes Bugzilla #3004.

commit 8a85084fc18da09083b6949974ce8bd2b510469c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jun 6 22:45:22 2015 -0400

    RPi: Patched to compile without OpenGL (thanks, Simon!), other cleanups.
    
    Fixes Bugzilla #3003.

commit 5b2e7aab304e0b83b8c15f5b8487131b1c6296f9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 5 19:41:34 2015 +0200

    Fixed comments at conditional compilation macro in header file.

commit fd8b7c1ca360219cf0379049246fc4f44a333b0f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 5 19:41:18 2015 +0200

    Fixed comments at conditional compilation macros.

commit c3186d5ee9090310426e0fd895f746588bea11f4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 5 19:40:50 2015 +0200

    Android: Added deactivated intent filter for testing drop file support.

commit f080ac3e6f5bc61dd1fa97de6e51f7ccd0537cf6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 4 19:05:01 2015 -0400

    Fixed docs path in RPM .spec file.

commit 360d05bf72947602523ae5410fa1e96c91be9fb8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 4 15:41:39 2015 -0400

    X11: Fixed SelectionRequest replies for target TARGETS.
    
    Fixes Google Chrome, etc, freezing up when SDL owns the clipboard selection
    and actually sends thems the correct text for pasting. Confirmed working with
    Unicode strings in UTF-8 format.
    
    There were a few tweaks in this patch, but the specific fix is that
    event.xselection.target in the SelectionNotify event we send back in reply
    must be set to the same atom as the request ("TARGETS" in this case), and
    we failed to do that in this special case. Things that don't ask for a target,
    like the Gnome Terminal app, worked fine because they don't ask for TARGETS
    and just go right to asking for a UTF8_STRING, and Mozilla apparently just
    was more liberal in what they accepted in reply.
    
    Chrome would reject our wrong reply and freeze up waiting for a valid one.
    Someone should fix that in Chrome, too.  :)
    
    Fixes Bugzilla #2926.

commit 96aef8cbca18beaf96670708260fc3ca64c42038
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 4 10:59:02 2015 -0400

    X11: Fixed compiler warnings in DEBUG_XEVENTS sections.

commit 7738bd9b55c3bc88e0dc4d422aef02570de33b93
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 4 17:52:51 2015 +0200

    AIX: Fixed nearly impossible file descriptor leak.

commit eab076a7eef0e056ec2aadffbd3109dbf5752cb9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jun 4 17:52:27 2015 +0200

    Fixed not needed calculation in test program.

commit 38549a7bba35c422ea3044dc80aaeb2b510de94b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 4 00:56:11 2015 -0700

    Fixed bug 2625 - Direct3D9 with SDL_TEXTUREACCESS_TARGET textures causes an application crash
    
    Roberto
    
    I have debugged the code checking the function calls when Direct3D is the renderer, remember that with software and OpenGL renderers, this issue is not happening.
    
    - Create the texture:
    SDL_Texture *pTex = SDL_CreateTexture(pRenderer, iFormat, SDL_TEXTUREACCESS_TARGET, pSurf->w, pSurf->h);
    
    - Update the texture:
    SDL_UpdateTexture(pTex, NULL, pSurf->pixels, pSurf->pitch);
      SDL_render.c, SDL_UpdateTexture(): return renderer->UpdateTexture(renderer, texture, rect, pixels, pitch);
        SDL_render_d3d.c, D3D_UpdateTexture(): if (D3D_UpdateTextureRep(data->device, &texturedata->texture, texture->format, rect->x, rect->y, rect->w, rect->h, pixels, pitch) < 0) {
          SDL_render_d3d.c, D3D_UpdateTextureRep(): if (D3D_CreateStagingTexture(device, texture) < 0) {
            SDL_render_d3d.c, D3D_CreateStagingTexture(): result = IDirect3DDevice9_CreateTexture(..., D3DPOOL_SYSTEMMEM, ...) --> FAIL! with INVALIDCALL code
    
    After checking a bit the Microsoft documentation, I found this:
    
    D3DUSAGE_RENDERTARGET can only be used with D3DPOOL_DEFAULT. (https://msdn.microsoft.com/en-us/library/windows/desktop/bb172625%28v=vs.85%29.aspx)
    
    The call that fails, is using D3DUSAGE_RENDERTARGET with D3DPOOL_SYSTEMMEM which is unsupported, hence the INVALIDCALL return code.

commit ba1263cd1d23337ad2c9ca010be9450f9eb7ad88
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 4 02:12:06 2015 -0400

    Backout commit 83034612a883
    
    This caused 8-bit modes to be chosen on older OS X releases.
    
    Fixes Bugzilla #3000.

commit e8b376c9d58739ea47aec916b7cca8a031b7201e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 3 13:11:28 2015 -0700

    Linux: Implemented sysfs-based version of SDL_GetPowerInfo().
    
    Fixes Bugzilla #2938.

commit 36ecb766c883e9e528a04eb8dd40b3bdbaefb15b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 1 01:25:22 2015 -0400

    Changed a static function to match the naming scheme of rest of source file.

commit cad269bc278525fd74c7bf3481cdf2f54de03e3d
Author: Jason Wyatt <jwyatt@feralinteractive.com>
Date:   Tue May 5 09:16:12 2015 +0100

    Also set the _NET_WM_NAME. Window managers supporting this will take this value over the value set by XStoreName. This explicitly supports UTF-8 encoding, which fixes corrupt UTF-8 titles in KDE.

commit 52df7f5b8fa66b8383764026865b3bfbde41169a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 23:53:10 2015 -0400

    testmessage: Try Unicode chars in the title, too.

commit 05e78b3f499d8fb3f2a8384e08aec3be4f50962d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 22:59:59 2015 -0400

    X11: search all XI2 touch devices, not just masters (thanks, Volumetic!).
    
    Otherwise, you won't find touch devices that aren't currently assigned to a
    system cursor.

commit 554b2b0e36e0c5ef3fc0b482085f86679a3db3a6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 22:48:26 2015 -0400

    X11: Fixed message boxes not responding to click on titlebar close button.
    
    The window needs to catch ClientMessage events for one specific window, but
    XNextEvent() catches everything, and XWindowEvent doesn't catch ClientMessage,
    so we need predicate procedure and XIfEvent() here.
    
    Fixes Bugzilla #2980.

commit cb60f2dfc2114cdce2a2bb8754f58fef6887d2b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 22:27:46 2015 -0400

    testmessage.c should report when message boxes were closed.

commit 8bfc622b181f800a66025689f248332dca1c31b1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 21:50:50 2015 -0400

    Fixed memory leaks in testfilesystem.c (thanks, Nitz!).
    
    Fixes Bugzilla #2991.

commit 7619ad3430382c1ac2923562d083766eafd1dcc1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 21:43:36 2015 -0400

    Cocoa: deal with mouse focus when warping the cursor from outside a window.
    
    Otherwise, you might not get appropriate mouse enter/leave events.
    
    Better fix for Bugzilla #2984.

commit 5b2ff76c12af3663367996019c436ee116b221b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 13:58:36 2015 -0400

    Cocoa: send a MOUSEMOTION event when warping cursor from outside the window.
    
    Fixes Bugzilla #2984.

commit dbfd4fdd221d2840005981b3785578d44ad483c3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 31 19:23:16 2015 +0200

    Android: Added missing space in three log messages.
    
    Also fixed a typo and changed tag string to constant.

commit 551fbf7beafc0aaadaf77bab6ad1eb138fe52cc5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 31 19:22:42 2015 +0200

    Android: Changed two unknown keys to be consistent with Windows and X11 mapping.

commit 80614b27e410f49433e6bf65e5a209d67902d68d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 11:38:10 2015 -0400

    Fixed swizzle of SDL_FillRect() on 24-bit surface (thanks, "nagydavid91"!).
    
    Fixes Bugzilla #2986.

commit 1899dfb041b48327dd37b43e8e50bd2aeb4acc64
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 01:45:20 2015 -0400

    Fixed SDL_ISPIXELFORMAT_ALPHA to check pixel orders that match pixel type.
    
    Otherwise, SDL_PIXELFORMAT_BGR24 is reported as having alpha, because
     its SDL_ARRAYORDER_BGR pixel order uses the same integer value as
     SDL_PACKEDORDER_RGBA, since we weren't checking the pixel type to
     differentiate.
    
    Fixes Bugzilla #2977.

commit e58a5c43c44782430dfc8487b10d27b65bea273f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 00:58:43 2015 -0400

    X11: Fixed high mouse buttons mappings and horizontal wheels (thanks, Daniel!).
    
    Fixes Bugzilla #2472.

commit 870df8adabc86fca9067a69313c1afc9e8dc3241
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun May 31 00:50:30 2015 -0400

    Cocoa: ignore mouseDown events in a window's titlebar.
    
    These events accidentally slipping in sometimes appears to be a bug (or
    maybe new behavior) in 10.10, as previous versions of Mac OS X don't appear
    to ever trigger this.
    
    Thanks to Paulo Marques for pointing out the fix on the SDL mailing list!
    
    Fixes Bugzilla #2842 (again).

commit 8c9571a26bb34fee44880f1a158dc260e4eb81d7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 29 22:24:38 2015 +0200

    Fixed typo in header file documentation comment.

commit f001a00b081e864fd2e7eef1e6f7313b9db916e5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 29 15:21:47 2015 -0400

    X11: Force the window focus during ShowWindow if there's no window manager.
    
    Fixes Bugzilla #2997.

commit c888183728a95796464174ce8faa4056a8dadd68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 19:06:07 2015 -0700

    Improved fix for bug 2096 - Mapping from scancode to keycode doesn't work for remapped modifier keys
    
    Zack Middleton
    
    The change to the keymap to use SDL_SCANCODE_TO_KEYCODE in SDL_x11keyboard.c causes all SDL scancodes without a Usc4 character to be XOR'd with SDLK_SCANCODE_MASK, but not all key code are suppose to be (as seen in include/SDL_keycodes.h). SDLK_BACKSPACE is not 0x4000002A.
    
    I think the full list of keys affected are return, escape, backspace, tab, and delete.

commit 45f967be8f03c054f66ea9728b358e06b87b9be2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 18:57:57 2015 -0700

    Fixed building test programs on the iOS simulator

commit da1909755b048bad876fc7bd248c8d3ea31b4eaa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 18:57:10 2015 -0700

    Fixed clip rectangle calculation when there is a viewport offset

commit 6e67c949c1b2f1d5be50b85e4e1b7aa00a8a6982
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 12:55:01 2015 -0700

    Fixed bug 2054 - SDL_GetError: "Unknown touch device"
    
    Volumetric
    
    The "Unknown touch device" message appears because the initial touch device setup loop uses SDL_GetTouch() as a guard for calling SDL_AddTouch().  SDL_GetTouch() will always report "Unknown touch device" since the device hasn't been added yet.  The SDL_GetTouch() call is unnecessary since SDL_AddTouch() calls SDL_GetTouchIndex() to verify that the device hasn't been added yet, and SDL_GetTouchIndex() has the benefit of not reporting an error for a device it can't find.

commit 32d6dcdb47a8999f0dea6d7e91cbf15f6020fb3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 12:48:20 2015 -0700

    Fixed bug 2096 - Mapping from scancode to keycode doesn't work for remapped modifier keys
    
    Jacob Lee
    
    If a user has a non-standard keyboard mapping -- say, their caps lock key has been mapped to Ctrl -- then SDL_GetModState() is no longer accurate: it only considers the unmapped keys. This is a regression from SDL 1.2.
    
    I think there are two parts to this bug: first, GetModState should use keycodes, rather than scancodes, which is easy enough.
    
    Unfortunately, on my system, SDL considers Caps Lock, even when mapped as Control, to be both SDL_SCANCODE_CAPSLOCK and SDLK_CAPSLOCK. The output from checkkeys for it is:
    
    INFO: Key pressed :  scancode 57 = CapsLock, keycode 0x40000039 = CapsLock  modifiers: CAPS
    
    Whereas the output for xev is:
    
    KeyPress event, serial 41, synthetic NO, window 0x4a00001,
        root 0x9a, subw 0x0, time 40218333, (144,177), root:(1458,222),
        state 0x10, keycode 66 (keysym 0xffe3, Control_L), same_screen YES,
        XKeysymToKeycode returns keycode: 37
        XLookupString gives 0 bytes:
        XmbLookupString gives 0 bytes:
        XFilterEvent returns: False
    
    I think the problem is that X11_UpdateKeymap in SDL_x11keyboard.c only builds a mapping for keycodes associated with a Unicode character (anything where X11_KeyCodeToUcs returns a value). In the case of caps lock, SDL scancode 57 becomes x11 keycode 66, which becomes x11 keysym 65507(Control_L), which does not have a unicode value.
    
    To fix this, I suspect that SDL needs a mapping of the rest of the x11 keysyms to their corresponding SDL key codes.

commit 4d1626d042a464da9fa64e5b1caa7a69ae9775b2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 15:36:27 2015 -0400

    Windows SDL_GetBasePath: free string on failure.

commit aa43bee434e1e69b937cdc46edc70aabbf1e7cae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 15:32:45 2015 -0400

    Windows GetBasePath: fixed reallocation code.

commit 566316e0521f02ba1f7e60fca426db8ea2de4389
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 15:29:43 2015 -0400

    Windows SDL_GetBasePath: Fixed wrong variable when growing the buffer size.

commit f9abea20616b0fc41012dde122d7be57244dda63
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 12:31:25 2015 -0700

    Fixed bug 2210 - Initializing Video produces unnecessary errors
    
    hiduei
    
    Overview:
    Initializing the Video Subsystem causes many errors though everything works as it should.
    
    Steps to Reproduce:
    1) Set Loglevel to SDL_LOG_PRIORITY_ERROR
    
    2) Initialize the Video Subsystem (SDL_Init(SDL_INIT_VIDEO))
    
    Actual Results:
    Many errors (see attachment) are printed on stderr, then the application continues as expected.
    
    Expected Results:
    The errors should have been warnings at most.

commit 6a3ad8a998774066ff3b59fe6affdbde74ebc465
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 12:18:05 2015 -0700

    Fixed bug 2367 - Bad mouse motion coordinates with two windows where one has changed logical size
    
    Andreas Ragnerstam
    
    I have two windows where one has a renderer where the logical size has been changed with SDL_RenderSetLogicalSize. When I get SDL_MOUSEMOTION events belonging to the non-scaled window these will have been scaled with the factor of the scaled window, which is not expected.
    
    Adding some printf debugging to SDL_RendererEventWatch of SDL_render.c, where (event->type == SDL_MOUSEMOTION), I found that for every mouse motion SDL_RendererEventWatch is called twice and the event->motion.x and event.motion.y are set twice for the event, once for each renderer where only the last one set will be saved to the event struct. This will work fine if both renderers have the same scale, but otherwise the motion coordinates will be scaled for the renderer belonging to another window than the mouse was moved in.
    
    I guess one solution would be to check that window == renderer->window for SDL_MOUSEMOTION events, similar to what is done for when SDL_WINDOWEVENT events.
    
    I get the same error on both X11 and Windows.
    The same problem also exists for SDL_MOUSEBUTTONDOWN and SDL_MOUSEBUTTONUP events.

commit bccc2ad09e7fa8339c398004c9b20a1d6aad9ef9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 12:06:48 2015 -0700

    Fixed compiling and tested on Windows

commit 6d1ad3847ab8af71195feb640a9583930cef2e1d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:54:52 2015 -0400

    Windows GetBasePath should use GetModuleFileNameExW() and check for overflows.
    
    Apparently you might get strange paths from GetModuleFileName(), such as
    short path names or UNC filenames, so this avoids that problem. Since you have
    to tapdance with linking different libraries and defining macros depending on
    what Windows you plan to target, we dynamically load the API we need, which
    works on all versions of Windows (on Win7, it'll load a compatibility wrapper
    for the newer API location).
    
    What a mess.
    
    This also now does the right thing if there isn't enough space to store the
    path, looping with a larger allocated buffer each try.
    
    Fixes Bugzilla #2435.

commit 75702ffebc742eae892321fe70a944ccb90a5d4f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 14:34:38 2015 -0400

    Make sure we have the vsscanf() prototype (thanks, Ozkan!).
    
    issue seen with glibc-2.8.
    
    Fixes Bugzilla #2721.

commit cb24f4de94a1789eac8e560fa5a2c1e806576da2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 10:44:46 2015 -0700

    Fixed bug 2772 - SDL2 doesn't handle X KeymapNotify events
    
    Jason Wyatt
    
    Currently the keymapnotify event handling is commented out as FIXME in SDL_x11events.c (It looks like this may have functioned SDL1.2).
    
    Not handling this event means that if a window manager shortcut such as ALT+SPACE is used, SDL will send an ALT key down signal, but not an up signal. Also querying SDL about the key state, it believes the ALT key remains pressed.
    X passes the events keypress (alt), ?focusout?, ?focusin?, keymapnotify.

commit aa4952fdefebb7416c56a79f9d789a083a621c3b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 10:10:59 2015 -0400

    Added SDL_WINDOWEVENT_HIT_TEST.
    
    This lets windows know when they are dropping a mouse event because their
    hit test reported something other than SDL_HITTEST_NORMAL. It lets them know
    exactly where in the event queue this happened.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit d4aedf995121ebbecad17a80350ddcbacb51bedc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 09:45:58 2015 -0400

    Added SDL_SetWindowModalFor().
    
    This is currently only implemented for X11.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit e497e46515d472441a0523e9ec2588c2a6f49bdb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:28:56 2016 -0500

    Added SDL_SetWindowInputFocus().
    
    This is currently only implemented for X11.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit 3bdaf4c611182ee47089fb91597ba6f60f1c766e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:46:10 2016 -0500

    Added SDL_SetWindowOpacity() and SDL_GetWindowOpacity().
    
    This is currently implemented for X11, Cocoa, Windows, and DirectFB.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit 5696e88e6bd5a5ec28ce066a500b5949e6e10060
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:29:06 2016 -0500

    Added SDL_GetWindowBordersSize().
    
    This is currently only implemented for X11.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit f9af0c03766d0570e3a6e32771d09258b7c0d41e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:27:26 2016 -0500

    x11: Put a matching window_group wmhint on every window created.
    
    This is useful to the Window Manager, so it can know to associate multiple SDL
    windows with a single app.

commit 8e855f2fbc7e50813daa8f6f0375dad0a3590fbf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 01:42:00 2016 -0500

    Added SDL_DROPBEGIN and SDL_DROPCOMPLETE events, plus window IDs for drops.
    
    This allows an app to know when a set of drops are coming in a grouping of
    some sort (for example, a user selected multiple files and dropped them all
    on the window with a single drag), and when that set is complete.
    
    This also adds a window ID to the drop events, so the app can determine to
    which window a given drop was delivered. For application-level drops (for
    example, you launched an app by dropping a file on its icon), the window ID
    will be zero.

commit f2defe5e11e0ca03de9df993eb83722362066c01
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 01:30:40 2016 -0500

    Added special window type flags.
    
    Specifically: always on top, skip taskbar, tooltip, utility, and popup menu.
    
    This is currently only implemented for X11.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit f9b7379341fc241e7e2daf2811394956fed1ba61
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:26:45 2016 -0500

    Added SDL_DROPTEXT event, for dragging and dropping string data.
    
    This patch is based on work in Unreal Engine 4's fork of SDL,
    compliments of Epic Games.

commit c3114975db76b4288122975e235fa2708908c3f4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 23:52:40 2016 -0500

    Added SDL_GetDisplayUsableBounds().

commit 8875a4014ffdf62308bdd1950252fae73a39203c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 22 16:50:48 2015 -0400

    x11: Optimize SDL_GetGlobalMouseState() a little.
    
    Use XInput2 to mark the global mouse state as dirty so we don't have to make
    a bunch of roundtrips to the X server when nothing has changed.

commit 14e007772ac6f23f02dd750922b6e8cb5a2174ab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 10:14:17 2015 -0400

    x11: window managers might mark windows as FULLSCREEN _and_ MAXIMIZED.
    
    This patch came from Unreal Engine 4's fork of SDL, compliments of Epic Games.

commit 9a7527988aaecb523fb7f8604dbbd12e6bbe4850
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 01:22:32 2015 -0400

    x11: Workaround window managers that mark fullscreen windows as maximized.
    
    This patch came from Unreal Engine 4's fork of SDL, compliments of Epic Games.

commit 81209acbd8bd7c492a558b1234ac7b58165d2ae3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 23:44:27 2016 -0500

    x11: Let apps specify that video init should fail if XRandR is unavailable.
    
    Notably: it sets the error string to inform you that your custom SDL is built
    without xrandr support, which apparently has been a support issue for
    Unreal Engine 4 developers.

commit f9d478b6c33a942713248c982b830e7a0c847abe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 02:40:14 2016 -0500

    x11: _NET_WM_PID needs a long, not a pid_t, I think.

commit e6e62bee7106eaac34785fe2b4724114429a0bc4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 01:26:32 2016 -0500

    CMake: Let static libraries optionally be built with Position Independent Code.

commit 008a6abd0417d2b011c2c7ae85280c3970dbc58a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 5 01:25:54 2016 -0500

    CMake: use the old MACOSX_RPATH behavior (for now), silence the warning.

commit 0c0ce2096c73be1fb389ed804ce57ff331990489
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 10:19:20 2015 -0400

    Updated comment: this is the correct way to do fullscreen on X11 now.

commit e0e04542d03376d7f27bb0bd421d232045200cd4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 21 09:46:48 2015 -0400

    Added a few FIXMEs.

commit 1373e8909a7b74db5c6f1e4e1ef4e14b4083086e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 22:58:38 2016 -0500

    Try to build with GCC's -Wdeclaration-after-statement.
    
    This will help catch things that'll cause issues on C89 compilers before we
    send them on to fail on Buildbot.

commit 15bc7aea648958c173654046fa66f3cda94144a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 22:00:04 2016 -0500

    Mac: allows apps to use OpenGL on a slower, integrated GPU.
    
    This is often useful for SDL apps that aren't meant to be games: the
    integrated GPU starts up faster, uses less power, and is often more than
    fast enough.
    
    Note that even with this change, the app will still default to the more
    powerful, discrete GPU if one is available; an app that prefers the integrated
    GPU will still need the NSSupportsAutomaticGraphicsSwitching key properly
    set in its Info.plist and Mac OS X 10.7 or later.
    
    https://developer.apple.com/library/mac/qa/qa1734/_index.html

commit 7678b1db884d4bf865568d71be332cb10e82a881
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 16:36:42 2016 -0500

    Patch to compile on C89 compilers.

commit 6df5e1e53595914cef1ec1fb62dee127512ebb02
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 4 16:25:27 2016 -0500

    x11: Support _NET_WM_USER_TIME and give _NET_ACTIVE_WINDOW a valid timestamp.
    
    Fixes Bugzilla #3056.

commit 9fcf5d7d4d8dbd8fdb7b72036bf0d2508fcfe529
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 3 21:48:17 2016 -0500

    CMake: Don't link directly to libGL on Unix.
    
    (we always dynamically load it at runtime when appropriate.)

commit 1240f8e0a6c1b80fff3cce3f90e92397e0ac9be0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 3 20:52:44 2016 -0500

    CMake: Don't make a libSDL2.so symlink on Mac OS X (do .dylib instead).

commit fa8c83c1c18e0185ffdf3321c7e56b8a450bcedb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 3 06:50:50 2016 -0500

    Remove almost all instances of "volatile" keyword.
    
    As Tiffany pointed out in Bugzilla, volatile is not useful for thread safety:
    
    https://software.intel.com/en-us/blogs/2007/11/30/volatile-almost-useless-for-multi-threaded-programming/
    
    Some of these volatiles didn't need to be, some were otherwise protected by
    spinlocks or mutexes, and some got moved over to SDL_atomic_t data, etc.
    
    Fixes Bugzilla #3220.

commit 21f66ea2951fe7c87cc19a51eb13f5e30dc86a00
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 12:17:33 2016 -0800

    Added tag release-2.0.4 for changeset 5596f75b34e8

commit e2fd1c0fe39d83ecdee1e0c6359a299f0afad13b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 11:17:06 2016 -0800

    Backed out commit 80ce90dbc266, this causes Visual Studio build failure on buildbot

commit 68a32728528ed868d7c765797fee41b82294306c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:38:51 2016 -0800

    Fixed sed error on Mac OS X and updated copyright on a few last files

commit ac444cd31375e566449e3780024dddd63e03e23a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:25:53 2016 -0800

    Fixed bug 3092 - Statically link sdl2 with /MT for msvc
    
    Martin Gerhardy
    
    According to https://msdn.microsoft.com/de-de/library/2kzt1wy3%28v=vs.120%29.aspx when one is using /MT for msvc compilations the libcmt.lib is already linked to the binary. This lib includes the symbol that is now guarded (see attached patch) by the #ifndef _MT.

commit 42065e785da95937d8e68df3dc0d22cc4ae410cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 2 10:10:34 2016 -0800

    Updated copyright to 2016

commit 5ba1fd9bb1f0fed5debc4cf2abba3ff21f3fe9db
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 1 17:41:11 2016 +0100

    Fixed typo in README for iOS.

commit 4a93dae4cd7c216f5ee1c85ca993580fc279478f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 1 17:39:55 2016 +0100

    Added brackets to function names in header comments so doxygen links them.

commit 4aae0290ea94a4be6e2b417b8c9d59910a12edba
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Dec 31 21:16:43 2015 -0400

    Updated some header comments and iOS documentation to better clarify high-dpi / retina support and screen-coordinate sizes versus pixel sizes.

commit b0d8dfcd8ad6f2d4d5f278ba26b8cfa324307f80
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Dec 31 15:26:40 2015 -0400

    CMake: Fixed building for Windows with VS2015 (bug #3080).
    
    - Don't try to link with the Visual C runtime.
    
    - Avoid code generation that would use functions from the VC runtime.

commit 44c0b2da87bb5bb62c010f454df201493f959daf
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 31 01:54:11 2015 -0500

    WinRT: minor code-comment cleanups

commit 6823a221620e5c36bb1ee190d21280a8887f097d
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 31 01:50:30 2015 -0500

    WinRT: fixed bug whereby a Win8.x app's SDL_Window wasn't getting de-marked as maximized (on window restore)

commit d8aa0662889f6b232710abc64c6006ada0800a93
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 31 01:40:50 2015 -0500

    Fixed Bug 3217 - WinRT: after alt-tab'ing back into fullscreen app, mouse cursor is sometimes wrong

commit 854cf7ac401638c29af2f93932c3e037bb6a5db5
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 30 12:44:13 2015 -0500

    Fixed Bug 3215 - Win32: 'fullscreen' app doesn't always extend to top of screen

commit 9d789ebe0d4472874ad0d8931f9399b0a0ac55ba
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 29 19:14:19 2015 +0100

    Updated configure script.

commit c41feca5de6e1b2eb849bb8a90328e381221b786
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 29 19:13:56 2015 +0100

    Fixed a crash if creating accelerated renderer after accessing window surface.
    
    Partially fixes Bugzilla #3196.

commit 696cd7975c5aa495c838e5ca4d8cc29193b44787
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 02:32:47 2015 -0500

    NetBSD: fixed issues with cpuinfo and pthread_setname_np (thanks, Thomas!).
    
    Fixes Bugzilla #3176.

commit ce0f90ffb9c845d70ce833e75b3764a8246213cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 02:29:56 2015 -0500

    NetBSD: improved joystick support (thanks, Thomas!).
    
    This patch skips non-joystick HID devices and gives joysticks on NetBSD
    a human readable name.
    
    Fixes Bugzilla #3178.

commit 2254932b3e16234f461918c013f57627e26f93ab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 02:27:02 2015 -0500

    Added support for building for NetBSD on the Raspberry Pi (thanks, Jared!).
    
    Fixes Bugzilla #3179.

commit 18c7d6df213a97dd0ce4a3d68418bb65766a7a65
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 02:16:14 2015 -0500

    XRandR: fixed primary output detection logic (thanks, "winterknight"!).
    
    Fixes Bugzilla #3185.

commit 326b357804f67a80a87f17b1197bf4363c8533e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 01:09:58 2015 -0500

    Mac: don't ignore mouse clicks on the top pixel of a window (thanks, Joshua!).
    
    Fixes Bugzilla #3190.

commit 61518bce6b71caac0e372a9ee59b16a3e3bcca13
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 00:57:24 2015 -0500

    CMake: Changes to get CMake project to work with Android (thanks, Martin!).
    
    Fixes Bugzilla #3194.
    
    (but note that Bugzilla #3200 still needs to be resolved to get this really
    going on Android, at a minimum.)

commit 7e679ed2c1ce2d762b71b6f4aca65b26d5901164
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 00:36:03 2015 -0500

    CMake: fixed a failure to reset CMAKE_REQUIRED_FLAGS (thanks, Martin!).
    
    This would break Emscripten builds with the CMake project files (etc).
    
    Fixes Bugzilla #3197.

commit c9927bbb17992938753a499d5bb93d9862165b6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 00:24:37 2015 -0500

    CMake: don't try to use the Linux joystick code on Android (thanks, Martin!).
    
    Fixes Bugzilla #3201.

commit 7ca3b27064de7f9fe88dc53e7a3db6123804fdba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Dec 29 00:02:43 2015 -0500

    CMake: Fixed to work on Windows 8 SDK (thanks, Martin!).
    
    Fixes Bugzilla #3207.

commit 2f59284971514085f815fcdd225fad911ef29445
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 28 23:29:11 2015 -0500

    Fixed typo in sdl2-config.cmake.in (thanks, Rafal!).
    
    Partially fixes Bugzilla #3208.

commit f893ce3d3ed4b9d27e48cda6fe7f8c61bacba7bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 28 15:15:58 2015 -0500

    OpenGL+GLES renderers: Fixed incorrect clip rectangle coords (thanks, Marcel!).
    
    Fixes Bugzilla #2700.

commit 4ae69e3222569b15325dd8d3a689f0a9db893278
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Dec 28 15:44:09 2015 -0400

    Mac: expose joystick buttons that report themselves as having 'Start' and 'Select' HID usages.
    
    I don't know if any joysticks report those usages for any buttons in practice, but other prominent Mac gaming software exposes them, so we might as well too.

commit 51c1d69d13939e606675843ecff0026f06ecdf08
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 28 13:30:58 2015 -0500

    Mac: Whoops, lost legit Caps lock keypress events. Fixed.

commit fd6b435c6ac904b2566d6f86de92c21192a8065b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 28 13:08:19 2015 -0500

    Windows: resync num/caps lock when window is gaining focus.

commit 257b7af247b9dbda1c69a1dbb88f4438b8631ee7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 28 13:07:44 2015 -0500

    Sync up the caps/numlock state properly without sending key events.
    
    Partially fixes Bugzilla #2736 and #3125.

commit d3b323f89d48c305a1f38f26e5e49673324c9afd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 27 23:39:43 2015 -0500

    Mac: Fix keyboard state if capslock was toggled while app wasn't in foreground.

commit fa7c15ce1f4c83ab82fff34e4b68c7712a6f8fcd
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 27 22:26:27 2015 -0500

    WinRT: made bug 3202/3213's fix apply for WinRT apps

commit 2befe01d39fcfda70d49f5e6555792bcfdb2b036
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 27 18:56:46 2015 -0500

    Removed a tabstop.

commit 6a2e8a7a9086ac7f0b45897b1944779c98382ac8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 27 18:48:14 2015 -0500

    Win: make sure SDL keyboard state reflects system capslock state at startup.

commit 9e9ef5ad3181b4f72098a5162944cd0d37032ca7
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 27 17:55:45 2015 -0500

    Fixed bug 3202 - Fix renderer visibility on a window maximized directly from the minimized state
    
    Many thanks to id.zeta for details on the bug, and for the fix!

commit faed05850eef00f5b9dda3f7c53d80f6fb9d0411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 27 16:46:12 2015 -0500

    Mac: make sure SDL keyboard state reflects system capslock state at startup.

commit 1446faf00e9c9529ab6f249adfb6b157f48f2abf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 25 13:41:23 2015 +0100

    Fixed a comment in two test programs.

commit cbe19d537891ad1fedf8ee3e9a290ac176aa71ac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 24 06:11:05 2015 -0800

    Fixed whitespace in testspriteminimal.c

commit 8281cc72ba82fa28e1e73f264b5746bda3c76027
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 22 00:58:47 2015 -0500

    WinRT: Fixed bug 3210, "alt-tab doesn't work correctly with full-screened, UWP (Win10 Store) apps"

commit 8ddcc63ac75c5d68a14e3bd2c591b0019d8b8135
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 18 18:49:35 2015 -0800

    sdl:
    
    xaudio2 is not linked against sdl but the sdk already handles dynamically loading (XAudio2Create is inlined and just loads a com object). Updated SDL_xaudio2.c

commit 7b680a2ab7b334c8be34ea3be1631be093243b19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 18 18:49:23 2015 -0800

    Fixed mapping third party XBox controllers that have the trigger axis all the way in until they are pulled and get updated values.

commit 402698091774072ecdc420118cb2264900471e36
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 18 00:49:27 2015 -0400

    Cleaned up some code formatting.

commit cb15bb4cfa781582cde07673d528dab2d0fdf4ce
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Dec 11 16:41:59 2015 -0400

    iOS: Set the player index of MFi gamepads when the user first presses a button, rather than when it's programatically opened.

commit a2235d7b291d7772db9843057c71b9489fba4136
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Dec 10 22:17:22 2015 -0400

    Cocoa: Use NSTextInputClient instead of NSTextInput for text input handling. The latter was deprecated in OS X 10.6.

commit 0c463d770bb8da2d891217d2e3d49d4d69c99910
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Dec 10 20:25:34 2015 -0400

    SDL_GL_GetAttribute: If a GL context isn't active, only return failure when the specified attribute needs an active GL context to be queried.

commit f2f435ee4532f1e9839bfccbf3444bde1089f541
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 9 21:34:56 2015 -0500

    WinRT: fixed bug: Back button(s) weren't working on Win10
    
    Many thanks go to Sylvain Becker for providing details on the fix!

commit d1e6a2ebe6a48b50431b20a4a85edfbe36090f0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 9 12:11:40 2015 -0800

    Added broad support for wireless XBox 360 controllers on Linux

commit 11c13916dd47daaa73582d6df239dc2abdce3b43
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Dec 7 21:43:16 2015 +0100

    Fixed outdated information in README for test programs.
    
    Two programs were removed some time ago and one was renamed.

commit 0dc43729bd0c3b5d6608c5baf1167395bd144983
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Dec 7 21:42:44 2015 +0100

    Pandora: Fixed referring to no more existing CD-ROM source files in Makefile.

commit d3a841eb88c3f39d9a378ac1a95167a77294b6c6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Dec 7 21:41:55 2015 +0100

    Pandora: Fixed deactivating no more available CD-ROM support in config header.

commit 976bc9a919137b710a1d4afb6ffa4f6c4d872854
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 18:48:46 2015 -0500

    WinRT: build fix for Windows Phone 8.0

commit 2b48481879435a057cd81708828f7a95844e9c30
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 18:42:30 2015 -0500

    WinRT: enabled the Win10-Store Cert Kit bug-workaround, for Windows 8.0 apps

commit a40d49aa1c74ad56ea144d29dcc8a8bdc49fd3e5
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 18:33:43 2015 -0500

    WinRT: enabled the Win10-Store Cert Kit bug-workaround, for Windows 8.1 apps

commit 898054a179998d50586256b01f5c067ec8a26630
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 17:32:33 2015 -0500

    WinRT: fixed a build error when compiling Windows 8.1 .dlls

commit c8e3bfbf5497626b06a29a3e52ac414f8689f01e
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 17:07:37 2015 -0500

    WinRT: removed an unused variable from DXGI-based display-detection code

commit 781455fd8bcd110290e367ee3a8fee044fbba831
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 6 17:06:40 2015 -0500

    WinRT: workaround for a possible bug in the Win10 Store's Certification Kit
    
    DXGI fails to report any displays in at least one of the
    "Windows App Certification Kit 10.0"'s tests for Store Apps.  This was
    causing SDL's video initialization code to fail, when the suspect test
    ("Direct3D Feature Test") was run, as DXGI was unable to report a
    display-output at adapter-index 0, output-index 0.
    
    The workaround that is applied here attempts to detect this case, then
    use a hopefully-reasonable alternative means to calculate at least one
    display output.

commit 57f2f3baf397609922a6360cbcaabb13dba507d8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Dec 6 17:51:11 2015 +0100

    Windows: Added missing NULL check after SDL_stack_alloc().
    
    SDL_stack_alloc() might wrap SDL_malloc() which can return NULL.

commit 96229eed81c3e989b4de8869a52add1af7f41e85
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Dec 6 17:50:51 2015 +0100

    Changed comment in test program to avoid confusion.
    
    There is a library called SDL_sound which is not used here.

commit 32147ba780c39f6a2bb41c9ab6972cd88489986e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Dec 5 17:08:07 2015 +0100

    X11: Fixed memory leak when initializing multiple screens.

commit 4abb73298ad892face952d0687c3e7061bb05d5f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 4 22:12:36 2015 +0100

    Fixed comment in filesystem test program.

commit 5790f59f88302a2dcbb170330d7b9fef1e045da9
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 2 08:04:17 2015 -0500

    WinRT: minor tweak to NuGet package naming

commit 3b79ab4c2bd73de365460349830912a44e23f4e2
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 2 07:58:23 2015 -0500

    WinRT: allowed NuGet packaging code to get hg revision regardless of cwd

commit 89898d83418b5926976e0d41014d15996b30cf06
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 1 22:07:24 2015 -0500

    WinRT: added NuGet-package creation support to WinRT build script

commit 74de09ad4ee5fa4b99a2c78591e8eaa74f920249
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 1 22:24:04 2015 +0100

    Fixed compile error in timer test program if PRIu64 not available.

commit 1e2a4439a367455c2cc95846fe0e4cbae022a345
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 1 22:22:58 2015 +0100

    Fixed compile warning in IME test program.

commit b2445f7bbdf35695b6fa67fa3a7d13fba3bbcb04
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 1 22:21:29 2015 +0100

    Fixed filesystem test program to compile with older versions of C.

commit fd9f06a0c2ca330a983706165ceb2cd53fe0d92f
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Nov 30 23:30:01 2015 -0500

    WinRT: noted Win10/UWP support in WhatsNew.txt (under 2.0.4)

commit 0020aa94c85d159428ba37ee89ab46ba43a6611a
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Nov 30 21:11:33 2015 -0500

    WinRT: made WinRT build script create Win10/UWP .dll files

commit 9394953400a38916cfc56cb9773a83462d428d34
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Mon Nov 30 10:39:34 2015 -0500

    Add Logitech F510 Gamepad Direct input mode mapping

commit 6a50d333859f018b1b06d9d67a63668dc6ecdf4a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Nov 30 03:30:35 2015 -0400

    Removed some debug prints.

commit 9ddc6c34411255025a77205e5157e4e8c5839302
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Nov 30 03:30:07 2015 -0400

    Mac: Fixed SDL_SetWindowFullscreen not restoring the window's original size when exiting a Space.

commit 25abce513d2767b0545d5b16dfc2e9a214ed738d
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 29 19:33:11 2015 -0500

    WinRT: added Win10/UWP (Universal Windows Platform) support
    
    "UWP" appears to be Microsoft's new name for WinRT/Windows-Store APIs.
    
    This set of changes updates SDL's WinRT backends to support the Win10 flavor
    of WinRT.  It has been tested on Win10 on a desktop.  In theory, it should
    also support Win10 on other devices (phone, Xbox One, etc.), however further
    patches may be necessary.
    
    This adds:
    - a set of MSVC 2015 project files, for use in creating UWP apps
    - modifications to various pieces of SDL, in order to compile via MSVC 2015 +
      the Win10 API set
    - enables SDL_Window resizing and programmatic-fullscreen toggling, when using
      the WinRT backend
    - WinRT README updates

commit fa2d5ab4972e369e1777e6de6d0cc92cac112273
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 13:51:03 2015 -0500

    WinRT: bug-fix - SDL_SetThreadPriority() didn't work on WinRT 8.x platforms
    
    WinRT 8.0 (Phone and non-Phone) didn't offer an API to set an already-created
    thread's priority.  WinRT 8.1 offered this API, along with several other
    Win32 thread functions that were previously unavailable (in WinRT).
    
    This change makes WinRT 8.1+ platforms use SDL's Win32 backend.

commit d07aa877d2d2fa31b4bcc1343c601eb4b631bf6c
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 11:15:43 2015 -0500

    WinRT: minor code cleanup in window-creation code
    
    Window flags can be detected on all WinRT platforms.

commit a70fe9a53e44b615abb851b097ab691c989fc70a
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 11:09:50 2015 -0500

    WinRT: native windows are inherently resizable (in WinRT 8.x)

commit 7bd640d5da3838e10f6a22fab99692bc1e6f8928
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 02:37:51 2015 -0500

    WinRT: bug-fix, fullscreen mode wasn't getting reported in Windows 8.0 apps
    
    This bug did not occur in Windows 8.1 apps, just Windows 8.0.

commit 36090f576fb35a4d28195824a5f2aa8d0c5db261
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 02:13:15 2015 -0500

    WinRT: bug-fix, OpenGLES2 was failing to init, after recent windowing fixes
    
    Some SDL_Window flags were getting lost inside WINRT_UpdateWindowFlags, namely
    SDL_WINDOW_OPENGL.

commit f520994455fb17e65c718f15bdcf9d2bc7c70d80
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 01:36:36 2015 -0500

    WinRT: bug-fix, fullscreen window flags weren't set if device was rotated 90 degrees

commit 623898f70bc41b0fad1ceb8fa27947f3b3931b78
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 26 00:41:39 2015 -0500

    WinRT: lots of display and windowing related fixes
    
    This change-set fixes a lot of windowing related bugs, especially with
    regards to Windows 8.x apps running on Windows 10 (which was the driver for
    this work).  The primary fixes include:
    * listed display modes were wrong, especially when launching apps into a
      non-fullscreen space
    * reported window flags were often wrong, especially on Windows 10
    * fullscreen/windowed mode switches weren't failing (they are not
      programmatically possible in Win 8.x apps).

commit a5a80cd033073d4e4b9e5b1e4fb61f6324fafcf2
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 15 13:04:42 2015 -0500

    WinRT: fixed crash in SDL_CondWaitTimeout, when using Win10's MSVC runtime

commit 11d98995da77ce0756cac1c792fe58a0473a5ee2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 25 21:39:28 2015 +0100

    Replaced tabs with spaces in test programs.

commit 2e525193ef485c1d389a9514ab0558bec5840877
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Nov 25 21:31:02 2015 +0100

    Added SDL_HINT_VIDEO_X11_NET_WM_PING to WhatsNew.txt for 2.0.4.

commit 5224dfcc9aaa00452ee2516ccde009071ed9bffd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 17 12:15:35 2015 -0500

    X11: Let XRandR respect multiple screens (DISPLAY=:0.0 vs :0.1, etc).

commit 11f2a9f8c4b5d08f9432207b93b5886d209c45d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 16 21:20:38 2015 -0800

    Fixed bug 3168 - xinput build failure with dxsdk
    
    Ozkan Sezer
    
    Yes, the annotations can actually be removed.  They are used only by MSVC and aren't vital.

commit dc804c0e1ac181d3b96cb3d639b29ff0730ab368
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 14 21:29:14 2015 -0500

    WinRT: fixed build error in latest XInput code
    
    This change has also been tested as buildable + runnable on Win32 + MSVC 2015,
    2013, 2012, and 2010.  It may fix similar build errors (in XInput code) that
    are appearing in MingW builds (on buildbot).

commit f09d3750eac1fe4e672fe3590a8353542f8102d7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 14 14:53:44 2015 -0500

    Minor whitespace fix.

commit e6ad29aec8fe89731475c89c35a74e21effb39a3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 14 12:35:45 2015 -0500

    Added SDL_JoystickFromInstanceID() and SDL_GameControllerFromInstanceID().

commit 998a54f9c593ef590ef3cdb30bca4ebccfc2ec60
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Nov 14 04:24:39 2015 -0400

    Mac: Fix a warning about implicit declaration of SDL_SendKeymapChangedEvent (bug #3167.)

commit dee61c5a300db41c66c444da0c4d04e59e01fec2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 13 14:26:00 2015 -0800

    Added support for the Gamestop Logic3 Controller

commit 2816d4477ddbe80715feb6847ad476c41c61e85f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 12 22:53:37 2015 -0400

    Mac: Added SDL_GameController mappings for the Steelseries Stratus XL and Nimbus gamepads.

commit 9c51c4a639bbe6dae7fed3117b67bf0c1aa837b5
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 12 22:44:32 2015 -0400

    Mac: Detect the d-pad and pause buttons on Steelseries MFi gamepads (bug #3124.)

commit 7267835842814ebfc2896d006b70c7d0b03293ae
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 12 20:58:11 2015 -0400

    iOS: Fixed crashes when rotating the screen after destroying a window.

commit faee6289412ff0777f90f4773669e83f7e54bdb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 12 13:13:36 2015 -0800

    Added Linux support for the Razer Sabertooth game controller

commit 0da59802aa9572e5f7c4791c45f778f99456a00d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Nov 9 18:13:47 2015 -0400

    iOS: Set the 'player index' of MFi game controllers when they're opened for use.
    
    MFi controllers display their player index via LEDs on the controller.

commit 84f6bc41b871335c2a7fa01582c65323b049e7c0
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Nov 9 17:41:54 2015 -0400

    iOS: Fixed MFi game controller triggers to report the proper range of values.

commit 5103ae9fd6fe55ee1e4c7f47b4e06dfbdbe6491b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 08:55:07 2015 -0800

    one last SDL fix: restore menu bar if we destroy a fullscreen window without transitioning it back to a non-fullscreen window first

commit ebfb2ecb68540f6ce01ed17e955f7fc808c4f426
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 08:55:01 2015 -0800

    don't toggle SDL fullscreen state on OSX if we're destroying the window

commit eeddb7c5347cd1df3b5dda8313ddad47172639fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 08:54:56 2015 -0800

    more SDL fullscreen state tracking fixes, don't update fullscreen flags on failure to change fullscreen state

commit 792354d6f0be4a59996982198d2bfa4d25f71844
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 08:54:49 2015 -0800

    SDL OSX implementation must account for the fact that going fullscreen can fail. improve the logic around retrying, make a few attempts before failing.

commit 2d884656c454ed7978553203de6f293543fd2865
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 9 08:54:42 2015 -0800

    add hacky support for failed fullscreen transitions. SDL doesn't have the concept of a fullscreen transition that failed. if the user is actively changing spaces while the app goes fullscreen, it fails to go fullscreen; now it will just try again instead of hanging around with the wrong window styles.

commit 7ce64372c8a54c8d9b3936cd669c84ddd8a959ce
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Nov 9 02:32:37 2015 -0400

    iOS MFi game controllers: inverted the thumbstick y axis values to match the behavior of other controllers.

commit cef224202550cedcb380a874ba92876c69cda3bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 5 18:10:19 2015 -0800

    Added Linux binding for Wii-U Pro controller

commit 38edc1779a6d2599d1ddeeb3e90a2f6799053ef7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 27 11:18:04 2015 -0700

    Add SDL_HINT_VIDEO_X11_NET_WM_PING to allow disabling
    _NET_WM_PING protocol handling in CreateWindow if
    desired.

commit 2b0140a91f2ec32f674957068cdf7ead053e6e05
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 27 11:17:32 2015 -0700

    Add a new SDL_KEYMAPCHANGED SDL event to abstract notification of keyboard layout or input language changes.

commit f8824cb99b29334652952f6321ba938eb8e39daa
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Oct 23 03:37:53 2015 -0300

    Mac: Fix returning to the window's Space in OS X 10.11+ when SDL_WINDOW_FULLSCREEN_DESKTOP is used (bug #3152.)

commit 4c72d39ce76d8b215aeffa39bfbc008bc2dd4366
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 15 22:26:21 2015 +0200

    D3D11: Fixed SDL_RenderDrawPoints() ignoring input after the first 128 points.
    
    If a limit would be needed then count should be adapted before stack allocation.

commit 2a4855f9ee0d8f2acbcdca8f1f9474f6dc06bcb4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 15 22:26:00 2015 +0200

    Android: Added missing import statement.
    
    It did not compile without.

commit 82603b6058eb5c5a4bff80e3953c17ed0cdb56d8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 15 12:52:00 2015 -0400

    Fix some Android keyboards that didn't work properly.
    
    This conversation came from Joshua Granick on Twitter, starting here:
    
    https://twitter.com/singmajesty/status/653640543675641857
    
    "We found an issue where certain Android keyboards (like the S6 with
    predictive text) wouldn't work ... Certain keyboards use a predictive text
    mode that does not dispatch a traditional onKey events, which is troublesome
    ... but telling the OS to use a "visible password" keyboard helps deal with
    this problem ... perhaps there's some other way (onKeyPreIme?) to do
    "textediting" events, but for now, this should be a fast fix ...
    I hear it affects the Galaxy Tab A 8.0", Galaxy S6, Asus ZenPhone 2, maybe
    others"

commit ceb43129ac9109a08d7452c19ee951df851c824e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 7 21:18:08 2015 +0200

    Added SDL_JoystickCurrentPowerLevel() to WhatsNew.txt for 2.0.4.

commit d80f45666b2fb738ea23daa456d42ad900240ab3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 7 21:16:59 2015 +0200

    Fixed freeing uninitialized pointers on failure cleanup in tests.

commit 5bc93cc5c63561cf17cc704240b9cf1a46b5b2bc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 7 21:16:40 2015 +0200

    Android: Added a new method in SDLSurface.

commit 86711041f23dade5ad6013fd1e376187b7b41d22
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 7 21:16:18 2015 +0200

    Android: Added new key codes without mapping.

commit 5b1741132f30565ebc705f9db2913666f79a803b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 6 21:40:50 2015 -0700

    Converted tabs to spaces for SDL style

commit 9bd640e1a0628215d8200143d8b39a65aee3f23d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 6 21:16:21 2015 -0700

    Fixed sending a size event while setting up a window (fix for DOTA 2 on Source 2)

commit c5e68d68e7c7fb66cc784242ede3b67666af27ca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Oct 6 00:10:54 2015 -0400

    Mac: Reset display if going from fullscreen to a fullscreen Space or vice-versa.
    
    Otherwise, bad things happen.

commit 7bc72eaf84692c293f44148a8c17952e34ec0fd7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 1 11:21:06 2015 -0700

    Fixed forcing the window size when creating a non-resizable window on Windows.

commit 667783ba880333d27b9d44812c8ae3b134e36cc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 30 16:00:21 2015 -0700

    Fixed swapped Windows and Linux entries for the Cideko AK08b

commit a0c4b56ff94d3ed11b7adb1ee6bbc4594210b4b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 30 15:39:30 2015 -0700

    SDL - added new SDL_JoystickCurrentPowerLevel() API that returns the battery level of the selected joystick. Currently only implemented for XInput devices, other platforms are a TODO.
    
    CR: Sam

commit c2f0394831ddd20065c1f210a5c9cd6fcec9cbda
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 30 15:38:30 2015 -0700

    Fix crash on controller hotplug on linux.
    
    CR: Sam

commit e015140af38a8dbbbb8606e367a78346a9bbbb02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 30 15:38:18 2015 -0700

    SDL - add dynapi entry points for SDL_JoystickCurrentPowerLevel

commit ed23a3f8877a03792827df0e020ac4a3356d516c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 30 15:33:33 2015 -0700

    Added support for the Cideko AK08b

commit 10daf1f4d328d607afd65fa22c202ae8ec58d449
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Sep 27 20:12:47 2015 +0200

    Android: Removed three internal functions not used by SDL.
    
    They were not needed internally since the switch to the common EGL backend.
    
    Thanks to the SDL mailing list for pointing out that the functions seem unused.

commit ab2a3500337a1437f5553dad85165af5df426dd9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Sep 25 15:17:20 2015 -0300

    iOS: show message boxes using the new UIAlertController APIs when supported, rather than the deprecated UIAlertView.
    
    UIAlertController is also supported on tvOS, whereas UIAlertView is not.

commit 774b07751314de950b5a635906979b7aa74c3b6f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Sep 21 21:19:37 2015 +0200

    iOS: Fixed pointer dereference after free.

commit 7805c1bc52fff7e49bdb945ec3c52000a285a357
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Sep 21 21:16:54 2015 +0200

    Updated configure.in file.

commit 2bf6f1bcb7a95ef2bac2abb300f275ed4d7a5efe
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 20 23:08:36 2015 -0300

    Added initial support for MFi game controllers on iOS.

commit d338f4651220ecda314743a773b831281a77c655
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Sep 18 16:22:23 2015 -0400

    Added copyright information on test/sample.wav; the mystery is solved!  :)

commit cdfec382c6d054af9165ced82400e978452d7542
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Sep 18 21:27:00 2015 +0200

    Added more entries to WhatsNew.txt for 2.0.4.

commit efad04c317d1f04ed31d94c119d8f630a895cd8d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Sep 18 21:26:46 2015 +0200

    Android: Added check if Java method for APK expansion file exists.

commit 40364541f5e7a7179a17e969f928615732fec159
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Sep 18 21:26:28 2015 +0200

    Android: Improved last error message for failed APK expansion file use.

commit 625d39b164301759f2a5b9197086f3af0dd9f5a8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 17 22:36:11 2015 +0200

    Android: Added additional error messages for APK expansion file use.

commit 6e7c479ec256f3b845cb648a985f4febccae0c2e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 17 22:30:24 2015 +0200

    Android: Fixed trying to read from APK expansion files without version hint set.
    
    This also fixed overwriting the asset error message which is more useful if no
    APK expansion files are available and the requested file was not found.

commit 92ca42d940b61be160c6f24f5b233579b2803640
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 17 22:24:54 2015 +0200

    Android: Renamed SDLActivity's Java method used for APK expansion files.
    
    The name was not correct.

commit 5e5936822f2cd44e214cf7c796bdaa140f6682d5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 17 22:21:12 2015 +0200

    Android: Added to APK expansion file hint documentation in header file.

commit 68b3b5423e8b64203fa56b4b59437e042f23fd17
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 17 22:14:37 2015 +0200

    Android: Removed empty onDraw() override method from SDLActivity.
    
    It was redundant because SDLActivity already inherits an empty method from the
    base class SurfaceView (which does not implement it but inherits it from View).
    Visibility of onDraw() in SDLActivity is now protected again instead of public.

commit ecfdb10cfa4710603b2de9359bf31a2c74c76219
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Sep 15 00:25:07 2015 -0300

    iOS SDL_GL_CreateContext: Clamp the multisample sample count when the requested value is too high, rather than failing to create the context.
    
    This matches the SDL_GL_CreateContext behavior in OS X.

commit a506f1cbc7e2dc528ba5609ba5a87e5c84a13493
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Sep 14 22:50:55 2015 -0300

    Windows: Try to use xinput9_1_0.dll if XInput 1.4 and 1.3 are not available.
    
    XInput "9.1.0" ships with Windows Vista and 7 systems, but it lacks some features, including support for detecting Guide button presses.

commit 76fc378837b399e9b8f5c7d4a4a904f6093ffd0f
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Sep 14 22:44:20 2015 -0300

    Fixed the header guard in the darwin SDL_sysjoystick_c.h file.

commit 08ce12c4e3fe5b0269402c549c42b6262d84854c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 14 11:15:25 2015 -0700

    Fixed divide by zero if the application has run out of GDI handles and is trying to show an error dialog

commit 4295a6fe47916a841988e09d668dc589b939abb3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Sep 13 11:29:45 2015 -0400

    Mac: Fixed off-by-one bug when plugging in a joystick (thanks, Konstantin!).

commit 82c8825cb5135a55b23713b7cb3c4b1611a31d88
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Sep 9 19:08:52 2015 -0300

    iOS: Added support for force-touch on capable devices.

commit 6a32ca7a3919fa6cb2956bd09bcde39f4f313741
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Sep 9 13:55:11 2015 -0300

    Mac: Fixed SDL_SetWindowSize to set the size of the content area of the window, rather than the total size including decorations.

commit c964ac91bfa2ed5619d8f7f3a3f400983103ad21
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 7 13:25:36 2015 -0400

    Fix Bug 3114: SDL's MSVC-2010+ projects can fail to build via a custom VS .sln

commit e8757e873e9a8789f3e2c3a47f0aa01b15c70136
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 5 20:21:52 2015 +0200

    Android: Changed return type of four JNI functions from int to jint.

commit a4a5483fafd7f9a02a2184406103264859bae256
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 5 20:21:35 2015 +0200

    Android: Fixed unused variable warning.

commit 2b6f64220a58b616d192e4bc492efa5163ef9a71
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 5 20:21:06 2015 +0200

    Android: Fixed missing break warning.

commit 440d6cc00e80a942b3b62e4ba037b68745d697ea
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 5 20:20:35 2015 +0200

    Added another entry to WhatsNew.txt for 2.0.4.

commit 42f282cc1bfdfafdd49350b7552bb59554445053
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 28 19:10:46 2015 -0300

    Fix bug 3081: CMake configuration auto-disables OpenGL ES support on Windows.
    
    Thanks to EntranceJew for the patch.

commit d154e6c6e358286baf6050be4a7e32a8e4afed4a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 28 19:05:24 2015 -0300

    Fixed bug 3098: CMake project never enables xinput support on Windows.
    
    Thanks to EntranceJew for debugging the issue.

commit 212e99633bebdc0a9c5e36cfa23ef28b11b449dd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 24 22:35:01 2015 +0200

    PSP: Replaced use of SDLKey with SDL_Keycode.

commit 991feafa095af782dd8dd48ef28e98a2d9a55545
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 24 22:31:36 2015 +0200

    PSP: Fixed a syntax error.
    
    Found by Cppcheck.

commit 83e94e257beff97266f611a7847542e2082a82dd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 21 23:50:59 2015 +0200

    Corrected documentation of the SDL_CreateTexture() functions in header file.

commit 0856a7ef346e88e3ad23aa201ca760600f05c5ed
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 21 23:50:37 2015 +0200

    Changed an error return value from 0 to NULL for consistency.

commit 2d63af8eb1a846894f870b24869a92bf1ffaa200
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 21 00:19:36 2015 -0300

    Updated SDL_egl.h to have the latest EGL version and extension information.

commit 2fa0394855a6328063fb25a95bb9b73658dab62e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 19 22:29:37 2015 +0200

    Corrected documentation of SDL_AddTimer() in header file.

commit 98986f39e97727a80f733f7809ceb80a13697269
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Aug 15 21:21:29 2015 +0200

    Removed not needed call to pthread_attr_getstacksize() for SDL_CreateThread().

commit 814576031455d2b1952c2d6d9b833c9ba4a8d126
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 15 00:36:39 2015 -0400

    X11: Handle keyboard layout changing during app's run on Ubuntu 12.04 (etc).
    
    Fixes Bugzilla #3050 (in addition to Jason Wyatt's patch, prior to this).

commit 0d8c3a0b76cef094968b1d7ad1443dc828edeca5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 14 23:38:40 2015 -0400

    Patched to compile.

commit 0cf81fbdf9cffd06dd505040b451200a46b7a058
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 14 23:30:46 2015 -0400

    Minor coding convention fix.

commit fb37956d9be34b5fdaee0227c182c1ed968a6e70
Author: Jason Wyatt <jwyatt@feralinteractive.com>
Date:   Fri Aug 14 16:23:31 2015 +0100

    Supply current group when translating X11 Keycodes to Keysyms.

commit 9e2b90e2a482a95a66a125276b52b7e277e064cf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 14 01:20:41 2015 -0400

    Cocoa: Keep the window's screen position through SDL_SetWindowSize().
    
    The Y coordinate is flipped in Cocoa, so if you change the height, the window
    will move and maybe clip against the screen edge if you don't adjust its Y
    coordinate to match.
    
    Possibly fixes Bugzilla #3066.

commit f2f8e6f5ef41d2b079a5f5ae0a47e948202999a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 13 21:40:32 2015 -0400

    X11: only send mouse button up events if not a mousewheel "button"
    
    (Brackets in the wrong place, my bad!)

commit 874bf8650437ab7561b0a845d910abd947383160
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 13 17:40:28 2015 -0400

    X11: Simplified mousewheel event handling.
    
    Under load, this would race and report an incorrect mouse button event instead
    of a wheel event.
    
    Fixes Bugzilla #2987.

commit da6f2221e3dce9fc5416cc77af586ba41ba0347c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 13 17:37:09 2015 -0400

    X11: isConfigureNotify() isn't used at the moment, comment it out.

commit 8a1fd98261a159b87183066d1782ba890c4e741a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 13 14:56:16 2015 -0400

    X11: don't block on a ConfigureNotify event during SDL_SetWindowBordered().
    
    Unity's window manager is (legitimately, since it moves the client window's
    position) sending one, and SDL was incorrectly trying to mask it out. Other
    window managers (KWin, apparently) don't move the window and would hang here
    indefinitely.
    
    Fixes Bugzilla #3052.

commit eb57d75242cb21f4de6e408529fb5ced6c75f129
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Aug 9 20:01:01 2015 +0200

    Added missing SDL_Quit() in test program.

commit 3362c9f196667de1224c64facd97e83c4311d8f6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Aug 9 20:00:51 2015 +0200

    Emscripten: Changed return -1 after SDL_SetError() to return SDL_SetError().

commit c67213f331c018f41475b2eb552e23c0b2aa6ac0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 7 01:02:35 2015 -0400

    X11: Fixed XRandR display detection.
    
    Previously this only worked on X11 when Xinerama was carrying the weight.
    
    Fixes Bugzilla #3062.

commit 344fbe61b35ea9e202b9641a8c59c64dd1099e49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 7 01:00:14 2015 -0400

    testdisplayinfo.c forgot to SDL_Quit() at the end.

commit ca46804210afca3919ace91e25b9b3e778d74729
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 7 00:59:31 2015 -0400

    X11: Fixed a memory leak when adding duplicate display modes.

commit fcc5940935a15a3a45356a0c55b4120156c93e97
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 5 21:04:10 2015 +0200

    Emscripten: Added missing error messages for audio and joystick init failures.

commit 2d8c49fdbd272d788d9a300ae7cb8f7d0a85f1a3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 5 21:03:31 2015 +0200

    Added more entries to WhatsNew.txt for 2.0.4.

commit a702c338f026713093e34f5526979977cf510d3c
Author: andrewb <andrewb@andrewb-linux.valvesoftware.com>
Date:   Mon Aug 3 11:37:03 2015 -0700

    Add SDL_HINT_WINDOWS_NO_CLOSE_ON_ALT_F4 to SDL so that Reborn can keep running through Alt+F4.

commit 270f38db08236afbbbc15630d432944b6eea24ee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 1 22:03:50 2015 -0700

    Fixed bug 3083 - Android JNIEXPORT and JNICALL missing
    
    Martin Gerhardy
    
    Just a minor thing, but a huge outcome. All the other jni related functions already have those flags, but the nativeInit function lacks them - so it might be stripped away.

commit 5a3cc7f5800f28dd974d66c74f80ee95a97ca6ca
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Aug 1 15:16:57 2015 -0300

    EGL: Added support for sRGB system framebuffers, when the required EGL extension is present.

commit c57f409fe8128b923dddf6c1a59126bbd066d87c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 31 20:16:58 2015 +0200

    Mac: Fixed check for SDL_HINT_MAC_BACKGROUND_APP.

commit c509e798d7506f1313254b6287e514bea6148b10
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 31 20:16:18 2015 +0200

    Fixed documentation of SDL_DropEvent in header file.

commit d79bfa0d185c5b7332f29176a9826168a0e33413
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 31 20:15:39 2015 +0200

    Added filesystem to list of paths in porting README.

commit 682604b2f3e518d529291122037b31b2cf96155d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jul 31 20:15:02 2015 +0200

    Android: Changed androidbuild.sh to use path from variable.

commit 0aa2a6df2ca98ed3dd97a508efc8f2b8ca442657
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Fri Jul 31 09:16:21 2015 -0700

    SDL
    - fix hint check, we want or not and

commit e93f90ae90421516a21794f08529b700c9f4850a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 30 10:01:04 2015 -0700

    Trivial integer truncation warning fixes.

commit 628d8edb95385a02fcb0941f776fda3442fdb179
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:15 2015 -0700

    SDL
    - add a new SDL_HINT_MAC_BACKGROUND_APP hint, when set or set to 1 don't force the app to be foreground

commit 5aaf81c84ecd23800f479ae859948ebdca7fcf4f
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:13 2015 -0700

    Fix up monitor enumeration for Windows 8.1 case.

commit e09d95c36a6762fbecb1f8897f3b140bd049b708
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:11 2015 -0700

    Fix SDL_GetWindowPosition to be properly monitor-aware and return the monitor x,y when fullscreened.

commit 6ebbf7ddd0b32f8759904866569d16b68b07dabc
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:09 2015 -0700

    Turn on debug info generation for release configs.

commit b0e145b3e144aa9ec0feef92d949e0c197167b2b
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:06 2015 -0700

    Move GetDisplayDPI to the end of the file.

commit dc2e9ba13b7e53c1c1e03eee585fae6095d1cbbc
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:04 2015 -0700

    Fix build.

commit 51c72e10f789c1cbc5e1a180fb2328dffcc97b29
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:19:02 2015 -0700

    Add X11 implementation of SDL_GetDisplayDPI.

commit 61c7415071479c20297612b0598253a186b453ae
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 29 17:18:56 2015 -0700

    Add SDL_GetDisplayDPI routine and implement for Windows.

commit f5cf86769a91fecdf7ebeddba77719c03a5b6455
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 28 00:12:50 2015 -0400

    x11: Catch fatal X errors when calling glXMakeCurrent().
    
    In extremely rare cases, probably due to misconfigured drivers, one might
    see this happen, and rather than terminate the process, we try to recover
    by reporting an error to the app.
    
    Fixes Bugzilla #3068.

commit c344b734f4c13d30b95b2a4e4a7d774bd4d26f24
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jul 19 19:56:16 2015 -0300

    iOS: Avoid generating an OpenGL error (but still fail to create the context) if the specified MSAA sample count is unsupported.

commit 6ea942dae3934724bdcf93e50f27de55a48db92e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Jul 19 19:44:40 2015 -0300

    Added MSAA support for OpenGL ES contexts on iOS.
    
    Note that extra steps must be taken when using glReadPixels to read the contents of the main OpenGL ES framebuffer on iOS, if multisampling is used. See the OpenGL ES section of README-ios.md for details.

commit b24586309ca3c3228afdea03ef48e3b5cb895b2d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 18 00:04:49 2015 -0400

    Fixed dynapi for new SDL_WarpMouseGlobal() function signature.

commit 9d3d6437424992ce5400596aaf7b26b08a1b574d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 18 00:03:34 2015 -0400

    Patched to compile on Raspberry Pi.

commit e346f14277c2179df8ed2e4bc2ed5d8dcafa157f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jul 17 21:03:58 2015 -0400

    SDL_WarpMouseGlobal() should return non-void.
    
    There are platforms it isn't implemented on (and currently can't be
    implemented on!), and there's currently no way for an app to know this.
    
    This shouldn't break ABI on apps that moved to a revision between 2.0.3 and
    2.0.4.

commit a955bec49aecbb801bef1a836acae0189b553b64
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jul 16 21:48:35 2015 +0200

    Fixed spaces in header file.

commit 16e18817e909f019628cbdf3a2b55204eaee03d2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jul 16 21:31:21 2015 +0200

    Windows: Fixed wrong debugger output if logging empty string as info or warning.

commit cad94bd5021c24319c0502bb36b132b8ece80a69
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 15 21:12:04 2015 +0200

    Fixed typo in test header file comment.

commit 29199056202d24246c3115778e0946176e69257a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 15 21:11:24 2015 +0200

    PSP: Fixed error handling in SDL_SemWaitTimeout().
    
    Signed integers were converted to unsigned before being checked if smaller 0.
    
    Found by Cppcheck.

commit 8bbded258316fb814448dfea38d23399521e81eb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 15 21:10:38 2015 +0200

    Fixed comment in test program.

commit 27055ea0adcee4642f990b3582ec9fbe3aebb411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 14 23:46:35 2015 -0400

    X11: center parentless message boxes on the primary display if possible.
    
    This relies on a successful SDL_Init(SDL_INIT_VIDEO) to work, since it's
    silly to reproduce all the Xinerama/XRandR code in the message box parts. If
    X11 is available but SDL hasn't been initialized, the message box will center
    in the primary screen, which will be positioned weirdly on multi-head setups,
    but this should fix the most significant common case.

commit b7ecc67009d05d8c3a5731425318422aba455371
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 14 21:28:26 2015 -0400

    Added test/testdisplayinfo.c

commit 0c19501eebe65277f8a8439ceae912943c5f27ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 11 00:59:56 2015 -0400

    x11: Patched to compile on systems without the Xutf8LookupString() function.

commit 4679195dbf9fd80f07ca4f6100d7f590e7c8afb9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jul 6 21:02:20 2015 +0200

    Fixed memory leak in test harness.
    
    Found by Cppcheck.

commit 396b3b8992bd728bc0eafd106e1ca467d4fc3cf5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 5 15:45:48 2015 -0700

    Better fix for bug 3048, don't crash if the window title is NULL

commit d0ba0c1d8af4387672e5426b586ddd187be9bc7f
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Jul 4 21:04:49 2015 -0400

    Fixed bug 3048, "Crashes in Cocoa_SetWindowTitle"

commit 65a1a3e7e90f10fea65aa47e5c821233c6bd87a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jul 4 14:09:09 2015 -0400

    Cocoa: support drag-and-drop of multiple objects.

commit b5c43a88b455864ff5c16492ad0a3002965a45e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 3 09:18:14 2015 -0700

    Fixed style

commit 35c4468f9d8e3cd57488e254c4a97dd8d113be65
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 3 09:17:24 2015 -0700

    commit a7d7af2a419b453188ffe87386455fc26c1306fa
    Author: Benoit Pierre <benoit.pierre@gmail.com>
    Date:   Fri Jul 3 02:17:10 2015 +0200
    
        fix 14dd48ae5bc43b61b2a0dd0b3177d22edec707ef regression
    
        The window manager detection code in X11_HasWindowManager does not work
        with Awesome (http://awesome.naquadah.org/). Remove it, and reuse the
        result of the more correct checks in X11_CheckWindowManager.

commit f9d8c59a6f9bd499a366ce4c6179eea4281158c9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jul 2 20:11:40 2015 +0200

    Added missing file to the release archive.

commit 26ecab90105c59c089b80a388d5b7eb468b186af
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jul 1 21:10:54 2015 +0200

    Removed redundant variable check when processing gestures.

commit e8954d5d8cb6e8303662c81d4ae43b1ad0832bf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 30 19:30:02 2015 -0700

    Hack to fix missing window decorations after toggling fullscreen mode in Mac OS X 10.10

commit 1e3c28ac64f44976857059481b93f61333a118f6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 30 15:00:48 2015 -0400

    X11: Added a test for a weird X11 error we get with Xinerama, rarely.

commit 20ec1377638e698a994a0a71aaa41c343c869b4b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 30 14:41:17 2015 -0400

    X11: Call XRefreshKeyboardMapping() when we get various MappingNotify events.
    
    According to the Xlib docs, you need to do this or Xlib's internal state gets
    out of sync.

commit acdb494ffd154386890f8cc4f29fd234a5e6d14e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 30 14:39:39 2015 -0400

    X11: Don't ignore keyboard mapping changes.
    
    MappingNotify events don't have a window associated with them, so SDL was
    dropping these before the point where we would have handled them.

commit 4986563d2f10185e519f6db34ecb0c4a9c81c277
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 30 13:46:06 2015 -0400

    Fixed assertion failure in diskaudio target caused by new hotplugging support.
    
    Fixes Bugzilla #3032.

commit bf9bd59c013ec9c2f799421ec1a410c5d35b8c38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 29 22:24:00 2015 -0700

    Fixed bug 2464 - Configure a sdl2-config.cmake.in together with sdl2.pc.in
    
    Leonardo
    
    Despite having a CMakeLists.txt file, SDL2 seems to be mainly built using the autotools system by package-managers. It is nice to have it but it is only useful if you are building SDL2 by yourself.
    
    People that want to use CMake to find their already-installed SDL2 are using a FindSDL2.cmake module based on the old FindSDL.cmake. This is not deprecated but it is discouraged by the CMake devs (see http://www.cmake.org/Bug/view.php?id=14826), as these modules needs maintainers to be included in the official CMake installation.
    
    To fix that, SDL and its accompanying libraries could configure a simple sdl2-config.cmake file, much like it does with sdl2.pc.in. We don't need to configure a full sdl2-config.cmake as in this post, http://forums.libsdl.org/viewtopic.php?t=10068&sid=ccf8abbf0d73fb03ae9cded991e60959 (because it depends on it being built with CMake). Using something as simple as http://www.cmake.org/Wiki/CMake/Tutorials/Packaging#Package_Configuration_Files is deemed enough. Here is another: http://quickgit.kde.org/?p=prison.git&a=blob&f=lib%2Fprison%2FPrisonConfig.cmake.in

commit f1b7a8434f1d8a00d350cb7833ee5cb6f3e8f6a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 25 07:17:08 2015 -0700

    Fixed compiling if SDL_VIDEO_DRIVER_X11_HAS_XKBKEYCODETOKEYSYM is not defined

commit c5857ab4986e08e8a1d1b7f4136d8bc78efa6e3c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 26 20:12:10 2015 +0200

    Mac OS X: Fixed typo in build script comment.

commit 9b6f159c3dae3a00bf3d9175f4d4b2575d88a4cd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jun 26 20:11:41 2015 +0200

    Emscripten: Corrected build instructions in documentation.
    
    And fixed a typo.

commit 3a08b46336cd123316a0339442f80d4f40dab8f7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 25 11:49:48 2015 -0700

    Fixed bug 2834 - Patch to support dead keys on Windows
    
    Elise Maurer
    
    When inputting text, dead-keys are currently not handled correctly on Windows with the latest SDL2 tip as well as the 2.0.3 release.
    
    Using a French AZERTY keyboard, when I type the `^` key followed by `e` key to compose the `` character, I erroneously get two SDL_TEXTINPUT events, one with the `^` character and one with the `e` character.
    
    I've looked at the history for SDL_windowsevents.c and there's been some back-and-forth with several methods for handling text input:
    
      * r8142 removed any handling of WM_CHAR because keyboard input was being handled through WM_KEYDOWN along with ToUnicode since r7645.
    
      * But using ToUnicode actually breaks dead-keys (googling for "ToUnicode dead keys" reports many horror stories of people trying to work around that and failing).
    
      * It seems like r7645 introduced a double-fix: it fixed WM_CHAR to properly handle Unicode, and also (unnecessarily?) added text input handling to WM_KEYDOWN. Later, r8142 removed the WM_CHAR stuff instead of the WM_KEYDOWN stuff.
    
    The attached patch restores handling of text input through WM_CHAR and removes it from WM_KEYDOWN. I've tested it with French, English and Russian layouts and it seems to do its job. Obviously, with such matters, it's still a risky change.

commit 82eec4b63059ebb6b795f36156351852b124aecb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 24 17:55:38 2015 -0700

    Fixed whitespace in SDL_evdev.c

commit 9f50d63dd5cf8dc348b6a61839ae6cbd0e994013
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 24 17:54:39 2015 -0700

    Fixed an issue with mouse/keyboard removal
    
    Sometimes, on removal SDL_EVDEV_udev_callback() gets called with zero udev_class. This in turn seems to be caused the SDL_udev.c:guess_device_class() failing to find the attributes of the parent device.
    
    Apparently this is normal, attributes are not guaranteed to be in place during removal, depending on timing. This lack of attributes causes guess_device_class() to return zero.
    
    This fix mimics the code in linux/SDL_sysjoystick.c:joystick_udev_callback() which effectively has the same fix already in place.

commit cbbdd27ad37dae52532564f9abb8f2c0045080e7
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jun 24 10:56:51 2015 -0700

    SDL
    - disable compiling in XAudio2 support. We both need the DX SDK to make this code plus we need to work out the runtime dependency problem this code bring in on windows (needing the DX runtime installed).
    
    CR: SamL

commit e4e4e1b82ac313e9d9c5babd3164a2869992a665
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jun 24 10:56:37 2015 -0700

    SDL
    - do the scancode to keyboard code lookup for the grave key, so that we can show users the correct keyface for the key, rather than forcing it to "`".  Note that if a game is using SDLK_* for its KB mapping then after this change on some keyboards the top left key will no longer be mapped correctly with the old data.
    
    CR: SamL

commit b7aa856c8f342ad439dd9e955c4035b9e7a1a194
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 22 23:36:06 2015 -0700

    Fixed bug 3030 - SDL_RecreateWindow fails to restore title, icon, etc.
    
    Adam M.
    
    It loses the title and icon when window recreation fails. For instance, this may happen when trying to create an OpenGL ES window on a system that doesn't support it. But at that point, the title and icon have already been lost.

commit ded3a16e7268287d51b72956bb0b9d2ab49ff102
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 23 01:44:44 2015 -0400

    Fixed compiler warning about shadowed local variables.

commit 437a6d9da98f38f583af02b1459fdb27c2e2b2ad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jun 22 21:30:08 2015 -0400

    Updated Mac OS X documentation for fatbuilt.sh -> gcc-fat.sh transition.

commit 8cea1b986ee2b88b8a0ed42d012d6f92e4e85777
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 21 19:37:37 2015 +0200

    Windows: Fixed crash if initialization of EGL failed but was tried again later.

commit 72590685c02456a4114da40c3d6dd9e8a770cc02
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 21 19:36:35 2015 +0200

    Backed out changeset 4ad56dbf4a6f

commit 0e45984fa036fff1912c62fee3ed4f5481f3c324
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 21 17:33:46 2015 +0200

    Fixed crash if initialization of EGL failed but was tried again later.
    
    The internal function SDL_EGL_LoadLibrary() did not delete and remove a mostly
    uninitialized data structure if loading the library first failed. A later try to
    use EGL then skipped initialization and assumed it was previously successful
    because the data structure now already existed. This led to at least one crash
    in the internal function SDL_EGL_ChooseConfig() because a NULL pointer was
    dereferenced to make a call to eglBindAPI().

commit 7d5147bad3d6e7e88117239e1ff4e6149b917201
Merge: 313881175 5a578a078
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Fri Apr 17 21:25:19 2015 -0700

    resync'd overscan patch with SDL mainline.

commit 5a578a07832e44d6529865bbf086b83c02271933
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 16 22:04:35 2015 +0200

    Fixed return value of SDL_SaveBMP_RW() depending on set errors after NULL input.
    
    If SDL_SaveBMP_RW() was called with NULL passed as SDL_RWops argument, different
    values were returned depending on SDL_GetError(). If no error was set before the
    call (or SDL_ClearError() was called) then 0 was returned. This is wrong because
    nothing was saved. If an error was set before the call then -1 was returned.
    
    This was fixed by directly returning -1 for NULL input instead of deciding based
    on SDL_GetError(). No new error is set because this would otherwise override a
    maybe more useful error set in SDL_RWFromFile() which is used by SDL_SaveBMP().

commit db878a43363b21595219bb3cb929db0490bb09fb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 16 22:02:03 2015 +0200

    Linux: Removed not needed platform info from two entries of controller database.
    
    Not needed because entries of this file are selected by conditional compilation.

commit 3e1d36299aa4dde218c536706c6a565721c88f07
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 15 21:29:55 2015 +0200

    Fixed typo in internal joystick documentation comments.

commit e6b7b38c6cedbfca5392642c75b5e84a5a8d945d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 15 21:27:10 2015 +0200

    Emscripten: Simplified implementation of joystick update function.
    
    The function was implemented using four loops but only needed two.

commit 86fb92a7da6c0121c3c932bc7e6e887691102aa9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 15 21:25:15 2015 +0200

    Emscripten: Fixed memory leak if SDL_GetPrefPath() failed.

commit e97fc5620965562abfec5076cd335946fcb2dab2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Apr 13 20:52:38 2015 +0200

    Android: Fixed lint warning about order of elements in AndroidManifest.xml.

commit 0fbd3372d4bbf9dc4d2f5b09681b3701087cbe28
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Apr 13 20:52:18 2015 +0200

    WinRT: Fixed format string for error message.

commit 3a0270593e9ba51141654c1ce137f03e77dd6c49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 12 21:02:21 2015 -0400

    Patched to compile on C89 compilers.

commit c539b3f9e98ee28e4b6f15266564724be0b16486
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 12 20:59:48 2015 -0400

    Make X11 and Wayland ProcessHitTest() code less verbose.

commit d10201be08141c7db41d050156fb89abf035089e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 12 20:40:06 2015 -0400

    Implemented SetWindowHitTest() for Wayland (thanks, x414e54!).
    
    Fixes Bugzilla #2941.

commit c6538cb977c693927f5d055794b03b897f366132
Merge: cf6b9752f a27fad1e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 12 20:28:28 2015 -0400

    Merged.

commit a27fad1e24c6d4f0232ebbd038c258c1c7731011
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Apr 12 01:50:28 2015 -0300

    Fixed orientation issues in the iOS extended launch screen.

commit cf6b9752f99d139788866b3940bfa3fc174c86f0
Author: Rohit Nirmal <rohitnirmal9@gmail.com>
Date:   Fri Apr 10 22:31:52 2015 -0500

    Ignore some more test binaries.

commit 26b4898ac21ce2226fed1ac8975e4bc04ad4c304
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 11 20:43:11 2015 +0200

    Windows: Fixed format string for error message.

commit 56c82bc8280ab6dc1ae0bcd4baf952d28a0429cd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 11 20:41:49 2015 +0200

    Mac: Fixed typo in two error messages.

commit 1a73b4eba2c96447bb6bad86b7e03e64206fd2d2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 11 05:58:37 2015 +0000

    Some Raspberry Pi build fixes (including Raspberry Pi 2 support).
    
    Fixes Bugzilla #2879.

commit fe6c797cad9882c8e36e684315b9a74cb8a3623c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Apr 10 23:30:31 2015 -0300

    Fixed an iOS view orientation issue when SDL_GL_CreateContext or SDL_CreateRenderer is called.

commit 6ae7a2064796d38a33c58761b682736899b0b1ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 10 21:40:50 2015 -0400

    Placate static analysis with an assertion.

commit 2afa4aeda8b406980f14559049d908abbd45c41b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Apr 10 21:15:51 2015 -0400

    Fixed memory leak in failure case that static analysis found.

commit 7bd72219977906b05fdd4820b6ba9f25458ad161
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 10 23:45:13 2015 +0200

    PSP: Removed empty statement.

commit ce2d5f70e4353a6ac347a12ffe0f96c091d3a3ca
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 10 23:44:55 2015 +0200

    Wayland: Removed empty statement.

commit 562414c74c0ed55c9fe3110eb643757e4e288cde
Merge: c4035654a 67549d332
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 9 22:28:37 2015 -0400

    Merged Alex Szpakowski's iOS-improvement branch to default.
    
    Fixes Bugzilla #2798.
    Fixes Bugzilla #2212.
    Fixes Bugzilla #2826.
    Fixes Bugzilla #2661.
    Fixes Bugzilla #1885.
    Fixes Bugzilla #1578.
    Fixes Bugzilla #2751.
    
    (whew!)
    
    Notable changes, from Alex's notes:
    
    - The SDL_WINDOW_ALLOW_HIGHDPI flag is now needed (along with SDL_GL_GetDrawableSize or SDL_GetRendererOutputSize) to use Retina / high DPI resolutions, bringing SDL?s Retina-related behavior on iOS in line with Mac OS X. Window dimensions and display modes are now in the ?points? (non-high DPI) coordinate system rather than pixels, whereas SDL_GL_GetDrawableSize is in pixels.
    
    - Reworked the custom extended launch screen code:
            - It now hides after the first SDL_PumpEvents call rather than SDL_CreateWindow, and it fades out in a similar manner to the system launch screen behavior.
            - It now mirrors the system launch screen behavior when deciding which image to display: it falls back to using the Launch Images dictionary in Info.plist if the iOS 8+ launch screen nib isn?t available, and if the Launch Images dictionary doesn?t exist it uses the old standard launch image names.
            - The extended launch screen can now be disabled via the SDL_IPHONE_LAUNCHSCREEN define in SDL_config_iphoneos.h.
    
    - Added support for SDL_HINT_ACCELEROMETER_AS_JOYSTICK.
    
    - Added access to a window view's renderbuffer and framebuffer to syswm.
    
    - Added OpenGL ES debug labels for the Renderbuffer and Framebuffer Objects created with SDL_GL_CreateContext.
    
    - Added support for sRGB OpenGL ES contexts on iOS 7+.
    
    - Updated OpenGL ES contexts to support native-resolution rendering (when SDL_WINDOW_ALLOW_HIGHDPI is enabled) on the iPhone 6 Plus, i.e. 1080x1920 rather than 1242x2208.
    
    - Updated SDL_GL_CreateContext, SDL_GL_SwapWindow, SDL_GL_MakeCurrent, and SDL_GL_DeleteContext to be more robust.
    
    - Updated SDL windows to display a UIView at all times, even when an OpenGL context is not active. This allows rotation, touch events, and other windowing-related events to work properly without an active OpenGL context. It also makes it easier to use SDL_GetWindowWMInfo after creating a SDL window.
    
    - Updated the iOS-specific Objective-C code to use cleaner and more modern language features and APIs, including ARC instead of manual reference counting.
    
    - Updated SDL_HINT_ORIENTATIONS to allow disabling custom orientations if the hint is set with no valid orientation names.
    
    - Fixed several rotation and orientation bugs with windows and display modes, especially in iOS 8+.
    
    - Fixed SDL_SetWindowFullscreen failing to update the status bar visibility on iOS 7+.
    
    - Fixed the orientation of the offset applied to the window?s view when the onscreen keyboard is shown in iOS 8+.
    
    - Fixed SDL_IsScreenKeyboardShown (patch by Phil Hassey.)
    
    - Fixed several major memory leaks caused by missing autorelease pool blocks in the iOS-specific Objective-C code.
    
    - Removed several dead code paths.
    
    - The iOS 7 SDK (Xcode 5) or newer is now required to build SDL for iOS.

commit c4035654a996ea17efa27f8ad198ff3154a92833
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Apr 9 19:28:00 2015 -0300

    Added framebuffer and colorbuffer members to the uikit portion of the SDL_SysWMinfo struct, removed SDL_iOSGetViewRenderbuffer and SDL_iOSGetViewFramebuffer.

commit 67549d3320a6ac6ffc103dddc19ae379b9877170
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 9 22:14:05 2015 +0200

    Backed out changeset 064a1998a957

commit f87963488b6f18516d8d8ff6fe3a291ed5e68e4a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 9 21:13:41 2015 +0200

    Wayland: Fixed not freeing memory if initialization failed.

commit dc33fb942d1af8c3da07f67d97b9a03e2e3ea38d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 9 21:13:20 2015 +0200

    Wayland: Fixed accessing not fully initialized subsystem if errors happened.
    
    The VideoInit() implementation returned 0 on errors instead of -1.

commit 8a573844c9695c66fac27a853c4b198e12c92481
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 9 21:11:43 2015 +0200

    Wayland: Fixed accessing not fully initialized window if no memory available.
    
    The CreateWindow() implementation returned 0 on no more memory instead of -1.

commit 049ef9a35b4757fba35480b4152177f7f15eb170
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 8 22:24:33 2015 +0200

    Android: Fixed calling a getter method twice.

commit 458b94da5f474c3bfa50a496c0fa8c54d17cca9b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 8 22:18:10 2015 +0200

    Android: Fixed creating mouse coordinates which are not needed if hint is set.

commit b473d30f1992b89b627f47fdc9d2083d6520db39
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 8 22:15:25 2015 +0200

    Android: Fixed not resetting mouse pointer state if hint was changed at runtime.

commit fcd0f06a88996d2f59a4ac06838ab17f9ae876f8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 8 15:59:29 2015 -0300

    Renamed SDL_iPhoneGetViewFramebuffer/Renderbuffer to SDL_iOSGetViewFramebuffer/Renderbuffer. Added #defines for SDL_iOSSetAnimationCallback and SDL_iOSSetEventPump, which point to SDL_iPhoneSetAnimationCallback and SDL_iPhoneSetEventPump.

commit 1152a759545de2e7340e62f0a3d6c5d64b8db154
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 8 15:44:07 2015 -0300

    Generated dynapi prototypes for the new iPhone functions.

commit 26c28114ee0efcd201a2b6e652eeb2b2f655d6c8
Merge: df98b11c4 a210dbcb1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Apr 8 15:35:07 2015 -0300

    Merged default into iOS-improvements

commit a210dbcb1352b6939020454c241c890842061ffd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:42:29 2015 -0400

    Removed unused variable.

commit 53287ad51c861bfdc2baa97edb74ee307259deeb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:31:54 2015 -0400

    X11: Removed code to set "icon" title, since it was never used.
    
    (Leftover from SDL 1.2, which let you specify this?)

commit 78026f549202ad4e31fe5bfb415412e62a13a43e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:24:17 2015 -0400

    Patched to compile on Windows.

commit e0ad1021a512c258fa130917f332ee4799e926d7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:22:28 2015 -0400

    Wayland: Patched to compile.

commit 785618afec8226cfba17288a6c02b728b66259a1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:14:59 2015 -0400

    DirectInput: ignore everything but joysticks and gamepads (thanks, Justin!).
    
    Fixes Bugzilla #2460.

commit 6e53bc9b10360e5af55868484bf553a6396ba798
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 02:00:14 2015 -0400

    SDL_SetWindowTitle() should never set a NULL pointer for the title string.
    
    Various backends reacted differently (or not at all) in the presence of a
    NULL pointer. This simplifies things.
    
    Fixes Bugzilla #2902.

commit 1339ce71f695ef7afc16559501884e966f8d8bda
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 01:42:47 2015 -0400

    Make SDL_stdinc.h work when compiling with -Wundef (thanks, Ben!).
    
    Fixes Bugzilla #2664.

commit 88e85f4dddb7c44d5b2c8252d792ef34af3bf05a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 01:40:01 2015 -0400

    Patched to compile on C89 compilers.

commit 8da7e8adc9538f09e3ca37331c9ca2e0554fcbdb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 8 01:37:17 2015 -0400

    Log Android hardware at startup (thanks, rettichschnidi!).
    
    Fixes Bugzilla #2653.

commit 6a126a48df8e8260e0a16036a36f431371280ecb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 23:40:01 2015 -0400

    Do the "fix" for asserts with MSVC's /W4 warnings only on MSVC.
    
    Naturally, this way generates a warning on GCC and Clang instead.  :)

commit 9a686aaa565b261b6f01d625d624d6f9dd216f09
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 22:49:56 2015 -0400

    Wayland: changed a few "SetError(); return -1;" to "return SetError()".

commit df98b11c47bfff61383068e5e45a54cc2ad6599a
Merge: f3590aba1 66867e654
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Apr 6 15:26:37 2015 -0300

    Merged default into iOS-improvements

commit f3590aba15d35de88b72df383f82d7b0473d2752
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 6 00:11:58 2015 -0400

    X11: Always specify "True" if setting GLX_FRAMEBUFFER_SRGB_CAPABLE_ARB.
    
    Fixes Bugzilla #2897.

commit 83aeb31d12cf30b8f0de6f7c78a52fa7772497ee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 6 00:10:54 2015 -0400

    This function can be static.

commit 2f3f3287149cbc7b738feab90882735e720816c6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 5 18:59:52 2015 -0400

    Make loading/saving dollar gesture templates endian clean (thanks, Martin!).
    
    Fixes Bugzilla #2674.

commit 05a9206a4f14cca24a990d1320a19d01b9fefb28
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 5 18:44:24 2015 -0400

    Add some SDL_SetError() calls to the dollar gesture code (thanks, Martin!).
    
    Fixes Bugzilla #2673.

commit 0713c1e53b1dcca29097968c2d192f4fbe9f8120
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Apr 5 15:52:37 2015 -0400

    Patched to compile on Android when audio subsystem is disabled (thanks, Jonas!)
    
    Fixes Bugzilla #2797.

commit 3e4a8ce1c2966aaee2529b2b0a35877eda7ee2c0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 1 19:18:56 2015 -0700

    Fixed detecting the NVIDIA controller which shows up as both a mouse and a game controller

commit 41961e4f313088832f9fdc16c4accd3eeba0fac1
Author: Joseba Garc?a Etxebarria <joseba.gar@gmail.com>
Date:   Thu Apr 2 00:55:45 2015 +0200

    Cast the result of calling getButtonState to an Integer

commit c5d9d1646f1aa323d9ca86c7ecad43eb041dcdf8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 1 18:22:42 2015 -0700

    Added a game controller entry for the NVIDIA Controller

commit c7ec9c1d851e424d6223175df9f5870c0a39aab7
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Apr 1 16:11:37 2015 -0400

    handle the case where the ibus address can't be found. (prevents nasty crash)

commit 64237d7f0183e65e05b97a94d792a0e8dedf8230
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 1 14:45:09 2015 -0400

    Patched to compile on Android (I hope).

commit f9041771d50e7ae5797a8bcdcf2c0fbaa7756910
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 1 12:14:56 2015 -0400

    Android: more separate-mouse-and-touch work.
    
    This avoids a hint lookup for each mouse event we get by setting a static Java
    variable from native code during our hint watcher callback.
    
    Also attempts to do the right thing with mouse buttons if you happen to be
    on an API14 (Ice Cream Sandwich, Android 4.0) or later device. We still
    target API12 (Honeycomb MR1, Android 3.1) for SDL 2.0.4 though.
    
    This isn't tested, so I'm pushing to see what the Android buildbot says. Stand
    back, I'm a professional!

commit 236deab49b977479c2b0064f09d462e513fcccb3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 30 11:31:53 2015 -0700

    Fixed relative mouse motion moving farther and farther off screen.

commit b620df3ea71e7d0ae7d75d80f83694f2424930f9
Author: Emmanuel Gil Peyrot <linkmauve@linkmauve.fr>
Date:   Sat Mar 28 19:43:46 2015 +0100

    Wayland: Specify the output we want to put our window on.
    
    Fixes Bugzilla #2803.

commit a0e878aafb43d7887708c1899ecf044e4fb35093
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 28 00:48:03 2015 -0400

    Minor input grab clarifications.
    
    Clarify that grabbing the mouse only works with one window at a time; this was
    always true at the system level, though SDL could previously get confused
    by multiple simultaneous grabs, so now we explicitly break any existing
    grab before starting a new one and document it as such.
    
    Also track the window that is currently grabbed, and provide an API to query
    for that window. This makes it easy to automate mouse ungrabbing at
    breakpoints with gdb7's scripting, since the scripts can now know which window
    to ungrab.
    
    In 2.1, we should probably change this API to SDL_GrabInput(win) and
    SDL_UngrabInput(void), or something.

commit 7399062855d6a773822e92f3d93c0af2a7bcfd71
Author: Joseba Garc?a Etxebarria <joseba.gar@gmail.com>
Date:   Fri Mar 27 18:09:51 2015 -0400

    Renamed SDLGenericMotionListener back to SDLGenericMotionListener_API12

commit e7a659ebcc20087d84682712bc9c782fb86b0699
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 25 22:48:57 2015 +0100

    Removed not needed call to SDL_free().

commit 37672303d3205dd1479c443cc5d8fd5653baf0a9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 25 22:47:22 2015 +0100

    Android: Removed outdated comment from source.

commit 03f5185eff5c63538424a40329d0b4f6c1148379
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 25 11:18:54 2015 -0400

    Make the Dynamic API master switch more clear.

commit 1270247ccdeeaa3edfc26d73a6e733690d4a3152
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 25 10:59:10 2015 -0400

    Add a hint watch callback for SDL_HINT_ANDROID_SEPARATE_MOUSE_AND_TOUCH.

commit 83a44680cb6a1e8fb1e3a9e16ea94b5dd1f03a6f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 25 10:48:59 2015 -0400

    Removed unnecessary SDL_log.h include.

commit ca7b18e43f8159637ce0f5c80405a6a50fe2eacb
Author: Joseba Garc?a Etxebarria <joseba.gar@gmail.com>
Date:   Tue Mar 24 21:02:28 2015 +0100

    * More Android patch work

commit 387fa5dcfbe7fc20a06f0bf8654f110ca61dd393
Author: Joseba Garc?a Etxebarria <joseba.gar@gmail.com>
Date:   Tue Mar 24 20:45:29 2015 +0100

    * Improve mouse support in Android. These changes require Android API v12 to compile

commit 87ef19c44a383897f807059581e6a30483c41e2c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 25 10:19:10 2015 -0400

    Keep track of maximum number of events in-flight in the SDL queue at once.

commit 3f9f0027bc86ad6e8f293a90e778ed8911cb9158
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 14:40:31 2015 -0400

    Patched to compile on C89 compilers.

commit 672ccb4f540da7529af31d4f624b99d6475e39a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 14:36:36 2015 -0400

    Make the signal handler hint more generic.

commit a91a5604cda174c69684cf9c4ff1e4fc1db67191
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 14:29:25 2015 -0400

    Added a hint to prevent SDL from installing signal handlers.
    
    Fixes Bugzilla #2431.

commit 162ef5eae92f4684d5142af47f2fbdbb9292e3de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 13:52:01 2015 -0400

    Cleanups in the joystick code.
    
    Removed some redundant state and other confusions.
    
    Fixes Bugzilla #2738.

commit 4a071b311b412df3f157134e405d21dbef693efe
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 03:24:57 2015 -0400

    Mac: patched to compile with haptic subsystem disabled (thanks, Rodrigo!).
    
    Fixes Bugzilla #2717.

commit 9470f4a2bdab0d84e626bc2784efa23d66e38d41
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 03:21:57 2015 -0400

    Better fixes for CMake subsystem enabling (thanks, Sebastian!).
    
    Fixes Bugzilla #2875.

commit d9f378530b17f2031e0a212f3e83d49124fe3c2d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 03:12:35 2015 -0400

    Make SDL error string formatting deal with nasty corner cases.
    
    We continued looping while maxlen > 0, but maxlen was unsigned, so an overflow
     would make it a large number instead of negative. Fixed.
    
    Some snprintf() implementations might return a negative value if there isn't
     enough space, and we now check for that.
    
    Don't overrun the SDL error message buffer, if snprintf() returned the number
     of chars it wanted to write instead of the number it did.
    
    snprintf is a portability mess, we should just never use the C runtime for it.
    
    Fixes Bugzilla #2049.

commit 54f4725a129edf7d8f0a86025b52062493959a1f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 02:48:16 2015 -0400

    Ran hardcoded game controller database through sort_controllers.py.

commit a300a735014f5cabceaaa0ee2dd7e8bd967e38f5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 02:47:25 2015 -0400

    Added Logitect RumblePad 2 controller mapping for Linux (thanks, Nicholas!).
    
    Fixes Bugzilla #2091.

commit 878c2324b129ea371880883cd83604af91797205
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 24 02:13:25 2015 -0400

    winmm: Let audio callback buffer size be less than 1/4 second (thanks, Jon!).
    
    Maybe this was here for Win9x? There's no reason to insert this much latency
    by default.
    
    Fixes Bugzilla #2835.

commit ac2bb3f200b9d765e2e41f0d9532b41e75e82381
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 23 20:07:24 2015 -0400

    configure script: fix recursive mutex test on Linux systems (thanks, Ozkan!).

commit c76130c9cc1aff1b2e9295dd91115d2b5ba4da49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 23 19:54:33 2015 -0400

    X11: Reenabled setlocale() and fork() for message boxes.
    
    Fixes Bugzilla #1658.

commit 331a434fa1a64add928dfd312ce876b539008eaf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 23 19:47:08 2015 -0400

    Windows: Report window HDC in SDL_SysWMinfo.
    
    Fixes Bugzilla #2668.

commit 528e48b980defa51378dd720485fdcb3e259db07
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 23 20:24:04 2015 +0100

    Android: Removed not needed include statement.

commit 8a58e12f5f5dc802630a6dd1779ff6f121e59d62
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Mar 23 20:21:45 2015 +0100

    Updated test program for Emscripten.

commit b42c2597520793465696f2a82b48480d47c5ad4d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 22 01:25:12 2015 -0400

    Cocoa: Handle more cases of lost focus when Key window closes (thanks, Alex!).
    
    Sort of fixes Bugzilla #1825 a little more. It's an ongoing effort.  :)

commit 49f33b41a7ac3614281420d491d5d3a98ea1fb66
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Mar 21 22:42:53 2015 +0100

    Added missing SDL_DOLLARRECORD event type documentation in header.

commit 716ef0d5f21a24d0f7f09e9dd524df30094ed23a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Mar 21 08:01:43 2015 +0100

    Fixed confusing audio and touch events because of shared enumeration values.

commit eb49f8caa364ab554b6f7030b7d1bc2374dc932e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 21 00:09:22 2015 -0400

    Patched to compile on OpenGL ES-based platforms.

commit 161e5d150fec90bb8be8153454a14e01adb24d3b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 23:29:09 2015 -0400

    Whoops, lost a newline in here.

commit 3c76d2ff19d1bcb29790086191748535283c9fee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 21:57:15 2015 -0400

    Several corrections to the CMake project files (thanks, Ozkan!).
    
    Fixes Bugzilla #2732.

commit 34415c4557400f6706d06a533d61db2fcfc7b754
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 12:23:53 2015 -0400

    Windows: support for OpenGL extension WGL_ARB_context_flush_control.

commit 89be609adf3c8c13094348d9d5963f99ff558978
Author: Emmanuel Gil Peyrot <linkmauve@linkmauve.fr>
Date:   Wed Mar 18 01:14:45 2015 +0100

    Wayland: Properly discover displays and their modes.
    
    Fixes Bugzilla #2913.

commit e7ba78a35a1c76af29897f7ae72515e7303b26eb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 21:52:22 2015 -0400

    CMake: Dependency variable for FUSIONSOUND_SHARED was wrong (thanks, Kaleb!).
    
    Fixes Bugzilla #2055.

commit 5b6e064acd3da2b90883ae79fd14a79df50eeb8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 20:01:43 2015 -0400

    CMake: fix CHECK_OBJC_SOURCE_COMPILES to work with GCC (thanks, Ivan!).
    
    Apparently -ObjC works with Clang, but -x objective-c works with both.
    
    Fixes Bugzilla #2392.

commit 684f9e9603dd83ff284e079966c30c06b4414067
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Apr 7 23:00:56 2015 +0200

    Fixed typo in gesture README.

commit 3e9c2e751288db191e0dde2380903bfaaabcdaaf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 7 00:39:16 2015 -0400

    Another attempt to make MSVC's /W4 warning level cooperate with SDL_assert.
    
    Fixes Bugzilla #2733.

commit a4458a7002e80c36510dc1c61ae65f012da59985
Author: Alex Baines <alex@abaines.me.uk>
Date:   Fri Mar 20 19:47:03 2015 +0000

    Fix DBus error message if IBus couldn't be initialized.

commit 80115574585059b522c6103ad3d5a47933e96162
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 6 18:26:13 2015 -0400

    Refuse to make a window that's too large. Some systems (x11) freak out at this.
    
    Fixes Bugzilla #2255.

commit f5d96416ad0e2d09f222c25fa7e8bb0d8399b0f1
Author: Marc Di Luzio <mdiluzio@feralinteractive.com>
Date:   Fri Mar 6 16:03:40 2015 +0000

    Allow setting of GL_CONTEXT_RELEASE_BEHAVIOR when creating the GL context when GLX_ARB_context_flush_control is available.
    
    This extension allows the user to specify whether a full flush is performed when making a context not current.
    The only way to set this currently is at context creation, so this patch provides that functionality.
    Defualt behaviour is set at FLUSH, as per the spec.
    
    This patch does not contain the changes to WGL, appleGL or other platforms as I do not have access to GL 4.5 hardware on those platforms.
    
    Full details on the use of KHR_context_flush_control can be found here:
    https://www.opengl.org/registry/specs/KHR/context_flush_control.txt

commit 70191a9302beb11eb8e41d4d4ade66b092c7936f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 11:51:03 2015 -0400

    CMake: Don't search for the OpenGL library on Mac OS X. It's always there.

commit 182a7768e1658d80ab8ee7407069cbca5b3e1633
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 11:11:44 2015 -0400

    Audio hotplug fixes for winmm and XAudio2 backends.

commit c1091f32fba9c254a074a50f5759c33d9667b989
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 10:35:42 2015 -0400

    CMake project files no longer force you to link against Wayland or Mir libs.

commit d8988ea842ffd91301c75ddd0053d630965699db
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 20 10:02:45 2015 -0400

    Fixed some defaults in CMake project file.
    
    Fixes not finding dlopen(), etc.

commit 6c072917e993a7b330017e9d3d9a1f74252d9f14
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 23:54:35 2015 -0400

    Patched to compile on gcc2.

commit 06e85acd72d04ec6d65ff0c4bdf921b96cbaab25
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 23:45:34 2015 -0400

    Removed unused variable.

commit b24ff44692ed601dce70120fd602afcd9ea25331
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 23:44:47 2015 -0400

    Make static analysis happy.

commit 277e07e7007f10e14e2db25dfc050a1b5896fc8f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 23:39:53 2015 -0400

    Fixed a compiler warning on Visual Studio.

commit 1877f5745b596245f2eac5604c928900fcfa908f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 23:35:43 2015 -0400

    Patched to compile on Windows.

commit e9a7a81f2816354923238c64a80b73176189651d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 22:20:12 2015 -0400

    Immediately minimize the goofy window in testaudiohotplug.

commit 537b68b9f0ef116be22e7d6a5bd6dfd1f1309efd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 22:11:20 2015 -0400

    Zero out the audio hotplug event structure, so the "padded" fields are sane.
    
    Just in case we ever need those bits in the future.

commit cafd030ba691b50b0f707703acc3f28f1b71729b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 22:08:12 2015 -0400

    PulseAudio: Hotplug support!

commit 11cffe1dc9b358edd5c36613d40355704e7b9fff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 15:43:00 2015 -0400

    SDL_RemoveAudioDevice() should specify capture vs output.
    
    This lets us reuse values between the two categories without conflicting, etc.

commit 1e78ef2155fa9160ec2306454f40ee3fa329af41
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 13:34:17 2015 -0400

    Removed the broken audio streaming code, other small cleanups.

commit 5cbb32ef571f2380ae9bd79268ffb1eb8d913ecb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 13:27:10 2015 -0400

    Disconnected/broken/lost audio devices now continue to fire their callback.
    
    The data produced by the callback is just thrown away and the audio thread
    delays as if it's waiting for the hardware to drain.
    
    This lets apps that rely on their audio callback firing regularly continue
    to make progress to function as properly as possible in the face of disaster.
    Apps that want to know that the device is really gone and deal with that
    scenario can use the new hotplug functionality.

commit 75973f81b232643f62352ea6f760951433b530c2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 19 13:15:28 2015 -0400

    Don't assert if an audio backend reports the same device disconnected twice.

commit 7c4b88f2db9f9c293f0d7f414c05a61f3d5456d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 10:29:04 2015 -0400

    PulseAudio: Improved multidevice support.
    
    Added capture device enumeration, report human-readable device name, other
    cleanups.

commit f9cfd9fa14e4b3c63924ee378c38ef936301494c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 02:01:17 2015 -0400

    Bunch of reworking to how we manage audio devices.
    
    Device enumeration now happens at startup and then is managed exclusively
    through hotplugging instead of full redetection. The device name list now has
    a unique "handle" associated with each item and SDL will pass this to the
    backend so they don't have to figure out how a human readable name maps to
    real hardware for a second time.
    
    Other cleanups, fixes, improvements, plus all the audio backends updated to
    the new interface...largely untested at this point, though.

commit 0e02ce08563cdf8158924ed51c5444bb4888d4d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 16 02:11:39 2015 -0400

    Initial work on audio device hotplug support.
    
    This fills in the core pieces and fully implements it for Mac OS X.
    
    Most other platforms, at the moment, will report a disconnected device if
    it fails to write audio, but don't notice if the system's device list changed
    at all.

commit 338bf5d297141381d5b90901b8c54f95aada349d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 10:09:39 2015 -0400

    Changed some SDL_memset() calls to SDL_zero().

commit 97ff10c63cc5399179d8fbcec1a38f0d1d820fd5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 10:09:23 2015 -0400

    Tweaked a couple comments, added some FIXMEs.

commit 1110f53610c0075fba7d185b4956d7af48999d34
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Mar 18 12:03:32 2015 -0400

    WinRT: updated names, and references-to, various ANGLE/WinRT repositories

commit 43674503e1fb42383ab14aa132dd6c3edf436ab3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 10:05:36 2015 -0400

    Patched to compile on C89 compilers.

commit 9a83151e9cea7d930a4bef7120aa9671b65b627e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 09:59:22 2015 -0400

    PulseAudio: Added multiple device support, other cleanups.
    
    Thanks to Dominik Frizel for most of the effort on this!
    
    Fixes Bugzilla #2730.

commit 73feb8c042df84c684afa4674dcfa29260967558
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 18 00:56:33 2015 -0400

    Fixed a compiler warning.

commit 522fd82901441ca458dc884db63ff8bbbb3d3cea
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 17 19:45:47 2015 -0400

    WinRT: made OpenGL window-init work with latest round of ANGLE/WinRT updates
    
    Various constants in ANGLE/WinRT, both in MSOpenTech's ms-master branch, and
    in Google's branch, were changed again.  This change makes SDL/WinRT work with
    them.
    
    To note, the ms-master branch (of ANGLE) was updated via this merge:
    https://github.com/MSOpenTech/angle/commit/bbd2eb0a9c453a941f2c7abacf616d5a66b6be92#diff-d1377fbe747de154e1bfcf7221d3de67

commit b12ea75991c0dd7c8c5ab458b4d0a769216196c4
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 17 10:25:21 2015 -0400

    WinRT: another ANGLE/OpenGL-initialization, error messaging tweak

commit 1083ae22e605fdb4725ca8dc1bf4752d90c76d7c
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 17 10:22:36 2015 -0400

    WinRT: ANGLE/OpenGLES-initialization, error message improvements

commit 5b7ddd534c5dff02c9aab229d63154692bf18790
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Mar 15 19:25:10 2015 +0100

    Updated name of assert type in test program.

commit 809b7be27fea5fdf653d2d77262c82a662fccfd1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 13 12:20:17 2015 -0400

    Cleaning out a silly coding style I used to use.
    
    Changed all the "return (x);" lines to "return x;"

commit 3a53258814a4e4c93dd33fc266a9c67d87714dec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 13 00:48:30 2015 -0400

    Removed an unnecessary #ifdef.

commit da843f6a8d7dbaed7bb0c192a10157b3b51c4001
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Mar 11 21:14:21 2015 +0100

    Updated internal documentation comments.

commit 060d243f6652ca82c33f5499a44fdddc116f1aca
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 6 21:34:10 2015 +0100

    Windows: Fixed ignoring return value of internal function.
    
    If the function WIN_ConvertUTF32toUTF8() failed (should currently not be
    possible) a not terminated string would have been sent as text input event.
    
    This also fixed converting characters more often than needed on key repetition.

commit 8f4c2a8f9c98186a38be6e33c58af48cd4dc0849
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 6 21:29:25 2015 +0100

    Emscripten: Fixed ignoring return value of internal function.
    
    If the function Emscripten_ConvertUTF32toUTF8() failed (should currently not be
    possible) a not terminated string would have been sent as text input event.

commit 1686af726e6968ffe870e5d39824b30273756ec5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Mar 6 21:26:37 2015 +0100

    Emscripten: Partially fixed not removing key event callbacks if hint was used.
    
    The key event callbacks were always removed from the same target although it is
    possible to set them to different targets using the hint. This is only a partial
    fix because it assumes that the hint is not changed to a different value later.

commit 483ea8b7b0712d8480887c08bf95523861f86c48
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 2 21:36:45 2015 -0500

    Fixed SDL_PRI?64 for 64-bit Linux.
    
    64-bit Linux uses a "long" instead of "long long" for 64-bit ints.
    
    Added a special-case this so SDL_PRI?64 doesn't trigger compiler warnings
    when used with SDL's 64-bit datatypes on 64-bit Linux.

commit d34d608e5995eb14f54ad91d4fd3330d55b16276
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Mon Mar 2 11:43:24 2015 -0800

    SDL
    - fix crash on OSX when removing a device. If the remove happened due to the CFRunLoopRunInMode call in SDL_SYS_JoystickDetect then we would delete the device right away, before SDL_SYS_JoystickUpdate could clean it up. So move the CFRunLoopRunInMode to after the cleanup logic, preventing this case. This does mean that adds and removes of joysticks now take 1 extra frame to show up.

commit d6c429665390ec2cfb78b4d2597e22b1602876f2
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Feb 22 20:34:08 2015 -0500

    Fixed bug 2868 - SDL_FillRect can crash if surface's clip-rect is out-of-bounds
    
    Thanks to John Skaller for the research into this, and for the fix!

commit 8321efba3341c642820aee430e8c1de6eb33be63
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 22 23:21:32 2015 +0100

    Emscripten: Fixed out of range joystick device index after joystick disconnect.
    
    After disconnecting a joystick the remaining kept their original device index.
    This was not correct because the device index must be a number between 0 and
    SDL_NumJoysticks(). It was fixed with ideas from SDL's joystick implementation
    for Android. Some range checks were removed as the caller already checks them.

commit 5c43207fad3c18578846721642723545b9c276e3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 22 21:00:35 2015 +0100

    Emscripten: Fixed sending button and motion events for not opened joysticks.
    
    SDL_SYS_JoystickUpdate() was implemented incorrectly. For every call to it all
    attached joysticks were checked. But actually only the given SDL_Joystick should
    be checked then. This allowed sending broken events for attached but not opened
    joysticks. It also checked the opened joysticks more often than actually needed.

commit e4be934f5d80207e8054fcbab51171bdb1583ab6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 21 00:33:25 2015 -0500

    Fixed naming conventions in some SDL_assert types, added compat #defines.
    
    Fixes Bugzilla #1997.

commit 201868156e90790213935b8d75de9d5b4052ac8e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 23:52:10 2015 -0500

    Mac OS X: Better way to stop duplicate joystick reports (thanks, Kyungdahm!).
    
    Fixes Bugzilla #2822.

commit 33b9d9ad7f696a051244a9a7dab816e666d862d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 21:51:13 2015 -0500

    Windows: Added a FIXME.

commit 674eb5563807856935fdf2676e844c71cb5dab89
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 21:50:40 2015 -0500

    Windows: Free the argv we allocated for console_wmain().

commit e974ccf8284f5931ed41176daac975c15a0513a7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 21:49:30 2015 -0500

    Windows: Added a FIXME.

commit f7c4c3d0105da37511da4fa8091ca7d05f6b3a70
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 21:49:15 2015 -0500

    Windows: Make a distinction between ANSI mainline and UTF-8 mainline.

commit e93ee5d7b1c878bfd6ba1a7c7299cb8749b00197
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 21:44:41 2015 -0500

    Windows: Support unicode arguments for console applications (thanks, Jorgen!).
    
    Fixes Bugzilla #2864.

commit 1b2cb70ca053517be98e9369e5e5e039b180d430
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 19:55:30 2015 -0500

    Mac OS X: replace some deprecated APIs with modern equivalents (thanks, Alex!).
    
    Fixes Bugzilla #2858.

commit 635a369c9ddd19d518e7851298beee2d532a9759
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Thu Feb 19 19:40:58 2015 -0500

    SDL_SetWindowPosition respects display num for SDL_WINDOWPOS_CENTERED_DISPLAY.
    
    This allows for this kind of code in an application:
    
    int monitorID = 1;  // the second monitor!
    SDL_SetWindowPosition(sdlWin,
                          SDL_WINDOWPOS_CENTERED_DISPLAY(monitorID),
                          SDL_WINDOWPOS_CENTERED_DISPLAY(monitorID));
    
    Fixes Bugzilla #2849.

commit b88ca1b4a663045f89cff080f2e4e41a6e7522de
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 10 16:28:56 2015 -0500

    the last parameter of XChangeProperty is the number of elements.. and when the element format is 32.. the element is "long" so we have 5 long elements here.
    
    Yes this seems confusing as on mac+linux Long is either 32 or 64bits depending on the architecture, but this is how the X11 protocol is defined. Thus 5 is the correct value for the nelts here.  Not 5 or 10 depending on the architecture.
    
    More info on the confusion https://bugs.freedesktop.org/show_bug.cgi?id=16802

commit 66867e654caa4189baa2c0e32d173437b7e8ed70
Merge: 3e17fbee7 a26a4e9ee
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jan 24 23:58:07 2015 -0400

    Merged default into iOS-improvements

commit 3e17fbee7e779c7e27d3b2c6974a3ca18031f19d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Jan 24 23:53:41 2015 -0400

    Fixed the extended launch screen causing minor visual issues when rotating the screen in some circumstances.

commit a26a4e9ee2be42dfdba455d7c0136b90f888dd0b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 23 20:29:08 2015 +0100

    Fixed bug 2816 - [patch] Android: Expose screen refresh rate
    
    Jonas Kulla
    
    Display::getRefreshRate() is available on all API levels.

commit f15d13d6ef8b6225c3c574c7d8ae6a6f0921b609
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jan 18 02:50:14 2015 -0500

    CMake: Removed unused variable (thanks, Felix!).
    
    "MACOSX_COREAUDIO" is actually an internal #define set up elsewhere, and
    this CMake var is never exported past the CMake script anyhow.
    
    Partially fixes Bugzilla #2807.

commit c4275f95ce925ff279fc09b1394342d6c6fd42b1
Author: Felix H. Dahlke <fhd@ubercode.de>
Date:   Sat Jan 17 04:36:15 2015 +0100

    Fixed bug 2807 - Not using CoreAudio on OS X when built via CMake

commit 2b53ffc77c603ab2c3640b2657212d4ac2925600
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 16 23:07:10 2015 +0100

    Fixed wrong documentation in joystick implementation source.

commit 4b3f0d6ddb928019d9f73f7d47381d823a254797
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 16 23:03:14 2015 +0100

    Fixed two warnings about initialized but unused local variables in tests.

commit ea5d1a8a3f49d2efa36533228eb991ebff378d7f
Merge: 01bfc2158 775a5aa55
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jan 15 01:15:24 2015 -0400

    Merged default into iOS-improvements

commit 01bfc2158a3b60450057e67ec6011a6381037110
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jan 15 01:06:14 2015 -0400

    Several improvements to the iOS backend:
    
    - Added new custom launch screen code. It uses the launch screen nib when available on iOS 8+, the launch images dictionary if the launch screen nib isn't available, and the old standard image names if the launch image dictionary isn't in the plist.
    The launch screen is now hidden during the first call to SDL_PumpEvents rather than SDL_CreateWindow so apps can have the launch screen still visible if they do time-consuming loading after creating their window. It also fades out in roughly the same way as the system launch screen behavior.
    It can be disabled by setting the SDL_IPHONE_LAUNCHSCREEN define in SDL_config_iphoneos.h to 0.
    
    - A blank UIView is now created and displayed when the window is first created. The old behavior was to defer creating any view until SDL_GL_CreateContext, which prevented rotation, touch events, and other windowing-related things from working until then. This also makes it easier to use SDL_GetWindowWMInfo after creating a window.
    
    - Moved the keyboard and animation callback code from SDL's UIView subclasses to its UIViewController subclass, which lets them work properly in all cases when a SDL window is valid, even before SDL_GL_CreateContext is called and after SDL_GL_DeleteContext is called.
    
    - SDL_GL_CreateContext, SDL_GL_SwapWindow, SDL_GL_MakeCurrent, and SDL_GL_DeleteContext are more robust.
    
    - Fixed some edge cases where SDL windows weren't rotating properly or their reported sizes were out of sync with their actual sizes.
    
    - Removed all calls to [UIApplication setStatusBarOrientation:]. It doesn't seem to work as expected in all cases in recent iOS versions.
    
    - Some code style cleanup.

commit 775a5aa554d65c37a84b34a75bbf7bd25f1f9ad1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 12 23:20:52 2015 +0100

    Added and fixed doxygen markup in header file.

commit aefcd86deacb862a6889bc2287cca8cae84df08e
Author: Arne Janbu <arnej@arnej.de>
Date:   Sat Jan 10 13:47:37 2015 +0100

    Fix build on Linux when wayland is enabled
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=2838

commit b7f6da0629e8a05a71c526c0c723079ee73ac960
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 13:42:56 2015 -0500

    Some corrections to the SDL2.spec.in (thanks, Simone!).
    
    Fixes Bugzilla #2809.

commit a309755961a2eccf73aced8c6ecc962c82153166
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 19 13:11:19 2015 -0500

    Remove unnecessary parentheses and an unnecessary free() of a NULL pointer.
    
    (Thanks, Simon!)
    
    Fixes Bugzilla #2881.

commit 80ba854749db5b8e953d7dbfe0ab6a6f1edeb8a5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 18 16:25:15 2015 -0500

    Corrected documentation about triggers values in SDL_GameControllerGetAxis().
    
    Fixes Bugzilla #2319.

commit 8751b956f113e7d8ec50289f019ba5ac307c18b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 18 16:17:53 2015 -0500

    We maintain the list of platforms on the wiki now.
    
    Also, I don't really want people emailing community members directly with
    problems, so I'm removing their email addresses.
    
    Fixes Bugzilla #2304.

commit 6dda14c0d85800e16af47f49e7451136a3395f7d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 18 21:34:07 2015 +0100

    Emscripten: Fixed receiving joystick events after failed init or subsystem quit.
    
    The callbacks used to receive the HTML events were not removed if the joystick
    subsystem initialization failed or if the joystick subsystem was quit. Also, the
    already connected joysticks were not deleted if the initialization failed later.

commit f9adb453dd184a287eff28bb2907938e1ebbf46b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Feb 18 21:31:21 2015 +0100

    Removed redundant include statements from test programs.
    
    The needed header files are already included with SDL.h. Still including them in
    the test programs is confusing because it somehow suggests they would be needed.

commit f75d6c0915ec4480536a5156f663852468ed46cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 17 23:00:46 2015 -0500

    X11: Don't create a window and GL context to look up the glX extension string.
    
    It's not necessary.

commit f0c061d141d014031c0962a828344fdfc4c91c32
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 17 22:59:56 2015 -0500

    glX HasExtension(): check for NULL ext string first.
    
    It's slightly faster than failing later, after a strchr() call, since this
    will get called multiple times with a NULL string if the system totally
    fails elsewhere.

commit 052720f7d5146da108297d50cdd83254f6808fcb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 15 21:47:10 2015 +0100

    Emscripten: Removed unused internal function.

commit bd2d0146450bab1e47c1e1a33e0badffe5489f1b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 15 21:44:36 2015 +0100

    Emscripten: Changed return type of callback implementations from int to EM_BOOL.
    
    The prototypes are declared with EM_BOOL (which is currently an int) in html5.h.

commit 8a700d4db27341452bd1c3580e72eaa33f253bbd
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Feb 15 12:11:44 2015 -0500

    WinRT: a minor, nit-picky cleanup of some OpenGL code

commit 5ad34f7a79f791832c6b3c7b484a7b44b6b5c3b1
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Feb 15 11:53:24 2015 -0500

    WinRT: improved OpenGL ES compatibility on WinPhone/ARM and Surface RT
    
    This change integrates initialization settings for ANGLE/WinRT, as suggested in
    MSOpenTech's latest ANGLE template-projects (for MSVC).
    
    This should fix some OpenGL initialization issues on WinPhone 8.1 on ARM, and
    on the 1st-generation Surface RT.

commit ec2df6490efe11e15143521ce9f03bb9fbdb6630
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 15 11:35:07 2015 +0100

    Fixed crash if using clipboard functions without having initialized video.

commit cec3efe6277277b734ef43052e80916feeed393c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 15 11:33:39 2015 +0100

    Fixed compile warning about unused variable in wave test program.

commit df3299627dfc3cc40a9722321ebea43ccdf51ea8
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Feb 15 00:08:27 2015 -0500

    WinRT: fixed crash when using up-to-date versions of ANGLE/WinRT

commit 2ef8b1a76f730e38d7faa793492d8235798a69dd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 15:22:04 2015 +0100

    Emscripten: Fixed sending SDL_JOYDEVICEADDED events with an index out of range.
    
    SDL_JOYDEVICEADDED events must contain the device index which is a value between
    0 and the number of connected joysticks. The old implementation included a value
    based on the instance id instead. It worked in some cases because the values are
    similar initially. But after disconnecting joysticks this is no more the case
    and the always increasing instance id becomes larger than number of joysticks.

commit 39418488386da94a8f820e246a07eff06c127b97
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 15:16:41 2015 +0100

    Emscripten: Deactivated and corrected debug log messages on joystick events.

commit 6abd242b935ce6ad94b05be7c498bde91f3c940b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 00:16:27 2015 +0100

    Emscripten: Fixed throwing JavaScript exception if no audio context available.
    
    Handling the error in C provides the possibility to just continue without audio.

commit c5179c6acf744421216bcb588471ded33bb45f1b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 00:13:00 2015 +0100

    Emscripten: Fixed not including SDL_internal.h.

commit 697c5c5758ec02d2ca028ad3b01d3ff3394c4e4e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 00:10:58 2015 +0100

    Emscripten: Fixed framebuffer error message.

commit 2bb73d170caf93b203120d56e5ca6952abc7a2d1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 14 00:08:48 2015 +0100

    Emscripten: Fixed SDL_GetPlatform() returning "Unknown" instead of "Emscripten".

commit d1932834e25d73504ac19a1289f2b668eb05ee7d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Feb 12 21:40:53 2015 +0100

    Fixed test programs for joystick not exiting on events after first disconnect.
    
    Exit was broken since the main loop extraction needed for Emscripten support
    because the former local but now global variables were not reset correctly.

commit 7fd15e7e2c489eff34f6648dd49fce2f5644805b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 11 01:48:52 2015 -0500

    X11: Set dialog hint on message boxes (thanks, Melker!).
    
    This helps the window manager do the right thing with these windows.

commit 39c41bb952d29df7e1e4e6884390f086dcd81194
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Feb 10 20:40:03 2015 +0100

    Fixed bug 2873 - Joystick test won't reload after reattach
    
    lectem
    
    -plug in the joystick
    -start testjoystick 0
    -unplug
    -replug
    
    The joystick is detected but doesn't enter the loop anymore since done==SDL_TRUE

commit bd61c276fa720295150a46d3e27e51f500cf7aa1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Feb 10 20:31:05 2015 +0100

    Fixed compiling test with older C.

commit e3f9bf3378c45148c35c62a814d9817c8ca2e953
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 8 22:50:16 2015 +0100

    Fixed two inconsistencies on failed allocation.

commit 78f3a80cf281e51ac976b8aaaa4ff8a28433b5ad
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Feb 8 15:44:15 2015 -0500

    WinRT: made note that VSync is always enabled on WinPhone, due to OS
    
    Windows Phone does not appear to allow VSync to be turned off.  Doing so appears
    to either result in content not getting drawn (when the D3D debug runtime is
    turned off), or forcing VSync back on and logging an error (when the D3D debug
    runtime is turned on).
    
    VSync had been getting turned on anyways, this change just notes such:
    - via the WinRT README
    - by always setting the SDL_RENDERER_PRESENTVSYNC flag when creating an
      SDL_Renderer on Windows Phone

commit fe586d077fe6b13cf0a33aa601446d7fe6d64b68
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 8 21:25:37 2015 +0100

    Fixed three memory leaks on failed allocation.

commit c17a5b1177405d28ea1edabfee67aaef7023c917
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 7 22:40:36 2015 +0100

    Fixed bug 2866 - testrelative.c: patch to make the orange box wrap around
    
    Eric Wasylishen
    
    Here's a patch to make the 'testrelative' demo program more useful: it just makes the orange rectangle wrap around. Previously, the orange cursor would just disappear off screen if you move the mouse a lot in one direction, so it was hard to tell if relative mouse mode was still working.

commit 60329e6a1e63f661297ea37b58d9df6b743b60b5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Feb 3 21:22:25 2015 +0100

    Added missing guards.

commit 56edbb4062e0f5d8d58b7d7c4a0ddce4c1e58964
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 2 01:21:02 2015 -0500

    X11: Add events related to maximizing a window (thanks, Andrei and Gergely!).
    
    Fixes Bugzilla #1447.

commit ece8d2bb056aad9f6937509abae636effb053fc0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 2 01:05:41 2015 -0500

    X11: Fixes for OpenGL 3.0 and later context creation.
    
    - Don't create a temporary context first; this was probably due to Windows
    needing one to get the address of wglCreateContextAttribsARB(), but that's
    a unique quirk of WGL, and doesn't apply to glX. The glX spec explicitly says
    you have to get a function pointer that works with any context from
    glXGetProcAddress(), including when no context exists.
    
    - Properly check for the GLX_ARB_create_context instead of just looking for a
    non-NULL glXCreateContextAttribsARB()...some implementations, like Mesa,
    never return NULL for function lookups (Mesa returns pointers into a jump
    table that is filled out when the GL is initialized; since you can look up
    functions before you have a valid context, it can't definitely say a function
    isn't valid at that point).

commit 86f87bf7554036fac0490a264786fb2226f01369
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 22:45:54 2015 +0100

    Added missing guards in implementation for PSP.
    
    Thanks to Martin Gerhardy for pointing this out.

commit d036ad84ae7e6ee4e3f00021d26ea2db227a6e13
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 22:43:05 2015 +0100

    Added missing include statements in implementation for PSP.
    
    SDL_internal.h should be included to support dynamic API and fix warnings.

commit 43500a78b8bfaff9b081246f0ba50dba886ea21f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 21:06:37 2015 +0100

    Fixed comment in implementation for NaCl.

commit f4b7cf6e8127c0eefbf34e1dd60838b8fdc4cc86
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 21:02:56 2015 +0100

    Fixed including SDL_config.h in implementation for Android.
    
    SDL_internal.h should be included to support dynamic API.

commit 7384f147f84a7b4e036f920ac10b9e99a23f0660
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 10:33:48 2015 +0100

    Fixed names in implementation for PSP.

commit 7815393b2e8d7080eef0828defef56925d30e355
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Jan 31 10:32:45 2015 +0100

    Fixed wrong comment in implementation for Android.

commit 0781b5f9eed6d7676c0d7daf81809d39605c09d0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 30 23:20:15 2015 +0100

    Fix typos in header file documentation comments.

commit f1a56cd5656f73578f472a48fd5e1176e89f609b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Jan 30 23:18:14 2015 +0100

    Changed static variable to local variable in implementation for Android.

commit a7258066626cf3fe1f5e3834dfec60c7dc15d41c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 29 13:33:53 2015 -0800

    Fixed game controller hotplug support for some embedded Linux devices
    When guessing the device class, it ends up being 0 for devices that have been removed (because the device node no longer exists)

commit 0874eb9713c1a94b8e4b39cfe986a2719219a6ed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 29 13:33:20 2015 -0800

    Add binding layout for Xbone pad.

commit 203ea9817360815352a8fe471c3864bc51efb411
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 26 17:46:39 2015 -0500

    X11: Don't delay delivery of focus events unless we just changed vidmodes.
    
    Normally there's a 200 millisecond delay on all focus events in case there
    was a vidmode change, now we note the last vidmode change and only impose this
    delay if a change happened extremely recently.
    
    Thanks to Epic Games for reporting this issue.

commit 34a5c70cf90b51e5f4ccd00374d25af2ac5da02f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 26 22:27:27 2015 +0100

    Fixed recently broken configure script for FreeBSD.
    
    Found by buildbot.

commit f64e6742bc1999c83f00fb5d5cf031c8792f56a8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 26 22:12:38 2015 +0100

    Fixed memory leak in video quit implementation for Android.

commit 60f50c70a7956b0eb02ac05d86135f6311189a66
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 26 22:02:53 2015 +0100

    Updated a README.

commit b48e54aafe9e656120fdec1fbf8a2d2c18d1713c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jan 26 22:00:29 2015 +0100

    Fixed bug 2802 - [patch] Fix android build compiling in wrong filesystem implementation
    
    Jonas Kulla
    
    The configure script didn't differentiate between Linux and Android, unconditionally compiling in the unix implementation of SDL_sysfilesystem.c.
    
    I'm probably one of the very few people building SDL for android using classic configure + standalone toolchain, so this has gone undetected all along.

commit 86c5c3f219dd709a34c47762927833bbebe8582c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Jan 8 21:45:46 2015 +0100

    Replaced include of SDL_types.h with SDL_stdinc.h in internal header file.
    
    SDL_types.h is deprecated and currently only includes SDL_stdinc.h itself.

commit a823982e02bd6012522de6414f73ef6681a2b9c7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 5 01:41:42 2015 -0500

    Clang static analysis builds should use C runtime directly.
    
    This is a little macro magic to use malloc() directly instead of SDL_malloc(),
     etc, so static analysis tests that know about the C runtime can function
     properly, and understand that we are dealing with heap allocations, etc.
    
    This changed our static analysis report from 5 outstanding bugs to 30.
    
    5x as many bugs were hidden by SDL_malloc() not being recognized as malloc()
     by the static analyzer!

commit 2a1e422375ddbcd595c7594147a74e0ba52568ee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 5 01:07:36 2015 -0500

    Dynamic API: don't leak if a library loaded but didn't have the entry point.

commit f5fa9a59d0173e3d8630d726fa00d917c4ffcadb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 31 21:00:32 2014 +0100

    Removed unused enumeration and constant from internal header file.

commit 3cfe0abe7bd97ba6a7f881514f55a06d9e7a9526
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Dec 28 22:10:24 2014 +0100

    Fixed copyright date.

commit 69f18b6268ad31a1d3dcdb923df22f1027eb2b4a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Dec 28 22:02:17 2014 +0100

    Linked README-emscripten.md in README.md and added markdown formatting.

commit 3e8040f3009ce692cff6b06d6ce28a5edae17ad0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Dec 28 22:00:24 2014 +0100

    Renamed README-emscripten.txt to README-emscripten.md.

commit 16f3cbfc0214bea6be9e56432683b060cce0c51a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 26 23:16:54 2014 -0500

    Cleaned up some compiler warnings.

commit f5bbbe417d246a6eaddfededa86657ba313150bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Dec 26 22:30:19 2014 -0500

    GLES2: Only use VBOs for Emscripten (for now).
    
    This is causing a regression on actual iOS hardware, which we should revisit
     after 2.0.4 ships.

commit d8c60342cc7c976f1577f46eb1e659ef0216a0e2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 26 20:11:28 2014 +0100

    Added three missing checks for return values of SDL_calloc().

commit bbaaa77751880569e6f7951ab0250e14fc3c64b7
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 24 11:33:42 2014 -0500

    WinRT: hiding SDL_WinRTRunApp's XAML functionality, until it's ready for use
    
    SDL_WinRTRunApp() is used on WinRT to launch a main(int, char **)-style
    function.  It has optional, and experimental support for launching content
    inside a XAML control, backed by a main() function running on a separate thread.
    This is provided via it's 2nd parameter, which can be a pointer to a XAML
    control.  (If NULL, XAML support will not be used.)
    
    This change renames the experimental feature's parameter (to SDL_WinRTRunApp())
    as "reserved", until such time as the functionality is ready for use.  It will
    likely be renamed again in the future, when running SDL on top of a XAML control
    via a separate thread, becomes reasonably usable.

commit 31832d2a58285f5e04c37524100cc8338b0ed24c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:47:04 2014 +0100

    Removed missing test program from Makefile.

commit f4dcc24698cad4e646b8c214db77cba7a086c116
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:43:17 2014 +0100

    Changed Emscripten entry in gamecontroller database to allow sorting by script.

commit 22855927ce29c95c171bbcee50f0f89ea20708d9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:08:48 2014 +0100

    Removed unnecessary call to SDL_free().

commit 2cde19c6359d008641ee37a8c5c59d49be463b49
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:07:15 2014 +0100

    Fixed typos in a README.

commit 80d19b7ee3222058faa8bad1238c31bb9629bfbe
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:05:48 2014 +0100

    Fixed typo in header file documentation comment.

commit 79b3221b0e59ff46552b43da9745db765e34afaa
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 22:03:07 2014 +0100

    Fixed compile warnings about unused variables.
    
    Found by buildbot.

commit 97e876671bb345fdd3596a749c7e0bd7e99fb796
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 25 21:42:56 2014 +0100

    Fixed compile errors in example programs.

commit e8467cbca96c08df5399248632a35db1af93ad50
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 22:22:35 2014 -0500

    Maybe actually patched to compile this time?

commit 629c13fbf19c69c398b27d203dc5b76bd61d77e8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 13:23:48 2014 -0500

    Actually fix Unix scripts this time.  :)

commit 9c38244f5dcefc17f7672069d8828166bfa1bd1d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 13:21:28 2014 -0500

    Really patched to compile this time?

commit 9f111ce4b9591c0ce42db5f342b9c5c61fc1a64d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 13:16:27 2014 -0500

    Patched to compile.

commit 208636828d497e006327988f1e950c3d1cbd9884
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 13:13:19 2014 -0500

    I don't know if Unix scripts are useful at all on Emscripten, but fix them up.

commit fc40516744790ffefabf19dde03aa223472c6d47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 13:03:20 2014 -0500

    A little more work on the Emscripten buildbot script.
    
    Should upload tarballs now, etc.

commit f4bd828af5d07ab30774c5974a2bd76b02fae47a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 12:49:35 2014 -0500

    Added buildbot script for Emscripten port.

commit eab2433f6d6bee9b06da6282b57c15e8770a728c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 02:12:16 2014 -0500

    Maybe patched to compile on Windows for real now?

commit b0ebfabf333563c123ed8d038031a60fa19b5092
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 02:06:38 2014 -0500

    Patched to compile on Windows.

commit 707c11f64fe9b20ad725b49de5a8b6c7af7728ba
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Dec 24 02:01:12 2014 -0500

    Patched to compile on non-Emscripten targets.

commit a6df21cd00aa207385b25aaca88af983d688d4cb
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Dec 20 11:45:39 2014 -0500

    Partial fix for bug 2726 - Win32 'mouse' events not applying 'SDL_TOUCH_MOUSEID'
    
    This is a Win32-specific fix for bug 2726.  A WinRT fix for this bug was applied
    separately, via https://hg.libsdl.org/SDL/rev/91f56dcad879
    
    This fix applies SDL_TOUCH_MOUSEID to 'mouse' events coming from touch devices,
    but only when relative-mouse-mode is turned OFF.  This bug is still present
    when relative-mouse-mode is ON, however Microsoft does not provide documentation
    on whether or not those input events (which come from WM_INPUT) can be
    identified as touch-specific or not.  Unofficially, that data might be available
    (via GetMessageExtraInfo()), however this patch only uses MS-documented APIs.

commit 719bb6fceed9ac20aeab51f5c037ef69f565ff88
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 09:52:48 2015 -0700

    Fixed X11 build, added code to print initial modifiers to checkkeys

commit 0694baf260273ed69886aac0ac5551ab429b2217
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 09:33:47 2015 -0700

    Fixed bug 2736 - X11 doesn't set KMOD_NUM and KMOD_CAPS to system state
    
    Zack Middleton
    
    Using X11 (on Debian Wheezy), SDL_GetModState() & KMOD_NUM and KMOD_CAPS are not set to system state (numlock/capslock LEDs). Pressing numlock or capslock toggles the mod state, though if num/caps lock is enabled before starting the program it's still reversed from system state. This makes getting KMOD_NUM and KMOD_CAPS in programs unreliable. This can be seen using the checkkeys test program.
    
    The function that appears to have handle this in SDL 1.2 is X11_SetKeyboardState. The function call is commented out with "FIXME:" in SDL 2.
    
    Using Windows backend through WINE; on first key press if numlock and/or capslock is enabled on system, numlock/capslock SDL_SendKeyboardKey is run and toggles KMOD_NUM/KMOD_CAPS to the correct state. On X11 this does not happen.
    
    The attached patch makes X11 backend set keyboard state on window focus if no window was previously focused. It sets all keys to system up/down state and toggles KMOD_NUM/KMOD_CAPS via SDL_SendKeyboardKey to match system if needed. The patch is based on SDL 1.2's X11_SetKeyboardState.

commit 779d4035639904f9d97a7361cc08073a33a9238b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 08:51:59 2015 -0700

    Fixed Windows build

commit 0669a224f588f1de451ff5f3686772cfaf3c7161
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu May 28 08:41:07 2015 -0700

    Fixed bug 2860 - SetProp must be paired with RemoveProp especially for properties added to external windows
    
    Coriiander
    
    Upon creating a window, a window property is added to it through the Win32-function "SetProp". This is done in the SDL-function "SetupWindowData" in file "src\video\windows\SDL_windowswindow.c".
    
    Whenever you call "SetProp" to add a property to a Win32-window, you should also call the Win32-function "RemoveProp" to remove it before destroying that Win32-window.
    
    While you might think that it's ok and that Windows will clean up nicely itself, it is not ok. It is against all Win32-API guidelines and is mostlikely a leak. Especially on external windows (CreateWindowFrom) you want to have things done right, not messy and leaky, affecting some other module. Even if SDL gets shutdown entirely that external window will now forever still have the "SDL_WindowData" prop attached to it.

commit 84ce000670d0d0a8a07e5a6b7d1d1fc26e2dc577
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:27:24 2015 -0400

    I think this will be the time...

commit 7964f3adb2bf883006a821beae7b20e79fc55e15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:22:14 2015 -0400

    Still trying to get this to compile...

commit cae4fd7fb2caecd13e97507df24d2aa1c8271c47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:16:55 2015 -0400

    More patching to compile...

commit e90f87bab0f73232bc8b0665238426750206797e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:08:33 2015 -0400

    Another attempt to get this to compile.

commit 4add16943e73e16a57570860849ba5acd9fc47e7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 01:02:03 2015 -0400

    Patched to compile on MingW.
    
    (I think!)

commit 58447b24c1989d3992ccce0ac8b18d2de7657b16
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 00:54:52 2015 -0400

    Move tests from SDL_config higher up in Windows joystick/haptic code.
    
    Fixes Bugzilla #2932.

commit 2a75782553e46e8c59601d51f28edb977f52fcdc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 28 00:30:21 2015 -0400

    X11: Add Xdbe support to message boxes (thanks, Melker!).
    
    Without this, message boxes with a lot of text will noticibly flicker as
    you mouse over buttons.
    
    Fixes Bugzilla #2343.

commit bea1854cacd505f7d26400cab0e5273365381a04
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 27 19:00:56 2015 -0400

    Patched to compile on C89 compilers.

commit 9c343681c4b7149798d3eac33ac41343edcd3def
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 27 18:54:06 2015 -0400

    Wayland: Avoid NULL dereference after window destruction (thanks, "x414e54"!).
    
    Fixes Bugzilla #2934.

commit 7f17e0ab9ea98032da1947a38d4f6a5885095d64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 27 10:29:43 2015 -0700

    Fixed detecting PS4 wired controller on Windows

commit 80cfccbf8d4aa86089f5cbf90ccdc9a87444877e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 22:57:42 2015 -0400

    Back out changeset b80349dd6d40.
    
    This change didn't do what I thought it did, sorry.

commit c69a55923995c931646b5d977980efec23af5712
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:29:45 2015 -0400

    X11: generate clipboard update events (thanks, "chw"!).
    
    Partially fixes Bugzilla #2266.

commit 059a0307169aa56b5345c6073ff94dba7a1b7d97
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:30:41 2015 -0400

    Uh, yeah, it helps to press "Save" before committing...

commit cc493d7195bf1ad686f39a16cfc4e91900702fae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:26:27 2015 -0400

    X11: use XA_STRING for text SDL puts on the clipboard (thanks, "chw"!).
    
    Partially fixes Bugzilla #2266.

commit baea64e6424278b5df8365e0d04883c5b83707e3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:19:23 2015 -0400

    Stack hint should look for 0, not -1, and not care about environment variables.

commit a8fa7bd1f7c1658ba7505e04cacfc63c481192ea
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:13:27 2015 -0400

    Added a hint to specify new thread stack size (thanks, Gabriel!).
    
    Fixes Bugzilla #2019.
    
    (we'll do a better fix when we break the API in SDL 2.1.)

commit bcdc63a38b9b3046aefdf20f76f9b053eaf22017
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 21:09:48 2015 -0400

    Properly report DX headers in the CMake project files (thanks, "MailMr_S"!).
    
    Fixes Bugzilla #2900.

commit dae40bff0d53464fddb69e73f4a210e50473303c
Author: Alex Baines <alex@abaines.me.uk>
Date:   Fri Feb 27 21:17:29 2015 +0000

    [IBus] Only register interest in messages sent to our input context.

commit 42d9cf69789a6ee3110548d7862b6dfabc0b6e4e
Author: Alex Baines <alex@abaines.me.uk>
Date:   Sun Feb 1 21:08:54 2015 +0000

    [ibus] Send an empty TextEditing event when the text is cleared by pressing backspace.

commit 21d0cdedb32be941fae6bfe01155614e1d528bda
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 20:55:03 2015 -0400

    Added some unknown keys from Japanese 106/109 keyboards (thanks, "ver0hiro"!).
    
    This adds them for Windows and X11.
    
    Fixes Bugzilla #2820.

commit 262e8ef3f0a5437c0ca3bb880cdde57be357ddc1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 26 21:51:47 2015 -0300

    Mac: Send a window resize event when the window's backing scale factor changes.
    
    The backing scale factor can change when the window moves between retina and non-retina displays.
    
    The only other way to detect such a change is to compare the output of SDL_GL_GetDrawableSize or SDL_GetRendererOutputSize every frame, which is less than desirable, especially since the necessary app logic is likely already being executed when a window resize event is received.

commit be89fa09efb6954255f9f1caf57fd1762e3df3ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 20:49:27 2015 -0400

    Reset the keyboard state when launching a message box (thanks, Sean!).
    
    Otherwise, pressed keys get stuck.
    
    Fixes Bugzilla #2776.

commit 41908548b98fd83fe6b5c3b675eb7e8df5dc70df
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 20:40:00 2015 -0400

    Windows: Alt-F4 hotkey should be checked on keydown, not keyup (thanks, Matt!).
    
    Fixes Bugzilla #2780.

commit 72a244da419cf6286d96419e632602b546d2e6b0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 20:36:45 2015 -0400

    Android: Added basic drop file support (thanks, "noxalus"!).
    
    This lets SDL-based apps respond to "Open With" commands properly, as they
    can now obtain the requested path via a standard SDL dropfile event.
    
    This is only checked on startup, so apps don't get drop events at any other
    time, even if Android supports that, but this is still a definite
    improvement.
    
    Fixes Bugzilla #2762.

commit ae6555dff8212a4c48376a39ac4991f801326907
Author: Alex Baines <alex@abaines.me.uk>
Date:   Tue May 26 20:22:14 2015 -0400

    Pump IBus events after X events.

commit 46f758aebb134e90eeb52c34cd7c2ee827e3559e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 19:54:06 2015 -0400

    Fix a libtool issue with some mingw-w64 cross compilers (thanks, Ozkan!).
    
    http://debbugs.gnu.org/cgi/bugreport.cgi?bug=15321
    http://git.savannah.gnu.org/gitweb/?p=libtool.git;a=commit;h=0ebb734910bf56186dd0c0e84b1c8be507bad336
    
    Fixes Bugzilla #2722.

commit a4f0daedaea0fe20bafe94b49ced914f8efd839d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 26 19:34:56 2015 -0300

    EGL: OpenGL ES 3.0 contexts can now be created without the EGL_KHR_create_context extension.
    
    Fixes bugzilla #2994.

commit d5a578531bdf29f4bd062c2c6dcfee57ecca507e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 16:42:36 2015 -0400

    Drop out of SDL_UpdateTexture() early if the rectangle is zero pixels.
    
    Hopefully makes static analysis happy about a zero-byte malloc elsewhere.

commit 2e2b84fb32f0b679b359ed5b7232765a17cf8420
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 16:31:11 2015 -0400

    Some setups need _GNU_SOURCE to make LLONG_MAX available (thanks, Ozkan!).
    
    Fixes Bugzilla #2721.

commit a21672c893b4bf6ea6c3a20cfe8d559211a141e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 16:25:22 2015 -0400

    Fix fallback define for DECLSPEC for non-Windows platforms.
    
    Looks like it was a copy/paste error?
    
    GCC doesn't support visibility attributes until gcc4, so just make it blank.
    
    Fixes Bugzilla #2720.

commit 59f69f6317adf23ec49eef55631e36229f94435d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 16:14:25 2015 -0400

    Whoops, fix the static analysis fix.

commit d1980b93fbc6a7ea27e4f6b36bca750ceb3e609f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 12:52:28 2015 -0400

    Mac: Fix compiler warning when building with a min target >= 10.6.

commit 37f4eb53797a7050cde6a1616dd0b4ee79b5713e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 12:47:03 2015 -0400

    Darwin haptic: Fixed a static analysis warning if axes==0.

commit f99d6e1df8017ef7e9d870fdf36440e6133c6f7d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 12:03:51 2015 -0400

    Linux joystick: Look at entire axis namespace for controls (thanks, "spaz16"!).
    
    This apparently has fallout: the PS4 (and maybe PS3?) controllers apparently
    report some bogus axes, but it won't change the axes we currently expect, and
    thus the game controller config string is still stable.
    
    Fixes Bugzilla #2719.

commit 523064592a9b35bced55fd2c4f97efc4a3bc63b7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 08:52:02 2015 -0700

    Fixed bug 2869 - Controllers connected on launch are reported twice.
    
    Since all device detection/removal happens on the main thread now, post events inline with when the status changes occur.
    Also fixed rare cases when joystick API functions could return data about removed joysticks when called with a device index.

commit 80916e01f3f77d0bfa6302ddbafbfeea5ec02805
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:38:04 2015 -0400

    Cocoa: Fixed relative mouse mode when app loses/regains focus (thanks, Eric!).
    
    Fixes Bugzilla #2718.

commit d074a532e2024c31467a94dd379f64c7b0d470cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:32:06 2015 -0400

    Make dot easier to see in testrelative.

commit a2c28ec188831831a8b744b2b1a50f81b95b7f4b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:13:51 2015 -0400

    Updated configure script.

commit 903d0f730d03540e9a3c7b816e23f6e40cd17846
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:12:28 2015 -0400

    Removed -XCCLinker from MingW command line (thanks, Fredrik!).
    
    Fixes Bugzilla #2707.

commit b11b3493b9b6e8eac967befc1ec4c80287cea678
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:08:30 2015 -0400

    Windows: don't beep on Alt-* key combos (Thanks, historic_bruno!).
    
    Fixes Bugzilla 2669.

commit bb437f0233f976322111979f7e86447ed556597b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 11:01:19 2015 -0400

    Cocoa: report SDL_WINDOWEVENT_EXPOSED events to the app (thanks, David!).
    
    Fixes Bugzilla #2644.

commit 22704ac2df513d7c8b559965068a09095cce9ffd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 09:55:41 2015 -0400

    Cocoa: don't fail outright if we see an unknown display format.
    
    Just treat it as ARGB8888.

commit aba4d78384de15c002f49d728528c0a352b681bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 26 10:25:15 2015 -0400

    Don't look for (and fail without) glGetIntegerv() until we need to.
    
    Fixes Bugzilla #2615.

commit 13487426dd1a8d747d5708219968cb39c6039e10
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 06:32:19 2015 -0700

    Fixed bug 1392 - Debian patch: do not propagate -lpthread

commit 2c4a6ea0a240004738ac2ea8b7fe287245784390
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 06:27:46 2015 -0700

    Updated the copyright year to 2015

commit c133c8c8a565540bbdc18cc1219ec6f5175e7af3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 06:27:12 2015 -0700

    Script from Sylvain to automate updating the copyright year

commit d88b6738f02430a1fa1bf79d579e41ece8003cb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 26 06:16:43 2015 -0700

    Fixed bug 2989 - Memory loss in clipboard_testClipboardTextFunctions

commit 507157abdbbc1c133eac9b02f5958563517621a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 25 16:22:09 2015 -0700

    Wait for devices to finish initializing when inserted, before using them. Fixes hotplug issue with XBox 360 game controller.

commit b0c5e201f8129fbd2df0ff9809d5a0847a9f9d2d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 25 14:52:41 2015 -0700

    Added support for Razer Serval Bluetooth mode

commit afc97cbd5d62f69d53ca634fe2143a3049cc5d82
Author: Victor Luchits <vluchits@gmail.com>
Date:   Thu May 14 14:40:56 2015 +0300

    Fix duplicate raw mouse events with XInput2
    
    Make XGrabPointer calls in X11_SetWindowGrab and X11_CaptureMouse
    consistent by passing False to owner_mask along with proper event_mask.

commit 447194987c9058678381ebbf911f25370c599c1c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 23 09:33:20 2015 -0700

    Sign any subframeworks - not needed for SDL proper, but included for consistency with other projects

commit 1968ff04710e48ceb830f9a816fc8f0b06361add
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 22 22:34:08 2015 +0200

    Android: Fixed touch pressure being out of range.
    
    According to the documentation of Android's MotionEvent, the getPressure() may
    return values higher than 1 on some devices. To prevent passing such values into
    SDL they are now corrected to 1 in Java before the JNI call (where it is assumed
    to be correct).
    
    Currently SDL only sends SDL_FINGERMOTION events if the touch state (position or
    pressure) changed. By correcting pressure down to 1 some events may get dropped
    in the rare case that only the pressure was changed but was out of range and the
    position did not change.

commit 4f00dda95ded87b1554688b3ecea7e495a257385
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 21 21:27:53 2015 +0200

    Removed redundant NULL check in test program.

commit b00214c3d6b59de56a3f65ae96e391ac48c2931d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 21 21:25:32 2015 +0200

    Changed clean-up order in test program.

commit 39d27a6380f23c7f8b294b4d30539bcefed7521f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 21 21:25:14 2015 +0200

    Fixed undefined key access in test program.

commit 6365381422ca953378be3713e6afa69bfca61f93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 20 16:28:21 2015 -0700

    Added game controller support for the Razer Serval

commit 2c4ad51d44c15c45135cd5b6ff32b2a7e1f24bf7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon May 18 21:21:14 2015 +0200

    Added missing loop cancel for Emscripten in test programs.

commit ac10a2f29d9f4d61008a0b85ae37e2ac418d44b1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon May 18 21:17:13 2015 +0200

    Fixed compiling test program with Emscripten.

commit 1ed86d22119fd408831f8fe55820e8c109fc1a65
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon May 18 21:12:16 2015 +0200

    Fixed handling only one event per frame in test program.

commit fcee3e734d61ab5b19e57a79bc6fd7a4f7cbca84
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 16 17:35:36 2015 -0300

    Code style cleanup in the GLES and GLES2 render backends.

commit 240a3fbffef6facafbd65933322ebc5be57a0ea7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 16 16:55:56 2015 -0300

    iOS: Added support for SDL_DisableScreenSaver and SDL_EnableScreenSaver.

commit f7ac02010f6820cd66eed0d0068366e9ba8049b6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 16 21:15:59 2015 +0200

    Android: Replaced logging tag strings with constant.

commit a54d038b645569ee4ac121b33bdeffde8d56cda3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 16 21:15:27 2015 +0200

    Emscripten: Fixed wrong source comment and updated web link.

commit d57b97351838f4808a205b8db161f040374778a9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat May 16 12:05:42 2015 -0300

    Mac: Use CoreFoundation headers instead of Carbon headers, in GetPowerInfo code.

commit 1c6ea0f226505001038c70687fbf39d72cafca02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 13 22:39:32 2015 -0700

    Added a userdata parameter to SDL_SetWindowsMessageHook()

commit b2be9253e30841cb0a34f4b0162eed46dc7a4787
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 13 22:39:27 2015 -0700

    Fixed Mac and Linux builds

commit 7de242e72cbe45b808097e20b7d30d1c71d6dcba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 13 22:39:20 2015 -0700

    Added SDL_SetWindowsMessageHook() to facilitate full IME support on Windows

commit 094c4a160f9a3abc7fed6caa9abe2bbd49f7fd9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed May 13 22:37:26 2015 -0700

    Added generic xinput fallback for XBox compatible controllers on Linux

commit f1a7c00d062c7775784fc61a0ed5a15fc75c4ca9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon May 11 21:03:36 2015 -0300

    Refactored SDL_EGL_CreateContext: It now supports context flags and OpenGL ES 3+ contexts, and its behavior more closely matches the GLX and WGL context creation code.
    Improved the code style consistency of SDL_egl.c.
    
    Fixes bugzilla #2865.

commit 5919a859b4630a20bd8cd23fd87129a20835ef3f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 9 22:42:23 2015 +0200

    Android: Fixed empty parameter list in signatures of internal functions.

commit 6e4e9ceb44dc272c477f7648be6024b38aa0d837
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri May 8 21:53:02 2015 +0200

    Fixed SDL_TouchFingerEvent documentation in header file.

commit 8f4bcc72747242fd158e6e3d620cce1eca3e1954
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 6 21:11:06 2015 +0200

    Android: Replaced spaces with tab in Android.mk file.

commit 3f51758ec54910d634d9c87aa6b14db52c3ef8d9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 6 21:10:48 2015 +0200

    Emscripten: Fixed touch coordinates not being normalized.

commit 5715097a0ce6c0f048b853c20712790b3303e28c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed May 6 21:09:33 2015 +0200

    Fixed implicit function declaration in test program.

commit ac27b511bf16b7853e9a744f16a1156685148f38
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed May 6 12:54:51 2015 -0300

    Fixed SDL_GL_GetAttribute queries for framebuffer component sizes in Core Profile OpenGL contexts.
    
    Fixes bugzilla #2060.

commit c4fe8c80c81f605f8eee295052afa457c72c2fe9
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed May 6 12:42:14 2015 -0300

    Fixed building the iOS Demo files in debug mode

commit 4fc402666077b3a506d9ebb88f509968196a66c6
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 5 19:01:55 2015 -0300

    Replaced all remaining uses of NSAutoreleasePool with @autoreleasepool blocks (bugzilla #2680.)

commit 6c20b68257c7b2bf7098cf6940a46e28e7622479
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 5 16:24:05 2015 -0300

    Fixed a warning when SDL_syswm.h is included in code compiled for iOS with clang.

commit d1372bb92c5ee036a9fdb72f76f993a6e6994f1b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 5 16:20:11 2015 -0300

    Fixed the window offset on iOS when resuming an app with a borderless or fullscreen window that has the on-screen keyboard visible.

commit d603bb30e60f5d6a555a3b1bd2bdc47156216b61
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue May 5 16:16:10 2015 -0300

    Fixed a crash on iOS when none of the orientations in Info.plist match the SDL window's actual orientation.
    
    Fixes bug #2967.

commit 74d83ead354ed969554ff9c7d69e7619d4d3e149
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon May 4 21:47:40 2015 -0700

    Fixed bug 2976 - Fix RGBA<->RGBA blit that was broken with the optimization from Bug 11
    
    id.zeta
    
    The optimization from Bug 11 added a code branch on cases where the source RGB masks match the destination RGB masks and a optimized blit function Blit4to4MaskAlpha that always overrides the source alpha info would be chosen. Unfortunately, the branch also errorneously took over the RGBA<->RGBA blitting cases where the source alpha info should be copied, while they would instead get overriden in Blit4to4MaskAlpha.
    
    The attached patch fixes that by handling the RGBA<->RGBA cases correctly in that branch with the original BlitNtoNCopyAlpha as well as uses an optimized Blit4to4CopyAlpha along the same vein.

commit 589c46dd65d4c8fa4b961477b13ca7f6cfd3d132
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 1 01:20:28 2015 -0400

    X11: send keypress events before textinput events.

commit 0045e2e6223715b95a96bb58e7552c8a6ffd4b7e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 1 01:19:00 2015 -0400

    checkkeys: report SDL_TEXTEDITING events.

commit 423262789b1ec9328fd07add6bdec4ae9e09ef20
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 1 01:12:48 2015 -0400

    checkkeys: Readded the KEYUP event test.

commit 9979bab20b95e722a7a207fc1d66c92aa27b6985
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Apr 30 21:45:29 2015 +0200

    Android: Deactivated debug log messages on joystick device events.

commit d9d1a1b9803dcfc8396c6bfd078bce2be67d3d2b
Author: Dimitris Zenios <dimitris.zenios@gmail.com>
Date:   Sun Apr 26 13:53:46 2015 +0300

    X11: Use our own cut-buffer for intermediate clipboard storage.
    
    XA_CUTBUFFER0 is not defined for holding UTF8 strings.

commit 93bd476de9082baa3b1012891870e5d8719a5388
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 26 20:46:07 2015 -0700

    Moved code signature step to after the framework build step is complete, and don't hardcode the codesign identity

commit 931f6e4ee5d4c2c6bb9376e0a1ba624a781d27eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 26 20:21:06 2015 -0700

    Turn off code signing by default
    Code signature can be added after build with the following command line:
    codesign --force --sign 76BB5ACAC44CA5EFA5F879434D157B81DA842CFB SDL2.framework/Versions/A

commit 43692a00217abf0c648e0494c7db03e2e08d970e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Apr 26 15:47:40 2015 -0700

    Updated project and added code signing for release builds

commit 5c09bf73b2a0d129cfdcfa1d831ffc453b8cb417
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 25 20:49:26 2015 -0400

    Only check for Linux-specific input APIs on Linux targets (thanks, Marcus!).
    
    This is only for the configure script. The CMake project files already make
    this Linux-exclusive.
    
    Fixes Bugzilla #2659.

commit e5f9c347ef80d39b32cadef9d92053ff6cb4b620
Author: Reto Schneider <code@reto-schneider.ch>
Date:   Wed Apr 8 12:14:36 2015 +0200

    Remove trailing spaces in Android source code.

commit 77ccc412f5a978b4cfb5c0711eb3961c3728e7c7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 13 02:40:52 2014 -0500

    CMake: Minor cleanup up on the new SDL_*_ENABLED_BY_DEFAULT vars.

commit fe40a1722481c2f04c742445e7a8fb2eee7a481d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 18 00:19:52 2014 -0500

    Initial merge of Emscripten port!
    
    With this commit, you can compile SDL2 with Emscripten
    ( http://emscripten.org/ ), and make your SDL-based C/C++ program
    into a web app.
    
    This port was due to the efforts of several people, including: Charlie Birks,
    Sathyanarayanan Gunasekaran, Jukka Jyl?nki, Alon Zakai, Edward Rudd,
    Bruce Mitchener, and Martin Gerhardy. (Thanks, everyone!)

commit a228b67d88bc0360c6c9cff6a9dda9a62a7ff1bb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Dec 13 02:33:52 2014 -0500

    CMake: Replace "else(condition)" with "else()", etc.
    
    Bumped required CMake version to 2.8.
    
    Thanks to the SDL/Emscripten porting team for this cleanup.

commit 708a43f50e3dd78970a223b22827546e49d3f727
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 13 13:20:19 2014 -0800

    Treat any key device as a keyboard
    This matches commit d325f1bbbab4 for when udev is not running

commit b9707732e3eb1c4b0275b025cdecfac84cf446ed
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 12 21:51:30 2014 +0100

    Removed unused includes and functions from test program.

commit 269c2476b615d05af0c4bf391251a5b4e30cadc2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 12 21:02:46 2014 +0100

    Replaced sqrt() with SDL_sqrt() in test program.

commit 701c97074f478f7deaeb6f4c9b49ef4b73d39ada
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Dec 12 21:00:25 2014 +0100

    Removed global variable from test program.
    
    On Android starting the application after a previous quit did not always work.
    Android keeps VM processes for a faster restart and therefore the loaded *.so.

commit e2a5c1d203ba2ab3917075bcd31e4b81b3a85676
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 11 23:38:02 2014 +0100

    Removed extern declaration of not existing SDL_numhaptics from internal header.

commit 0f87761bf3798a9cc59446666113260e7627f4b5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 10 21:20:41 2014 +0100

    Removed dependency to stdbool.h in implementation file for Android.
    
    This reduced mixing of different types in the file (bool, jboolean, SDL_bool).

commit d99911544f33c27e932becb7743889bbda83f3be
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 10 21:13:43 2014 +0100

    Fixed setting text to clipboard in controllermap program.

commit 45fa5642eabb2fc73c58323fc114324d44c44ca3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 10 21:10:55 2014 +0100

    Added comments in example program.

commit fbbd593230e9c5112c8c7aca900e16ee120a1036
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 9 22:49:16 2014 +0100

    Fixed bug 2811 - [patch] Android core: Fix JNI 'nativeGetHint' symbol not being exported
    
    Jonas Kulla
    
    I don't see a reason why this shouldn't be exported. Currently a strip -s on the final application library eats it.

commit a830fbc70f0180de5dcf830789d15073966b4e48
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Dec 6 00:17:52 2014 +0100

    Fixed warnings about possible loss of data in conversion.

commit 4f26e7760ac6fe6a9c7a2c01ae466f5b5251d070
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 4 21:41:30 2014 +0100

    Replaced free() with SDL_free() because related allocation also uses wrapper.

commit 8dc56f2b314859594271145d5e961f3aa99a1b3f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Dec 4 21:33:59 2014 +0100

    Corrected header file guard comment.

commit ec6b9b27a6abbfe6e947296b60685f55b4fa03c6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 4 02:24:22 2014 -0500

    Fixed some paths in the new buildbot windows zipper script.

commit 5789cb4a3bd9256142cd880c486b7e9c4731cf7c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Dec 4 02:09:07 2014 -0500

    Added a script to handle packing up Windows builds for the buildbot.

commit 623b9d6d91947480628f40e91542baca6d6800fc
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Dec 3 12:47:39 2014 -0500

    ugh.. stray character

commit 06d357fb17226f7421f9e04fd8105aeda36da12b
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Dec 3 12:45:04 2014 -0500

    fix SDL_PRIs64 on windows compilers.. (should end in d)

commit 73daadb74e74189aa196dd1df93d35870a731566
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Dec 3 12:23:17 2014 -0500

    switch to use SDL_PRI* macros for long long formatting everywhere.

commit 7810d198123af85cd3741c83f9e95b1849a5acef
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Dec 3 11:04:07 2014 -0500

    fix incorrect struct member name in test code for wheel direction

commit 313881175dca4a27cd0fcde02d9f5eb88d42c38a
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Wed Dec 3 04:41:26 2014 -0800

    Adds support to control the scaling policy/mode of SDL_RenderSetLogicalSize for both letterbox (current behavior) and a new overscan mode (expand to fill the entire screen, even if some parts draw off the screen).
    
    The expected use case is for games that are designed with multiple aspect ratios already in mind and leave optional margins on the edges of the game which won't hurt if they are cut off.
    
    An example use case is a game is designed for wide-screen/16:9, but then wants to deploy on an iPad which is 4:3. Normally, SDL will letterbox, which will shrink things and result in wasted space. But the designer already thought about 4:3 and designed the edges of the game so they could be cut off without any functional loss. So rather than wasting space with letterboxing, "overscan" mode will zoom the rendering to fill up the entire screen. Parts on the edges will be drawn offscreen, but since the game was already designed with this in mind, it is fine. The end result is the iPad (4:3) experience is much better since it feels like a game designed for that screen aspect ratio.
    
    This patch introduces a new SDL_hint: SDL_HINT_RENDER_LOGICAL_SIZE_MODE.
    Valid values are "letterbox" or "0" for letterboxing and "overscan" or "1" for overscan.
    The default mode is letterbox to preserve existing behavior.
    
    // Example usage:
    SDL_SetHint(SDL_HINT_RENDER_LOGICAL_SIZE_MODE, "overscan");
    SDL_RenderSetLogicalSize(renderer, SCREEN_WIDTH, SCREEN_HEIGHT);

commit 5fee84f24bac965c3cf4340601b12760823effc3
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 2 21:18:50 2014 -0500

    WinRT: removed SDL_HINT_WINRT_PREF_PATH_ROOT (introduced post-2.0.3 & pre-2.0.4)
    
    A WinRT app's Roaming folder-path can still be retrieved via calls to
    SDL_WinRTGetFSPathUTF8() or SDL_WinRTGetFSPathUNICODE(), if need be.

commit cc0631a095d0d5c6754ef5957b1e725a79dbca88
Merge: ba6392d79 52760dcdf
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Dec 2 02:52:45 2014 -0400

    Merged default into iOS-improvements

commit ba6392d79dd4e6aa3b4a98691d373b01a144e35e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Dec 1 07:31:22 2014 -0400

    Fixed SDL_GetRendererOutputSize on iOS when high-DPI mode is enabled on a Retina device.

commit 52760dcdf1c577d2920459624dca72ab4010f73c
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Sun Nov 30 20:55:27 2014 -0800

    Fix assert format strings/parameters in testautomation modules; improve output of SDL_CompareSurfaces to aid debugging; update platform_testSetErrorInvalidInput for SDL changes

commit 0d38073a547d59c50e3484371b8312e95fee627e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 30 22:17:12 2014 +0100

    Removed generated doxygen output of visual test suite.
    
    The files may be generated again by running doxygen locally (like SDL's docs).

commit f86af130f54f87f3bdac9d80fabae9bcb22f6897
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 29 14:41:18 2014 -0800

    Fixed bug 2795 - SDL library detection selects the wrong lib
    
    Chris Beck
    
    When creating a homebrew recipe for wesnoth, I discovered that the SDL image configuration routine does not detect libpng properly -- if you have multiple instances of libpng on your system, and you use environment variables to select an instance which is not in your system directory, the build can be broken, because it will run configuration tests against the system installed version, but deduce that it should use the filename of the system-installed version. In a vanilla build of wesnoth using homebrew, this results in segfaults at runtime, because you end up linking against two different versions of libpng, which is also needed independently of SDL.
    
    The problem is essentially in the "find_lib" routine in the configure file:
    
    
    
    find_lib()
    {
        gcc_bin_path=[`$CC -print-search-dirs 2>/dev/null | fgrep programs: | sed 's/[^=]*=\(.*\)/\1/' | sed 's/:/ /g'`]
        gcc_lib_path=[`$CC -print-search-dirs 2>/dev/null | fgrep libraries: | sed 's/[^=]*=\(.*\)/\1/' | sed 's/:/ /g'`]
        env_lib_path=[`echo $LIBS $LDFLAGS | sed 's/-L[ ]*//g'`]
        for path in $gcc_bin_path $gcc_lib_path $env_lib_path /usr/lib /usr/local/lib; do
            lib=[`ls -- $path/$1 2>/dev/null | sort -r | sed 's/.*\/\(.*\)/\1/; q'`]
            if test x$lib != x; then
                echo $lib
                return
            fi
        done
    }
    
    
    
    Because the for loop goes over the system directories before the environment directories, any system-installed lib will shadow the lib selected via environment variables. This is contrary to the behavior of the configuration tests earlier in the script, which prefers the environment variable libs over the system-installed libs. The 'for' loop should instead be:
    
    
    
        for path in $env_lib_path $gcc_bin_path $gcc_lib_path /usr/lib /usr/local/lib; do
    
    
    
    You can see the full discussion on the Homebrew / linuxbrew issue tracker here: https://github.com/Homebrew/linuxbrew/issues/172
    
    I have checked that this bug also affects SDL 1.2.15, SDL_mixer and SDL_ttf 1.2, which all use this same "find_lib" routine. I have not determined if the bug affects SDL 2.0, which seems not to use this exact routine.

commit 265b219e3e78a1e5864aefb8876d2c0a77c7fc79
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 29 11:51:13 2014 -0800

    Fixed bug 2766 - Haptic coding bugs and fixes for Linux FF: periodic.phase handled as time instead of angle; + direction clarification
    
    Elias Vanderstuyft
    
    Remove the dependency of the calculation of Linux "phase" on "period",
    currently the "phase" parameter is interpreted as a time shift, instead of a phase shift.
    The Linux input documentation is not clear about the exact units of the "phase" parameter (see http://lxr.free-electrons.com/source/include/uapi/linux/input.h?v=3.17#L1075 ),
    but we're about to standardize the 'phase shift' interpretation into the Linux input documentation,
    since this will ease the job of a driver to recalculate the effect's state when the user dynamically updates the "period" parameter.

commit a5ce9c111320fa7159b16ecda88b2d29dfd119e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 29 11:49:58 2014 -0800

    Fixed bug 2766 - Haptic coding bugs and fixes for Linux FF: periodic.phase handled as time instead of angle; + direction clarification
    
    Elias Vanderstuyft
    
    "Horizontal" is not very precise, use "Positive phase" instead.
    "Positive" because it's actually waveform(2*pi*t + phase) instead of waveform(2*pi*t - phase).

commit ef8c3d89ce341d260f5942b63f2dfbb846319bf6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 29 11:48:43 2014 -0800

    Fixed bug 2766 - Haptic coding bugs and fixes for Linux FF: periodic.phase handled as time instead of angle; + direction clarification
    
    Elias Vanderstuyft
    
    It's not obvious from the general "haptic direction" description what the SDL direction actually means in terms of force magnitude sign,
    currently its meaning is only reflected by the example.

commit 48481c8e559797eec6f21fdb2430a11bb7b18dc1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 29 11:18:49 2014 -0800

    Improved the pitch variable description

commit ce64b4ad3a17e455b5d09bcde0efcd912894b84d
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 29 10:09:30 2014 -0500

    WinRT: bug and data-integrity fixes for SDL_GetPrefPath()
    
    This change does a few things, all with regards to the WinRT implementation of
    SDL_GetPrefPath():
    
    1. it fixes a bug whereby SDL_GetPrefPath() did not create the directory it
    returned.  On other SDL platforms, SDL_GetPrefPath() will create separate
    directories for its 'org' and 'app' folders.  Without this, attempts to create
    files in the pref-path would fail, unless those directories were first created
    by the app, or by some other library the app used.  This change makes sure
    that these directories get created, before SDL_GetPrefPath() returns to its
    caller(s).
    
    
    2. it defaults to having SDL_GetPrefPath() return a WinRT 'Local' folder
    on all platforms.  Previously, for Windows Store apps, it would have used a
    different, 'Roaming' folder.  Files in Roaming folders can be automatically,
    and synchronized across multiple devices by Windows.  This synchronization can
    happen while the app runs, with new files being copied into a running app's
    pref-path.  Unless an app is specifically designed to handle this scenario,
    there is a chance that save-data could be overwritten in unwanted or
    unexpected ways.
    
    The default is now to use a Local folder, which does not get synchronized, and
    which is arguably a bit safer to use.  Apps that wish to use Roaming folders
    can do so by setting SDL_HINT_WINRT_PREF_PATH_ROOT to "roaming", however it
    is recommended that one first read Microsoft's documentation for Roaming
    files, a link to which is provided in README-winrt.md.
    
    To preserve older pref-path selection behavior (found in SDL 2.0.3, as well as
    many pre-2.0.4 versions of SDL from hg.libsdl.org), which uses a Roaming path
    in Windows Store apps, and a Local path in Windows Phone, set
    SDL_HINT_WINRT_PREF_PATH_ROOT to "old".
    
    Please note that Roaming paths are not supported on Windows Phone 8.0, due to
    limitations in the OS itself.  Attempts to use this will fail.
    (Windows Phone 8.1 does not have this limitation, however.)
    
    
    3. It makes SDL_GetPrefPath(), when on Windows Phone 8.0, and when
    SDL_HINT_WINRT_PREF_PATH_ROOT is set to "roaming", return NULL, rather than
    silently defaulting to a Local path (then switching to a Roaming path if and
    when the user upgraded to Windows Phone 8.1).

commit 4dab32a2bcacc36f52d83d60d065d818783e075c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 28 04:51:33 2014 -0800

    Fixed bug 2786 - "UCS-2-INTERNAL" iconv encoding is not supported everywhere, use UTF-16LE instead
    
    Jonas Kulla
    
    src/main/windows/SDL_windows_main.c:137:
    cmdline = SDL_iconv_string("UTF-8", "UCS-2-INTERNAL", (char *)(text), (SDL_wcslen(text)+1)*sizeof(WCHAR));
    
    I'm trying to compile an SDL2 application for windows using the mingw-w64 32bit toolchain provided by my distro (Fedora 19). However, even the simplest test program that does nothing at all fails to startup with a "Fatal error - out of memory" message because the mingw iconv library provided by my distro does not support the "UCS-2-INTERNAL" encoding and the conversion returns null.
    
    From my little bit of research, it turns out that even though this encoding is supported by the external GNU libiconv library, some glibc versions (?) don't support it with their internal iconv routines, and will instead provide the native endian encoding when "UCS-2" is specified.
    
    Nonetheless, I wonder why the native endianness is considered in the first place when Windows doesn't even run on any big endian archs (to my knowledge). And true enough, 'WIN_StringToUTF8' from core/windows/SDL_windows.h is used everywhere else in the windows backend, which is just a macro to iconv with "UTF-16LE" as source. Therefore it would IMO make sense to use this macro here as well, which would solve my problem (patch attached).

commit 767bb363640f1f7b991b383726d6cae5b710e72f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 28 04:42:46 2014 -0800

    Fixed bug 2676 - xdnd_version check issue in case ClientMessage
    
    Nitz
    
    I added xdnd_version check to XdndPosition case also
    under DEBUG_XEVENTS macro.
    by this we can get the action requested by user.
    
    I analysed further and found out that removing xdnd_version check at XdndDrop case is a bad idea because
    in XConvertSelection API timestamp should be passed if(xdnd_version >= 1)
    otherwise CurrentTime should be passed
    So xdnd_version check is important at XdndDrop case
    
    I made xdnd_version as a static so that it can store the version in other cases also.

commit 7ed41da0b08c4d7ca6e84a763b2e8debf5dd1f08
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 28 04:37:50 2014 -0800

    Fixed bug 2411 - Even if built with --enable-clock_gettime, SDL2 still calls gettimeofday()
    
    Ben Swick
    
    Makes SDL_syscond.c and SDL_syssem.c use clock_gettime(CLOCK_REALTIME) when HAVE_CLOCK_GETTIME is defined.

commit bc4b6f061b1eecd1853d5a5fd1d785c4f59fb36d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 27 20:25:54 2014 -0400

    Minor Objective-C code tweaks.

commit 6df55c6608b9c5b421388e32c412b62a5e55466b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 23 23:29:24 2014 -0400

    Removed an ugly hack to make windows rotate properly on iOS 8+.
    Recent commits apparently resolved the issue that made the hack necessary.

commit 9b8a1768f2f5d6e7d289ec32175dbb937b587e7d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Nov 23 23:23:47 2014 -0400

    Cleaned up the iOS text input code, fixed the orientation of the view offset when the onscreen keyboard is shown in iOS 8+, and changed UIKit_SetTextInputRect to update the view offset if the keyboard is currently visible.

commit bd4dd2b5689f5893ca565ca856eeb89d17b87da4
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Nov 23 21:10:55 2014 -0500

    update logging of events in test core
    
    - log unknown as HEX instead of int (makes it easier to identify)
    - add dollar gesture and multi gesture events
    - add scroll reverse for mouse wheel

commit 5b5823eeb59625f213957a105bf0cb65620e1dcd
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Nov 23 21:09:54 2014 -0500

    add in support for passing down the "natural" (or flipped) scrolling direction in the MouseWheelEvent event

commit 70438be272eb27015394f66a0593015765fe0194
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 3 10:55:23 2014 -0500

    WinRT: fixed bug whereby SDL would override an app's default orientation
    
    WinRT apps can set a default, preferred orientation via a .appxmanifest file.
    SDL was overriding this on app startup, and making the app use all possible
    orientations (landscape and portrait).
    
    Thanks to Eric Wing for the heads up on this!

commit 6d85f52228eaf3dd7dd47672356f1442fe646970
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Nov 21 10:03:02 2014 -0400

    The iOS OpenGL ES context's color Renderbuffer Object is no longer completely destroyed and recreated in layoutSubviews. Its storage is now only reallocated when the actual size of the layer changes. The framebuffer object and renderbuffer object binding states are no longer clobbered by the storage reallocation code in layoutSubviews.

commit 38c6e9d13b69539581e1fb3659f6c6a875d8f4c8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Nov 21 03:29:57 2014 -0400

    Added debug labels for the OpenGL ES objects created with SDL_GL_CreateContext on iOS.
    More misc. code cleanup.

commit feb2ab1e85e7d78438b00b84d9fc23c288e5650e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 20 18:45:04 2014 -0400

    Minor objective-c code style improvements

commit 650ace88ca524b6f7139b6048baec0d7ac733bd7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Nov 20 17:19:26 2014 -0400

    Fixed mismatching orientations for the window width and height on iOS when the window is created or the app is brought to the foreground, when SDL_HINT_ORIENTATIONS or SDL_WINDOW_FULLSCREEN is used.

commit 0b02de757d39e360a59e48ea802f3104b62889ba
Merge: e695ec907 fb6d185a8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sat Nov 15 22:59:16 2014 -0400

    Merged default into iOS-improvements

commit e695ec907e33790919bff709dbc96284c8d823af
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 15 15:07:55 2014 -0500

    WinRT: updated README-winrt.md to detail Visual Studio 2013 Community support

commit 646025b6c218432c12445d6d34e3e30a3d4557c6
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 15 10:19:39 2014 -0500

    WinRT: made SDL_GetPlatform() return "WinRT" and not 'Unknown'
    
    Thanks to Eric Wing for the heads-up on this!

commit e6cca5e929494b336f0a9c6f2167345f30eaea8d
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 15 10:12:36 2014 -0500

    WinRT: build fix for Visual C++ 2013 Update 4
    
    Visual C++ 2013 Update 4 re-introduced the Sleep() function to WinRT apps (for
    code that targets Windows 8.1 and Windows Phone 8.1).  This led to a build
    error, as SDL was defining it's own Sleep() function (to make up for the lack
    of a public Sleep() function).  The fix makes sure that SDL's custom Sleep()
    function is only used when Windows' Sleep() is not available.
    
    Many thanks go out to Sergiu Marian Gaina for the fix!

commit 8366bbdd7b1f17f0b89bbde524a3e1eac712698e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 14 11:21:15 2014 -0500

    Fixed gcc-fat.sh failing to build Objective-C sources correctly.
    
    This would fail if the compiler was given a .m file _and_ no "-o" option; it
    would fail to automatically calculate the correct .o filename in this
    situation.
    
    Thanks to Ethan Lee for the help tracking this one down!

commit 49c9b48ed9122cd25966515532d015f22558aaad
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 9 14:20:53 2014 -0500

    WinRT: fixed multi-touch bug whereby 2nd, 3rd, etc. fingers weren't moving
    
    Only the first-pressed finger wpuld get reported as having moved (via SDL's
    touch APIs).  Subsequently pressed fingers wouldn't report as being moved, even
    though the OS was reporting (to SDL) that they had moved.

commit 743ba2f4990197bbd6e9b23f48c757996dad4a8c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Nov 7 10:02:45 2014 +0100

    Added missing brackets in test source assert messages.

commit e11969a72fe12ad0e37fde03384c694872f1820c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Nov 7 10:01:20 2014 +0100

    Fixed two typos in test source.

commit b561f2031613c094e9ca08ce53321b0286912408
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Nov 3 13:07:51 2014 -0500

    WinRT: removed '-' from build script file names
    
    Most of the other build scripts don't include a '-' in their file names.  This
    change makes the WinRT build scripts use the same convention.

commit f055ea70f893f6fcf8f01825cc0d7e74a9989d55
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Nov 3 08:58:49 2014 -0500

    WinRT: added scripts to build Release copies of SDL for all WinRT variants
    
    These variants include:
     - Windows 8.0 for x86
     - Windows 8.0 for x64
     - Windows 8.0 for ARM
     - Windows 8.1 for x86
     - Windows 8.1 for x64
     - Windows 8.1 for ARM
     - Windows Phone 8.0 for x86 (for use with the Windows Phone emulator)
     - Windows Phone 8.0 for ARM
     - Windows Phone 8.1 for x86 (for use with the Windows Phone emulator)
     - Windows Phone 8.1 for ARM

commit ef559ddb4c4c258aa7609b6d443025f109445f22
Author: Eric Wing <ewing . public |-at-| gmail . com@localhost>
Date:   Sun Nov 2 20:55:13 2014 -0800

    iOS: Added support for iOS 8 LaunchScreen NIBs.
    
    iOS 8 introduces LaunchScreen NIBs which use autolayout to handle all devices and orientations with a single NIB instead of multiple launch images. This is also the only way to get the App Store badge "Optimized for iPhone 6 and iPhone 6 Plus". So if the application is running on iOS 8 or greater AND has specified a LaunchScreen in their Info.plist, this patch will use the NIB as the launch screen. Otherwise, the code falls back to the legacy code path.
    
    Note: Upon audit of the legacy path, it appears that it does not properly handle the UILaunchImages Info.plist convention. I've added comments inline to the code about this. However, in about a year from now, nobody is going to care about this path since everybody should be using LaunchScreen NIBs.

commit ecc014740aa229e7cf6729ca89f887bcd003fa1d
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 27 09:55:34 2014 -0500

    WinRT: added SDL_HINT_WINRT_PREF_PATH_ROOT
    
    SDL_HINT_WINRT_PREF_PATH_ROOT allows WinRT apps to alter the path that
    SDL_GetPrefPath() returns.  Setting it to "local" uses the app's
    OS-defined Local folder, setting it to "roaming" uses the app's OS-defined
    Roaming folder.
    
    Roaming folder support is not available in Windows Phone 8.0.  Attempts to
    make SDL_GetPrefPath() return a Roaming folder on this OS will be ignored.
    
    Various bits of documentation on this were added to SDL_hints.h, and to
    README-winrt.md

commit 506a1efc220c044c359fb73f9f76b35f9e02ff62
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 27 08:50:11 2014 -0500

    WinRT: removed a completed TODO item from an inline comment

commit 6a5b3bb4258dbee85317eed3c3ed45ae8a8d3ed4
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Nov 26 21:34:15 2014 -0500

    WinRT: added initial SDL_TEXTINPUT support
    
    Further support regarding IME and on-screen keyboards is pending, some of
    which might not be 100% compatible with other platforms, given WinRT platform
    restrictions.  An MSDN article at http://msdn.microsoft.com/en-us/library/windows/apps/hh465404.aspx
    indicates that on-screen keyboard display requires that the user first tap on
    a Windows/XAML text control.
    
    This change adds basic SDL_TEXTINPUT support, with input coming from hardware
    keyboards, at a minimum, and without the need for XAML integration (which is
    still pending integration into SDL, by and large).

commit 5bdc9913ac9e793b4a6421f30d09f97086590df1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Nov 25 22:37:12 2014 +0100

    Corrected header file guard comments.

commit 8cab5ae30031e3cbffbce1dd18cac97d259163e1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Nov 25 22:31:14 2014 +0100

    Fixed limitation for number of custom main() arguments on Android.
    
    Limitation was size of the reference table because local refs were not deleted.

commit 94539137a2948814235d89fc05da05a6e9c3f4cb
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Mon Nov 24 11:46:20 2014 -0800

    Mac: Add drag & drop support.
    
    Fixes bug https://bugzilla.libsdl.org/show_bug.cgi?id=2757
    
    Thanks to Alex Szpakowski for the patch!

commit 084642d3f4504e0dd46c8c134d1fbd65f711e89d
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Nov 23 15:48:52 2014 -0500

    Cocoa: add in handling of "lost" touches on OS X. [bug #2635]
    
    This scenario can occur, for example, when the 4-finger touch sequence is used to switch spaces.  the SDL window does not receive the touch up events and ends up thinking there are far more fingers on the pad than there are.
    
    So the solution here is everytime a new "touch" appears we can through and check if there are any existing known touches by the OS and if there are none, abut SDL things there are, we simply go through and cancel the SDL touches.
    
    Side affects.
    - the "touch up" won't occur until the users sends a new touch (could be well after the actual release really did occur)

commit 8c9341b92d622a8b587bb196ecf60e32b03309f7
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Nov 23 15:39:28 2014 -0500

    add "i" shortcut to testgesture tool to log # of fingers down on the touch devices.

commit d7cc6fabeef6568a17b91355b25ae655be884fff
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Nov 23 15:21:49 2014 -0500

    add controllermap program to SDLTest xcode project

commit 43e5c9ee00128c79d4714f7a9afcbe4482d378a2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 23 20:46:34 2014 +0100

    Fixed doxygen tags in header file documentation comments.

commit c0165972c32497239c3a363b3149f3d5f14f5292
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 23 20:40:48 2014 +0100

    Fixed typos in header file documentation comments.

commit 097ad55000218cd19ec337d04d50b63307d9c98a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 23 20:38:18 2014 +0100

    Fixed local reference leaks in messagebox implementation for Android.

commit c121ff7f9adba73912cb68002dfced5211610b3b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 23 20:35:51 2014 +0100

    Added name for second Java Thread on Android.

commit d9a42c76b1e7889aa598543d788540de12a5f63b
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 23 08:59:01 2014 -0500

    WinRT: fixed an invalid comment in SDL_GetPrefPath() (for WinRT)

commit 13c511697c40003bcabddc42922777be81d2125b
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 23 08:52:10 2014 -0500

    WinRT: allowed 'roaming' and 'temp' folder paths to be retrieved on WinPhone 8.1
    
    Windows Phone 8.0 either did not define, or provide access to, a 'RoamingFolder'
    or 'TemporaryFolder' for apps to use.  Windows 8.0 and 8.1 do, as does
    Windows Phone 8.1.  This change allows SDL-based Windows Phone 8.1 apps to
    access these folders, via either the SDL_WinRTGetFSPathUNICODE() or
    SDL_WinRTGetFSPathUTF8() functions.
    
    SDL_GetPrefPath(), which on WinRT, is based on SDL_WinRTGetFSPathUTF8(), will
    continue to return the app's 'local' folder, despite Windows 8.x
    counterpart apps using the 'roaming' folder, in order to preserve compatibility
    when 8.0-based Phone apps upgrade to 8.1-based Phone apps.

commit a690944e44aabd3fd73ee86c6a65edd88ac30e75
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 23 11:26:46 2014 +0100

    Fixed typo in header file documentation comment.

commit 5575948b3720a3e17d480c590aa475c102d26765
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 22 21:13:46 2014 -0500

    Fixed bug 2726 - WinRT touches not setting 'which' field in virtual mouse events
    
    This patch makes sure that any SDL_MOUSEBUTTONDOWN, SDL_MOUSEBUTTONUP, and
    SDL_MOUSEMOTION events, as triggered by a touch event in a WinRT app, set the
    event's 'which' field to SDL_TOUCH_MOUSEID.  Previously, this was getting set
    to the same value as events from a real mouse, '0'.
    
    Thanks to Diego for providing information on this bug, and to Tamas Hamor for
    sending over a patch!

commit 9c398852e6aed195a40bed3dc1ae35ed44e240dd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 22 22:20:40 2014 +0100

    Corrected header file documentation comment.

commit 167b3bb4cd650721132896f5e07287b7b3111670
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 2 11:26:54 2014 -0500

    WinRT: updated docs to include details of recently-expanded GLES2 support

commit 577ef5e0b6358284b37dfa17f48ee2b1937e439a
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 2 10:38:29 2014 -0500

    WinRT: fixed crash when trying, and failing, to load the opengles2 renderer
    
    The crash would occur when a WinRT app explicitly tried to create an
    SDL_Renderer using the "opengles2" renderer (via SDL_HINT_RENDER_DRIVER), but
    OpenGL ES 2 / ANGLE .dlls weren't packaged in the app.

commit bbe1df0d51ffb9520540c4f1fef026bf436e616e
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 2 10:32:25 2014 -0500

    WinRT: enabled OpenGL ES 2 support on Windows Phone
    
    The "future-dev" branch of MSOpenTech's ANGLE/WinRT repository (at
    https://github.com/msopentech/angle) includes support for Windows Phone 8.1.
    This change allows it to be used in conjunction with SDL's OpenGL functions.

commit 18ecc34dfd78a513d4a9e670296110212025a4f5
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 2 09:02:01 2014 -0500

    WinRT: updated an OpenGL-related code-comment

commit 0bcc254e4f050baa893a387a846273aa941c39c4
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Nov 2 08:47:05 2014 -0500

    WinRT: expanded OpenGL ES 2 support to enable recent updates to ANGLE/WinRT
    
    ANGLE for WinRT has at least two versions:
    - an older version, which supports Windows 8.0 and 8.1.  This is currently
      the "winrt" branch in MSOpenTech's ANGLE repository (at
      https://github.com/msopentech/angle)
    - a newer version, which drops support for Windows 8.0, but is under more
      active development (via MSOpenTech's "future-dev" branch), and which was
      recently merged into the ANGLE project's official "master" branch
      (at https://chromium.googlesource.com/angle/angle)
    
    Both versions are setup using slightly different APIs.  SDL/WinRT will now
    attempt to detect which version is being used, and configure it appropriately.

commit 1c85ba23dfb6be4fbd6222c5ef3443c06595f0a0
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 1 11:41:18 2014 -0400

    WinRT: moved documentation + setup related TODO items out of README-winrt.md
    
    The TODO items were moved to SDL Bugzilla, case 2775 (https://bugzilla.libsdl.org/show_bug.cgi?id=2775).

commit 796f7bbf0c2ca598d920d088f0f683aef50d0399
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 1 11:17:07 2014 -0400

    WinRT: made README-winrt.md slightly easier to read in an 80-column text editor

commit 438a55a49ce31d9080398895c052ef9c16b7db19
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Nov 1 11:14:46 2014 -0400

    WinRT: added details of the port's status, to README-winrt.md

commit 43ad9670e6cc977ec1d072ef328d863e9e50a7cc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 30 13:44:31 2014 -0400

    Patched to compile on pre-C99 compilers.

commit 3a916c6d7b5bc0eb6c244c095ec72a51e33e7af8
Author: Dmitry Rekman <dmitry.rekman@epicgames.com>
Date:   Wed Oct 29 22:55:40 2014 -0400

    X11: Fixed SDL_GetGlobalMouseState() to work better with multimonitor configs.
    
    Fixes Bugzilla #2770.
    
    Thanks to Epic Games for contributing this fix.

commit 37720dd5f2b88e2836b80f415299e89a2d9980f5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 29 22:44:35 2014 +0100

    Fixed gamecontroller database sorting script not sorting the whole database.
    
    The script was originally written for an SDL_gamecontrollerdb.h which had groups
    of mappings separated by single lines starting with a "#". This was changed some
    time ago to #endif/#if pairs. Because the script assumed only a single #endif in
    the whole file it no longer worked correctly and only processed the first group.

commit 0c60f023f549d718f552d1fa3535425943ce97a2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 29 22:41:01 2014 +0100

    Removed unnecessary NULL check.

commit 2bdc5c9d7aa067abe0ca884d411fa30ca80fc952
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 29 20:35:21 2014 +0100

    Updated gamecontroller database sorting script to work with Python 3.

commit 032b14e7b6667f6b6e1660c25c62dcb684b9cf93
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 29 20:29:32 2014 +0100

    Fixed SDL_AddHintCallback() crashing if no more memory available.
    
    The return value of SDL_malloc() was not checked and NULL therefore not handled.
    Also added setting of error message for the other SDL_malloc() in this function.

commit 2a46a9df21c190dcf89cda54b274105735deafa6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Oct 29 20:20:47 2014 +0100

    Fixed bug 2647 - Memory leak in SDL_AddHintCallback function - SDL_hints.c
    
    Nitz
    
    Variable entry going out of scope leaks the storage it points to, at:
    
            /* Need to add a hint entry for this watcher */
            hint = (SDL_Hint *)SDL_malloc(sizeof(*hint));
            if (!hint) {
                return;
            }
    
    Patch is attached.

commit fb6d185a8a8323b6626de642036948e154537ac9
Merge: f2bd99da6 28fe9f0cf
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Oct 28 18:36:29 2014 -0300

    Merged default into iOS-improvements

commit 28fe9f0cfce42df8a59dc3aaeae1c76102e23e4a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Oct 28 01:34:40 2014 -0300

    Switched to the core versions of OpenGL ES framebuffer object and renderbuffer functions.
    
    Both the extension (OES) and the core versions work, but the core versions are more correct for GLES2+ and they're less verbose.

commit f2bd99da68a0c8597c650b672b82afff33e1226b
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Oct 27 19:53:44 2014 -0400

    WinRT: detailed steps, via the WinRT README, to fix a common build error

commit 3d2ca92e6ad1c933e44d27191b876d70cf06dec0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Oct 27 12:53:47 2014 +0100

    Fixed two typos in header file comment.

commit 7268eabb9b0c6c48be65d89ce03adef637ed1469
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 26 23:28:45 2014 +0100

    Added handling of NULL as input for SDL_GameControllerAddMapping().

commit 33a2b58ca492e2e1b64ed1a32f9225ed8e3e7516
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 26 23:22:53 2014 +0100

    Fixed SDL_GameControllerMappingForGUID() crashing if no more memory available.
    
    The return value of SDL_malloc() was not checked and NULL therefore not handled.
    NULL returned by SDL_GameControllerMapping()/SDL_GameControllerMappingForGUID()
    now either means "no mapping" (as before) or "no memory" (just crashed before).

commit 30d6cec1bbe0255ea4dbc2e943615e445f313a30
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 26 17:53:16 2014 +0100

    Added handling of NULL as input for SDL_GameControllerMapping().
    
    For consistency with the similar functions getting SDL_GameController as input.
    Also NULL is no SDL_GameController and therefore can not have a mapping anyway.

commit 90387dafb48fc0170956e97b6afbb37525d2157a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 26 17:46:11 2014 +0100

    Removed two wrong documentation comments from gamecontroller source.
    
    No replacement because correct documentation is already in SDL_gamecontroller.h.

commit 0a053ed66a0617a0c4547c8f7cc06c111f7d78ae
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Oct 26 17:44:00 2014 +0100

    Fixed wording in SDL_GameControllerAddMappingsFromRW() error message.

commit 01f3498c3372a929bb7b719a855f577b8ed24813
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Oct 26 12:33:10 2014 -0400

    WinRT: more keyboard code cleanups
    - made keycode listings a bit easier to read
    - listed VK_ keycode names, where appropriate
    - removed a few pieces of dead + commented-out code
    - applied a common 'WINRT_' prefix to internal function names

commit e057c7dd1267f847ae2e77bc10f4180d5123550c
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 25 08:54:23 2014 -0400

    WinRT: Fixed bug whereby key-detection code could call SDL_Log

commit ed2fff6bef778d1627ef4efd56fc0c5732a747ca
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 25 08:50:41 2014 -0400

    WinRT: fallback to scancode key detection, if VirtualKey/VK detection fails

commit 20b19aac86783bf33ba6217fa10a6b05e20a9ac1
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 25 08:43:51 2014 -0400

    WinRT: more keyboard code cleanups
    - use SDL_arraysize where appropriate
    - made long lines of debug-logging code span multiple lines, for easier reading

commit a1bac50d1bbc5b70bdf1c3f0952f35772e245e29
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Oct 24 22:09:47 2014 -0400

    WinRT: Fixed bug whereby a right-shift key might get reported as left-shift

commit e9c79620df161d2d6d7cddd429c47bd146a478d9
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Oct 24 21:25:21 2014 -0400

    WinRT: minor keyboard code cleanup
    
    An internally-used hash table was replaced with a plain switch statement.

commit d5d3721b4dffe3d727d65210392b92ee79a80cd1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Oct 24 19:50:29 2014 +0200

    Added new key codes from Android 4.4 (API 20) and 5.0 (API 21).

commit a1dcebb209765ea8fa0d0210df7fb2ea598baeb9
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Oct 24 06:52:54 2014 -0700

    Remove unused variable.

commit 04dbc4920e70062124dc8689bf7f6519f75d351c
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Oct 24 06:50:09 2014 -0700

    Merge patch for bug 2750. Thanks Sylvain!

commit 1745116fe8915d0d72750c3cd1b934e85a15be64
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Oct 24 11:53:34 2014 +0200

    Fixed bug 2759 - Android findLibrary() returns NULL
    
    Sylvain
    
    extra patch with minor modifications:
    - typo
    - cancel-able set to false
    - add the error message, so that the user can report it.

commit d89620a80900ae03919e016a9455c9b08cdfb2ae
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Oct 24 04:06:45 2014 -0300

    Removed the codepath that gets compiled if IPHONE_TOUCH_EFFICIENT_DANGEROUS is not defined.
    
    The "dangerous" codepath relies on the fact that UITouch objects are persistent for the entire touch sequence, which is always guaranteed by Apple.

commit a0481bb10cb2e0b16da152f8c3abc4729841b408
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Oct 24 03:56:34 2014 -0300

    Completely removed custom splash screen code. iOS 8 introduced yet another official way to do launch images (via a Storyboard), and the custom splash screen code was broken on newer devices and caused bugs for all devices anyway.

commit bc382e390aec0eba56992f94fd0da7c358f9f79e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:45:18 2014 +0200

    Added an option to define libraries to be loaded on Android in a derived class.
    
    This way it is no more needed to modify SDLActivity.java to add own libraries.

commit 775a802627015764b1a29e94160d45ef30b15c63
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:41:01 2014 +0200

    Fixed alert dialog for not loaded libraries on Android being cancelable.
    
    If the alert dialog could be canceled the Activity would not be finished here.
    Also setting the property to "true" would be redundant because that is default.

commit 425a06a9eaf05ab0f4c6c47f5823324f9a73debf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:39:15 2014 +0200

    Fixed missing @Override annotation warning in source for Android.

commit 4a67627e8b7e2e509f13eafc347af525df5d6bd4
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:38:03 2014 +0200

    Fixed upper case button in alert dialog for not loaded libraries on Android.
    
    This is more consistent with the buttons of other dialogs on Android.

commit d4bdd2469fdb6dc614e2db05cf9beb1ca1b1d66a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:34:48 2014 +0200

    Fixed typo in message of alert dialog for not loaded libraries on Android.

commit 391c31cf065ff6f343d8b9275096f9c1194567bc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:33:27 2014 +0200

    Fixed writing new errors to standard output instead of error output on Android.

commit 85bed09561d8772efdf26adc16e70bc23359878f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Oct 23 16:31:02 2014 +0200

    Fixed documentation in source for Android.

commit 34a85f4de66a96fb198c6fce9964ee994a6c25ca
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Oct 21 11:44:35 2014 -0300

    [Android] #2759: Show a message on failure to load a .so library (by Sylvain)

commit 96fd9cefc8d8f3ae97ba78d9c6216591641f8da0
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Oct 21 11:27:06 2014 -0300

    Clarify (lack of) support for desktop OpenGL on the Raspberry Pi

commit 5f193f0c60c158591fa969d6196121016a90bcfd
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Oct 20 22:19:09 2014 +0200

    Fixed setting of screen saver state crashing on some version of Android.
    
    Setting Window flags seems to affect Views and must be handled on UI thread.

commit 79035b393aae5eb0789b1c81360eab749cb8c601
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Oct 20 10:10:39 2014 -0300

    Bug 2739 - [Android] No support for SDL_DisableScreenSaver by Martin Gerhardy

commit ec4dfdfc5826767974b6840edcb0fe1c26b29bb8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Oct 17 23:36:45 2014 +0200

    Fixed bug 2476 - Allow custom main() arguments
    
    rettichschnidi
    
    I would like to pass custom arguments from my Java code (subclass of SDLActivity) to the native SDL2 binary.

commit 7cabaebed4be9e95e45d141b7bbc885a3ae2da7e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Oct 17 23:26:02 2014 +0200

    Fixed typo in source comment.

commit 0302bb771c307c58e4436f816a87b16ed520d18f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Oct 17 23:10:33 2014 +0200

    Fixed syntax error in cmake file.

commit 38f94e21c0e4a8dc8ba90da6df9524bff65b482c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 16 09:54:13 2014 -0700

    Added a platform cleanup function for the Vivante video driver

commit 5df970a69539b687e7adcf36f9b065d07fa86f9f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Oct 16 09:41:42 2014 -0300

    [udev] Fixes #2654, ID_INPUT_KEY devices are ignored.
    
    Also added some references to udev code where these flags are set.

commit 29eb6e9b3cc2a3e82a41903376c194c48f243642
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Oct 15 18:33:43 2014 -0300

    [X11] Obey DISPLAY environment variable when selecting screen (Steaphan Greene)
    
    Discussed in bug #2192, tested with Xvfb in dual head configuration.

commit 1b341f5875224b1e7f774b4839295804685b94a1
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Oct 15 15:50:35 2014 -0400

    WinRT build fix

commit 839be30466e75218cb15b3b2ab1a6a5dfbea9844
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 16:26:51 2014 +0000

    Updated configure based on recent configure.in changes

commit 251ca855f760c8df307c2a5a83d701e7a78a86b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:18:17 2014 -0700

    Expanded the iMX6 video driver into a general Vivante video driver that works across multiple SoCs

commit f7abb7c4e2313d23dd5773e8d85a70c317652224
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:14:09 2014 -0700

    Better error reporting for video drivers with less than full functionality.

commit 3b70f65dc156375145679a415e1bf03cc1c843e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:13:36 2014 -0700

    Fixed bug where EGL function pointers wouldn't get saved in optimized gcc builds

commit 348cf3ee281a90739949aee6df0a5afe838f9456
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:11:15 2014 -0700

    Fixed spurious SDL error on shutdown if mouse capture isn't supported

commit 89127c2d703cff4b14e210834273265742a716ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:10:50 2014 -0700

    Fixed input device detection on systems that aren't running the udev daemon

commit 639b39c46cda7b05c06145b3f0f7f8e1ba2d028e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 15 09:09:57 2014 -0700

    Fixed crash if the event subsystem didn't initialize properly

commit 20a6c623c3eee484d6a60fb1cb0e4520c371449a
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Oct 14 09:53:46 2014 -0400

    WinRT: fixed bug whereby offscreen-rendered content could get improperly rotated
    
    Attributes on the host device's rotation were getting applied to offscreen
    textures in an invalid manner.  This was causing some apps to look different,
    depending on how the device was rotated.

commit 72f703e3957c6421f176b4a264090963a9ae4e7b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 13 14:10:41 2014 -0700

    Fixed log typo

commit 557d43e69aa92389098d6e0c2f230eb29cb1a0bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 13 10:46:27 2014 -0700

    Minor cleanups

commit bebc8d126de66733a6f37b5950c6f36d25a0e454
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 13 10:43:10 2014 -0700

    Added configure options to disable OpenGL ES 1.1 and 2.0 individually

commit 411e0f9dac2043e0ac2afa85fba51ebfaf2f5917
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Oct 4 14:59:41 2014 -0400

    WinRT: expanded the documentation on SDL_HINT_WINRT_HANDLE_BACK_BUTTON

commit 498690ffa3e8eeb292d2d3adc4ecc30e76d187b6
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Tue Sep 30 11:20:50 2014 -0700

    Mac: Fix build with clang from Xcode 6.

commit 51a07ade2897953111fc11daebd74567799fe66a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 25 20:56:27 2014 +0200

    Fixed broken layout for buttons with configured color in messagebox on Android.

commit 788a2e4597f452e7af2660dbd35af248f3cc948c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Sep 24 23:46:46 2014 +0200

    Added setting configured color to button texts for messagebox on Android.

commit 53feb228971c9a0598291000d61ff8b0cbd3e5f1
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 19 12:09:51 2014 -0400

    WinRT: cleaned up the opening section of the README

commit 16773fd47f31406c21426391a4ceb2a5ceae44ca
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 19 11:27:18 2014 -0400

    WinRT: fixed broken emphasis formatting in README, when rendering it with Doxygen

commit 476580576efadf6601e3bd9ece8f55476caea161
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Sep 18 11:03:34 2014 -0300

    [Android] Better fix for #2480, pause/resume audio

commit 5f9ea7edebf99368d8ccb668abfae4cfeb412cd6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 17 14:49:36 2014 -0400

    Haptic: Deal with negative periodic magnitudes (thanks, Elias!).
    
    A negative periodic magnitude doesn't exist in Windows' and MacOS' FF APIs
    
    The periodic magnitude parameter of the SDL Haptic API is based on the Linux
     FF API, so it means they are not directly compatible:
        'dwMagnitude' is a 'DWORD', which is unsigned.
    
    Fixes Bugzilla #2701.

commit 266c0023dad8e71deaf751828b90b90201e809ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 17 14:47:42 2014 -0400

    Fixed haptic documentation typos (thanks, Elias!).
    
    Partially fixes Bugzilla #2701.

commit 4544343b3eb02bd7efb80df4838371e7aa9db792
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Sep 17 11:41:12 2014 -0300

    [Android] Fixes #2480, music does not pause when process backgrounded
    
    This modifies SDL_PauseAudio behavior to pause all audio devices instead of
    just the default one (required on Android, at least for testmultiaudio on my
    Nexus 4 which reported 2 audio devices).
    It also changes SDL_PauseAudioDevice to retain the device lock from pause until
    resume in order to save battery in mobile devices.

commit e7f2f85c3d53c4b46ae7b9345515eff1cf7ce672
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Sep 17 08:59:43 2014 -0300

    [Android] Fixes #2679 - Crash resuming from screen off
    
    Before destroying the static Java-side data, wait for the SDL native thread,
    *and* the listener thread that waits on it to trigger a clean up.

commit 60df813042dba42f5e6aabdc2ae37ce99cc47d09
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Sep 16 23:09:32 2014 +0200

    Fixed doxygen warning and markdown formatting.
    
    Three backticks for blocks are not supported by doxygen.

commit ba565622aadd7043757a4f704a6779558292a281
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Sun Sep 14 17:04:54 2014 -0300

    Enabling highdpi mode on an iPhone 6 Plus should now create a 1080x1920 OpenGL view, rather than 1242x2208 (414x736@3x.)

commit 0fbd904af883d7515f4a01fbccc9f8c901629b6d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Sep 14 19:44:53 2014 +0200

    Fixed key down closing messagebox dialog instead of key up on Android.
    
    This fixed sending key up event to SDL a dialog closed by down did not consume.

commit df37d1d55056dd29aef83cfa2eb07ec78d532a42
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 14 13:10:21 2014 -0400

    WinRT: made README note that Win 8.0 targeting via MSVC 2013 Express is not possible

commit 75d0396eb3e55a863851d7aa98cf7029622c3635
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 14 12:57:26 2014 -0400

    WinRT: expanded and updated the README section on MSVC requirements

commit 0903aa3f8d42bb9b52702aff6514ead756df1610
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 14 11:36:24 2014 -0400

    WinRT: added manual, app-setup instructions to the README
    
    A number of other parts of the WinRT README were edited, either for clarity, or to help with Markdown rendering.

commit 11d865b8fc7d4244469316c9db9e2387f46df798
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 14 10:31:18 2014 -0400

    WinRT: added a note to README regarding need for a MS account

commit 4eef8bbc11db030b980cc61fb9cddf3e48209bc2
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 14 10:29:54 2014 -0400

    WinRT: cleaned up section headers

commit 3071128deb6606d3e3d6331c84cdcd5d7ca102d9
Merge: bf8ac8e79 b1a0bd10a
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Sep 10 18:10:37 2014 -0300

    Merged default into iOS-improvements

commit bf8ac8e798554192e1770ca1eccc5da6e2c15149
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 10 14:05:27 2014 -0700

    DSCAPS_GL was added for DirectFB 1.6

commit 0e65e62367b196397c7fdbaa8b426c2480cb89c8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Sep 10 08:59:19 2014 -0700

    Report the correct desktop video mode on the iMX6

commit 50cc4efec8aa20f6e225a68953e935fb5b428a30
Author: mastermind <denis.barkar@gmail.com>
Date:   Wed Sep 10 08:54:01 2014 -0700

    Freescale i.MX6 video driver
    ---
     CMakeLists.txt                  |   2 +
     cmake/sdlchecks.cmake           |  20 +++
     configure                       |  51 +++++++
     configure.in                    |  28 ++++
     include/SDL_config.h.cmake      |   1 +
     include/SDL_config.h.in         |   1 +
     src/video/SDL_sysvideo.h        |   3 +
     src/video/SDL_video.c           |   3 +
     src/video/mx6/SDL_mx6events.c   |  45 ++++++
     src/video/mx6/SDL_mx6events_c.h |  31 +++++
     src/video/mx6/SDL_mx6opengles.c | 211 ++++++++++++++++++++++++++++
     src/video/mx6/SDL_mx6opengles.h |  68 +++++++++
     src/video/mx6/SDL_mx6video.c    | 301 ++++++++++++++++++++++++++++++++++++++++
     src/video/mx6/SDL_mx6video.h    |  78 +++++++++++
     14 files changed, 843 insertions(+)
     create mode 100644 src/video/mx6/SDL_mx6events.c
     create mode 100644 src/video/mx6/SDL_mx6events_c.h
     create mode 100644 src/video/mx6/SDL_mx6opengles.c
     create mode 100644 src/video/mx6/SDL_mx6opengles.h
     create mode 100644 src/video/mx6/SDL_mx6video.c
     create mode 100644 src/video/mx6/SDL_mx6video.h

commit 7798b4d62a43318a52e520ccf8d81e1b564c1cb0
Author: Ryo Munakata <ryomnktml@gmail.com>
Date:   Tue Sep 9 17:26:16 2014 +0900

    video: waylandmouse: handle mmap error properly
    
    Signed-off-by: Ryo Munakata <ryomnktml@gmail.com>

commit 5f39ea89c9b9c65936d50c3a8fb9f79665eed7ff
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 13 02:15:18 2014 -0700

    Fixed bug 2415 - Message Boxes aren't implemented on Android
    
    Philipp Wiesemann
    
    I attached a patch for an incomplete implementation of the messagebox parts.
    
    It was not tested on lots of devices yet and features a very fragile workaround to block the calling SDL thread while the dialog is handled on Android's UI thread. Although it works for testmessage.c I assume there are lot of situations were it may fail (standby, device rotation and other changes). Also not all flags and colors are implemented.
    
    On the other hand most uses of the messagebox are to show an error on start and fragility (or working at all) may not matter there.

commit 2bfb3c3e82407459c0a733fb89e14cc77ba26e68
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 12 15:09:33 2014 -0700

    Fixed using uninitialized display data in iMX6 initialization

commit 24c86b5501ccf08903cad2b21bfa5293adcc6546
Author: Pierre-Loup A. Griffais <pgriffais@valvesoftware.com>
Date:   Thu Sep 11 19:24:42 2014 -0700

    [X11] Reconcile logical keyboard state with physical state on FocusIn
    since the window system doesn't do it for us like other platforms.
    
    This prevents sticky keys and missed keys when going in and out
    of focus, for example Alt would appear to stick if switching away
    from an SDL app with Alt-Tab and had to be pressed again.
    
    CR: Sam

commit bcaae0b5778ad8f4e2f1e5f4a500a480662dd6cb
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Sep 8 01:36:22 2014 -0400

    Deal with various .bmp file format variants in SDL_LoadBMP_RW().
    
    This helps when modern versions of The Gimp (and lots of other things)
    produces a 32-bit bitmap with an alpha channel, or anything with "BI_BITFIELDS"
    format, since that data is now embedded in the bitmap info header instead of
    directly following it and we would accidentally skip over embedded versions of
    it.
    
    Fixes Bugzilla #2714.

commit 0b98d0cb8a2520e902840fdaad35a5f0041423dc
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 6 23:20:14 2014 +0200

    Fixed example in header file.
    
    Did not compile because of typo in function name and missing argument.

commit c363bffa591598e8d7bc9cb2386f9ed929cde7d6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu Sep 4 22:59:32 2014 +0200

    Changed version displayed in documentation generated by doxygen.

commit 782d590b77aa8273e7f11f6e916bc693d36dea90
Author: J?rgen Tjern? <jorgen@uberent.com>
Date:   Tue Sep 2 14:14:23 2014 -0700

    Fix non-power-of-two shaped windows.
    
    This fixes a bug where SDL_SetWindowShape would render artifacts if the image
    was not a power of two image, due to rounding of width / 2.

commit 7242e81474ae0801c3329db43209aade43ddb521
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Sep 2 06:55:47 2014 -0700

    Updated version to 2.0.4

commit 724d24d990868e617ea897352064909cc26e1965
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 31 11:21:10 2014 -0400

    Mac: Don't add the same joystick twice if IOKit reports a duplicate device.
    
    Fixes Bugzilla #2704.

commit 7e515963a66227105e7f6a8fe021907af9255395
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 27 23:27:42 2014 +0200

    Corrected hint documentation.

commit 66a88c6c9719f9ff06d10205aedfa05ad51d7d19
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 25 10:55:54 2014 -0700

    Fixed memory leak getting the X11 window title

commit 05cff7923c00929f241ebd8d580f1250e1f73bee
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 24 00:02:12 2014 -0700

    Fixed bug 2699 - possible memory leak in GL_RenderReadPixels
    
    Benoit Pierre
    
    If glReadPixels returns an error, than the temporary buffer is not deallocated

commit 9d54a900984409e7ebee1e1eda1e24a150429cfc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 23 19:06:54 2014 -0700

    May have fixed the Linux build again

commit fe4bc5ab25891c572b8a58fa2f1468993845f110
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 23 11:00:16 2014 -0700

    Fixed Linux build

commit 059579e48fa3515194d1b10df434302dfd922a1b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 23 10:47:50 2014 -0700

    Fixed bug 2696 - Mac: fix display mode refresh rate calculation
    
    Alex Szpakowski
    
    SDL's Cocoa backend uses the CGDisplayMode API to get refresh rate information about a display mode, but CGDisplayModeGetRefreshRate will return 0 on most non-CRT monitors.
    
    The only way I know of to get correct refresh rate information in OS X is via the CoreVideo DisplayLink API.
    I have attached a patch which tries to use the CVDisplayLinkGetNominalOutputVideoRefreshPeriod function if CGDisplayModeGetRefreshRate fails, which fixes display mode refresh rate information on the monitors I tested.
    
    The CVDisplayLink API requires linking with the CoreVideo framework, and the patch updates the various build files to do so.

commit a79ed6cea292dcf6eeb960b0716f11f4b2723573
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 21 23:22:46 2014 -0400

    Fix declaration-after-statement errors in ibus code.

commit 5e1f15892f5225670aca2ab212eb4ea66ae8f766
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 21 23:15:17 2014 -0400

    Adjusted code style slightly for SDL_ibus.c

commit da4c3d54d699ee3799924a9fde43ec1413bab071
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 21 23:03:38 2014 -0400

    Added note about libibus-1.0-dev to the Linux README.

commit 96d23f6a8f3d94a81b01b9b9d3c4bcc33cdf9db6
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 20 22:51:56 2014 +0200

    Fixed typos in test program.

commit aaefa6a855b085aca075e0d05b8a730d80d9920b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 20 22:49:59 2014 +0200

    Fixed not needed standard includes in test program.

commit ed5435034d53e31a519d7ae4c5b213e8c3ed568e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 20 22:47:07 2014 +0200

    Fixed warnings about unused value in test program.

commit a0cdcb0a8abee557640e97390873b1139ed9a534
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 20 22:44:15 2014 +0200

    Fixed warnings about unused functions in test program.

commit 005da280dba0603b3d278b78ed53d8fc8e5dd0f8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Aug 20 22:40:56 2014 +0200

    Fixed warnings about missing initializers in test program.

commit b1a0bd10a218a1550803bec1f310761459f75374
Merge: 41728b3c6 deceab256
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Aug 20 17:20:22 2014 -0300

    Merged default into iOS-improvements

commit 41728b3c6ce85912c466bfb6cffd266226fadda9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 20 01:21:45 2014 -0400

    Fixed the cmake-guided static analysis and use it by default.
    
    The configure script fails on it on Mac OS X, now, for whatever reason.
    
    Hopefully gets our static analysis buildslave running again!

commit 2d2f90200dad4e96758e170a339b3696fed14331
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 19 22:04:54 2014 -0700

    Better check for __has_feature

commit 38b49c30e152bab08f39b16bedcd8a9934aff9bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 19 21:59:56 2014 -0700

    Changed the name of the IME hint to match the naming convention in SDL

commit 90bc642fa8e44272ab76d10c893d397d88012934
Author: Alex Baines <alex@abaines.me.uk>
Date:   Tue Aug 19 23:31:50 2014 +0100

    Add a SDL_IM_INTERNAL_EDITING event to make IMs like iBus render editing text in its own UI instead of sending TEXTEDITING events.
    This is useful for applications that handle TEXTINPUT events but not TEXTEDITING events.

commit f4ddacf425e95d27731df3e47fa820bc39c1dd56
Author: Alex Baines <alex@abaines.me.uk>
Date:   Tue Aug 19 23:17:28 2014 +0100

    Improvements to the IBus related code:
    + Handle HidePreeditText IBus signal.
    + Use SDL_GetKeyboardFocus instead of SDL_GetFocusWindow.
    + Move the X11 IBus SetFocus calls to the X11_DispatchFocus functions.
    + Simplify the IBus ifdefs when handling X11 KeyEvents.
    + Remove inotify watch when SDL_IBus_Quit is called.

commit 6f84f37c0ace37402570a304208af4432bd1ceb7
Author: Alex Baines <alex@abaines.me.uk>
Date:   Tue Aug 19 22:28:53 2014 +0100

    Take the window border size into account when positioning the IBus candidate list.

commit eba65c66a3189ee725e07d290c548ca4fd6d06d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 19 21:17:21 2014 -0700

    Fixed bug 2694 - configure bug __has_feature macro not detected
    
    skaller
    
    using gcc 4.2 (the default) on Mac OSX 10.6.8
    
     CC     build/SDL_dynapi.lo
    In file included from /Users/johnskaller/SDL/src/dynapi/SDL_dynapi.c:31:
    include/SDL_syswm.h:211:39: error: missing binary operator before token "("
    
    The fault appears to be here:
    
    #if defined(__OBJC__) && __has_feature(objc_arc)
    
    that the __has_feature macro is not supported by gcc 4.2.
    
    The code works fine with my clang 3.3svn.

commit 04f7422552e397187c9c8d237f67b978ab8a8ab6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 19 21:13:07 2014 -0700

    Fixed bug 2691 - Disabling shared library prevent cmake configuration
    
    hotgloupi
    
    Configuring using "cmake -DSDL_STATIC=1 -DSDL_SHARED=0" generate and error in CMakeLists.txt at line 1334:
    
    CMake Error at CMakeLists.txt:1334 (install):
      install TARGETS given target "SDL2" which does not exist in this directory.
    
    This install rule shouldn't be present when the DLL has been disabled

commit 5a752c3aa77ce76065243fb843249f1e32afefe7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 18 18:44:08 2014 -0700

    Better Mac OS X build fix - actually match the SDK OpenGL headers.

commit 4b8f75381f612197ac69376c223600145de697fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 18 18:17:03 2014 -0700

    Fixed Mac OS X build

commit bbab38552a47b58dd7dcb129cfee0d1c6974b0cd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 18 18:16:45 2014 -0700

    SDL - fix fullscreen desktop windows not restoring to fullscreen state if focus changes happen due to programtic window changes (and not user alt-tabbing)

commit 877666e237f570f4ce2ad98c2c85e0347f806162
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 18 11:28:16 2014 -0700

    Fixed UV texture coordinate scale when using GL_ARB_texture_non_power_of_two

commit f4d3303c9eec2591030fad6227cb0e3a505019c1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 18 14:05:02 2014 -0400

    Don't use the system OpenGL headers, ever.
    
    (the replacement header is from Mesa, under what the MIT license.)

commit d1cc47b337adadf3f34ae3bcd585ef3e27258073
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 15:07:00 2014 -0700

    Fixed 2680 - OSX: Replace NSAutoreleasePool with @autoreleasepool
    
    Tim McDaniel
    
    This patch replaces all use of NSAutoreleasePool with the Apple recommended @autoreleasepool.  @autoreleasepool is supposedly more efficient, and since it is scope based it can't be accidentally not released.

commit 5e5018041540609b9d10d596663650b0e662ba4a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 14:57:52 2014 -0700

    Fixed bug 2655 - OSX: Window position and global mouse coord spaces are different
    
    Tim McDaniel
    
    On OSX, with revision 8729, the coordinate space for window position and the coordinate space for global mouse position don't match.  For a non-fullscreen window, the window position is global relative to the bottom of the menubar.  The global mouse position is relative to the top of the screen.  This affects Cocoa_WarpMouse and potentially other things as well.  Further, the coordinate system for window position is now affected by what screen it is on.  For example, if I have two equal size screens oriented side by side such that the tops of the screens are equal in global space, with the menubar on one screen, and a window straddles the two screens, the window's y position makes no sense.  The window's y position depends on what screen "most" of the window is on.  So if I move the window horizontally just a bit, the y position of my window is now different by the size of the menubar, even though the window was not moved vertically.
    
    I'd like to reiterate that this was a fairly fundamental change (and a breaking change for us).  If SDL OSX is to really support multi-display configurations, this is especially problematic.
    
    If the real concern is preventing windows from going under the menubar, then perhaps a solution involving something like overriding [NSWindow constrainFrameRect] would be less problematic than redefining the global window coord space for the main display.

commit de3d381cb64fbefebd63f80aecb651dbfc82c80a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 14:44:53 2014 -0700

    Fixed bug 2685 - SDL_RenderReadPixels() doesn't work with offscreen targets
    
    Andreas Falkenhahn
    
    SDL_RenderReadPixels() doesn't seem to work when trying to read pixels from a texture that has been created using SDL_TEXTUREACCESS_TARGET and has been selected as the render target using SDL_SetRenderTarget().
    
    I am attaching a small program that demonstrates the issue. I get the following result here:
    
    READ PIXEL RETURN: 0 --- COLOR CHECK: ff000000
    
    But it should be:
    
    READ PIXEL RETURN: 0 --- COLOR CHECK: ffff0000
    
    Tested with SDL 2.0.3 on Windows 7.

commit 2e3c778ef50bded2d31d3d86ec6ecc9ea58695b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 14:34:41 2014 -0700

    Fixed bug where the render target is updated instead of the default output when the window is resized.

commit f17587df4aabdea8bf89bb5aff189609dc8ac398
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 13:49:53 2014 -0700

    Reset CMAKE_REQUIRED_FLAGS after test

commit 95ced654cbc976901896f502cbb9b49b5ec88e93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 13:15:45 2014 -0700

    cmake: add -Wl,--no-undefined to GCC linker flags
    
    This way unresolved symbols will be detected when linking the shared
    library version.

commit 569e595a1bc4361d996f763f87bdc260dae16559
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 13:15:09 2014 -0700

    cmake: add -Wall/-Wshadow to GCC compilation flags

commit 1ea8697894844ef132f509f403f3776033e24da1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 13:11:55 2014 -0700

    Removed SDL_round() because the license wasn't compatible with zlib

commit 2a13cab927ebae670749494a75a1fce1fbc431d6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 17 10:10:41 2014 -0700

    Fixed bug 2688 - failure to build test/loopwavequeue.c on Linux

commit 529ed53b16a8e35c81fe3ae3bbf4870067040a22
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 23:30:44 2014 -0700

    Fixed bug 2681 - dereference a NULL pointer dst_fmt in SDL_CreateTextureFromSurface function
    
    Nitz
    
    In SDL_CreateTextureFromSurface:
    
    SDL_PixelFormat *dst_fmt;
    /* Set up a destination surface for the texture update */
             dst_fmt = SDL_AllocFormat(format);
                temp = SDL_ConvertSurface(surface, dst_fmt, 0);
    
    Here is need of NULL check for dst_fmt because there are chances of NULL return from SDL_AllocFormat(format);

commit 984d0fc40b42c34ddd3aaa9f6b0fc655e213222b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 23:28:40 2014 -0700

    Fixed bug 2683 - Raspberry PI support using CMake
    
    Tobias Himmer
    
    this patch adds a check to the CMake build script to detect whether the VideoCore API is available.
    If it is found, it enables SDL_VIDEO_DRIVER_RPI and will also add the needed include/library directory flags to CMAKE_C_FLAGS so the subsequent check for GLES succeeds in picking up the headers.
    
    Seems to work fine on Raspbian.

commit 8272ed18196e21bf24714e6b89ffc3ae73c36d80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 23:25:02 2014 -0700

    Fixed bug 2687 - SDL_BlitScaled does not handle clipping correctly
    
    Patch from Benoit Pierre:
    
    video: fix clipping handling in SDL_UpperBlitScaled
    
    - honor destination clipping rectangle
    - update both destination and source rectangles when clipping source
      rectangle to source surface and destination rectangle to destination
      clip rectangle
    - don't change scaling factors when clipping
    
    N.B.:
    
    - when no scaling is involved (source and destination width/height are
      the same), SDL_UpperBlit is used (so SDL_BlitScaled behaves like
      SDL_BlitSurface)
    - the final destination rectangle after all clipping is performed is
      saved back to dstrect (like for SDL_UpperBlit)

commit 4e7db78ed9e2f818c2669fbf1a6dde3bb11621b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 23:23:15 2014 -0700

    Added SDL_round(), contributed by Benoit Pierre - thanks!

commit d673d8c3892a812dbc1ade984543a331e9b5acc8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 23:17:47 2014 -0700

    Fixed bugs 2677 and 2625, made it possible to lock render targets in D3D

commit 384c2047618cebe116fcfd47c959c0cdd00ca226
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 16 15:18:21 2014 -0700

    Fixed building on Windows with CMake

commit d72c61d8c776c8f2e6617de2f1d8cb9e2fe74e76
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:50:10 2014 -0400

    Haptic: Add some missing haptic types to test, and fix wrong array-sizes.
    
    Thanks, Elias!
    
    Fixes Bugzilla #2686.
    (along with the last several commits.)

commit e2bbc17d117c615f6ad199a53f746794bc9a6be7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:49:00 2014 -0400

    Haptic: Fix clamping bugs on Windows, by using the Darwin haptics code.
    
    Thanks, Elias!
    
    Partially fixes Bugzilla #2686.

commit 57db27909bb4399fc00a13d527d358abe63084bf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:47:42 2014 -0400

    Haptic: Fix the saturation and deadband parameters' available range.
    
    There was a misconception that Linux's saturation and deadband parameters -
    on which the corresponding SDL parameters were based - use only half of the
    possible range.
    
    Thanks, Elias!
    
    Partially fixes Bugzilla #2686.

commit a2622ce6e07eae6e5d60779468cb8721f70b21e3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:42:55 2014 -0400

    Haptic: Explicitly avoid floating point arithmetic if it's not needed.
    
    Thanks, Elias!
    
    Partially fixes Bugzilla #2686.

commit 1db581b4caa82d95ea30f9db76ab04bf43f034d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:41:25 2014 -0400

    Haptic: DInput's POLAR direction actually matches Linux's direction.
    
    Thanks, Elias!
    
    Partially fixes Bugzilla #2686.

commit 3e27013b9830bb3961000ec769fe69b07f68ef38
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 16 16:40:01 2014 -0400

    Haptic: Don't interpret a direction of polar 35999 as "unsupported type".
    
    (or linux-direction 0xFFFF)
    
    Thanks, Elias!
    
    Partially fixes Bugzilla #2686.

commit 6d9dbf5e1e1177a225b70600704af16970067369
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 15 23:39:14 2014 +0200

    Fixed markdown formatting in READMEs.

commit c5aa0d8081d0af6355be511a7bf6044b34ad4a78
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 15 23:18:57 2014 +0200

    Updated README.

commit e0eb6714ccc655f75753c495645c9af6bdabb6e3
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Aug 15 23:13:51 2014 +0200

    Fixed enumeration in README.

commit c6a2382c6646b3b3404ecd5f2019bd90cc93f6f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 14 21:31:50 2014 -0700

    Take advantage of GL_ARB_texture_non_power_of_two when it's available

commit 2c1faa40eb6fcff4b40a9f707edbf240781c0585
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 12 23:37:12 2014 +0200

    Fixed warnings about unused local variables.

commit 197a7cae5fbbc1e704cdeab668ca74c3739a7c5b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 12 23:33:16 2014 +0200

    Fixed warning about implicit boxing to Java Object.

commit cfaa99bb5662563cb8713599dd0602a68a689e32
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Aug 12 23:28:45 2014 +0200

    Fixed doxygen warnings and markdown formatting.

commit 05d8780022f33c7f7eeb2650e68ae45c05954bd7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 11 17:25:53 2014 -0700

    Implemented SDL_GetPrefPath() on Android - it returns the path used by SDL_AndroidGetInternalStoragePath()

commit 4fe43f408b2aa890a1145ac5f31f1e91de67789e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 11 17:24:54 2014 -0700

    Added an entry for the new Steam controller XInput emulation mode

commit a9d4a6b81a7697c8b5eb25518fe16cbe046aefe9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 11 23:18:35 2014 +0200

    Fixed typo in source comment.

commit a02521492f0df1a49fe2d4bda82fbddddb1fd3c8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 11 23:16:47 2014 +0200

    Added javadoc comment for consistency.

commit 53cf64b09d544b49b4e97d8634323b9e8b2a497c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 11 23:13:20 2014 +0200

    Fixed doxygen warning and markdown formatting.

commit b33d2b737173d79bc90d1c99c81f37ef5cb606b0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 11 22:53:03 2014 +0200

    Updated README name in header.

commit 09dc9f8b20a424898e9e0375ac656df989a7c175
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Aug 11 22:45:08 2014 +0200

    Removed 42 from README.

commit ff5caa1721d23be02ea6023dc2eddeb14b905451
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Aug 10 22:21:21 2014 -0400

    WinRT build fix for ARM platforms
    
    The _xgetbv intrinsic was being used in ARM builds of SDL/WinRT, which was
    leading to linker errors.  This commit limits _xgetbv use to the platforms on
    which it is available, x86 and x64.

commit deceab256e88f486639c578a88e67fa38c1add92
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Fri Aug 8 15:14:09 2014 -0300

    Added iOS-specific functions to get the window view's current OpenGL Renderbuffer and Framebuffer objects, so they can be more easily rebound when necessary.

commit 2dac6bf57eb554a0689039f85bcad28c7c1ab408
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Aug 7 00:44:16 2014 -0300

    Fixed opengl context share groups on iOS.

commit 6fef39d6b8f53906bb42eec1a818b5023dfca887
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 6 11:34:54 2014 -0700

    Added NV12 and NV21 texture support for OpenGL and OpenGL ES 2.0 renderers

commit 02b06c6692a5ccc9515816ca15a2bb2205718598
Merge: 6299daecb 292eedffe
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Aug 6 13:50:50 2014 -0300

    Merged default into iOS-improvements

commit 6299daecbaf75c163903087594792ab2bcaf4da5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 6 00:28:02 2014 -0700

    The OpenGL context returned by the UIKit backend is now an actual OpenGL context instead of the OpenGL view we created.
    This allows you to use the returned context in functions like CVOpenGLESTextureCacheCreate()

commit 292eedffe8ff960b6ad23c7501b6894fe7fc4847
Merge: 2eb7563e3 f5543f93b
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Aug 6 03:32:59 2014 -0300

    Merged default into iOS-improvements

commit f5543f93b3f75c11f3a40bb4a9a7411caa9b1db7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Aug 6 03:24:16 2014 -0300

    Updated the iOS backend code to use Objective-C's automatic reference counting (ARC).

commit 2eb7563e35fb7ae9d4a0466d3c437e1ba3fe5126
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Aug 5 21:03:02 2014 -0700

    Haptics aren't available on iOS, but use the dummy implementation instead of failing init if it's requested.

commit 362899776ea0b567a25b62a2a25bc70d5cfcbb33
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Aug 6 00:45:11 2014 -0300

    Minor code update for less verbosity

commit 2096583140a982befef7eda26954cba286596f04
Merge: bde54b7f3 87b8c8d10
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Aug 4 15:30:53 2014 -0300

    Merged branch default into iOS-improvements

commit 87b8c8d1088e01bc60a9bdf7eaf94e4b93daaaba
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Thu Jul 31 12:46:23 2014 -0700

    SDL - when raising the window under OSX also force the app to activate. This fixes a fullscreen window on a separate space not coming front when raisewindow is called.

commit bde54b7f3461124504d184d79bbcea57f3d6b70e
Merge: caad673f0 755294765
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 31 03:14:10 2014 -0300

    Merged 'default' into branch 'iOS-improvements'

commit 75529476541b141f9884a5a119cfc76f5acf0e9d
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Wed Jul 30 17:45:52 2014 -0700

    SDL - fix re-entrancy into SDL_UpdateFullscreenMode under OSX. During HideWindow we get a RESTORED event which then turns fullscreen back on causing a hang in Cocoa_SetWindowFullscreenSpace waiting for the fullscreen transition to finish.

commit 5b780063e1d96930279bef3d17e3f58f8e6469c0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 30 14:14:19 2014 -0400

    Make SDL_SysWMinfo usable on Mac/iOS with ARC enabled (thanks, Alex!).
    
    Fixes Bugzilla #2641.

commit c0f9a57f715f7237b5ea05ca079dd9fe84c3083f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 30 14:12:54 2014 -0400

    Fixed comment typo.

commit c5b21ea6c10defa5b22debdd56f46019f74c0a4e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 30 11:11:48 2014 -0400

    SDL_GetQueuedAudioSize() shouldn't grab lock when not set up for queueing.

commit e5d49c20331e85ad0a05999d5c6146e34c93f545
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 30 11:08:31 2014 -0400

    Added a GetPendingBytes method to the audio backend.
    
    This will (eventually) make SDL_GetQueuedAudioSize() more accurate, and thus
    reduce latency. Right now this isn't implemented anywhere, so we assume data
    fed to the audio callback is consumed by the hardware and immediately played
    to completion.

commit db1dd7560e29e5017d8a1309ca16fdeade7560b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 30 09:54:01 2014 -0400

    XAudio2: Use XAUDIO2_VOICE_NOSAMPLESPLAYED when possible.
    
    For versions of XAudio2 with an IXAudio2SourceVoice::GetState() that offers a
    flags parameter, we can use XAUDIO2_VOICE_NOSAMPLESPLAYED, since we don't
    need this information in our current calls. According to MSDN, this makes the
    the call about 3x faster.

commit e76fecc4ed1c21ec097dc08fc848e577ee31c088
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 29 08:04:15 2014 -0700

    Moved documentation to docs, recreated a simple README.txt, fixed build

commit f982d0878429a5634972353281dca24a54b99343
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Jul 29 09:20:12 2014 -0300

    Rearrange documentation
    
    1) Moves all READMEs to docs/
    2) Renames them to *.md, adds some Markdown with the idea to add a lot more
    3) Moves the doxyfile config to doc/ and makes it parse the headers at ../include as well as the md files in docs.
    4) Skips SDL_opengl*.h headers from the docs
    5) Minor fixes to doxyfile

commit caad673f06113c0fdf99b6c53e4801582a6c2081
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 29 00:36:12 2014 -0300

    Added missing autorelease pool blocks in UIKit backend code. Fixes memory leak issues, especially in SDL_video.

commit 31257842ec57b6d99d3329e15d177fe0dd5f6766
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 29 00:05:48 2014 -0300

    Added support for SDL_SetWindowBordered on iOS. Worked around a bug with rotating the device on iOS 8.

commit 0c09ce2b349421eb650914c57b411f04cae2d43c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jul 28 10:54:25 2014 -0400

    Changed local var names in SDL assert macro.
    
    Otherwise, if someone added an assert to a function that has a variable
    named "state", the compiler might warn about shadowing a local.

commit 164de2325e4c00a06e228fd5c9bfa2812d19efac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 27 19:56:53 2014 -0700

    Turned on OmitDefaultLibName for SDL, SDLmain and SDLtest

commit 2230df55259da1567ffb2011c9b41676da15c76a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jul 27 19:52:52 2014 -0400

    Remove dependency on C runtime from Windows SDLmain.

commit a0b68e817d15022d0824e4ac27bda1913d092b06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 27 17:44:10 2014 -0700

    Fixed bug 2537 - _allmul in SDL_lib.c is not working properly

commit 5c6c86912d6bea66391ea7d8683d7ea8d54c2b66
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 27 17:43:36 2014 -0700

    Fixed uninitialized variable in some cases

commit 0e5df60538bffad3c68effb18f5e0a69af8c7335
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 24 22:35:25 2014 -0300

    Fixed SDL_SetWindowFullscreen on iOS causing the window's reported dimensions and supported orientations to go out of sync with what they should be, if the device orientation was different from the screen orientation when the function call was made.

commit 05afbfdf2ca1b32911f694c432adc781a3211551
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 23 22:35:14 2014 -0300

    Integrated Phil Hassey's patch to fix SDL_IsScreenKeyboardShown on iOS (https://bugzilla.libsdl.org/show_bug.cgi?id=2660)

commit 029e0193c56e4e038c2494d6077a9fbd156d8581
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 23 21:55:42 2014 -0300

    Fixed SDL_SetWindowFullscreen on iOS for the last time, hopefully.
    
    Fixed iOS version checking code.

commit ef0490a741ab3a0fd331b8dfb34d1233bce59397
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 23 03:05:31 2014 -0300

    More cleanup of the iOS Objective-C code.

commit 6d552cae385cc42fefa848c7db92ceadb5766ff8
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 23 01:33:59 2014 -0300

    90% of iOS users on the App Store run at least iOS 7, so it doesn't make sense to support building using an SDK that doesn't support iOS 7. The minimum supported runtime version is still iOS 5.1.

commit 967549c9adbc37544fe0d43e3343b225f9d1d602
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 23 01:28:24 2014 -0300

    Updated the iOS Objective-C code to use NSDictionary/NSArray/NSNumber literals and subscripting, for improved code clarity.
    
    This requires at least Xcode 4.5 and the iOS 6 SDK to build, but it doesn't change the minimum supported runtime version (iOS 5.1). Less than 2% of iOS users are running iOS 5, so I hope developers aren't trying to build SDL using an SDK which doesn't support iOS 6/7...

commit f30e120aa9e89e2a3f56e462f0f4d230469739c2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 22 21:41:49 2014 -0400

    Added audio device buffer queueing API.

commit dfc7535ff7e4e975c41619e64ee3f75a80fe308d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 26 16:52:26 2014 -0700

    Fixed bug 2657 - Memory leak in GL_CreateTexture function
    
    Nitz
    
    In GL_CreateTexture function:
    
    if (GL_CheckError("glGenTexures()", renderer) < 0) {
            SDL_free(data);
            return -1;
        }
    
    Here only data is getting free but data->pixels getting leak.
    So have to free data->pixels before free data.

commit 987c3355518a5a7da4f28edc009d6c33c2a703ac
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 22 23:12:21 2014 -0400

    Clarifying hard-to-understand piece of code.

commit 078ca9f0783acac47eac85fbbc71b88e45667f10
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 22 20:06:13 2014 -0300

    Cleaned up iOS OpenGL ES context creation code and added sRGB context support on iOS 7+

commit cf2958a8defbc21fc463ab69309a723cfc47677d
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 22 16:48:35 2014 -0300

    Fixed SDL_SetWindowFullscreen on iOS to properly update the view's frame.

commit e02e34521abd1a42525ee6ea3cf0f95f46efd091
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jul 21 02:46:53 2014 -0300

    The default implementation of [view layoutSubviews] actually does something in iOS 6+, so we should call [super layoutSubviews] when overriding it.

commit 75dacdb99b3846d6087121cc03cefe7e04cd2495
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri Jul 18 14:10:45 2014 -0700

    Dont redeclare DBusMessage* msg;

commit e234575d5443ab5a6557f950289b471b219a1b1e
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 17 22:55:59 2014 -0300

    Disabled the custom iOS splashscreen code - it interferes with the normal rotation and orientation behaviour of SDL windows.

commit d2e445d7bb91b506190e30912cb0079e21042ea5
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Thu Jul 17 18:05:12 2014 -0300

    Properly send a window resize event in all cases when viewDidLayoutSubviews is triggered.

commit b55be6e7bd159620f4d4bc1273b11e5db1aaca21
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 16 21:06:15 2014 -0300

    Fixed SDL_HINT_ORIENTATIONS to properly allow disabling custom orientations if the hint is set with no valid orientations.

commit b21544c1dd6295646e4193b02952e38ef0004bd1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 16 20:05:00 2014 -0300

    The iOS 7 transparent status bar now uses white text rather than black.

commit b4d15ece6d82c6de9026e6d1837aa221231834c7
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Wed Jul 16 16:12:20 2014 -0300

    Fixed SDL_SetWindowFullscreen not properly updating the status bar visibility in iOS 7+

commit c81ce5a0a8ca5b0ee4cecdd1e21730757c565fb1
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 15 02:04:08 2014 -0300

    Minor fix for if SDL_JoystickInit is called more than once without a matching SDL_JoystickQuit.

commit 1506b3b8fb65598dbabc98c9d2dd70e00f82ccee
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Tue Jul 15 02:01:43 2014 -0300

    iOS now respects SDL_HINT_ACCELEROMETER_AS_JOYSTICK.

commit 3672409c518d0b0db6cd99479e35d771361223fd
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jul 14 22:35:48 2014 -0300

    Changed the way retina resolutions are handled in iOS.
    
    Previously, SDL would always expose display modes and window dimensions in terms of pixels, and would add an extra 'fake' display mode on retina screens which would contain the non-retina resolution. Calling SDL_CreateWindow with the dimensions of that fake display mode would not work.
    
    Now, SDL only exposes display modes and window dimensions in terms of points rather than pixels. If the SDL_WINDOW_ALLOW_HIGHDPI flag is passed into SDL_CreateWindow, then any OpenGL contexts created from that window will be sized in pixels rather than points (retrievable with SDL_GL_GetDrawableSize.) Window dimensions and mouse coordinates are still in terms of points rather than pixels even with that flag.
    
    This matches the behavior of SDL in OS X more closely, and lets users choose whether to make use of retina displays and lets them handle it properly.

commit 734b523302a44fc7d63a551c400e404d80305f7c
Author: Alex Szpakowski <slime73@gmail.com>
Date:   Mon Jul 14 16:50:25 2014 -0300

    Misc. iOS code improvements.
    
    - Use @autoreleasepool instead of NSAutoReleasePool.
    
    - Code style fixups.

commit 96b613eab3ef9adf8d897c5221599b28037a68e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 13 09:04:55 2014 -0700

    Fixed bug 2640 - Unable to SDL_SetRenderTarget to original surface for software renderer without a window
    
    Damian Kaczmarek
    
    Basically this bug is probably not a common use case. My goal is to allow rendering totally without a window, for example to a screenshot and I need to rely on SDL_SetRenderTarget to properly work for a purely software renderer created by SDL_CreateSoftwareRenderer.

commit fd1da994fa405549abafdbefdcd0a84262dcf83b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 12 16:21:56 2014 -0700

    Fixed bug 2639 - SDL_BLENDMODE_BLEND not working properly for software renderer, thanks to Melker Narikka

commit d1ca658c45edce78ca3ad43d8b4bcb007a6d4482
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jul 12 13:05:41 2014 -0700

    Fixed bug 2638 - (Signed) Can't create signed apps in Android
    
    Pablo Mayobre
    
    When generating a signed app with SDL 2.0.3 an issue comes up, watching at the Error Log points out that the issue lies in the src/main/android/SDL_android_main.c where the process name is defined as "SDL_app", this name turns into an erroneous name so it should be changed to "app_process"

commit 454c4a019f35653c15dd168f1f3de953a2c3aa6a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 11 22:15:34 2014 -0700

    Fixed Visual Studio 2010 build

commit 6a1011ae6d72bf6d3a5bfd03f85ebe3babf985d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 11 22:14:14 2014 -0700

    Fixed build for arm platforms

commit eb1c6044b2d5b657f9fbffff720c218db35f439f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 11 22:02:50 2014 -0700

    Fixed bug in AVX detection and added AVX2 detection

commit f1ca7bd167d3f28cbdcc29004231d8c1f372a938
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jul 9 01:34:40 2014 -0700

    Clarified the documentation for SDL_FlushEvents() so people know it only affects currently queued events.

commit f7461cdc9a38e54923107ceb2d756cf161eb8404
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 9 00:09:57 2014 -0400

    The Gimp puts out a different bogus color mask for 32-bit .bmp files.  :)

commit a91f1a1adcb9567fbf2be5879e3c8401878d7e0e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jul 9 00:01:34 2014 -0400

    Make SDL_LoadBMP() work with 32-bit bitmaps from ImageMagick.

commit 0e9c0855f5b75f2a3770e4cb051d513d8cdb7b86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jul 8 16:17:06 2014 -0400

    Comment update: SDL_INIT_NOPARACHUTE doesn't do anything as of 2.0.0.

commit 19d878d7115ba82672dd4f1c840961188f79324d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 8 00:42:14 2014 -0700

    Skip JUNK chunks in wave files

commit 35ec0075cf906b2b9a021874839bd2763829f231
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jul 8 00:23:36 2014 -0700

    Strip the binaries before signing them, in release configuration

commit ed30c80c5c3ac1bfbb76fa525343a645ee58d053
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 23:48:21 2014 -0700

    Fixed supporting multiple frameworks

commit 9bd483439e60b26172ba11a88a93670679dcdfcc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 23:40:10 2014 -0700

    Fixed code signing release frameworks

commit 962c9911ce280283546d92d0a5d17539f90bdf3f
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Mon Jul 7 23:33:57 2014 -0700

    Update audio testautomation: more coverage; added SDL_PauseAudio test /w callback coverage

commit d23d9c88e5166ae62f7592c71d7c6a5115666526
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 23:26:34 2014 -0700

    Fixed bug 2421 - SDL_RenderCopyEx off by one when rotating by 90 and -90
    
    chasesan
    
    When using SDL_RenderCopyEx, I get a problem on some platforms where the output is offset by +/-1 on other platforms and not on others. I tried it with a center of both 0,0 (and offsetting by width/height) and NULL (for centered).
    
    The rotation involved is 90, and/or -90 rotation. The rotation was a constant, no arithmetic was involved when inputting it into SDL_RenderCopyEx.
    
    This occurred with 32x32, 24x24, and 16x16 texture sizes. I apologize that I don't have more precise information, as I received the information as a bug report myself. But I have tracked the problem down to here.
    
    My program requires pixel perfect alignment on several different platforms, so this is something of a showstopper for me.
    
    --
    
    Sylvain
    
    It appears the RenderCopyEx is done as expected,
    this is the red rectangle which is not correctly positionned !
    
    So, here's patch with a 0.5 float increment, like for opengles2, for DrawLines, and also Draw Points.

commit ef39d1d1ff70868189856c6d37872d66aa2f5a2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 21:34:04 2014 -0700

    Updated configure after removing pthread spinlock support

commit 8077bf3d1067a52ad3f5dec2f86b8ef99bc811fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 21:27:42 2014 -0700

    Fixed bug 2618 - incomplete pthread-based lock support should be removed
    
    binarycrusader
    
    Since changeset 358696c354a8, SDL 2.0 has been broken on Solaris when compiling with the Solaris Studio compiler (which uses the pthread implementation of SDL_AtomicLock).
    
    Notably, it gets stuck at the MemoryBarrierRelease in SDL_GetErrBuf:
    
    6585 # 218
    6586     if (!tls_errbuf && !tls_being_created) {
    6587          SDL_AtomicLock_REAL ( & tls_lock );
    6588         if (!tls_errbuf) {
    6589             SDL_TLSID slot;
    6590             tls_being_created = SDL_TRUE;
    6591             slot =  SDL_TLSCreate_REAL ( );
    6592             tls_being_created = SDL_FALSE;
    6593              { SDL_SpinLock _tmp = 0 ; SDL_AtomicLock_REAL ( & _tmp ) ; SDL_AtomicUnlock_REAL ( & _tmp ) ; };
    ^^^ loops forever above
    6594             tls_errbuf = slot;
    6595         }
    6596          SDL_AtomicUnlock_REAL ( & tls_lock );
    6597     }
    
    
    Running: testthread
    (process id 28926)
    ^Cdbx: warning: Interrupt ignored but forwarded to child.
    signal INT (Interrupt) in __nanosleep at 0xfe52a875
    0xfe52a875: __nanosleep+0x0015: jae      __nanosleep+0x23   [ 0xfe52a883, .+0xe ]
    Current function is SDL_Delay_REAL
      204           was_error = nanosleep(&tv, &elapsed);
    (dbx) where
      [1] __nanosleep(0xfeffe848, 0xfeffe850, 0xfe75a5ac, 0xfe5169d8), at 0xfe52a875
      [2] nanosleep(0xfeffe848, 0xfeffe850), at 0xfe516a3b
    =>[3] SDL_Delay_REAL(ms = 0), line 204 in "SDL_systimer.c"
      [4] SDL_AtomicLock_REAL(lock = 0xfeffe88c), line 104 in "SDL_spinlock.c"
      [5] SDL_GetErrBuf(), line 225 in "SDL_thread.c"
      [6] SDL_ClearError_REAL(), line 216 in "SDL_error.c"
      [7] SDL_InitSubSystem_REAL(flags = 0), line 116 in "SDL.c"
      [8] SDL_Init_REAL(flags = 0), line 244 in "SDL.c"
      [9] SDL_Init(a = 0), line 89 in "SDL_dynapi_procs.h"
      [10] main(argc = 1, argv = 0xfeffe948), line 65 in "testthread.c"
    
    As far as I can tell, this is because pthread_spin_trylock() always returns EBUSY for this particular lock; since it works in other places, I'm suspicious.
    
    Different Solaris Studio compiler versions seem to make no difference.
    
    I've verified this is broken on Linux as well if SDL_spinlock.c is modified to use the pthread implementation.
    
    This appears to be because pthread_spin_init() and pthread_spin_destroy() are not used with the locks as required.

commit 0c8e33764c5ee1250eae94e1f93c7262398e20dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 21:21:05 2014 -0700

    Fixed bug 2628 - invalidate surface->map in SDL_SurfacePalette()
    
    Wei Mingzhi
    
    surface->map should be invalidated in SDL_SetSurfacePalette(), otherwise the palette would not be effective when blitting to another non-8bit surface which we previously blitted to.

commit 97bdefe2ab5594dd513997d5a2added7e43a60a4
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Mon Jul 7 20:26:21 2014 -0700

    Enable 2 disabled audio tests (since bug 1396 is fixed and they pass now)

commit cd8f63f2805bff4041a29649530edc76a6bc9344
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 13:21:54 2014 -0700

    Hopefully fixed Cygwin build

commit a2d5dd0234b19b230bbf77a82fe0aaed4ae601aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 13:19:53 2014 -0700

    Removed useless assert

commit fc4e798d7986a3e492c340e37fe2080471daaae3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 12:48:25 2014 -0700

    Fixed bug 2631 - Mac: minor code cleanup
    
    Alex Szpakowski
    
    Some minor changes to the Mac-specific backend code:
    
    - Fixed up some code style issues (mostly brace style inconsistencies).
    
    - Fixed a compiler warning in SDL_cocoaevents.m.
    
    - Removed some useless code now that the 10.7 SDK is required to build SDL.
    
    - Removed Gestalt(gestaltSystemVersion, ...) call and switched to NSAppKitVersionNumber for version checking code. Using Gestalt with gestaltSystemVersion will give 0x1090 in Mac OS 10.10+, and the whole Gestalt function was deprecated in Mac OS 10.8.

commit febc47976b516fb9984b7e89d5bb0c5d194dc82a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 11:44:14 2014 -0700

    SDL_SYS_IsXInputGamepad_DeviceIndex() is only available if SDL_JOYSTICK_XINPUT is true.

commit c1d29725a8954db55ada286d8ba7cb537c128828
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 11:13:19 2014 -0700

    Fixed indentation for pnacl configuration

commit 7187b74cf4e6a3b7c605754762a3b5e529b39aac
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 11:00:25 2014 -0700

    Fixed compiler warnings on iOS

commit 017c5dc381c6a580abe3c058946685f53f04b84b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 10:42:19 2014 -0700

    Fixed bug 2626 - iOS: fix test and template Xcode projects and build scripts to link with CoreMotion
    
    Alex Szpakowski
    
    Now that SDL on iOS requires CoreMotion to be linked, some of the Xcode projects included with the SDL source (such as the iOS tests and the iOS app template) as well as the premake and automake scripts need to be updated.
    
    I've attached a patch which does so. It also fixes the SDL Xcode project to build for 64-bit ARM as well as armv7 by default (or whatever the default ARM targets are for the Xcode version used), which is what the iOS app template expects.

commit de1b22e74e7d4d60cbe6d29cd41d9d621732acb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 10:39:02 2014 -0700

    Fixed compiler warning

commit 73cb234b5c8ea0197424fb93f40debdf2d322efa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 10:38:10 2014 -0700

    Fixed compiler warning on Mac OS X

commit c5812c5511fe8f1569c8a1b569c6a0b19be47b32
Author: Shawn Walker <binarycrusader@gmail.com>
Date:   Sat Jul 5 16:11:23 2014 -0700

    2620 solaris port missing atomics if not using gcc

commit d44f392265cdb2562850174be1728cfd6c3142fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 10:33:32 2014 -0700

    Fixed bug 2629 - Mac: crash when calling SDL_DestroyWindow with an active OpenGL context
    
    Alex Szpakowski
    
    Since this commit https://hg.libsdl.org/SDL/rev/59b543340d63 , calling SDL_DestroyWindow will crash the program if the window has an active OpenGL context.
    
    This is because the Cocoa_DestroyWindow code sets the window's driverdata to NULL and then calls [context setWindow:NULL], which tries to access the window's driverdata, resulting in a null pointer dereference.
    
    I have attached a patch which fixes the issue by moving the line which sets the driverdata to NULL to after the lines which call functions that use the driverdata pointer.

commit 1c6cd678193f8fdaa8728a0c75e42d93741ec758
Author: Alex Baines <alex@abaines.me.uk>
Date:   Sun Jul 6 22:15:31 2014 +0100

    Call dbus_shutdown to make valgrind happy.

commit 1ee96bb994ca0d92f0157f1b9d904224240ec17a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jul 7 10:26:28 2014 -0700

    Fixed mingw64 build and warnings

commit ac112e5f09eda43842a5880e391b07ec969eb5c2
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Sun Jul 6 20:41:39 2014 -0700

    Fix option for forced run of disabled tests in test harness

commit 9b1b74e6c0d761dbe9633576910cf53943b68647
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Jul 4 17:20:22 2014 -0700

    Fixed haptic refcount bug (thanks David Ludwig!)

commit cf4ff728a05fb147a16658f74e70e648263f4295
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Jul 4 18:20:23 2014 -0400

    Made the latest XInput + Haptic changes compile and run on WinRT
    
    Notes:
    - Support for the 'Guide' button does not seem to be possible, as
      XInputGetStateEx is not available on WinRT.
    - Haptic support appears to be working on WinRT now!
    - SDL/WinRT does not allow calls to LoadLibrary or LoadLibraryEx.  The calls
      to those were removed by this change, but only when compiling for WinRT.
      Non-WinRT Windows will continue to detect and load XInput via LoadLibrary and
      GetProcAddress calls.

commit b79e7f32cc4e0dcf52ba7580416f97602bd91332
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jul 3 15:39:55 2014 -0700

    Split the XInput and DirectInput code so Windows RT can use the existing XInput support.

commit 5a3c553d0a8153a27c9019dfcc3ab1b531a0b3e1
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jul 3 17:36:08 2014 -0300

    Maybe fixes bug #2291 (red tinted screen on some Samsung Android devices)
    
    Then again, maybe not!

commit 321af03ff95a25af5186542235f45bd346c9c473
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Thu Jul 3 10:22:26 2014 -0700

    add a comment to SDL_InitSubSystem explaining its refcounting behavior

commit 2748e28230d4698bf51b191560e9ac6e5bbc854b
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Thu Jul 3 10:22:12 2014 -0700

    The YUV offset is 16 / 255, not 16 / 256

commit 744d4f02e68772ba67989cf5e0cb82815fc469de
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Mon Jun 30 17:22:08 2014 -0700

    Apply WIN32_LEAN_AND_MEAN redefine fix to SDL_syswm.h too.
    
    This is related to 36ffc47b6033, which fixes bug 2508.

commit 610225b451db0e76bbecfbdcc75b4af465be7ef7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 28 19:51:26 2014 -0700

    Fixed null terminating the X11 error string

commit 765894e3cddfd004fc15ffd76c225a6843dae880
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Jun 28 13:05:16 2014 -0300

    Better fix to support EGL_KHR_create_context and not fail to build on Android
    ...or Raspberry Pi (EGL < 1.4 systems)

commit 9dc2614e7d2df4e5387316f34fa53d0c49a24a83
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Jun 28 12:50:17 2014 -0300

    Another fix to prevent dereferencing a null window pointer in SDL_mouse.c

commit a9bb889864ecceb18e52ce2ace0ac05514354c61
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Jun 28 12:48:29 2014 -0300

    Disable desktop OpenGL for EGL under Android

commit 1ed1f7f2e3c4452abf7e98c5568092bc52ed2365
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Jun 28 12:36:44 2014 -0300

    Fixes #2611 #2610, Touch events cause crash on Android, thanks Alvin & Sylvain
    
    This bug was introduced on this rev: https://hg.libsdl.org/SDL/rev/42f6bd8c8575

commit 02e9f81ebec524d3544ca218d0b168a52cb63039
Author: Knut Andre Tidemann <knut.tidemann@gmail.com>
Date:   Sat Jun 28 12:17:29 2014 -0300

    SDL_egl: allow creation of versioned OpenGL contexts with EGL_KHR_create_context
    
    If the EGL extension EGL_KHR_create_context is available, we can use it to
    set the core/compatability profile and the minimum OpenGL version.
    
    Use this if it is available to get the context requested by the GL attributes.

commit e592b04683b8e119f062051555bdeb376370da5a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 26 12:42:15 2014 -0700

    Fixed compiler warning on Android

commit 82849f0733ce7e6239c52ba2bebad0f0069bd762
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 21:40:56 2014 -0700

    Updated the template project for iOS, thanks to Davide Coppola

commit 3d5f4a690108bffb008b990524275021738aec07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 21:06:47 2014 -0700

    Fixed YUV texture update with a subrect in OpenGL ES 2.0 - thanks Sylvain!

commit 65023e076762f80ddd6f0d8890adea4e7d35df67
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Jun 25 22:38:40 2014 -0400

    WinRT: Fixed game controller axis mappings
    
    SDL/WinRT currently uses a separate XInput backend from SDL/Win32, as WinRT
    has no support for DirectInput.  This change makes SDL/WinRT's XInput
    code snag some recently-changed bits from the Win32-specific,
    DirectInput + XInput backend, in order to get the SDL_GameController API
    working again on WinRT, insofar that axes map to the correct parts.
    
    TODO:
     - test all buttons, making sure WinRT maps buttons the same way that Win32 does
     - consider making the Win32 and WinRT codebases share more stuff, minus
       the sort of duplication happening via this change.  Maybe simulate, or
       stub-out, DirectInput calls when on WinRT?

commit a838a56d45b237888810ca4c76d9345fe98f27f6
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Jun 25 22:03:05 2014 -0400

    WinRT build fix

commit 95864f86d8f17956501f04ec982a15b79f22af44
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 25 17:24:06 2014 -0400

    Patched to compile on Windows.

commit 4318910e02e4b737d841c21a3415b715981d9dcf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 25 17:20:22 2014 -0400

    Whoops, lost this in the merge.

commit 84cb23206784697bdf0346464fa917bf8d84a905
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 25 17:13:43 2014 -0400

    Patched to compile with -Werror=declaration-after-statement

commit b29740b88fae87b8b4e9bb2f395f7ea6f925e0d7
Merge: 843695671 704d9bd30
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 25 17:06:12 2014 -0400

    Merged Ryan's SDL-gui-backend branch.
    
    Adds three APIs, and implements them on X11, Cocoa, and Windows:
    
    - SDL_CaptureMouse()
    - SDL_GetGlobalMouseState()
    - SDL_SetWindowHitTest()

commit 8436956711fcee834b0c5b673568332745f525d4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 25 16:16:55 2014 -0400

    Changed SDL_GetAbsoluteMouseState() to SDL_GetGlobalMouseState().
    
    This matches naming conventions in the main repository, between
     SDL_GetRelativeMouseState() and SDL_WarpMouseGlobal().

commit 704d9bd30d31f4b918313f193e0119c99b462347
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 02:08:37 2014 -0700

    Fixed bug 2525 - Keyboard focus crash
    
    Todd Seiler
    
    Call Stack:
    #0  0x0000000101c29291 in Cocoa_StartTextInput at /Users/Todd/Desktop/codes/sources/SDL/src/video/cocoa/SDL_cocoakeyboard.m:512
    #1  0x0000000101c110c5 in SDL_SetKeyboardFocus at /Users/Todd/Desktop/codes/sources/SDL/src/events/SDL_keyboard.c:643
    #2  0x0000000101c32be4 in SetupWindowData at /Users/Todd/Desktop/codes/sources/SDL/src/video/cocoa/SDL_cocoawindow.m:981
    #3  0x0000000101c32d2a in Cocoa_CreateWindowFrom at /Users/Todd/Desktop/codes/sources/SDL/src/video/cocoa/SDL_cocoawindow.m:1092
    #4  0x0000000101c99999 in SDL_CreateWindowFrom_REAL at /Users/Todd/Desktop/codes/sources/SDL/src/video/SDL_video.c:1338
    #5  0x0000000101ce1484 in SDL_CreateWindowFrom at /Users/Todd/Desktop/codes/sources/SDL/src/dynapi/SDL_dynapi_procs.h:547
    #6  0x0000000100018a5e in SceneRenderer at /Users/Todd/Desktop/codes/sources/tseiler_Todds-MacBook-Pro_3405/AppName/src/SceneRenderer.cpp:138
    #7  0x0000000100017ca5 in SceneRenderer at /Users/Todd/Desktop/codes/sources/tseiler_Todds-MacBook-Pro_3405/AppName/src/SceneRenderer.cpp:145
    #8  0x000000010000cd96 in App::execute(int, char**) at /Users/Todd/Desktop/codes/sources/tseiler_Todds-MacBook-Pro_3405/AppName/src/App.cpp:28
    #9  0x0000000100004402 in main at /Users/Todd/Desktop/codes/sources/tseiler_Todds-MacBook-Pro_3405/AppName/src/main.cpp:8
    
    
    This issue occurred when using Ogre3D Graphics engine on Mac (cocoa) to create the window. Then handing the window handle off to SDL_CreateWindowFrom().
    
    In Ogre3D application you do the following:
            window_ = root_->initialise(true, "Ogre Window 2");
            loadOgreResources();
            Ogre::WindowEventUtilities::addWindowEventListener(window_, this);
    
    #if OGRE_PLATFORM == OGRE_PLATFORM_APPLE
            NSWindow* Data = 0;
            window_->getCustomAttribute("WINDOW", &Data);
            sdl_window_ = SDL_CreateWindowFrom((void*)Data);
    #endif
    
    It results in a crash in this function:
    SDL_cocoakeyboard.m
    
    void
    Cocoa_StartTextInput(_THIS)
    {
        SDL_VideoData *data = (SDL_VideoData *) _this->driverdata;
        NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
        SDL_Window *window = SDL_GetKeyboardFocus();
        NSWindow *nswindow = nil;
        if (window)
            nswindow = ((SDL_WindowData*)window->driverdata)->nswindow;
    
        // ...
    }
    
    The crash occurred because "driverdata" was nil. Before this function call, a call to SetupWindowData is called:
    
    SDL_cocoawindow.m
    
    static int
    SetupWindowData(_THIS, SDL_Window * window, NSWindow *nswindow, SDL_bool created)
    {
        // ...
    
        if ([nswindow isKeyWindow]) {
            window->flags |= SDL_WINDOW_INPUT_FOCUS;
            SDL_SetKeyboardFocus(data->window);
        }
    
        /* Prevents the window's "window device" from being destroyed when it is
         * hidden. See http://www.mikeash.com/pyblog/nsopenglcontext-and-one-shot.html
         */
        [nswindow setOneShot:NO];
    
        /* All done! */
        [pool release];
        window->driverdata = data;
        return 0;
    }
    
    As you can see: "window->driverdata = data" is performed after the "SDL_SetKeyboardFocus()" call, which eventually leads to "Cocoa_StartTextInput()" where the crash occurs.

commit 724d9380ba1efd723e1d760758b9257e38a66638
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 01:43:58 2014 -0700

    Fixed compiler warning - HRESULT is set to FFERR_* values, but is an int

commit a8955f26405b9957074f4b9193068a261cb174d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 01:35:17 2014 -0700

    Made the RLE code (semi) readable again

commit b4deeeba05e086c14c760639edf18d2f578c12bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 00:58:40 2014 -0700

    Fixed bug 2595 - Padded, non-contiguous YUV does not display correctly using OpenGL ES 2.0 renderer
    
    Sylvain
    
    Ok, I found out : GLES2_UpdateTexture is just not handling the YUV, I will attach a patch.

commit afe14829b8aa8d3a159c5ab85f8c07b9121a5fc1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 00:43:10 2014 -0700

    Fixed bug 2556 - add compilation flag -Wshadow
    
    Sylvain
    
    here's the full patch for Blit + RLE.

commit 6a632eb23c16592ef4a2dcc8230cbb0e4b724cd7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 25 00:20:21 2014 -0700

    Fixed bug 2603 - iOS: update joystick accelerometer code to use CoreMotion instead of the deprecated UIAccelerometer
    
    Alex Szpakowski
    
    SDL's code for exposing the accelerometer as a joystick on iOS currently uses UIAccelerometer, which was superseded by the CoreMotion framework and deprecated since iOS 5.
    
    The UIAccelerometer code still works (for now), but it also throws deprecation warnings whenever SDL is built for iOS, since SDL's deployment target is no longer below iOS 5.
    
    I've created a patch which replaces the old UIAccelerometer code with a replacement based on the CoreMotion framework. It has identical functionality (to SDL users), however iOS apps are now required to link to the CoreMotion framework when using SDL.

commit 52ec151fb00f498851f18edbeafb7b095b7a9a69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 24 13:31:25 2014 -0700

    Fixed bug 2553 - Add support to all XInput devices
    
    This adds support for all XInput devices, exposed through the SDL joystick API.
    The button and axis reporting for XInput devices has been changed to match DirectInput and other platforms.
    The game controller xinput mapping has been updated so this change is seamless.
    There is a new hint, SDL_HINT_XINPUT_USE_OLD_JOYSTICK_MAPPING, for any applications that have hardcoded the old xinput button and axis set. This hint will be removed in SDL 2.1.

commit cbafb158b0c168a98fdacbf54c8a483e255ab3ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Jun 24 01:38:21 2014 -0700

    Fixed bug 2467 - bad memcpy in SDL_OpenAudio/open_audio_device/prepare_audiospec chain
    
    Rainer Deyke
    
    If 'SDL_OpenAudio' is called with 'obtained == NULL', 'prepare_audiospec' performs a bad 'memcpy' with the destination and source pointing to the same block of memory.  The problem appears to be on in 'SDL_OpenAudio', which calls open_audio_device with 'obtained = desired' when 'obtained == NULL'.  'open_audio_device' cannot deal with 'desired' and 'obtained' pointing to the same block of memory but can deal with 'obtained == NULL'

commit 3344db40ffb2ef201973a0c7214072b8f7bfabc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 23 11:06:50 2014 -0700

    Don't redefine standard macros, use SDL specific macros instead to avoid compiler warnings

commit 67e55655a3a7c5312a6f20356e6bfe2b6bd61c6e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 23 10:09:15 2014 -0700

    Fixed grab interaction with Windows Classic theme
    
    Testing:
    * For each theme in Windows 7, Windows 7 Basic, and Windows 7 Classic:
    - Ran testsprite2
    - Pressed Ctrl-G to grab the mouse
    - Alt-tabbed away, verified mouse is no longer grabbed
    - Alt-tabbed back, verified that mouse was grabbed
    - Alt-tabbed away
    - Clicked in the window, verified mouse was grabbed
    - Alt-tabbed away
    - Grabbed the title bar and dragged the window around successfully, verified that mouse was grabbed when move modal loop completed
    - Alt-tabbed away
    - Clicked the minimize button on the title bar, the window was successfully minimized
    - Clicked on the icon in the task bar, the window was restored and the mouse grabbed again
    - Alt-tabbed away
    - Clicked the close button on the title bar, the window was successfully closed

commit 9e2a2639f8f432cde82c353edc9b60fa227f82a3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 23 10:09:13 2014 -0700

    Added names for some theme related windows messages

commit e63e1a5e64ee32c0437a941e73eccdb927f1c1fc
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jun 23 09:25:27 2014 -0300

    Fixes OpenGL ES 2 renderer (Thanks Sylvain Becker)

commit 620510b3373da7bfc35bd12247f05057bb103665
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jun 23 09:18:31 2014 -0300

    Fix compiler warning

commit 553028c9ec0c5e98bd163b33b2d53f09084b01ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 11:02:56 2014 -0700

    Partial fix for bug 2556 - add compilation flag -Wshadow
    
    I added -Wshadow and then turned it off again because of massive variable shadowing in the blit macros.
    
    Feel free to go through that code and fix these if you want. Just uncomment CheckWarnShadow in configure.in if you want to try this.

commit 9f5e3ed7e7f312bf7596894715549b3c4e5dd15c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 10:05:59 2014 -0700

    Fixed bug 1673 - BEXT wave files only have extra metadata that you can easily skip through
    
    bill
    
    In SDL_wave.c, BEXT wave files with "bext" instead of "fmt " are choked on
    
        if (chunk.magic != FMT) {
            SDL_SetError("Complex WAVE files not supported");
            was_error = 1;
            goto done;
        }
    
    BEXT files http://en.wikipedia.org/wiki/Broadcast_Wave_Format actually playback the same as regular waves.  All they have is (A LOT OF) extra header info.
    
    To open them, just SKIP the "bext" chunk, and the "fmt " chunk will be a couple of hundred bytes later.
    
    The "fmt " chunk is also bloated, but if you skip past the extra information to the "data" chunk, there is nothing different about a BEXT wave file than a "normal" one.
    
    You can then load the data and proceed as normal.

commit cff9eac637a600034077271f9342072e44c36716
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 09:48:46 2014 -0700

    Fixed bug 2579 - SDL fails to compile on Windows when only EGL+OpenGL ES defined
    
    callow.mark
    
    Compiling with SDL_VIDEO_RENDER_OGL=0, SDL_VIDEO_OPENGL=0, SDL_VIDEO_OPENGL_WGL=0, SDL_VIDEO_RENDER_OGL_ES2=1, SDL_VIDEO_OPENGL_ES2=1 and SDL_VIDEO_OPENGL_EGL=1 set in SDL_config_windows.h fails.
    
    A patch is attached. See bug #2570 for reasons you might want to compile this way.

commit 1b3d4e6d0ec0e2e19d24a8a8895161a9c4dac22c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 09:42:43 2014 -0700

    565 textures have higher priority than 555 textures

commit d65ac7785f50634686989f6147f2e111aa69162f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 02:48:43 2014 -0700

    Restore window OpenGL state if creating an OpenGL renderer fails

commit b7b6d8ab7a6f2c3231a647a34e9dcc048eee8604
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 22 02:30:36 2014 -0700

    Fixed crash initializing OpenGL ES renderer if OpenGL renderer fails

commit 5df11f8aa1fca1d0081c9f538b96361f2c8a6201
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 21:46:42 2014 -0700

    Made SDL_PIXELFORMAT_ARGB8888 the default texture format for consistency across renderer implementations.

commit 7b7828a46ee4e313a3fb57ad51cd19f3d2909219
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 21:30:49 2014 -0700

    You shouldn't get axis and hat events when your application doesn't have focus (unless you use the SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS hint)

commit f8b75b1a14bd3e3b9279b10711e6b7dfac3d235b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 20:40:00 2014 -0700

    Fixed bug 2562 - SDL_hapticlist/_tail not set correctly
    
    Zachary L
    
    SDL_hapticlist and SDL_hapticlist_tail are not set correctly when quitting the subsystem. This matters because they are represented as global variables. In the case you quit and reinitialize the subsystems, problems with dangling pointers arise.
    
    For instance, SDL_hapticlist_tail will not be null on second initialization and because of the check on line 298, it will fail to set SDL_hapticlist appropriately. This can cause a few things to go wrong, like feeding SDL_strcmp a null fname which can cause a segfault.

commit e8d84fbfaac14774fe7973d50535dec4e2b97514
Merge: f448815e8 25313c3bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 20:35:36 2014 -0700

    Merged changes from Alexey Petruchik to support Android obb files
    http://developer.android.com/google/play/expansion-files.html

commit f448815e826b528e4db125f7c81cac57d600bece
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 17:31:36 2014 -0700

    Added libibus-1.0-dev build dependency

commit b56b37cde66dea02df30938e82100f09c40e5cd0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 17:25:59 2014 -0700

    Fixed warning when building without ibus

commit fe63e00be972c7ea54988743a2c4e625bce61ba0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 12:50:03 2014 -0700

    Generated configure from recent configure.in changes (for ibus support)

commit 62bdecc80c5e653d204b4c9d921819c35664e3c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 12:45:54 2014 -0700

    Fixed compiler warning with new OpenGL ES header files

commit d7924c73d6b0e4967bd6b5d14c0008b4cb549f2c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 12:43:57 2014 -0700

    Fixed bug 2563 - Remove obsolete code for supporting iOS < 5
    
    Alex Szpakowski
    
    Now that SDL for iOS requires at least iOS 5.1 at runtime, there are several old codepaths in the UIKit backend which can be removed. I've attached a patch which does so.

commit e8f8e6727ac273041588d75dc4158a3df164dc56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 12:38:46 2014 -0700

    Fixed bug 2595 - Padded, non-contiguous YUV does not display correctly using OpenGL ES 2.0 renderer
    
    Alvin
    
    The new OpenGL ES 2.0 YUV Texture support does not correctly display padded, non-contiguous YUV data.
    
    I am using SDL2 95bd3d33482e (as provided by 'hg id --id') from Mercurial.
    
    The YUV data I am using is provided by the FFMPEG family of libraries. According to FFMPEG's documentation, "The linesize [pitch] may be larger than the size of usable data -- there may be extra padding present for performance reasons."
    
    The dimensions of the video file that I am using are 480x360. What I get from FFMPEG is a Ypitch of 512, and Upitch and Vpitch are both 256.
    
    When I pack new Y, U and V buffers with only the "usable" data (Ypitch is 480 and Upitch and Vpitch are both 240), and use those new buffers, the image is display correctly.
    
    It appears that the Ypitch, Upitch and Vpitch parameters are not being used by SDL_UpdateYUVTexture().
    
    I use SDL_PIXELFORMAT_YV12 for my YUV texture, however, the same results are seen when I use SDL_PIXELFORMAT_IYUV.
    
    Not sure if this is related or not, but when I render the YUV texture (padded and unpadded) to a RGB24 texture, the resulting image is greyscale (or could by just the Y channel).
    
    The URL field for this bug entry is set to my email (SDL mailing list archive) which includes an example image of what I see when rendering padded, non-contiguous YUV data.

commit 41a39837ca13a989ed7196baea36fd5a7cec7e74
Author: Alex Baines <alex@abaines.me.uk>
Date:   Wed Jun 18 20:11:39 2014 +0100

    Add IBus IME Support, move DBus code to its own file. (v3.3 squashed)

commit 0d673844acfc436577759636e76441baaa030ca7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:52:53 2014 -0700

    Fixed bug 2596 - SDL_SetError fails on on NULL on systems with vsnprintf
    
    sfalexrog
    
    On systems with vsnprintf call SDL_SetError fails when passed a NULL as an argument. SDL's implementation checks for NULL (as seen in the commit: https://hg.libsdl.org/SDL/rev/835403a6aec8), but system implementation may crash.

commit 6c0a7b99fab30c38433508e289ef6f21cac96bcb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:50:18 2014 -0700

    Added NaCl to the supported platforms list

commit 80e401ab08668ac9653543b0267961d9e2f49145
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:48:12 2014 -0700

    Added NaCl to SDL_GetPlatform()

commit 640e0415ae20466c3a9d0005cc53e71b70994a61
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:42:46 2014 -0700

    Added OpenGL ES headers to public headers

commit 8ef5651185f12ae73ecf84ed67c0d7d89f057c58
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:36:00 2014 -0700

    Fixed compiler warning

commit ce84813a80287aa9a0b0a1128cd86e5c86d8f8d3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:24:06 2014 -0700

    commit 9e211e646f9d51dc1372c9f3c8f47a78caf4f2a5
    Author: Sam Clegg <sbc@chromium.org>
    Date:   Fri Jun 20 12:52:11 2014
    
        Fix win32 build which was failing due to missing PRIs64.
    
        This change adds definitions for the C99 PRIs16 and PRIu64
        which are missing from <stdint.h> on at last win32 and
        possibly other platforms.
    
        These already existed in testgesture.c so I removed them
        from there also.

commit 61fea2a807d13301d8cdeed35ebb5d09c31ad2b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 21 11:16:26 2014 -0700

    Removed references to Raspberry Pi

commit 879805260a78750df21449c277816503ae1d43a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 20 22:38:36 2014 -0400

    Added script for buildbot to use on NaCl target.

commit 3b217eefd7a4a8553c1ff9707236f4cd77e128d3
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jun 20 11:50:31 2014 -0300

    Fix another NaCl warning

commit 7e52722dfd03ab3fb706c983fb0d7ea1e3984e66
Author: Sam Clegg <sbc@chromium.org>
Date:   Fri Jun 20 11:10:16 2014 -0300

    Fix compiler warnings in Native Client and Linux builds.

commit 6c5cb5400f2ccd3395038f6942634739a14c9672
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jun 20 11:01:05 2014 -0300

    Ooops, code that resists erasure, I've seen that in a movie.

commit 553cc07e9d663bebc0479b391776f07f7978b7ba
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jun 20 10:59:51 2014 -0300

    Initialize nacl_io, removes SDL_NaClMount/Umount
    
    It's just easier to use nacl_io's mount/umount directly.

commit 199aff7bc2c70504990beaddda4816089c6b7f06
Author: Sam Clegg <sbc@chromium.org>
Date:   Thu Jun 19 00:40:09 2014 -0400

    Make autoconf-based build quiet by default.
    
    Add V=1 to the make command line will show the full commands but by default
    we just show the tool-type and the output file.  This is generally much easier
    on the eye and makes warnings and errors more clearly visible.

commit 715a9829b94224533cdc73676c0fa1d2590f458b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Jun 18 10:04:21 2014 -0300

    Fix file name typo, thanks Sam Clegg!

commit 2334aa86b152ed6f7b18407c516cb1c1988b44f2
Author: Wander Lairson Costa <wander.lairson@gmail.com>
Date:   Mon Jun 16 10:58:09 2014 -0300

    Add suport for "make uninstall" to cmake.

commit ab238dc6e4496f1d25bc008ef695ac49ee53ecd8
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jun 16 09:54:33 2014 -0300

    Assorted fixes for NaCl. Hat tip to Sylvain Becker

commit 9e55ace81804c92102f0ff4ee364d2c04338cff8
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jun 16 09:47:23 2014 -0300

    Fixes #2583, clean up EGL initialization

commit 047c19ce7622678e17b8b80fb723ed66595e9af7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 19:32:39 2014 -0700

    Fixed bug 2558 - Missing FINGERUP in Android
    
    Sylvain
    
    If you play with the TouchScreen with +3 fingers randomly / pressing simultaneously all fingers.
    
    You triggers FINGER DOWN events, but not always all the associated FINGER UP events.
    
    So, after a while SDL_GetNumFingers() can report a wrong number of fingers pressed !
    
    
    The explanation is hidden there : http://developer.android.com/reference/android/view/MotionEvent.html
    
    Each pointer has a unique id that is assigned when it first goes down (indicated by ACTION_DOWN or ACTION_POINTER_DOWN).
    A pointer id remains valid until the pointer eventually goes up (indicated by ACTION_UP or ACTION_POINTER_UP) or when the gesture is canceled (indicated by ACTION_CANCEL).
    
    in ACTION_CANCEL :
    
    The current gesture has been aborted. You will not receive any more points in it. You should treat this as an up event, but not perform any action that you normally would.
    Constant Value: 3 (0x00000003)

commit 260549d1ca8f6ad6ca9c7ead3369b3cbcecd2005
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 18:31:30 2014 -0700

    Fixed bug 2567 - x11: Local dropped files are not URI-decoded
    
    Melker Narikka
    
    Local files that are dropped onto a window under X11
    are not going through a URI decoding step, resulting in the following
    in my test application:
    
    Dropped file /home/meklu/Pictures/Screenshot%20from%202013-10-30%2014:04:50.png
    Couldn't load /home/meklu/Pictures/Screenshot%20from%202013-10-30%2014:04:50.png
    
    Expected result:
    
    Dropped file /home/meklu/Pictures/Screenshot from 2013-10-30 14:04:50.png
    Loaded /home/meklu/Pictures/Screenshot from 2013-10-30 14:04:50.png successfully
    
    I've attached a patch that fixes the issue by doing URI decoding in-place on
    the file string buffer.

commit af50403e5084ebbeaedad09771e57b11d2a47734
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 18:09:39 2014 -0700

    Fixed bug 2575 - Current GL context tracking fails
    
    Ronie Salgado
    
    The GL Renderer current context tracking fails when one window is used with an SDL renderer but another separate window is used with a user handled OpenGL context.
    
    Attached is a small program that reproduces this bug, at least in some Linux machines where an OpenGL renderer is provided by default.
    
    Expected Output:
    -"First window" should be blue.
    -"Second window" should be green.
    
    Gotten Output:
    - "First window" black.
    - "Second window" blue.
    
    What happened:
    The renderer created for the "first window" ends rendering into the "second window" OpenGL context.
    
    Bug location:
    
    SDL_render_gl.c - line 286 on hg:
    static SDL_GLContext SDL_CurrentContext = NULL;
    
    When making SDL_GL_MakeCurrent from the user perspective, that variable or the GL renderer is not notified about the OpenGL context change.
    
    Solution proposal:
    - Move the current GL context cache into another place global.

commit 175b343ee6d47294e035145d98539ef89cb29490
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 17:37:35 2014 -0700

    Fixed bug 2568 - NO_SDL_GLEXT should prevent OS glext.h as well
    
    J?rgen Tjern?
    
    If you #define NO_SDL_GLEXT before including SDL_opengl.h, it still includes the platform-provided glext.h. The comments indicate that this define is intended to be used when you provide your own glext.h (quote from SDL_opengl.h: "Define this if you have your own version of glext.h and want to disable the version included in SDL_opengl.h.")
    
    This is a problem because glext.h depends on the contents of gl.h, and it's practical to let SDL_opengl.h pick the right #include for gl.h for our platform.

commit 2a082c07f61ffabff804261192b00ce5c0a4f06b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 17:26:30 2014 -0700

    Fixed bug 2580 - sndio backend improvements
    
    Brad Smith
    
    Attached is patch from the OpenBSD ports tree to add 24-bit support to the sndio backend and to make use of the sio_open() option SIO_DEVANY.

commit 6146fe85cc7bc43bcf4883216411f7de7d4eccbc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 17:18:05 2014 -0700

    Fixed 2584 - Memory leak in Cocoa_GetDisplayName
    
    Diego
    
    The Xcode Instruments Leak tool reports a leak from IODisplayCreateInfoDictionary in Cocoa_GetDisplayName.
    This happened after upgrading to Xcode 5.

commit 54771080f31a154dc89fb1995471006321c45320
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 13:05:30 2014 -0700

    Add controller mapping for Bluetooth DualShock 4 controllers on Linux
    
    Frank Praznik
    
    Add a gamepad mapping entry for Bluetooth DualShock 4 controllers on Linux.
    The button mapping is the same as the USB controller, but the GUID is
    different.

commit b9d1f9edd8d1fccb9bd6dcf3b229369f4dd3f708
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 13:01:10 2014 -0700

    Fixed Android error on static lib build, if relative NDK_MODULE_PATH used
    
    Stefan P?schel
    
    if the variable NDK_MODULE_PATH is set to a relative path (like "../"),
    compiling of a static SDL lib fails with an error similar to this:
    make: *** No rule to make target
    `..//android_libs/SDL/..//android_libs/SDL/src/main/android/SDL_android_main.c',
    needed by
    `obj/local/armeabi/objs/SDL2_static/__//android_libs/SDL/src/main/android/SDL_android_main.o'.
     Stop.
    
    Regarding the shared lib, this is already prevented by a "subst" command
    in the /Android.mk, which removes all occurences of "$(LOCAL_PATH)/".
    The attached patch does the same with the additional
    "SDL_android_main.c", which is included for build the static SDL lib.

commit ab4f1aaae3c5eb5cd9de94fa839ae9cf2f04ad1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 15 10:42:28 2014 -0700

    Fixed Visual Studio 2008 projects
    Added missing files to SDL2 project
    Added missing Visual Studio 2008 tests to the solution
    Added output paths which match the 2010+ projects
    Added SDL project references instead of old style project dependencies
    Removed post-build copy step and added data files to projects

commit 39bad809c3940acf3baa31bef5449d7bf467e9d2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 15 11:59:16 2014 -0400

    Mac: Fixed crash when returning from a fullscreen Space on shutdown.

commit 70cebc7d436f6006ade8f3d79985d4520a81851d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Jun 15 01:19:01 2014 -0400

    Add coreaudio to the configure script's summary output.

commit 446d19c4de2dff6fd941239a41c360c25a6ae1bf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Jun 14 23:31:23 2014 -0400

    Removed SDL_SYS_JoystickNeedsPolling().
    
    It was simpler to just have the polling (actually: hotplug detection)
     functions return immediately if it's not an appropriate time to poll.
    
    Note that previously, if any joystick/controller was opened, we would poll
     every time anyhow, skipping this function.

commit 9e5504f89d8a42b9d2ed78e8a86734053840cb9b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Jun 13 14:52:26 2014 -0400

    Mac: Run the CFRunLoop in joystick mode during SDL_SYS_JoystickNeedsPolling().
    
    This fixes hotplugging failing to detect devices.

commit 8c2c744ad59bc4c138d9a9ed85db22a5ad525e10
Author: Alfred Reynolds <alfred@valvesoftware.com>
Date:   Fri Jun 13 10:50:24 2014 -0700

    - fixed crash if you removed a device twice, the deviceRef is invalid if removed from the removed device callback (added in http://hg.libsdl.org/SDL/rev/d4e4d0fcda03 ).

commit 2cce7b2ed3a46abd16a059ca3af0882536956416
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 11 00:40:19 2014 -0400

    Implemented Cocoa GetAbsoluteMouseState().

commit 4676705de00931379120f40c0a1271c5805da80f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 11 00:12:19 2014 -0400

    Implement Windows GetAbsoluteMouseState().

commit c8c55a01f48092e9d94400911044fd9227cdd46a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jun 11 00:12:06 2014 -0400

    This should probably query async button state.

commit 8719a7653565443772b26c9e68025bc3a72d45f1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 10 19:39:33 2014 -0400

    Regenerated SDL_audiotypecvt.c with updated perl script.

commit 91b7fb00d0462b4277ad4a527e4764f6cb617c39
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jun 10 19:37:59 2014 -0400

    Fix audio resampling in some cases.
    
    Fixes Bugzilla #2389.

commit 78d40e09017c0b80e14eabeb7a289b0073f56404
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jun 9 17:37:59 2014 +0200

    Fixed nesting of HTML elements in documentation.
    
    The code element may only contain inline but the pre element is block.

commit f4df5425807e8bd085e67103fcc52f8962330bdf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jun 9 17:28:08 2014 +0200

    Fixed typos in documentation.

commit ea93820e1f6185650659fe7ef51e2907df805d2f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Jun 9 17:25:03 2014 +0200

    Fixed format string faults in audio tests.
    
    They were found by the recent code annotations.

commit 7467e30b833415154f2dcfa6743aabd105d1491d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Jun 8 18:50:40 2014 -0300

    Forgot a piece of README-nacl.txt

commit efa2d0581d0e6de9b6e61700083e7b6d7263580a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Jun 8 18:18:13 2014 -0300

    Fixes audio for Native Client, and other fixes...
    
    - SDL_NaClMount, SDL_NaClUmount
    - Default mounting of https at / in SDL's main function
    - More documentation in README-nacl.txt

commit 5ae12b46b54306d3e5fbb78f9fca042dbec2d0b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 8 12:05:17 2014 -0700

    The NaCL mount/unmount functions need to be in SDL_system.h and specific to NaCL

commit be74705f820babfba60ef592a73c51c0475f2657
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 8 12:00:29 2014 -0700

    Visual Studio 2013 Express Edition can load the standard solution, so we don't need special Express Edition solutions.

commit d639d031cfda6ac27010c31cba3928a72339e3dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jun 8 11:59:36 2014 -0700

    Ignore Visual Studio test data files

commit ef3887ecfceb08f826dc7dc8d841164aaaedd9bf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 8 13:14:20 2014 +0200

    Changed two Java nested classes into static nested classes.
    
    Both do not need an implicitly created reference to enclosing class.

commit d2220917e0f9bbbb12ec07876c07d0c259dc1dae
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 8 13:03:45 2014 +0200

    Fixed typo in log message.

commit 2b95c4c40bb8ec3a671130d1fac7eadb9379eccb
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 8 13:01:04 2014 +0200

    Fixed doxygen comment in header.

commit 0ad1dc18755419b69edadb9d55870cc092351112
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jun 8 12:51:02 2014 +0200

    Fixed typo in source comment.

commit 85cae4783bc8038da20dc8fa7776309a31552dc5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 21:58:18 2014 -0700

    Updated projects for Visual Studio 2010, 2012 and 2013
    * Test programs use project references instead of hard-coding SDL library dependencies
    * Test data files are copied only when needed.
    * Copying SDL2.dll is no longer necessary
    * Fixed /SAFESEH warning
    * Fixed attempted rebuild of SDL every time a test program is run

commit 47e0aa0e6afe83154181db77cd88193ab5259a86
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 20:43:12 2014 -0700

    Fixed building on command line Mac OS X

commit cde32ccc83ee15bd0e21b0b712497dab80dcf50f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 18:20:25 2014 -0700

    Fixed compile warnings

commit 6101e4b20e9a2c9f01e7b07d0f189478e94c818b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 18:20:01 2014 -0700

    Added SDL_sqrtf(), SDL_tan(), SDL_tanf()

commit 40538446d903c521ae23d41327b2cc6ce708bb06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 17:31:50 2014 -0700

    Fixed crash with SDL_SetError(NULL)

commit 0ddd252fdd738f39d987ba58e14307a482cda684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 17:25:56 2014 -0700

    Fixed initializing test event queue

commit 5907cfaadf3141eea84740a62f53386d99052efb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 17:25:35 2014 -0700

    Fixed another loopwave crash with no command line arguments

commit a93474a2e51b42c3df7c983d6c9921aeaedafc6d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 17:09:32 2014 -0700

    Fixed loopwave crash with no command line arguments

commit 9fb2cc10c098566b3ecf89d9579f7f6d779a697f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jun 7 11:36:08 2014 -0700

    dront78 implemented YUV texture support for OpenGL ES 2.0

commit 93aabd322488d4383467bc436fde2c1ddc76844c
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jun 6 18:33:17 2014 -0300

    Adds missing Makefile for NACL test and a couple of smaller fixes

commit 1e352d7929be2cec7976139d449c9b3e53252abc
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jun 6 15:45:59 2014 -0300

    Chrome's Native Client backend implementation

commit 04a0836b1aefa200c2a62a347236905175e52eba
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Jun 5 15:37:33 2014 -0700

    Turns out visualstudio does not like PRIu64, soo lets just cast it to llu.

commit 1f716769062093a30caea607cf1876de6e3527d3
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Jun 5 15:29:23 2014 -0700

    Fix warnings, only major one being an SDL_SetError not providing enough arguments.

commit 6671aa2a08f3efc7cf0380f07e2727228adae282
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 5 09:49:45 2014 -0700

    Code analysis annotations found a legitimate bug!

commit d0146cfcc0c283984f0897d960abd44647a92c80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jun 5 09:27:06 2014 -0700

    Added missing headers that should be installed.

commit 4f7329a1272c686a1bf08dcc953053809e328f71
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 11:04:07 2014 -0400

    Don't link directly against OpenGL.framework on Mac OS X.
    
    We dlopen() it as appropriate already.

commit eff61ee39d290127d1d3ac3d3d9f5491bf6b8f05
Author: Wander Lairson Costa <wander.lairson@gmail.com>
Date:   Thu Jun 5 11:55:37 2014 -0300

    Add an entry for X11 "/" key for Brazilian keyboard.
    
    SDL2 reports the following message when we type the "/" on br-abnt2 keyboards:
    
    The key you just pressed is not recognized by SDL. \
    To help get this fixed, please report this to the SDL mailing list \
    <sdl@libsdl.org> X11 KeyCode 97 (89), X11 KeySym 0x2F (slash).
    
    That's because the corresponding entry in the scancodes table is
    marked with value SDL_SCANCODE_UNKNOWN.
    
    This commit fixes that adding the value SDL_SCANCODE_SLASH for this entry.

commit 75a3ad1d4907aad1b1a4254cb5ab5f80a9767f03
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Apr 22 20:25:19 2015 -0400

    CMake: Slightly better fix for installation target (thanks, Anthony!).
    
    Fixes Bugzilla #2474.

commit 034933d712cc2f0c473e4efd314852b9840f4f3a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Apr 22 21:43:22 2015 +0200

    Fixed typos in header file documentation comments.

commit 71c65b15691bccee087c1ac923c23a6a09c9bf78
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Apr 20 20:03:40 2015 +0200

    Fixed SDL_GameControllerOpen() and SDL_JoystickOpen() documentation in header.

commit 83c088a04afede105bbd0e832cf1599f20a11095
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Apr 20 20:03:26 2015 +0200

    Fixed unsupported doxygen tag in header file.

commit 69f6f646a2f81bc5d48ced356934fe33b004b528
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 20 13:43:24 2015 -0400

    Cleaned up the macro salsa in the Windows timer code.
    
    - Removed USE_GETTICKCOUNT code; it's never used now.
    - Reduced the number of preprocessor checks for WinRT.
    - Renamed timeSetPeriod() so it doesn't look like a Win32 API call.

commit b72938c861312ed6151128a7f4cf077ff1720251
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Apr 20 12:22:44 2015 -0400

    Windows: Always set the system timer resolution to 1ms by default.
    
    An existing hint lets apps that don't need the timer resolution changed avoid
    this, to save battery, etc, but this fixes several problems in timing, audio
    callbacks not firing fast enough, etc.
    
    Fixes Bugzilla #2944.

commit c294130f6ed360d8780adb2b1caf4ecc680bfda7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 10:28:08 2014 -0400

    Added SDL_opengl_glext.h to the list of headers to install.

commit 3dedcf29ff64a16b46ccdeda3fe7329eb37f7f86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 01:55:52 2014 -0400

    Corrected package list for Wayland/Mir support (was missing libxkbcommon-dev).

commit c8cf407ea39d70941ba1a5ee4f7d589291acd537
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 00:54:43 2014 -0400

    Wired up Windows resize hit testing.

commit 31de8f8b99ad6e3d2fb9c4f8ca67909a679427d6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 00:49:25 2014 -0400

    Minor tweaks to testhittesting.

commit 2d38a71a1f6c99e227039c1625fa154ed3ed2f6a
Author: Ionut Leonte <ionut.leonte@gmail.com>
Date:   Thu Jun 5 00:45:16 2014 -0400

    Added SDL_HITTEST_RESIZE_*, and implemented for X11.

commit b861efde14f093864396bf04acb4f3ae1cf4569d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 00:03:33 2014 -0400

    Implemented SDL_GetAbsoluteMouseState().
    
    X11 only for now, but this should be doable on every platform, I think.

commit 264eb4bbedffa250fc49973b10911fbcddfc338b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Jun 5 00:02:42 2014 -0400

    Added some (harmlessly) missing braces.

commit 1188c174d7ce53b940036b4bae510a80aa06d07a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 16:35:07 2014 -0700

    Fixed Mac OS X build

commit d829af786ee7c76989a1105919b788fb7d07817f
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Wed Jun 4 12:55:18 2014 -0700

    Assume all motion events are mouse events unless tool_type states otherwise.

commit 4fd03b9582c6f92b34d0bec2018511b007964567
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:57:52 2014 -0700

    Setting the window size changes the fullscreen display mode, unless a window display mode has been set.
    
    Testing:
    * Ran testsprite2 --fullscreen, used Ctrl+ and Ctrl- to change window sizes, verified that the display mode changed as well.

commit c15e26d77d49d42d1b48442cda3e3d266da6b27e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:57:40 2014 -0700

    Fixed crash and lost pixel data when recovering from a lost device situation (e.g. alt-tab from fullscreen)

commit 947a0b8baef397c80a144637810b185c9496c8fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:57:12 2014 -0700

    Ryan C. Gordon <icculus@icculus.org> 2014-05-24 01:23 -0400
    Generated dynapi stuff for the new WinRT entry points.
    http://hg.libsdl.org/SDL/rev/d54306e2b8a7

commit da6d9a9f2a25ac5c69e8447033715e3d9a89045f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:56:56 2014 -0700

    Added annotations to help code analysis tools
    
    CR: Bruce Dawson

commit 529bcf6293c35431f26d5d2cd7212471cd12fdfc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:56:43 2014 -0700

    Fixed bug 2526, but regressed delivering dead key presses

commit 4750fe7390a2039a78d4d6321889e53a4378506a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:56:37 2014 -0700

    When the window fullscreen mode changes, update the display resolution

commit 707fd9f071672b9ca86cda57917f5c0cacf258a9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:56:30 2014 -0700

    Fixed bug where changing the window border would change the window size on Windows.

commit 1e00c03f14dd30ace20e48fafdf7990835becbf9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:56:17 2014 -0700

    Fixed Mac OS X build

commit 45ed5ee4945050de59a1868679e75a68d97e6977
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:55:26 2014 -0700

    Added an API function to warp the mouse cursor in global screen space: SDL_WarpMouseGlobal()

commit 3e3b34adc9fb928338a8e1d67eb14b0a7db4ff4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:52:34 2014 -0700

    Added a hint to disable windows message processing in SDL_PumpEvents()
    SDL_SetHint( SDL_HINT_WINDOWS_ENABLE_MESSAGELOOP, "0" );

commit 0d1f0fed71aaa47f86b686f370bf495e85d6e29b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 10:50:32 2014 -0700

    Added a hint to disable window frame and title bar interaction when the cursor is hidden

commit d34184461f04476dfc8b03419a8a97c134853ef9
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 10:33:23 2014 -0700

    SDL_opengl: Fix Mac build for SDK 10.9 too.

commit d623c0b4439943497990a83c658bee9caa027156
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 09:59:10 2014 -0700

    SDL_opengl: Fix Mac build with new glext.h

commit 65133ebc1b556406715e83415c3f67cca031dfd5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 09:39:08 2014 -0700

    Wait for the fullscreen transition to complete before allowing the application to continue.
    This fixes Alt-Enter in the Steam streaming client, which sets the window size and position immediately after switching out of fullscreen mode.

commit 16360b19793c961030216178c545a54c74e0400e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Jun 4 01:56:14 2014 -0700

    Fixed escape cancelling fullscreen mode now that the SDL window is the first res
    ponder.

commit a2085da2164b1faa0f94266d9034ad6764285d69
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 01:35:36 2014 -0700

    SDL_opengles2: Update to latest Khronos headers.
    
    This updates to the latest Khronos headers, which gives the latest
    headers for MSVC.
    
    The following files were retrieved on 2014-06-04:
    
    http://www.khronos.org/registry/gles/api/GLES2/gl2.h
    http://www.khronos.org/registry/gles/api/GLES2/gl2ext.h
    http://www.khronos.org/registry/gles/api/GLES2/gl2platform.h
    http://www.khronos.org/registry/egl/api/KHR/khrplatform.h
    
    And they were modified to not include each other themselves.

commit 0887f5184cac0a11f82c78e20289638576e534ea
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 01:32:52 2014 -0700

    SDL_opengl: Update to glext.h from Khronos dated 2014-05-21.
    
    This updates to the latest glext.h from Khorons that includes the OpenGL
    4.4 specification. It was retrieved from
    http://www.opengl.org/registry/api/GL/glext.h at 2014-06-04.

commit f45a2fd05d05de085129323a291865f1785d4a54
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 01:27:13 2014 -0700

    SDL_opengles2: Separate out GLES2 headers.

commit 8793657db7b4dbe20696dc07191d1ff93a3bc56e
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Wed Jun 4 01:21:00 2014 -0700

    SDL_opengl: Move glext.h to a separate file.

commit c1e11f699ea24b4446e90671572e966802e15a07
Author: J?rgen P. Tjern? <jorgen@uberent.com>
Date:   Tue Jun 3 21:13:00 2014 -0700

    X11: Provide specific X error when SDL_GL_CreateContext fails.
    
    This makes the X error handler used for GL context creation handle *all* errors
    and provide the user with specific error messages when SDL_GL_CreateContext
    fails.
    
    CR: icculus@icculus.org

commit ece2a9bf065e214a37e5822c81857d09ef280441
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:20:09 2014 -0700

    Hopefully really fixed the Android build

commit 5186be4a12888f36947ea8015db8fbd91aaec97d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:12:51 2014 -0700

    Fixed Android build

commit a8fcbc466a66b5ea39be331e79b741f2f5e6d3d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:09:40 2014 -0700

    Fixed bug 2534 - Mac: black bar at top of screen in SDL_WINDOW_FULLSCREEN mode
    
    Alex Szpakowski
    
    Patch to fix the y component of the position of fullscreen windows in OS X.
    
    In Mac OS X with the latest Mercurial code, when a window is in exclusive-fullscreen the y component of its position is offset by the same amount that is normally taken up by the menubar, resulting in a black bar at the top of the screen.
    
    The recent changes to the internal ConvertNSRect function make it treat the bottom of the menubar as 0 for the y component of window positions, even when the window is fullscreen and 'above' the menubar.
    
    I have attached a patch which fixes the issue by only making the window position relative to the menubar in windowed modes.

commit 6b90d7f58a42fe05c9b2fdb966627a80464bc9f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:06:38 2014 -0700

    Fixed bug 2550 - [OS X 10.9] Enabling SDL_WINDOW_FULLSCREEN after relative mouse mode leaves cursor visible
    
     Eric Wasylishen
    
    Steps to reproduce:
    
    - Run testwm2 app in the SDLTest Xcode project
    - Press Control+R to enable relative mouse mode. The mouse cursor should disappear.
    - Press Control+Enter to enter fullscreen.
    - Expected: a black screen with no cursor visible. Observed: a black screen, but the mouse cursor is visible in the middle of the screen. It doesn't move when I move the mouse.
    
    Reproduced with latest sdl2 hg (changeset f6010ead184f) on OS X 10.9.2. Can't reproduce the problem on OS X 10.6.8 or 10.7.5.
    
    I'm speculating that this really an Apple bug.. but anyway, the attached workaround seems to fix it for me, and I think it's fairly safe.
    
    A more obvious idea, sticking a call SDL_SetCursor(NULL) at the end of Cocoa_SetWindowFullscreen, didn't work.

commit 32665131f626c4f66c42468e091020e1abc20cb2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:01:26 2014 -0700

    Added a way to get the native Android window and EGL context

commit 3905b910f3f9bf8678eafcc6b69c1134e5d25b71
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 09:01:10 2014 -0700

    Fixed bug 2479 - [OS X] SDL_SetWindowFullscreen fails to switch to windowed
    
    Eric Wasylishen
    
    The problem seems to be the spaces handling code in -setFullscreenSpace: (SDL_cocoawindow.m) is incorrectly reporting that the SDL_WINDOW_FULLSCREEN -> windowed transition has already happened.
    
    i.e. I saw this case was getting hit when trying to leave SDL_WINDOW_FULLSCREEN:
    
    "else if (state == isFullscreenSpace) {
        return YES;  /* already there. */
    }"
    
    With the attached patch, both Control+Enter (SDL_WINDOW_FULLSCREEN toggle) and Option+Enter (SDL_WINDOW_FULLSCREEN_DESKTOP toggle) work in an sdl test app (I tried testwm2). Tested on OS X 10.9.2.

commit 75c57f8db7ef5f1b7c5c461e0b45f1a6e5e6c16d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Jun 2 08:58:07 2014 -0700

    Don't use D3D9Ex by default, since it can change behavior for games which rely on D3D9 classic.

commit 9d00f75a270c1c649e9fc2960d75e0567dd277e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 14:03:04 2014 -0700

    Fixed bug 2520 - Held double-click app startup creates a stuck MOUSEBUTTONDOWN event
    
    snake5creator
    
    When starting application with the usual "double click on file" method on Windows, only holding the last click, an unnecessary MOUSEBUTTONDOWN event is sent before the initial MOUSEMOTION event, and mouse button state is stuck in the sense that it takes a subsequent button release, followed by another press for the system to resume sending events (beginning with the next button release / MOUSEBUTTONUP event).
    
    Input event log with held double-click startup: http://i.imgur.com/nypGKR2.png
    
    Without: http://i.imgur.com/yaIqAvV.png

commit 70df9cd0cd33e058b5e5c6e32cbe8284ad3c6b5b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 12:21:55 2014 -0700

    Fullscreen to windowed mode switch
    
    From Melesie
    
    I noticed that when user switches from fullscreen mode to windowed mode and exits application while in windowed mode, Windows performs an additional change of display settings, even though desktop resolution is the same as current one. This causes short black screen to show up. The only way I know of avoiding this is to explicitly switch to default display settings found in registry. MSDN documentation for ChangeDisplaySettingsEx states:
    
    Passing NULL for the lpDevMode parameter and 0 for the dwFlags parameter is the easiest way to return to the default mode after a dynamic mode change.

commit 18c31dec54b182c034bce9b7b309e65647d55a47
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 11:53:19 2014 -0700

    Fixed Direct3DCreate9Ex prototype

commit 0c6b99d57696f00eb47f7d6996249e30a2e4d8ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 11:48:52 2014 -0700

    Fixed cast

commit 49c53fd280b74f287b040a8bc62422f3ce75b008
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 11:37:12 2014 -0700

    Use D3D9Ex when available
    This hopefully works around crashes in Intel D3D9 support in Windows 8.1.

commit 52222db2550d4fd3f4c0748d73ab8cf39c043761
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 31 11:33:25 2014 -0700

    Fixed SDL error when filtering events after shutdown.
    This can happen when restoring video modes during video system shutdown

commit 7153c2dad1247bda5a77e7f4d1bf4c17724e7917
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 30 09:50:47 2014 -0400

    Fixed using SDL_PointInRect() from C++.

commit bb7a27fadd68161dbc402fb9b23d604b4e238bad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 30 01:51:13 2014 -0400

    Fixed up SDL_CaptureMouse() on Windows to work like I expected.
    
    This would have been a one-line patch to the documentation (specifying that
     captures only work as long as the left mouse button is pressed), but I didn't
     like that, so I got a little crazy about this instead.

commit bcc2cc8722b8f43f3169666d2558a2530d5d18a9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 30 01:49:26 2014 -0400

    Fixed hit-testing on Windows.
    
    Needed to convert from screen to client coords.

commit bf03bec1203a42c754baa7c627d8b84f38075ec1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 30 01:48:26 2014 -0400

    Patched to compile on Visual Studio.

commit 4ef6eddaf717cf2b66d9bc5ea81a963e5606042a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri May 30 01:48:08 2014 -0400

    Make some printf() calls into SDL_Log() so I can see them on Windows.  :)

commit f29ac3993454e99be6d22fb2ba483403414dba5f
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 29 23:05:18 2014 +0200

    Added javadoc comments to document methods used by JNI.

commit eac27bcd2fd505fe7169ebbee3433e13f2d50ab9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 29 22:58:06 2014 +0200

    Added javadoc comments to prevent unused parameter warning.

commit 1f111f3ddc068aa7fd1cbb92d3cdce35ede2ab56
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 29 22:53:53 2014 +0200

    Fixed implicit boxing and unboxing of Java Objects warning.

commit 8d11db2f93aa691ccc1b08a843849cad791db9f2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 29 22:48:10 2014 +0200

    Added missing stdio include in test program.

commit 3a8033587ba407d532464857dabb06c422d610ee
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Thu May 29 22:44:08 2014 +0200

    Fixed use of uninitialized variable warning in test program.

commit 89ad793407e64762f27ddbebeceebc25d93f678b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 29 13:39:02 2014 -0400

    First shot (not even compiled) at Windows hit-testing support.

commit 661548c8f34ae5d3c2c37c657fe7c1a6c44efd34
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu May 29 13:38:39 2014 -0400

    Tweaked hit-testing documentation.

commit 7364ed016b557ed46a8b0fedb954719a531d948d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 28 01:27:27 2014 -0400

    Added a few debug printf() calls.

commit 98c03f391d2dcd91acb6c37bb072920bd256741d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed May 28 01:22:47 2014 -0400

    Changed drag area API to a hit-testing API.
    
    There were several good arguments for this: it's how Windows works with
     WM_NCHITTEST, SDL doesn't need to manage a list of rects, it allows more
     control over the regions (how do you use rects to cleanly surround a circular
     button?), the callback can be more optimized than a iterating a list of
     rects, and you don't have to send an updated list of rects whenever the
     window resizes or layout changes.

commit 7a4ddcd8c63f0fd6a4b9caec3b59818bbae411e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 27 15:47:25 2014 -0400

    Don't hardcode an 8 here.

commit 20ac4bae89cb3b3539b140d87228b000277db439
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 27 15:40:03 2014 -0400

    Some updates for the X11 drag areas work.

commit 2744c0195a29637d3401929e2fd011b14fd3a093
Author: Damian Kaczmarek <rush@rushbase.net>
Date:   Tue May 27 14:41:16 2014 -0400

    Initial work on X11 implementation of SDL_SetWindowDragAreas().

commit 3cbc83ef1174f6c63c6c03a762aa61d0caa7804c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 27 01:27:42 2014 -0400

    First shot at SDL_SetWindowDragAreas().
    
    Only Cocoa implemented right now.

commit b7f90442df7ff21867e0e50417cf1ab0b3bedb1c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 27 00:26:47 2014 -0400

    Added SDL_PointInRect().

commit dd5277d65c0acdebd7f7927f4d75986682752983
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 21:06:40 2014 -0400

    Fixed stack overflow in X11_CreateWindow() (thanks, rapha and Brad!).
    
    This should be a "long" which on a 64-bit system is likely to be > 32-bits,
     causing XGetICValues() to write past the end of the variable (and stack).
    
    Fixes Bugzilla #2513.

commit 4db368e6258788056f23c470c98f36ea58d8edf0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 19:49:03 2014 -0400

    Added note about Wayland and Mir packages for Ubuntu 14.04.

commit ded970f70feb64ffcedc60c864b8c0a058d0e63a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 18:23:56 2014 -0400

    Flip this around to do the simpler condition first.

commit 668025c23902ddf1c020c18172a34aec357c9bc4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 18:23:39 2014 -0400

    Implement SDL_CaptureMouse() for Mac OS X.

commit b7d2c0e9d62afbd67352a0b47f543b1c525ae2ab
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 01:30:37 2014 -0400

    Implemented SDL_CaptureMouse().

commit 846a3e07769dfac8535a300caf1d053359ccf697
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 01:27:19 2014 -0400

    Added some FIXMEs.

commit f0e0f4ca158ff5563d8ddca30c781b623f6486fc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 01:25:27 2014 -0400

    Fixed whitespace.

commit a2710516ef5818929cf1805978f64a38e2c60b06
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat May 24 01:23:57 2014 -0400

    Generated dynapi stuff for the new WinRT entry points.

commit 25313c3bb16465940f19a79437cfcbe6c3558f71
Author: stopiccot <alexey.petruchik@gmail.com>
Date:   Wed Apr 30 23:05:05 2014 +0300

    added comment

commit 3727528eb9327937090dbf8b874931e7d5e4e2fe
Author: stopiccot <alexey.petruchik@gmail.com>
Date:   Wed Apr 30 22:51:29 2014 +0300

    access google apk library through reflection

commit 3cdae42d6500619f9105134606e722f1fa49c847
Author: stopiccot <alexey.petruchik@gmail.com>
Date:   Wed Apr 23 03:42:32 2014 +0300

    Fixing issues discovered by Philipp Wiesemann

commit 612f4a69dbf0cc5ecb4bc45d74033fac4d11f3c8
Author: stopiccot <alexey.petruchik@gmail.com>
Date:   Mon Apr 7 21:20:39 2014 +0300

    inital apk extension support

commit d5c109b2f4cc0472b38509c2d091da24a4d24602
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 5 16:25:30 2014 -0700

    Fail if we couldn't create the specified renderer

commit 83200a32251fcd1cea93762a49c7036475b53b1b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 5 23:50:09 2014 +0200

    Removed empty statements.

commit a24745f48d9c01dae12082d7ae5e2ae91c3d204d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 5 23:32:41 2014 +0200

    Fixed names of four hint environment variables.

commit 2d8b86bb07a4ea626a9c3f628b085403af869c3e
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 5 23:24:33 2014 +0200

    Fixed unused local variable warning.

commit aeebdc501ab218841f6c6c7a6c10a05c3145185c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 5 23:22:21 2014 +0200

    Fixed typos in header comments.

commit 9a56cde24c9e9728bd0dcfa17cdd1606f216eac8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 4 23:56:15 2014 +0200

    Removed unused variable from test program.

commit 02045dcb3a947f8f2b8de4516b94e7ddf4173924
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Fri Apr 4 23:52:23 2014 +0200

    Fixed doxygen comment in header.

commit abcb264c12e85d6a336ce4b5f8f92d5f3929e0d5
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 30 11:50:59 2014 -0400

    WinRT: "SDL" to "SDL2", both for .dll output files, and for MSVC project names.
    
    All WinRT builds of SDL will now output, "SDL2.dll".  Previously, the Windows
    8.x/RT builds would output, "SDL.dll", and Windows Phone 8 builds would output,
    "SDL_WinPhone.dll".  The change to "SDL2.dll" puts WinRT dll naming in-line with
    that seen on Win32.
    
    SDL/WinRT's MSVC project files will now appear as either "SDL2-WinRT" or
    "SDL2-WinPhone", when displaying in MSVC.
    
    This set of changes should not break any older WinRT or Windows Phone 8 app
    builds that rely on MSVC's Project-to-Project reference system to build SDL2 for
    the correct platform(s), and to install SDL2 dll files into the apps' output
    packages.  App builds that reference SDL dll files directly should, however,
    now reference "SDL2.dll".

commit c3c24a335d9499d2f546f65ceef77381422de688
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 31 10:38:26 2014 -0700

    Fixed the joystick side of XInput haptic detection on Windows 8

commit 764aa147ade0d72a963611f7f81bdc99c66c5b33
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 29 12:29:38 2014 -0700

    Fixed XInput haptic support on Windows 8
    It turns out the XBox 360 controller driver never reports force feedback capability, so we'll try to set 0 state and see if that succeeds.

commit 229b438d423e861fcf9d2e072ecf152d25b85429
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 29 12:27:27 2014 -0700

    Fixed assertion loading button.bmp in testgamecontroller

commit 20680d7db065882fa7b8f93e13ff70cb9df9161f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 29 12:27:02 2014 -0700

    Added testrumble to the Visual Studio 2013 solution

commit 6123f15e77aaec05ae061ad7926b158d4a366212
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 28 09:59:32 2014 -0400

    Raspberry Pi builds should upload as .tar.xz instead of .tar.bz2.
    
    Makes the archive about 40-50% smaller!

commit 17a8d2934dde555d1226e87f0e2b616064c5b93c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 26 16:19:52 2014 -0400

    Changed a C++ single-line comment to /* */ style.

commit 833cfe534a2052126bad696e33eec469972babe5
Author: Pierre-Loup A. Griffais <pgriffais@valvesoftware.com>
Date:   Wed Mar 26 12:54:51 2014 -0700

    Remove the RaiseWindow call from OnWindowRestored for now.
    
    It seems like a net improvement in all the scenarios Sam and I could
    think of, and looking at hg history it was added for fullscreen
    window management specifically. Much of that code has changed since
    then, but maybe it needs to stay there for that and simply be moved
    to a fullscreen condition check.
    
    It would solve this issue:
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=2439
    
    As well as cases where on SteamOS, we hide/show specific Steam
    overlay windows while expecting them to stay in the background, since
    changing the window stacking order really angers the NVIDIA driver.
    
    CR: Sam.

commit 8938c2b5db705d9c80a2d17b9dad83b2ec8a5ef7
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Mar 25 15:24:43 2014 -0700

    Ignore unused mir event functions, need headers in Ubuntu 14.04 to use them.

commit 2298ed170fbffa28f170eb086e51f48d99ae0213
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Mar 25 15:18:18 2014 -0700

    Remove two unused variables, causing compiler warnings.

commit b0502ce831b93a8d1458d41979fa30278b1f6288
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Mar 25 14:33:34 2014 -0700

    Re-enable Mir/Wayland support now that 2.0.3 has been released.

commit a99bf4d705f0d1909fb37acc9c5433ea68dabb12
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 24 22:51:03 2014 -0400

    WinRT: Call IDXGIDevice3::Trim before app-suspend, as required on Windows 8.1
    
    Thanks to Sylvain Becker for pointing this out!

commit cbf718461c441321a9b0129c8131eb059e0f9cb1
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 24 22:12:38 2014 -0400

    WinRT: Line ending fixes (CRLF to LF)

commit 22a7dd0be8acc5cf68f644ef1803f3d7945ee63f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Mar 24 11:42:09 2014 -0300

    Fixes #2456, controllermap's undo does not work correctly (by Bogdan Marinov)

commit 1f92c9dcace655b74bc7a938abc92578a3aa058f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Mar 24 11:04:42 2014 -0300

    Emit SDL_RENDER_DEVICE_RESET on Android when the GLES context is recreated

commit dd81dad1ad407390d55cc818f64552e523c459b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 24 07:12:26 2014 -0400

    Added an assert to help static analyzer.

commit 26823b1bb4da8cfb2e68939484e0bb1328ee2806
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 23 23:09:22 2014 -0700

    Added an event SDL_RENDER_DEVICE_RESET, which is triggered on Direct3D 11 when the device has been lost and all textures need to be recreated.

commit 25919bf252b31d7a37b06153d6807521a79d8918
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 23 23:08:26 2014 -0700

    Fixed warning on Mac OS X

commit 3317e4340d9cbe374647f34cf3ee269c6cd50e48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 23 22:53:50 2014 -0700

    Fixing Alt-Enter handling, submitted by Nader Golbaz
    
    I encountered a little issue: DXGI monitors application's message queue and this behavior interferes with SDL if the application already handles Alt-Enter sequence. I think it is necessary to disable this behavior.
    http://msdn.microsoft.com/en-us/library/windows/desktop/bb174540%28v=vs.85%29.aspx

commit 119dff5546329c31b033b8ddc1f06091fc901681
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 23 22:07:01 2014 -0400

    WinRT: Implemented SDL_ShowMessageBox for Windows 8.x/RT hosts
    
    This change does not include message box support for Windows Phone 8, which does
    not offer the same message box APIs that Windows 8.x/RT does.

commit 6ab50a5e2e592b58804d2928cc66f5a2f4108e6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 23 18:56:47 2014 -0400

    Tossed in some SDL_asserts to make static analyzer happier.
    
    (Most of its complaints here are that these ints can be negative, although
    they wouldn't been in sane cases. Checking sanity is what assertions do, and
    it placates the analyzer appropriately.)

commit 46a80b04d83dcdefa313688a0afbae1a86772d19
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 23 16:08:32 2014 -0400

    D3D11: Fixed a crash after a GPU device-reset on Win32

commit 6ce684e92b17f6bf929b29caa436dbc83c449589
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 23 13:48:16 2014 -0400

    D3D11: Added code to handle GPU-device-removed scenarios
    
    These scenarios can happen when a GPU is switched, its driver updated, or in
    some virtual machines (such as Parallels) are suspended and then resumed.  In
    these cases, all GPU resources will already be lost, and it's up to the app to
    recover.
    
    For now, SDL's D3D11 renderer will handle this by freeing all GPU resources,
    including all textures, and then sending a SDL_RENDER_TARGETS_RESET event.
    It's currently up to an app to intercept this event, destroy all of its
    textures, then recreate them from scratch.

commit c3d1037665c1b058d3c1f99d7aa0372145a938dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 23 09:44:04 2014 -0700

    Better keyboard detection when some of the keys are remapped, thanks to Lewis Wall

commit c2243092d7a5248bcdd8624c6b7fc224e67e04c4
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 23 11:04:47 2014 -0400

    WinRT: Miscellaneous app-backgrounding/restoring event fixes and additions
    
    SDL_WINDOWEVENT_FOCUS_LOST is now sent when an app's native window is hidden.
    Likewise, SDL_WINDOWEVENT_FOCUS_GAINED is sent when an app's window is shown.
    This mimicks behavior seen on iOS and Android.
    
    SDL_WINDOWEVENT_MINIMIZED and SDL_WINDOWEVENT_RESTORED are now sent when the
    app's native window is hidden and shown.  Previously, these were sent when an
    app was suspended and resumed.  On Windows 8.x/RT, an app may be sent to the
    background without being suspended, which previously meant that
    SDL_WINDOWEVENT_MINIMIZED might never have been sent.  (On Windows Phone 8,
    however, this seems to be different, whereby apps sent to the background appear
    to always get suspended.)

commit 50ee99ecb2638b8660f857a210c729d3a519492a
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Mar 23 08:56:52 2014 -0400

    WinRT: Made app-backgrounded events get sent at separate, distinct times.
    
    SDL_APP_WILLENTERBACKGROUND is now sent as soon as the app is told that it is
    about to go to the background.  SDL_APP_DIDENTERBACKGROUND is sent via a WinRT
    'deferral operation', which is how WinRT gives apps a bit of extra time
    (multiple seconds worth) to prepare for an app-backgrounding.
    
    The distinction may be important as the deferral operation's code is always run
    in a separate thread.  For Direct3D-only apps, this means that between the
    two SDL app-backgrounded events, SDL_APP_WILLENTERBACKGROUND will be the only
    one run from the main thread.  Given that some WinRT operations can only be done
    on the main thread (operations to the CoreWindow fall into this category), this
    could be important.
    
    It is important to note that pre-deferral code may only have a very short bit of
    time to execute code, less so than code run in the deferral operation (where
    SDL_APP_DIDENTERBACKGROUND is sent from), which usually gets several seconds to
    run.

commit 823bf721309a533059aa2d8067dfb1de63f8c0a3
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 22 21:08:05 2014 -0400

    WinRT globals cleanup: Removed WINRT_GlobalSDLVideoDevice

commit b51a3206c84e770bbfbb3c79124535c4f77cc318
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 22 20:48:18 2014 -0400

    WinRT: Got OpenGL ES 2 working with the latest version of ANGLE/WinRT.
    
    SDL/WinRT did have support for OpenGL ES 2 via an older version of ANGLE/WinRT,
    however its API changed a few months ago, and SDL/WinRT would crash when trying
    to use it.  It would also occasionally crash when using the older version.
    
    This changeset should make SDL/WinRT work with the latest version, as
    available via MS Open Tech's git repository of it at
    https://github.com/msopentech/angle
    
    Older versions of ANGLE/WinRT (from either https://github.com/stammen/angleproject
    or https://bitbucket.org/DavidLudwig/angleproject) will need to be updated to
    MS Open Tech's latest version.

commit cc5293985336e04200236cb07350b90ad656171b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 21 10:40:15 2014 -0400

    Static analysis fix: more cleanups of unused variables, etc, in blitters.

commit 7bf36abfc01960813744757117c5c0957ddae45a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 21 00:57:43 2014 -0400

    Static analysis fix: more dead stores.

commit ba4b3aa944c356ad1b2d4f91fb939549b17a9a45
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 18:00:41 2014 -0400

    Patched to compile on C89 compilers, removed more streamer code.

commit e177b1cc498570c3c5e56bc1f8043b8f8c6531c6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 17:55:24 2014 -0400

    Static analysis fix: clean up unused variables and dead stores in blitters.

commit 6d6fba4b0a3c46ead794875de8007ef62e33efee
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 17:00:33 2014 -0400

    #ifdef'd out the audio streamer code.
    
    It's been hardcoded out forever now, but I've now forcibly removed it with
    the preprocessor so static analysis doesn't complain about it for now.
    
    Eventually I want to rewrite or remove this code.

commit a43dbfad0de3fd968f303c35d04cde91f39380cf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 16:56:37 2014 -0400

    Static analysis fix: Removed unused variable.
    
    (We don't care if closing the device fails anyhow).

commit 3aae0ed2c5234935fd4bc7fe0eee116651e734ad
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 16:54:20 2014 -0400

    Static analysis fix: uninitialized data.
    
    (This is Clang not knowing that SDL_SetError() always returns -1.)

commit d7a253b5ec7701bc073223d272fa8e162bc0e2c7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 16:25:30 2014 -0400

    Static analysis fix: uninitialized data.
    
    (Clang doesn't know that "_this" was already checked for NULLness elsewhere.)

commit 93ba5bd8994bebb996838cc4e706416eef8424da
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 16:23:18 2014 -0400

    Static analysis fix: uninitialized value.
    
    (A false positive: clang doesn't know SDL_SetError() always returns -1.)

commit a25bd63cc5ba4e1f008283eaa33ac66de276f5de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 16:05:57 2014 -0400

    Static analysis fix: leaking Objective-C object.

commit 84b919a2a794c1526cde5fb512ee525d9eae69df
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 11:22:57 2014 -0400

    Static analysis fix: dereference of a NULL pointer.

commit b99a6253dabf672c090415f16d62aea8816fe0b2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 11:14:02 2014 -0400

    Static analysis fix: let clang know _this->displays isn't NULL.

commit 415675bef05297dae8bb4dd63aab4b95c69919b8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 11:14:44 2014 -0400

    Static analysis fix: division by zero.

commit b659c70080a01cc06fe72d66b3580efbd24225bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 10:41:47 2014 -0400

    Static analysis fix: uninitialized variables.
    
    This is actually a false-positive, in this case, since Clang doesn't know
     that SDL_SetError() only ever returns -1. Feature request to improve that,
     with explanation about these specific SDL patches, is here:
    
       http://llvm.org/bugs/show_bug.cgi?id=19208

commit 1a2a3e9c8b52a4ab8a276388ff55aa4e3c1abbec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Mar 20 10:04:23 2014 -0400

    Static analysis fix: Fixed leaking Objective-C object.

commit bcc2ed09b522520d6b99743e268d36f047cc5a7e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 23:19:34 2014 -0400

    Static analysis fix: bad release.
    
    (object is already init'd at this point, so -[obj init] destroys
     existing reference count.)

commit a7b84069ec8e23de36d0646144be7e87cfc6b296
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Wed Mar 19 21:48:32 2014 -0700

    Fix visualstudio build break introduced by changeset 8645

commit f018ca469439b7d73fee0103127bbed52fb4f6c2
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Wed Mar 19 21:39:55 2014 -0700

    Add input validation to SDL_getenv/SDL_setenv; update Stdlib testsuite; add Hints testsuite

commit 6ca112739e63d2480213a427692bba2a658d94e9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 22:43:30 2014 -0400

    Minor comment cleanups in checker-buildbot.sh

commit e84fc5a368544a091660d340d5cae38bbd571ec7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 18:25:21 2014 -0400

    Static analysis fix: division by zero.

commit 546cb8901e9b26d651cfd437cc538279d3677452
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 16:55:38 2014 -0400

    Static analysis fix: Value stored to '[bcd]' is never read.

commit faaaf6c572b44628ec1d0d5f8299378ceac5222c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 16:52:26 2014 -0400

    Static analysis fix: "Value stored to 'p' is never read"

commit 7b893acdc1f66c22ab95eeb10d3357f90945a09d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 16:02:25 2014 -0400

    Don't overwrite SDL_dynapi.h in checker-buildbot.sh.

commit 055d5679a43ea50b7fef3dc9cc844d845e0f4a31
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 15:25:27 2014 -0400

    Make checker-buildbot.sh work just about anywhere Clang is installed.

commit ff3f49f0730122203770b0045968bba9154e59bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 13:22:09 2014 -0400

    Reenable static builds for now with static analysis.

commit 7b7856252bdbea45d3f1cd5474abe18194d17f80
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 03:29:14 2014 -0400

    Buildbot static analysis script: use configure script instead of cmake.

commit 80bb859c31789bd4eda93ad8493b03e4d747c37b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 03:04:04 2014 -0400

    Just build shared libraries for static analysis.
    
    Building the static libs just does the same work twice.

commit f53d1669f6c45621b425be77a54020e2008de990
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Mar 19 00:58:32 2014 -0400

    Added a script to let buildslaves run Clang static analysis.

commit 18c9a4e96b5c95432fb2399c9c622dc7be2ac610
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 18 17:16:28 2014 -0400

    Fixed SDL_HapticNewEffect() failing on various DirectInput devices.

commit 2a2fb611d50066439a7a6aba63fc133593115d91
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 18 12:53:01 2014 -0400

    Fixed PS4 game controller config on Windows.

commit 978566a65bad0acfd3ff38311730bc576e335d3f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 18 12:52:51 2014 -0400

    Whitespace fix.

commit 1f45d4b614699f12fd922291d788fa79d73d1011
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 18 12:33:57 2014 -0400

    controllermap: Don't treat SDL_HAT_CENTERED as a valid input.

commit 1496be6e4b3d732eaa46a691590cb06a630c866b
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 18 12:08:49 2014 -0400

    Fixed a build error in SDL_platform.h when using Code Blocks and MinGW
    
    winapifamily.h, a header file specific to Microsoft's Windows 8 SDK, wasn't
    getting found, which was leading to a build error.

commit 7eaf8997962e40070aca97b05248aefd05db351e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 17 19:11:18 2014 -0400

    Fixed SDL_HapticOpenFromJoystick() with DirectInput devices.

commit cf3ff16e94ebac5606a820f5b2ab026e13e3107e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 19:31:20 2014 -0700

    Added tag release-2.0.3 for changeset d0af6b2f53ca

commit d4f2f01580454deef8ac43d8939ebc907d4ad759
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 19:30:52 2014 -0700

    Fixed iOS build

commit a2e77a247077e3dea52175d1185751be24bd2bbf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 16:48:32 2014 -0700

    Added tag release-2.0.3 for changeset 9ac15210f445

commit adddf26964bae533c86949f15ae8d6dfd44f3b50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 16:43:58 2014 -0700

    Added a patch note for 2.0.3

commit 56b40ce04667659cb041de015cfb31645d47b355
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 16:32:45 2014 -0700

    Fixed bug 2450 - Crosscompiling for Win32 with MinGW fails due to WM_UNICHAR undeclared

commit 9245c930440c2ce5c44a997790655cf707188861
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 15 16:27:06 2014 -0700

    Only show the window if it's supposed to be shown.

commit c663d731f1f5f3b41629ad0fa1d16713e0e4d593
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 15 15:35:15 2014 -0400

    Mac: Make sure window is still showing when we exit a fullscreen space.

commit f25ee50b036b59953cd1e7ce894486f0b6e4df64
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 15 14:54:23 2014 -0400

    Fixed broken rotation detection routines on WinRT
    
    Rotation detection and handling should now work across all, publicly-released,
    WinRT-based platforms (Windows 8.0, Windows 8.1, and Windows Phone 8.0).

commit 5281f9f1ea8cb898ea6aba769c697da96d7e5248
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 15 13:27:18 2014 -0400

    Fixed a crash on Windows Phone 8 that occurred after rotating a device
    
    This changeset prevents IDXGISwapChain::ResizeBuffers from being invoked on
    Windows Phone 8, a function that isn't available on the platform (but is
    available on other Windows platforms).  The call would fail, which ultimately
    led to a crash.
    
    This changeset also attempts to make sure that the D3D11 swap chain is created
    at the correct size, when using Windows Phone 8.
    
    Still TODO: make sure rotation-querying works across relevant Windows
    platforms (that support Direct3D 11.x).

commit 205266fa03c369c63804234577229a9c17b652eb
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 15 10:37:40 2014 -0400

    Fixed a build error when including WinRT's SDLmain file directly in an app

commit 26e8e387e1769b41b7657dd73a24bf0f442d2b7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 14 18:06:09 2014 -0700

    Fixed Mac OS X window level when leaving fullscreen mode

commit 2216ab93dc1ff40fdac770d391418bbf174ac611
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Mar 14 01:36:05 2014 -0400

    Added a missing file related to WinRT power management/reporting.

commit f9a589681929531637de328f323bc1d3b3993e0c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 13 21:21:26 2014 -0700

    Added missing copyright notices

commit ed02f61da16e4c2745c7c595ed1730ce9d331c3c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 13 00:40:08 2014 -0700

    Fixed the copyright date on files contributed by David Ludwig

commit 7124034ba93e9bc225ae4788d6213e5751e73efb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 12 23:44:23 2014 -0700

    Windows XP toolchain fix from Bruce Dawson:
    Fix to allow using SDL when compiling with v110_xp or v120_xp -- compiling with VS2012/VS2013 with the XP targeting option.
    
    In order to ensure that we can target Windows XP we compile with the v120_xp toolset instead of v120. This means that we use an earlier SDK version and it means that winapifamily.h is not available. Compiling for this old SDK can be detected using the _USING_V110_SDK71_ define which is set through the %(PreprocessorDefinitions) option.

commit 646cdedb18061cb9d02f1aeafa5a3e2da18b9390
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Mar 12 12:14:47 2014 -0400

    Fixed line endings (CRLF to LF) in WinRT source code

commit 4cd5ed7ba2fd979b22d652b2579d43e555215a41
Merge: b68b6e23d c515b7942
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Mar 12 12:12:20 2014 -0400

    Merged various WinRT build fixes

commit b68b6e23d1f50d7ff04df728257dab8294244ab3
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Mar 12 11:57:15 2014 -0400

    Fixed various build and runtime errors when using WinRT with VS2012.

commit c515b79423d9bc86504c3f863d82ce31a5f06600
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 12 07:55:32 2014 -0700

    Updated framework version to match dylib version.
    Actually the dylib compatibility version is 3.0.0, but don't break compatibility with previous frameworks, which were compatibility version 1.0.0

commit 641ba09975659ac3bd5d8bf1df40e637e3f012a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Mar 12 07:26:07 2014 -0700

    Fixed compiling Windows RT code on Visual Studio 2013

commit 36e7c8d92d5ab46f09ef456067cfce0d1871429e
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 11 12:40:31 2014 -0400

    Fixed compiler errors in the D3D11 renderer when building for WinRT
    
    Still TODO: fix other build errors, especially linker errors, when building
    SDL/WinRT, then fix any runtime errors that pop up.

commit ce3c5b842f2fc9d05ad1f26a2f3451dc48a5feb3
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 10 22:53:03 2014 -0400

    Made VS2012 build the D3D11 renderer
    
    This change is currently limited to Win32/Windows-Desktop builds.  Build fixes
    for WinRT + VS2012 are still pending.

commit b2fcdfca71a3df617afff191290254f75469b279
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Mar 11 10:33:51 2014 -0400

    Disable Wayland/Mir again for 2.0.3; it's a quick, brown-paper-bag release.
    
    We'll enable it by default for 2.0.4. Hopefully.   :)
    
        ( http://www.catb.org/jargon/html/B/brown-paper-bag-bug.html )

commit 7a36070a95010fff87d572e9d700cff87d74706a
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Tue Mar 11 07:17:56 2014 -0700

    Fix bug/add test coverage for SDLTest_GenerateRunSeed helper; improve test harness adding output of repro steps for failures; improve negative test for SDL_GetError/SDL_SetError

commit b677d1d883a620f0285192c92af735b78fb134f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 19:59:06 2014 -0700

    Fixed Mac OS X OpenGL context creation to match other backends, where we only care about the actual version we request if it's 3.0 or newer or a special profile context.
    Eventually we'll probably move the version checking to higher level code and report the actual version of context that got created, but to avoid breakage we'll leave it like this for now.

commit e99dc1f1bd4d024a7ced673f5623711565e461f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 19:11:52 2014 -0700

    Fixed binary compatibility with the new Windows RT support

commit 7d98754a72a46c45d133d0a1cf19a0d36aed69a0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 19:11:50 2014 -0700

    Temporarily disabled the D3D11 renderer so we can get a build.

commit 28398109a1fe34a0e54004ff96621dd29b88bb09
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 18:45:07 2014 -0700

    Fixed regression causing the renderer to recreate its window since it's not getting an OpenGL 2.1 context anymore.

commit e8eb142748f09ed6537e201654bfb269bad72a27
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Mar 10 21:21:35 2014 -0400

    build fixes for most WinRT-related files
    
    Still TODO: getting the D3D11 renderer back up and running in VC 2012.

commit 2c558ca24de162a916cb2516ed22d592ddc6f08f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 17:19:19 2014 -0700

    Fixed D3D9 initialization on Windows 8, which doesn't have D3DX

commit 9c2fb684af12ae6fcd0a7564bfbb664ef8b4573e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 15:00:59 2014 -0700

    Implemented fullscreen <-> windowed transition on Windows 8

commit 7e8b25534d2859f6d1267a13c8e54a3678dc7ec8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 14:35:37 2014 -0700

    Fixed line endings

commit 3df586cef5ff0ca89b772a6f71f257ae8cb92e2f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 12:49:15 2014 -0700

    Fixed creating the rendering context on a specific device

commit 9aa5b1d457d94774608205656a7c23de641081ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 05:44:34 2014 -0700

    Implemented YV12 and IYUV texture support for the D3D11 renderer

commit cb7a408f479fcd953e799f5dd82dbf24defa3195
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 05:37:25 2014 -0700

    testoverlay2 depends on SDL2, SDL2main, and SDL2test

commit 1e6ac6911922d1041db4acc38ce114f0a9de1b2d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 03:59:47 2014 -0700

    Added testoverlay2 to the Visual Studio 2013 solution

commit 965cdf10d45df8f814c3cad7f0bc0575d14224fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 02:13:44 2014 -0700

    Minor style tweaks

commit 1a35f32b681c0c440ead2ed4fddf224f5a2d07df
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Mar 10 01:51:03 2014 -0700

    Converted David Ludwig's D3D11 renderer to C and optimized it.
    The D3D11 renderer is now slightly faster than D3D9 on my Windows 8 machine (testsprite2 runs at 3400 FPS vs 3100 FPS)
    This will need tweaking to fix the Windows RT build.

commit a8f540fe4a6a84af4131515f9ea904e40d1a850f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 22:48:38 2014 -0700

    Fixed renderer flags to include support for target textures after the renderer is created.

commit 8c7ee701a1eae0e097e29d1b13465b59a37b4893
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 10 00:48:41 2014 -0400

    Removed unused variable.

commit 8d2dcbc1b7bfc1a204d4be6fdd586d0a63e43f71
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 10 00:31:31 2014 -0400

    Updated WinCE readme to note WinRT work.

commit ea333d2e6b069f6dd9e7c07319bbf6c5fc832c07
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 10 00:26:40 2014 -0400

    Turn off Mir support in the buildbot Raspberry Pi script.

commit 89648a9a3c86c08aa145fbf53bebad4c4ea24d51
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 10 00:01:14 2014 -0400

    Drop the default requested OpenGL version to 1.2.
    
    Fixes default context creation on Mac OS X <= 10.6.

commit 1fe7b27a96f546e5c4bbccef32075d32b9b42313
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 12:27:31 2014 -0700

    Fixed 64-bit warnings

commit e58ee5403b88b941ad7a652f85da56857f0fe519
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 12:08:07 2014 -0700

    Fixed compiling with mingw64

commit 1367bf8748d4662ecd8c6b3254135b39d8a15676
Merge: c167d1f6a 05c23063b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 11:36:47 2014 -0700

    Integrated David Ludwig's support for Windows RT

commit 05c23063bb16c44191d5b0b151ac5739eb355142
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 11:06:11 2014 -0700

    Fixed line endings on WinRT source code

commit c167d1f6a8c7c46f3d6fb4512492a43b7dd4596c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 10:38:30 2014 -0700

    Updated SDL to version 2.0.3

commit 360f1101c37718ed42452c5da31f4324c62c73a1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 9 10:37:45 2014 -0700

    Visual Studio 2013 project updates

commit db568d69d8f1e1be1f4c3ef3497930df3bf1188e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 9 11:52:52 2014 -0400

    Patched to compile with MingW64 on case-sensitive systems (thanks, Martin!).
    
    Fixes Bugzilla #2440.

commit 5755fa4b9eb7728dbda27628d99f6e0b89a0ee37
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 8 15:34:54 2014 -0500

    Patched to compile on C89 compilers.

commit 0f1a72c012d1f0f8d1e0a572de137a19c01c6503
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 8 15:32:12 2014 -0500

    Enable Wayland and Mir in configure/cmake scripts, now that 2.0.2 has shipped.

commit 20dc4214e27d4bd962d1b488b546be47de47a142
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Mar 7 23:16:24 2014 -0800

    Added tag release-2.0.2 for changeset c20e24653d40

commit 2b92d9b431fa8620807a48a90df578fa80d61d4b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Mar 7 00:18:37 2014 -0500

    CMake: Don't use /NODEFAULTLIB on Windows unless we're Visual Studio.

commit e9eb7ecd08ac3b8ce2edc7f78d36f77f7117fd7d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Mar 6 20:02:17 2014 -0800

    Fixed bug 2430 - Missing initialization of the variable 'centroid' inside SDL_GestureAddTouch
    
    klose
    
    File: SDL_gesture.c
    Method: SDL_GestureAddTouch
    
    When a new SDL_GestureTouch element is added to the global SDL_gestureTouch array the variable 'centroid' of the new element is not initialized.
    
    The problem is that this variable is read isndie SDL_GestureProcessEvent when a SDL_FINGERDOWN event occurs.

commit 61ae0c1b5050db3c94d2b4b72b5438eefe330485
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 4 19:49:11 2014 -0500

    WinRT: emit SDL_APP_TERMINATING

commit 844ad50018e1a9195e2e97492cddc39442899117
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Mar 4 19:30:36 2014 -0500

    WinRT: emit SDL_APP_WILLENTER* and SDL_APP_DIDENTER* events

commit 9e67444a363e217773562fb687c2503ba4cf1d45
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Mar 3 21:25:16 2014 -0500

    Mac: Added a hint to opt-out of new Spaces code.

commit 3889d4788706572ccb65c3a36265ad3c854e841f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 22:55:12 2014 -0500

    Removed unused variable.

commit 0e5cc8dff476d7f4a14b7f3f6f837d5114f3cdf5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 22:51:31 2014 -0500

    Mac: Don't lose the menu/dock when switching back to a resizable window Space.

commit 86be83215a3fc893957eece8fa5d433e07ba1579
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 22:16:49 2014 -0500

    Mac: only programmatically create Spaces if we're FULLSCREEN_DESKTOP.
    
    (coming back from fullscreen in any state is okay).

commit 460f97ff96838b34a329d40be4ba09fa950ad16d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 16:36:40 2014 -0500

    A bunch of fixes for the new Spaces code.

commit da324233e2f830079524e9d5763cba7767da860f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 2 13:06:51 2014 -0800

    Fixed dictionary initialization

commit 0f9bb0cda69dd4192071e95d16a5bf3e7110fb54
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 2 12:58:00 2014 -0800

    Updated to build on Mac OS X 10.7 with Xcode 4.6

commit 5eccbac4b9c284e7251fca6fe3e821eea879f8b5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 15:35:24 2014 -0500

    Mac: Manage menubar and dock as FULLSCREEN_DESKTOP windows become/resign key.

commit 4ca76b3e59ba4128e23910e09c853f001da1e26b
Author: Bastien Nocera <hadess@hadess.net>
Date:   Sun Mar 2 14:59:06 2014 -0500

    Add support for the freedesktop.org Idle Inhibition specification,
    as per:
    http://people.freedesktop.org/~hadess/idle-inhibition-spec/
    
    This makes screensaver inhibition work with GNOME 3 and other
    desktop environments that implement the specification.
    
    https://bugzilla.libsdl.org/show_bug.cgi?id=2169

commit c2c08f68e4b30d0b04e40a84942beecc712ba890
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 2 11:10:00 2014 -0800

    Backed out changeset 9357a2ca3473

commit 2cf453dd3e99d8164946bb7589acb31e74f14c6a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Mar 2 11:08:05 2014 -0800

    Make sure we return version 0 if XInput detection fails

commit 51faf449bbc219fafee58b825f8ac845ba5fcc15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 12:45:51 2014 -0500

    Reworked fullscreen policy on Mac OS X.
    
    - SDL_WINDOW_FULLSCREEN works as always (change resolution, lock to window).
    - SDL_WINDOW_FULLSCREEN_DESKTOP now puts the window in its own Space, and
      hides the menu bar, but you can slide between Spaces and Command-Tab between
      apps without the window minimizing, etc.
    - SDL_WINDOW_RESIZABLE windows will get the new 10.7+ "toggle fullscreen"
      window decoration and menubar item. As far as the app is concerned, this is
      no different than resizing a window, but it gives the end-user more power.
    - The hint for putting fullscreen windows into the Spaces system is gone,
      since Spaces can't enforce the requested resolution. It's a perfect match
      for FULLSCREEN_DESKTOP, though, so this is all automated now.

commit afc74d9843d45e13731a59605161b414054e904c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 02:00:40 2014 -0500

    Better attempt to detect available X11 XInput2 features.
    
    Fixes Bugzilla #2306.

commit fc0daeba750119b2321cca8ab73a64eeaa6773fa
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 01:59:25 2014 -0500

    Fixed X11 XInput2 multitouch test to work in configure script.
    
    configure wraps this C code in a main() function, so you can't declare a
    function body in there. Besides, I'm not sure why we declared a function
    that's part of the multitouch API anyhow.
    
    Now we just reference a type that only exists if the headers have multitouch
    support and call it a day.

commit 1005c93402bb42019b2657af7d80a8a61a5c7047
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Mar 2 00:02:56 2014 -0500

    Windows: Fixed crash if quitting without closing an XInput haptic device.

commit 754067db7e57c56aa828a2e38515f6bf2c5bdf15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 22:27:21 2014 -0500

    Added a FIXME.

commit 7fa4eece25583d255b1210e47b218a807d0b3882
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 22:27:13 2014 -0500

    Fixed a typo in a comment.

commit bafa4c7ae80f269cd22477e37dc6152ca24a279b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 21:33:48 2014 -0500

    Dynamically load glGetString(), to avoid direct dependency on OpenGL.

commit 73936208b0132f5b572545fee478b3c45bc9c291
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 20:59:43 2014 -0500

    Added some FIXMEs.

commit 99583397e6e2cada672737a6e019edc80c494b25
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 20:46:45 2014 -0500

    Mac OS X: Make OpenGL context selection more robust, avoid software fallback.
    
    Fixes Bugzilla #2197.

commit 3e541f306d21ce3fbff5ef750008577c779bfa56
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Mar 1 20:28:40 2014 -0500

    Force Windows version of SDL_GetPrefPath() to Unicode, create missing dirs.
    
    Fixes Bugzilla #2273.

commit 6687ece1d56e7ef1fe332d40f75db91826847849
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 1 16:37:30 2014 -0500

    WinRT: cleaned up some hard-to-read SDL_DisplayMode management code

commit f4a5a0fad18dad5a03033c3581627b11df9f6ecc
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Mar 1 16:08:16 2014 -0500

    WinRT: fixed a crash in SDL_Quit
    
    SDL was expected that each SDL_DisplayMode had a driverdata field that was SDL_malloc'ed, and was calling SDL_free on them.  This change moves WinRT's driverdata content into a SDL_malloc'ed field.

commit 63106e4729a394b697a887cb69d42886f7c2f4ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 12:21:15 2014 -0800

    Changed SDL_HINT_ACCEL_AS_JOY to SDL_HINT_ACCELEROMETER_AS_JOYSTICK to be more clear.

commit 54ba385b4eb64c78b64a5fb90931cda64bb6036c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 11:42:12 2014 -0800

    Fixed compiler warning

commit 86655b64efe341f9a837e61bd2c1f591d549eecd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 11:40:41 2014 -0800

    Fixed compiler warning

commit d49962359ac4fcc4fba29e62f27c2c3c081d864b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 11:39:39 2014 -0800

    Fixed test for libuuid.a

commit 2a67548a3f83e4fa22301b93012da8e471f9c4da
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 11:05:58 2014 -0800

    Updated with the latest 2.0.2 API changes

commit c916f388d421c6f5c287d21b48f4f6b446384831
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 09:59:06 2014 -0800

    Fixed bug 2368 - Security Software is blocking RegisterRawInputDevices()
    
    Yamagi
    
    A customer of mine had the strange problem, that SDL_SetRelativeMouseMode() was failing for him on Windows 7. Luckily he was willing to provide some debug informations. We could track this problem down to RegisterRawInputDevices() failing due to security software running on his system (Norton Internet Security to be precise, but there are reports of similar problems with other products. For example [1]). Working around this issue with SDL_WarpMouseInWindow() is easy, and while I don't think that SDL2 can provide an internal workaround it would be really nice and helpfull if this could be documentated somewhere.
    
    1: http://forums.codeguru.com/showthread.php?498374-How-to-run-a-very-long-SQL-statement

commit e663b4eb76493b92e3218b1d4a55c4cadda8a5de
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Mar 1 09:50:52 2014 -0800

    Fixed bug 2423 - timeBeginPeriod & timeEndPeriod mismatch
    
    Coriiander
    
    In src\timer\windows\SDL_systimer.c there is an error with regards to timeBeginPeriod and timeEndPeriod. These functions typically get called when no high resolution timer is available, and GetTickCount is not used.
    
    According to MSDN (link: http://msdn.microsoft.com/en-us/library/windows/desktop/dd757624(v=vs.85).aspx), for every call to timeBeginPeriod a subsequent call to timeEndPeriod is required. While SDL is currently doing this, it fails to call timeEndPeriod when cleaning up/shutting down SDL. Please note that these functions affect things on a system level. Failing to call timeEndPeriod, disables applications for using WINMM-timers after usage&shutdown of SDL, as effectively they the mechanism is now broken.
    
    Solution:
    Ensure this code gets called when shutting down the timer subsystem:
    
    #ifndef USE_GETTICKCOUNT
    if (!hires_timer_available)
    {
        timeSetPeriod(0);
    }
    #endif

commit ab9345a896dc509a6414db44362a4833f24c2fa4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 28 16:24:41 2014 -0800

    Null termnate the pUserMappings variable to prevent memory corruption.

commit e56bbe3f71732e44af0d153376556bfc66ec9c1d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 28 14:23:41 2014 -0800

    Added a hint to enable the screensaver by default

commit ac32352f09137c4ecbc260737a53a25f402f0ef4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 27 22:06:41 2014 -0500

    Disable the screensaver by default.
    
    Fixes Bugzilla #2218.

commit f61602b4347cb1fb5dae63b96c604e2944a5b48b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Feb 27 20:21:46 2014 -0300

    Improve window recreation logic in OpenGL* renderers

commit 0d5957dfee6ecd238051e077bbe928b856331c8c
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Feb 26 16:27:03 2014 -0800

    Mac: Forgot return value in last commit.

commit dd94c5fa545d4fa2e8d80d70ab8f9e47b7a41840
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Feb 26 16:10:52 2014 -0800

    Mac: Don't disassociate cursor if window is moving / doesn't have focus.
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=2396

commit 4850d25988018401884c79f88b336d5d89ad6dc3
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Feb 26 11:35:02 2014 -0800

    Mac: Redo cursor warp handling.
    
    This fixes bugs related to getting unnaturally large xrel/yrel for
    SDL_MOUSEMOTION after warps and enabling / disabling relative mode.
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=1836

commit 52a63e823f281d9fcc2bd3ceb2f50f0994468dea
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Tue Feb 25 17:27:41 2014 -0800

    Mac: Improve moving relative mode windows.
    
    This makes it possible to move windows by their title bar, even if they're in
    relative mode, if you click the title bar when the window does not have focus.
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=2396

commit 98d8737961370d4063d1c217dec67da538df78a5
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Tue Feb 25 17:25:49 2014 -0800

    Mac: Fix error message for haptic subsystem.
    
    We were calling SDL_Error instead of SDL_SetError when the haptic subsystem
    wasn't initialized.

commit 95f7e242e67081a11a781617be7d3e767acd0cd0
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Tue Feb 25 15:28:12 2014 -0800

    Mac: Immediately update current OpenGL context's shape.
    
    Previously we were postponing our -[NSOpenGLContext update] call to the next
    SDL_GL_SwapWindow, even if the context was current on the current thread. This
    changes it so that we will do the update immediately if it's the current
    context.
    
    If you're rendering on another thread, you need to call SDL_GL_SwapWindow once
    after a resize event to ensure your drawable will produce non-garbage data.
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=2339

commit 4c192bc802b0a35ecbbec5e80011093e874972e4
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Feb 25 17:42:34 2014 -0300

    Fixes #2308, recreate window if GL requirements for the renderer are not met
    
    If the window has been created with values for SDL_GL_CONTEXT_PROFILE_MASK,
    SDL_GL_CONTEXT_MAJOR_VERSION and SDL_GL_CONTEXT_MINOR_VERSION not matching those
    required by the renderer, attempt to recreate the window.
    This is needed on platforms where both GL and GLES 1/2 surfaces are supported
    by the video backend, requiring that the window be recreated when switching
    between context types.

commit abfbed92cfb9db177c295bc655f5c9f5c072e354
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Jan 26 08:06:36 2014 -0500

    WinRT: simulate keyboard events on Windows Phone 8 back-button presses
    
    Pressing the hardware back button on a Windows Phone 8 device will now cause SDL to emit a pair of key-down and key-up events, with the SDL scancode, SDL_SCANCODE_AC_BACK.
    
    By default, if WinRT's native back-button-press events are not explicitly marked as 'handled', then Windows Phone will terminate the app.  More details on Microsoft's reasoning behind this can be found on MSDN, at http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj247550(v=vs.105).aspx
    
    To mark back-button-press events as 'handled', set SDL_HINT_WINRT_HANDLE_BACK_BUTTON to 1.  Setting it to anything else will cause these events to not be marked as 'handled'.
    
    Due to limitations in Windows Phone's APIs, SDL will emit a virtual key-up event immediately after the back button's key-down event is registered.  Unfortunately, Windows Phone 8 only allows one to register for back-button-press events, and not back-button-release events.

commit 7eaa3cd81d966aaaa67c2a127796df5c2fe26e8d
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Jan 1 16:05:37 2014 -0500

    WinRT: added a means to display a privacy policy link via the Settings charm
    
    This change is only relevant for Windows 8, 8.1, and RT apps, and only for those that are network-enabled.  Such apps must feature a link to a privacy policy, which must be displayed via the Windows Settings charm.  This is needed to pass Windows Store app-certification.
    
    Using SDL_SetHint, along with SDL_HINT_WINRT_PRIVACY_POLICY_URL and optionally SDL_HINT_WINRT_PRIVACY_POLICY_LABEL, will cause SDL/WinRT to create a link inside the Windows Settings charm, as invoked from within an SDL-based app.
    
    Network-enabled Windows Phone apps do not need to set this hint, and should provide some sort of in-app means to display their privacy policy.  Microsoft does not appear to provide an OS-integrated means for displaying such on Windows Phone.

commit 44b0e901f06be19d1849268d98eeda7a203c208e
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Dec 30 11:59:04 2013 -0500

    WinRT: d3d11 blend mode bug fixes
    
    The destination target's alpha wasn't getting set correctly in many cases.  Among other problems, this prevented some alpha-blended textures from displaying correctly in Windows Phone 8's multitasking screen.
    
    The d3d11 renderer now uses the same blending settings found in the d3d9 renderer.

commit 910c1cd0a0ce4a8ac55a089415bd065043223844
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 14:21:47 2013 -0500

    WinRT: minor error cleanup regarding OpenGL init

commit 0dfde14d35ca75d9ed67a59ccfde0bbbb6fe4310
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 14:13:20 2013 -0500

    WinRT: took out some dead comments from SDL_winrtopengles.cpp

commit fed81d121a9ae9d9ed6380ee9a31546fa264a69e
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 13:59:01 2013 -0500

    WinRT: fixed crash on ARM and x64 during OpenGL window init

commit 0562e53fdf2930a19491b7cbee3388c896c06ac1
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 11:04:35 2013 -0500

    WinRT: minor header file usage cleanup in the d3d11 renderer

commit 94233675c7ffdb6ed23a36a366cfc6b2f577b2fd
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 11:03:43 2013 -0500

    WinRT: simplified the d3d11 vertex shader a bit
    
    The projection and view matrices are now computed ahead of time, as they both get computed in the same spot, and typically not often.  If this does, however, become a performance problem later on, this change can always be reverted.

commit 7ef05d266f74c3bc19820df1af1d9129fef19bcc
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Dec 26 10:18:33 2013 -0500

    WinRT: implemented SDL_RenderSetClipRect for the d3d11 renderer

commit 700f82de2b9b56bd85b67e1a1966143abc12cc58
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 23:46:19 2013 -0500

    WinRT: corrected a minor error in an end-of-file comment

commit 8b2694f9863d7ff072a0e38f50ac44585d91a308
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 23:45:07 2013 -0500

    WinRT: minor rotation/orientation code cleanup in the d3d11 renderer

commit b93ab1e6a3de4043497d1239398d31ec38690fec
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 23:25:25 2013 -0500

    WinRT: removed a bit of dead d3d11 code

commit f0e406e994e087a9446d6e595e6faa78d818b435
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 22:27:58 2013 -0500

    WinRT: d3d11 compiled-shader code cleanup
    
    I'm surprised this code even compiled, before this change.  It did, but regardless, here's a cleanup.

commit 4d16628f1c62d2c380ded59803acb9ff1d718a7d
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 22:05:18 2013 -0500

    WinRT: made sure d3d11 debug mode doesn't get enabled by default
    
    D3D11 debug mode got inadvertently enabled, in all cases, via changeset c0e68f3.  This change reverts that.

commit ce8057221af13f5778af60c0b1a336cf0438de40
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 21:39:48 2013 -0500

    WinRT: compiled the d3d11 renderer's shaders into SDL itself
    
    Previously, the shaders would get compiled separately, the output of which would need to be packaged into the app.  This change should make SDL's dll be the only binary needed to include SDL in a WinRT app.

commit ca867fc92d822e2cf4e7d83921ce1c2c8721e44c
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 14:42:38 2013 -0500

    WinRT: prevented a potential race condition in the XInput backend
    
    The race condition could've been triggered on device removal.

commit 8db33416a22e3fc032fb408b90f0fad3698d03ab
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 14:20:40 2013 -0500

    WinRT: added a TODO note regarding texture-[un]locking in the d3d11 renderer

commit 187f52e80fb3ec089b1307e7f26094f7800bacdb
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 14:17:49 2013 -0500

    WinRT: renamed d3d11-internal struct, SDL_VertexShaderConstants, to just VertexShaderConstants
    
    This is primarily to keep naming consistent with other shader-bound structs.

commit 2225493102ea47d96d6a11e39cad5b8c5f039c7c
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 13:13:15 2013 -0500

    WinRT: moved contents of the d3d11 renderer's header file into its implementation file

commit d4ae39295367c1d21130c5519667f2efd5d74819
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 13:00:41 2013 -0500

    WinRT: simplified a potentially-common error message from D3D11_SetRenderTarget

commit b0df9157379ff187098cad3818c245083387d3ff
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 12:58:37 2013 -0500

    WinRT: removed an unnecessary use of std::string in the d3d11 renderer

commit 10f2de1e69faff4890b958cc647764e6b9d36542
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 12:52:16 2013 -0500

    WinRT: utilized SDL_SetError's return value in the d3d11 renderer

commit 43e27aa82ef558a0297df868fb14bddbed2b3063
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 12:48:47 2013 -0500

    WinRT: minor d3d11 code cleanups

commit 8c8feb83e04e757edbb4d1199a7d088d59852140
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 12:47:39 2013 -0500

    WinRT: made d3d11-spawned error messages trickle down
    
    Some error messages had the potential to be overwritten/obscured.

commit 5fba7db23cd11817296e443d3278c5ff71f3eaea
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Dec 25 12:43:26 2013 -0500

    WinRT: made d3d11-spawned error messages include the function name of failed calls

commit 3f1e3c303e1a0f4418949cef6d75af5a13463e45
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 24 21:28:31 2013 -0500

    WinRT: moved ill-performing XInput device-detection calls to a separate thread

commit 27e79b93ec9fd2baa77955be0b75d73df590cfd0
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 24 21:08:11 2013 -0500

    WinRT: bug fix: game-controller/joystick button-down events weren't getting sent

commit 5e6aba067003a553ae29e06e75faa9914f939031
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Dec 22 21:13:35 2013 -0500

    WinRT: better rendering performance via D3D11_USAGE_DYNAMIC

commit d92f0127d0d2495bd674c5b9a82cb0cdfbd5e69a
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Dec 21 10:08:11 2013 -0500

    WinRT: enabled OpenGL ES 2 support by default
    
    A copy of ANGLE/WinRT is still needed to run OpenGL content, but is not needed to compile SDL/WinRT.

commit 472068dd979d2179f0b9fa30f462837346491a79
Author: CarniBlood <CarniBlood@localhost>
Date:   Thu Dec 19 06:01:18 2013 +0900

    fixed gles/gles2 renderer creation fail on Android when default major/minor version doesn't match

commit 8db4c5a9d3061a396a2e1c7961963c67f1fb9cfe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Feb 25 10:04:49 2014 -0800

    Fixed crash if the input data pitch is larger than the locked texture pitch

commit b420ad0e019f8935488b20b62adb5f598b23447a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 23:09:35 2014 -0800

    Don't warp the mouse while we're doing a modal interaction

commit 2a6213ad02cde6cda9939c604f9264fbe14c3a56
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 22:49:30 2014 -0800

    Make sure we don't clip the cursor while clicking on the window title bar

commit 973d890b833d6aed737b8a443d76ca0d2281011a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 22:37:58 2014 -0800

    Fixed relative mouse mode with multiple windows.
    The window cursor clipping will be taken care of when SDL_UpdateWindowGrab() is called.

commit 54debf84e422a908f7a7809c8388607e2057ecf4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 24 22:36:24 2014 -0800

    Added a bunch of missing windows messages

commit d6b1218b464e0e11c23aef3f683a56988798d3ba
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Mon Feb 24 16:42:08 2014 -0800

    Mac: Fix inconsistent repeat of SDL_TEXTINPUT events on 10.7+
    
    Due to the new "tap and hold" IME in Mountain Lion and above, we were getting
    inconsistent repeat of SDL_TEXTINPUT events. Disabling that functionality (since
    you can't see the popover anyway) solves this.
    
    Bug: https://bugzilla.libsdl.org/show_bug.cgi?id=2387

commit 6ee12d6ccc24e02511a0c546a71d36a4920916ba
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Feb 24 18:57:22 2014 -0300

    Fixes #2296 - SDL_GL_UnbindTexture segfaults (thanks Daniel B?nzli)

commit b814f23a21f01dd2015323c792ac433a10f3ed56
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 24 11:24:48 2014 -0500

    CMake: Fixed build on Mac OS X.

commit 1084421ccab4fd5f11120c994bd9986b39e87e40
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Feb 24 10:25:02 2014 -0300

    Zero out haptic linked list items on creation
    
    (thanks to Turo Lamminen for the report!)

commit 2ed47d83690f48cbf37d87938421f873451f602a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Feb 24 10:00:10 2014 -0300

    Fixes #2417, memory leak in SDL_gamecontroller.c (thanks Leonardo!)

commit 96f09df73000c76428f853ecb8c05bd8d4044d27
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 23 01:24:46 2014 -0500

    Free the correct variable.

commit 295acea953eecd7ef2b6ca8047603b87b6744122
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 23 01:10:33 2014 -0500

    CMake: Just assume Apple platforms have Cocoa support.
    
    Fixes Bugzilla #2056.

commit f9f2bc5afbe3f648c73d87406002e3252bd45b94
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 22 21:21:33 2014 -0500

    Fixed Mac DualShock 4 gamecontroller db entry again.

commit b67b970db15312de9fb81cabc71bacb7034368ce
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 22 21:15:34 2014 -0500

    Mac joystick: ignore duplicate HID elements.
    
    The DualShock 4 has all elements listed twice: once in the top-level list of
     elements, and once in an "Application Collection" element at the top-level.
    
    Each element has a proper cookie with a unique value, so now we descend into
     each element collections, but before we add an element to the device's list,
     we make sure we don't already have one with that cookie, probably from
     another collection or a buggy device.

commit 9cd5f5cecad0215b7496f67575befe3e0a01ea4c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 19:10:45 2014 -0800

    Fixed bug 2404 - CPU detection not working with MSVC on x64
    
    Tiemo Jung
    
    All CPU detection functions SDL_Has* will return false, even if it is supported by the CPU, if SDL is compiled with MSVC and the target is x64.
    
    The reason for this is that 'CPU_haveCPUID' will return 0 and macro 'cpuid' in SDL_cpuinfo.c is the fallback implementation, which sets all params to zero.
    
    It is safe to assume that cpuid is supported on a CPU that runs windows x64, so CPU_haveCPUID can just return 1, and the empty macro can be replaced with a small wrap around the __cpuid intrinsic.

commit fea87cc9cfc2ea3f941b248d1cdc2ac658b03edd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 18:01:18 2014 -0800

    Fixed bug 2335 - Fails to build on Debian GNU/kFreeBSD
    
    Felix Geyer
    
    Starting from version 2.0.1 libsdl fails to build on Debian GNU/kFreeBSD in SDL_cpuinfo.c.
    
    GNU/kFreeBSD defines __FreeBSD_kernel__ but not __FreeBSD__.
    The #ifdef __FreeBSD__ check should be extended for __FreeBSD_kernel__, see the attached patch.
    
    Build log:
    libtool: compile:  gcc -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2 -DUSING_GENERATED_CONFIG_H -Iinclude -I/?BUILDDIR?/libsdl2-2.0.1+dfsg1/include -mmmx -m3dnow -msse -msse2 -fvisibility=hidden -D_REENTRANT -I/usr/include/dbus-1.0 -I/usr/lib/x86_64-kfreebsd-gnu/dbus-1.0/include -DHAVE_USBHID_H -DUSBHID_NEW -D_REENTRANT -Wall -c /?BUILDDIR?/libsdl2-2.0.1+dfsg1/src/cpuinfo/SDL_cpuinfo.c  -fPIC -DPIC -o build/.libs/SDL_cpuinfo.o
    /?BUILDDIR?/libsdl2-2.0.1+dfsg1/src/cpuinfo/SDL_cpuinfo.c: In function 'SDL_GetSystemRAM':
    /?BUILDDIR?/libsdl2-2.0.1+dfsg1/src/cpuinfo/SDL_cpuinfo.c:632:35: error: 'HW_MEMSIZE' undeclared (first use in this function)
                 int mib[2] = {CTL_HW, HW_MEMSIZE};
                                       ^
    /?BUILDDIR?/libsdl2-2.0.1+dfsg1/src/cpuinfo/SDL_cpuinfo.c:632:35: note: each undeclared identifier is reported only once for each function it appears in
    make[2]: *** [build/SDL_cpuinfo.lo] Error 1

commit 6bb2f2ef8dffe24903ff541675e5e4b31d3801b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 17:55:58 2014 -0800

    Fixed bug 2347 - On OSX, an SDL app prevents system shutdown.
    
    Tim McDaniel
    
    On OSX, an SDL app forces a system shutdown to be cancelled.  This happens because [SDLAppDelegate applicationShouldTerminate] returns NSTerminateCancel.  A better approach is to subclass NSApplication and override terminate to do nothing except call SDL_SendQuit.  In response to a system shutdown notification, this allows the normal SDL Quit event processing to occur, and if the app then terminates, system shutdown occurs normally.  Please see the attached patch, based on SDL 2.0.1.

commit b80f4f9e506ec83805c24162d1642efb0a3acc02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 17:39:35 2014 -0800

    Don't fail initialization if the helper window class already exists.

commit a5f52ac5a811c2730cbb3316495ca3bc8a86475e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 17:32:18 2014 -0800

    Fixed bug 2395 - OSX: App name in the menu bar is not localized.
    
    Tim McDaniel
    
    On OSX, the app name in the menu bar is not localized.  This can be fixed using the following implementation for GetApplicationName in SDL_cocoaevents.m:
    
    static NSString *
    GetApplicationName(void)
    {
        NSDictionary *dict;
        NSString *appName = 0;
    
        appName = [[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleDisplayName"];
        if (!appName)
            appName = [[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleName"];
    
        if (![appName length])
            appName = [[NSProcessInfo processInfo] processName];
    
        return appName;
    }

commit eb5eb0465213a8acb55d1402ceb0223ce9b3ee4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 15:34:31 2014 -0800

    Fixed bug 2298 - undefined reference to `IID_IUnknown' on cygwin
    
    Brian Minton
    
    When building static or shared libraries on cygwin 1.7.25 on Windows 7 (32-bit), I get the following link errors:
    
    build/.libs/SDL_windowskeyboard.o: In function `UIElementSink_QueryInterface@12':
    /home/c-bminton/src/SDL/src/video/windows/SDL_windowskeyboard.c:995: undefined reference to `IID_IUnknown'
    build/.libs/SDL_windowskeyboard.o: In function `IPPASink_QueryInterface@12':
    /home/c-bminton/src/SDL/src/video/windows/SDL_windowskeyboard.c:1101: undefined reference to `IID_IUnknown'
    collect2: error: ld returned 1 exit status
    Makefile:126: recipe for target 'build/libSDL2.la' failed
    make: *** [build/libSDL2.la] Error 1
    
    --
    The libuuid from e2fsprogs is completely unrelated to the w32api UUID.DLL implib. FWIW, any *NIX software that I've seen obviously wants the e2fsprogs version, but if libuuid-devel is installed (in /usr/lib) then you can't link against the w32api implib with a simple -luuid.

commit d3cf7360dbd24f0bd0375c3e9675640244a9b3f1
Author: James Legg <jlegg@feralinteractive.com>
Date:   Fri Feb 21 13:57:53 2014 +0000

    Fix audio conversion when channel count changes
    
    - Use the SDL_AUDIO_MASK_DATATYPE bit when selecting an implementation
      where it matters. Previously two existing AUDIO_F32 cases had been
      written, but were unreachable.
    - Add AUDIO_F32 case for SDL_ConvertSurround_4.
    - Fix incorrect pointer arithmetic causing the 2 to 6 channel
      conversion for 4 byte audio formats to read and write beyond the end
      of the buffer.

commit 5512eac69fb2e3fc02af57bedea1f3473629063c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 15:27:11 2014 -0800

    Fixed bug 2414 - Execute event watchers in the order they were added
    
    Leonardo
    
    Event watchers are being executed on the inverse order they are added because they are added to the head of the SDL_event_watchers list.
    
    Since watchers are allowed to change events before they are reported (they shouldn't, imo), this breaks code that rely on watcher execution order (such as distributed event handling).
    
    An easy scenario to see this behaving weird to the user is if you add an event watcher to check mouse coordinates and check them again in your event loop. If you add the watcher after renderer's one (which always happens after you have initialized renderer), you get the same event but different coordinates.
    
    The proposed patch adds the event watcher in the tail of the list, not in the beginning, and correctly fixes this problem.

commit f7de4ae130e8580f8b0165f2849e20284a2343d5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 15:23:09 2014 -0800

    Fixed bug 2407 - Support for OpenGL ES 3 contexts on iOS
    
    Alex Szpakowski
    
    Currently the UIKit/EAGL backend for SDL's OpenGL context creation API doesn't support OpenGL ES 3, despite iOS 7+ being capable (on devices with the necessary hardware.)
    
    I have attached a patch to add support. It's also slightly more future-proof, so eventual OpenGL ES 4+ capability on iOS should hopefully work without requiring changes to SDL's UIKit/EAGL backend.

commit af0ab490038cc25a802258a32374dd521b0faef9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 14:57:12 2014 -0800

    Fixed bug 2346 - Mac: mousewheel events have flipped horizontal scroll values
    
    Alex Szpakowski
    
    On my Mac OS X system (10.9.1), the SDL_MOUSEWHEEL event reports negative X values when my trackpad scrolls to the right, and positive X values when my trackpad scrolls to the left. This is backwards from what I'd expect, and I don't think it matches the Windows wheel events.
    
    The vertical scroll values are what I'd expect though, and are consistent what gets reported on Windows (positive Y for scrolling up, negative Y for scrolling down.)
    
    This is with "scroll direction: natural" disabled in the OS X trackpad settings (i.e. my scroll direction in non-SDL OS X programs matches what happens in Windows and Linux.)
    
    I also tested with the horizontal scroll on a real mouse (Logitech G500 without custom drivers), and the horizontal scroll values in SDL are still flipped.
    
    I "solved" the issue for myself by changing this line in the Cocoa_HandleMouseWheel function:
    
        float x = [event deltaX];
    
    to this:
    
        float x = -[event deltaX];
    
    I believe it should work fine with that change - I found something similar in another codebase while looking online for my issue - but I haven't tested on anything below Mac OS 10.8.

commit 7c33f2336122c95fb5c53b8f32ecc4f7817fbe2e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Feb 22 10:40:12 2014 -0800

    Thou shalt not use more than 4k local variables in this code.

commit 0deb54c0241d38db3c43ebe5e5e442f7aef6bfa5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Feb 22 00:55:28 2014 -0500

    Reworked Mac OS X joystick code to use the 10.5+ HID Manager API.
    
    Besides being a little more simple to use than the earlier IOKit HID API, and
     less likely to be deprecated, it also has the added benefit of working with
     the Sony DualShock 4 controller in Bluetooth mode out of the box, whereas
     the previous API has a bug that makes it report bad data for the
     controller.
    
    Cleaned up several other things in this code, having gone over every line of
     it. The remaining deprecated calls are also gone.

commit abe2ac2cb48de2b79034c13ff29706cf15e25edd
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Feb 21 08:37:57 2014 -0300

    Fixes #2326, clean up the X11 backend a bit

commit 22e3217e598fe5c76e548a7feb3689ff9a59eeb8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 20 21:07:56 2014 -0800

    Fixed infinite recursion in D3D_Reset()

commit ea71a5e074cb9725fedcf6a1ee49d764112041b9
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Feb 20 17:03:55 2014 -0300

    Fixes #2408, VS2013: several projects of release build are not built
    
    Patch by Hiroyuki Iwatsuki

commit 01550b96cc71ab170b17cb7f1b4c7216711c6083
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Feb 20 16:12:11 2014 -0300

    Improve testgles2 exit behavior (useful on Android)

commit e3f0d53b55d57ed92ada2a49885b913ca9d97fe0
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Feb 19 11:03:03 2014 -0300

    Fixes #2403, add SDL2 dependency to testgles2 (thanks Hiroyuki Iwatsuki)

commit 6b33f2e8cab7e8ad0e0ceb037e84ff25fceb20a5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 17 22:20:33 2014 -0800

    Fixed resetting the current render target if the D3D device is reset while using a non-default render target.

commit ccce6fb302eda86a5bd47fa62ff7f36016dc317c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 11:47:54 2014 -0500

    s/iPhoneOS/iOS

commit 245e125e0f86f6f6ef311ed652c7766771a01c2e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 17 11:46:23 2014 -0500

    Corrected battery percentage on iOS (thanks, Felix!).
    
    Fixes Bugzilla #2397.

commit fbeb24e96ef019296a7cf6c1b07ebff18eaa2190
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 16 00:04:15 2014 +0100

    Fixed documentation comments in SDL_hints.h file.

commit fc1c17cc01d9e7aa77d5a1aec2cca0df944ca594
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 15 23:57:38 2014 +0100

    Changed text in documentation.

commit 70b975d626f960c4b3c87ca99253b8a91cf1a53c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Feb 15 23:52:04 2014 +0100

    Corrected name of hint in README.

commit 5c5770ad448aefa1d0a0604a055ab16395e46fc1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 11:39:58 2014 -0800

    Make sure we don't stay in the windows event loop forever if there are lots of events coming in quickly.

commit 441f7d8d63c028d326a7480e10eb65e5d5029105
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Feb 14 11:38:59 2014 -0800

    Fixed Mac PS4 controller entry, added Linux OUYA controller entry

commit 268071d16f18230a6beeb4f6a85e26f45422f74d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:08:12 2014 -0800

    Added the new function at the end so we don't break the ABI

commit baf2dd4c7e2b8ace04e32a40375b5deb7b908196
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:34 2014 -0800

    Back out changelist 1951976

commit f5d1559b51a5afb27686c1fce127ed8a590b0754
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:32 2014 -0800

    Back out changelist 2026006

commit c52c91056bc366ef5491830be49f64d178fa1563
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:30 2014 -0800

    Added SDL_DXGIGetOutputInfo which returns the adapter and output indices that are used to create DX10 and DX11 devices and swap chains on a particular display.
    
    CR: SamL

commit e34da6801f21db9b08b9a9acb1c413d216fa0086
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:28 2014 -0800

    Fixed lost mouse button when in relative mouse warp mode and you click on the title bar, entering a modal move/resize loop.
    
    Testing:
    * Set the SDL_HINT_MOUSE_RELATIVE_MODE_WARP hint true, run testsprite2, press Ctrl-R to enter relative mode, alt tab away from the window, then click on the title bar of the window. Didn't get the mouse button release before, and we do now.
    
    CR: Yahn + Alfred

commit 567b5ba8e9732edf2fb8a1a53937a3a4c8c2cc77
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:26 2014 -0800

    As part of Jorgen's code review of this function I added a call to LoadLibrary so the refcounts would be consistent between Windows and Posix. Then I forgot to include the check that the thing was actually loaded and caused it to be loaded all the time.  Oops.
    
    
    CR: AaronL

commit 1fa4939a38fcb3ee5ac71427b4a8783bffbdaab4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Feb 13 11:05:24 2014 -0800

    Added SDL_GetLoadedModule to do the equivalent of GetModuleHandle/dlload(NOLOAD)
    
    CR: Jorgen

commit cf119f786a6372a80f2ed1648e27d3b666d6563a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Feb 12 18:12:14 2014 -0300

    Try to work around Android's handling of static variables in terminated apps
    
    Android, we want to love you, but you don't make it easy for us...

commit 076a14b26344cf498f40d43b9bf89e8f9f96071b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 13:40:02 2014 -0800

    Fixed crash if render target textures are used while the device is lost

commit ae05f178c237820ad183ef47a6c08e164988226f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 10:02:51 2014 -0800

    Recreate render target textures when the D3D device is being reset, and notify the application using the SDL_RENDER_TARGETS_RESET event when this happens.

commit 9f2509da79d3a63853ac785538aa69c3888770aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 10:02:42 2014 -0800

    Exposed the font character size and SDLTest_DrawCharacter() to make it easier to do custom debug text layout

commit a396841f8ddf095dde0610df7aebb998c400765a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Feb 10 10:02:18 2014 -0800

    Fixed bug where a window created fullscreen and hidden would get activated and "shown" but never actually be visible.
    This is the case with the Steam In-Home Streaming client.

commit f38c1f05f5b2627d7ca141f581b3d3cc8bd525ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 12:47:26 2014 -0500

    Fixed DualShock 4 controller config on Mac OS X.

commit 7f4c6a9ca16b66d979a7406222493f08376285be
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Mon Feb 10 10:53:02 2014 -0500

    Fix Cmake so generated SOname matches autoconf's #.

commit 2d92a37237fc8bd4c06b0c1087b0f96f843f456b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 11:29:48 2014 -0500

    Make controllermap, etc, work on platforms with hardcoded window sizes.
    
    This makes sure everything renders correctly, even if, say, an Android device
    gives you a certain "window" size no matter what you ask for.

commit 9268c7a1b3ce0a8476ac07ab3026846613f1e6a7
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Feb 10 09:26:22 2014 -0300

    Backed out 0869362ccc3c
    
    The render target usage in controllermap is required if you are forced to use
    the app at a different resolution than the one the art has been made for, for
    example on Android, where you don't control the resolution.
    (The coordinates for each button are hardcoded to the art size, and appear out
    of place otherwise)

commit f0aa97d20fb610bb379cde409791d278f26c220c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 01:43:01 2014 -0500

    Removed unused function.

commit b17fd9a180e38aefa162b4385eb6b333792c75e3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 10 01:41:58 2014 -0500

    Replace testgamecontroller visualization mode with something more useful.

commit 9a15da84dbf1b52037fdc756d7afefc9479a30bc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 9 15:20:41 2014 -0500

    No need to use a render target here.

commit 853334afedfbcbf1e9bbc77f6fdbb96313d47c55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 03:09:56 2014 -0800

    Updated SDL to version 2.0.2

commit 8cabd44f363002adc85057fde13e6b09047373aa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 03:09:04 2014 -0800

    Fixed the OUYA controller mapping on Windows

commit c8c3911e0d29609caade1c79b6c11608b04661f8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 02:42:59 2014 -0800

    Added Windows entry for the bluetooth OUYA controller

commit c3c2964dbb4f922e67e0cbf7d84b8a8d29940e7a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 02:04:40 2014 -0800

    Possibly fixed bug 2250 - Cmake: SDL2 Doesn't install DLLs on Windows
    
    ernest.lee
    
    [Exec] CMake Error at cmake_install.cmake:151 (FILE):
    [13:37:43][Exec]   file INSTALL cannot find
    [13:37:43][Exec]   "C:/TeamCity/buildAgent/work/2e3d17a492e75daf/Build/libSDL2.so".
    
    The cmake INSTALL project doesn't work because it uses Linux so shared library paths. Windows uses dlls and I think cygwin also uses dlls. I've included this patch. Can you check if it works?

commit 3ab3ea642db9df7693909b0c7306aeb9230d9742
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 01:56:41 2014 -0800

    Fixed bug 2385 - error: unknown type name 'IDirect3DDevice9'
    
    Sandu Liviu Catalin
    
    I'm unable to compile the latest SDL (directly from the repository) even though I disabled every DirectX option since I don't need DirectX.
    
    I allways het these errors:
    D:\DevLibs\SDL\src\render\direct3d\SDL_render_d3d.c:1897:1: error: unknown type name 'IDirect3DDevice9'
    D:\DevLibs\SDL\src\render\direct3d\SDL_render_d3d.c:1898:25: error: unknown type name 'SDL_Renderer'

commit b331ada815fff35ee9028d60a08cd63df4648d35
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 9 01:49:01 2014 -0800

    Fixed bug 2354 - [ES 2.0] SDL_RenderClear clears render target with wrong color
    
    ny00
    
    SDL_RenderClear clears a render target with the wrong color, if the opengles2 renderer driver is used and the target texture's format is SDL_PIXELFORMAT_ARGB8888.
    
    The bug is *not* reproduced if SDL_PIXELFORMAT_ABGR8888 is used as the texture format (the first from the renderer's list).
    It is further not reproduced using any of the following renderer drivers: opengl, opengles (apparently powered by Gallium3D), software.
    Finally, the correct color can be drawn using SDL_RenderFillRect (instead of SDL_RenderClear).
    
    A few details about the current setup:
    - OS: Ubuntu 12.04 for x86_64
    - GPU: GeForce GTX 460
    - GPU driver version: 331.20-0ubuntu1~xedgers~precise1 (from the xorg-edgers PPA)
    
    
    ---
    
    Seth Williams
    
    Sam,
    
    It appears that the clear just needs to take the render target format into consideration.
    
    Seth.

commit fab5c7599b28ad0f298e97c0530d6eae7844ab6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 7 12:03:02 2014 -0500

    Updated README-macosx.txt to note new minimum requirements, end of PowerPC.

commit ba55cbef6e83bc887de94d16fd9f8821e61f34a4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 7 11:55:13 2014 -0500

    Make non-Clang compilers happy.

commit 129456fe2e9cc1b77e0f52784a0e73030ee8cf1b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Feb 7 11:52:35 2014 -0500

    Tell Clang's static analysis that SDL_assert() is an assertion handler.
    
    This lets it know, for example, that when you do this...
    
        SDL_assert(ptr != NULL);
    
    ...that (ptr) is definitely not NULL at this point in the program, for the
    sake of static analysis. While a buggy program could definitely trigger this
    assertion, Clang assumes your assertion check is covering it and won't
    report possible NULL dereferences after this point.
    
    Since SDL_assert might continue if the user clicks "ignore", without this
    change Clang would notice you checked for NULL (meaning that NULL is a real
    possibility here) and still wrote code outside of that test branch that
    dereferences the pointer, and thus would always trigger false positives.
    
    Static analysis is fun!

commit d3f64213e24c885bff262a62b18ecd487cc658d1
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Fri Feb 7 09:35:33 2014 -0500

    slight adjustment to the hot plug test to allow it to be run with hap tics disabled

commit fff7503b6afa5a670ec934fe472908157a02bcb1
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Fri Feb 7 09:35:13 2014 -0500

    ignore hot plugs in mac haptic layer IF hap tics hasn't been initialized.

commit c2f6ab0cc1f34a62db62c81b21823d2ad9d240cc
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 21:28:11 2014 -0500

    Added DualShock 4 game controller config for Windows, Mac, and Linux.

commit 7033e597b5f540488068fde608fd0eec1e082bbf
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 21:26:41 2014 -0500

    Fixed crash on Windows if haptic isn't initialized when controllers are added.

commit 56979749e96b24f72da87ff7fd2809bd3a9cf931
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 10:00:45 2014 -0500

    Fixed a typo.

commit a09548eb00f67c462219948a1263fe81a8329d5c
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Thu Feb 6 09:35:44 2014 -0500

    Fix device counting in HapticMouse and JoystickOpen routines. 0 is the first item in the list not the last

commit f3e6a0a71bf3ce790c7262f613105e9746311efe
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Thu Feb 6 09:11:05 2014 -0500

    fix indentation and spaces

commit 257ab5f5731afc563ed65a5bc4f0c42206706455
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 07:38:41 2014 -0500

    Fixed return values on testhotplug mainline.

commit 1191a902fc0f5eb491a228530098e68ce2100474
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 07:38:04 2014 -0500

    Fixed copyright date.

commit e42d46b463e75efd0d6ce8facc2fdd93d94d7328
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Feb 6 07:37:20 2014 -0500

    Wired up haptic hotplugging for Windows DirectInput/XInput code.

commit 9cf8c49c39792fcab65f5bf78874933ad0e0b8a0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 5 20:07:25 2014 -0500

    Fixed memory leak.

commit ccbf6943e7ed110480600327e9d43af27d5c6eb3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 5 18:36:40 2014 -0500

    Make SDL_SYS_HapticMouse() count device indexes like HapticByDevIndex().

commit 7f9426880564f142bc5acb5a54667969165318d0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 5 01:02:09 2014 -0500

    Cleanup some vi footer comments, rename new PRIVATE_* funcs to MacHaptic_*.

commit 7afbb8c377fa5d5a891f0360dfd1243735cf1494
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Feb 5 00:34:26 2014 -0500

    SDL_pixels.h needs SDL_stdinc.h for SDL_FOURCC #define (thanks, Dmitry!).
    
    Fixes Bugzilla #2384.

commit d4e3221f1d0f3e0b1d9d5db26fb7a1772768953c
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 18:21:39 2014 -0500

    add testdropfile to OS X Project

commit b352698d99b08f6bd240fecd06f9e5b4a999d2e6
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 18:17:16 2014 -0500

    Implement new backend methods for haptic and hot plugging on OS X

commit c9f6e4ec9fb5f382e1f10c4b9ad5f91f22b3afc9
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 18:16:52 2014 -0500

    add testhotplug to OS X test project and set target OS version to 10.5 for tests.

commit 4da8829812efba8440627e4b0d03691a571d0cd9
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 16:50:34 2014 -0500

    implement new backend method for Haptics in dummy driver

commit 5fb0be30790ff3541c45c6dc0d9645638042edd9
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 15:44:09 2014 -0500

    Rework haptic backend to properly support hotplugging of haptic devices.
    
    * currently only linux backend updated.

commit a98c477bc8228745e7de8d445098d8932e0ccaef
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Feb 4 15:40:51 2014 -0500

    allow safely quitting the hotplug test by pressing button 0 on the joystick

commit 25fcc1959ef67a87367ef3f3570d587b4700cb13
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue Feb 4 12:28:35 2014 -0800

    * Remove android based workaround, it is handled in SDL_EGL_GetProcAddress.

commit c2b5da973389484e2333c7096ceaaaac1eb007b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Feb 4 11:38:40 2014 -0500

    Added SDL_GetAssertionHandler() and SDL_GetDefaultAssertionHandler().

commit e6dce68f8edab09a6a604a853122b646edefdc21
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Mon Feb 3 23:08:53 2014 -0500

    testhotplug: Actually log the SDL_Error that occured on failures

commit 8512f1b87c37fd9a46d1b256ba5924d3dec40ff9
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Mon Feb 3 23:01:19 2014 -0500

    add logging for the case when haptic is not detected on the joystick as well.

commit e0e6b2a461ae7446d1c081f6372ff5bf8eb4ed84
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Mon Feb 3 22:52:18 2014 -0500

    add simple test showing off hotplugging of joysticks w/ haptic.

commit c8ad30bc90a162f810f1185dacf03dfd6ebe4142
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 14:47:48 2014 -0500

    Removed -force_cpusubtype_ALL cflag from Mac builds.
    
    This was for PowerPC G3 (!) compatibility, and Clang doesn't even recognize
     the flag anymore.

commit e719158cb4c40ea720da50884719b1b55cefc3f6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 14:45:38 2014 -0500

    Fixed some compiler warnings from the latest Clang, cleaned up some things.

commit 0d9443d3a2678c1afc7040caed7704cbaf876e33
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 11:59:17 2014 -0500

    Temporarily default Wayland and Mir to disabled, for 2.0.2 release.
    
    We'll flip the default back to enabled right after 2.0.2 is finalized, and
    try to declare them stable and ready by 2.0.3.
    
    Those that have an interest in supporting them in 2.0.2 can manually enable
     them in the configure script with --enable-video-wayland and/or
     --enable-video-mir.

commit bd01a9c9146dd96d93042520a39a41a594f76e69
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 11:53:21 2014 -0500

    Unload Wayland libs if memory allocation fails during init.

commit 89fd0faf5e0c8f7ea82803e0378c3a248f09e0ce
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 11:52:54 2014 -0500

    Hooked up dynamic loading for Mir.

commit 8f055d199a69ad075cf64047d9d267e16c202449
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 11:14:25 2014 -0500

    Add Mir to configure script's summary output.

commit 69d85ff5638c2524a98b68ad52bbba31424fd316
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Feb 3 11:01:32 2014 -0500

    Bumped copyright date on Mir code.

commit 435b80b9a301e5adb8bce97fc5646b727a4d6f58
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 2 23:55:51 2014 -0500

    Disable some minor things that need newer Mir dev headers.
    
    These headers apparently aren't default in Ubuntu 13.10 yet.

commit 6bc297704347ee29b42a930f9c28d872e9eed32e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 2 23:53:48 2014 -0500

    Added some SysWM bits for Mir.

commit 8674b7aeee7459d7f30f85f18310ff1dd22efea6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 2 23:54:10 2014 -0500

    Cleaned up headers and footers on Mir code.

commit 19f8c6224fd126d25c58a3088a9c65c3467ca0d0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 2 23:41:46 2014 -0500

    Added Mir video target (thanks, Brandon!).

commit dce9b7b12916eba199dfdc6441b4460b9374a1ae
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Feb 2 21:38:16 2014 -0500

    Ignore the buildbot build directories.

commit e8f5e010ad7e0e2049af203e7fdf26c7813e8959
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 2 20:58:46 2014 +0100

    Fixed including SDL_internal.h twice for DirectFB.

commit 9ee68e8f8d2290ec4a5c921d4758e91dce84cdce
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Feb 2 20:55:42 2014 +0100

    Added additional platform check for __ANDROID__.
    
    The macro ANDROID was deprecated with "android-ndk-1.6_r1".

commit 58edac3e6917467d91d9e3063bf6fed32fe6acc0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 2 00:53:27 2014 -0800

    Fixed bug 2374 - Update copyright for 2014...
    
    Is it that time already??

commit 3bd0e9002e2065baf11f182cd955060ed98cbb1e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Feb 2 00:33:31 2014 -0800

    Fixed bug 2376 - no SDL_HasAVX
    
    Haneef Mubarak
    
    AVX is the successor to SSE* and is fairly widely available. As such, it really ought to be detectable.
    
    This functionality ought to be trivial to implement, and not having it means being forced to write an ugly workaround to check for AVX (so that normal SSE can be used if AVX is not available).
    
    Here is an example on detecting AVX from SO (it actually shows ways to cehck for all of teh fancy instructions):
    
    http://stackoverflow.com/questions/6121792/how-to-check-if-a-cpu-supports-the-sse3-instruction-set

commit 8ba565fffb7c0b89355715bc389b0b7e5c7a1be7
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 30 20:29:58 2014 -0300

    Treacherous copy/paste!

commit 6f3bf18656d8747c8c73a7b531bea67ac220904b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 30 20:27:13 2014 -0300

    Detect Xrandr >= 1.2 at build time

commit 338bf9cc6c1f2548e8983bab44fc42f220108d6a
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 29 18:38:13 2014 -0800

    Add SDL_GL_ResetAttributes.

commit d76c2cc1da982c4a6fc8bcb158e6da49546d45ea
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 12:30:40 2014 -0800

    Add a new hint SDL_HINT_VIDEO_WINDOW_SHARE_PIXEL_FORMAT that allows SDL_CreateWindowFrom() to set the pixel format of another SDL_Window (and also will set the SDL_WINDOW_OPENGL flag on the window created with SDL_CreateWindowFrom()).
    
    The reasoning behind this change is that source2 in -tools mode has a single OpenGL context that is used with multiple different windows.  Some of those windows are created outside the engine (i.e. with Qt) and therefore we need to use SDL_CreateWindowFrom() to get an SDL_Window for those.  The requirement for sharing an OpenGL context across multiple different windows is that each window has the same pixel format.  To facilitate this, I now set SDL_HINT_VIDEO_WINDOW_SHARE_PIXEL_FORMAT for the main window before calling SDL_CreateWindowFrom().  When I do this, SDL_CreateWindowFrom() will:
    
    1. Set the pixel format of the returned window to the same pixel format as this SDL_Window passed in with the hint
    2. The flag SDL_WINDOW_OPENGL will be set on the new window so it can be used for OpenGL rendering.
    
    I only currently implemented this for Win32/WGL so implementing it for other platforms (i.e. X11) remains a TODO.
    
    CR: SamL
    
    Some pseudocode that shows how this is used in Source2:
    
    HWND hExternalHwnd; // HWND that was established outside of SDL
    
    // Create main window (happens inside platwindow.cpp)
    SDL_Window *mainWindow = SDL_CreateWindow( , SDL_WINDOW_OPENGL .. );
    // Create GL context, happens inside rendersystemgl
    SDL_GLContext onlyContext = SDL_GL_CreateContext( mainWindow );
    
    // Now I need to create another window from hEternalHwnd for my swap chain that will have the same pixel format as mainWindow, so set the hint
    SDL_SetHint( SDL_HINT_VIDEO_WINDOW_SHARE_PIXEL_FORMAT, CFmtStr( %p, mainWindow) );
    
    // Create the secondary window.  This returned window will have SDL_WINDOW_OPENGL set and share a pixel format with mainWindow from the hint
    SDL_Window *secondaryWindow = SDL_CreateWindowFrom( hExternalHwnd );
    
    // To render to the main window:
    SDL_GL_MakeCurrent( mainWindow, onlyContext );
    // Do some rendering to main window
    
    // To render to the secondary window:
    SDL_GLMakeCurrent( secondaryWindow, onlyContext );
    // Do some rendering to secondary window

commit dbd4a917e0857f7a1cc2abbfb2168eefcf202a3a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 12:27:24 2014 -0800

    Document Michael's changes adding TranslateMessage() back to the SDL message loop.

commit 5c58bd68774a0d80dfab1c5ed5716e89e661991e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 30 12:27:00 2014 -0800

    * Added TranslateMessage call to SDL default message pump - was causing problems in S2 tools mode apps that used Qt. Qt relies on the WM_CHAR message generated by TranslateMessage and keyboard input was showing up in the UI as mixed-case. (Depending on which message pump got a given message - both SDL and Qt pump messages for the entire process.) Sam will review and possibly tweak this change before propagating to public SDL, but I'm checking this version in so I can integrate into S2 and fix the issue there.

commit 366b1727bb2faa82f65c7d0a99142a9c195eb416
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 29 18:37:23 2014 -0800

    Mac: [NSApp keyWindow] is not valid in windowDidBecomeKey:
    
    This fixes weird behavior on Mac where our first responder reverts to the window
    itself, rather than the SDLTranslatorResponder, after the window has lost focus
    once. This causes Escape to call cancelOperation: on the NSWindow, which by
    default removes our fullscreen-ness.
    
    When someone has turned off SDL_TEXTINPUT we should probably set another initial
    responder that handles the Escape behavior, so that SDL_TEXTINPUT doesn't change
    fullscreen behavior (and possibly other behavior) like it does now.

commit 109fe0e0dcb698f8b4660027d03e96ced12fcb6f
Author: dbrady <dbrady@telltalegames.com>
Date:   Tue Jan 28 15:28:20 2014 -0800

    fixed hat code validation.

commit 68f2fe649956723b91bf3657ac37029138073da2
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 29 00:29:14 2014 +0100

    Fixed spaces in source file license comment.

commit 62b17e7edba13af2e92e760f0e13b28fddf13d54
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Jan 29 00:27:54 2014 +0100

    Fixed comments in joystick implementation files claiming to be headers.
    
    It seems comments were originally copied from SDL_sysjoystick.h.

commit 4f1b8a40678bee4205d33a7240b74b4b0c364ff1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 28 12:42:01 2014 -0500

    Move to no-argument version of "endif()" in CMakeLists.txt.

commit 2de3b01c617e179d48ce4bffa631b588c2ce3070
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 28 12:37:04 2014 -0500

    Some CMake fixes for static linking on Windows from the OpenFL project.

commit f52d7f5eeaf6f125b1370064082166493d157f2c
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Jan 28 11:39:37 2014 -0300

    [Wayland] Fixes segfault when mouse enters window

commit 682bc47bc580710493e4ccd653f611d6503a22f0
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Jan 28 09:13:46 2014 -0300

    Preserve binary compatibility in SDL_SYSWM_TYPE (thanks Gerry JJ!)
    
    Also moved Wayland structures to the bottom of the union for OCD related issues.

commit 9d85cdb1a6bd2635d078448802136b4458ebbfde
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 28 00:05:23 2014 -0500

    CMake: Enable missing timer subsystem on Mac OS X and Haiku.

commit 2efa2dc227fe0c55e4a327b44aea21127d13c41c
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Mon Jan 27 13:43:04 2014 -0800

    X11: Don't redraw dialog box when mouse moves.
    
    This fixes bug #2343. (https://bugzilla.libsdl.org/show_bug.cgi?id=2343)
    
    Thanks to Melker Narikka for the patch.

commit aff44ccdb5ce36d92604a2604f163025d202aa86
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 27 16:13:13 2014 -0500

    Patched to compile...uh, everywhere.  :)

commit 87cfee27d0ad5d3525280a8620d2e7fb5572d108
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 27 16:10:15 2014 -0500

    Patched to compile on Windows when not supporting Direct3D.

commit 33479316c70c470653c2fc8ab61bb25fd5ef6af7
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jan 27 17:59:19 2014 -0300

    [Android] Fixes Bug 2370, don't send accelerometer changes when
    Android_JNI_GetAccelerometerValues return SDL_FALSE (thanks to Jairo Luiz)

commit 037475670fac2c0571ccfe409ab69267c2ec9e3c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jan 26 23:50:35 2014 +0100

    Removed unused variable from Java class for Android.
    
    The audio thread was moved to native side and "protected" prevented a warning.

commit 62344158720778712e122776a023bb49665ac0e9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Jan 26 23:42:25 2014 +0100

    Fixed typo in documentation.

commit 815c6c3b6083ab3c6e8b93b1d2c82a027ab598af
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Jan 25 16:08:39 2014 -0500

    quick fix for CMAKE SOVERSION number so it matches what is output by the configure script

commit f186314aeff871cf6da4569b8316105ee6e24533
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Jan 25 15:13:16 2014 -0500

    correct grammar on UNIX missing dependency status notice.

commit 5071cb5c15b7e467037346d9ebc411b8a8e6fdd5
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Jan 25 15:05:44 2014 -0500

    autoconf script tweaks
    
    - fix up chmodding sdl2-config
    - remove duplicate enable_atomic section
    - add pretty summary of what was found/enabled

commit e78be5dafdcb4053023af0455ccd1cab403c84da
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Jan 24 09:54:04 2014 -0300

    Bug 2358 - [Android] Sort joystick axes - Fix by David Brady

commit 50befa6201e73cfe066b6663e512bfdd9fda76ff
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 23 08:44:25 2014 -0300

    Bug 2358 - [Android] Joystick Button Mappings are strange (fix by David Brady)

commit ecc0df066183d579d1a1f8b75e30d98860033230
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 22 12:39:34 2014 -0500

    Fix detection of iOS for disabling dynamic API.

commit f02ef2985d5caac5b2a3381ec42d92fe60436fa3
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 21 16:28:53 2014 -0500

    Fixed XF86 VidMode extension dynamic loading with CMake project.

commit b131e74be4923cbb2f8dd271f10c2ef228efb593
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Jan 21 18:20:12 2014 -0300

    Fixes 2356, [Android] SDL_JoystickGetAttached does not function
    
    Also fix a potential NULL pointer access in android/SDL_SYS_JoystickGetGUID

commit beee1c442417f87e296bfc76d12b71b69948c7bd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Jan 21 13:58:15 2014 -0500

    Fixed dynamic loading of NAS in CMake project.

commit cf9828a2a686bf28d531c8678873433054ac176a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Jan 20 20:25:43 2014 -0300

    Move Wayland driver above dummy, check for driver availability before creation

commit 2ddd0c58c9ffc615fb46bb6a40745a5dd93961ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Jan 20 12:53:44 2014 -0500

    Patched to compile if Wayland is disabled via SDL_config.h (thanks, Martin!).
    
    Fixes Bugzilla #2351.

commit 9e90acdfcffea846755a9982f1d0f648faf8bdaa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Jan 18 11:47:03 2014 -0800

    Make sure you clean up the associated renderer when destroying a window.

commit 129640af7a62185ccf2063e3e089ca2c39382067
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 16 15:02:41 2014 -0300

    Fixes prototype declaration for wl_proxy_marshal_constructor [Wayland 1.4]

commit 838e76c6994043168266f16a3ba3d15efc2e603b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 16 11:33:39 2014 -0300

    Fix to compile against the Wayland v1.4 headers

commit 12e7fdcbb66739bcc317a44090e8eed3c61ed2d4
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 15 11:34:03 2014 -0800

    Don't minimize fullscreen windows when destroying them.
    
    Previously, we'd minimize fullscreen windows (if
    SDL_HINT_VIDEO_MINIMIZE_ON_FOCUS_LOSS was set) during SDL_DestroyWindow if they
    had keyboard focus, because we call SDL_SetKeyboardFocus(NULL) which yields a
    OnWindowsFocusLost event.
    
    Related to https://bugzilla.libsdl.org/show_bug.cgi?id=1840

commit bc92383eea2153f3e5602a0117a0b86d7e775a4c
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 15 11:31:56 2014 -0800

    Mac: Don't give windows focus back when we're closing them.
    
    Fixes bug #1840 (https://bugzilla.libsdl.org/show_bug.cgi?id=1840)

commit a0c9e649f5b87bb911a1c16a75312fb54065fc30
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 15 11:17:09 2014 -0800

    Allow switching between FS and desktop FS.
    
    This should fix bug #2057 (https://bugzilla.libsdl.org/show_bug.cgi?id=2057)

commit a442f121e62d8ae6ce19b3d3bbde27f5babdeb82
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 15 11:08:55 2014 -0800

    Test: Add Shift-Enter to switch between FS and desktop FS.

commit a6a56af91bac4144edc1382e5577b3d0072c930b
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Wed Jan 15 10:40:14 2014 -0800

    Tests: Refactor key modifier checking.

commit 56355f3ffe8b681799ab2f1a0d03bb3bfc45f41d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Jan 15 12:29:17 2014 -0300

    Adds README-dynapi.txt based on Ryan's G+ post (lightly edited)
    
    Original post: https://plus.google.com/103391075724026391227/posts/TB8UfnDYu4U

commit 8f660a46270a93bbb282fa948017720d0ce945f2
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Tue Jan 14 17:33:24 2014 -0800

    Mac: Trigger SDL_FINGERUP for all touches.
    
    Fixes bug #2348. Thanks to Alex Szpakowski for the patch!

commit c0d86b9237ff55d1e3e05add0fdd987bf50e54be
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Jan 14 21:29:38 2014 -0300

    Make EGL loading more resilient.
    
    Lesson learned while trying to run L4D2 under Wayland :)

commit 272ebb8efb786a06091357a673b1b274cf4cb6e2
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Jan 9 13:56:21 2014 -0300

    Dynamic loading support for Wayland

commit 5fd5567c4c3dc7d9a33aabc9f2457d2331929373
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Jan 8 14:53:08 2014 -0500

    define a font-size for the "unicode" message box font so the text isn't unreadable on linux systems

commit 93fd65f76257c3fd36095b6a4ce5974e4140c491
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Wed Jan 8 14:18:11 2014 -0500

    some fixes to the testshape.c code so it more correctly works.

commit d75665c7763536c5040d08674fe9879996da8210
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 01:07:57 2014 -0500

    Maybe fix Cygwin.

commit 960458e58c779d00f5a5c4b314767e814dc3da17
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:58:03 2014 -0500

    Patched to compile on Cygwin.

commit e9689e8df67090dbbca61c1b94ecbc5cc9bf06d9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:51:31 2014 -0500

    Another Android fix.

commit d16e6301605da1d77c523155a60f878c3311f1c5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:46:39 2014 -0500

    Updated Dynamic API jumptable.

commit e9be2d0b5943a40c259e74854de993f30c27114b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:45:29 2014 -0500

    Add Dynamic API to Android makefile.

commit afd0f323148fe2d4348d020269f0458d5c4c5bd4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:40:48 2014 -0500

    Patched to compile on Android (I think).

commit d5c977adb7e65969b32793da0972c3e8c065c4a8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Jan 8 00:31:19 2014 -0500

    Patched to compile on OpenBSD.

commit 446a270487fbda55eb9c5bec5cc1d46adbc0efe6
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Dec 10 22:34:08 2013 -0500

    WinRT: fixed bug: SDL_RenderReadPixels didn't work with certain orientations of the physical display

commit 090327e76e133f09a7576a46a46be7bc43e52696
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 9 16:03:18 2013 -0500

    Implemented the Dynamic API magic.

commit 679259473ee7b0ef344c8128032f0bcaf1d60f10
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Nov 29 00:21:56 2013 -0500

    WinRT: removed a now-complete TODO comment regarding Direct3D 11

commit b6f80d855eb00bfe70bf00b7026945edd81897f5
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Nov 29 00:19:46 2013 -0500

    WinRT: enable the OpenGL ES 2 SDL_Renderer backend, if and when OpenGL ES 2 support is compiled in

commit ecfbb3f5dc6d700f0de1d831b42245bb3c583751
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 28 22:59:21 2013 -0500

    WinRT: got the SDL-official OpenGL ES 2 changes working, in an experimental state

commit 7b5887b271bb29986bbc83cbe505787876259767
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 28 22:24:13 2013 -0500

    WinRT: implemented SDL_DetachThread() for WinRT

commit 46740a5a1c74f1d808e2aca20183b47a1f4d8435
Merge: da0c0a4a3 9fa4da135
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 28 22:09:21 2013 -0500

    WinRT: merged with latest SDL 2.x/HG code
    
    SDL 2.x recently accepted patches to enable OpenGL ES 2 support via Google's ANGLE library.  The thought is to try to eventually merge SDL/WinRT's OpenGL code with SDL-official's.

commit da0c0a4a33fdf4494e87e47c62faf4764864f285
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Nov 28 21:15:05 2013 -0500

    WinRT: fixed bug: touch input coordinates weren't normalized [0..1]
    
    Thanks to Pierre-Yves for pointing this out and providing a fix!

commit 9fa4da1353c98fe4b8b9efcd3e360591dcc0f7a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 28 02:31:32 2013 -0800

    Fixed windows build with conflict resolve

commit dee481350c4563e18f7e3f5dba3d9cc60982e2a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 10:29:43 2013 -0800

    Added alternative XBox 360 controller GUID on Linux
    
    Leszek Godlewski
    
    As described in the other thread
    (http://lists.libsdl.org/pipermail/sdl-libsdl.org/2013-November/091997.html),
    I've run into a case of SDL2 not recognizing a wireless Xbox 360
    controller receiver properly on Debian Linux amd64 testing.
    Apparently, the generated GUID is slightly different.
    
    Device in question:
    Bus 001 Device 015: ID 045e:0291 Microsoft Corp. Xbox 360 Wireless
    Receiver for Windows

commit d2511d9ef9cd73efc9ddc37a248787875d3b5acf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 10:29:38 2013 -0800

    Fixed bug 2260 - SDL_SetCursorGrab() is buggy on Windows
    
    BurnSpamAddress
    
    Steps to reproduce:
    1. Grab the cursor with SDL_SetCursorGrab()
    2. Alt-tab away from the window
    3. Click on the titlebar of the window
    
    This will cause the window to disappear underneath the taskbar!
    
    This appears to be a general issue with ClipCursor() on windows, i.e. I am getting the same behavior if I call ClipCursor() directly.
    
    It is caused by a feedback loop between the ClipCursor function and the modal resize/move event loop that handles mouse-based sizing on Windows.

commit fa4e4a643a678094375751243185afec511552e6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 10:29:32 2013 -0800

    Fixed large relative mouse motion when iconifying the SDL window.
    Windows will move the window to -32000,-32000 when it is iconified, so we don't want to send mouse motion for iconic windows.

commit 2bb344d6dc68acd8e9b8687ce2324e89b62e1f91
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 10:29:27 2013 -0800

    Don't crash when no WM is present.
    
    CR: Sam Lantinga.

commit 8574c0815cfab3952c8cf4c97a5c4467a1a18f55
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 27 00:29:46 2013 -0800

    Fixed bug 2274 - SDL_ceil is incorrectly implemented when HAVE_LIBC is not defined
    
    Ghassan Al-Mashareqa
    
    The SDL_ceil function is implemented incorrectly when HAVE_CEIL is not defined (HAVE_LIBC not defined).
    
    The following code:
    
        double val = SDL_ceil(2.3);
        printf("%g", val);
    
    prints "2.0", as STD_ceil is defined as:
    
        double
        SDL_ceil(double x)
        {
        #ifdef HAVE_CEIL
            return ceil(x);
        #else
            return (double)(int)((x)+0.5);
        #endif /* HAVE_CEIL */
        }
    
    This functions is used in the SDL_BuildAudioResampleCVT function of the audio subsystem (SDL_audiocvt.c), and causes a bug in that function.

commit c343eab67a7e8a7e47ee1652a20ea23bad2b2763
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 26 11:50:54 2013 -0300

    Fixes #2271, Add KD detection under CMake by Scott Percival

commit 96fe749fc7718e2d7ab075e086e186a40e9c49c4
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 26 11:47:52 2013 -0300

    Fixes #2272, typo in CMakeLists.txt (thanks Boris Bendovsky!)

commit 1ad0d24828fd04f4e5cbf8996002c1bdefc3564c
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 25 12:28:09 2013 -0300

    [Android] Fixes #2228, reworked touch code
    
    Lets Android take care of which is the primary pointer (the one acting as the
    mouse in SDL), reorganized the Java side code as well to make it easier to
    understand.

commit 7e1289af325d8a86cf4ff3a7c80b05e49fa0bf47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 24 23:56:17 2013 -0500

    Make internal SDL sources include SDL_internal.h instead of SDL_config.h
    
    The new header will include SDL_config.h, but allows for other global stuff.

commit 31caa22d309d85131480d10917f0868c9331fbf2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 9 13:30:35 2013 -0500

    Patched stdlib changes to compile on Windows.

commit b72c8bcaf81909f11636a69f39360d89dbdafb68
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Nov 25 00:11:52 2013 -0500

    Regenerate the configure scripts.

commit 5c383489a7d09fca5834fcd486d4211ca34ca1d0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 24 23:36:15 2013 -0500

    We don't need to check for snprintf() anymore, we don't use it.
    
    SDL_snprintf() is built on vsnprintf() where available.

commit e769374096427079a63c2068407b53d66529c65a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 24 23:35:38 2013 -0500

    Added SDL_vsscanf().

commit 928b494630bf8d4024120e7ee0268b3799d8513f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 24 21:04:51 2013 -0500

    Moved atomic API implementation out of headers.

commit 6cbaf9a055f964839d5452434587a12241984cdd
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 24 21:15:58 2013 -0500

    Don't use -falign-loops=16 on Mac OS X anymore.
    
    It isn't available in Clang at all, and was more important on PowerPC.

commit b44e7470de1d90632641f6e4308a88316668215b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 30 12:49:15 2013 -0800

    Fixed display mode calculations for applications which are not DPI aware.
    If your application wants to have access to the full resolution even when the system has DPI scaling enabled, call SetProcessDPIAware() before calling SDL_Init()
    
    e.g.
            typedef BOOL (WINAPI *SetProcessDPIAware_t)(void);
            HMODULE hMod = LoadLibrary("user32.dll");
            if ( hMod ) {
                    SetProcessDPIAware_t pSetProcessDPIAware = GetProcAddress( hMod, "SetProcessDPIAware" );
                    if ( pSetProcessDPIAware ) {
                            pSetProcessDPIAware();
                    }
                    FreeLibrary( hMod );
            }

commit 69153196839d1aaa9893b7d410a509cebd5900b6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 27 10:18:19 2013 -0800

    Switch back to apartment threaded COM initialization, which was the previous default.
    We do succeed now if the application previously initialized COM in multi-threaded mode.

commit 6f6c76a6a5252cc8d2b7820ed17626976255e675
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 27 10:18:18 2013 -0800

    Make sure our window has mouse focus before processing raw input events.
    This happens rarely, but not reproducibly, where we get raw input events for the window even though it doesn't have focus.

commit 27779311b4539abc93ffac833b90010193de043f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 27 10:18:11 2013 -0800

    Bump SDL to build with 10.7 SDK.
    
    This also bumps the minimum requirement for building SDL to 10.7, and
    removes some checking we no longer need.
    
    CR: saml

commit fce6257c49265f00bfc0d75a0c7f23b35fc880e0
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Dec 27 09:29:39 2013 -0300

    Implements touch support on QTWayland. Contributed by Thomas Perl.

commit 54a1f61a17c73b55e05d5e6fc6ee19d88f3d0f64
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 25 17:02:15 2013 +0100

    Changed return -1 after SDL_SetError() to return SDL_SetError().

commit 87ad7a1c5077aec101acb7855f72fe8b21cd09ea
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 25 16:57:59 2013 +0100

    Fixed pointer from integer warning and bug if compiled without EGL.

commit b2faf3f08d9109f2ef6831b54ebc209043b80c3b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 25 16:53:39 2013 +0100

    Updated paths in README for Android.

commit 65f0142fac6515efedd51c59f7ba3aadeda72258
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 25 00:11:28 2013 +0100

    Fixed access of command line arguments on Android in two test programs.

commit 36cbd50685dc4de826f9e83468de47e34f7b78de
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Wed Dec 25 00:04:31 2013 +0100

    Fixed unused local variable warning in test program source.

commit 9285537180d6ae080c9415975f5f4340c18dc009
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 24 20:04:53 2013 +0100

    Fixed missing @Override annotation warning in source for Android.

commit b97e077e474e48a027edb0f0d000f536328c2321
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 24 20:00:58 2013 +0100

    Fixed unused local variable warning in joystick source for Android.

commit 28309c1d13d019c401e3babd57423c397e5185e7
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 24 19:59:35 2013 +0100

    Fixed implicit declaration of SDL_Log() warning in joystick source for Android.

commit 18125f76df66a5cee78aad27ae767941a80d6968
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Tue Dec 24 19:55:41 2013 +0100

    Fixed missing return warning in test program source.

commit 2521e497699b798585c6d96dde69d352a8814b37
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 17:55:06 2013 -0800

    Setting the mouse in relative mode implies grabbing the mouse.
    This fixes getting mouse button events in raw input relative mode on X11.

commit 7aef2350cf382e6392f672972b83ae19dca16054
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 17:37:22 2013 -0800

    Added a relative mouse mode that uses mouse warping instead of raw input.
    To enable this, set the environment variable SDL_MOUSE_RELATIVE_MODE_WARP to "1"
    
    When mouse relative mode is disabled, put the cursor back where the application expects it to be, instead of where it was when relative mode was enabled.

commit 7fe277cd6afb978677ddfaf48f5051b7bb764a48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 17:15:32 2013 -0800

    Fixed float to int conversion warning, which was a legitimate bug.

commit 8e0dfef153fdf03bb566b9236d3158b57233bcb6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 15:55:47 2013 -0800

    Print events with SDL_Log() so they show up in Visual Studio debug output
    Added some joystick and controller events to the set that are printed out.

commit 112f60a486432a75d1422e9b71bb080cec9de47e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 15:55:08 2013 -0800

    Changed testgamecontroller to wait for controllers to be reattached, the way testjoystick does.

commit 03aece5452a821798f7dd7fa455e786a2893b0b2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 15:10:03 2013 -0800

    Generate SDL_CONTROLLERDEVICEADDED events for controllers connected at startup

commit 746928350f9f011c85331020f133d703b80305d9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 12:17:52 2013 -0800

    Added support for double-clicks, through a new "clicks" field in the mouse button event.

commit 3666c1f7cac1ea8450e71d81d7ff0676abccd047
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 23 10:54:27 2013 -0800

    Explicitly initialize COM with multi-threaded support.
    This is the safest option for applications that use COM, multi-threaded or not.

commit b5a6c407d0ddd073157c3f04c1bdf141194d308d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Dec 16 10:03:26 2013 -0300

    [Android] Define SDL_VIDEO_OPENGL_ES2

commit 45f785f0afe06cf1e7221163e5d44f223f20db01
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Dec 15 00:21:42 2013 -0500

    Enable ccache for Raspberry Pi buildbot script.

commit ec1cb49eab4d905698f2314d5e3e823af42ac96e
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Dec 14 20:18:43 2013 -0300

    Wayland support
    
    Based on the original port to Wayland by: Joel Teichroeb, Benjamin Franzke, Scott Moreau, et al.
    
    Additional changes in this commit, done by me:
    
    * Wayland uses the common EGL framework
    * EGL can now create a desktop OpenGL context
    * testgl2 loads GL functions dynamically, no need to link to libGL anymore
    * Assorted fixes to the Wayland backend
    
    Tested on the Weston Compositor (v1.0.5) that ships with Ubuntu 13.10,
    running Weston under X. Tests ran: testrendercopyex (all backends), testgl2, testgles2,testintersections

commit 4a8c2967126cf18b8cd721c9ded71856268c62b5
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Dec 13 09:48:12 2013 -0300

    Context sharing for EGL

commit 2159de66c46f664ba8dbe0a40899da33e780399a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Dec 12 14:55:33 2013 -0300

    [Android] Poll joysticks every three seconds

commit 35ab76d083df4a0c72448a50174c421dbf47fff3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 21:17:24 2013 -0800

    Fixed bug 2050 - Obvious bugs in SDL_ltoa and SDL_lltoa
    
    pjz
    
    SDL_ltoa(-2147483648,s,10) only returns "-" because there is a bug in the code:
    
        if ( value < 0 ) {
            *bufp++ = '-';
            value = -value;
        }
    
    but -(-2147483648) is still -2147483648 (0x80000000) as signed int (or long), so the following loop doesn't run at all. Similar bug are also in SDL_lltoa.
    
    BTW, there is no sanity check for radix.

commit fcf692276a760da4737e663f3ea67c05c86d4dc7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Dec 11 21:13:45 2013 -0800

    Fixed bug 2294 - testdrawchessboard.c Sets the render color alpha to 0x0.
    
    Brandon Schaefer
    
    This means everything will render black if the software rendering backend selects a pixel format that supports alpha. So it seems best to at lease assume alpha is supported.

commit bfcd28c1e6291edf36371d25b5a159b8ed506fae
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Dec 10 16:24:11 2013 -0300

    [Android] Hotplugging support for joysticks

commit d01ad02be728fb7f934924157138c4dbc2bb1d77
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Dec 9 15:17:20 2013 -0500

    Hook up SDL_acos and SDL_asin properly.

commit 5e656f89506fbef7e5f357d57f4600a72621bf3f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Dec 7 11:19:52 2013 -0800

    Associate the environment with any thread that calls Android_JNI_GetEnv(), in case it's been manually created with pthread_create() or C++11.

commit 44afc2a3057c3039c590bb7cd1ec4abeb211b2c6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 6 16:12:18 2013 -0800

    Fixed crash if no window has keyboard focus

commit 4ab350d4f2bf32a337856393e07e8a05357adb8a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 6 09:13:31 2013 -0800

    Fixed detecting the wired XBox 360 controller on Linux
    Also added some more debug output to detect issues

commit c78476dadc90d3cb6069fdd602309133f344a495
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Dec 6 08:24:00 2013 -0800

    Fixed compiler warning on Visual Studio

commit fc78e982210014320eac1bbce7aaec3eb581ba7c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 09:54:22 2013 -0800

    Added missing header for file IO

commit 7afb76824ea727e83e01c16f7872b1e82f41d74e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 09:29:04 2013 -0800

    Added code missed in the resolve

commit 43825e275acd81a9a321b55dfa577a5e0d6b9b5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Dec 5 09:14:56 2013 -0800

    Clean up the cursor clipping area when quitting SDL.
    This fixes the cursor being clipped after the streaming client quits when streaming Dungeons of Dredmor

commit 77d2d55e1ea50c61fe87e8a476d8abe45cc8c60a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Dec 5 10:51:38 2013 -0300

    [Android] Handle native thread finishing when not commanded from the Java side

commit 6c495a806a3c78e9f2374b8bbb8306ff11da4014
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Dec 3 12:09:58 2013 -0300

    [Android] Signal the resume semaphore after pushing the relevant events
    
    Ref: Request in #2242

commit 5ac1813451e91ffaf0aee95244a738d5ff704a26
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Dec 3 12:01:28 2013 -0300

    Adds SDL_GameControllerAddMappingsFromRW, updates controllermap
    
    SDL_GameControllerAddMappingsFromFile is now a convenience macro.
    
    controllermap can now skip bindings by pressing space or clicking/touching the
    screen.

commit 013d99823d126c998f17f360c113e774823ed67a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Dec 2 23:54:35 2013 -0800

    Fixed error return value in SDL_EGL_CreateSurface(), thanks to Mike Kasprzak

commit d0d07decc15a313164241f3c09ee72df0de2698f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Dec 2 19:51:48 2013 -0300

    Adding WhatsNew.txt changes
    
    ...before I forget them.

commit 95ec90aa8a67df2e348efa53c6a97baaa71511d3
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Dec 2 19:35:04 2013 -0300

    Adds controllermap utility to test suite.

commit 45ae148aef0cabaab967bbe1565280638252225f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Dec 2 19:34:08 2013 -0300

    Adds SDL_GameControllerAddMappingsFromFile

commit 7d9e42f28ce48f34184b1849607ddac69cf4a577
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Dec 2 10:08:57 2013 -0300

    Select EGL config when creating the EGL surface

commit f848adff5f17e78f933b68f6f96776385a41d30f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Nov 29 10:06:08 2013 -0300

    Improve Android pause/resume behavior.

commit c933166401c3f28bd2d2259808c8369bdf75c6c0
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 23 23:38:16 2013 +0100

    Fixed bug 2258 - Crash when using Android clipboard
    
    chw
    
    The Android clipboard manager methods must be called from the UI thread,
    otherwise crashes of the dalvikvm happen.

commit e9af6dcd93e92013198ec7cc8445555632b86c37
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 23 15:52:49 2013 -0500

    Fixed a few public APIs that we accidentally neglected to mark as SDLCALL.
    
    Fixes Bugzilla #2262.

commit 5aa702fe74b2c4fefbd83a8f9d35339ac0d0f5a9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 23 18:37:36 2013 +0100

    Removed second return statement.

commit 01acbd389be33e89a058f907e8fade70e3ae6fdf
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 23 18:34:27 2013 +0100

    Fixed spaces in license comment.

commit 2aa4974bf92a1dee423b690a3290a96acd7b88b5
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 23 18:29:36 2013 +0100

    Removed include of no more needed header.

commit 7a18a6747b2d6ca69e8fc5ca16f0efd73c0d780c
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Nov 23 09:47:25 2013 -0300

    [Android] Fixes #2264, handle joystick open/closed state properly

commit a3bb007ee559b607c323cc7b1b981722a47a3949
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 23 02:02:29 2013 -0800

    Fixed double-free of the window shape path

commit 4abeed93c76610a3b9d4e2164a370c4e7086d68e
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Nov 22 14:19:52 2013 -0300

    Fixes compilation on Mingw.

commit 61959aa67b433969f711a131c55e97ffa794542d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Nov 22 13:24:53 2013 -0300

    OpenGL ES support for Windows

commit 45dbff2ee4a4e79124f4bde277bbee3d5a517b47
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Nov 22 10:26:28 2013 -0300

    [Android] Fixes #2247, enable hardware acceleration by default.
    
    Setting android:hardwareAccelerated="true" seems to fix some random behaviors
    in certain devices like the XperiaE.
    
    Ref: http://developer.android.com/guide/topics/graphics/hardware-accel.html

commit a218717111d16948fc1ec1d724f45a02dcfa4c10
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 20 21:17:26 2013 -0500

    Query version for X11 XInput2 multitouch separately from base XInput2.

commit 9095952ac4f4859a522b7d08a0d1bb489a1f1d8c
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Nov 20 12:51:18 2013 -0300

    Clean up X11 OpenGL ES backend
    
    If you really need to switch between OpenGL and GLES context types, just issue
    a SDL_GL_UnloadLibrary manually.

commit 2f30140418e4dae11b81f3bd5873625b76c99532
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 19 15:25:00 2013 -0500

    Fixed SONAME lookup for runtime loading of shared libraries in CMake project.
    
    Fixes Bugzilla #2249.

commit 825a68983a5d2600ea08a8b17bb80d70b7cce12b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Nov 19 15:00:39 2013 -0500

    -fvisibility=hidden is no longer a requirement for dynamic X11.
    
    We don't clash with Xlib symbols anymore.

commit 131a0725030ecdade9ac8ebbbfc615c9d9f7b582
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 19 11:04:05 2013 -0300

    Find the best EGL config available between those returned by eglChooseConfig
    
    This existed in the old Android Java code, it got lost in the migration to the
    commong EGL code.

commit 47139fb3eb63e83cba30521ad14dbb27ebf557fb
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 19 10:56:38 2013 -0300

    Adds testgles2
    
    Source code copied from: https://github.com/fantasydr/sdl-2.0-gles (thanks!)
    
    Minor fixes, configure script changes done by me.

commit fdfea4ad1f7201d74b49f53f79e5ed8326a4bec2
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 19 10:00:05 2013 -0300

    [Android] Try to improve handling of DPAD|GAMEPAD + KEYBOARD devices
    
    It seems some devices report themselves as DPAD or GAMEPAD and KEYBOARD as well,
    and we need to route different keycodes to different parts of SDL.

commit 48954ba19458a9060d9eae6c46d10a584bb2e074
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 20:22:36 2013 -0800

    Accidentally committed debug code

commit d75498f6be057ef171d47d7f84e2213965546af7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 18 20:21:45 2013 -0800

    Textures need to be freed before renderers

commit 48cffe33f92f2e8a902f71cc7b5ca25bb1053d27
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Nov 18 23:45:46 2013 +0100

    Added missing resource release in test source.

commit 3cba79970cc9c81fbd0b08ea72f7f5c243fc2466
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Nov 18 23:43:15 2013 +0100

    Fixed unreachable return statement warning in gamecontroller source.

commit b5c6811108736f62d5ca5971348ccc49b8a9d130
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Mon Nov 18 23:38:59 2013 +0100

    Fixed implicit function declaration warning in joystick source for Android.

commit 2f6198edb692149c35c511dd4738c824f21274d4
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Nov 17 11:07:55 2013 -0300

    Fixes building for RPi using --no-undefined

commit ec080ff89211a6ae88189907b73740b6e6c1b4bf
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Nov 17 10:41:16 2013 -0300

    Restore evdev sources to configure script

commit 9dd923fb9a34352a382be0c3e8efa7ac54a3895c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 21:19:16 2013 -0800

    When the mouse is grabbed it's constrained to the client area, not the window frame.

commit e4146267fa1a71fe0aaadbc8aadcfdd58eb9deed
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 18:56:02 2013 -0800

    Fixed bug 2245 - add SDL_acos and SDL_asin
    
    Sylvain
    
    Here's some code to add arc cosine, and arc sin functions to SDL_stdlib.c
    There are plainly written using SDL_atan.

commit 923709a6999b3d3aa9f9a6529abd190880ee18e4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Nov 16 21:52:56 2013 -0500

    Turn off --no-undefined on OpenBSD again. Leave it on everywhere else for now.

commit 5a68214b7a194f0d52e8f24602cfc92300843144
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 12:11:19 2013 -0800

    Fixed bug 2232 - Version Mismatch in VS2013 Solution File
    
    Joe LeVeque
    
    Line 3 of SDL_VS2013.sln file reads "# Visual Studio 2012" instead of "# Visual Studio 2013" which causes Windows to associate the file with Visual Studio 2012, if installed, instead of Visual Studio 2013.

commit 8acec42a0655fae913cd3ab32a999211414045fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 12:04:00 2013 -0800

    Fixed up configure so it doesn't reference input/evdev anymore

commit 4e1ee55739bf90f7d63d08a049b31ca28f5e183d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 12:02:09 2013 -0800

    Fixed bug 2231 - Move src/input/evdev into src/core/linux
    
    Ryan C. Gordon
    
    To keep the directory layout sane, we should probably move this one piece of source to the linux catch-all directory, instead of making it look like this is part of an SDL "input" subsystem.

commit 744cd465e178462467ca9cbb77dff7b51ded837c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 11:58:21 2013 -0800

    Fixed bug 2238 - Enable GCC atomics for clang
    
    Marcus von Appen
    
    clang provides support for optimized atomics.
    The attached patch enables the cmake build system to take clang into account on checking for atomics.

commit 3b52058f6c62b6ab9a1f9c180bc2bec07701971b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 11:54:16 2013 -0800

    Fixed bug 2241 - SSE intrinsic in fillrect MMX path
    
    norfanin
    
    The MMX path in SDL_fillrect.c uses the SSE intrinsic _mm_stream_pi. The function or symbol provided by the compiler will not be present because the SSE header may not get included. The linker will complain about an undefined reference.
    
    Since this is the only intrinsic used here (and someone forgot to create one for MOVQ), I think the MMX path can be removed completely. At least I don't see another way to move 64-bits from an MMX register to memory.

commit 517747d53670605b9a7bb8ab08e571b821443791
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 10:27:46 2013 -0800

    Added information on reporting bugs to the README.txt file

commit 104ceb864aa2dba24f8e0ece493611c95462b4f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 16 10:25:46 2013 -0800

    Fixed compile warning, thanks to Michael Pohoreski

commit 8093cfd8ce93ad873d0c546e575caa976b7a6992
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 15 22:07:35 2013 -0800

    Better fix for bug 2207 - SDL_RenderSetViewport behavior is different/incorrect on OpenGL renderer vs DirectX renderer
    At least, it works better here on my Mac. :)

commit 44959a21efba81f11c7887ff8f6663928e22cdb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 15 22:05:26 2013 -0800

    Added viewport test, contributed by Andreas Schiffler and improved by me and Ryan Gordon.
    If it works correctly you should see a square moving from the upper left to the lower right, with a little yellow box at the top of the moving square.
    
    You can pass --target as a command line option to have it use a render target instead of rendering directly to the screen.  The output should be identical in this case.

commit 30f7e868820fb7e08cbb41bbac3c2832ebf05bb1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 15 22:01:58 2013 -0800

    Added space in the common state structure for render targets

commit 4f39f0115b4700829b1fe2f49e70f3c8b29d114b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Nov 15 23:20:50 2013 -0500

    Fix viewport being upside down in OpenGL renderer.
    
    Fixes Bugzilla #2207.

commit 4295a92f97ffaa03ee8f3b68bd0a66e06fb2ef80
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 14 22:26:49 2013 -0800

    Fixed bug 2240 - On OS/X after calling SDL_SetWindowBordered right mouse clicks no longer register
    
    philhassey
    
    On OS/X after calling SDL_SetWindowBordered right mouse clicks no longer register.
    
    Steps to Reproduce:
    
    1. Open a windowed window on OS/X.  (With the border on.)
    
    2. e.button.button will give values 1,2,3 depending on which mouse button I click.
    
    3. Call SDL_SetWindowBordered to disable the border.
    
    4. e.button.button will only give values 1,2.  3 (right mouse button) stops coming through.
    
    Expected result:
    
    I expect all mouse buttons to register.

commit ef97aab9cf7f75f540d40c4568524f1a71ea9653
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 14 21:39:54 2013 -0800

    Backed out changeset 6c59f7c8ec17 - it didn't actually do anything useful

commit 346ebbb47e219046fb05caeb8bf599eeee35709c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 20:24:15 2013 -0500

    Turning --no-undefined back on, to see what platforms are still broken.

commit b2f8b351d43c6b5c8f18034fd45961bf484cb520
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 20:24:40 2013 -0500

    Fixed comment typo.

commit 35915d4f99433fa4083b1340d03d1c3b1e972d83
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Nov 14 20:14:02 2013 -0300

    Clean up the EGL related video backends (X11, Android, RPi)

commit a4a7c78ce8c3d47a91ab5cd9502119c1201879de
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 14:45:00 2013 -0500

    Apparently Haiku is removing /boot/common (thanks, scottmc!).
    
     See http://lists.libsdl.org/pipermail/sdl-libsdl.org/2013-November/091877.html

commit e899f0c4e0bfea5c870b94ee31409097b4682480
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 14:42:20 2013 -0500

    Haiku: fixed uninitialized variable.

commit f9f064d533346461e958db9f91312ce51ff41af5
Merge: 1c138785d 00003e8c0
Author: Apoorv Upreti <apoorvupreti@gmail.com>
Date:   Thu Nov 14 22:35:28 2013 +0530

    merged with repo

commit 00003e8c00746bdb76d44bca20509317a942c6ed
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 11:51:24 2013 -0500

    Renamed things named after BeOS to be named after Haiku instead.

commit 1c138785d78666115b4d347aca75fd695e8bd4ca
Author: Apoorv Upreti <apoorvupreti@gmail.com>
Date:   Thu Nov 14 22:19:07 2013 +0530

    Fixed visualtest build on VS2012
    SDL2, SDL2main and SDL2test had to be added as dependencies to the testquit project to get it to build properly.

commit 85dd689ff9d48f7adaee8328456c6677213c9c62
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Nov 14 10:19:07 2013 -0300

    Adds joystick/udev troubleshooting information to README-linux.txt

commit dd325b97622934a07b0be70ee71307b8190ab7f6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 01:00:08 2013 -0500

    Patched to compile on Haiku.

commit 8d6e03f353415cdb51bd1fb4598093a80eae87c2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Nov 14 00:52:39 2013 -0500

    Added SDL_DetachThread() API.

commit 7550ddcc05235f924e0ebac1224fcd8c0e601788
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Nov 13 22:35:26 2013 -0500

    Started BeOS removal: merged BeOS thread and pthread code.
    
    Haiku uses most of the standard pthread API, with a few #ifdefs where we
    still need to fallback onto the old BeOS APIs.
    
    BeOS, however, does not support pthreads (or maybe doesn't support it well),
    so I'm unplugging support for the platform with this changeset. Be Inc went
    out of business in 2001.

commit b36d98bd9ce83ff5045e556d3d111c23a9e2f26c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 13 21:50:59 2013 -0800

    Diagonal flipping with RenderCopyEx
    
    Ivan Rubinson
    
    As it turns out, it was impossible to render a texture flipped diagonally (both vertically and horizontally) with one RenderCopyEx call.
    With help from #SDL @ freenode, we came up with a fix.

commit 5b8b403e3e6cc5a9d180c632ffc01c141f461773
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Nov 13 11:18:37 2013 -0300

    [Windows] Fixes bug #1555, handle ALT+F4 on Windows

commit f8e1d350a4b95ab60c2614b6a34f4ac66785fa6d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Nov 13 09:41:21 2013 -0300

    Updated androidbuild.sh to enable parallel builds and ndk-build parameters

commit ad4ba2d5727bf139637a7d1b4270f8543e24ca4b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 12 11:31:13 2013 -0300

    Added a few notes from Ryan's email to README-linux.txt

commit bcece01c6cc275f903067033a7c3335ee0d3af10
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 12 11:28:42 2013 -0300

    Linux README explaining build vs runtime, and build deps for Ubuntu 13.04
    
    Build dependencies list for Ubuntu 13.04 provided by Ryan.

commit 397f5a850d1d8db0fe735789b0fe56df90de92d1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 12 02:18:52 2013 -0800

    Retain the high dpi flag when recreating the window (e.g when creating a renderer context)

commit 12961352d37668cdaf4f5177d97f7432d3518ce4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 12 02:04:12 2013 -0800

    Fixed build error with SDK < 10.7

commit 253b9ba815b558924867f45b0ad7eb00c73cc54f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 12 02:02:12 2013 -0800

    We still want to generally minimize on focus loss, but not when we're in a fullscreen space on Mac OS X.

commit 75145ea023bc52f667f62625f0b00dcdc71cfb03
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 12 01:52:54 2013 -0800

    Added a hint SDL_HINT_VIDEO_FULLSCREEN_SPACES to specify that windows go fullscreen into their own spaces on Mac OS X.

commit 5f8a0b18d34aa978229becc77154785cacaa96d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 12 00:32:29 2013 -0800

    Fullscreen space naming cleanup to avoid confusion with normal fullscreen mode

commit 7459b159e0843d9ebaaf07dccd37f541fcb8db8b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 23:42:43 2013 -0800

    Made sure the window had the correct border when manually being brought back from fullscreen mode.

commit cb190b8270a08c0aa166187810997059137946b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 22:43:05 2013 -0800

    Fixed assertion when quickly toggling from fullscreen back to fullscreen:
    "Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'backgroundWindows not nil in enterFullScreenTransitionWithOptions:animated:activatingIt:'"
    
    To reproduce this, run testsprite2, press Alt-Enter once, again while it's animating to fullscreen, and then again while it's animating out of fullscreen.

commit 8f8070db42bafc8edbd217d1908a438b145d2a67
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 21:38:11 2013 -0800

    Fixed window resizing when entering and leaving fullscreen mode

commit 7cf76ffbe04fadd49d94e895823c5c26a6489ef3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 21:21:18 2013 -0800

    Fixed assertion failure when minimizing a fullscreen window.

commit 75a23d99a58749df444514cfd6ec6a221923ff26
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 20:51:19 2013 -0800

    Fixed bug 2212 - SDL_SetTextInputRect has no effect on iOS
    
    philhassey
    
    Overview: While SDL_SetTextInputRect works perfectly to move my window out of the way of the virtual keyboard using SDL2/Android, on iOS this function has no effect.
    
    Steps to Reproduce: Call SDL_SetTextInputRect with a rect near the bottom of the screen before calling SDL_StartTextInput.
    
    Actual Results: The iOS virtual keyboard is displayed after calling SDL_StartTextInput, but the screen is not shifted to reveal the TextInputRect region.
    
    Expected Results: The screen should be shifted to reveal the TextInputRect region (like with SDL2/Android.)
    
    This patch implements SDL_SetTextInputRect for uikit/iOS.
    
    It sets up notification handlers to respond to changes in the display of the keyboard.  These handlers then change the frame of the view so it is moved out of the way of the keyboard as per SetTextInputRect.

commit cb31a80d82e8fb8466a8b09b10a7c77f616f8493
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 20:42:59 2013 -0800

    Properly handle toggling fullscreen state when another fullscreen state change is in progress.

commit 819148a844f2fa2dfe5ab6a3db9c3a5218aa3df1
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 11 19:17:32 2013 -0300

    [X11] Fix up compilation when EGL headers are not present.

commit 04afd61cd9b270e12be187c4d0040aac6cd790ea
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 11 11:12:43 2013 -0300

    [Android] Try to improve handling of some dpad+gamepad+keyboard corner cases

commit 6dbed827a7ba7386006f26e7397fbea4c73f1c57
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 11 10:59:15 2013 -0300

    [Android] Fixes Bug 2031 - Backspace Not Sending Events From On-Screen Keyboard
    
    Thanks Joe LeVeque!

commit d37bad52b1477e2f7f6e4ef25d6e6b36cde6f75f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 11 10:49:48 2013 -0300

    [Android] Improve handling of keyboard, dpad and gamepad events
    
    Thanks Dimitris Zenios for the report!

commit 45a88b6ade1e13e2f0d2e68fec73dd1ddc9ad682
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Nov 11 10:15:35 2013 -0300

    [Android] Fixes bug 2217, better joystick axes handling on Android.

commit f0692d656f568c2b86aae9e4181ed9df88e0a7ab
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 03:29:11 2013 -0800

    Fixed compiling with older Mac OS X SDK

commit 2384ad5b9e7425f9858908b00082612b7c78ba0f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 03:12:50 2013 -0800

    Fixed compiling with ISO C90

commit 2ceeb74e25174d84741519bfb0584a720619df62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 03:02:42 2013 -0800

    Don't minimize by default when in fullscreen desktop mode.
    This fixes behavior with the new Mac OS X fullscreen space code, as well as improve behavior on Linux desktops.
    The default for normal fullscreen mode is still to minimize because we're likely doing a mode switch and don't want to stick around as a borderless window in the background.

commit 4c1322f693bf880f4d1011a2d13c46ff38c6dc81
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 02:53:00 2013 -0800

    Added support for new style fullscreen transitions on Mac OS X

commit 2b93fa08921bd132e8d7025534179c9b641a4936
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 02:00:58 2013 -0800

    Turn off resizable flag by default, you can always pass the --resize command line option if you need it.

commit 6ec3e69045594bde70fc45148125224924a2137e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 01:59:40 2013 -0800

    Fixed whitespace style

commit 77a0d3fe2afafad9e9b9b81cb687c0368bfdb048
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Nov 11 01:59:20 2013 -0800

    Toggling fullscreen now takes fullscreen flags

commit 893afbaf3b86a0a3052cfdaf68549aae9eade5d7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 19:19:44 2013 -0800

    Fixed pool memory leak

commit b30e396ba1139d79d432f1c9887b29d212910da6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 17:56:07 2013 -0800

    Fixed bug 1965 - Mac: dead code for supporting OS 10.4
    
    Alex Szpakowski
    
    The new patch removes all the truly obsolete code I could find. I tested on OS 10.8 and OS 10.5.

commit 5821466c051ecba4b2604c14f080c61825806986
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 17:40:35 2013 -0800

    Fixed bug 2176 - SDL_CreateWindow(w=INT_MAX, h=INT_MAX) causes program to hang
    
    Catch exceptions generated when trying to create a Cocoa window.

commit 15a3bbcbd9b49035b71717c88e48aaea00db2953
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Nov 10 20:38:50 2013 -0300

    [X11] Ignore both NotifyGrab and NotifyUngrab modes in FocusIn/FocusOut events

commit d21640e92a91ab581a25b4b21ebd5e84b7825cbf
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Nov 10 20:13:27 2013 -0300

    Fixes bugs #2213 and #2214, improves the Android joystick code button handling

commit 9228c845767047ba5e0c8273a88bf85df5852ba1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 14:48:44 2013 -0800

    Fixed issue with dead key press/release events being filtered out.

commit 0d39d090767e466deba63bb4c1dfe11a276b682e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 14:33:01 2013 -0800

    Hopefully fixed focus problems when handling a global hotkey on X11.
    See this thread for details:
    https://bugzilla.mozilla.org/show_bug.cgi?id=578265

commit e19f15ddd513295932ae9dc3d107c9ff19c6e767
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 14:10:00 2013 -0800

    Fixed bug 2067 - Window size limit calculation issue when exiting fullscreen on Windows
    Also fixed minimize and maximize state detection for Windows.

commit b7553ae77e560347090bf21ea503ad5e3e266090
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 10 11:51:06 2013 -0800

    Added project files for Visual Studio 2013
    Added /arch:SSE code generation option to prevent SSE2 floating point functions from being implicitly called (which aren't linked in SDL)

commit 842a9898ceeeb13a1e61a80c74ac64d6b099b33b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:50:40 2013 +0100

    Fixed joystick crash on Android if joystick subsystem not initialized.

commit 305f64ba2e5b9fc2a5d59a9d94581f9a684fae87
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:44:51 2013 +0100

    Replaced search loop with indexOf() in Java file.

commit bbf0f62be91309898b4341fb97515cac211b15a8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:42:01 2013 +0100

    Replaced implicit boxing with explicit boxing in Java file.

commit 2d671781498d61cbaa0f329ec461bd18ce058c96
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:40:26 2013 +0100

    Renamed a class in Java file for consistency.

commit 802f83ff998ba7ba22fb0a8b926726bcb1da8a6c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:38:03 2013 +0100

    Removed not needed imports from Java file.

commit d6c1e3812e4d24498586c1195f1e04405db57097
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 17:35:07 2013 +0100

    Added missing @Override annotations in Java file.

commit 26ce68e8c28c87eba4e6f63da62ea17585908c7c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 15:04:58 2013 +0100

    Changed motion listener implementation not to inherit from Activity class.

commit fda8d9344036a18cc9c330eed536350953d0340a
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:58:48 2013 +0100

    Moved two function calls so they are only called if needed.
    
    If the MotionEvent is not from joystick the return values are not needed.

commit aa3379802b84e603f30647d5ad63a2239fca53a8
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:50:37 2013 +0100

    Added a new unused key code from Android 4.4 (API 19).

commit 0ab7624cdec6a7a7802cc055735d24104f6e3b7d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:47:05 2013 +0100

    Changed function to return -1 through SDL_Error() instead of plain -1.

commit 82b3e7d229a6eca512247e0e74edb8244f4ca31c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:44:50 2013 +0100

    Changed function to be static.
    
    The function keycode_to_SDL() is only used in this file.

commit 6e3558cf99ffb72beec0b9420280401cd8949aac
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:42:41 2013 +0100

    Removed unused local variable to fix warning.

commit 3f2e942fa0446caa98e709c37f6e5acbc29bb61b
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:39:38 2013 +0100

    Fixed implicit function declarations by including the missing header.

commit bd1e1a93f2d95b69b2580d0b29484d2b8764c4f9
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Nov 10 14:36:41 2013 +0100

    Corrected source comment.

commit 92b12812ac7ef74bc4e76ffc464e0c61c0f69230
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 10 00:38:37 2013 -0500

    Added Ben Henning's GSoC2013 work: premake build system.

commit 520697577839946852b562b37cd923bfdb6c2c10
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Nov 10 00:32:23 2013 -0500

    Added Apoorv Upreti's GSoC2013 work: visual test suite.
    
    See visualtest/README.txt for details.

commit 247313174a93d4b222cd15ef3f80428fc3e789a6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 9 01:15:17 2013 -0800

    Updated notes about building with the Windows 8 SDK: Get the DirectX SDK.

commit 33cf925c1587dae0a88787bdbc531cac01d921f6
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 9 01:08:21 2013 -0800

    Fixed signed/unsigned warning

commit 550676d08d2cc36e5d618f76a0976d0828c2268e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Nov 9 00:56:05 2013 -0800

    Fixed signed/unsigned warning

commit 976c87692401e12a6eec77e95aae77ee985302cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:05:23 2013 -0800

    Fixed bug 2172 - Window loses maximized state when activated
    
    I still haven't figured out why my application is being minimized when I try to raise, it but my previous workaround is causing issues.
    
    For now the correct way to raise and/or restore the window is as follows:
    
            if ( !(SDL_GetWindowFlags( window ) & SDL_WINDOW_MINIMIZED) )
            {
                    SDL_RaiseWindow( window );
            }
            if ( SDL_GetWindowFlags( window ) & SDL_WINDOW_MINIMIZED )
            {
                    SDL_RestoreWindow( window );
            }
    
    I will investigate the window state change rules more fully in the future.
    
    CR: Alfred Reynolds

commit 7c7a9b7f899e1ad6744f9658fa188b75564cf9ba
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:05:19 2013 -0800

    Added a Linux game controller mapping for the Valve Streaming Gamepad

commit 3523b409bc1f0bd52bf5de093ac8000c4442660c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:05:15 2013 -0800

    Made helper window creation depend on initializing the Haptics or Joystick subsystems.

commit faebe94c56857dc4febb898a2df996f3979eba02
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:05:08 2013 -0800

    Mac: Fix a crash with SDL_MAC_NO_SANDBOX.
    
    When we get a kCGEventTapDisabledByTimeout or
    kCGEventTapDisabledByUserInput, the event tap would perform an invalid
    memory access. void pointers are so fun.
    
    This code only runs if you explicitly build with SDL_MAC_NO_SANDBOX.

commit e3e24bded7b39c787102fd11144e111474b59d4e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:04:59 2013 -0800

    Make sure the joystick count is correct when the added and removed events are dispatched, in case someone is watching for them with an event filter.

commit 621c7f8f1fe18838e88985d498aea240eb42c24a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:04:51 2013 -0800

    Added SDL_HINT_CTRL_CLICK_EMULATE_RIGHT_CLICK hint which controls whether ctrl+click should emulate a right click on OSX.

commit 493fadd5c1ed70d8cc5518361a9c8da76267d319
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Nov 8 14:04:35 2013 -0800

    Fixed spot where SDL was assuming that two displays having the same origin means they're the same display. Changed it to check for the same extents instead.
    
    (Sam actually wrote this, I'm just reviewing and checking it in.)

commit 95c67ed9a77a684b6ee7dc2197f412d48764408f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Nov 7 19:15:58 2013 -0800

    Fixed bug 2219 - BMP loader do not handle big BITMAPINFOHEADER structure
    
    Patrice Mandin
    
    I encountered a problem trying to load a 8-bit paletted BMP file using SDL. This file was generated using GIMP 2.8. It has a big BITMAPINFOHEADER (0x6c bytes for biSize field), and thus the palette is incorrectly setup.

commit 48e44f7fcb968c51a8c1eff815d9a94dbcfe6535
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 6 23:59:24 2013 -0800

    Fixed Windows compile error

commit 3b050fc953ec6e1c025b77f34bd9991114846bd9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Nov 6 23:35:08 2013 -0800

    Horizontal wheel support in windows
    
    Lorenzo Pistone
    
    this patch adds support for the horizontal wheel in Windows. It is shamelessly copied off the vertical wheel code, but I guess that that is a value added in consistency.

commit 22770a8f40d4873c85dd901087b00222eafc6ffd
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Nov 6 11:23:24 2013 -0300

    [Android] Fixes Bug 2041 - can't get SDL_QUIT event...
    
    Thanks to Denis Bernard!
    
    Also, changed the Android manifest so the app doesn't quit with orientation
    changes, and made testgles.c exit properly on Android.

commit e27248c27ebd89b25a67bf489ccbcfeef0e5bf32
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Nov 6 09:48:45 2013 -0300

    Fixes Bug 1944 - Linux events, joysticks having only hat are not read

commit 1c9cc8c9b7ba22e3ec7d20285eb2833b1e97465f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Nov 5 21:01:25 2013 -0800

    Fixed performance regression caused by the fix for bug 2158

commit 0b7c69fe1207b1c997ce2699211ffc65fcf2ef45
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Nov 5 20:07:39 2013 -0300

    Adds Joystick support for Android
    
    This bumps the build SDK level to 12 (up from 10). Runtime requirements remain
    the same (at API level < 12 joystick support is disabled).
    
    Also enables building SDL for armv7 and x86.

commit 749117acd927076bbfd3237d0a4ed26a5965b56a
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Nov 4 19:54:29 2013 -0500

    WinRT: added experimental OpenGL ES 2.0 support
    
    A port of the ANGLE library (OpenGL ES 2.0 for Direct3D) to WinRT, via https://github.com/stammen/angleproject, is used as a base.
    
    To enable, clone 'angleproject' into the directory one above where SDL/WinRT is, open the file SDL/include/SDL_config_winrt.h, and uncomment the #defines that begin with 'SDL_VIDEO_OPENGL'.  From there, apps can create an OpenGL capable SDL_Window via the flag, SDL_WINDOW_OPENGL, and an OpenGL ES 2 context via SDL_GL_CreateContext.  The Direct3D 11.1 renderer cannot be used alongside SDL_WINDOW_OPENGL.  Only Windows 8/8.1 is supported for now.  Shaders may need to be precompiled, in some (all?) cases.

commit 61068a30b6bcd24282ee273a0de11702afca1069
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 11:34:03 2013 -0800

    Fixed bug 2180 - debian/rules: Makefiles should use tabs
    
    Joseph Carter
    
    Whitespace in a makefile is consequential.  In fact, it's part of the syntax.  And at least a few versions of make puke on Makefiles with lines indented with spaces, not tabs.  Obviously GNU make used on Debianish systems is not strictly among them, or this would fail.  Even so, I cannot resist the urge to pedantically fix this, if only to get rid of the bright syntax error red coloration in vim.  :)

commit c4b563e4c3f02db45d24b0d8ea120a89721c4cad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 11:27:06 2013 -0800

    Fixed bug 2190 - test/testdrawchessboard.c line endings
    
    Joseph Carter
    test/testdrawchessboard.c checks out of hg with DOS line endings on non-dos systems.  Fixed via:
    
    perl -pi -e 's/\r//g' test/testdrawchessboard.c

commit 517886a7f15886e016ee651b0fa68cae0aabc55a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 11:13:06 2013 -0800

    Fixed bug 2205 - SDL_GetAudioDeviceName returns default-device name on invalid index for default-device only drivers
    
    norfanin
    
    The audio_enumerateAndNameAudioDevicesNegativeTests test in testautomation_audio.c reports a failure for SDL_GetAudioDeviceName when called on a driver that has only the default device. SDL_GetNumAudioDevices reports 1, but SDL_GetAudioDeviceName does not check if the index passed by the caller is in that range in this case. For positive numbers anyway.
    
    This can be reproduced with the dummy driver on Windows and Linux.

commit aaa4165b9f3f593a65ed5af3663aace719d20031
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 11:00:28 2013 -0800

    Fixed bug 2187 - CMake is not adding src/core/linux/*.c to the build, linking to SDL results in errors.
    
    Daniel Ribeiro Maciel
    
    CMake is not adding src/core/linux/*.c to the build, linking to SDL results in errors:
    
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_AddCallback'
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_Poll'
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_Init'
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_Quit'
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_DelCallback'
    (...)/libSDL2-2.0.so.1.0.1: undefined reference to `SDL_UDEV_Scan'
    collect2: error: ld returned 1 exit status

commit f2224e1fc7ccb2336385de51e60d42444e1ecfb9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 09:55:27 2013 -0800

    Fixed bug 1990 - focus/keyboard events not generated correctly for multiple windows
    
    Mai Lavelle
    
    I've recently tried to create multiple windows and process key events for them, and found that key events weren't being generated for most of the windows. After some investigating I've observed the following effects. All but the most recently created window experience these effects...
    
    - a focus lost event is generated immediately after the focus gained event, even tho window still has focus
    - key events report window id 0 rather than the id of the window which has focus, SDL thinks no window has focus?
    - giving focus to a non SDL window and then selecting an SDL window causes events to be generated as expected, but only until focus changes again
    
    Focus change events are queued and delayed (200 ticks) before they are dispatched.  The problem occurs when a focus out and focus in event are received on the same tick.  When these delayed events are dispatched they will be sent in the order determined by the window list rather than the order in which they are received.
    
    The focus out dispatch is implemented by calling SDL_SetKeyboardFocus(NULL).  This will remove focus from any window, regardless of whether it is the one originally targeted by the X11 event.
    
    Since SDL_SetKeyboardFocus() will always dispatch a focus lost event as needed, the easiest solution is simply to only call SDL_SetKeyboardFocus(NULL) when SDL_GetKeyboardFocus() matches the target window.

commit 2efd40652d6645a7b8c57f6a5bb6c67ee2fc8fbd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Nov 3 09:42:23 2013 -0800

    Clarified that SDL_memset4 is a 32-bit assignment and fixed a compiler warning

commit cd37485e3cac594d42a8780eb47aa2635319aaed
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 2 12:07:21 2013 +0100

    Changed parameter name for gesture template save functions from "src" to "dst".

commit 95bbf5f443822de3c7ccaae45a25dc57948ebc26
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 2 11:51:23 2013 +0100

    Removed unreachable return statement in gesture source.

commit 4e270de15d9c87ea6c2b410f76c039d53c018e18
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 2 11:46:43 2013 +0100

    Changed function to return -1 through SDL_Error() instead of plain -1.

commit 0f8d9995fe76a6eeb260ea877d2d38ff583da6f1
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Nov 2 11:42:00 2013 +0100

    Corrected typo in source comment.

commit 7cc09516374481da97237775d47bd965cc2edee3
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Nov 1 22:54:39 2013 -0400

    WinRT: added support for SDL_HINT_RENDER_SCALE_QUALITY

commit e651ab12b6cfa19442d1a487317056c7bc04219e
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Oct 31 10:02:21 2013 -0300

    Fixes Bug #2191,incorrect test for egl_context validity
    Thanks David Binderman!

commit 804e5799ad2b596312b046b1701d1684d3df2fe1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 30 16:39:35 2013 -0400

    Fixed common test usage string (was "hidpi", should be "highdpi").

commit d36c7363ddd85370a7bdbcb23f37a77a126ce7f8
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Oct 28 22:43:39 2013 -0400

    Updated GL version tests for Mac OS X 10.9 ("Mavericks").
    
    They changed the name of their GL 3.2 enum, added the GL 4.1 core profile.

commit ea12ff9fafe2440d872a5cd8644a5d8a883bc5e8
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Oct 28 15:52:04 2013 -0400

    WinRT: added a comment regarding the lack of SHGetFolderPath on WinRT

commit 3236fc3a9f823c28739cdd49a8144289451a737b
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Oct 28 15:41:22 2013 -0400

    WinRT: implemented SDL_GetBasePath and SDL_GetPrefPath

commit 3f8f680891a09694a216afc38db735b25b644d70
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Oct 27 23:19:35 2013 -0400

    WinRT: spelling fix in SDL_hints.h

commit 1704af5b02b7933c2e9ee8c828141fe116720c13
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Oct 27 23:03:11 2013 -0400

    WinRT: build fixes, post SDL 2.0.1 update

commit 69c5d21d7df107636c99f9ceda524406bef7fb4f
Merge: e64e3d8c2 f570effbf
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Oct 27 21:26:46 2013 -0400

    WinRT: merged with SDL 2.0.1 codebase

commit e64e3d8c2786c79fa0063be9361bd7dfc38066ab
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Oct 27 14:31:57 2013 -0400

    WinRT: fixed two bugs regarding mouse events
    
    The first bug had mouse motion events not getting sent out on non-touch devices, if and when a mouse button wasn't pressed.
    
    The second bug caused virtual mouse motion events to get sent out-of-order on touch devices: the motion event would get sent after the touch occurred, rather than before.

commit 62c781eaff80accc989e28604a9d7232a680a117
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Oct 25 20:31:43 2013 -0400

    WinRT: made the Direct3D 11.x 'Debug Layer' be enable-able in any app via a hint
    
    To enable the Debug Layer, set the hint, SDL_HINT_RENDER_DIRECT3D11_DEBUG to '1'.
    
    The Debug Layer will be turned off by default, both in Release and Debug builds (of SDL).

commit f570effbf5e4ea088fbe76566d8014fa2d4477c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 20:58:39 2013 -0700

    Added tag release-2.0.1 for changeset 5755b4fad250

commit 7108aac5ac1060a32d785ef63f2f3bfaa91d7c06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 20:58:31 2013 -0700

    Removed tag release-2.0.1

commit 609b58e4417d0f9d0996943d1b97891587b4bd15
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 24 00:00:10 2013 -0400

    Fixed buffer overflow.

commit aa10a5d908a1324256895f593934e40b561dfcf0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 17:46:07 2013 -0700

    Added tag release-2.0.1 for changeset 37391efdb946

commit 72de99aed31da6f4ed4ad3e319a5a91d58ab38b4
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 23 19:52:14 2013 -0400

    Initialize MEMORYSTATUSEX size before GlobalMemoryStatusEx() (thanks, Justin!).
    
    Fixes Bugzilla #2177.

commit 51fc4b202ea97a8019538815f528ea90768fac4d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 16:33:15 2013 -0700

    Added tag release-2.0.1 for changeset 51a4ba8915d8

commit fbfe0901116cd8ebc0826d683cd8fc8ffed2e9a2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 16:32:56 2013 -0700

    Updated Debian package version to 2.0.1

commit d3ad8ff4b14bd6cccdb73958f436afb5c854a4eb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Oct 23 16:17:08 2013 -0700

    Added tag release-2.0.1 for changeset 1e256bd077b2

commit e0771482f696e273a54c56f6c2fac532703ee572
Author: Pierre-Loup A. Griffais <pgriffais@valvesoftware.com>
Date:   Wed Oct 23 13:43:17 2013 -0700

    Fix regression causing crashes when running without a window manager.

commit 965a0da90120299df90cbd51cab08a8daf01b309
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 23 15:54:12 2013 -0400

    Moved a SDL_SetError() call elsewhere to avoid triggering it needlessly.
    
    Otherwise, the XInput path would always trigger it in a harmless manner.

commit 28aa076c8b51d4bc20802c7ce720db1d2fd1aa49
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 23 00:58:20 2013 -0400

    SDL_GetPrefPath() now uses the organization on all platforms.
    
    Even if that's not the general convention for a given platform.

commit 298d3d627a37b17c2df8f3ce6ac0915ccb514d50
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 21:54:52 2013 -0700

    Fixed duplicate const warning

commit 30ce2bc72368ec0bb051d067cde14f49674b9fc0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 21:53:58 2013 -0700

    SDL 2.0.0 defined __inline__ and some code relies on it now.

commit fa73a3c8f6ba84199b821b23f269080f43bdaec3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue Oct 22 21:53:42 2013 -0700

    Testing fullscreen window in the accelerometer test.

commit 09b3b7e78b67d18712bc1a4871d6f8781e8ff00a
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Mon Oct 21 23:17:37 2013 -0700

    Fix error assert for negative cases of pixels_getPixelFormatName test

commit 6a71d9923362615091d2009173454274b5b0533b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 22:27:07 2013 -0700

    Added patch notes for 2.0.1

commit 2348e426c73c095d0755ad638c1068fe376bd804
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 22:08:56 2013 -0700

    Fixed whitespace

commit 3d1c3b19c3bbd6e510ecd08cc08048ce2076c468
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 10:28:57 2013 -0700

    Revert fix for bug 1392 because it breaks linking with mingw32

commit 06811ecf18e909f12ac371d6d95e25c93abba955
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 02:46:16 2013 -0700

    Fixed bug 2168 - Mac: SDL_filesystem.h not exported to public header folder when building framework
    
    Alex Szpakowski
    
    I actually made a mistake when creating the previous patch file... I forgot to include a crucial line which changed.
    
    I've attached a new patch which just changes the line I forgot, since the other part has already been applied to the repository.
    I tested this one by doing a clean rebuild of SDL, and it works with the new patch.

commit 50da48eebf178ada8faa7cd022d2ef9556fc86fe
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 02:38:23 2013 -0700

    We don't have API changes documented yet.

commit bcf5472d16e6c8089cbd3a9dc825fa96bb1ff39d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 02:37:03 2013 -0700

    Fixed bug 2073 - Mac: window moves unexpectedly when exiting SDL_WINDOW_FULLSCREEN_DESKTOP mode
    
    Alex Szpakowski
    
    In Mac OS X, when SDL_SetWindowFullscreen(window, 0) is called on a window which was in SDL_WINDOW_FULLSCREEN_DESKTOP mode, its original size is restored but its position is moved to the bottom of the screen.
    
    I tracked down the issue to these two lines: http://hg.libsdl.org/SDL/file/fdd5cc9e9f90/src/video/cocoa/SDL_cocoawindow.m#l1034
    
    I believe [nswindow setFrameOrigin:rect.origin] implicitly calls [nswindow constrainFrameRect:rect toScreen:screen], which will attempt to constrain the window to the screen, but at that point the window size is still full-screen rather than the restored window size, so the constrainFrameRect function operates on the wrong window size.
    
    https://developer.apple.com/library/mac/documentation/cocoa/reference/applicationkit/classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/constrainFrameRect:toScreen:
    
    I resolved the issue by swapping the order of the function calls, like so:
    [nswindow setContentSize:rect.size];
    [nswindow setFrameOrigin:rect.origin];

commit d08634e2c68d3c409ad0bc03c790e27bedd87fcd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 02:32:34 2013 -0700

    Better fix for bug 2129 - fix for bug 2121 breaks linking for mingw and throws multiple warnings
    
    J?nis R?cis
    
    Reopening as compilation with ANSI C throws lots of unnecessary warnings, both using MinGW and using Linux GCC. (BTW, what happened? MinGW is broken to all hell. sdl2-config does not even link SDLMain anymore?)
    
    I think this may have been lost somewhere, so again: GCC supports inlining via __inline__ in all known versions of GCC, regardless of the C standard in use. Please don't assume that __STRICT_ANSI__ implies no inlining support.

commit c10389cf5b6bd631f3de426a6ca1580110011cca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 02:20:39 2013 -0700

    Fixed bug 2168 - Mac: SDL_filesystem.h not exported to public header folder when building framework

commit b8b9bfbe5bba1dc8b68ad9990f26e6b66bc07c93
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 01:16:16 2013 -0700

    Fixed some warnings building for 64-bit Windows

commit 11d38d696e6922bdfb996a58055a80ee2a57d42f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 00:30:05 2013 -0700

    Fixed bug 2015 - surface getting leak in SDLTest_ScreenShot function
    
    Nitz 2013-08-06 03:53:41 UTC
    
    In function SDLTest_ScreenShot() surface pointer getting leak while return

commit 80930559a36051aa68dc2b5f28ad3bb1637a9346
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 00:25:43 2013 -0700

    Fixed bug 2012 - Algorithm logic getting wrong in ComputeOutCode
    
    Nitz
    
    I was going through the SDL_IntersectRectAndLine function and wondered to see the ComputeOutCode function implementation.
    
    The problem in this algo is, x and y axis are getting check with respect to 0, Which is wrong, it should be get checked with respect to rectangle x and y axis.

commit 6f76bc290aabf1832b7cd411b5b42e2696dca77c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 00:22:07 2013 -0700

    Fixed bug 2061 - SDL_filesystem API not built using cmake
    
    Marcus von Appen
    
    The SDL_filesystem API does not get built properly on Unix and BeOS using cmake due to not including the correct C files.

commit deb8086b08776b69696e474335157ed3f078d4ec
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 00:20:27 2013 -0700

    Fixed bug 2072 - Make OS X's filesystem calls use -[NSString fileSystemRepresentation]
    
    C.W. Betts
    
    The recommended way of getting a file name that POSIX file APIs can open in OS X when using an NSString is -[NSString fileSystemRepresentation]. However, the current filesystem API in hg uses -[NSString UTF8String].

commit 360c3d853a5e79c6ee28cb5e8199a43a6e7bd04e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 21 00:15:24 2013 -0700

    Better cleanup if OpenGL initialization fails

commit 5697089d981d88f48997576c51261b1002ddc06c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 23:52:02 2013 -0700

    Fixed bug 2156 - Android: Accelerometer values fed to joystick driver are inverted for the X axis and wrong for Z
    
    Denis Bernard
    
    Background information: http://developer.android.com/reference/android/hardware/SensorEvent.html#values
    
    Steps to reproduce: compile testjoystick.c as an android app (change screen size according to your device). While running the app, also run:
    
    adb logcat -c; adb logcat -s 'SDL:*' 'SDL/APP:*'
    
    When tilting the device left/right, the joystick moves in the opposite direction of what one would expect. Or at least, the behaviour is not consistent with the Y axis.
    
    Also when the device sits on a table (obviously not moving), the Z axis value oscillates between -32000 and +32000 (by overflow):
    
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: 32511
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: 32575
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: 32383
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: -32386
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: -32450
    I/SDL/APP ( 1994): Joystick 0 axis 2 value: -32578
    
    This is caused by the accelerometer yielding a constant value around 9.81 for Z and feeding something like 0.9 to 1.1 to the joystick driver, resulting in the overflow.
    
    Proposed fix in SDLActivity.java (swap X and subtract G from Z reading)

commit a503dabe01b6e868a0628fbc10e787dc389381dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 23:23:25 2013 -0700

    Fixed a crash initializing Android touch IDs

commit f8c11bb955e3c547f098ad16efa739283ce4d106
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 23:05:53 2013 -0700

    Fixed the status bar visibility in iOS 7

commit 85c2e2367c0aa4f93b60c1d484ac144f4f66f178
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 22:23:09 2013 -0700

    Fixed Y axis inversion on iOS; positive is up, negative is down.

commit 08fa8da77c3ef2f477d92b920dd3cb49faec0eeb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 21:56:15 2013 -0700

    Fixed bug 2129 - fix for bug 2121 breaks linking for mingw and throws multiple warnings
    
    Andreas Ertelt
    
    The problem in question is caused by changeset 7771 (http://hg.libsdl.org/SDL/rev/5486e579872e / https://bugzilla.libsdl.org/show_bug.cgi?id=2121)
    
    The redefinition of __inline__ (introduced by the addition of begin_code.h:128's "|| __STRICT_ANSI__") results in mingw's gcc throwing multiple
    
       warning: always_inline function might not be inlinable [-Wattributes]
    
    as well as a whole bunch of redefinitions of mingw internals which break linking of projects including the SDL2 headers.

commit 4ca34ad4a4e660039946845c67b6670286b8989b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 21:34:38 2013 -0700

    Prevent conflicts when linking both SDL2 and SDL2_gfx

commit aa86e05d21d907606cfa95e8548d674ddc980833
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 20:49:36 2013 -0700

    Fixed windows compile

commit f5fa492e260f558473b6aac0af34f9acd5ac8bfc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 20:42:55 2013 -0700

    Added a macro SDL_TICKS_PASSED() to correctly compare two 32-bit tick values.
    Went through the code and used the macro and fixed a couple places that were using incorrect timestamp comparisons.

commit 04e170ceb7ac89980ec17dc983a1c9a99b0377e0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 20:41:30 2013 -0700

    Added __WINDOWS__ to reflect both 32 and 64-bit windows platforms

commit d710399671c3d7abc437438925fb716876f9118d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 23:38:19 2013 -0400

    Fix some edge cases in XInput haptic timing.

commit dddb878761d2b8b0e34e7a59dc4709a30e3412ac
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 23:08:45 2013 -0400

    Disable Win32 thread naming again. See Bugzilla #2089.

commit 0e699eb5bb547527bb14bd842e19b76d0f343513
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 21:18:05 2013 -0400

    Added SDL_GL_FRAMEBUFFER_SRGB_CAPABLE (thanks, David!).
    
    Fixes Bugzilla #1985.

commit d1bde399af45b7bf4bbb4c6a63689a930063b17d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 20:24:00 2013 -0400

    Backed out changeset 737771c47c6f, done testing Buildbot changes.

commit df3680846bb03ce5e865373a612c487d4c277cca
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 20:02:02 2013 -0400

    Intentionally breaking Windows and Raspberry Pi builds to test Buildbot change.

commit f28c7fe8a54149046ba90d3e95a19df679e505b9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 16:03:11 2013 -0400

    Backed out hg changeset add2dbe99fe2. REFGUID is apparently a const type.

commit c521ae84bce2c927fd52e9062c0206751c9a1b7e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 16:02:24 2013 -0400

    Patched to compile on non-C99 Microsoft compiler.

commit a614f18666792d2c735412888fbf96bb54122a70
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 16:01:10 2013 -0400

    Patched to compile on Windows.

commit b285b600920e138526a2cc72f8e915e862873174
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 15:55:47 2013 -0400

    Allow XInput haptics to run for SDL_HAPTIC_INFINITY time (thanks, Mitchell!).
    
    Partially fixes Bugzilla #2126.

commit 6e1169ddc2740a454c84523b214c08ea269c274b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 15:49:52 2013 -0400

    Fixed goofy logic in haptic device comparison code.
    
    Mitchell Keith Bloch did the research on this bug, and came up with a slightly
     different patch than this.
    
    Partially fixes Bugzilla #2126.

commit 54dce3f53ab10402edaa6f241d5c88edb76159e7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 15:45:48 2013 -0400

    Don't bother calling SDL_SYS_HapticEffectType() at all for XInput devices.

commit 5e74299a833e753a739804b65ef577d87371260e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Oct 20 15:40:20 2013 -0400

    Fix adding of XInput devices (thanks, Mitchell!)
    
    Partially fixes Bugzilla #2126.

commit ade13fd741061cf1b3cce3b54e01fc887ff6c309
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 10:39:26 2013 -0700

    It's okay to quit things more than once.

commit 20f5167d278d5849a9f6debafb91358867acad5f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 10:35:51 2013 -0700

    Use vertex arrays for drawing points in addition to lines

commit 8fc4fdf10b05f30970bbfcc2be9cef815236c893
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 10:19:51 2013 -0700

    Fixed bug 1392 - Debian patch: do not propagate -lpthread
    
    manuel.montezelo
    
    Since the bug report[1] in 2006 Debian is shipping the patch attached.
    
    [1] http://bugs.debian.org/375822
    
    Maybe nowadays you don't propagate that library for linking, so maybe the patch should be dropped, but at the moment I do not have an easy/quick way to check it.
    
    So I am submitting this report in the case that you consider it useful (even if maybe the patch itself has to be reworked), or otherwise learn if the patch is unneeded or even harmful.

commit 82b8e6df873bf2e52261127421dc88502e0c886e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 10:10:14 2013 -0700

    Fixed bug 2158 - Pixel missing in SDL_RenderDrawLines
    
    Sean McKean
    
    I am running Ubuntu 12.04 (GL version 1.4 Mesa 8.0.4) , and on drawing a set of lines through the renderer through SDL_RenderDrawLines() (looped or not) or SDL_RenderDrawRect() I notice a pixel missing. For RenderDrawLines() it seems to be the second point in the sequence; for RenderDrawRect() it is the lower-right. This can be fixed by specifying SDL_RenderDrawPoint(s), but wouldn't it be easier to specify each pixel in a GL_POINTS glBegin/End loop in the OpenGL code, just to make sure?
    
    I also ran the same program on Android; the rendering seemed to be correct, which uses glDrawArrays.

commit a25b51923aedd3f49eb16a6cb64b1fd9bc96078b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 20 09:58:37 2013 -0700

    Fixed compiling with the new X11 symbol wrapping

commit 6a3478c235154faefb40712f3536bbc9c28801d5
Author: Stefanos Apostolopoulos <stapostol@gmail.com>
Date:   Sun Oct 20 17:23:43 2013 +0200

    Fix bug 1300 by querying current border size in ConfigureNotify, and adjusting window coordinates accordingly.

commit e343273abb68ea9c27ac71127baa8499ab125c27
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 19 01:29:23 2013 -0700

    Fixed bug 2162 - SDL_RenderClear not clearing entire render target
    
    Kevin Wells
    
    Overview:
    SDL_RenderClear is only clearing part of a texture when it is the render target and a different size than the screen.
    
    Steps to Reproduce:
    1) This only occurs with the render driver set to direct3d, so: SDL_SetHint(SDL_HINT_RENDER_DRIVER,"direct3d")
    Also, my window was 1280x720.
    
    2) Create a texture for a render target with a resolution of 1024x1024:
    texture=SDL_CreateTexture(main_window.renderer,SDL_PIXELFORMAT_RGBA8888,SDL_TEXTUREACCESS_TARGET,1024,1024);
    SDL_SetTextureBlendMode(texture,SDL_BLENDMODE_BLEND);
    
    3) Target the texture for rendering: SDL_SetRenderTarget(main_window.renderer,texture);
    
    4) Set the draw color to whatever you want (problem occurs with both 0,0,0,0 and 0,0,0,255 among others) and then clear the render target:
    SDL_SetRenderDrawColor(main_window.renderer,0,0,0,0);
    SDL_RenderClear(main_window.renderer);
    
    Actual Results:
    Only about the top 3/4s of the texture gets cleared on calling SDL_RenderClear. The bottom 1/4 or so does not clear.
    
    Expected Results:
    Entire render target should be cleared.

commit b4a00144fb6fcd5ffef68c8c4ecc58129b43621e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 18 10:56:45 2013 -0400

    Fixed the XInput2 X11 symbols.

commit 5a026006478b2e8661cb9aa24d02bffac1e43ef7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 18 00:49:59 2013 -0700

    Fixed bug 2108 - CMake does not set X11 includes properly for sdl2-config and friends
    
    Marcus von Appen
    
    The autotools-based code uses X_CFLAGS and some hackish x_includes code to add some necessary includes to SDL_CFLAGS for proper X11 and OpenGL include handling.
    
    At the moment, the cmake-baed build code does not do that. Below is a patch, which provides the necessary changes to add a proper include to the SDL_CFLAGS.

commit 379c0054dcefa0ef379e8e9ef0932786693616fd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 18 00:47:22 2013 -0700

    Fixed bug 2123 - SDL_BlitScaled crashes in src/video/SDL_blit_N.c:2145
    
    We need to reset the blit function when switching between scaled and unscaled blits.

commit a329c7f1c9f8512a676f943184297cca612c4bf4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Oct 18 00:13:51 2013 -0700

    Fixed bug 2139 - SDL_CreateWindow/WIN_GL_LoadLibrary fails due to external iconv not being able to convert path
    
    J?nis R?cis
    
    Brief history:
    
    We recently ported a game from SDL 1.2 to SDL 2. While doing Windows testing, I soon discovered that the game exits without opening a window with my cross-compiled SDL2.dll, but works great with the SDL2.dll from the MinGW SDK on libsdl.org. It was as simple as swapping out the DLLs to make it work.
    
    Running the game in Wine showed that the game actually does run, up until the call to SDL_CreateWindow, which fails and leads the game to print out an error:
    
    Failure to create window (LoadLibrary("OPENGL32.DLL"): (null))
    
    Which basically says that there was no error, but maybe that's a Wine quirk.
    
    The error string originates in SDL_windowsopengl.c, in WIN_GL_LoadLibrary, which contains this piece of code:
    
        wpath = WIN_UTF8ToString(path);
        _this->gl_config.dll_handle = LoadLibrary(wpath);
        SDL_free(wpath);
        if (!_this->gl_config.dll_handle) {
            char message[1024];
            SDL_snprintf(message, SDL_arraysize(message), "LoadLibrary(\"%s\")",
                         path);
            return WIN_SetError(message);
        }
    
    After some digging, I discovered the culprit: WIN_UTF8ToString returns NULL. Why? Because it calls iconv_open from an iconv.dll that does not support the UCS-2-INTERNAL encoding. Why does the official SDL2.dll work? Because it calls no external iconv functions at all.
    
    It turns out that the Fedora MinGW infrastructure (from which I obtained the conventiently prebuilt iconv.dll) does not provide a DLL from libiconv, but instead provides a DLL from a minimal Windows library called win-iconv. Which knows a good bit, but doesn't know anything about UCS-2-INTERNAL:
    
    http://code.google.com/p/win-iconv/source/browse/trunk/win_iconv.c#155
    
    So there are two problems here:
    
    1) The error message is clearly useless, because LoadLibrary is an innocent bystander. Instead wpath should probably checked for NULL, and a more appropriate error should be set. Ideally something that makes it clear than an external iconv is causing trouble.
    2) SDL doomed itself at the ./configure step, by finding an existing iconv and happily using it without confirming support for the mandatory encodings required by SDL.
    
    There are certainly a few easy ways out of the situation (although I didn't yet manage to figure out how to prevent ./configure from looking for external iconv), but this had me completely stomped for a good while, so I figured it's worth writing down if anything.
    
    (Search also found this, which talks a little about using UTF-16LE instead of UCS-2-INTERNAL: https://bugzilla.libsdl.org/show_bug.cgi?id=2075)

commit 7ae171d15ec53cb181f3722927d482b4b62442fc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 23:44:30 2013 -0700

    Fixed bug 2155 - automatically remap accelerometer coordinates according to screen orientation on Android
    
    Denis Bernard
    
    Background information: http://android-developers.blogspot.fr/2010/09/one-screen-turn-deserves-another.html and http://developer.android.com/reference/android/hardware/SensorEvent.html
    
    Right now, the Android accelerometer event handler feeds raw accelerometer data  to the SDL Joystick driver. The result is that for landscape-only applications, the axis need to be swapped if running on a portrait device (like a phone), and vice-versa: running a portrait only app on a landscape device like a tablet.
    
    The purpose of this patch is to perform coordinate remapping of the accelerometer data before feeding it to the SDL joystick driver so that the X axis of the joystick is always aligned with the X axis of the display, same for the Y axis.
    
    This has been tested on applications that support screen orientation changes as well as applications with fixed screen orientations, both on phones and tablets.

commit 7ad441a37cb59d2db64d5ecf25e7a77b4f483856
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 23:40:13 2013 -0700

    Fixed bug 2069 - Device addition/removal queries all USB devices rather than only HID devices.
    
    Andreas Ertelt
    SDL_dxjoystick.c is setting the classguid for device (dis)connect events to USB Devices in general:
        dbh.dbcc_classguid = GUID_DEVINTERFACE_USB_DEVICE;
    
    Wouldn't it make more sense to have it just subscribe to Hid device events? This would mean less meaningless events reaching the application.

commit 3f8df1097c73371010d0f55be674185911606252
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 23:15:27 2013 -0700

    Fixed 1598 - Mingwin build fails on src/audio/xaudio2/SDL_xaudio2.c

commit 888d807a71318b372a6d061b5cf658d47fb4311d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 23:05:40 2013 -0700

    Removed redundant #ifdef

commit 12ca3ce3fadff1298c39a1ec5c4d0fcecc78af51
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 23:02:29 2013 -0700

    Fixed building using MinGW
    Our SDL_windows.h needed to be included before anything else so UNICODE is defined.

commit a2bd897064734412e26912b56ed99ed74a0b732e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 18 01:36:41 2013 -0400

    Don't supply duplicate X11 symbols inside SDL.
    
    Fixes static linking when something else also uses X11.

commit 95dc9940a28b797375b696f1d7313e46c73e1e8e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 20:49:30 2013 -0700

    Fix to unbreak SDL_GetSystemRAM() on FreeBSD
    
    Marcus von Appen
    
    Revision eecbcfed77c9 of the SDL hg repo introduces the new
    SDL_GetSystemRAM() function, which breaks the build on FreeBSD. Find
    attached a patch, which unbreaks the build and also should (for most
    cases) properly implement the sysctl support it.

commit 14e13e13c40ef200d04a5e4f0376fb08851cf3bb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:38:55 2013 -0700

    Fixed compiler warning if dynamic X11 loading isn't enabled.

commit 7db31223e6bab4c24fb2e26379f5fc2908af38cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 17:37:23 2013 -0700

    Fixed using the wrong variable when reporting a missing SDL scancode mapping.

commit 2e6b4b960d58eba3151518cf6cc3413955645460
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 11:56:33 2013 -0700

    Fixed compiling on Mac OS X, added a system RAM test

commit 852004a22ab674a4d0d55ba6660b87dc92f43638
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 11:32:14 2013 -0700

    The _SC_PHYS_PAGES method of calculating RAM works on Linux.

commit 8b79cbadef946024238b2baa417910d5210e1508
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 17 11:32:56 2013 -0700

    Added an API to get the amount of system RAM

commit 01164655c0d71b2a8c8b90570322213bfd4c8361
Merge: 64e1b1ca3 6435a82d0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 09:15:41 2013 -0700

    Merged

commit 64e1b1ca36ad4dabba7607904275bda9a7cde25f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 09:14:09 2013 -0700

    Fixed project conflict during commit

commit 6435a82d08dc6b09ca3955825c799091ff5fded7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 09:12:30 2013 -0700

    Backed out revision fb5ab0e91c56, the platform specific messagebox functions don't have the right prototype since they're designed to be used standalone.

commit 4b603abfd7977fe83e40caf8c4acb2db6e33762a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 08:56:55 2013 -0700

    For some reason, trying to raise the window programmatically while it's alt-tabbed away will minimize it.  Added a workaround for this.

commit fea2699c25f50574f488aacb90154e696343b8c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 08:56:50 2013 -0700

    Fixed the windows message debug output so it works without HAVE_LIBC

commit e7e86c6dcdc84cb287e37c04659a658db0a71b39
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 08:56:45 2013 -0700

    Adding static lib to SDL builds on Windows.
    
    CR: SamL

commit 06cab8575e4abd45d17fb64d8d0fe9f40e9ff117
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Oct 14 08:56:37 2013 -0700

    Added support for SDL_PIXELFORMAT_UYVY surfaces on Mac OS X

commit 8ec3ba3829f0c14c886fcd03aee4b9918eab64ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 13 19:59:40 2013 -0700

    Fixed accumulating mouse wheel motion for the Microsoft Wireless Mouse 5000

commit 080c919b7924052ed240fca4097f2f59db380d32
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 13 19:51:58 2013 -0700

    Fixed function feature test for Visual Studio 2012
    
    norfanin
    
    Fixes the version check for some functions that are only present with the MSVC 2013 CRT libraries.
    
    I did my testing wrong and failed to see that 2012 doesn't have these functions. Microsoft implemented them in their upcoming 2013 version, though. The attached patch changes it to the check for the next version.
    
    I also removed the HAVE_ITOA because that would require linking with oldnames.lib and it's easier to just let the SDL implementation take over.

commit 2337a684b363dfc4ba3d6f2773e029a3301cfdad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 13 19:49:45 2013 -0700

    Fixed bug 2149 - Don't search for libusbhid except on BSD
    
    Joseph Carter
    
    There's a whole set of configure tests for BSD's libusbhid, and they only matter on BSD.  However, if you have the library on Linux, it gets pulled in as library bloat.  And it's bloat of the highest order since not a single function call to the library is ever made unless you're on a *BSD.

commit a7b2db05cd77c91268b377a810450dc4b5976473
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 13 19:48:45 2013 -0700

    Added an assert to catch init/quit call mismatch that might bite people.

commit e9d21339345223698304772c60ca1175b618dd6d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Oct 13 17:15:43 2013 -0300

    Prevent keystrokes from leaking through to the console when using evdev.
    
    This uses the same method Weston and X use. Sadly, to be fully effective when
    launching remotely, this needs root permissions.

commit 074a1c4c6393daab1c20dbf5b7e3e7b5d37db592
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Oct 12 16:29:34 2013 -0300

    Fixes X11 video backend compilation when no GL is available
    
    For example, in our Raspberry Pi sysroot.

commit 7bc9815772d0b89334a9a67b69da8a7daf80b1ff
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Oct 12 11:21:40 2013 -0400

    added simple Drag & drop test

commit f6fa41588c6c7664b265da7ad4e27de1e2ae0880
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Oct 12 11:35:47 2013 -0300

    Updates the Raspberry Pi README

commit 9a0954c5108cfb7d7bb6bf4a4b0893015b302722
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 11 10:58:05 2013 -0400

    Do a full sysroot for the Raspberry Pi buildbot.
    
    This gets us ALSA and X11, etc.

commit 4349cb57691125bbc24163e6a4f13b981262b2d8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 10 21:51:39 2013 -0700

    Fixed bug 2146 - Enable static linking of libSDL on Android
    
    Denis Bernard
    
    This patch to Android.mk adds support for static linking of libSDL for Android applications. A patched readme with static build instructions is also provided.
    
    It does not break existing build environments setup according to the README-android.txt since the static library version will not be built in not required.
    
    The static build uses the Android NDK module system (see docs/IMPORT-MODULE.html in the NDK folder and step 5 in the instructions below).
    
    Instructions:
    1. Copy the android-project directory wherever you want to keep your projects
       and rename it to the name of your project.
    2. Create a symlink to SDL/src/main/android/SDL_android_main.c as
       <project>/jni/src/SDL_android_main.c
    3. Rename <project>/jni/src/Android_static.mk to <project>/jni/src/Android.mk
       (overwrite the existing one)
    4. Edit <project>/jni/src/Android.mk to include your source files
    5. create and export an environment variable named NDK_MODULE_PATH that points
       to the parent directory of this SDL directory. e.g.:
    
       export NDK_MODULE_PATH="$PWD"/..
    
    6. Edit <project>/src/org/libsdl/app/SDLActivity.java and remove the call to
       System.loadLibrary("SDL2") line 42.
    7. Run 'ndk-build' (a script provided by the NDK). This compiles the C source
    
    Although this requires an environment variable to be setup, it can be added once and for all to the main Android.mk of the project.

commit a7e1fdddea4d566dd9a2fe8fccf7fd109fc72188
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 10 21:50:25 2013 -0700

    Updated SDL to version 2.0.1

commit 15682c0c5f5d2592f81676db1a22e31f49724169
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 10 20:58:20 2013 -0700

    Report joystick added/removed events even if we don't have udev.
    
    T. Joseph Carter
    
    As discussed (possibly to death), the Linux joystick driver does not actually report events for added or removed joysticks when you haven't got udev support.
    
    We simply cannot know about removed joysticks without udev.  But we can (and we should) report adding them.  This brings the legacy case in line with pretty much the rest of SDL's joystick drivers.

commit 2568a367c82d8a509233bdb8dc2c19771a3800b0
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Mon Oct 7 16:01:40 2013 -0700

    Mac: Better handling when someone else is the app delegate.

commit 69e1e779c2f46776756ce1d99d3ef9c66ef73930
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 10 02:37:36 2013 -0400

    Raspberry Pi build script: let caller specify final tarball name.

commit f7e0a9b2b033ec3ec9fd06c6f3c88c0df984f2e6
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 10 02:21:41 2013 -0400

    Patched to compile in C90 mode.

commit 6b2291d1cfc56f7808d7c42dfe711bebb41e5fea
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 10 02:06:14 2013 -0400

    Fixed tarball name in Raspberry Pi build script.

commit 4f305b85a92b2523d08dc8ebdd7f092a475fb703
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Oct 10 01:46:39 2013 -0400

    Added script that the buildbot will use for cross-compiling to Raspberry Pi.

commit 89131435f8ef7596ce77761bedb5a8aa214e6f61
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Oct 10 00:49:57 2013 -0300

    Adds gl_profile_mask to test framework, uses it in testgles

commit d0fddfab84e4e8df3daa894542d37c457fc4f597
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Oct 10 00:30:03 2013 -0300

    Fixes Bug 2134 - [Android] Black screen after resume (sometimes)

commit eaa4300faf5f0c280a24a7d1f1f3f655f984087a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Oct 9 11:30:01 2013 -0300

    Fixes testgles and testgl

commit 24f237710f50c1cf523badaf7cbaaa3038c2f52d
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Oct 9 10:29:01 2013 -0300

    Adds test framework to Android.mk and a simple utility to build Android projects

commit c455f7291c2b9d9a536b6109c19183899157570e
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Mon Oct 7 14:16:38 2013 -0700

    Fix SDL_SetWindowPosition on fullscreen windows.
    
    This reverts http://hg.libsdl.org/SDL/rev/7cdeb64faa72 and fixes it in
    the correct way. If you call SDL_SetWindowPosition on a fullscreen
    window, it would update the x & y variables for the window, but not
    actually move the window (since it was fullscreen). That would make the
    internal state of the SDL_Window incorrect, causing
    SDL_WarpMouseInWindow to offset incorrectly.
    
    This makes it so SDL_SetWindowPosition updates the `windowed' x & y
    coordinates, which take effect when you revert from fullscreen.

commit cca094225a3e595249065c3dc21f540e616bd443
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 6 20:39:23 2013 -0700

    Only allocate a joystick instance ID once we know it's a joystick.
    This fixes compatibility with code that assumes 0 based joystick instance IDs.

commit 11c45c4edea20ee5e02b8d0a428d941698b2747d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 6 13:50:36 2013 -0700

    Removed unused variables (thanks Joseph!)

commit 8f46bcfd6dfeea0fb476499d24758db5dced6379
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Oct 6 13:49:23 2013 -0700

    Check for NULL joystick in SDL_JoystickGetGUID()

commit 90a219a3756a9043f5f10e7a63aeb0235f954dce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 5 21:15:55 2013 -0700

    Fixed bug where a Logitech wireless keyboard with built-in mouse touchpad didn't get recongized as both devices.

commit 529664278f842ba47575257a235b09580ab7dbf4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 5 19:09:03 2013 -0700

    Fixed bug 2132 - Tests may use invalid SDL_window pointers when windows are closed
    
    norfanin
    
    Some of the tests keep using the pointers of a destroyed SDL_Window when the common event handling handled the close event. The event handler itself does not NULL the pointer after the destruction.
    
    The attached patch adds a loop in the handler that will assign NULL to the destroyed window. It also adds checks to some of the tests so they skip those windows by checking for NULL.

commit 0db36f51aa7a867f36e875f89a2caf89181e8463
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Oct 5 17:08:19 2013 +0200

    Added detection of touch devices before first touch events happen on Android.
    
    On Android available touch devices are now added with video initialization (like
    the keyboard). This fixes SDL_GetNumTouchDevices() returning 0 before any touch
    events happened although there is a touch screen available. The adding of touch
    devices after a touch event was received is still active to allow connecting
    devices later (if this is possible) and to provide a fallback if the new init
    did not work somehow. For the implementation JNI was used and API level 9 is
    required. There seems to be nothing in the Android NDK's input header (input.h)
    to implement everything on C side without communication with Java side.

commit 36b759174f79a53390a246cf4299e18570048003
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Oct 5 12:29:05 2013 -0700

    Do a 32-bit compare on RGBA values.  Thsi should be inlined in optimized builds.

commit 5607cc45c507b18d08b0a770bfd5cfc5bbf77c47
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Oct 5 00:29:57 2013 -0400

    Avoid redundant state changes in the GLES2 renderer.

commit 500e4f6f9a83b16c31330026f8b1f8aac46d4e0e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Oct 4 11:25:14 2013 -0400

    Removed "u_colorTable" uniform from the GLES2 renderer. It's not used anywhere.

commit 9c489c7c0dae85262552e24e1f11e627bab23c34
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Oct 4 08:23:37 2013 -0300

    Fix EGL/OpenGL ES paths

commit 9cbd05df1ec14d0453c4fa3b39435839f41ac36d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 3 21:41:09 2013 -0700

    Report an error if creating a render target fails

commit 509898460c95eb4eae242fbc6ff8a5dc45b34d9a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 3 20:48:52 2013 -0700

    Added optional error checking for OpenGL ES 2.0 in the same style as the OpenGL renderer.
    You can enable it like this: SDL_GL_SetAttribute(SDL_GL_CONTEXT_FLAGS, SDL_GL_CONTEXT_DEBUG_FLAG);

commit e5ef978e1399416f8e25e312675eaf7d1081c8d4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 3 20:42:43 2013 -0700

    Fixed a potential double-free bug if glGenTextures() failed.

commit b39a4daf04da3cff44ff5f019eb3964bf22240df
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Oct 3 10:28:10 2013 -0300

    SDL_TEXTINPUT support for EVDEV

commit 1f21484bdd2c0e97b17899176c4e88067432308b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 3 03:31:05 2013 -0700

    Fixed const/non-const warning

commit 6004b764d86edb400a7a41aafb0fa9570bec91d8
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 22 23:17:25 2013 -0400

    WinRT: added missing files

commit 58dd08648794d853c534c95942ea6d2cac683bd1
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 22 12:26:53 2013 -0400

    WinRT: unified the two, public, app-init functions
    
    This function, SDL_WinRTRunApp, can be used to help launch either XAML or non-XAML/Direct3D-only based apps.

commit aeaa05054b4ab2ce39a05c08ef6aaaccd5c3dde3
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 16 22:43:12 2013 -0400

    WinRT: ugh, at least one file in an app's project seems to require C++/CX compilation.
    Assuming this is true, that file might as well be the one that contains WinMain.

commit efb3cdca19df39c1219d8f85cf7aee4ee72bdca9
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 16 22:27:30 2013 -0400

    WinRT: renamed SDL_winrt_main.cpp to indicate that it should only be used in non-XAML apps
    
    This can break builds of existing SDL/WinRT apps.  To fix, remove the reference to SDL_winrt_main.cpp, then add a reference to the renamed file, SDL_winrt_main_NonXAML.cpp.  If you get a build error about a missing .winmd file, enable the /ZW compiler flag for that one file (at minimum).

commit fff83d8e52decbe504f500f30d2de4ceff89aeb3
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 16 21:09:58 2013 -0400

    WinRT: reduced the size of SDL_winrt_main.cpp by a little bit

commit 0022dbf261cbbc4b9ddf8038f7c6bd7d874016a0
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 16 11:02:18 2013 -0400

    WinRT: made SDL_GetWindowWMInfo return window data in a slightly easier-to-use format
    
    Having the window pointer available as a WinRT IInspectable should make it a bit easier to use in conjunction with WRL-based weak references.

commit fa45a9c953c810b69f8ef562c246407d3b2aeb3f
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 16 00:31:01 2013 -0400

    WinRT: fixed a line-rendering bug in the D3D 11.1 backend

commit c72a4fa3119b898b3fa4b63c2be627dad38d9df8
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 15 23:53:51 2013 -0400

    WinRT: made SDL_winrt_main.cpp not have to be compiled as C++/CX (via the /ZW compiler flag)
    
    This file can still be compiled as C++/CX, however that is now optional/not-required.

commit 79e82936cdc7e6bf91d163c38178313e77545790
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Sep 14 23:44:50 2013 -0400

    WinRT: build fix for the SDL-WinRT-only .sln

commit 8a16449e9bec936c66b0b9b310f80a6f49e196c6
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Sep 14 23:34:27 2013 -0400

    WinRT: project-naming cleanup. Projects that link to SDL will need updating. To update:
    1. remove references to SDL's project files from the Visual Studio Solution.  To note, these project files have been renamed, and will show up in Visual Studio with the text, "load failed".
    2. add the SDL project files back into the Visual Studio Solution
    3. for each project that should link to SDL, add a reference to it.  This can be done by right-clicking on it in Visual Studio, selecting "References...", clicking "Add New Reference", checking the box next to the SDL project, then closing each dialog by clicking OK.
    
    SDL_mixer, SDL_ttf, and SDL_image for WinRT have been updated, and will be pushed to my Bitbucket repos with these changes having been made.  If you do not pull in these changes, be sure to re-add to them the reference to the SDL project, as described above.

commit 34722465d1de9b1f86dfb94dfeefbe7c09d55eb8
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 6 21:13:15 2013 -0400

    WinRT: code cleanup: attempted to make it more clear what code is specific to what app type (plain Direct3D or XAML)

commit de8d9dbb93c1f0dae77b032bac33ad7a0f5e9a67
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 6 21:00:52 2013 -0400

    WinRT: minor code cleanup regarding events
    
    Some event handling functions got sorted in a somewhat consistent manner, and
    in some cases, were also segregated a bit from app-lifecycle code.

commit 9de76eb52626e995603b1da99ddd96202ed05d4c
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 6 19:23:42 2013 -0400

    WinRT: removed chunks of C++ hack code from SDL_xaudio2.c

commit fff780818d53d96ca3a6988d16752865c0cc8a33
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri Sep 6 19:07:15 2013 -0400

    WinRT: made SDL_xaudio2.c compile as C code when building for WinRT
    
    XAudio2 2.8's header file, xaudio2.h, doesn't compile in plain C code for WinRT
    apps, not automatically at least.  Initially, this file was adapted to compile
    as C++, however these changes are now deprecated in favor of some preprocessor
    based hacks that should get xaudio2.h to compile (while making sure XAudio2
    still works).

commit ac6e5a69ceb7771b164887441d0a9318b3f3c315
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Sep 4 20:20:36 2013 -0400

    WinRT: minor code cleanup in SDL_xaudio2.c

commit f3bd9175a958c8e3ff8dc9e5626ee2b7e5a15766
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Sep 4 19:55:45 2013 -0400

    WinRT: more renaming of "windowsrt" to "winrt"

commit 8fc04cc76e7d188fafd563d6b16b809c7c6d5be2
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 2 15:29:46 2013 -0400

    WinRT: renamed a mouse-related header file for naming-consistency's sake

commit 7e06b806ac6bcfea4466a9c48960a01768413f19
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Sep 2 15:23:33 2013 -0400

    WinRT: misc code cleanups regarding touch and mouse events, and also SDL-internal globals

commit a94e41854ad5360913d8200f2029eab15354e291
Author: David Ludwig <dludwig@pobox.com>
Date:   Sun Sep 1 10:20:17 2013 -0400

    WinRT: added touch input event support for Windows 8/RT devices

commit dbdc4b84ec9d4d2c0e7639611eed9104f16abbba
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Aug 29 10:32:16 2013 -0400

    WinRT: added touch-event support for Windows Phone devices
    
    Support for touch events in Windows 8/RT is pending on further R+D.

commit 1d5082d815c2b0508f3dc657d87b9bdf418d444e
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 16:51:07 2013 -0400

    WinRT: corrected SDL_MOUSE* coordinates in non-Portrait modes
    
    Thanks to Pierre-Yves Gueniffey for proper pointer geometry transform code!

commit 13c87e712b86a70e4e77a3f824508464a19e097f
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 16:14:27 2013 -0400

    WinRT: made simulated-mouse (via touch) input work on Windows Phone in Portrait mode
    
    Proper SDL_MOUSE* event support for non-Portrait orientations in Windows Phone is pending.

commit 31235b4b99805986cbd39dd07668c9d8d9d780e4
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 15:27:01 2013 -0400

    WinRT: made rendering work with orientation changes on Windows Phone
    
    Pointer event geometry still needs to be adjusted on Windows Phone, to note.

commit 91b039027f3c6f98c7692790ca7fcdf84a709b7a
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 12:45:43 2013 -0400

    WinRT: removed a comment regarding a dealt-with TODO

commit 8e3886a279036f6a1008ac91292b95a54e4d777b
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 12:38:30 2013 -0400

    WinRT: rendering orientation fixes for Windows Phone, part 1
    
    This change should allow apps to render correctly in Portrait mode, at minimum,
    
    Support for orientation changes is pending.
    
    Thanks to Pierre-Yves for assistance!

commit 44755f8a6abf137a0d0d41de5a6eaedf117e8f9a
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 11:46:02 2013 -0400

    WinRT: fixed a potential memory-related crash in SDL_Renderer on Windows Phone

commit 88ea6f9d18f3a595f665d68a83dfaad436741672
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Aug 28 11:45:22 2013 -0400

    WinRT: build fix for Windows Phone

commit 2cafee9de1813a048bad8264766eb189be65b78b
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 21:21:09 2013 -0400

    WinRT: experimental and preliminary support for XAML-based overlays on Windows 8/RT
    
    The XAML support here is still rudimentary.  Bugs do exist.  You've been warned.
    
    XAML support in Windows Phone 8 is not yet available (in SDL/WinRT).

commit 86ea4c4edf26b5e7b549d304290fe59ccbf3abf3
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 13:03:43 2013 -0400

    WinRT: made all WinRT-related TODO comments use the same prefix, "TODO, WinRT"

commit 17ca1d00b592c94c4e78866caa50dda6b15d2866
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:56:49 2013 -0400

    WinRT: code cleanup wrt. display mode(s)

commit f860141aa62c799a95d697d1d3e9fca8c26db932
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:33:36 2013 -0400

    WinRT: renamed "windowsrt" directories to "winrt"

commit fa229f379093a3e29ac578dae9169da43fabf57f
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:22:02 2013 -0400

    WinRT: fixed a crash that occurred on device rotation (oops!)

commit 1e78c4a5d1dbdce83ae4ddfdc3a0977b48cc4f41
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:20:35 2013 -0400

    WinRT: more "Windows RT" to "WinRT" renaming

commit 30700864315d15b7f73117918b9555f72539a249
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:16:42 2013 -0400

    WinRT: took out a deprecated TODO-comment

commit 6dc2a410eb33ecb3fd1894d9d219a5cd91686bc7
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 12:13:45 2013 -0400

    WinRT: moved the WinRT SDL_VideoDevice out of SDL_WinRTApp
    This was done to help pave the way for XAML support.

commit 253b9aae8976925370e950c7a6837ee8ba7f6097
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:51:17 2013 -0400

    WinRT: moved the pointer to the global SDL_Window to a separate variable
    This is a cleanup that is being done to help with WIP XAML support.  It may be reverted in the future.

commit 7be2ad71c9e6bca274d9e9a83cae7ce7bc652635
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:44:43 2013 -0400

    WinRT: renamed SDL_SYSWM_WINDOWSRT to SDL_SYSWM_WINRT
    This is part of an overall effort to use the name, "WinRT", rather than "WindowsRT" (or "Windows RT"), as the shorthand name often seems to mean something different than the longhand name.  (WinRT is an API, Windows RT is a product name)

commit d06276732e29257327765992cf85c4b5a404967d
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:40:06 2013 -0400

    WinRT: Windows Phone build fix

commit 3e83fd784ca47964bab95c125c239ac21c08d07d
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:39:44 2013 -0400

    WinRT: misc code cleanups

commit f8e80edf099213bb1e1c066f445b80d38ea53798
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 11:00:52 2013 -0400

    WinRT: removed more hack-code that attempted to help have non-standard window sizes
    "Non-standard" is defined here as any window size that differs from that provided by WinRT's CoreWindow.

commit 80abfc4d60d02448cc4ccfadad72df74b7aaaf9d
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 10:57:55 2013 -0400

    WinRT: minor function and variable name cleanup

commit 065b2cf470c53f497bf84c93b61eb5955a3f3377
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 10:56:10 2013 -0400

    WinRT: made all SDL_Windows get sized to the WinRT-defined window size
    This change removes some code that attempted to allow non-standard window sizes, the idea of which was to do display scaling, and a hackish one at that.  If display scaling is needed, use SDL_Renderer as appropriate.

commit 409d9b1ce70aa530b06fcc193821d90c610a99f9
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 27 09:53:58 2013 -0400

    WinRT: removed a deprecated hack regarding window resizing and Direct3D viewports

commit d78b26ed69b906ba4904869c38999ae7d5526be1
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Aug 26 17:17:53 2013 -0400

    WinRT: moved most platform-specific keyboard and mouse code to shared locations

commit 73dfcdcfe1c20738fe81c1ffa0343786cfd8224c
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 22:18:48 2013 -0400

    WinRT: removed some old debugging code from SDL_mutexP and SDL_mutexV

commit dcb1689fb2a7850d65442f947a1827ff1ace54db
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 22:16:09 2013 -0400

    WinRT: made a note that WinRT doesn't appear to support modifying a thread's priority

commit 6300b3606f63bc952cdc9d9b486128e783178f77
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 22:04:09 2013 -0400

    WinRT: made SDL_ThreadID() return the native thread ID, rather than a fake one

commit 3fce6688b8881a2a51685aa68e5bc248c3778fbd
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 21:55:13 2013 -0400

    WinRT: made testthread log output via SDL_Log
    - this will allow output to be read via Visual C++'s Output pane

commit 90a9278f9d50f8d4f98853099755ed24281cc16d
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 21:54:34 2013 -0400

    WinRT: made the C++11-based threading backend only try to catch exceptions that it knows it (the threading APIs) might throw, rather than all exceptions

commit 19a168b4b33c17b6553cc127085b7278dde7dc66
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 20 21:22:32 2013 -0400

    WinRT: file naming and placement cleanup
    - moved SDL_WinRTApp.* from src/video/windowsrt/ to src/core/winrt/, and renamed them to SDL_winrtapp.* (to mimick case-sensitivity used elsewhere in SDL)
    - renamed all "windowsrt" directories (in src) to "winrt", as the shorthand name is used more often (and, IMO, "WinRT" != "Windows RT", not entirely at least)

commit eaf26ff66ac4c1f2f550620dbad2ce8fd91530a2
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 13 20:33:15 2013 -0400

    WinRT: added a stub implementation of UpdateClipRect to the D3D 11.1 renderer

commit 45ef345df012d46d65821abff4c9fba4bd2c2d07
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 13 20:28:48 2013 -0400

    WinRT: fixed a crash in some display orientation hint code

commit 3dde6e1e9fb660b98cd1b5d06a48142ebc8aa666
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 13 20:28:10 2013 -0400

    WinRT: made sure SDL_main gets used in the latest SDL 2.0.0 based code

commit 11dc53221bfacce8ecb5c078405249750dddcfaf
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 13 20:11:51 2013 -0400

    WinRT: Windows Phone 8 build fixes

commit d41fdc94d626afe659cc978c8628c278f750e67f
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Aug 13 20:09:52 2013 -0400

    WinRT: build fixes and additional WinRT-related integrations with SDL 2.0.0

commit f7049b93d56a07ffe5c4e926385fcfdec840b9bf
Author: David Ludwig <dludwig@pobox.com>
Date:   Mon Aug 12 22:29:55 2013 -0400

    WinRT: merged with SDL 2.0.0 codebase (aka. SDL hg rev d4ce48ff30d1)

commit 1ad936eb29cf4506a7a103e8288d732f23e9c2b0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 11 19:56:43 2013 -0700

    Fixed bug 2027 - Full-screen appears to be broken - hang in SDL_DestroyWindow()
    
    Rainer Deyke
    
    I'm running Linux Mint 15 with the Cinnamon window manager.  SDL_DestroyWindow consistently locks up for me when the window if fullscreen.

commit 1df1e696912f9ed39414fe272ca68e5e647cf34b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Jul 14 11:28:44 2013 -0700

    Added the platform specific messagebox function to the video function list

commit 8fbd7dc735242aead450fdb553c014a389f8db1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Oct 3 00:54:58 2013 -0700

    Fixed bug 2130 - Two members of Windows WindowData not initialized
    
    norfanin
    
    SetupWindowData in SDL_windowswindow.c doesn't initialize two members of SDL_WindowData with NULL. This is an issue because other parts of the SDL code seem to make the assumption that this is the case. WIN_DestroyWindowFramebuffer for example uses data->mdc and data->hbm if they're not NULL.

commit ce45fa28e2131095eefce9f86034b4126e649953
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 2 22:18:04 2013 -0400

    SDLK_DELETE should probably be SDLK_BACKSPACE on iOS.
    
    The key on the software keyboard works like backspace, at least. Not sure
     what happens with a bluetooth keyboard here.

commit 958640e5d1a76dfb392e7c0ae7c4976364f3660a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Oct 2 22:16:11 2013 -0400

    Get rid of glGetError() calls in GLES2 renderer.
    
    It's not usually useful, and it causes pipeline stalls.

commit 57e09318dd304aeed7d5271d632d5988b52283dd
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Oct 1 08:47:06 2013 -0300

    Uses SDL_UDEV for Linux joystick hotplugging

commit 69a4351eb01572701a1e1ff22ea2977b5b257eb5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 30 22:35:32 2013 -0700

    Fixed bug 2121 - GCC throws error on SDL_FORCE_INLINE when compiling with -ansi

commit 22a972a440a33fe7b4bfecf277dbf75b381e0126
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 30 22:16:14 2013 -0700

    Fixed bug 2122 - SDL_CreateTexture allows illegal texture sizes
    
    Lloyd Bryant
    
    SDL_CreateTexture() is succeeding (i.e. returning a valid pointer) when the requested horizontal or vertical size of the texture exceeds the maximum allowed by the render.  This results in hard-to-understand errors showing up when later attempting to use that texture (such as with SDL_SetRenderTarget()).

commit 058aba086cf07e7c5917542831217f7febd027cc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Sep 30 21:57:03 2013 -0700

    Fixed bug 2119 - compiler warnings (-pedantic) SDL_video.h:111:42

commit 889b6bd794b216db0d4fb07beb395cd9ea9f019f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Sep 28 19:23:59 2013 -0300

    Removes unused property use_egl from internal structure gl_config

commit c691de00c57064d558abc3a6f011bd55afbfbc4f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Sep 28 19:17:27 2013 -0300

    Fix: SDL_EVDEV_device_removed does not need UDEV

commit 202528a48f9d716fc3b8e432d347b4cc917b8d5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:07:17 2013 -0700

    Call AddRef() on the device so it doesn't accidentally get released from underneath the caller.

commit 25f607a3c27e0c815b90d22027b55783208223ca
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:07:14 2013 -0700

    Make it clear we're just returning a D3D9 device, allowing for new functions to get other D3D versions

commit cf5e5a83600899f1902122d5873f11d0ff5cd4ce
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:07:08 2013 -0700

    Added a hint to create the D3D device in thread-safe mode: SDL_HINT_RENDER_DIRECT3D_THREADSAFE

commit 803965bcc2bad8b86ab5668f5bcc5553fae66279
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:07:05 2013 -0700

    Added platform specific call: SDL_RenderGetD3DDevice()

commit 9f390e79676a85b9c7f03108e3fd76e2ab1221fb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:59 2013 -0700

    Moved SDL_Direct3D9GetAdapterIndex() to SDL_windowsvideo.c since it doesn't belong in the window code.

commit 89c31bb42a5d7265df506f27f944803b332f1f9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:55 2013 -0700

    Implemented SDL_UpdateYUVTexture() for Direct3D

commit 17c9ff85e2ddcb954fc8e2ab0fcb07982186e11d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:51 2013 -0700

    Added missing SDL_assert.h

commit 57bd51470728382e5a9e63ea026c790ee5524caf
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:47 2013 -0700

    Added optimized YUV texture upload path with SDL_UpdateYUVTexture()

commit d0a57ea2b563f74a9558aae55a57c1f0f162a813
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:39 2013 -0700

    Rolled back my LoadLibrary change. The first failed call causes a dialog to pop up in Windows apps (but not console apps) and that's really bad. I'll have to deal with this in my app.

commit dfa53e7e3cdd8b172e950097bff77ed842cb66c7
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:31 2013 -0700

    SDL_LoadObject on Windows now calls LoadLibrary a second time in its EX form whenever the first load fails. This second call uses the "altered" search path for DLL dependencies, which includes searching the directory that the DLL itself lives in.

commit b6be1435c5fa3d23311ff5411b2e2bd7393d9ad5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 14:06:20 2013 -0700

    Moved D3D_LoadDLL and SDL_Direct3D9GetAdapterIndex to SDL_windowswindow.c at Jorgen's insistence. That file is wrapped in a more appropriate define check so it will work if somebody builds a binary without D3D support.
    
    Added a reference to SDL_Direct3D9GetAdapterIndex to SDL_test_common.c so SDL will fail to compile if the new symbol isn't included properly.
    
    CR: Jorgen

commit 1ccbad960364f3a3af7880740c7b9658638ee104
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Sep 28 15:48:32 2013 -0300

    Do not use UDEV references in EVDEV if UDEV has not been detected

commit 99789c71c15ac03ce6b3269b88f8ddb03c495a06
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 28 10:30:51 2013 -0700

    Fixed bug 1820 - building SDL as a static library with static runtime doesn't compile/link with visual studio
    
    norfanin
    
    Adds a condition so only the MSVC 2012 compiler defines the macros for the functions of its version.
    
    Attaching a patch that adds a condition so that the HAVE_X supported by MSVC 2012 only get defined with that compiler. MSVC 2008 and 2010 will then build without any modification to the SDL source code.
    
    Also moved HAVE_M_PI to a separate check. The Microsoft headers require _USE_MATH_DEFINES to be defined before they define the constants.

commit 9ceed73db4d35abac19aee1d162a28b745f621ce
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat Sep 28 13:28:19 2013 -0300

    Raspberry Pi support (also unified UDEV and EVDEV support)

commit b9a22308066bfdd9eb8f8282eb057a01fbbc6324
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 28 12:55:32 2013 +0200

    Fixed doxygen warning.

commit 90afb94ec6551597a65c2cf03a54d26e82bf2c3d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Sep 28 12:48:26 2013 +0200

    Corrected name of SDL_Color field from unused to a.

commit 8b6ad7ffbadf0bbb2322039cc3d19bab95c8e5e9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 23:47:57 2013 -0700

    Fixed bug 2101 - CWBackPixel causes weird window flickering on window resize
    
    aBothe
    
    I tried to experiment a bit with SDL2 and OpenGL today and noticed that something caused some weird flickering when resizing my nicely drawn SDL2/OpenGL window:
    Just after resizing, the background went black and I had to let my OpenGL code redraw the contents..
    However, after some hours spent with googling I found out that in OpenGL examples where this CWBackPixel flag was not used when creating X windows, there was no flickering while resizing the window.
    
    See http://www.sbin.org/doc/Xlib/chapt_04.html @ "The Window Background" for more info.

commit b9567776d7ce15b2b5bb7b6eb0e124353fe42b44
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 23:35:17 2013 -0700

    # User Darren Salt <devspam@moreofthesa.me.uk>
    # Date 1379621782 -3600
    #      Thu Sep 19 21:16:22 2013 +0100
    Work around a false-positive in the X11 mouse wheel code
    
    This false positive occurs when one particular button on my mouse is
    pressed. The kernel which I'm using is patched to cause a release event to
    be synthesised immediately when the mouse says that this button is pressed
    because the mouse doesn't signal release until the button is next pressed.
    
    (Also documents a false negative, observed with the horizontal scroll wheel
    on the same mouse.)

commit c95761e00acb628e77fe9d8b1ab3bd0b99eb2f5d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 23:29:05 2013 -0700

    Fixed bug 2100 - directfb fails to build

commit 3ef5a97706ca351b10fa350c674b9653aa99fe9f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 23:19:22 2013 -0700

    Fixed the name of the environment variable to match the name of the hint.

commit 869a707612ffdff63204f6a350edd65a549a54d4
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Fri Sep 20 13:43:00 2013 -0400

    add in High DPI support (aka Retina)
    
    - based on J?rgen's patch with a few bug fixes

commit 0103bc0bff04a62b0615c240ff563d97faf6d025
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 27 22:09:51 2013 -0700

    Default to OpenGL ES 2.0 instead of 1.0 when it's available.

commit d3d6f9ad192c323e03ce0c37edc1684ab8358d5c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Sep 14 11:25:52 2013 -0700

    Fixed syntax error in C style block comment.

commit bfe1b1d0663e2047c0d1b88635fd57c721053eea
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 14 01:30:57 2013 -0400

    Don't incorrectly report success for negative swap intervals on Mac OS X.

commit fae4190dcaad5150568958f2a8f20edeba2084e1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 13 17:42:46 2013 -0700

    Added SDL_Direct3D9GetAdapterIndex(), which returns the adapter index you would pass into CreateDevice to get your device on the right monitor in full screen mode.  This fixes the default adapter in SDL_render_d3d.c, which means that tests will work fullscreen off the main monitor now.
    
    CR: Sam

commit 49d64d52d52c1b47801e6c1a6256e8ec9d0685b9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 13 17:42:38 2013 -0700

    Fix X11_RestoreWindow() and X11_RaiseWindow() to properly do window activation.
    
    X11_RestoreWindow() had a call ordering problem that prevented activation, and X11_RaiseWindow() wasn't attempting activation. Windows and OS X both activate in these cases.
    
    CR: saml

commit 67c02a282ac3a865fb673a15b3d6b9ca6a8996c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 13 17:42:31 2013 -0700

    Mac: Translate Ctrl-Left click to right click.

commit e231d5b450ae04d9671e26ed1aba45d94dbd0231
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 13 17:41:17 2013 -0700

    Mac: Turn off momentum-based scrolling.

commit 37509cf3e3dc44d4b371abcddff0c523e3d3134d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 13 17:40:41 2013 -0700

    Mac: Fix cast warning.

commit a9166450f49cec6c336c286c3e5b7a19108f0f3c
Author: pgriffais <pgriffais@spaceport>
Date:   Tue Sep 10 18:25:13 2013 -0700

    [SDL] X11+GL: Allow Visual override for GL windows.
    
    SDL provides an SDL_VIDEO_X11_VISUALID environment variable that lets you override
    window visuals, but it wasn't being checked for OpenGL windows.
    
    CR: Sam.

commit 5081b5d3dafa11eb12a341b65b0d5b3f5d28572e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 7 13:57:20 2013 -0400

    Workaround for compiling with /W4 warnings on Visual C++.

commit 83383c6527e893dbae049d10531ac62b03e21e81
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Sep 7 13:47:14 2013 -0400

    Disable thread naming on Win64 for now.
    
    We can't use _try/_except without the C runtime, and we can't use inline
     asm with the Win64 compiler. We'll need to move this to an .asm file or
     something later.

commit dc9ddf1f61c2a80b90deffc6f3b1a5639b901fcb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 6 20:54:14 2013 -0700

    Fixed bug 2090 - Some joystick inputs are delayed on FreeBSD
    
    kikuchan
    
    Some joysticks with high sampling rate need to be read() more fast,
    otherwise it delay user inputs due to internal queue.
    Especially, an app that issues SDL_PollEvent() not so frequent

commit 10ffa28a28b3b8759565b6987a42501165ac0085
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Sep 6 20:45:08 2013 -0700

    Fixed time comparison and explicitly delay 1 ms instead of an arbitrary scheduled time.

commit f06eeb013b6371097dcc3bb41b1f80813e0cee23
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Thu Sep 5 15:49:57 2013 -0700

    Fix to buffer overrun in SDL_JoystickGetGUIDString().

commit 4b942c5a070aab6ebe3296ca6c9ea511169280bd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 5 07:15:26 2013 -0700

    Fixed bug 2076 - OpenGL doesn't work with --disable-threads
    
    stepik-777
    
    Thread local storage is used to store current window and current opengl context. OpenGL worked before this changeset: 7596 (45e5c263c096)

commit 2afbd773b8307447be7445ff3b28ff13255fa337
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 5 07:02:27 2013 -0700

    Fixed bug 2081 - Add name to SDL_Point structure
    
    Dmitry Marakasov
    
    Unlike SDL_Rect (typedef struct SDL_Rect {} SDL_Rect), SDL_Point (typedef struct {} SDL_Point) structure is unnamed. This feels inconsistent and makes it impossible to use forward declaration for SDL_Point, having to include whole SDL_rect.h instead.

commit cefffd618f60a9a8f7b7c82ac06a7a9c0a5a9f48
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 5 06:59:34 2013 -0700

    Fixed bug 2082 - SDL stdlib implementation does not force upper case for %X format specifier
    
    norfanin
    
    When SDL_vsnprintf handles the %x format specifier, a boolean is set to signal forced lower case. It also should be able to signal forced upper case for the %X specifier. A boolean is not sufficient anymore. The attached patch adds an enum for the three cases: lower, upper and no change.

commit 48aca0b2df62888f22cc5a2fcfc0909cd2014ba5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Sep 5 06:43:34 2013 -0700

    Fixed bug 2084 - SDL_log xxx on Android outputs to Logcat with incorrect priority.
    
    Pallav Nawani
    
    This effects all SDL_Logxxx functions. On android, the debug output has a priority that is 1 higher than intended, ie, if you try SDL_LogInfo, the log has the priority of Warn instead.

commit b63d11ce9c132b7ae5338ddfd0ac2e6b1746cb48
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Sep 4 23:40:11 2013 -0400

    The SDL_PixelFormat* passed to SDL_ConvertSurface() should be const.

commit 2bafbedac7abaa97df639e675b605b194253c19e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 31 01:36:38 2013 -0400

    Enabled thread naming on Windows.
    
    This is now done without compiler or C runtime support for __try/__except.
    
    (Granted, it uses Visual Studio-style inline asm, but still...)

commit ace1e98a186149702f736e1c11463ca2cfcecd6b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Aug 29 15:02:32 2013 -0300

    Fixes bug #2040, prepare SDL_GL_CONTEXT_EGL for deprecation on v2.1
    
    SDL_GL_CONTEXT_EGL = 1 is now internally treated as profile_mask = SDL_GL_CONTEXT_PROFILE_ES

commit eec4710c533c31348a8dd685c96338481b5f81c9
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Aug 29 14:03:44 2013 -0300

    Fixes bug #2074 - Thanks Sylvain!
    
    SDL_syssem.c:159 comparison of unsigned expression >= 0 is always true
    Solved by comparing unsigneds directly
    
    SDL_systimer.c:164: warning: control may reach end of Compile
    Solved by returning the default value if all else fails.
    
    SDL_androidgl.c:41:1: warning: type specifier missing, defaults to 'int'
    SDL_androidgl.c:47:1: warning: control reaches end of non-void function
    Solved by adding void return type to the function implementation

commit e07d7e649c6b5ff9241418144bdb3f31f7172b64
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:30:21 2013 -0700

    Christoph Mallon: Replace strlen(x) == 0 (O(n)) by x[0] == '\0' (O(1)).

commit 3e2930defe9332e2f79ee667a32ff7207d4da44a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:29:51 2013 -0700

    Christoph Mallon: Remove pointless if (x) before SDL_FreeSurface(x)

commit f79fc33a392595f3dcff30ae2c9e5787980e579a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:29:21 2013 -0700

    Christoph Mallon: Remove pointless if (x) before SDL_free(x)

commit 1d2c7796aec004afa9136d969e87b73251c5db49
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:27:25 2013 -0700

    Christoph Mallon: Correct indendation.

commit 7267ea8f8ba25cc7085f49f0353ffa85921f6d38
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:26:55 2013 -0700

    Christoph Mallon: Use SDL_arraysize()

commit 9e23d17869d595b93f2411eeca372bf0bee12de5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:26:24 2013 -0700

    Christoph Mallon: Simplify assignment.

commit 67c10169ee21b4a60129475c44a6d0248e02161b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:25:54 2013 -0700

    Christoph Mallon: Report an error, if creating the directories in SDL_GetPrefPath() failed.

commit db7c92b4b410efe490c5c3a8614f65f66407f6e5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:25:24 2013 -0700

    Christoph Mallon: Remove lone /* if */ comment.

commit 321aa4ae10213691e4f29f00917134ce581d41fa
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Aug 29 08:24:43 2013 -0700

    Christoph Mallon: Simplify avoidance of duplicate / in SDL_GetPrefPath()

commit 257cef3024831c491eac5038465d33b1f4ea7b92
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 22:09:17 2013 -0400

    Change order we enumerate Windows joysticks.
    
    Make it so XInput devices are listed before DirectInput devices, and that the XInput
     devices are sorted by userid in ascending numeric order (so device 0 comes first).

commit ea4350d821c9aed330b7a5af3d0cfa5bea2f731f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 22:07:54 2013 -0400

    Don't corrupt XInput device state during SDL_SYS_JoystickClose().

commit 2538d3114074bb8046d40df17200fcffae57449f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 22:05:16 2013 -0400

    Fix endlines for logging via OutputDebugString().

commit aa652114862aeb4e7800738cff6388a5ee62cce7
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 17:17:21 2013 -0400

    Make XInput joystick names match the numbers on the device.
    
    (And how the Haptic code already names them.)

commit 7949989884d858ec39764c835096281bfab3a7f0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 17:12:07 2013 -0400

    Fixed comment typo.

commit 4b255c63f1e0846111ce51f6dddb06f4d2ae9791
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 16:43:47 2013 -0400

    Reworked XInput and DirectInput joystick code.
    
    Now multiple XInput controllers map correctly to device indexes instead of grabbing
    the first available userid, and are completely separated out from DirectInput.
    
    Also, the hardcoded limitation on number of DirectInput devices is gone. I don't
    expect there to really ever be more than eight joysticks plugged into a machine, but
    it was a leftover limitation for a static array we didn't actually use anymore.
    
    Fixes Bugzilla #1984. (etc?)

commit c89e04694dd72271ff3c43f1defd29936342e252
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 16:35:32 2013 -0400

    Better XInput detection code for DirectInput device enumeration.
    
    This code is way faster than the Wbem code, and less ugly.

commit 540cb5389c1e3470ad2a6eb16bab2f4cbe8e2547
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Wed Aug 28 00:07:02 2013 -0400

    Fixed testgamecontroller output to make sense.

commit aef52c3501e1409b07b387da791888d0cc88b56a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 28 12:43:29 2013 -0300

    [Linux] Test config script: Add the X11 library search path if it is not empty
    
    If ac_x_libraries is empty it means that the library's found in the default path,
    so we skip adding it to the XLIB variable as it screws up the search path.

commit 7fc50affaa20b12f76105e110c5d869122f1e01b
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 28 10:41:25 2013 -0300

    Fixes test building

commit ad20c801cb7c9239a2316d4ea752a12216c6ff67
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Aug 26 14:23:18 2013 -0300

    Fixes typo in EGL code (thanks jmcfarlane!)

commit 2abe45e8cb2cf344c2093f7a27c548895b80feb1
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sun Aug 25 21:28:03 2013 -0400

    Removed obvious comment to trigger buildbot.

commit 833fd30eb88391e9394022c8952ce26e8678e328
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Aug 25 11:24:01 2013 -0400

    reworked GetBasePath on OS X to use Contents/Resource by default if bundled, or exedir if not bundled.
    
    - also adds OS X specific magic for bundled apps adding an Info.plist property of name SDL_FILESYSTEM_BASE_DIR_TYPE to the following values will change the bahaviour.
    * bundle -- use the bundle directory e.g. "/Applications/MyGame/Blah.app/"
    * parent -- use the bundle parent directory e.g. "/Applications/MyGame/"
    * resource -- use the bundle resource directory (default) e.g. "/Applications/MyGame/Blah.app/Contents/Resources/"

commit 9ce449e6cd7baf1bf0a1e033f1bd1b93d124e5a8
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sun Aug 25 11:20:14 2013 -0400

    update xcode projects with filesystem API bits. (missing tests and missing from files from some targets)

commit 64e6eeac7f4804e0b9de93827a049bf7cf4bfcec
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sun Aug 25 11:48:49 2013 -0300

    Fixes "error: conflicting types for 'GLintptr'"

commit c9c6852f84530522e6181761dd021093d180255d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 24 21:15:10 2013 -0400

    Minor FreeBSD code cleanup.

commit 5f45f4224f0cf13db9c05c68410b92e79f34460d
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Aug 24 09:43:14 2013 -0400

    make the examples in the doc comments match the actual output of the SDL_GetPrefPath function

commit e5b65e4e037c3839487cab56dd4b176e5e358887
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Aug 24 09:05:18 2013 -0400

    Fix #2062 Be more diligent about validating trailing "/" existence in HOME and XDG_DATA_HOME env vars

commit 58a558e326f50135cb303af2d8de5eaf42760212
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 23 23:34:23 2013 -0400

    Patched to compile on Solaris.

commit 88cd94a0ebe649e0b8d50be952e6330dc6071570
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 23 21:48:40 2013 -0400

    Patched to compile on FreeBSD.

commit 97948aef666fa0237217b9fdc7bcc1fa072e606c
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 23 21:38:54 2013 -0400

    Add support for some BSDs and Solaris to SDL_GetBasePath().

commit f60bcf8b50ffbdaeb52d389c8c7ab23139e91641
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Aug 22 17:26:22 2013 -0300

    Fix warning in GL ES2 renderer

commit 1c6d55767cb4eba93483d59f4fa60edf2ec2870f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Aug 22 14:56:07 2013 -0300

    Separate EGL / GL ES detection in CMake

commit faf760d203d865700e503d5a5bff73620518ada9
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 22 13:32:27 2013 -0400

    XAudio2/DirectSound: Use the usual Windows string convert (thanks, Norfanin!).

commit f77c2372e00d52afd946d7b24b5b7f586c71cb83
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Aug 22 13:00:05 2013 -0400

    Added SDL_VIDEO_OPENGL_ES2 to the SDL_config.h templates (Thanks, Kerim!).

commit cc122ce520c023acc33d85f1c898dcf0ec330a41
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Aug 22 10:22:22 2013 -0300

    Fixes #2036 and #2038, bypass camera zoom and shutter keypresses on Android.

commit cd27a1ef05b92e6ccd70b914d71be23fd938b684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 21 12:12:04 2013 -0700

    Fixed compiling on old versions of the DirectX SDK

commit 9faefccd48bc37492c146c8f521c8a08de1b05c9
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 21 10:32:04 2013 -0700

    SDL
    - detect that you tried to open a gamecontroller in xinput mode and failed, then re-get the mapping for the dinput variant you did open (and most likely now just fail the open)
    
    CR: SamL

commit 05d8c2dcd2d54bc6fb67dd53a4e69a3787dfd15c
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 21 10:31:44 2013 -0700

    Fix SDL xinput code to work at all when xinput has devices at high indexes but no device connected at lower index, for instance 0->disconnected, 1->wireles, 2->wired.  Previously the SDL code assumed the indexes were always used up in order which is not true at all and lead to a bunch of failure cases where controllers would go unrecognized.
    
    This entire function is kind of a mess and more complicated than needed, but I don't want to refactor it too heavily tonight.  May look at improving how the indexes are assigned more significanly later.  The way it handles not finding a valid "gamepad" type device is also super broken, it leaves in place the xinput bindings but opens the controller with dinput and ends up with completely wrong mappings, not solving that now, but fixing the bug where we'd very frequently not find a controller due to gaps in assigned player numbers should mostly avoid it.

commit 3d217ed7b5c1e6f8401d302c7b2d60e4d4c3ddbb
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Aug 21 10:07:48 2013 -0700

    Fixed crash if the IC isn't set up for some reason (bad X11 locale?)

commit 6107705a40940e9050c13a6082abc94bde202c72
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 10:34:32 2013 -0300

    Fix a couple of warnings

commit 5f8de2b9364e6db5ad76dfbee1e689c2e56f3621
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 10:27:39 2013 -0300

    Patched to compile on Darwin

commit 29dfdd1edcb82dc75018cd43d17609b6fcd008e9
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 10:13:12 2013 -0300

    More fixes for -Wdeclaration-after-statement

commit 2490166d2df840dd187b22ff324d6b911b4a5228
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 10:12:16 2013 -0300

    Fixes for -Wdeclaration-after-statement

commit 1e49b1ed6efaf2099378653369874d1428bddd1a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 09:47:10 2013 -0300

    OCD fixes: Adds a space after /* (glory to regular expressions!)

commit 695344d16399dc5e8e653ce818e7de10a845b944
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Wed Aug 21 09:43:09 2013 -0300

    OCD fixes: Adds a space before */

commit 3984c7d8e377cbd000fe1fdb166ed043ba1cda62
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 23:20:32 2013 -0400

    Actually, this should be a memcpy().
    
    We already know the exact length we just allocated, and we plan to append
     our own null terminator to the end of the copy, so this makes more sense.

commit 38dc821b0a8c159f19ef29b1791606c250f081e2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 21:29:40 2013 -0400

    Added filesystem code to Mac and iOS Xcode projects.

commit 9ff379ba67cdc69e30840988802d3e06bc225540
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 21:21:57 2013 -0400

    Patched to compile on iOS.

commit fb7a02912af626cefb8047967df8ef390bc70754
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:39:22 2013 -0400

    More Haiku fixes.

commit 24006be2887afc8f9bb02dd95cafb779412738a2
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:31:57 2013 -0400

    Fixed compiler warning.

commit ad8aa33bce3fb8d919fb8c4095aaab84fb9b925f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:29:30 2013 -0400

    More Windows fixes for filesystem code.

commit 13e67150b904f9641bce933bc4fb5bc37f59d582
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:27:42 2013 -0400

    Regenerate configure script.

commit 06f6a59212445b96e61c9e3308548628c65a2f44
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:16:15 2013 -0400

    Corrected Haiku build.

commit c9152adcb0a1a3a88b8d72ba2b62ebd093b3b889
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 20:15:15 2013 -0400

    Patched new filesystem code to compile.

commit 2dd7091e505b44f7fde1a38ef4418d22bc79d001
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 19:57:11 2013 -0400

    Added SDL_GetBasePath() and SDL_GetPrefPath() in new filesystem module.

commit 6344736696427ee86d3f56fb1a400aad9bf3927a
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 15:28:14 2013 -0400

    Fixed cut-and-paste error.

commit abbaa90dd6f21403be5f556c8cf117ebe4c45f26
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 14:21:35 2013 -0400

    Added SDL_DEPRECATED #define.

commit 094a72b8f78b27ea7f9a93a54552fbe7e435c64f
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 14:17:48 2013 -0400

    Added SDL_assert_always (never disabled).

commit 552b04c58aaab3a24013786f1dc3db933d040431
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Aug 20 20:34:40 2013 -0300

    More non C89 compliant comments

commit 63fe3a7753e0ba5f0c131e1f040bde4bdf2525e8
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue Aug 20 19:49:24 2013 -0300

    Fixes a few non C89 compliant comments

commit d8f66188d179215f555e0dcc5bddf67c1c09ad0a
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Tue Aug 20 15:56:08 2013 -0400

    add missing SDL_bits.h from OS X framework
    
    - also add in headers to static and shared targets  (for completeness)

commit e43ff8fb59cdce46b79842a7edd47603b8ccad44
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Aug 20 12:43:06 2013 -0400

    Added some FIXMEs for later.

commit 0eeb76d869dcd829cf86dc4c062e6fa82f056bae
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Aug 19 16:29:46 2013 -0300

    Fixes bug #2037, common EGL code for Android and X11

commit b44267693d19ee9764badbcac26f94d84343143b
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Mon Aug 19 11:02:44 2013 -0400

    Fixed leaking of pixel shader object in D3D renderer (thanks, Peter!).
    
    Fixes Bugzilla #2047.

commit 0ca506611c161bf42ecfa6dc09c25479534230b4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 18 23:18:11 2013 -0700

    Fixed warnings building with gcc 2 and gcc 4 on Haiku

commit c2a29aede9b820ffedc88e354e38627827f25746
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sun Aug 18 22:05:53 2013 -0700

    Fixed Haiku build (thanks Alexander!)

commit a46437f798d1a2eb4159a5fba201e1669b6ff619
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Aug 18 11:15:30 2013 +0200

    Replaced introduction in header file with more recent version from README.txt.

commit ad608e2dc391e7d0fbe30697cd51debe9d091636
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Aug 18 11:12:46 2013 +0200

    Corrected file names in header file comments.

commit 8cf730554b77ce4f91eee14f60c5fcfaaca4f845
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun Aug 18 11:08:52 2013 +0200

    Changed some documentation comments in header files to be used by doxygen.

commit 7e3b7dbcb6237e9a7502e5ddd3146b4100845827
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Aug 17 20:46:34 2013 -0400

    Patched to compile with Visual Studio.

commit 1455a94714735595ed27a79ec484583869577de8
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 17 17:14:15 2013 -0700

    Fixed Windows build

commit d7817f424b59003f8c768a8c3c6f3913021c1f5e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 17 17:04:14 2013 -0700

    Fixed for consistency with the other platforms

commit e187810ecaa9c5d6a461ab3b6dbe2321ca9ffd8e
Author: Edward Rudd <urkle@outoforder.cc>
Date:   Sat Aug 17 18:07:29 2013 -0400

    auto init the ticks if the GetTicks and the like methods are called before SDL_Init().. This prevents annoying game bugs such as caching SDL_GetPerformanceFrequency in a static initializer

commit 6995ff18d3bcc3fb5c90916a0b9eb5eb51360684
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Aug 17 09:54:30 2013 -0700

    Do full state initialization in D3D_Reset(), this fixes blend mode issues when resizing the window on Windows 8.

commit 9ab14aa554b7cff40d2a60cf7d05677ce76529b1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 16 17:50:44 2013 -0700

    Fixed windows build

commit ff77ca8d0b2ead8729b8463c335394a28dfc2806
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 16 15:38:06 2013 -0700

    The keyboard text events should be sent after the key down events

commit b4b12d950e67dbfbd148ebcdd891ffb2f9b4b1f5
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 16 15:35:10 2013 -0700

    Fixed bug 1876 - SDL_TEXTINPUT only returns '?' (0x3F) in event.text.text with Khmer language input
    
    Andreas
    
    The issue comes down to this line on MSDN:
    "TranslateMessage produces WM_CHAR messages only for keys that are mapped to ASCII characters by the keyboard driver."
    
    "WM_KEYDOWN and WM_KEYUP combinations produce a WM_CHAR or WM_DEADCHAR message. WM_SYSKEYDOWN and WM_SYSKEYUP combinations produce a WM_SYSCHAR or WM_SYSDEADCHAR message."
    Except for WM_CHAR, none of these messages are used in SDL. Hence TranslateMessage should be dropped entirely and proper handling be included in the WM_KEYDOWN event.
    Currently TranslateMessage is called for every message even if it must not be called in certain cases (like "An application should not call TranslateMessage if the TranslateAccelerator function returns a nonzero value.").
    
    WM_CHAR message handling should remain for external processes posting these messages - additionally, WM_UNICHAR should be added.
    
    I made a patch for src/video/windows/SDL_windowsevents.c that seems to work fine. It doesn't solve the "missing" composition for Khmer, but at least input for languages that cannot be mapped to ASCII characters (and for which IME is not used) will now work on Windows.

commit bb2671b7e798c63a0f8ec97605f01f9a6e05a458
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Aug 16 14:38:04 2013 -0300

    Android quirk:Some devices don't report GL_OES_framebuffer_object but support it

commit 4cb0ead795745a7c49685aef955314d4fc8a679e
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Fri Aug 16 12:51:29 2013 -0400

    Patched to compile.

commit 02868b6903562b4b4b4b55521bcf6bcffea04a83
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Fri Aug 16 13:37:27 2013 -0300

    [Bug 2042] OpenGL ES renderer tries to load OES functions unconditionally
    
    Also, fail more gracefully when creating texture to avoid double free errors.

commit 76b7b1e96c73a23127ed76ae1562d39a7f141999
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 16 09:20:33 2013 -0700

    Fixed alpha composition when destination alpha is transparent.
    
    Jianyu Guan
    
    I found I make a big mistake that when dstA==0, I just simply let *dstp=*srcp and forgot to make dstRGB = srcRGB*srcA.
    
    The if consition "(*dstp & amask) == 0" in BlitRGBtoRGBPixelAlphaMMX and BlitRGBtoRGBPixelAlphaMMX3dNow should be removed.

commit 89bc80f1ae5bd99db448eccbc19ba2981722da1f
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Aug 16 06:59:19 2013 -0700

    Fixed alpha blending for the MMX blit functions
    
    I see the Remarks of function SDL_BlitSurface shows that "when SDL_BLENDMODE_BLEND, we have dstA = srcA + (dstA * (1-srcA))". however, I tested some pictures but the result implies "dstA=arcA" actually. I stepped into the source code, and found after I set SDL_BLENDMODE_BLEND for the source surface, the final blit function is BlitRGBtoRGBPixelAlphaMMX when I use SDL_BlitSurface on my computer. And I found these codes:
    
        else if (alpha == amask) {
        /* opaque alpha -- copy RGB, keep dst alpha */
        *dstp = (*srcp & chanmask) | (*dstp & ~chanmask);
    
    The same code is used in BlitRGBtoRGBPixelAlphaMMX3DNOW and BlitRGBtoRGBPixelAlpha. So I think they still keep dst alpha.
    
    Best regards,
    Jianyu Guan

commit 65728477afc7883959afe23c7651b0fdc3e67763
Author: Andreas Schiffler <aschiffler@ferzkopp.net>
Date:   Wed Aug 14 23:30:10 2013 -0700

    Fix bug 2034: replace printf by SDL_Log in tests; update loopwave VS solution: copy missing dependency

commit 67367be0197e9a398ab4ee50afdb155f43bd1c62
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 12 22:00:21 2013 -0700

    Don't print "unrecognized key" message for an X11 keycode of 0.  This can happen with composed characters.

commit 5d1865c245e53f8b905b5f01206585b28b18056b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 12 19:18:48 2013 -0700

    Fixed the tag name for the SDL 2.0 release

commit 14bf230d76a1eae6b6ea54a938a991a9f2632750
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Mon Aug 12 11:09:13 2013 -0700

    Mac: Fix restoring of Cmd-H-hidden fullscreen desktop windows.
    
    This should fix http://bugzilla.libsdl.org/show_bug.cgi?id=1996

commit a84a97fe851bc2d43c357cf79c11a5de074057f1
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 12 08:45:37 2013 -0700

    Added Julian Winter to the credits for the SDL 2.0 website.

commit 03477ef6e3270e5d2eed541cf72be32af8e6ae9e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Mon Aug 12 08:40:49 2013 -0700

    Added tag release_2.0.0 for changeset d4ce48ff30d1

commit dad420670fd8e7aa52088a045e5ba8c711b26f6f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Mon Aug 12 11:13:50 2013 -0300

    Fixes #2022, do not resume on Android when surfaceChanged
    
    If the app is in landscape mode and the user presses the power button, a pause
    is followed immediately by a surfaceChanged event because the lock screen
    is shown in portrait mode. This triggers a "false" resume.
    So, we just pause and resume following the onWindowFocusChanged events.
    
    Also, wait for SDL_APP_WILLENTERBACKGROUND and SDL_APP_DIDENTERBACKGROUND before
    blocking the event pump.

commit e14e0ef9479e5e8eabbbcdf85c7643ab68ddf5c3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Jan 1 04:04:21 1970 +0000

    Fixed crash if the OpenGL library hasn't been loaded yet

commit d12d7952f1fa4e511275b6b70c0d25fa0efd50ff
Author: Yuri Kunde Schlesner <yuriks@yuriks.net>
Date:   Sat May 10 21:48:46 2014 -0300

    Align pointer in SDL_memset before doing Uint32 loop
    
    Some more recent compilers emit SSE aligned store instructions for the loop,
    causing crashes if the destination buffer isn't aligned on a 32-bit boundary.
    This would also crash on platforms like ARM that require aligned stores.
    
    This fixes a crash inside SDL_FillRect that happens with the official x64 mingw
    build.

commit 9bc47465ca794b6db00de2a01c7caf566baadb87
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 18 21:11:30 2014 +0200

    Changed C++ style comments.

commit f5c77149bf691cfc0d4a4b30c077671cf8ec023c
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 18 21:05:39 2014 +0200

    Fixed typo in header comment.

commit ca11d7c8b59d00a6c28747aa2e313af6936c8dda
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 17 22:02:25 2014 +0200

    Changed C++ style comments to fix pedantic warnings.

commit 0d196c3099c9084d3c9fdca5cd52c1eb854e1efe
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat May 17 21:52:05 2014 +0200

    Removed unused standard library includes from gesture source.

commit 660a57f906afa3e19f3610ea1f3651d2e20be6fc
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Tue May 13 19:42:40 2014 -0300

    Fixes #2541, build failure with Wayland enabled, OpenGL ES disabled
    
    Also includes an attempt at fixing building SDL on Ubuntu 13.10, which hopefully
    won't break 14.04

commit e772f0df2b13b48b6807d672dfb177482e96b2dd
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 13 12:10:37 2014 -0700

    Added a binding for the NVIDIA Shield controller

commit 67350973320690486971fe46d6fdd6f4139d30bc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Tue May 13 11:32:36 2014 -0700

    Updated coding style to match the rest of SDL

commit 81c574b8cb16064c52613ef380926224a132f58d
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sun May 11 15:59:22 2014 +0200

    Fixed typo in header comment.

commit 49cef77e316937a650353b8cd865637e5245d613
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat May 10 23:39:54 2014 -0400

    WinRT: fixed the max-button count for WinPhone 8.1 message boxes
    
    Doh.
    
    The max button count on WinPhone 8.1 was set to three, not two.  Any more than
    two leads to a crash.

commit ea99e0c03eeb89825f7e42922429a4abeeb654ed
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat May 10 23:28:53 2014 -0400

    Added limited message-box support for Windows Phone 8.1
    
    The Windows Phone 8.1 'MessageDialog' API only seems to support two buttons,
    despite the documentation for such mentioning support for three.  Trying to use
    three or more buttons leads to an exception being thrown.  As such, any attempt
    to use more than two buttons via SDL_ShowMessageBox (on Windows Phone 8.1) will
    lead to no message box getting shown, and the call returning an error.
    
    The Win32 MessageBox and dialog APIs are not available in WinRT apps, to note.
    
    More extensive message dialog support might be available at some point, if and
    when XAML support is more fully fleshed-out.  I'm not certain of this, though.

commit d5a2e55d48bb79f390988589b252ab4a91658e55
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 18:24:39 2014 -0300

    Improve handling of focus behaviour on Android. Patch by Alexey Petruchik

commit b701175ab50cc991484d34fb12eeea7e680eed87
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 17:00:37 2014 -0300

    Include gl2platform.h in SDL_opengles2.h so we play nice with GLEW.
    
    Based on feedback from Sven Bergstr?m

commit de0d349e68c2c2419cfcbb131c4ef17fc98a7a0e
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 16:50:05 2014 -0300

    Fixes #2512, handle configuration change messages sent by Wayland. Patch by Bryan Cain.

commit d57d99a108064fbda38ecdfd6a3ea1de3dc8c9f3
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 10 12:34:16 2014 -0700

    Updated iOS deployment target to iOS 5.1

commit fb389950a7596f539a768239494df75d92fc637f
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 16:23:06 2014 -0300

    Fixes #2529, guard SDL_d3math.* with the proper defines

commit 536dd01307985bf992f552aa6e526242d249e862
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 16:13:22 2014 -0300

    Fixes #2519, clear error if using the default library path for EGL succeeds.

commit f565d81af740f34cc14fd3c70bf93abf6d8bb23a
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Sat May 10 15:57:09 2014 -0300

    A few more ANDROID for __ANDROID__ replacements

commit 548a0ee7b82d308519d56cbccb2f394ffac66a50
Author: Dimitris Zenios <dimitris.zenios@gmail.com>
Date:   Mon May 5 22:21:26 2014 +0300

    __ANDROID__ is the correct macro to check for an android system.ANDROID is only defined in NDK build system (.mk) and not in the standalone NDK.

commit 3672aeb497ba5f79d10db252ec3e1fe30d756b13
Author: Dimitris Zenios <dimitris.zenios@gmail.com>
Date:   Mon May 5 22:26:21 2014 +0300

    Export android jni functions even when build with -fvisibility=hidden flag

commit fd2d26ebbef1f325214ec2b688c705519d61adce
Author: Dimitris Zenios <dimitris.zenios@gmail.com>
Date:   Mon May 5 22:36:47 2014 +0300

    Show  android video or android audio if detected in autotools summary.

commit 1a4c0dacbcaae7f7aa462cb23296c2e8d6f88efc
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat May 10 11:27:43 2014 -0700

    Temporary fix for bug 2494 - Crashes due to the non thread-safe SDL_malloc/SDL_free on Windows
    
    We'll define USE_LOCKS as a temporary fix until an alternative like ptmalloc, jemalloc, or nedmalloc can be investigated.
    http://www.malloc.de/en/
    http://www.canonware.com/jemalloc/
    http://www.nedprod.com/programs/portable/nedmalloc/
    
    SDL allocates memory very infrequently, so this is probably a decent fix for a while.

commit 164e5b89d59468fae97b9b00586e002de097b606
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri May 9 21:28:52 2014 -0400

    WinRT: display-information code cleanups

commit d4f1d2257eb1c6e8249af7ff7cf2ce7181e9c115
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri May 9 20:32:06 2014 -0400

    Fixed bug: touch input on WinPhone 8.0 was wrong, in some cases
    
    When a Windows Phone 8.0 app was rotated to anything but Portrait mode, touch
    input coordinates, as well as virtual mouse coordinates, were usually getting
    reported as coming from the wrong part of the screen.

commit 0a879d63bddc6d58bbeb7bf7d377f9d36b335a01
Author: David Ludwig <dludwig@pobox.com>
Date:   Fri May 9 20:16:21 2014 -0400

    Fixed rendering-alignment issues on WinPhone 8.1, when the device was rotated
    
    If a Windows Phone 8.1 device was rotated to anything but Portrait mode,
    the Direct3D 11 renderer's output wouldn't get aligned correctly with the
    screen.

commit 33f81a0da5cd18a1b010ee3ee3d85997b26f9ee7
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue May 6 20:31:10 2014 -0400

    WinRT: made Win[Phone] 8.1 projects be structured like their 8.0 counterparts
    
    This change removes the "Shared" component from the Windows 8.1 and Windows
    Phone 8.1 project files, then renames the projects to use a file structure
    that's the same as  used for the Windows 8.0 and Windows Phone 8.0 projects.
    
    This change now places WinRT projects in the following directories:
    
    VisualC-WinRT\WinRT81_VS2013\ -- Windows 8.1 project files
    VisualC-WinRT\WinPhone81_VS2013\ -- Windows Phone 8.1 project files (NEW, as of this change)
    VisualC-WinRT\WinRT80_VS2012\ -- Windows 8.0 project files
    VisualC-WinRT\WinPhone80_VS2012\ -- Windows Phone 8.0 project files
    
    Windows 8.0 and Windows Phone 8.0 projects, as well as apps or libs that
    reference these, should be unaffected by this change.
    
    Windows 8.1 and Windows Phone 8.1 based apps or libs that reference SDL's
    projects directly will need to have their old references removed, then
    replaced with new ones that point to the updated structure.

commit b6148092037f88032a2ca4f4fb155d2483ebaa84
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Tue May 6 15:08:43 2014 -0700

    eglGetProcAddress fails the same way on MIR as ANDROID does on arm. Thanks Sylvain Becker for the patch!

commit e7bccd1640ab94506ebbbb9992df5662be83ff6d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 6 00:20:34 2014 -0400

    Update the machine-generated configure code.

commit 2a7aa9bde8e7607f953aba6ddf6ab3af44bed7d0
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue May 6 00:13:07 2014 -0400

    Fix build on Windows targets without dxgi.h, like MingW32.

commit 7528f94ca5b857811def86acaa58d6b07c703e00
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri May 2 12:39:26 2014 -0700

    Remove code that found its way back into the diff

commit 44a0f1d9cd219ee9e0cf7292f07b6ef311a322fc
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Fri May 2 12:33:19 2014 -0700

    Fix software rendering in the mir backend. The window assumed hardware buffer, which caused testdrawchessboard to fail to mmap a buffer.

commit ec5f6ad5955c413c0fb42dc2c6d4ecaaff49db23
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Apr 30 21:12:47 2014 -0400

    WinRT: suppressed an unused param warning when building for Windows Phone 8.1

commit c5c1a2c65aba4579e33c2619b24e9c8f648b6323
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Apr 30 21:07:30 2014 -0400

    WinRT: preliminary support for building against the Windows Phone 8.1 SDK
    
    This is a step towards supporting "Universal" Windows apps, when building for
    Windows Phone.  SDL can now build against the Windows Phone 8.1 SDK, and apps
    linked to it can run, however further work and testing is required as some
    previously Phone-only code appears to no longer be applicable for
    Windows Phone 8.1.  The Windows 8.1 code paths does seem to be preferable, but
    should probably be tested and updated on a finer-grained basis.
    
    If in doubt, use the Windows Phone 8.0 projects for now, as located in
    VisualC-WinRT/WinPhone80_VS2012/
    
    TODO:
    - look at any Windows Phone specific code paths in SDL, and see if Phone 8.1
    should use the Windows Phone code path(s), or the Windows 8.x or 8.1 paths

commit c10afa4816fb7b3f6712badc4ccef871525939ea
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Apr 29 19:22:48 2014 -0400

    Fixed a linker error when building SDL/WinRT
    
    The Win32 APIs, VerifyVersionInfoW and VerSetConditionMask, are not currently
    available for use in WinRT apps.  This change primarily #if[n]defs-out some
    calls to them.

commit 366967775b3975773b45ccfc8ca5681e10f49843
Author: David Ludwig <dludwig@pobox.com>
Date:   Tue Apr 29 19:06:00 2014 -0400

    WinRT: added project files for Windows 8.1 + MSVC 2013
    
    This commit also includes some base-level support for Universal apps.
    
    TODO:
    - add support for Windows Phone 8.1
    - add support for satellite libs: SDL_image, SDL_ttf, and SDL_mixer

commit cb403ab66034cc6c638f24b8ddbd293af07b68ff
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Tue Apr 29 12:00:28 2014 -0400

    Removed comma at end of enum in a public header, to make -Wpedantic happy.

commit 2c784e3639c07f2d01f951cc793e9ad2736fa4c8
Author: Steven Stewart-Gallus <sstewartgallus00@mylangara.bc.ca>
Date:   Sat Apr 19 16:33:42 2014 -0700

    Set the tag type in libtool invocations
    
    Setting the tag type will let libtool work even when it cannot infer
    the type of the code being built. One way libtool may fail to infer
    the tag type is if one uses a mock compiler (such as for static
    analysis).

commit bd6a493697a79c5d0d65719c78490b5ff4f91e69
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 26 12:38:35 2014 -0700

    Fixed bug 2508 - don't redefine WIN32_LEAN_AND_MEAN

commit d9ffe549e2778ffb469419f15b06894ca68e9700
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 26 12:29:40 2014 -0700

    Fixed the inertia effect in the test program

commit d2fb8a2a91df0d558d020df75d678e13ae29e304
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 26 11:23:55 2014 -0700

    Better compiler for Windows XP systems

commit 5d7562c7e26b0970c2db38cbda69b96526115612
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Thu Apr 24 23:24:48 2014 -0400

    Mac OS X: Look for joystick hotplug in its own CFRunLoop.
    
    This allows the joystick hotplug to function without the main event loop
     (specifically: without SDL_INIT_VIDEO), and moves explicit polling for
     joysticks where it belongs at the low-level: in SDL_SYS_JoystickDetect().
    
    This lets apps call SDL_JoystickUpdate() to get hotplug events and keep
     SDL_NumJoysticks() correct, as expected. As SDL_PumpEvents() (and
     SDL_PollEvents, etc) calls SDL_JoystickUpdate(), existing apps will function
     as before.
    
    Thanks to "raskie" on the forums for pointing this out!

commit 8b280091058a348e4e94213a4d864267fb740f11
Author: J?rgen P. Tjern? <jorgenpt@gmail.com>
Date:   Thu Apr 24 21:05:51 2014 -0700

    Mac: Correct the y-axis position after 870c7d21004b
    
    This fixes a bug where we'd offset positions by the height of the dock, if it
    was along the bottom of the screen.
    
    Fixes https://bugzilla.libsdl.org/show_bug.cgi?id=2509
    Thanks to Alex Szpakowski for bug & patch.

commit dfea14d92dec9d836e6ca1da8841458a47837f31
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:54:47 2014 -0700

    Fixed cygwin build

commit 45dc89c2c2093b22f3c4876f73de1a78717b6b94
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:48:01 2014 -0700

    Fixed detecting output on second adapter
    
    CR: Sam Lantinga

commit 3e3570dff73a7d465a27f4c433621c84e4bb4e43
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:47:57 2014 -0700

    Don't crash in WIN_GL_InitExtensions() if the OpenGL library couldn't be loaded

commit a5ce57bc3d4b8ba99bef7e5d7c3f185a124c874a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:47:52 2014 -0700

    Fixed compiler warning

commit acbc321c2acbc4282da6c3dc9cc61a9377f74d07
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:47:42 2014 -0700

    Don't try to load d3dcompiler_46.dll on Windows XP

commit af395e970e087209028f8a9b455cd364ecb8db6d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Wed Apr 23 13:47:35 2014 -0700

    Removed possible implicit memset()

commit ae2a50fc8fe45b2515bfcd7b84fe27e2a9dab247
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Mon Apr 21 12:42:25 2014 -0700

    Revert MIR_CFLAGS to SDL_CFLAGS. Use forward declaration for the real fix. (We shouldn't expose mir headers!)

commit beff5cece6961fa47a8cd7f49607ea15d3cee301
Author: J?rgen P. Tjern? <jorgenpt@gmail.com>
Date:   Sat Apr 19 13:15:53 2014 -0700

    Mac: SDL_SetWindowPosition is now relative to the menubar.
    
    It used to be that SDL_SetWindowPosition was relative to the top of the screen,
    which didn't make sense. In addition, borderless windows can be positioned
    *below* the menubar, so SDL_SetWindowPosition(win, 0, 0) on a borderless window
    would hide ~30ish pixels of the window below the menubar.

commit defd90b6f62235f1fa8d30a73f7a7c427ba216d5
Author: J?rgen P. Tjern? <jorgenpt@gmail.com>
Date:   Sat Apr 19 13:15:41 2014 -0700

    Render: Allow empty cliprect.
    
    This fixes an issue where an empty cliprect is treated the same as a NULL
    cliprect, causing the render backends to disable clipping.
    
    Also adds a new API, SDL_RenderIsClipEnabled(render) that allows you to
    differentiate between:
     - SDL_RenderSetClipRect(render, NULL)
     - SDL_Rect r = {0,0,0,0}; SDL_RenderSetClipRect(render, &r);
    
    Fixes https://bugzilla.libsdl.org/show_bug.cgi?id=2504

commit 36e11d87c8d4a47e1a9cb068315052f5d376f0ad
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Sat Apr 19 10:17:36 2014 -0700

    Fixed missing j

commit 0ba3a54ac38b9d9dd1259c0a15e62c6a725d1e8c
Author: David Ludwig <dludwig@pobox.com>
Date:   Sat Apr 19 12:48:45 2014 -0400

    Cleaned up and rearranged WinRT project file structure.
    
    All WinRT projects have been merged into a single directory, "VisualC-WinRT",
    with platform-specific variants in subdirectories off of it.  This structure
    has been applied to a few major SDL satellite libraries as well (SDL_image,
    SDL_mixer, and SDL_ttf).
    
    Currently, only Windows 8.0/RT and Windows Phone 8.0 targets are supported.
    Windows 8.1/RT/Phone targets are planned.
    
    Projects that use SDL_image/WinRT, and link to it via Visual Studio's
    project-to-project reference system, will need to be updated, to reflect the
    changes in the project structure.  This can be done by:
    1. removing the MSVC project(s) for SDL/WinRT
    2. re-added the MSVC project(s) for SDL/WinRT
    3. right-clicking on the app, or projects that use those libraries, choosing
    References, removing the references to any of these projects (they'll likely
    be highlighted with an exclamation mark), then re-adding them
    
    To note, the satellite libraries that reference SDL/WinRT have been updated
    already.  The changes for those libraries will be pushed to hg.libsdl.org
    shortly.
    
    TODO:
    - add support for Windows 8.1 and Windows Phone 8.1 targets, using
    Microsoft's new "Universal" app support, if possible.  These will be added to
    a new subdirectory, or subdirectories (if more than one sets of projects are
    needed, hopefully not), of "VisualC-WinRT".
    - investigate NuGet support, which could allow Visual C++ to download
    new copies of SDL/WinRT, its satellite libraries, and their dependencies,
    from remote servers.

commit 65c82148e05727825d43c627a8f77750bbe068df
Author: Philipp Wiesemann <philipp.wiesemann@arcor.de>
Date:   Sat Apr 19 15:28:13 2014 +0200

    Removed global variable from test program.

commit 2540214e0677864130adb68f4c6b6c4542d6d7a4
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Sat Apr 19 00:31:02 2014 -0700

    Mir 14.04 headers available that allow scroll + touch events.

commit dd27ebed6f1a484dd914aaf7efb9d83e7d3cb7ec
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 19 02:26:12 2014 -0400

    Turn off Wayland support for Raspberry Pi on the buildbot.
    
    It's picking up the system headers instead of the RPi build files.
    
    Theoretically, we _can_ support Wayland on this platform, though, as there
     _is_ a Raspberry Pi port out there...

commit 60e0504077c1e0d7b49ce1ef554703867b0107d5
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 19 02:17:34 2014 -0400

    Fixed some issues reported on new Ubuntu 14.04 buildbots.

commit d2ea7cfea4881894c49a7c874eeca15b9eea825b
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 18 12:43:10 2014 -0700

    Fixed logic error loading DXGI

commit 03afd0de4090b8fe5839a84650a273febfe61eb2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Fri Apr 18 12:43:04 2014 -0700

    SDL_DXGIGetOutputInfo() checks input parameters and returns a boolean value whether or not it succeeded.

commit fc9e3a69b771b909678c0210a9b54a0d3b00e545
Author: J?rgen P. Tjern? <jorgen@valvesoftware.com>
Date:   Tue Apr 15 13:53:07 2014 -0700

    Mac: Don't prompt to reopen windows after crash.
    
    We don't support state serialization / resume, so disable the prompt
    that pops up asking if you want to reopen the windows.

commit 353feb5c7611e5d2592f20716172475239922190
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 22:40:57 2014 -0700

    Fixed bug 2475 - Incorrect SDL_Log() format specifiers in test/testgesture.c
    
    rettichschnidi
    
    The floats should not be interpreted as integers. Patch against the current head attached.

commit 43c991969ec5989ec093c07b487eb8fea2854be0
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 22:23:32 2014 -0700

    Fixed bug 2489 - SDL2.framework references __Block_copy in /usr/lib/libSystem.B.dylib, but this symbol cannot be found on OSX-10.5
    
    Thomas Schatz
    
    The dynamic library (extracted from SDL2-2.0.3.dmg and put in /Library/Frameworks/) references the __Block_copy symbol in /usr/lib/libSystem.B.dylib, which cannot be found:
    
    dlopen(/Library/Frameworks/SDL2.framework/SDL2, 6): Symbol not found: __Block_copy
      Referenced from: /Library/Frameworks/SDL2.framework/SDL2
      Expected in: /usr/lib/libSystem.B.dylib
    
    From what I could gather __Block_copy seems to be related to the blocks extension to the C programming language introduced by Apple since OSX-10.6 (see: http://thirdcog.eu/pwcblocks/). If this is indeed the case, I don't think the SDL2-2.0.3.dmg on the website is at all compatible with OSX-10.5 countrary to what is announced.

commit 9eccde51c348efe525a8b763761afee9b8a1ecb8
Author: Dimitris Zenios <dimitris.zenios@gmail.com>
Date:   Sun Apr 6 00:30:48 2014 +0300

    Enable building of Android libraries using a standalone NDK

commit 6dd9ea8d370c8dcfb7ccfb3071f521bdf80c9e6d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 21:00:25 2014 -0700

    Fixed bug 2496 - mouse left button double click event issue
    
    cplu
    
    When I double click on a window, the "clicks" field (newly added since 2.0.2) in SDL_MouseButtonEvent is 1 instead of 2.
    However, when I "tripple" click, "clicks" field is then 2.
    I'v look into the source code in SDL_windowsevents.c and found that when a double click event comes, WIN_WindowProc will get a WM_LBUTTONDBLCLK msg. The message sequence of a double click is:WM_LBUTTONDOWN->WM_LBUTTONUP->WM_LBUTTONDBLCLK->WM_LBUTTONUP.

commit 929fd90e05159796b8572888d386aaf6991dde07
Author: Thomas Perl <m@thp.io>
Date:   Sat Apr 5 17:19:34 2014 +0200

    Wayland: Resize windows with 0x0 requested size to screen size
    
    This makes it in line with other platforms, where SDL_CreateWindow() with
    width=0, height=0 and SDL_WINDOW_FULLSCREEN opens a fullscreen window.

commit 5a6f4d40515aeca16e7085805486f6216b1081a4
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:51:28 2014 -0700

    Fixed bug 2485 - [PATCH] Wayland: cursor disappears permanently after window loses mouse focus
    
    Bryan Cain
    
    Using any SDL application with the Wayland backend under Weston, if the application sets a cursor with SDL_SetCursor, the cursor will work until the mouse pointer leaves the window.  When the pointer re-enters the window, there will be no cursor displayed at all.
    
    I did some digging, and the reason for this is that SDL attaches the buffer to the cursor surface only once (during cursor creation) and assumes that it will stay attached.  This is not how Wayland works, though - once the compositor is done rendering the buffer, it will release it, so it is no longer attached to the surface.  When the cursor re-enters the window a second time, SDL sets the cursor to the same surface with no buffer attached, so no cursor is displayed.
    
    This is fixed by the attached patch, which makes SDL attach the buffer to the surface when the cursor is set, not when it is created.

commit 59690a4e976c852440b940c5cf97d105b5aed926
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:21:10 2014 -0700

    Fixed bug 2482 - Wayland_CreateSystemCursor trying to load nonexistent "wait" cursor
    
    Bryan Cain
    
    Wayland_CreateSystemCursor tries to load a cursor named "wait" for two of the system cursor categories.  This causes a segmentation fault when one of these cursors is used, because "wait" is not an actual cursor name in X11/Wayland cursor themes.
    
    I can't attach my patch since I'm on a mobile right now, but I can confirm that simply replacing "wait" with "watch" for both of its uses in Wayland_CreateSystemCursor (in SDL_waylandmouse.c) fixes the bug.

commit 7ae52b1730da7f9368eb08f9f0b4564b25a3ad4d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:18:50 2014 -0700

    Fixed bug 2477 - [PATCH] Joysticks do not work on RHEL6/CentOS6 systems
    
    Ashley Whetter
    
    RHEL6 and CentOS6 systems still use an old version of udev (147). It wasn't until udev 148 (Yep. 1 version off!) that the input class system changed from "ID_CLASS" to "ID_INPUT_{JOYSTICK,KEYBOARD,MOUSE,etc}" (http://lwn.net/Articles/364728/). Because SDL2 looks for the ID_INPUT_X field this means that it never detects any input devices on RHEL6 systems.
    
    I've attached a patch which fixes the problem. If no input devices are detected with "ID_INPUT_X" then SDL will fallback to looking for the old style "ID_CLASS" udev field instead.
    Because of the "big change" between udev versions I doubt it'll ever get upgraded on RHEL6, but because RHEL7 is on the way I don't know if this patch is worth merging. Hopefully it'll help anyone out that's having this problem though.

commit 5439f9dd87e4d298f1c071b307d09fcbbdb7a90a
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:15:44 2014 -0700

    Fixed window losing the SDL_WINDOW_FOREIGN flag if something tries to recreate it.

commit 2dacb60bbb316ddb7163d28e0419c4ada789641e
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:06:02 2014 -0700

    Fixed bug 2086 - valgrind memory not released
    
    Sylvain
    
    Someone provided a patch for this, recently on the mailing list :
    -----
    
    Hi,
    
    it is possible to skip the bug in libX11 by using the defaults for
    XNResourceName and XNResourceClass in `XCreateIC' (the table for the
    "Input Context Values" [1] in libX11-doc shows that a default is
    provided if it is not set).
    
    diff -ur SDL2-2.0.3~/src/video/x11/SDL_x11window.c SDL2-2.0.3/src/video/x11/SDL_x11window.c
    --- SDL2-2.0.3~/src/video/x11/SDL_x11window.c   2014-04-04 17:09:40.764307181 +0200
    +++ SDL2-2.0.3/src/video/x11/SDL_x11window.c    2014-04-04 17:10:23.887765046 +0200
    @@ -239,8 +239,7 @@
             data->ic =
                 X11_XCreateIC(videodata->im, XNClientWindow, w, XNFocusWindow, w,
                            XNInputStyle, XIMPreeditNothing | XIMStatusNothing,
    -                       XNResourceName, videodata->classname, XNResourceClass,
    -                       videodata->classname, NULL);
    +                       NULL);
         }
     #endif
         data->created = created;
    
    
    Tito Latini
    
    [1] http://www.x.org/releases/X11R7.7-RC1/doc/libX11/libX11/libX11.html#Input_Context_Values

commit f6953cf4c2facd8897e0c53e969c1d0e8020bd0d
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 20:02:11 2014 -0700

    Fixed bug 2502 - Memory leak inside SDL_x11events.c -> X11_DispatchEvent(_THIS)
    
    bojko_1000
    
    Code @566:
                if (data->xwindow) {
                    Atom _net_frame_extents = X11_XInternAtom(display, "_NET_FRAME_EXTENTS", 0);
                    Atom type = None;
                    int format;
                    unsigned long nitems = 0, bytes_after;
                    unsigned char *property;
                    X11_XGetWindowProperty(display, data->xwindow,
                        _net_frame_extents, 0, 16, 0,
                        XA_CARDINAL, &type, &format,
                        &nitems, &bytes_after, &property);
    
                    if (type != None && nitems == 4)
                    {
                        border_left = ((long*)property)[0];
                        border_right = ((long*)property)[1];
                        border_top = ((long*)property)[2];
                        border_bottom = ((long*)property)[3];
                    }
                }
    
    Code after _the fix_:
                if (data->xwindow) {
                    Atom _net_frame_extents = X11_XInternAtom(display, "_NET_FRAME_EXTENTS", 0);
                    Atom type = None;
                    int format;
                    unsigned long nitems = 0, bytes_after;
                    unsigned char *property;
                    X11_XGetWindowProperty(display, data->xwindow,
                        _net_frame_extents, 0, 16, 0,
                        XA_CARDINAL, &type, &format,
                        &nitems, &bytes_after, &property);
    
                    if (type != None && nitems == 4)
                    {
                        border_left = ((long*)property)[0];
                        border_right = ((long*)property)[1];
                        border_top = ((long*)property)[2];
                        border_bottom = ((long*)property)[3];
                    }
                    X11_XFree(property);
                }
    
    I have found that leak with valgrind.

commit f4b77110d257517200cde69772fb606245c4f7c2
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 19:52:15 2014 -0700

    Fixed bug 2503 - Loop indexing and event union errors in SDL_gesture.c
    
    Lasse ??rni
    
    While enabling $1 gesture support in the Urho3D engine which uses SDL2 I detected some errors in the gesture code in SDL_gesture.c:
    
    - In the function SDL_SaveAllDollarTemplates() the following line should use index variable j instead of i:
    
        rtrn += SaveTemplate(&touch->dollarTemplate[i], dst);
    
    - In the function SDL_SaveDollarTemplate() the following code should use index variable j instead of i:
    
        if (touch->dollarTemplate[i].hash == gestureId) {
            return SaveTemplate(&touch->dollarTemplate[i], dst);
    
    - In the function SDL_SendGestureDollar() the x & y coordinates are being written to the mgesture structure, which results in garbage due to dgesture and mgesture being different data structures inside the union. The coordinates should be written to dgesture.x & dgesture.y respectively

commit 3d5a24b9cab30d47b6505eb52c54a01a10bd1f60
Author: Sam Lantinga <slouken@libsdl.org>
Date:   Thu Apr 17 17:24:27 2014 -0700

    Updated configure with Brandon Schaefer's changes

commit fc9491ddce5829e62b0c36bf8d565c238e5578d2
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Apr 17 14:02:21 2014 -0700

    Add DIRECTFB_CFLAGS to SDL_CFLAGS so its cflags will get added to the sdl2.pc

commit ece3143d8ff619f02d7b2f8b4c8f7c656c1c4942
Author: Brandon Schaefer <brandon.schaefer@canonical.com>
Date:   Thu Apr 17 13:58:39 2014 -0700

    Add MIR_CFLAGS to SDL_CFLAGS so these cflags are added to the sdl2.pc file.

commit 63b46d3d8836a0e88565376de22ddf1ed91faf7c
Author: David Ludwig <dludwig@pobox.com>
Date:   Thu Apr 17 12:43:51 2014 -0400

    WinRT: keyboard VirtualKey translation improvements from Sylvain Becker
    
    Changes included:
    - adding support for a few, additional, VirtualKey constants
    - removing accesses to 'windows_scancode_table', as the table's contents
    don't line up with WinRT virtual keys.  Using Windows older VK_* constants
    may, however, be a good alternative in a future update.

commit 4bb6afefa2b3bc61dc69dc295cf1c025a6b661e6
Author: Gabriel Jacobo <gabomdq@gmail.com>
Date:   Thu Apr 17 12:44:08 2014 -0300

    Comment out eglWaitGL from Android_GLES_SwapWindow
    
    Let's hope for the best! If anyone has a device affected by this removal,
    please file a bug!

commit 931cb1a4603f8bd94ff155b975c174bf7a51133d
Author: Ryan C. Gordon <icculus@icculus.org>
Date:   Sat Apr 12 17:40:55 2014 -0400

    Minor change to a README to test Mercurial server.

commit 3dcb451f85773e07bef3c5d1668c58ea6755c7f1
Author: David Ludwig <dludwig@pobox.com>
Date:   Wed Apr 9 21:29:19 2014 -0400

    Added a README file regarding WinRT support
    
    To note, this file is currently formatted with CRLF line endings, rather than
    LF, to allow the file to be viewed with Notepad.
